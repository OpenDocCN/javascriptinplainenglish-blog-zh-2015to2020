<html>
<head>
<title>How to Use Materialize CSS Modal in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中使用物化CSS模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-materialize-css-modal-in-react-53f9c85ba40d?source=collection_archive---------0-----------------------#2019-05-13">https://javascript.plainenglish.io/how-to-use-materialize-css-modal-in-react-53f9c85ba40d?source=collection_archive---------0-----------------------#2019-05-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e335f3d10cada031ed67fb777e5be9db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8kqH2lQJyluDqRa3Th8xRw.png"/></div></div></figure><p id="b86c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://reactize.herokuapp.com/modal" rel="noopener ugc nofollow" target="_blank">点击此处</a>查看我们今天将在Materialize CSS和React的帮助下构建什么。</p><p id="009f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://materializecss.com/" rel="noopener ugc nofollow" target="_blank"> Materialize </a>是一个基于Google Material设计的CSS框架。这个框架的三个主要特点是，它加快了开发过程，非常容易使用，并且主要关注用户体验。</p><p id="e405" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">React 是一个声明式的基于组件的javascript库。它在虚拟DOM上工作，只渲染被改变的部分。</p><p id="f3b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为React是基于组件的，所以它可以与物化CSS一起使用，以便创建一些好的UI组件。但随之而来的问题是，Materialize提供的Javascript组件操纵DOM，很难将这些第三方DOM库与React集成。</p><p id="4de4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，为了集成这些DOM库，必须使用React的一部分<code class="fe ku kv kw kx b">ref</code>。人们可以从这里读到参考文献。</p><p id="6ce7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">根据React文档，可以在以下情况下使用参考</p><ul class=""><li id="276d" class="ky kz in jx b jy jz kc kd kg la kk lb ko lc ks ld le lf lg bi translated">触发命令式动画</li><li id="7a04" class="ky kz in jx b jy lh kc li kg lj kk lk ko ll ks ld le lf lg bi translated">与第三方DOM库集成</li></ul><h1 id="7709" class="lm ln in bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated"><strong class="ak"> NPM </strong></h1><ol class=""><li id="deb8" class="ky kz in jx b jy mk kc ml kg mm kk mn ko mo ks mp le lf lg bi translated">借助<code class="fe ku kv kw kx b">npx</code>创建一个react app。</li></ol><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="bd55" class="my ln in kx b gy mz na l nb nc">npx create-react-app demo</span></pre><p id="97a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.安装物化CSS npm模块。</p><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="0d1b" class="my ln in kx b gy mz na l nb nc">npm install materialize-css@next</span></pre><h1 id="cfc0" class="lm ln in bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated"><strong class="ak">项目结构</strong></h1><p id="d9e9" class="pw-post-body-paragraph jv jw in jx b jy mk ka kb kc ml ke kf kg nd ki kj kk ne km kn ko nf kq kr ks ig bi translated">我们需要遵循的项目结构如下-</p><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="e8da" class="my ln in kx b gy mz na l nb nc">public/<br/>|--index.html<br/>src/<br/>|--Modal.js<br/>|--index.js<br/>--package.json</span></pre><figure class="mq mr ms mt gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="27c6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装完所有的依赖项(只有一个😛)并检查了项目结构之后，我们可以将注意力集中在本文的主要部分，即如何创建一个物化CSS组件。</p><h1 id="0149" class="lm ln in bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated"><strong class="ak"> Modal.js </strong></h1><p id="188a" class="pw-post-body-paragraph jv jw in jx b jy mk ka kb kc ml ke kf kg nd ki kj kk ne km kn ko nf kq kr ks ig bi translated">正如我们前面讨论的使用refs的地方一样，在我们的例子中，我们使用refs为这个类名为“modal”的特定div标签创建一个引用。创建引用后，我们可以在生命周期方法中使用它— <code class="fe ku kv kw kx b">componentDidMount()</code>。</p><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="7a73" class="my ln in kx b gy mz na l nb nc">&lt;div<br/>    ref={Modal =&gt; {<br/>        this.Modal = Modal;<br/>    }}<br/>    className="modal"&gt;<br/>&lt;/div&gt;</span></pre><p id="39cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">代码的另一部分几乎类似于物化文档中给出的内容</p><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="1003" class="my ln in kx b gy mz na l nb nc">import React, { Component } from "react";<br/>import M from "materialize-css";<br/>import "materialize-css/dist/css/materialize.min.css";<br/><br/>class Modal extends Component {<br/>  componentDidMount() {<br/>    const options = {<br/>      onOpenStart: () =&gt; {<br/>        console.log("Open Start");<br/>      },<br/>      onOpenEnd: () =&gt; {<br/>        console.log("Open End");<br/>      },<br/>      onCloseStart: () =&gt; {<br/>        console.log("Close Start");<br/>      },<br/>      onCloseEnd: () =&gt; {<br/>        console.log("Close End");<br/>      },<br/>      inDuration: 250,<br/>      outDuration: 250,<br/>      opacity: 0.5,<br/>      dismissible: false,<br/>      startingTop: "4%",<br/>      endingTop: "10%"<br/>    };<br/>    M.Modal.init(this.Modal, options);<br/>  }<br/><br/>  render() {<br/>    return (<br/>      &lt;&gt;<br/>        &lt;a<br/>          className="waves-effect waves-light btn modal-trigger"<br/>          data-target="modal1"<br/>        &gt;<br/>          Modal<br/>        &lt;/a&gt;<br/><br/>        &lt;div<br/>          ref={Modal =&gt; {<br/>            this.Modal = Modal;<br/>          }}<br/>          id="modal1"<br/>          className="modal"<br/>        &gt;<br/>          &lt;div className="modal-content"&gt;<br/>            &lt;h4&gt;Modal Header&lt;/h4&gt;<br/>            &lt;p&gt;A bunch of text&lt;/p&gt;<br/>          &lt;/div&gt;<br/>          &lt;div class="modal-footer"&gt;<br/>            &lt;a className="modal-close waves-effect waves-red btn-flat"&gt;<br/>              Disagree<br/>            &lt;/a&gt;<br/>            &lt;a className="modal-close waves-effect waves-green btn-flat"&gt;<br/>              Agree<br/>            &lt;/a&gt;<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>      &lt;/&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default Modal;</span></pre><p id="bd59" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们在<code class="fe ku kv kw kx b">ref</code>的帮助下创建了一个引用，然后在<code class="fe ku kv kw kx b">componentDidMount()</code>方法中使用它。</p><p id="be1b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在普通的JavaScript中，初始化部分是这样完成的—</p><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="a2a6" class="my ln in kx b gy mz na l nb nc">document.addEventListener('DOMContentLoaded', function() {<br/>    var elems = document.querySelector('.modal');<br/>    var instances = M.Modal.init(elems);<br/>  });</span></pre><p id="5f2a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是在React中，它是这样完成的—</p><pre class="mq mr ms mt gt mu kx mv mw aw mx bi"><span id="3e56" class="my ln in kx b gy mz na l nb nc">componentDidMount() {<br/>    M.Modal.init(this.Modal);<br/>}</span></pre><p id="5532" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，主要概念是关于基准电压源的，其他元件也可以遵循同样的概念。</p><p id="8d30" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在这个网站上查看其他组件— <a class="ae kt" href="https://reactize.herokuapp.com" rel="noopener ugc nofollow" target="_blank"> Reactize </a></p><p id="ee44" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">https://github.com/GermaVinsmoke/Reactize</p><p id="af9d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是我第一次在媒体上写文章，所以任何形式的反馈都将受到感谢😅。如果您想知道如何将物化CSS与React和Redux一起用于表单组件，那么您可以等待新的文章😛</p><p id="6a82" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ni">更多内容尽在</em><a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank">T5】plain English . ioT7】</a></p></div></div>    
</body>
</html>