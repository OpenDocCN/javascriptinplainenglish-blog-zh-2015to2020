<html>
<head>
<title>How to return object literals from arrow functions in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中从箭头函数返回对象文字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-return-object-literals-from-arrow-functions-in-javascript-7c31bfcca8a0?source=collection_archive---------2-----------------------#2019-09-17">https://javascript.plainenglish.io/how-to-return-object-literals-from-arrow-functions-in-javascript-7c31bfcca8a0?source=collection_archive---------2-----------------------#2019-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="122a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">当你试图返回一个对象时，为什么会意外地从一个函数中得到一个未定义的值。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5ca1e52f32cdadd656106409371972c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rlCe-kITL90tJymT"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@pregadio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joe Pregadio</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="053c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">突击测验</h1><p id="d166" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你知道下面返回的是什么吗？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="e7f9" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">给你一个提示:</p><blockquote class="mr"><p id="1c31" class="ms mt iq bd mu mv mw mx my mz na mj dk translated">arrow函数的问题是解析器不把两个大括号解释为对象文字，而是块语句。<a class="nb nc ep" href="https://medium.com/u/b69f343626a4?source=post_page-----7c31bfcca8a0--------------------------------" rel="noopener" target="_blank">马里乌斯·舒尔茨</a>在<a class="ae kv" href="https://mariusschulz.com/blog/returning-object-literals-from-arrow-functions-in-javascript" rel="noopener ugc nofollow" target="_blank">他的博客</a></p></blockquote><figure class="ne nf ng nh ni kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/4c77447708d8a4b7dfe0ec70f8b38a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*v3UJt9cXCaOHo_bR"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@dorner?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Dorner</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dcac" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi nj translated">令人惊奇的是，在这种情况下，JavaScript将打印出<code class="fe ns nt nu nv b">undefined</code>。</p><p id="d3c9" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">让我们看看它是如何与箭头函数一起工作的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="4c35" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">这段代码会导致相同的结果(<code class="fe ns nt nu nv b">undefined</code>)，原因有二:</p><ol class=""><li id="c6e6" class="nw nx iq lq b lr mm lu mn lx ny mb nz mf oa mj ob oc od oe bi translated"><code class="fe ns nt nu nv b">return</code>发生在它自己的行上导致程序执行返回而不继续执行</li><li id="013f" class="nw nx iq lq b lr of lu og lx oh mb oi mf oj mj ob oc od oe bi translated">JavaScript对块语句和对象文字都使用花括号{ }。</li></ol><p id="fa07" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">如果您打开了分号，Prettier可以帮助您捕捉这个错误。</p><p id="afd8" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">在这种情况下，beauty会自动在<code class="fe ns nt nu nv b">return</code>后去掉一个分号:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/56e59f0bd391d71147b05c18ad199a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ty4Mdzmbt_9-4Lmmzo1ONw.png"/></div></div></figure><p id="dff6" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">我通常关闭分号，我更喜欢箭头函数，所以这是我的代码中经常出现的东西。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/2f94144180f3fcfff0fae1e206eb20f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FpIkuIqzkSCYGZ7i"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@lysanderyuen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lysander Yuen</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="d491" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">修复工作开始了</h1><p id="eb21" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi nj translated">这是我们修复第一个例子的方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="a41d" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">只需将开始的花括号移动到与return相同的行，JavaScript解析器就知道要返回一个对象文字。</p><p id="5059" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">对于箭头函数，我们需要一组<strong class="lq ir">魔法括号</strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h1 id="5302" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">在幕后</h1><p id="e47b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi nj translated">神奇的括号迫使解析器将对象文字视为表达式，而不是块语句。</p><p id="0ed7" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">当解析器在对象文字(表达式)的整个正文周围找到括号时，它不会被视为块语句(不是表达式)。</p><p id="a7d2" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">根据ECMAScript规范，block语句不能用括号括起来，因此左括号表示表达式的开始。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/a4c976b7910e36d4bd215b6ed25231ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R4h7sNMXCCAL_LF2"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jannerboy62?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nick Fewings</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="0224" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">其他资源:</h1><ul class=""><li id="6164" class="nw nx iq lq b lr ls lu lv lx on mb oo mf op mj oq oc od oe bi translated">Axel Rauschmayer博士的书<a class="ae kv" href="https://exploringjs.com/es6.html" rel="noopener ugc nofollow" target="_blank"> ExploringJS </a>有整整一章深入讨论了箭头函数:</li></ul><div class="or os gp gr ot ou"><a href="https://exploringjs.com/es6/ch_arrow-functions.html" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">13.箭头功能</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">箭头函数有两个好处。首先，它们比传统的函数表达式更简洁；其次…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">exploringjs.com</p></div></div></div></a></div><ul class=""><li id="b66a" class="nw nx iq lq b lr mm lu mn lx ny mb nz mf oa mj oq oc od oe bi translated"><a class="nb nc ep" href="https://medium.com/u/64068f34bb29?source=post_page-----7c31bfcca8a0--------------------------------" rel="noopener" target="_blank"> Manuel Rauber </a>在他的博客上概述了返回的对象文字:</li></ul><div class="or os gp gr ot ou"><a href="https://manuel-rauber.com/2017/12/06/quick-object-return/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">从箭头函数返回对象文字</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">快速对象返回可能是一个不太为人所知的特性，因为你不常看到它。这不是一个新的…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">manuel-rauber.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kp ou"/></div></div></a></div><ul class=""><li id="716a" class="nw nx iq lq b lr mm lu mn lx ny mb nz mf oa mj oq oc od oe bi translated"><a class="nb nc ep" href="https://medium.com/u/31d85838e1f6?source=post_page-----7c31bfcca8a0--------------------------------" rel="noopener" target="_blank">凯尔·彭内尔</a>点评书中箭头功能<em class="pj"/>T5】实用ES6 :</li></ul><div class="or os gp gr ot ou"><a href="https://www.sitepoint.com/es6-arrow-functions-new-fat-concise-syntax-javascript/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">箭头函数:JavaScript中简洁明了的语法</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">Kyle介绍了ES6 arrow函数，这是一种用于编写JavaScript函数的语法，包括用法、常见语法、常见…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">www.sitepoint.com</p></div></div><div class="pd l"><div class="pk l pf pg ph pd pi kp ou"/></div></div></a></div><ul class=""><li id="58b5" class="nw nx iq lq b lr mm lu mn lx ny mb nz mf oa mj oq oc od oe bi translated">Tim Kamanin 在他的博客中举了一个使用<code class="fe ns nt nu nv b">.map()</code>的例子:</li></ul><div class="or os gp gr ot ou"><a href="https://timonweb.com/tutorials/returning-object-literals-from-arrow-functions-in-javascript-es6/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">从JavaScript中的箭头函数返回对象文字(ES6)</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">ES6更新为我们带来了箭头函数，这是一个让我们的代码看起来优雅的伟大工具。我最喜欢的一个特点是…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">timonweb.com</p></div></div></div></a></div></div><div class="ab cl pl pm hu pn" role="separator"><span class="po bw bk pp pq pr"/><span class="po bw bk pp pq pr"/><span class="po bw bk pp pq"/></div><div class="ij ik il im in"><p id="eff4" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx mo lz ma mb mp md me mf mq mh mi mj ij bi translated">德里克·奥斯汀博士是《职业规划:如何在6个月内成为一名成功的6位数程序员》一书的作者，该书现已在亚马逊上出售。</p></div></div>    
</body>
</html>