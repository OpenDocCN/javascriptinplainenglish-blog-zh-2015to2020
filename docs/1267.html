<html>
<head>
<title>JavaScript Void Operator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Void运算符</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-void-operator-3c0a788f0618?source=collection_archive---------1-----------------------#2020-02-21">https://javascript.plainenglish.io/javascript-void-operator-3c0a788f0618?source=collection_archive---------1-----------------------#2020-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7d6634d25449b1db1761f8dc25848f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2TmRiUd1uWFMGzFD.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">BG Photo by <a class="ae kc" href="https://unsplash.com/@johnmdaines?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">John Daines</a> on <a class="ae kc" href="https://unsplash.com/s/photos/space?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ac3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript有一个一元void运算符。它计算给定的表达式，然后返回undefined。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="278f" class="lk ll iq lg b gy lm ln l lo lp">void expression</span></pre><blockquote class="lq"><p id="b4e0" class="lr ls iq bd lt lu lv lw lx ly lz la dk translated">它计算JavaScript表达式而不返回值。它丢弃函数的默认返回值，并显式返回<code class="fe ma mb mc lg b">undefined.</code></p></blockquote><p id="0023" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">常用于获取未定义的原始值，通过写<strong class="kf ir"> <em class="mi"> void 0 </em> </strong>或<strong class="kf ir"> <em class="mi"> void(0) </em> </strong>的方式。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="e6d7" class="lk ll iq lg b gy lm ln l lo lp">// Outputs: undefined</span><span id="9b87" class="lk ll iq lg b gy mj ln l lo lp">console.log(void 0);<br/>console.log(void "test");<br/>console.log(void {});</span></pre><p id="ba98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为void总是产生真正的未定义值，所以它可以在代码缩减中作为一种写未定义的较短方式使用。</p><p id="8a88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请在下面找到一些void的使用案例。</p><h1 id="f934" class="mk ll iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">1.条件语句</h1><p id="4299" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">它可用于将未定义的<strong class="kf ir">变量或数据与<code class="fe ma mb mc lg b">undefined.</code>进行比较</strong></p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="a3cc" class="lk ll iq lg b gy lm ln l lo lp">if(user.session === void(0)) { // take to login }</span></pre><h1 id="d896" class="mk ll iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">2.立即调用的函数表达式</h1><p id="4717" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">在生活中，void可以用来强制function关键字被当作一个表达式，而不是一个声明。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="ed2a" class="lk ll iq lg b gy lm ln l lo lp">void function iife() {<br/>    var doSomething = function () {};<br/>    var doSomething1 = function () {};<br/>    var doSomething2 = function () {<br/>        doSomething();<br/>        doSomething1();<br/>     };<br/>    var someFunction = function () {};</span><span id="e56d" class="lk ll iq lg b gy mj ln l lo lp">doSomething2();<br/>    someFunction();<br/>}();</span></pre><p id="58e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它让我们可以写出这样一种另类的生活:</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="797c" class="lk ll iq lg b gy lm ln l lo lp">void function iife() {<br/> console.log('hello');<br/>}();</span><span id="e9db" class="lk ll iq lg b gy mj ln l lo lp">// is the same as...</span><span id="4096" class="lk ll iq lg b gy mj ln l lo lp">(function iife() {<br/>    console.log('hello');<br/>})()</span></pre><p id="5351" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">void的一个限制是表达式的求值是void(未定义)！</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="5bb5" class="lk ll iq lg b gy lm ln l lo lp">const iifeFunction = void function doSomething() {<br/> return 'doSomething function()';<br/>}();<br/>console.log(iifeFunction);<br/><strong class="lg ir">// iifeFunction is undefined</strong></span><span id="2323" class="lk ll iq lg b gy mj ln l lo lp">const iifeFunction = function doSomething() {<br/> return 'doSomething function()';<br/>}();<br/>console.log(iifeFunction);<br/><strong class="lg ir">// iifeFunction is "doSomething function()"</strong></span></pre><h1 id="97ff" class="mk ll iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">3.无泄漏箭头功能</h1><p id="0635" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">使用箭头函数，我们可以返回一个表达式。在少数情况下，这可能会导致意外的副作用，因为它会返回以前不返回任何内容的函数调用的结果。</p><p id="d17e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，为了处理这种情况，当不使用返回值时，我们可以使用void操作符来确保返回的结果不会有任何意外的影响。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="cecd" class="lk ll iq lg b gy lm ln l lo lp">button.onclick = () =&gt; void doSomething();</span></pre><p id="d8f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<strong class="kf ir"><em class="mi">do something()</em></strong>之前使用void语句可以确保，无论<strong class="kf ir"><em class="mi">do something()</em></strong>的返回值如何，代码的行为都不会改变。</p><h1 id="7ac8" class="mk ll iq bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">4.带void的异步调用</h1><p id="fabb" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">我们也可以使用void和async。我们可以将它用作代码的异步入口点。</p><pre class="lb lc ld le gt lf lg lh li aw lj bi"><span id="db4c" class="lk ll iq lg b gy lm ln l lo lp">void async someFunction() { <br/>    try {<br/>        const response = await fetch('someAPI'); <br/>        const result = await response.result();<br/>        console.log(result);<br/>    } catch(e) {<br/>        console.error(e);<br/>    }<br/>}()</span><span id="5b4c" class="lk ll iq lg b gy mj ln l lo lp"><strong class="lg ir">// or this</strong></span><span id="34f1" class="lk ll iq lg b gy mj ln l lo lp">(async () =&gt; {<br/>    try {<br/>        const response = await fetch('someAPI'); <br/>        const result = await response.result();<br/>        console.log(result);<br/>    } catch(e) {<br/>        console.error(e);<br/>    }<br/>})();</span></pre><h2 id="2844" class="lk ll iq bd ml nm nn dn mp no np dp mt ko nq nr mx ks ns nt nb kw nu nv nf nw bi translated">参考</h2><p id="1d80" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated"><a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void" rel="noopener ugc nofollow" target="_blank"> MDN </a></p></div></div>    
</body>
</html>