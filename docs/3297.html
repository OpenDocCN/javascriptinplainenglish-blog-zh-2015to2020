<html>
<head>
<title>Best of Modern JavaScript — Object and Array Parameter Destructuring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代JavaScript的精华—对象和数组参数析构</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/best-of-modern-javascript-object-and-array-parameter-destructuring-8cd62b3b5d93?source=collection_archive---------9-----------------------#2020-09-16">https://javascript.plainenglish.io/best-of-modern-javascript-object-and-array-parameter-destructuring-8cd62b3b5d93?source=collection_archive---------9-----------------------#2020-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9eeb6f82a81ad83fe365729be10a11b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*D6hB7BKD3pZSxiDz"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@bamin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pierre Bamin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5716" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自2015年以来，JavaScript有了巨大的进步。</p><p id="c894" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在用起来比以前舒服多了。</p><p id="193a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何处理对象和数组参数的析构。</p><h1 id="b7bc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对象和名称参数</h1><p id="e675" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将对象作为参数传入，并将它们析构为变量。</p><p id="ba2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以让一个对象参数有多个属性，我们可以把它们变成变量。</p><p id="06f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们不需要在函数中有很多参数。</p><p id="96dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2a73" class="mn lc iq mj b gy mo mp l mq mr">function foo({<br/>  a = 1,<br/>  b = 2,<br/>  c = 3<br/>}) {<br/>  console.log(a, b, c)<br/>}</span></pre><p id="42de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有一个带有属性<code class="fe ms mt mu mj b">a</code>、<code class="fe ms mt mu mj b">b</code>和<code class="fe ms mt mu mj b">c</code>的对象参数。</p><p id="4a86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将它们的默认值分别设置为1、2和3。</p><p id="4cb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以传入一个具有这些属性的对象，它们将被析构。</p><p id="afe6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们设置默认值。</p><p id="cd66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="df60" class="mn lc iq mj b gy mo mp l mq mr">foo({<br/>  a: 2,<br/>});</span></pre><p id="ca43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">a</code>和<code class="fe ms mt mu mj b">b</code>是2而<code class="fe ms mt mu mj b">c</code>是3。</p><p id="4d53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">a</code>被传入，但<code class="fe ms mt mu mj b">b</code>和<code class="fe ms mt mu mj b">c</code>被设置为默认值。</p><p id="54dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这比我们在ES5或更早版本中拥有的要短得多:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="96eb" class="mn lc iq mj b gy mo mp l mq mr">function foo(props) {<br/>  props = props || {};<br/>  var a = props.a || 0;<br/>  var b = props.b || -1;<br/>  var c = props.c || 1;<br/>  console.log(a, b, c)<br/>}</span></pre><p id="3b4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个对象参数<code class="fe ms mt mu mj b">props</code>。</p><p id="f8fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它是falsy，那么我们把它设置为一个对象。</p><p id="f1ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们把它的属性赋给变量。</p><p id="9fdc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它们是假的，我们就指定默认值，而不是只有当它们是<code class="fe ms mt mu mj b">undefined</code>时才指定。</p><p id="6df2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所看到的，这要长得多，我们可能不想返回所有falsy值的默认值。</p><h1 id="1d79" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">解构数组</h1><p id="6a53" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在参数中析构数组。</p><p id="b573" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="87bf" class="mn lc iq mj b gy mo mp l mq mr">const arr = [<br/>  ['foo', 3],<br/>  ['bar', 19]<br/>];<br/>arr.forEach(([word, count]) =&gt; {<br/>  console.log(word, count);<br/>});</span></pre><p id="337d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有了以数组作为条目的<code class="fe ms mt mu mj b">arr</code>数组。</p><p id="8231" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用数组析构了回调，然后我们可以使用嵌套的条目作为变量。</p><p id="906f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以通过将它们转换成数组并调用<code class="fe ms mt mu mj b">map</code>方法来使用它们来转换地图。</p><p id="47fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ae47" class="mn lc iq mj b gy mo mp l mq mr">const map = new Map([<br/>  [1, 'a'],<br/>  [2, 'b'],<br/>  [3, 'c'],<br/>]);</span><span id="f97c" class="mn lc iq mj b gy mv mp l mq mr">const newMap = new Map(<br/>  [...map]<br/>  .map(([k, v]) =&gt; [k * 2, v])<br/>);</span></pre><p id="701d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一张地图，上面有阵列。</p><p id="3f97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们通过将现有地图扩展到一个数组来创建一个新地图。</p><p id="df50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe ms mt mu mj b">map</code>来返回新条目。</p><p id="26fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">spread操作符将把它转换成一个数组，其中的条目是每个条目的键和值的数组。</p><p id="ac13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可以以同样的方式使用析构赋值。</p><p id="f154" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用一系列的承诺做同样的事情。</p><p id="85af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9c41" class="mn lc iq mj b gy mo mp l mq mr">const promises = [<br/>  Promise.resolve(1),<br/>  Promise.resolve(2),<br/>  Promise.resolve(3),<br/>];</span><span id="6c4d" class="mn lc iq mj b gy mv mp l mq mr">Promise.all(promises)<br/>  .then(([foo, bar, baz]) =&gt; {<br/>    console.log(foo, bar, baz);<br/>  });</span></pre><p id="a377" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe ms mt mu mj b">then</code>中解构了数组参数。</p><p id="1ca8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在控制台日志中得到被析构的变量。</p><p id="13e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们具有所有已解析的值。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/4bf7e56531dda1c3bfe00da1a8debced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sK5AYs2Z9f7cf8Ue"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mike_meyers?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Meyers</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="c092" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="9e41" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以析构对象和数组参数，以将参数中的属性和数组条目赋给变量。</p><h2 id="f8d6" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">用简单英语写的JavaScript</strong></h2><p id="9a7d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码得到更多类似内容，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>