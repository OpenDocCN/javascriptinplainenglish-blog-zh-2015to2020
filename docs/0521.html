<html>
<head>
<title>How to get the current screen metadata in React within react-navigation?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨react-navigationå†…è·å–Reactä¸­çš„å½“å‰å±å¹•å…ƒæ•°æ®ï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/how-to-get-the-current-screen-metadata-in-react-within-react-navigation-b9c18206e9c4?source=collection_archive---------2-----------------------#2019-11-02">https://javascript.plainenglish.io/how-to-get-the-current-screen-metadata-in-react-within-react-navigation-b9c18206e9c4?source=collection_archive---------2-----------------------#2019-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dec2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ä½¿ç”¨å¯¼èˆªçŠ¶æ€æ’é™¤å…¬å…±é™·é˜±çš„å°æŒ‡å—ï¼</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f9984b2d3e03cb0f3447459afb5ab0a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F4RRkSZ_hSmFxHw_n7R5wQ.png"/></div></div></figure><p id="9dd8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å½“å°†<a class="ae ln" href="https://reactnavigation.org/" rel="noopener ugc nofollow" target="_blank"> react-navigation </a>ä¸<a class="ae ln" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> react-native </a>æˆ–<a class="ae ln" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">ç»å…¸çš„åŸºäºç½‘ç»œçš„reactåº”ç”¨</a>ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œä½ å¯èƒ½æœ‰ä¸€å¤©ä¼šé—®è‡ªå·±:</p><blockquote class="lo"><p id="818b" class="lp lq iq bd lr ls lt lu lv lw lx lm dk translated">å¦‚ä½•è·å–<strong class="ak">å½“å‰è·¯çº¿</strong>å…ƒæ•°æ®ï¼Œå¦‚è·¯çº¿åç§°ï¼Ÿ</p></blockquote><p id="da31" class="pw-post-body-paragraph kr ks iq kt b ku ly jr kw kx lz ju kz la ma lc ld le mb lg lh li mc lk ll lm ij bi translated">è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„ç”¨ä¾‹ï¼Œä½†æœ‰æ—¶å¯èƒ½ä¼šæœ‰ç‚¹æ£˜æ‰‹ï¼Œå¾ˆéš¾æ‰¾åˆ°å¦‚ä½•å¤„ç†å®ƒã€‚</p><p id="5696" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¸ä½ åˆ†äº«è¿™ä¸ªå°æŒ‡å—æ¥å…‹æœä½ å¯èƒ½ç»å†çš„å¤§å¤šæ•°å¤±è´¥æ¡ˆä¾‹ï¼Œåœ¨å‡ ä¸ªå°æ—¶çš„æŒ£æ‰åï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªæ¨¡å¼èƒ½å¸®åŠ©ä½ ä¸è¦é‡è¹ˆæˆ‘çš„è¦†è¾™ã€‚</p><h1 id="5a34" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">ğŸ‘¨ğŸ»â€ğŸ”¬è®©æˆ‘ä»¬ä»ä¸€ç‚¹ç†è®ºå¼€å§‹</h1><p id="b3b8" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¯å¢ƒä¸­ï¼Œåœ¨<code class="fe na nb nc nd b">react-navigation</code>é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸¤ç§ç»„ä»¶:</p><ol class=""><li id="7609" class="ne nf iq kt b ku kv kx ky la ng le nh li ni lm nj nk nl nm bi translated">å¯¼èˆªç»„ä»¶çš„ç›´æ¥å­ç»„ä»¶ï¼Œç§°ä¸º<strong class="kt ir">å±å¹•ç»„ä»¶</strong></li><li id="631a" class="ne nf iq kt b ku nn kx no la np le nq li nr lm nj nk nl nm bi translated">å¯¼èˆªæ ‘çš„ä»»ä½•å…¶ä»–åµŒå¥—å­èŠ‚ç‚¹ï¼Œä¸æ˜¯å±å¹•ç»„ä»¶ï¼Œæˆ‘å°†è°ƒç”¨<strong class="kt ir">å±å¹•ç»„ä»¶çš„åµŒå¥—å­èŠ‚ç‚¹</strong>ã€‚</li></ol><p id="ce6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">è¿˜æœ‰ä¸€ä¸ªä¸»è¦çš„ç¼ºé™·ï¼Œæ ¹æ®ç»„ä»¶çš„ä¸Šä¸‹æ–‡ï¼Œä½ ä»é“å…·ä¸­å¾—åˆ°çš„å¯¼èˆªçŠ¶æ€æ˜¯ä¸ä¸€æ ·çš„</strong></p><p id="ae07" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹æˆ‘ä»¬èƒ½åšäº›ä»€ä¹ˆæ¥æ­£ç¡®åœ°è·å¾—å½“å‰çš„å±å¹•å…ƒæ•°æ®ã€‚</p><h2 id="8992" class="ns me iq bd mf nt nu dn mj nv nw dp mn la nx ny mp le nz oa mr li ob oc mt od bi translated">â¡ï¸ä»å±å¹•ç»„ä»¶è·å–å½“å‰å±å¹•å…ƒæ•°æ®</h2><blockquote class="oe of og"><p id="319b" class="kr ks oh kt b ku kv jr kw kx ky ju kz oi lb lc ld oj lf lg lh ok lj lk ll lm ij bi translated">å±å¹•ç»„ä»¶æ˜¯å¯¼èˆªå™¨çš„ç›´æ¥å­ç»„ä»¶ã€‚</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/65b1931b5271e7bdcba66da00c69083f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2nfS2C4f-JLW9c_Y4ipJug.png"/></div></div><figcaption class="om on gj gh gi oo op bd b be z dk"><strong class="bd oq">MainScreen</strong> and <strong class="bd oq">SelectPlayersScreen</strong> are direct children of your SwitchNavigator.</figcaption></figure><p id="bcbd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è¿™é‡Œå¾ˆç®€å•:åªè¦ä½ çš„å±å¹•æ˜¯ä½ çš„å¯¼èˆªå™¨çš„ç›´æ¥å­©å­ï¼Œä½ åªéœ€è¦ä¾èµ–æ¥è‡ª<code class="fe na nb nc nd b">react-navigation-hooks</code>çš„<code class="fe na nb nc nd b">props.navigate.state</code>æˆ–<code class="fe na nb nc nd b">const navState = useNavigationState()</code>ã€‚</p><p id="2c6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è¿™å°†ä¸ºä½ çš„å±å¹•æä¾›ä½ éœ€è¦çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚T4ã€‚</p><h2 id="b00c" class="ns me iq bd mf nt nu dn mj nv nw dp mn la nx ny mp le nz oa mr li ob oc mt od bi translated">â¡ï¸ä»å±å¹•ç»„ä»¶çš„åµŒå¥—å­ç»„ä»¶è·å–å½“å‰å±å¹•å…ƒæ•°æ®</h2><p id="165a" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">å¦‚æœæ‚¨éœ€è¦å€¼çš„ç»„ä»¶ä¸æ˜¯ç›´æ¥å¯¼èˆªå­ç»„ä»¶ï¼Œæ— è®ºæ˜¯ä½¿ç”¨<code class="fe na nb nc nd b">withNavigation</code> HOCã€<code class="fe na nb nc nd b">useNavigation</code>è¿˜æ˜¯<code class="fe na nb nc nd b">useNavigationState</code>é’©å­ï¼Œæ‚¨éƒ½å¯èƒ½å¾—åˆ°æ•´ä¸ªçŠ¶æ€æ ‘ï¼Œå› ä¸ºreact-navigationå°†æ— æ³•è§£æå½“å‰ä¸Šä¸‹æ–‡ã€‚</p><p id="29fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> âœ‹ğŸ»âš ï¸è­¦å‘Š:</strong>ä½ å¯ä»¥ä½¿ç”¨é“å…·å°†å±å¹•ç»„ä»¶çš„å€¼ä¼ é€’ç»™å­©å­ï¼Œè¿™æ˜¯ä½ åº”è¯¥è€ƒè™‘ä½¿ç”¨çš„é¦–é€‰æ–¹æ³•ã€‚ä½†æ˜¯å¦‚æœä½ ä¸èƒ½ï¼Œå¹¶ä¸”ä½ åœ¨ç»„ä»¶æ ‘ä¸­åµŒå¥—å¾ˆæ·±ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µåŠ ä¸Šä¸€äº›ä¼ ç»Ÿçš„ä»£ç ï¼Œè¿™å°†å¸®åŠ©ä½ å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p><blockquote class="oe of og"><p id="3f2a" class="kr ks oh kt b ku kv jr kw kx ky ju kz oi lb lc ld oj lf lg lh ok lj lk ll lm ij bi translated">getActiveRouteMetadata æ˜¯ä¸€ä¸ªå°çš„å®ç”¨å‡½æ•°ï¼Œå®ƒå°†å¸®åŠ©æ‚¨ä»å®Œæ•´çš„å¯¼èˆªçŠ¶æ€æ ‘å¯¹è±¡ä¸­æ£€ç´¢å½“å‰çš„å±å¹•å…ƒæ•°æ®ã€‚</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div><figcaption class="om on gj gh gi oo op bd b be z dk">A small utility function to dig into the navigation state tree</figcaption></figure><p id="fe4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å°±è¿™æ ·è¿‡äº†å¯¼èˆªçŠ¶æ€å°±å¥½äº†ï¼</p><pre class="kg kh ki kj gt ot nd ou ov aw ow bi"><span id="d393" class="ns me iq nd b gy ox oy l oz pa">import { useNavigationState } from "react-navigation-hooks";</span><span id="85fa" class="ns me iq nd b gy pb oy l oz pa">function MyNestedComponent(){<br/>  const navState = useNavigationState();<br/>  const myScreenMetadata = getActiveRouteMetadata(navState);</span><span id="31f6" class="ns me iq nd b gy pb oy l oz pa">  return (<br/>    // â€¦ your component JSX â€¦<br/>  )<br/>}</span></pre><h1 id="0c9d" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">ğŸš›å¤–å–/TLDRï¼›ğŸ“¦</h1><p id="91c1" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">åœ¨react-navigationä¸­:è·å–å½“å‰æ´»åŠ¨è·¯çº¿çš„å…ƒæ•°æ®æœ‰ä¸¤ç§æ–¹å¼ï¼Œè¿™å°†å–å†³äºæ‚¨å®é™…æ‰€å¤„çš„ç¯å¢ƒ:</p><ul class=""><li id="14e6" class="ne nf iq kt b ku kv kx ky la ng le nh li ni lm pc nk nl nm bi translated"><strong class="kt ir">å±å¹•ç»„ä»¶:</strong>ä»…ä½¿ç”¨<code class="fe na nb nc nd b">props.navigation.state</code>æˆ–æŒ‚é’©<code class="fe na nb nc nd b">useNavigationState</code>ã€‚</li><li id="ab62" class="ne nf iq kt b ku nn kx no la np le nq li nr lm pc nk nl nm bi translated"><strong class="kt ir"> Screenç»„ä»¶çš„åµŒå¥—å­ç»„ä»¶:</strong>ä½¿ç”¨<code class="fe na nb nc nd b">props.navigation.state</code>æˆ–é’©å­<code class="fe na nb nc nd b">useNavigationState</code>å¹¶å°†çŠ¶æ€ä¼ é€’ç»™ä¸Šé¢å®šä¹‰çš„çˆ¬è¡Œå‡½æ•°ã€‚</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pd os l"/></div></figure></div></div>    
</body>
</html>