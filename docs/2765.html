<html>
<head>
<title>VueJs Form Validation, Part 2 — Vuelidate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VueJs表单验证，第2部分— Vuelidate</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vuejs-form-validation-part-2-vuelidate-54807f1bf940?source=collection_archive---------1-----------------------#2020-07-22">https://javascript.plainenglish.io/vuejs-form-validation-part-2-vuelidate-54807f1bf940?source=collection_archive---------1-----------------------#2020-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/474ec057b31a8880bd66b38a8c102319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*arQLOouPKEXvMp3UtH3xhw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Vuelidate Form Validation</figcaption></figure><p id="7f74" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在我的上一篇文章中，我介绍了VueJs验证包<a class="ae la" href="https://logaretm.github.io/vee-validate/" rel="noopener ugc nofollow" target="_blank"> VeeValidate </a>。在第2部分中，我们将讨论另一个流行的验证包，叫做<a class="ae la" href="https://vuelidate.js.org/" rel="noopener ugc nofollow" target="_blank"> Vuelidate </a>。VeeValidate采用基于模板的方法，而Vuelidate采用基于模型的方法正好相反。</p><p id="1c85" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就像上一篇文章一样，我们将看看如何在注册表单上使用这个包。这会给你一个清晰的概念，告诉你如何在任何形式下使用它。那么，让我们开始编码吧💻！</p><h2 id="dee0" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">装置</h2><p id="aa38" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">要安装VeeValidate，请在Vue项目的根目录下打开一个终端，并运行以下命令:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="d8fb" class="lb lc iq me b gy mi mj l mk ml">npm install vuelidate --save</span></pre><p id="ba84" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，我们将Vuelidate作为插件添加到Vue中。在src/main.js中添加以下内容:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="5724" class="lb lc iq me b gy mi mj l mk ml">import Vuelidate from 'vuelidate'<br/>Vue.use(Vuelidate)</span></pre><h2 id="4056" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">表单验证</h2><p id="3231" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">验证字段的方式基于您的模型。export default中的data属性包含输入的模型(v-model)。通过导入Vuelidate包，您现在将有一个新的属性可以添加到导出缺省值中，称为“validations”。</p><p id="2ed5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你需要做的就是从Vuelidate ( <a class="ae la" href="https://vuelidate.js.org/#sub-builtin-validators" rel="noopener ugc nofollow" target="_blank">可用规则</a>)中导入你需要的规则。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="aed9" class="lb lc iq me b gy mi mj l mk ml">import { required, minLength } from "vuelidate/lib/validators";</span></pre><p id="666c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后，向“validations”添加一个属性，该属性与您的模型属性具有完全相同的名称。这将把您的验证绑定到您的模型。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="7f5b" class="lb lc iq me b gy mi mj l mk ml"><em class="mm">data</em>: () =&gt; ({<br/> <strong class="me ir">//<em class="mm"> Your Model</em></strong><em class="mm"><br/> </em>name: ""</span><span id="5ce0" class="lb lc iq me b gy mn mj l mk ml">}),<br/><strong class="me ir">//<em class="mm">Your model validations</em></strong><em class="mm"><br/></em>validations: {<br/> name: {<br/>  required,<br/>  minLength: <em class="mm">minLength</em>(4)<br/> }<br/>}</span></pre><p id="e84b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，您需要用您的输入和错误在模板中构建表单。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="cd99" class="lb lc iq me b gy mi mj l mk ml">&lt;template&gt;<br/> &lt;div&gt;<br/>  &lt;h2&gt;Vuelidate Form&lt;/h2&gt;<br/>  &lt;form @<em class="mm">submit</em>.<em class="mm">prevent</em>="submitForm"&gt;<br/>   &lt;input <em class="mm">type</em>="text" <em class="mm">v-model</em>="name" /&gt;<br/>  <strong class="me ir"> &lt;!--<em class="mm"> display errors </em>--&gt;</strong><br/>   &lt;div <br/>    <em class="mm">class</em>="error" <br/>    <em class="mm">v-if</em>="!<em class="mm">$v.name.</em>required &amp;&amp; <em class="mm">$v.name.</em>$dirty"&gt;<br/>     Field is required<br/>   &lt;/div&gt;</span><span id="dab9" class="lb lc iq me b gy mn mj l mk ml">   &lt;div<br/>    <em class="mm">class</em>="error"<br/>    <em class="mm">v-if</em>="!<em class="mm">$v.name.</em>minLength &amp;&amp; <em class="mm">$v.name.</em>$dirty"<br/>   &gt;<br/>    Name must have at least {{<em class="mm">$v.name.$params.minLength.</em>min}}<br/>    letters.<br/>   &lt;/div&gt;<br/>   &lt;input <em class="mm">type</em>="submit" /&gt;<br/>  &lt;/form&gt;<br/> &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="04d5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最后，我们将创建提交表单的方法。在export default中，我们将添加一个包含表单提交方法的methods属性。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="7015" class="lb lc iq me b gy mi mj l mk ml">methods: {<br/> <strong class="me ir">//<em class="mm">Form submission handler</em></strong><em class="mm"><br/> submitForm</em>() {<br/>  <strong class="me ir">//<em class="mm">fire validations on all fields</em></strong><em class="mm"><br/>  </em>this<em class="mm">.$v.$touch</em>();<br/>  <br/>  <strong class="me ir">//<em class="mm">check to see if form is valid before continuing</em></strong><em class="mm"><br/>  </em>if (!this<em class="mm">.$v.</em>$invalid) {<br/>   console<em class="mm">.</em>log(this<em class="mm">.</em>name);<br/>  }<br/> }<br/>}</span></pre><h1 id="3b67" class="mo lc iq bd ld mp mq mr lg ms mt mu lj mv mw mx lm my mz na lp nb nc nd ls ne bi translated">注册表单验证</h1><p id="9e01" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">现在让我们看一个真实世界的例子。我们将创建一个包含以下字段的注册表单:</p><ul class=""><li id="5fdb" class="nf ng iq ke b kf kg kj kk kn nh kr ni kv nj kz nk nl nm nn bi translated">名称—必需且唯一的字母(字母)</li><li id="10e4" class="nf ng iq ke b kf no kj np kn nq kr nr kv ns kz nk nl nm nn bi translated">电子邮件—必需的有效电子邮件，</li><li id="9489" class="nf ng iq ke b kf no kj np kn nq kr nr kv ns kz nk nl nm nn bi translated">密码—必需，最小长度为6，最大长度为8</li><li id="e513" class="nf ng iq ke b kf no kj np kn nq kr nr kv ns kz nk nl nm nn bi translated">性别—必填</li><li id="01dc" class="nf ng iq ke b kf no kj np kn nq kr nr kv ns kz nk nl nm nn bi translated">服务接受条款—必填</li></ul><p id="313f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于造型，我将使用引导。</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h1 id="f2ff" class="mo lc iq bd ld mp mq mr lg ms mt mu lj mv mw mx lm my mz na lp nb nc nd ls ne bi translated">自定义验证程序</h1><p id="73ec" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">有时您需要一个Vuelidate没有提供的验证器。在这种情况下，您可以编写自己的自定义验证器，如下所示:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="41c9" class="lb lc iq me b gy mi mj l mk ml">const mustBeCool = (value) =&gt; value.indexOf('cool') &gt;= 0</span><span id="0e79" class="lb lc iq me b gy mn mj l mk ml">// ...<br/><br/>validations: {<br/>  myField: {<br/>    mustBeCool<br/>  }<br/>}</span></pre><p id="faf3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你想把他们的验证器和你自己的逻辑结合起来，你可以这样写:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="df54" class="lb lc iq me b gy mi mj l mk ml">import { helpers } from 'vuelidate/lib/validators'<br/>const mustBeCool = (value) =&gt; !helpers.req(value) || value.indexOf('cool') &gt;= 0<br/><br/>// ...<br/><br/>validations: {<br/>  myField: {<br/>    mustBeCool<br/>  }<br/>}</span></pre><h1 id="0117" class="mo lc iq bd ld mp mq mr lg ms mt mu lj mv mw mx lm my mz na lp nb nc nd ls ne bi translated">视频教程</h1><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="nv nu l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Video Tutorial</figcaption></figure><h1 id="2239" class="mo lc iq bd ld mp mq mr lg ms mt mu lj mv mw mx lm my mz na lp nb nc nd ls ne bi translated">结论</h1><p id="ca2f" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">如您所见，Vuelidate是一个健壮的验证包，您可以在表单上使用它。它允许您轻松快速地添加验证，只需很少甚至不需要验证代码。希望这篇文章已经给了你一个很好的想法，你可以实现什么。下次见，编码快乐！</p></div></div>    
</body>
</html>