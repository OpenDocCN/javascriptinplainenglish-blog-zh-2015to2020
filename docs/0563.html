<html>
<head>
<title>Demystify Micro-Frontends using component libraries.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用组件库揭开微前端的神秘面纱。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/demystify-micro-frontends-using-component-libraries-53aa9a33cf5b?source=collection_archive---------3-----------------------#2019-11-08">https://javascript.plainenglish.io/demystify-micro-frontends-using-component-libraries-53aa9a33cf5b?source=collection_archive---------3-----------------------#2019-11-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7137" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在门户风格的应用中使用web组件和组件库创建前端来开发独立的应用。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a8a83671e14564a128219cc23a27ef60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PLEPmyJmAVUvtcYX"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="93e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如今，一个至关重要的新技术术语是微前端(MFE或前端)。我确实相信这最近变得流行是因为服务业的兴起。事实是我们已经有MFE很长时间了。我们过去称它们为小部件、零件或当时的营销词。发生变化的是我们今天可以使用的一些技术和工具，与过去的小部件相比，这些技术和工具使部署和维护变得更加容易。</p><p id="6b6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">MFE的一个很好的定义是网站<a class="ae kv" href="https://micro-frontends.org/" rel="noopener ugc nofollow" target="_blank">https://micro-frontends.org/</a>。微前端背后的想法是将一个网站或网络应用程序想象成由<strong class="ky ir">独立团队</strong>拥有的<strong class="ky ir">功能</strong>的组合。MFE背后的核心思想是，<strong class="ky ir">成为技术不可知论者</strong>，<strong class="ky ir">隔离团队代码</strong> e，<strong class="ky ir">建立团队前缀</strong> s，<strong class="ky ir">支持网络平台</strong>，以及<strong class="ky ir">构建弹性站点</strong>。核心理念中的关键部分是<strong class="ky ir">技术不可知的，</strong>和<strong class="ky ir">偏好原生浏览器特性而非定制API。但是这对我们开发者来说意味着什么呢？</strong></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="b4bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你在一家大公司工作，你通常会在能力模型的保护伞下工作。您的应用程序将是这些功能的组合。在我们假设的公司中，我们有数百种能力。企业可能决定在新的web应用程序中需要这些功能中的两个。“设置小工具日期”和“聊天”是我们新应用程序需要的两个功能。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/2f5f6857433097a3a24606b92e8199a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*WAlh1X_YStfNin5BHhgVcQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">New Web App</figcaption></figure><p id="d424" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些元素可以而且很有可能由不同的团队开发，并且使用完全不同的API和系统。解决这个问题的一种方法是使用web组件创建组件库应用程序。<a class="ae kv" href="https://www.webcomponents.org/" rel="noopener ugc nofollow" target="_blank">网页组件。</a>由三个规范组成——定制元素、模板和影子DOM——这些规范可用于创建普通的JavaScript定制元素，交付给web应用程序开发人员。你可以在我的上一篇文章“创建定制HTML ”中找到更多信息现在我可以听到抱怨“我的框架怎么样，我只想用X框架。”Web组件只是您工具箱中的一个工具。所有主要的框架都将使用web组件。因为它是规范的一部分，所以在下一波酷框架到来之后，它还会存在。</p><p id="d56e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们把Brad Frost的原子设计应用到我们的web架构中，我们可以看到web组件和框架是如何协同工作的。我们的原子或分子级组件可以用web组件编写，并在整个企业中共享。这些组件不关心应用程序是用Angular、Vue还是React编写的。您的按钮、输入字段和其他核心元素将在所有应用程序中具有标准的行为和可视化。当构建下一个应用程序并使用新的框架时，您的核心元素仍然可以工作，并且您不必编写所有的基本功能。</p><p id="31ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是微前端发挥作用的地方。如果你有一个团队，他们正在为整个企业开发聊天应用程序，那该怎么办？如果他们在一个框架中编写这个应用程序，而应用程序团队使用不同的框架，那么应用程序团队将不得不重写这个应用程序。但是如果这个小部件是作为web组件编写的，那么任何框架app都可以使用它。然后我可以用新的Web APIs更进一步，只在需要的时候动态加载我的Javascript。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="ccd9" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">把所有的放在一起</h2><p id="fe4a" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">如果我们可以创建我们的聊天或日历部分作为一个独立的应用程序，我们将需要我们的应用程序的一些服务。最好的方法是使用后端对前端(BFF)。您可以将其视为旧的servlet引擎或应用程序的编排层。您的应用程序将与API或服务编排层进行通信。这里的神奇之处在于，您可以使用BFF将Javascript文件提供给宿主应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/e236d0d5524fd29a65ef6ca5b3d75dcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*EppZdzf2WUfBISR5mNk2kA.png"/></div></figure><p id="7513" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的示例中，聊天小部件将有一个聊天BFF，它将从其BFF中提供chat.js。日历应用程序也是如此。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/a81a3384d3d5b11a3dfa8c19c2456118.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*ET0yQ1Y3mo-DW9Z-smuJyA.png"/></div></figure><p id="c56a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在你的托管应用中，你必须导入你的javascript并在你的应用中使用基本元素。您的主机应用程序可以在任何您想要的框架中。如果您愿意，甚至可以动态加载JS。您可以使用您的框架路由和动态加载来做到这一点，或者您可以做一些简单的事情，如。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/53b9145c8fcf33bd6be68a3507fc1a1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*C-YuzfDklOrn2YHnV1yUjQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">ExternalFile.js</figcaption></figure><p id="6b71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关键是你的主机应用可以在任何框架中，也可以不在任何框架中。这给了你第二个显著的优势。日历，并独立于聊天进行部署和更新。反之亦然。无需重新部署主机应用程序即可从任一部分获得更新。这为构建应用程序提供了一种灵活的方式。我们的应用程序可以使用任何框架来构建。如果团队需要对他们的应用程序的部分有更多的控制，那么我们可以通过我们的构建过程导入代码。如果我们愿意，我们可以通过不同的方式和版本来介绍我们的应用程序部分。团队可以专注于核心能力的实现。我们将MFE的定义融入到我们的应用中。它是可移植的、可重用的代码，与技术无关，并且比自定义API更支持Web平台。我已经用这种方式为大型组织开发了几个应用程序，使用起来很愉快，上市速度也是首屈一指的。</p></div></div>    
</body>
</html>