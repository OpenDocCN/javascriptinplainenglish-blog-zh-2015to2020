<html>
<head>
<title>Deciding between Create React App and Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在创建React应用程序和Next.js之间做出选择</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deciding-between-create-react-app-and-next-js-76586ef7f22a?source=collection_archive---------3-----------------------#2020-08-05">https://javascript.plainenglish.io/deciding-between-create-react-app-and-next-js-76586ef7f22a?source=collection_archive---------3-----------------------#2020-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="25a0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个5分钟的指南，帮助你决定是为你的应用创建React App还是Next.js</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/22db01d78781dd7d507dabac5c4eb7ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*odXy8TQi3XXeF6KA5GFuwQ.jpeg"/></div></div></figure><p id="0626" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你正在阅读这篇文章，你可能是一名React开发人员，正在为你的新项目在<a class="ae ln" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">创建React App (CRA) </a>和<a class="ae ln" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>之间做出选择。我已经在几个项目中广泛使用了这两个工具，并开始喜欢上Next.js，因为它简单、易于开发，而且它在React的基础上增加了大量的功能。</p><p id="0324" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们来分解一下，包括做出决定的主要好处和注意事项。</p><h1 id="f6e8" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">CRA与Next.js</h1><p id="1410" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">CRA是官方推荐给大多数人启动一个新React项目的方法。它去掉了连接Webpack或Babel的所有困难部分，让我们可以直接构建我们的应用程序。</p><p id="f046" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Next.js是来自Vercel(以前称为Zeit)的React框架。它包含了强大的功能，但其中最好的是服务器端渲染。</p><h1 id="14a4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">Next.js的主要优势</h1><h2 id="a3af" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">服务器端呈现(SSR)</h2><p id="d662" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">使用SSR，当您的应用程序加载到浏览器上时，服务器将返回要呈现的页面的HTML。与客户端呈现(CSR)形成对比的是，服务器返回一个空的HTML，其中只有它需要加载的JavaScript文件的各种链接。</p><p id="a4d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着通过SSR，浏览器可以在JavaScript文件并行下载和执行的同时开始显示HTML。有了CSR，在页面变得可用和可交互之前，用户需要看更长时间的空白页面。因此，SSR在用户体验方面有巨大的优势。</p><p id="0d8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">LogRocket 做的一个更深入的实验<a class="ae ln" href="https://blog.logrocket.com/next-js-vs-create-react-app/" rel="noopener ugc nofollow" target="_blank">，展示了SSR在速度和灯塔评分方面的有效性。</a></p><h2 id="586a" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">Vercel上的免费托管</h2><p id="0164" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">作为一名开发人员，我有<a class="ae ln" href="https://harishv.me/projects/" rel="noopener ugc nofollow" target="_blank">大量的兼职项目</a>，还有什么比免费托管它们更好的呢？Vercel提供Next.js项目的免费托管，在这里你甚至可以用无服务器功能创建基于API的应用程序。</p><p id="df14" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">到目前为止，我已经在Vercel上托管了3个应用程序，通过与GitHub连接，运行时间和持续部署都很长。该平台托管Next.js应用程序令人惊叹。</p><h1 id="d569" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">Next.js的警告</h1><h2 id="26f2" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">Vercel上自由帐户的限制</h2><p id="392f" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">Vercel是所有Next.js应用程序的推荐托管方法，因为Next.js是由Vercel创建的，并针对托管进行了优化。</p><p id="ceca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您构建的应用程序不仅仅是一个辅助项目，那么您应该小心Vercel上的以下分层方法。这可能会对您的应用程序造成限制。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/757ebf1871b56b78323380f38fcc64c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TS5qnKDIxjqox9A3Mh2eDQ.png"/></div></div></figure><p id="0123" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个亮点是您可以拥有的无服务器功能数量最多为12个。对于服务器渲染的页面，它们将通过无服务器功能创建。如果您计划使用超过12页的SSR，那么这将是一个限制。</p><p id="4670" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个限制可以通过静态呈现一些页面来克服，而只在需要的地方保留SSR页面，这取决于项目的类型。</p><h2 id="66bf" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">使用Redux</h2><p id="f19c" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">Redux是一个流行的轻量级状态管理工具，如果您正在构建一个中型到大型的React应用程序，我猜想您可能会将Redux作为解决方案的一部分来实现。对于Next.js，最常见的实现方式是使用<a class="ae ln" href="https://github.com/kirill-konshin/next-redux-wrapper" rel="noopener ugc nofollow" target="_blank"> next-redux-wrapper </a> NPM模块。</p><p id="03c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">问题是这个模块要求我们像这样更新Next.js应用程序的<code class="fe my mz na nb b">_app.js</code>根页面:</p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="9dfa" class="ml lp iq nb b gy ng nh l ni nj">import React from 'react';<br/>import {wrapper} from '../components/store';<br/><br/>const MyApp = ({Component, pageProps}) =&gt; (<br/>    &lt;Component {...pageProps} /&gt;<br/>);<br/><br/>export default wrapper.withRedux(MyApp);</span></pre><p id="af33" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们导航到<code class="fe my mz na nb b">withRedux</code>的方法声明，我们可以看到它调用了<code class="fe my mz na nb b">getInitialProps</code>方法:</p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="ac36" class="ml lp iq nb b gy ng nh l ni nj">withRedux: (Component: any) =&gt; React.FunctionComponent&lt;WrapperProps&gt; &amp; {</span><span id="0c3e" class="ml lp iq nb b gy nk nh l ni nj">getInitialProps?(context: NextPageContext&lt;any, AnyAction&gt;): WrapperProps | Promise&lt;WrapperProps&gt;;</span><span id="9305" class="ml lp iq nb b gy nk nh l ni nj">};</span></pre><p id="1044" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过在<code class="fe my mz na nb b">_app.js</code>根级别调用<code class="fe my mz na nb b">getInitialProps</code>，现在所有的页面都将实现SSR。</p><h1 id="99aa" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">简单来说…</h1><ol class=""><li id="924d" class="nl nm iq kt b ku mg kx mh la nn le no li np lm nq nr ns nt bi translated">你想要Vercel提供的免费主机吗？作为一名有许多附带项目的开发人员，对我来说这是一个免费托管我的应用程序的好机会，不用担心会产生更多的成本。</li><li id="2065" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated"><strong class="kt ir">需要SSR吗？Next.js在React上提供了很好的特性，尤其是SSR。但是首先，问问你自己你的应用程序是否需要SSR？例如，如果您的应用程序大部分位于认证或登录屏幕之后，那么您甚至可能不需要SSR。</strong></li><li id="deb6" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated"><strong class="kt ir">Vercel的免费等级够你用吗？<br/> </strong>如果你确定你需要SSR，并且喜欢Next.js的许多特性，那么下一个问题就是问一下Vercel的免费层是否对你有好处。否则，您是否愿意升级到团队计划的下一层，即起价为20美元/月/用户的Pro层？</li></ol><h2 id="dfd9" class="ml lp iq bd lq mm mn dn lu mo mp dp ly la mq mr ma le ms mt mc li mu mv me mw bi translated">简单英语的JavaScript</h2><p id="a953" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae ln" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kt ir">！</strong></p></div></div>    
</body>
</html>