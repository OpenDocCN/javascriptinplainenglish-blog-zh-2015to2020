# å°†å¾·è¯ºæ€æ­»èŠ‚ç‚¹ã€‚æœªæ¥å‡ å¤©çš„ JSï¼Ÿ

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/will-deno-kill-node-js-in-the-coming-days-df6f6ebf494?source=collection_archive---------6----------------------->

## Deno ä¸ºå¼€å‘è€…å¸¦æ¥çš„å…³é”®ä¸œè¥¿

![](img/06a0c4a01022ae3382f5566c22b7c54e.png)

Photo by [Jimmy Chang](https://unsplash.com/@photohunter?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/dagger?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

Node.jsï¼Œåå¤šå¹´æ¥å¼€å‘äººå‘˜éå¸¸ç†Ÿæ‚‰çš„ä¸œè¥¿ã€‚åœ¨æœªæ¥çš„æ—¥å­é‡Œï¼Œä¼šä¸ä¼šæœ‰ä¸€ä¸ªå« Deno çš„ä¸œè¥¿å–ä»£è¿™ä¸ªè¶…çº§æµè¡Œçš„è¿è¡Œæ—¶ï¼Ÿ

**æ³¨:Node.js å’Œ Deno éƒ½æ˜¯åŒä¸€ä¸ªçˆ¶äº²ç‘å®‰Â·è¾¾å°”çš„å­©å­ã€‚**

ä»–åœ¨è¿™é‡Œä¸ Nodejs [è°ˆè®ºä»–çš„é”™è¯¯](https://www.youtube.com/watch?v=M3BM9TB-8yA&vl=en)å¹¶ä¸”åœ¨è¿™é‡Œæ›´æ·±å…¥åœ°ç ”ç©¶äº† deno

å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒDeno æ˜¯ä¸€ä¸ªéå¸¸æ–°çš„ä¸œè¥¿ã€‚ä½œä¸ºä»‹ç»

> Deno æ˜¯ä¸€ä¸ªç®€å•ã€ç°ä»£å’Œå®‰å…¨çš„ JavaScript å’Œ TypeScript è¿è¡Œæ—¶ï¼Œå®ƒä½¿ç”¨ V8 å¹¶å†…ç½®äº Rust ä¸­ã€‚

![](img/4afa21d0271f2d79ba3be77ef8790abb.png)

Deno logo looks like this.

ä»å¤´å¼€å§‹æ„å»º

*   **V8 as node.js**
*   **Rust** è€Œä¸æ˜¯ C++ä¸­çš„ node
*   **Tokio(äº‹ä»¶å¾ªç¯)**ä»£æ›¿ libuv
*   **æ‰“å­—ç¨¿**ä»£æ›¿ vanila JS

æˆ‘åœ¨è¿™é‡Œæ³¨æ„åˆ°äº†è¿™ä¸ªæ–°è¿è¡Œæ—¶çš„**å®‰è£…**å’Œä¸€äº›æœ€æœ‰è¶£çš„**æ–¹é¢**ã€‚

# è£…ç½®

**ä½¿ç”¨è‡ªåˆ¶è½¯ä»¶(macOS):**

```
brew install deno
```

**ä½¿ç”¨ Cargo (Windowsã€macOSã€Linux):**

```
cargo install deno
```

# ç»æ©æ‰“å­—ç¨¿

Deno é»˜è®¤æ”¯æŒ typescriptã€‚ä¸éœ€è¦å¤æ‚çš„è®¾ç½®æˆ–é…ç½®ã€‚

> å®‰æ¯å§ tsconfig.json

å†…ç½®å¯¹ç±»å‹è„šæœ¬çš„æ”¯æŒï¼Œå³ä½ å¯ä»¥ç›´æ¥è¿è¡Œç±»å‹è„šæœ¬æ–‡ä»¶è€Œæ— éœ€ç¼–è¯‘æˆ javascriptã€‚

Deno ä½¿å¾—ä½¿ç”¨ TypeScript å˜å¾—å®¹æ˜“ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®æ–‡ä»¶ã€‚å°½ç®¡å¦‚æ­¤ï¼Œç”¨æ™®é€šçš„ JavaScript ç¼–å†™ç¨‹åºå¹¶æ¯«æ— å›°éš¾åœ°ç”¨ Deno æ‰§è¡Œå®ƒä»¬æ˜¯å¯èƒ½çš„ã€‚

# é»˜è®¤å®‰å…¨

> é»˜è®¤å®‰å…¨ã€‚é™¤éæ˜ç¡®å¯ç”¨ï¼Œå¦åˆ™æ²¡æœ‰æ–‡ä»¶ã€ç½‘ç»œæˆ–ç¯å¢ƒè®¿é—®æƒé™ã€‚

å¾·è¯ºæ˜¯å¤©ç”Ÿå®‰å…¨çš„ã€‚æ‚¨å¿…é¡»æ˜ç¡®æŒ‡å®šå®‰å…¨æ€§ï¼Œå¦‚ç½‘ç»œã€ç¯å¢ƒæˆ–ä»»ä½•ç±»ä¼¼çš„ä¸œè¥¿ã€‚

ä¸èŠ‚ç‚¹ä¸åŒï¼Œdeno åœ¨ä¸»æœºçš„æ²™ç›’ä¸­è¿è¡Œï¼Œå³

*   æ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™
*   æ²¡æœ‰ç½‘ç»œæ¥å…¥
*   æ— æ³•è®¿é—®å…¶ä»–è„šæœ¬
*   æ²¡æœ‰ç¯å¢ƒå˜é‡è®¿é—®

å› æ­¤ï¼Œä»è¿è¡Œæ—¶åˆ°ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿç­‰éƒ½æ— æ³•è®¿é—®ã€‚å½“æ‚¨çš„ä»£ç è¯•å›¾è®¿é—®è¿™äº›èµ„æºæ—¶ï¼Œç³»ç»Ÿä¼šæç¤ºæ‚¨å…è®¸è¯¥æ“ä½œã€‚

è®©æˆ‘ä»¬è¯•ä¸€ä¸ªä¾‹å­

FirstDeno.ts

ç°åœ¨è¿è¡Œæ–‡ä»¶çš„æ–¹å¼:

```
deno run FirstDeno.ts
```

ç°åœ¨ï¼Œå®‰å…¨å±éšœå¼€å§‹å‘æŒ¥ä½œç”¨

```
**error**: Uncaught PermissionDenied: network access to "0.0.0.0:8000", run again with the --allow-net flag
at ***unwrapResponse*** ($deno$/ops/dispatch_json.ts:43:11)
at ***Object.sendSync*** ($deno$/ops/dispatch_json.ts:72:10)
at ***Object.listen*** ($deno$/ops/net.ts:51:10)
at ***listen*** ($deno$/net.ts:152:22)
at ***serve*** (https://deno.land/std@0.50.0/http/server.ts:261:20)
at file:///Users/tunvirrahman/Downloads/FirstDeno.ts:2:11
```

å› ä¸º Deno åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å®‰å…¨çš„ï¼Œæ‚¨å¿…é¡»æ˜¾å¼åœ°å…è®¸ç½‘ç»œ

```
deno run â€” allow-net FirstDeno.ts
```

ä»¥ä¸‹æ˜¯å¯æä¾›çš„å®‰å…¨é€‰é¡¹

```
--allow-all # Allow all permissions--allow-env # Allow environment access--allow-hrtime # Allow high resolution time measurement--allow-net=<allow-net> # Allow network access--allow-plugin # Allow loading plugins--allow-read=<allow-read> # Allow file system read access--allow-run # Allow running subprocesses--allow-write=<allow-write> # Allow file system write access
```

# RIP åŒ…ç®¡ç†å™¨

Deno ä¸éœ€è¦ä»»ä½•åŒ…ç®¡ç†å™¨æˆ–è€… **package.json** ã€‚ç›¸åï¼Œå®ƒä½¿ç”¨äº†å¦‚ä¸‹ç°ä»£ ES è¯­æ³•

> æ²¡æœ‰**æ›´æ²¡æœ‰** `**package.json**` **å’Œ** `**node_modules**`

```
import { serve } from â€œhttps://deno.land/std@0.50.0/http/server.ts";
```

å½“æˆ‘ä»¬å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼ŒDeno ä¸‹è½½æ‰€æœ‰å¯¼å…¥çš„æ¨¡å—å¹¶ç¼“å­˜å®ƒä»¬ã€‚ä¸€æ—¦å®ƒä»¬è¢«ç¼“å­˜ï¼ŒDeno å°†ä¸ä¼šå†æ¬¡ä¸‹è½½å®ƒä»¬ï¼Œç›´åˆ°æˆ‘ä»¬ç”¨`--reload`æ ‡å¿—æ˜ç¡®è¦æ±‚å®ƒã€‚

Deno ä¸æ”¯æŒ npm åŒ…ã€‚è¿™ä»¤äººæ‹…å¿§ï¼Œå¯¹å—ï¼Ÿ

ç›¸åï¼Œå®ƒæœ‰ä¸€ä¸ªç±»ä¼¼äº Go çš„æ¨¡å—ç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡ URL å¯¼å…¥æ¨¡å—

# æ‰¿è¯ºä»¥æ‰¿è¯ºä¸ºåŸºç¡€

å®ƒæ”¯æŒé¡¶çº§ç­‰å¾…ã€‚ä¸€åˆ‡å¼‚æ­¥éƒ½æ˜¯åŸºäº Deno çš„æ‰¿è¯ºã€‚

> æ‹œæ‹œå›ç”µåœ°ç‹±

```
const res = await fetch("https://someUrl")
```

è¿™å¹¶ä¸è¦æ±‚åŒ…å«æ–¹æ³•æ˜¯å¼‚æ­¥çš„ã€‚

# Deno æ ‡å‡†æ¨¡å—

è¿™äº›æ¨¡å—æ²¡æœ‰å¤–éƒ¨ä¾èµ–æ€§ï¼Œå®ƒä»¬ç”± Deno æ ¸å¿ƒå›¢é˜Ÿå®¡æŸ¥ã€‚ç›®çš„æ˜¯æœ‰ä¸€å¥—æ ‡å‡†çš„é«˜è´¨é‡ä»£ç ï¼Œæ‰€æœ‰ Deno é¡¹ç›®éƒ½å¯ä»¥å¤§èƒ†åœ°ä½¿ç”¨ã€‚

è¦æµè§ˆæ¨¡å—çš„æ–‡æ¡£:

*   å»[https://deno.land/std/](https://deno.land/std/)ã€‚
*   å¯¼èˆªåˆ°ä»»ä½•æ„Ÿå…´è¶£çš„æ¨¡å—ã€‚
*   ç‚¹å‡»â€œæŸ¥çœ‹æ–‡æ¡£â€ã€‚

# æµè§ˆå™¨å…¼å®¹æ€§

Deno çš„ç›®æ ‡æ˜¯å…¼å®¹æµè§ˆå™¨ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå½“ä½¿ç”¨ ES æ¨¡å—æ—¶ï¼Œæˆ‘ä»¬ä¸å¿…ä½¿ç”¨ä»»ä½•åƒ webpack è¿™æ ·çš„æ„å»ºå·¥å…·æ¥ä½¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‡†å¤‡å¥½åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚

ç„¶è€Œï¼Œåƒ Babel è¿™æ ·çš„å·¥å…·ä¼šå°†ä»£ç è½¬æ¢åˆ° JavaScript çš„ ES5 ç‰ˆæœ¬ï¼Œå› æ­¤ï¼Œä»£ç ç”šè‡³å¯ä»¥åœ¨ä¸æ”¯æŒè¯¥è¯­è¨€æ‰€æœ‰æœ€æ–°ç‰¹æ€§çš„æ—§æµè§ˆå™¨ä¸­è¿è¡Œã€‚ä½†è¿™ä¹Ÿæ˜¯ä»¥åœ¨æœ€ç»ˆæ–‡ä»¶ä¸­åŒ…å«å¤§é‡ä¸å¿…è¦çš„ä»£ç å’Œè¾“å‡ºæ–‡ä»¶è†¨èƒ€ä¸ºä»£ä»·çš„ã€‚

ç”±æˆ‘ä»¬æ¥å†³å®šæˆ‘ä»¬çš„ä¸»è¦ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œå¹¶åšå‡ºç›¸åº”çš„é€‰æ‹©ã€‚

# ç»“è®º

> Node.js çš„ä¼™è®¡ä»¬ã€‚ä¸è¦æƒŠæ…Œã€‚Node å“ªå„¿ä¹Ÿä¸å»ï¼

å¦‚æœæ‚¨æ­£åœ¨ä»å¤´å¼€å§‹ç¼–å†™è½¯ä»¶ï¼ŒDeno å¯èƒ½å€¼å¾—ç ”ç©¶ã€‚ç›®å‰å®ƒæ˜¯ä¸ºçˆ±å¥½è€…å‡†å¤‡çš„ã€‚

# æ„Ÿè°¢é˜…è¯»ã€‚å¹²æ¯ğŸ¥‚

## **ç®€æ˜è‹±è¯­å›¢é˜Ÿçš„ç¬”è®°**

ä½ çŸ¥é“æˆ‘ä»¬æœ‰å››ä»½å‡ºç‰ˆç‰©å’Œä¸€ä¸ª YouTube é¢‘é“å—ï¼Ÿä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„ä¸»é¡µ [**plainenglish.io**](https://plainenglish.io/) æ‰¾åˆ°æ‰€æœ‰è¿™äº›å†…å®¹â€”â€”å…³æ³¨æˆ‘ä»¬çš„å‡ºç‰ˆç‰©å¹¶ [**è®¢é˜…æˆ‘ä»¬çš„ YouTube é¢‘é“**](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw) **æ¥è¡¨è¾¾ä½ çš„çˆ±å§ï¼**