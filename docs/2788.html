<html>
<head>
<title>Build Tic Tac Toe Game Using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript构建井字游戏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-tic-tac-toe-game-using-javascript-3afba3c8fdcc?source=collection_archive---------0-----------------------#2020-07-24">https://javascript.plainenglish.io/build-tic-tac-toe-game-using-javascript-3afba3c8fdcc?source=collection_archive---------0-----------------------#2020-07-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b08c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何使用纯JavaScript构建简单的井字游戏</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/83f301341076cb0b5c82fb382ab3c053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssbJoeXacv1fvlqSoge9qA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by Jonathan Petersson on Unsplash</figcaption></figure><p id="762e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">今天在这个故事中，我们将使用纯JavaScript创建一个简单的井字游戏。所以你必须知道一些基本的html和css和查询选择器功能来创建这个游戏。</p><p id="d5f8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们进入主题。首先，我们将为我们的游戏创建一个基本的结构。首先确保创建一个用户界面。让我们分解成小块。以便于我们维护。</p><ul class=""><li id="4646" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">标题</li><li id="97f7" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">3×3网格</li><li id="eb8a" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">显示当前玩家的回合信息。</li><li id="b7bd" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">显示谁赢了这场比赛。</li><li id="0378" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">显示游戏是否以平局结束。</li><li id="dc31" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">重启按钮重启整个游戏。</li></ul><p id="9f5a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们进入点击单元格的游戏流程。</p><ul class=""><li id="b9ce" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">追踪所有点击我们手机的信息。</li><li id="c1b6" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">检查有效的移动，并确保已播放的单元格是否已被单击。</li><li id="e156" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">更新游戏状态。</li><li id="7fe9" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">验证游戏状态。</li><li id="47ec" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">更新对UI所做的更改。</li><li id="3ffe" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">重复，最后结束游戏。</li></ul></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="5292" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们深入到建造它的项目中。</p><h1 id="b5dd" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">文件夹的结构</h1><p id="e5b9" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">让我们开始构建游戏的用户界面。正如我之前提到的，这是一个简单的游戏，所以让我们使用户界面也简单。</p><p id="7785" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">该结构包含三个主要文件。</p><ul class=""><li id="9dc4" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">index.html(包含用户界面结构)</li><li id="546b" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">style.css(让我们的游戏看起来更聪明)</li><li id="06a2" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">script.js(包含游戏逻辑)</li></ul><h1 id="59a3" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">超文本标记语言</h1><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="fc61" class="no mn iq nk b gy np nq l nr ns">&lt;!doctype html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;meta name="viewport"<br/>          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;<br/>    &lt;title&gt;Tic Tac Toe&lt;/title&gt;<br/>    &lt;link rel="stylesheet" href="style.css"&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>    &lt;section&gt;<br/>        &lt;h1 class="game--title"&gt;Tic Tac Toe&lt;/h1&gt;<br/>        &lt;div class="game--container"&gt;<br/>            &lt;div data-cell-index="0" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="1" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="2" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="3" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="4" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="5" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="6" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="7" class="cell"&gt;&lt;/div&gt;<br/>            &lt;div data-cell-index="8" class="cell"&gt;&lt;/div&gt;<br/>        &lt;/div&gt;<br/>        &lt;h2 class="game--status"&gt;&lt;/h2&gt;<br/>        &lt;button class="game--restart"&gt;Restart Game&lt;/button&gt;<br/>    &lt;/section&gt;<br/>&lt;script src="script.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="bcdf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将样式表包含在<strong class="kx ir"> &lt; head &gt; </strong>元素中，以使样式表在html之前加载。</p><p id="fa0b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还在<strong class="kx ir"> &lt; /body &gt; </strong>上方包含了<strong class="kx ir"> script.js </strong>文件，以便在html之后加载JavaScript文件。</p><p id="9147" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还包含了<strong class="kx ir"> &lt; h2 &gt; </strong>元素来显示游戏信息和重启按钮。</p><p id="fd21" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">每个还包含用于跟踪点击的数据单元索引属性。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="24eb" class="mm mn iq bd mo mp nt mr ms mt nu mv mw jw nv jx my jz nw ka na kc nx kd nc nd bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h1><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="4069" class="no mn iq nk b gy np nq l nr ns">body {<br/>    font-family: "Arial", sans-serif;<br/>}<br/>section {<br/>    text-align: center;<br/>}<br/>.game--container {<br/>    display: grid;<br/>    grid-template-columns: repeat(3, auto);<br/>    width: 306px;<br/>    margin: 50px auto;<br/>}<br/>.cell {<br/>    font-family: "Permanent Marker", cursive;<br/>    width: 100px;<br/>    height: 100px;<br/>    box-shadow: 0 0 0 1px #333333;<br/>    border: 1px solid #333333;<br/>    cursor: pointer;<br/>line-height: 100px;<br/>    font-size: 60px;<br/>}</span></pre><p id="8788" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我只是想实现<strong class="kx ir">的样式。css网格的游戏容器。</strong></p><p id="5447" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们要构建3×3网格，因此确保网格列模板的属性为3，并重复它。</p><p id="8aac" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它将包含的单元格分成3列，单元格自动设置它们的宽度。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="8091" class="mm mn iq bd mo mp nt mr ms mt nu mv mw jw nv jx my jz nw ka na kc nx kd nc nd bi translated">Java Script语言</h1><p id="04a0" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">现在让我们进入游戏逻辑，将JavaScript代码分解成小块用于我们的模板。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="31bf" class="no mn iq nk b gy np nq l nr ns">/*<br/>We store our game status element here to allow us to more easily <br/>use it later on <br/>*/<br/>const statusDisplay = document.querySelector('.game--status');<br/>let gameActive = true;<br/>let currentPlayer = "X";<br/>let gameState = ["", "", "", "", "", "", "", "", ""];<br/>const winningMessage = () =&gt; `Player ${currentPlayer} has won!`;<br/>const drawMessage = () =&gt; `Game ended in a draw!`;<br/>const currentPlayerTurn = () =&gt; `It's ${currentPlayer}'s turn`;<br/>/*<br/>We set the inital message to let the players know whose turn it is<br/>*/<br/>statusDisplay.innerHTML = currentPlayerTurn();<br/>function handleCellPlayed() {<br/><br/>}<br/>function handlePlayerChange() {<br/><br/>}<br/>function handleResultValidation() {<br/><br/>}<br/>function handleCellClick() {<br/><br/>}<br/>function handleRestartGame() {<br/><br/>}<br/>document.querySelectorAll('.cell').forEach(cell =&gt; cell.addEventListener('click', handleCellClick));<br/>document.querySelector('.game--restart').addEventListener('click', handleRestartGame);</span></pre><p id="4ef5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们刚刚概述了我们的游戏逻辑。我们将需要处理我们的游戏逻辑。所以让我们创建我们的逻辑。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="8d4d" class="mm mn iq bd mo mp nt mr ms mt nu mv mw jw nv jx my jz nw ka na kc nx kd nc nd bi translated">handleCellClick</h1><p id="282e" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">在handleCellClick中，我们必须处理两件事。首先，我们必须检查单元格是否已经被点击。如果没有，继续我们的游戏。</p><p id="22a0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们看看它是什么样子的。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="5e3c" class="no mn iq nk b gy np nq l nr ns">function handleCellClick(clickedCellEvent) {<br/>/*<br/>We will save the clicked html element in a variable for easier further use<br/>*/    <br/>    const clickedCell = clickedCellEvent.target;<br/>/*<br/>Here we will grab the 'data-cell-index' attribute from the clicked cell to identify where that cell is in our grid. <br/>Please note that the getAttribute will return a string value. Since we need an actual number we will parse it to an <br/>integer(number)<br/>*/<br/>    const clickedCellIndex = parseInt(<br/>      clickedCell.getAttribute('data-cell-index')<br/>    );<br/>/* <br/>Next up we need to check whether the call has already been played, <br/>or if the game is paused. If either of those is true we will simply ignore the click.<br/>*/<br/>    if (gameState[clickedCellIndex] !== "" || !gameActive) {<br/>        return;<br/>    }<br/>/* <br/>If everything if in order we will proceed with the game flow<br/>*/    <br/>    handleCellPlayed(clickedCell, clickedCellIndex);<br/>    handleResultValidation();<br/>}</span></pre><h1 id="94b5" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">handleCellPlayed</h1><p id="3056" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">在这个处理程序中，我们必须更新两件事。首先更新我们的ge状态，然后是用户界面。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="2741" class="no mn iq nk b gy np nq l nr ns">function handleCellPlayed(clickedCell, clickedCellIndex) {<br/>/*<br/>We update our internal game state to reflect the played move, <br/>as well as update the user interface to reflect the played move<br/>*/<br/>    gameState[clickedCellIndex] = currentPlayer;<br/>    clickedCell.innerHTML = currentPlayer;<br/>}</span></pre><p id="ecb2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们只接受当前被点击的单元格和被点击单元格的索引。</p><h1 id="594d" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">handleResultValidation</h1><p id="71f2" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">结果验证是我们井字游戏的核心。在这里，我们将只检查游戏是否以赢或平结束。</p><p id="2bf1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们开始检查当前玩家是否赢得了游戏。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="ab68" class="no mn iq nk b gy np nq l nr ns">const winningConditions = [<br/>    [0, 1, 2],<br/>    [3, 4, 5],<br/>    [6, 7, 8],<br/>    [0, 3, 6],<br/>    [1, 4, 7],<br/>    [2, 5, 8],<br/>    [0, 4, 8],<br/>    [2, 4, 6]<br/>];<br/>function handleResultValidation() {<br/>    let roundWon = false;<br/>    for (let i = 0; i &lt;= 7; i++) {<br/>        const winCondition = winningConditions[i];<br/>        let a = gameState[winCondition[0]];<br/>        let b = gameState[winCondition[1]];<br/>        let c = gameState[winCondition[2]];<br/>        if (a === '' || b === '' || c === '') {<br/>            continue;<br/>        }<br/>        if (a === b &amp;&amp; b === c) {<br/>            roundWon = true;<br/>            break<br/>        }<br/>    }<br/>if (roundWon) {<br/>        statusDisplay.innerHTML = winningMessage();<br/>        gameActive = false;<br/>        return;<br/>    }<br/>}</span></pre><p id="9784" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果游戏以平局结束，让我们检查另一个条件。在特定条件下，比赛以平局结束的方式。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="f562" class="no mn iq nk b gy np nq l nr ns">const winningConditions = [<br/>    [0, 1, 2],<br/>    [3, 4, 5],<br/>    [6, 7, 8],<br/>    [0, 3, 6],<br/>    [1, 4, 7],<br/>    [2, 5, 8],<br/>    [0, 4, 8],<br/>    [2, 4, 6]<br/>];<br/>function handleResultValidation() {<br/>    let roundWon = false;<br/>    for (let i = 0; i &lt;= 7; i++) {<br/>        const winCondition = winningConditions[i];<br/>        let a = gameState[winCondition[0]];<br/>        let b = gameState[winCondition[1]];<br/>        let c = gameState[winCondition[2]];<br/>        if (a === '' || b === '' || c === '') {<br/>            continue;<br/>        }<br/>        if (a === b &amp;&amp; b === c) {<br/>            roundWon = true;<br/>            break<br/>        }<br/>    }<br/>if (roundWon) {<br/>        statusDisplay.innerHTML = winningMessage();<br/>        gameActive = false;<br/>        return;<br/>    }<br/>/* <br/>We will check weather there are any values in our game state array <br/>that are still not populated with a player sign<br/>*/<br/>    let roundDraw = !gameState.includes("");<br/>    if (roundDraw) {<br/>        statusDisplay.innerHTML = drawMessage();<br/>        gameActive = false;<br/>        return;<br/>    }<br/>/*<br/>If we get to here we know that the no one won the game yet, <br/>and that there are still moves to be played, so we continue by changing the current player.<br/>*/<br/>    handlePlayerChange();<br/>}</span></pre><h1 id="b288" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">handlePlayerChange</h1><p id="0b2a" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">这将改变当前玩家并更新游戏状态。在这里，我们使用三元运算符将值赋给新玩家。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="318a" class="no mn iq nk b gy np nq l nr ns">function handlePlayerChange() {<br/>    currentPlayer = currentPlayer === "X" ? "O" : "X";<br/>    statusDisplay.innerHTML = currentPlayerTurn();<br/>}</span></pre><h1 id="009e" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">handleRestartGame</h1><p id="9a7e" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">这将把我们所有的游戏追踪设置回默认状态。它清除游戏板上的所有信号，并将游戏状态更新到当前玩家消息中。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="eef0" class="no mn iq nk b gy np nq l nr ns">function handleRestartGame() {<br/>    gameActive = true;<br/>    currentPlayer = "X";<br/>    gameState = ["", "", "", "", "", "", "", "", ""];<br/>    statusDisplay.innerHTML = currentPlayerTurn();<br/>    document.querySelectorAll('.cell')<br/>               .forEach(cell =&gt; cell.innerHTML = "");<br/>}</span></pre></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="abe5" class="mm mn iq bd mo mp nt mr ms mt nu mv mw jw nv jx my jz nw ka na kc nx kd nc nd bi translated">结论</h1><p id="5c6f" class="pw-post-body-paragraph kv kw iq kx b ky ne jr la lb nf ju ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">我希望你喜欢很多，并找到井字游戏的基本功能。当然，这是一个基本的，你可以把它变成一个多人游戏。你也可以把这个项目发展成一个更长的项目。</p><p id="9bf4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>