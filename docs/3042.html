<html>
<head>
<title>How to Write Tests with React Testing Library and TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ä½¿ç”¨ååº”æµ‹è¯•åº“å’Œç±»å‹è„šæœ¬ç¼–å†™æµ‹è¯•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/how-to-write-the-basic-aaa-pattern-tests-with-react-testing-library-and-typescript-6836173d656b?source=collection_archive---------1-----------------------#2020-08-23">https://javascript.plainenglish.io/how-to-write-the-basic-aaa-pattern-tests-with-react-testing-library-and-typescript-6836173d656b?source=collection_archive---------1-----------------------#2020-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3b02" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ç«‹å³å®æ–½åŸºæœ¬AAAæµ‹è¯•æ¨¡å¼ï¼</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/94c15478355694f90f67110cdd3441b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QXB8Gwvo3Acopu_v4CDFew.png"/></div></div></figure><p id="7818" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æ¯ä¸ªäººéƒ½çŸ¥é“ç¼–å†™æµ‹è¯•å¯¹è½¯ä»¶å¼€å‘æ¥è¯´éå¸¸é‡è¦ã€‚å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿä»¥æ›´å°‘çš„é”™è¯¯æ›´å¿«åœ°æ›´æ”¹ä»£ç ã€‚</p><p id="171b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è°ˆåˆ°å‰ç«¯ï¼Œ<code class="fe ln lo lp lq b">React Testing Library</code>å˜å¾—è¶Šæ¥è¶Šæµè¡Œï¼Œå› ä¸ºä¸<code class="fe ln lo lp lq b">enzyme</code>ç›¸æ¯”ï¼Œå®ƒæ›´å®¹æ˜“æµ‹è¯•åä½œç”¨é’©å­ã€‚ç„¶è€Œï¼Œåˆ›å»ºæµ‹è¯•çš„æ–¹å¼å®Œå…¨ä¸åŒã€‚å› æ­¤ï¼Œæœ¬æ–‡è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨React Testing Libraryå’ŒTypeScriptç¼–å†™åŸºæœ¬çš„AAAæ¨¡å¼æµ‹è¯•ã€‚</p><p id="696f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¦‚æœæ‚¨æƒ³äº†è§£ååº”æµ‹è¯•åº“çš„å…¶ä»–ä¸»é¢˜ï¼Œè¯·å‚è€ƒä¸‹é¢çš„æ–‡ç« ã€‚</p><ul class=""><li id="df1c" class="lr ls iq kt b ku kv kx ky la lt le lu li lv lm lw lx ly lz bi translated"><a class="ae ma" href="https://medium.com/javascript-in-plain-english/the-practical-guide-to-start-react-testing-library-with-typescript-d386804a018" rel="noopener">ç”¨TypeScriptå¯åŠ¨ååº”æµ‹è¯•åº“çš„å®ç”¨æŒ‡å—</a></li><li id="0e77" class="lr ls iq kt b ku mb kx mc la md le me li mf lm lw lx ly lz bi translated"><a class="ae ma" href="https://medium.com/@egctoru/how-to-setup-react-testing-library-for-material-ui-styled-component-with-typescript-556decbcbb55" rel="noopener">å¦‚ä½•ç”¨TypeScript </a>å»ºç«‹ææ–™UIé£æ ¼ç»„ä»¶çš„ååº”æµ‹è¯•åº“</li><li id="08ea" class="lr ls iq kt b ku mb kx mc la md le me li mf lm lw lx ly lz bi translated"><a class="ae ma" href="https://medium.com/@egctoru/snapshots-of-material-ui-styled-component-with-react-testing-library-and-typescript-d82d7d926d2c" rel="noopener">å¸¦æœ‰ååº”æµ‹è¯•åº“å’Œç±»å‹è„šæœ¬çš„ææ–™UIæ ·å¼ç»„ä»¶çš„å¿«ç…§</a></li></ul><h1 id="1f3f" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">æ ¸å¿ƒåŸåˆ™</h1><p id="6a62" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated"><strong class="kt ir">Kent c . dods</strong>æœ€é‡è¦çš„åŸåˆ™æ˜¯:<strong class="kt ir"> </strong> <em class="nd">â€œä½ çš„æµ‹è¯•è¶Šåƒä½ çš„è½¯ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä»¬å°±è¶Šèƒ½ç»™ä½ ä¿¡å¿ƒã€‚â€</em></p><p id="85fc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è¿™ä¸è½¯ä»¶å·¥ç¨‹å¸ˆæ‰€åšçš„å®Œå…¨ä¸åŒã€‚é€šå¸¸ï¼Œæ‚¨ç¼–å†™æµ‹è¯•æ¥ç¡®ä¿æ¯ä¸ªå®ç°éƒ½æ˜¯æ­£ç¡®çš„ã€‚ä½†æ˜¯React Testing Libraryå£°ç§°ä½ çš„æµ‹è¯•å¿…é¡»åŸºäºç”¨æˆ·å¦‚ä½•æ¥è§¦å®ƒï¼Œè€Œä¸æ˜¯ä½ çš„å®ç°ã€‚</p><p id="5d9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªç®€å•çš„ååº”ç”¨ç¨‹åºç¤ºä¾‹ã€‚æœ‰äº†é…¶ï¼Œæµ‹è¯•å°±ä»å®ç°æ˜¯å¦‚ä½•å·¥ä½œçš„å¼€å§‹ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="52f1" class="ni mh iq lq b gy nj nk l nl nm">// __test__/with_enzyme.js</span><span id="813c" class="ni mh iq lq b gy nn nk l nl nm">import PlusButton from "/path/to/PlusButton.tsx";<br/>import { shallow } from "enzyme";</span><span id="f2b2" class="ni mh iq lq b gy nn nk l nl nm">it("call handleCountUp", () =&gt; {<br/>  const wrapper = shallow(&lt;PlusButton /&gt;);<br/>  wrapper.instance().onClick = jest.fn();<br/>  wrapper.update()<br/>  wrapper.instance().handleClick();<br/>  expect(wrapper.instance().onClick).toBeCalled();<br/>});</span></pre><p id="071f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡ååº”æµ‹è¯•åº“ï¼Œæµ‹è¯•æ˜¯å¦‚ä½•ä½¿ç”¨ç»„ä»¶çš„ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="3fb3" class="ni mh iq lq b gy nj nk l nl nm">// __test__/with_testing_library.js</span><span id="7717" class="ni mh iq lq b gy nn nk l nl nm">import Counter from "path/to/Counter.tsx";<br/>import { render, fireEvent, waitFor } from "@testing-library/react";</span><span id="ea34" class="ni mh iq lq b gy nn nk l nl nm">it("count up the number", async () =&gt; {<br/>  documentBody = render(&lt;Index /&gt;);<br/>  expect(documentBody.getByText("0")).toBeInDocument();</span><span id="36fe" class="ni mh iq lq b gy nn nk l nl nm">  const plusButton = documentBody.getByText("+");<br/>  fireEvent.click(plusButton);<br/>  <br/>  await waitFor(() =&gt; {<br/>    expect(document.getByText("1")).toBeinDocument();<br/>  })<br/>});</span></pre><p id="746c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">åŒºåˆ«æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚é…¶æµ‹è¯•æ‚¨çš„å®ç°ï¼ŒonClickè¢«ç§°ä¸ºã€‚ä½†æ˜¯ååº”æµ‹è¯•åº“æµ‹è¯•ç”¨æˆ·ä½“éªŒã€‚æ­£å¦‚æ‚¨æƒ³è±¡çš„é‚£æ ·ï¼Œç¼–å†™React Testing Libraryæµ‹è¯•æ›´è€—æ—¶ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ç§é›†æˆæµ‹è¯•ã€‚å¦‚æœæ‚¨å–œæ¬¢ï¼Œè¯·ç»§ç»­ï¼</p><h1 id="7ac6" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">è®¾ç½®æ¼”ç¤ºåº”ç”¨ç¨‹åº</h1><p id="fb9c" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">å› ä¸ºæœ€å¥½è‡ªå·±ç¼–å†™ä»£ç ï¼Œæ‰€ä»¥å‡†å¤‡äº†ä¸€ä¸ªæ¼”ç¤ºåº”ç”¨ç¨‹åºï¼Œåä¸ºâ€œæˆ‘çš„å£è¢‹å¦–æ€ªâ€ã€‚<a class="ae ma" href="https://medium.com/javascript-in-plain-english/the-practical-guide-to-start-react-testing-library-with-typescript-d386804a018" rel="noopener">æ­¤å¤„</a>å¯¹å…¶è¿›è¡Œæ¦‚è¿°ã€‚</p><p id="c218" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è¯·å…‹éš†æ¼”ç¤ºåº”ç”¨ç¨‹åºåº“ï¼Œå¹¶è¯·åˆ‡æ¢åˆ†æ”¯ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="9b41" class="ni mh iq lq b gy nj nk l nl nm">$ git clone <a class="ae ma" href="https://github.com/egurinko/react-testing-library-demo.git" rel="noopener ugc nofollow" target="_blank">https://github.com/egurinko/react-testing-library-demo.git</a><br/>$ git switch feature/01_BASIC_GUIDE</span></pre><p id="798a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æ‚¨å¯ä»¥ä½¿ç”¨è¿è¡Œè¯¥åº”ç”¨ç¨‹åº</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="126a" class="ni mh iq lq b gy nj nk l nl nm">$ yarn<br/>$ yarn start</span></pre><p id="4058" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä½¿ç”¨è¿è¡Œæµ‹è¯•</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="13d2" class="ni mh iq lq b gy nj nk l nl nm">$ yarn test</span></pre><h1 id="6c3a" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">æƒ³æƒ³åº”è¯¥å†™ä»€ä¹ˆæ ·çš„æµ‹è¯•</h1><p id="f9d6" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">å­¦ä¹ Reactæµ‹è¯•åº“åŸºç¡€çš„å¥½ç»„ä»¶æ˜¯<code class="fe ln lo lp lq b">src/components/home/Index.tsx</code>ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/b0305f17bddcb44b57e55391810c3d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*g7yX1FZtKEISs8fP1dViAA.gif"/></div></div></figure><p id="d86c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å°½ç®¡ä½ æƒ³å†™æµ‹è¯•ï¼Œè¯·åœæ­¢å®ƒã€‚å»ºè®®åœ¨å†™ä»»ä½•ä¸€ä¸ªæµ‹è¯•ä¹‹å‰ï¼Œéƒ½è¦æƒ³å¥½è‡ªå·±åº”è¯¥å†™ä»€ä¹ˆæ ·çš„æµ‹è¯•ã€‚å®ƒä½¿æ‚¨èƒ½å¤Ÿè€ƒè™‘ç»„ä»¶çš„å…¨è²Œï¼Œå¹¶é˜²æ­¢å¿½ç•¥ä»»ä½•ä¸œè¥¿ã€‚å¦‚æœè€ƒè™‘çš„è¯ï¼Œå…ˆåˆ›å»ºä¼ªä»£ç ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="c675" class="ni mh iq lq b gy nj nk l nl nm">// src/__test__/integration/home/index.spec.tsx</span><span id="4036" class="ni mh iq lq b gy nn nk l nl nm">import * as React from 'react';<br/>import { render} from '@testing-library/react';<br/>import Index from '../../../components/home/Index';</span><span id="7fbe" class="ni mh iq lq b gy nn nk l nl nm">describe('&lt;Index /&gt;', () =&gt; {<br/>  <br/>  it('shows initial messages', () =&gt; {});</span><span id="1d78" class="ni mh iq lq b gy nn nk l nl nm">  it('shows full texts when read more is clicked', () =&gt; {});</span><span id="bdfd" class="ni mh iq lq b gy nn nk l nl nm">});</span></pre><h1 id="1c6b" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">åŸºäºAAA(å®‰æ’ã€è¡ŒåŠ¨ã€æ–­è¨€)ç¼–å†™æµ‹è¯•</h1><p id="ef0e" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»å®Œæˆäº†è®¾ç½®ï¼Œå¹¶è€ƒè™‘äº†åº”è¯¥ç¼–å†™ä»€ä¹ˆæ ·çš„æµ‹è¯•ã€‚æ¥ä¸‹æ¥æ˜¯ä½ å¦‚ä½•å†™æµ‹è¯•ï¼</p><p id="b99b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä»è¿™é‡Œå¼€å§‹ï¼Œæœ¬æ–‡åˆ›å»ºåŸºäºAAAæ¨¡å¼çš„æµ‹è¯•ï¼Œå› ä¸ºå®ƒå‡ ä¹æ˜¯è½¯ä»¶é¢†åŸŸçš„æ ‡å‡†ã€‚è¿™ç¯‡æ–‡ç« ä¸è§£é‡ŠAAAæœ¬èº«ï¼Œå› ä¸ºå®ƒå¤ªæœ‰åå’Œå—æ¬¢è¿äº†ã€‚</p><p id="fdfd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æ‰€ä»¥ä½ éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯<code class="fe ln lo lp lq b">Arrange</code>ã€‚æœ‰äº†Reactæµ‹è¯•åº“ï¼Œå°±æœ‰äº†å¿…è¦çš„é“å…·æ¸²æŸ“ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="5a54" class="ni mh iq lq b gy nj nk l nl nm">// src/__test__/integration/home/index.spec.tsx</span><span id="855b" class="ni mh iq lq b gy nn nk l nl nm">import * as React from 'react';<br/>import { render, RenderResult } from '@testing-library/react';<br/>import Index from '../../../components/home/Index';</span><span id="9877" class="ni mh iq lq b gy nn nk l nl nm">let documentBody: RenderResult;</span><span id="d70f" class="ni mh iq lq b gy nn nk l nl nm">describe('&lt;Index /&gt;', () =&gt; {<br/>  beforeEach(() =&gt; {<br/>    // Arrange<br/>    documentBody = render(&lt;Index /&gt;);<br/>  });</span><span id="c378" class="ni mh iq lq b gy nn nk l nl nm">  it('shows initial messages', () =&gt; {});</span><span id="0b1d" class="ni mh iq lq b gy nn nk l nl nm">  it('shows full texts when read more is clicked', () =&gt; {});</span><span id="62d0" class="ni mh iq lq b gy nn nk l nl nm">});</span></pre><p id="8a44" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æˆ‘æ¨èåœ¨<code class="fe ln lo lp lq b">beforeEach</code>ä¸­ç¼–å†™<code class="fe ln lo lp lq b">render</code>å‡½æ•°ï¼Œå› ä¸ºå‡ ä¹æ‰€æœ‰çš„æµ‹è¯•éƒ½éœ€è¦ç»„ä»¶çš„æ¸²æŸ“ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæœ€å¥½ç”¨<code class="fe ln lo lp lq b">RenderResult</code>ç»™<code class="fe ln lo lp lq b">render</code>çš„ç»“æœåŠ ä¸Šç±»å‹ã€‚å®ƒä½¿æ‚¨èƒ½å¤Ÿä½¿ç”¨ç±»å‹æ¨æ–­ã€‚</p><p id="a52e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å®é™…ä¸Šï¼Œå¯¹äºç¬¬ä¸€æ¬¡æµ‹è¯•ï¼Œä½ ä¸éœ€è¦<code class="fe ln lo lp lq b">Act</code>ï¼Œå› ä¸ºå®ƒæ£€æŸ¥ç»„ä»¶çš„åˆå§‹çŠ¶æ€ã€‚æ‰€ä»¥è¿˜æ˜¯å†™<code class="fe ln lo lp lq b">Assert</code>éƒ¨åˆ†å§ã€‚å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="4298" class="ni mh iq lq b gy nj nk l nl nm">// src/__test__/integration/home/index.spec.tsx</span><span id="bd39" class="ni mh iq lq b gy nn nk l nl nm">import * as React from 'react';<br/>import { render, RenderResult } from '@testing-library/react';<br/>import Index from '../../../components/home/Index';</span><span id="444c" class="ni mh iq lq b gy nn nk l nl nm">let documentBody: RenderResult;</span><span id="d468" class="ni mh iq lq b gy nn nk l nl nm">describe('&lt;Index /&gt;', () =&gt; {<br/>  beforeEach(() =&gt; {<br/>    // Arrange<br/>    documentBody = render(&lt;Index /&gt;);<br/>  });</span><span id="4b27" class="ni mh iq lq b gy nn nk l nl nm">  it('shows initial messages', () =&gt; {<br/>    // ASSERT<br/>    const welcome = documentBody.getByText('Welcome to Pokemon world!');<br/>    const readMores = documentBody.getAllByText('Read more...');<br/>    expect(welcome).toBeInTheDocument();<br/>    expect(readMores.length).toEqual(2);<br/>  });</span><span id="ce6e" class="ni mh iq lq b gy nn nk l nl nm">  it('shows full texts when read more is clicked', () =&gt; {});</span><span id="9e9b" class="ni mh iq lq b gy nn nk l nl nm">});</span></pre><p id="43c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b"><a class="ae ma" href="https://testing-library.com/docs/dom-testing-library/api-queries#bytext" rel="noopener ugc nofollow" target="_blank">getByText</a></code>æ˜¯<a class="ae ma" href="https://testing-library.com/docs/dom-testing-library/api-queries" rel="noopener ugc nofollow" target="_blank"> DOMæµ‹è¯•åº“</a>çš„æŸ¥è¯¢ä¹‹ä¸€ã€‚å¯ä»¥é€šè¿‡æ–‡æœ¬å†…å®¹ã€æ ‡ç­¾ã€idç­‰è¿›è¡ŒæŸ¥è¯¢ã€‚<code class="fe ln lo lp lq b">toBeInTheDocument</code>æ˜¯<code class="fe ln lo lp lq b">@testing-library/jest-dom</code>çš„åŒ¹é…å™¨ä¹‹ä¸€ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¯·ç‚¹å‡»<a class="ae ma" href="https://github.com/testing-library/jest-dom#custom-matchers" rel="noopener ugc nofollow" target="_blank"> jest-dom </a>ã€‚</p><p id="2d38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä¸ºäº†ç®€åŒ–æµ‹è¯•ï¼Œä¸Šé¢çš„ä¾‹å­æ·»åŠ äº†ä¸¤ä¸ªæ–­è¨€ï¼Œä½†æ˜¯å¦‚æœä½ è®¤ä¸ºè¿™è¿˜ä¸å¤Ÿï¼Œè¯·æ·»åŠ æ›´å¤šã€‚</p><p id="f7ba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¥½ï¼Œè®©æˆ‘ä»¬ä¸ºç¬¬äºŒä¸ªå†™æµ‹è¯•ã€‚å¯¹äºç¬¬äºŒä¸ªï¼Œä½ éœ€è¦æ£€æŸ¥æ–°çš„æ–‡æœ¬å‡ºç°åï¼Œç‚¹å‡»é˜…è¯»æ›´å¤šâ€¦æŒ‰é’®ã€‚è¿™æ˜¯AAAæ¨¡å¼çš„ä¸€éƒ¨åˆ†ã€‚</p><p id="d652" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ç‚¹å‡»DOMï¼Œ<code class="fe ln lo lp lq b"><a class="ae ma" href="https://testing-library.com/docs/dom-testing-library/api-events#fireevent" rel="noopener ugc nofollow" target="_blank">fireEvent</a></code>å‡†å¤‡å°±ç»ªã€‚å®ƒæœ‰å¤§é‡çš„DOMäº‹ä»¶ã€‚ç‚¹å‡»<a class="ae ma" href="https://github.com/testing-library/dom-testing-library/blob/master/src/event-map.js" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æŸ¥çœ‹<code class="fe ln lo lp lq b">fireEvent</code>æ“ä½œçš„DOMäº‹ä»¶çš„å®Œæ•´åœ°å›¾ã€‚</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="f623" class="ni mh iq lq b gy nj nk l nl nm">import * as React from 'react';<br/>import { render, RenderResult, fireEvent } from '@testing-library/react';<br/>import Index from '../../../components/home/Index';</span><span id="015c" class="ni mh iq lq b gy nn nk l nl nm">let documentBody: RenderResult;</span><span id="c528" class="ni mh iq lq b gy nn nk l nl nm">describe('&lt;Index /&gt;', () =&gt; {<br/>  ...</span><span id="76b1" class="ni mh iq lq b gy nn nk l nl nm">  it('shows full texts', () =&gt; {<br/>    const readMores = documentBody.getAllByText('Read more...');<br/>  <br/>    const firstDesc = 'You can check pokemons in Pokedex page';<br/>    expect(<br/>      documentBody.queryByText(<br/>        firstDesc, { exact: false }<br/>      )<br/>    ).not.toBeInTheDocument();</span><span id="bce8" class="ni mh iq lq b gy nn nk l nl nm">    // ACT and ASSERT<br/>    fireEvent.click(readMores[0]);<br/>    expect(<br/>      documentBody.queryByText(<br/>        firstDesc, { exact: false }<br/>      )<br/>    ).toBeInTheDocument();</span><span id="f300" class="ni mh iq lq b gy nn nk l nl nm">    const secondDesc = 'also collectively refers to the 896 fictional';<br/>    expect(<br/>      documentBody.queryByText(<br/>        secondDesc, { exact: false }<br/>      )<br/>    ).not.toBeInTheDocument();</span><span id="adea" class="ni mh iq lq b gy nn nk l nl nm">    // ACT and ASSERT<br/>    fireEvent.click(readMores[0]);<br/>    expect(<br/>      documentBody.queryByText(<br/>        secondDesc, { exact: false }<br/>      )<br/>    ).toBeInTheDocument();<br/>  });<br/>});</span></pre><p id="f8a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä¸Šé¢çš„æµ‹è¯•æ£€æŸ¥æ–°æ–‡æœ¬æ˜¯å¦å‡ºç°ã€‚è¦æµ‹è¯•å®ƒï¼Œé¦–å…ˆä½ åº”è¯¥æ£€æŸ¥ç›®æ ‡æ–‡æœ¬æ˜¯å¦æ²¡æœ‰å‡ºç°ã€‚ä½†æ˜¯å¦‚æœæ–‡æœ¬ä¸å­˜åœ¨ï¼Œ<code class="fe ln lo lp lq b">getByText</code>ä¼šæŠ›å‡ºé”™è¯¯ã€‚æ‰€ä»¥ä½ éœ€è¦ä½¿ç”¨<code class="fe ln lo lp lq b">queryByText</code> ( <a class="ae ma" href="https://testing-library.com/docs/guide-disappearance#asserting-elements-are-not-present" rel="noopener ugc nofollow" target="_blank">æ–­è¨€å…ƒç´ ä¸å­˜åœ¨</a>)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code class="fe ln lo lp lq b">exact: false</code>é€‰é¡¹ç”¨äºé¿å…æ–‡æœ¬çš„ç²¾ç¡®åŒ¹é…ã€‚å› ä¸ºæ–‡å­—å¯¹æˆ‘æ¥è¯´å¤ªé•¿äº†ï¼Œæ‰€ä»¥ç”¨åœ¨è¿™é‡Œã€‚å¦ä¸€æ–¹é¢ï¼Œè¿™ä¹Ÿå¢åŠ äº†æŸ¥è¯¢å…¶ä»–DOMå…ƒç´ çš„å¯èƒ½æ€§ã€‚æ‰€ä»¥å°±çœ‹ä½ æ€ä¹ˆç”¨äº†ã€‚</p><h1 id="6930" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">å†™å¼‚æ­¥è¡Œä¸º</h1><p id="47e3" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">ä¸Šé¢çš„ä¾‹å­æ˜¯åŒæ­¥çš„ã€‚é‚£ä¹ˆå¦‚ä½•å¤„ç†å¼‚æ­¥DOMå˜åŒ–ï¼Œæ¯”å¦‚å¼‚æ­¥APIè°ƒç”¨å’Œæ˜¾ç¤ºä¸€äº›ä¸œè¥¿å‘¢ï¼Ÿ</p><p id="1a84" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ä½¿ç”¨Reactæµ‹è¯•åº“éå¸¸ç®€å•ğŸ‘»å°±åƒä¸‹é¢è¿™æ ·ç”¨<code class="fe ln lo lp lq b">waitFor</code>å’Œ<code class="fe ln lo lp lq b">async await</code>ï¼</p><pre class="kg kh ki kj gt ne lq nf ng aw nh bi"><span id="3871" class="ni mh iq lq b gy nj nk l nl nm">import * as React from 'react';<br/>import { render, RenderResult, fireEvent, waitFor } from '@testing-library/react';<br/>import Index from '../../../components/home/Index';</span><span id="0d06" class="ni mh iq lq b gy nn nk l nl nm">let documentBody: RenderResult;</span><span id="8071" class="ni mh iq lq b gy nn nk l nl nm">describe('&lt;Index /&gt;', () =&gt; {<br/>  ...</span><span id="9f3c" class="ni mh iq lq b gy nn nk l nl nm">  it('shows full texts', async () =&gt; {<br/>    const readMores = documentBody.getAllByText('Read more...');</span><span id="896d" class="ni mh iq lq b gy nn nk l nl nm">    // ACT and ASSERT<br/>    const before = documentBody.queryByText('You can');<br/>    expect(before).not.toBeInTheDocument();</span><span id="82ff" class="ni mh iq lq b gy nn nk l nl nm">    fireEvent.click(readMores[0]);</span><span id="97f3" class="ni mh iq lq b gy nn nk l nl nm">    await waitFor(()=&gt;{<br/>      const after = documentBody.queryByText('You can');<br/>      expect(after).toBeInTheDocument();<br/>    })<br/>  });<br/>});</span></pre><p id="b8a1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šï¼Œè¯·å‚è€ƒæœ¬èŠ‚ã€‚</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="5992" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">æœ¬æ–‡é‡ç‚¹ä»‹ç»ç”¨TypeScriptæµ‹è¯•Reactåº“çš„åŸºç¡€çŸ¥è¯†ã€‚æ‚¨å­¦ä¹ äº†æ ¸å¿ƒæ¦‚å¿µä»¥åŠå¦‚ä½•ä½¿ç”¨Reactæµ‹è¯•åº“ç¼–å†™AAAæµ‹è¯•æ¨¡å¼ã€‚</p><p id="8555" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">å› ä¸ºæˆ‘å†™äº†å…¶ä»–å…³äºReactæµ‹è¯•åº“çš„æ–‡ç« ï¼Œå–œæ¬¢å°±å»çœ‹çœ‹å§ï¼</p><ul class=""><li id="ad64" class="lr ls iq kt b ku kv kx ky la lt le lu li lv lm lw lx ly lz bi translated"><a class="ae ma" href="https://medium.com/@egctoru/the-practical-guide-to-start-react-testing-library-with-typescript-d386804a018" rel="noopener">ä½¿ç”¨TypeScriptå¯åŠ¨Reactæµ‹è¯•åº“çš„å®ç”¨æŒ‡å—ã€‚</a></li><li id="f6de" class="lr ls iq kt b ku mb kx mc la md le me li mf lm lw lx ly lz bi translated"><a class="ae ma" href="https://medium.com/@egctoru/how-to-setup-react-testing-library-for-material-ui-styled-component-with-typescript-556decbcbb55" rel="noopener">å¦‚ä½•ç”¨TypeScriptè®¾ç½®æè´¨UIé£æ ¼ç»„ä»¶çš„Reactæµ‹è¯•åº“</a></li><li id="1f51" class="lr ls iq kt b ku mb kx mc la md le me li mf lm lw lx ly lz bi translated"><a class="ae ma" href="https://medium.com/@egctoru/snapshots-of-material-ui-styled-component-with-react-testing-library-and-typescript-d82d7d926d2c" rel="noopener">å¸¦æœ‰Reactæµ‹è¯•åº“å’Œç±»å‹è„šæœ¬çš„æè´¨UIæ ·å¼ç»„ä»¶çš„å¿«ç…§</a></li></ul><p id="73f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">è°¢è°¢å¤§å®¶ï¼</p><h2 id="87d3" class="ni mh iq bd mi nw nx dn mm ny nz dp mq la oa ob ms le oc od mu li oe of mw og bi translated">å‚è€ƒ</h2><ul class=""><li id="5424" class="lr ls iq kt b ku my kx mz la oh le oi li oj lm lw lx ly lz bi translated"><a class="ae ma" href="https://testing-library.com/" rel="noopener ugc nofollow" target="_blank">æµ‹è¯•åº“</a></li><li id="0631" class="lr ls iq kt b ku mb kx mc la md le me li mf lm lw lx ly lz bi translated"><a class="ae ma" href="https://jestjs.io/en/" rel="noopener ugc nofollow" target="_blank">ç¬‘è¯</a></li><li id="9e90" class="lr ls iq kt b ku mb kx mc la md le me li mf lm lw lx ly lz bi translated"><a class="ae ma" href="https://github.com/kulshekhar/ts-jest" rel="noopener ugc nofollow" target="_blank"> tsæ˜¯</a></li></ul></div></div>    
</body>
</html>