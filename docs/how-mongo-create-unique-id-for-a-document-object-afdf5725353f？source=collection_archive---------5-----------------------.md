# Mongo 如何为文档/对象创建唯一的 Id？

> 原文：<https://javascript.plainenglish.io/how-mongo-create-unique-id-for-a-document-object-afdf5725353f?source=collection_archive---------5----------------------->

![](img/342d9f3bc607f594497aedddd906875d.png)

在 Mongo DB 中存储文档时，您可能已经注意到了。Mongo 自己设置了 ***_id*** *属性，长字符串值如下…****5 DBC 11 af 4c 23283312490 b5c***

这个 id 有 24 个字符，每两个字符代表一个字节。本质上，mongo 为每个文档创建了 12 个字节的唯一标识。

![](img/dc5d6563a7fcb2ef3293e1081d9a19b7.png)

这个 12 字节的字符串是一组 4 个不同的标识符。

1.  **前 4 个字节**:前 4 个字节代表时间戳。此戳记是文档创建的时间。
2.  **第二位，3 字节** :-该组代表机器标识符。每台不同的机器都有不同的机器标识符。
3.  **第三个 2 字节** :-该组代表进程标识符。如果您在同一台机器但不同的处理器上生成两个不同的文档。因此，这两个文档的进程标识符是不同的。
4.  **第四个 3 字节** :-该组代表自动递增计数器。如果我们在同一台机器上，使用相同的处理器，同时生成两个不同的文档，那么这些计数器字节将会不同。

所以，有了这 12 个字节，mongo 就可以惟一地标识每一个文档。两个文档具有相同 ID 的可能性非常小。