<html>
<head>
<title>Setting up Svelte &amp; Integrating Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置苗条&amp;整合顺风CSS</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/setting-up-svelte-integrating-tailwind-css-dde927edfb20?source=collection_archive---------4-----------------------#2019-12-04">https://javascript.plainenglish.io/setting-up-svelte-integrating-tailwind-css-dde927edfb20?source=collection_archive---------4-----------------------#2019-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1f22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章是关于使用苗条身材系列文章的一部分。我们已经(或将)涵盖的主题和文章如下:</p><ol class=""><li id="2c03" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated"><a class="ae ku" href="https://jackwhiting.co.uk/posts/setting-up-svelte-and-integrating-tailwind-css" rel="noopener ugc nofollow" target="_blank">设置苗条&amp;安装顺风CSS和后CSS </a></li><li id="cdfa" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated"><a class="ae ku" href="https://jackwhiting.co.uk/posts/setting-up-routing-in-svelte-with-pagejs/#" rel="noopener ugc nofollow" target="_blank">用Page.js设置路由</a></li><li id="649b" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated">针对大型应用优化我们的路由器(即将推出)</li><li id="8d6f" class="kl km iq jp b jq kv ju kw jy kx kc ky kg kz kk kq kr ks kt bi translated"><em class="la">..还有更</em></li></ol></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><figure class="lj lk ll lm gt ln gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi li"><img src="../Images/a6b197eff290277a55a6fd1e0f2a950e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4nauQrLkeqN6DeQSJYvF6g.png"/></div></div></figure><p id="6087" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Svelte在JavaScript框架中是一个可怕的失败者，由于它编译脚本和HTML的方式，它目前正在攀升。Svelte本质上是一个编译器，你所有的组件文件都被编译成纯JavaScript。你可以通过他们的<a class="ae ku" href="https://svelte.dev/" rel="noopener ugc nofollow" target="_blank">网站</a>了解更多关于Svelte的信息。</p><h1 id="c589" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">安装苗条</h1><p id="121f" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">为了设置好Svelte，我们需要安装<a class="ae ku" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>和<a class="ae ku" href="https://github.com/Rich-Harris/degit" rel="noopener ugc nofollow" target="_blank"> Degit </a>。我不会在本文中介绍如何设置这些，因为它需要一些节点和终端的知识，您可以事先在各自的站点上安装它们。</p><p id="92ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们创建一个由Svelte提供的基础模板的副本，并安装所有必要的库，如下所示。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="4790" class="nc lv iq my b gy nd ne l nf ng">npx degit sveltejs/template my-svelte-project <br/>cd my-svelte-project </span><span id="2e38" class="nc lv iq my b gy nh ne l nf ng">yarn # or npm install</span></pre><p id="55ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了测试一切是否正常，我们可以运行<code class="fe ni nj nk my b">yarn dev</code>，我们应该能够在<a class="ae ku" href="https://localhost:5000" rel="noopener ugc nofollow" target="_blank"> https://localhost:5000 </a>看到默认页面。如果你不能，你可能要确保设置没有出错。</p><h2 id="8234" class="nc lv iq bd lw nl nm dn ma nn no dp me jy np nq mi kc nr ns mm kg nt nu mq nv bi translated">设置顺风</h2><p id="13c1" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">我是Tailwind的超级粉丝，在大多数项目中都使用它，所以和Svelte一起工作也没什么不同。在我们安装Svelte的目录中，我们需要安装一些依赖项，创建一个新的<code class="fe ni nj nk my b">postcss.config.js</code>文件，最后修改几个现有的文件。</p><h2 id="1c41" class="nc lv iq bd lw nl nm dn ma nn no dp me jy np nq mi kc nr ns mm kg nt nu mq nv bi translated">安装家属</h2><p id="9ec4" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">使用以下命令安装必要的开发依赖项:</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="8984" class="nc lv iq my b gy nd ne l nf ng">yarn add --dev postcss postcss-load-config svelte-preprocess tailwindcss</span></pre><p id="4119" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想确保在生产时删除未使用的样式(保持我们的文件大小精简)，您还可以添加以下依赖项。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="bda9" class="nc lv iq my b gy nd ne l nf ng">yarn add @fullhuman/postcss-purgecss</span></pre><h2 id="f60f" class="nc lv iq bd lw nl nm dn ma nn no dp me jy np nq mi kc nr ns mm kg nt nu mq nv bi translated">生成顺风配置</h2><p id="d190" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">要覆盖Tailwind提供的默认样式，我们需要确保在我们的路径目录中有一个<code class="fe ni nj nk my b">tailwind.config.js</code>,我们可以在那里进行必要的调整。您可以通过运行以下命令来做到这一点。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="d78b" class="nc lv iq my b gy nd ne l nf ng">npx tailwind init</span></pre><p id="1bf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您打开创建的文件，您应该看到它看起来类似于下面。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="7de8" class="nc lv iq my b gy nd ne l nf ng">module.exports <strong class="my ir">=</strong> {<br/>  theme<strong class="my ir">:</strong> {<br/>    extend<strong class="my ir">:</strong> {}<br/>  },<br/>  variants<strong class="my ir">:</strong> {},<br/>  plugins<strong class="my ir">:</strong> []<br/>}</span></pre><h2 id="f7d1" class="nc lv iq bd lw nl nm dn ma nn no dp me jy np nq mi kc nr ns mm kg nt nu mq nv bi translated">创建我们的PostCSS规则</h2><p id="61d9" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">我们将需要告诉Svelte如何解释和编译我们必要的代码。我们可以通过在route目录中创建一个<code class="fe ni nj nk my b">postcss.config.js</code>文件来做到这一点。手动创建一个或在终端中运行以下命令。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="ff44" class="nc lv iq my b gy nd ne l nf ng">touch postcss.config.js</span></pre><p id="5c6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在你最喜欢的编辑器中打开文件，复制下面的代码。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="0170" class="nc lv iq my b gy nd ne l nf ng"><strong class="my ir">const</strong> purgecss <strong class="my ir">=</strong> require('@fullhuman/postcss-purgecss')({<br/>  content<strong class="my ir">:</strong> ['./src/**/*.svelte', './src/**/*.html'],<br/>  whitelistPatterns<strong class="my ir">:</strong> [/svelte-/],<br/>  defaultExtractor<strong class="my ir">:</strong> content =&gt; content.match(/[A-Za-z0-9-_:/]+/g) <strong class="my ir">||</strong> []<br/>})<br/><br/>module.exports <strong class="my ir">=</strong> {<br/>  plugins<strong class="my ir">:</strong> [<br/>    require('tailwindcss'),<br/>    ...(<strong class="my ir">!</strong>process.env.ROLLUP_WATCH <strong class="my ir">?</strong> [purgecss] <strong class="my ir">:</strong> [])<br/>  ]<br/>}</span></pre><p id="a9b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了稍微解释一下上面的内容，我们首先创建一个清除CSS的规则集，它将检查所有的Svelte和HTML文件，并删除任何不匹配的类。我们还将添加一个白名单模式，以确保任何生成的类不会被不必要的删除。</p><p id="97ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们观察<code class="fe ni nj nk my b">process.env.ROLLUP_WATCH</code>是否等于真，如果不是，我们清除，如果是真，那么我们正在开发，我们只是编译顺风类。</p><h2 id="7e35" class="nc lv iq bd lw nl nm dn ma nn no dp me jy np nq mi kc nr ns mm kg nt nu mq nv bi translated">与苗条相结合</h2><p id="1eac" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">我们需要在某个地方包含顺风助手，这样所有必要的样式都可以被引入。打开<code class="fe ni nj nk my b">src/</code>文件夹中的<code class="fe ni nj nk my b">App.svelte</code>文件，并在底部添加以下代码(替换已经存在的任何样式)。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="cb9e" class="nc lv iq my b gy nd ne l nf ng">&lt;style global&gt;<br/>  @<strong class="my ir">tailwind</strong> base;<br/>  @<strong class="my ir">tailwind</strong> components;<br/>  @<strong class="my ir">tailwind</strong> utilities;<br/>&lt;/style&gt;</span></pre><p id="45de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们需要确保Svelte在我们的<code class="fe ni nj nk my b">&lt;style&gt;</code>标签中的任何代码上运行预处理器。为此，我们需要在编辑器中打开<code class="fe ni nj nk my b">rollup.config.js</code>文件，并在文件顶部添加以下内容。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="75da" class="nc lv iq my b gy nd ne l nf ng"><strong class="my ir">import</strong> sveltePreprocess from 'svelte-preprocess'</span></pre><p id="c558" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后修改如下所示的部分</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="5f62" class="nc lv iq my b gy nd ne l nf ng">...<br/>svelte({ <br/>  ... <br/>  preprocess: sveltePreprocess({ postcss: true }), <br/>  ... <br/>}) <br/>...</span></pre><p id="b417" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在应该已经将顺风完全整合到了苗条中。如果您在终端中重新运行<code class="fe ni nj nk my b">yarn dev</code>,您应该看到它在页面加载之前编译了样式，并且您将有一个剥离后的页面可供跳转。</p><h2 id="e35d" class="nc lv iq bd lw nl nm dn ma nn no dp me jy np nq mi kc nr ns mm kg nt nu mq nv bi translated">使用</h2><p id="fb60" class="pw-post-body-paragraph jn jo iq jp b jq ms js jt ju mt jw jx jy mu ka kb kc mv ke kf kg mw ki kj kk ij bi translated">你现在可以包含任何样式作为已经存在的值的类属性，如下所示，或者你可以通过使用<code class="fe ni nj nk my b">@apply</code>方法在你的瘦组件中集成。</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="bd64" class="nc lv iq my b gy nd ne l nf ng">&lt;h1 class<strong class="my ir">=</strong>"font-bold"&gt;Title&lt;/h1&gt;</span></pre><p id="4fc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者</p><pre class="lj lk ll lm gt mx my mz na aw nb bi"><span id="5700" class="nc lv iq my b gy nd ne l nf ng">&lt;style&gt;<br/>h1 {<br/>  @apply font-bold text-2xl;<br/>}<br/>&lt;/style&gt;</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="366c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="la">最初发表于</em><a class="ae ku" href="https://jackwhiting.co.uk/posts/setting-up-svelte-and-integrating-tailwind-css/" rel="noopener ugc nofollow" target="_blank"><em class="la">https://jackwhiting.co.uk</em></a><em class="la">。你可以在我的网站上找到更多类似的文章或者关于PHP、JavaScript、Vue、Svelte或者自由职业的文章。</em></p></div></div>    
</body>
</html>