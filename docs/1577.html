<html>
<head>
<title>How to Set Up a JS Dev Environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何设置JS开发环境</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-set-up-a-js-dev-environment-5104f3b24ccb?source=collection_archive---------0-----------------------#2020-04-03">https://javascript.plainenglish.io/how-to-set-up-a-js-dev-environment-5104f3b24ccb?source=collection_archive---------0-----------------------#2020-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="71c1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">自学前端开发人员的分步教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dba331eac43c2299daf98fe212b939c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ocohTdAxt7AzNXb1U_Wgw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@melipoole?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mel Poole</a> on <a class="ae kv" href="https://unsplash.com/s/photos/coffee-mug?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5be0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一个没有CS或IT背景的自学前端开发人员，我很难理解为什么专业开发人员的工作需要这么多额外的东西。</p><p id="5f79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的项目文件夹包括三个文件:index.html、styles.css和scripts.js，在多页面网站的情况下还有一些额外的文件。</p><p id="aed7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但仅此而已，我不明白为什么真正的web开发人员需要这么多额外的工具，比如预处理器、linters、模块捆绑器或包管理器。</p><p id="b783" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道我错过了一些东西，但我就是不知道是什么。因此，我决定改变我的学习方法，回到大局。从那以后，一切都有了意义。</p><p id="1077" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，本教程是为那些想要像真正的web开发人员一样工作并为真正的前端工作做好准备的自学成才的开发人员准备的。</p><h1 id="23d8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我们将涵盖的内容:</h1><ol class=""><li id="d20c" class="mk ml iq ky b kz mm lc mn lf mo lj mp ln mq lr mr ms mt mu bi translated">为程序包管理安装节点和npm</li><li id="588c" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">为JS传输文件安装Babel</li><li id="1745" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">为模块捆绑安装Webpack</li><li id="94d0" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">使用Express设置开发web服务器</li><li id="4d46" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">使用npm脚本实现任务自动化</li><li id="6466" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">为林挺安装ESLint</li><li id="7a2e" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">自动化生产构建</li></ol><h1 id="f875" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么是JS开发环境？</h1><p id="eb1f" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">作为一个初学者，每当你开始一个新项目时，你只想到你当前的需求，在创建你的文件时，你总是从零开始。</p><p id="3abb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Web开发人员在编写一行代码之前，着眼于全局，分析他们项目的当前和未来需求。基于此，他们选择工具和库来帮助他们更快地编码，并避免重复的手动任务。</p><p id="72c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，他们构建核心文件夹结构，安装所有依赖项，并配置工具来执行所需的操作。所有这些准备工作都需要时间，所以为了避免一次又一次地经历同一个项目，开发人员使用<strong class="ky ir">样板</strong>或<strong class="ky ir">初学者工具包</strong>。</p><p id="9e27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些是“预先制作的”包，包括前端项目所需的最少数量的文件和依赖项，而不管您正在构建什么。</p><p id="8c04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在本教程中，我们将介绍创建前端初学者工具包(一个JavaScript开发环境)的整个过程，我将解释每个步骤的原因和方法。</p><p id="3fa7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文结束时，您应该能够建立自己的JS开发环境，并将您的第一个项目部署到生产环境中。</p><p id="6354" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于这是一篇超长的教程，我鼓励你把它收藏起来作为参考。您也可以在此处访问样板文件:</p><p id="c601" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/andreeamaco/js-boilerplate" rel="noopener ugc nofollow" target="_blank">https://github.com/andreeamaco/js-boilerplate</a></p><p id="77ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将在本教程中使用git，所以如果您以前没有使用过git，请花几分钟时间先浏览一下这篇文章:</p><div class="nd ne gp gr nf ng"><a href="https://medium.com/@andreea.macoveiciuc/ide-and-git-for-self-taught-front-end-developers-dde4b6dbb177" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">面向自学前端开发人员的IDE和Git</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">学习如何像专业web开发人员一样工作</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">medium.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu kp ng"/></div></div></a></div><h1 id="7e63" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">安装用于程序包管理的节点和npm</h1><p id="b962" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">一个<strong class="ky ir">包管理器</strong>是一个工具，它可以让你轻松地安装、升级、配置和删除项目中的依赖项。</p><p id="84ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，它使您能够“打包”您的项目并将其发布给其他人，这样无论何时您在不同的PC上下载该项目，您都可以安装该包，并在新PC上进行与最初相同的设置。</p><p id="07b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果没有包管理器，当您的同事每次想要检查您的代码并查看应用程序运行时，他们必须从头开始安装所有的库和依赖项。</p><p id="d248" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们必须检查运行应用程序需要哪些工具以及这些工具的版本，并且他们会浪费大量时间一遍又一遍地设置这些东西。</p><p id="6eb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，我们将使用<strong class="ky ir"> npm作为包管理器</strong>。这个工具的名字来自于<em class="nv">节点包管理器</em>，所以为了能够在你的PC上运行npm，你还需要安装<strong class="ky ir"> Node.js </strong>。</p><p id="81ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Node.js是一个基于Chrome的JavaScript运行时构建的运行时环境或平台，它包含了构建和执行用JavaScript编写的应用程序所需的一切。</p><p id="b7a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它负责前端应用程序的后端部分，因此您可以将它想象成一个引擎，它获取您的JS代码并将其转换为机器可读的代码。</p><p id="eb12" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们继续安装Node.js和npm。您可以在此下载节点:</p><div class="nd ne gp gr nf ng"><a href="https://nodejs.org/en/download/" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">下载| Node.js</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">Node.js是基于Chrome的V8 JavaScript引擎构建的JavaScript运行时。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">nodejs.org</p></div></div><div class="np l"><div class="nw l nr ns nt np nu kp ng"/></div></div></a></div><p id="c244" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">npm附带Node，因此如果您已经安装了它，请打开VSCode并在终端中键入以下内容:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="d30b" class="oc lt iq ny b gy od oe l of og"><strong class="ny ir">node -v</strong> // This will show you your Node.js version<br/><strong class="ny ir">npm -v</strong> // This will show you your npm version</span></pre><h1 id="9364" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">创建package.json文件</h1><p id="d1a3" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">为了让npm知道要在项目中安装什么库和依赖项，您需要创建一个名为<strong class="ky ir"> package.json </strong>的文件，其中保存了与项目相关的所有元数据。</p><p id="9eea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了依赖项(称为<strong class="ky ir"> npm包</strong>)，这个文件还将包括项目描述、版本、作者姓名、许可信息和脚本，这些将为您自动完成开发过程。</p><p id="131e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，转到项目的根文件夹，创建一个名为package.json的新文件:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="5ad6" class="oc lt iq ny b gy od oe l of og">{</span><span id="60a6" class="oc lt iq ny b gy oh oe l of og">"name": "javascript-boilerplate",</span><span id="5bd7" class="oc lt iq ny b gy oh oe l of og">"version": "1.0.0",</span><span id="f3a2" class="oc lt iq ny b gy oh oe l of og">"description": "Javascript development environment",</span><span id="a342" class="oc lt iq ny b gy oh oe l of og">"author": "Your name here",</span><span id="9c12" class="oc lt iq ny b gy oh oe l of og">"scripts": {},</span><span id="8b65" class="oc lt iq ny b gy oh oe l of og">"dependencies": {}</span><span id="bb0e" class="oc lt iq ny b gy oh oe l of og">}</span></pre><h1 id="3d94" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">安装Babel到transpile JS代码</h1><p id="5d9d" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated"><strong class="ky ir">trans pilling</strong>的意思是将一种语言编写的代码“翻译”成另一种语言编写的等价代码。在本教程中，我们将使用Babel作为transpiler或源到源编译器。</p><p id="19ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你用JavaScript写代码，为什么我们需要编译器？因为这种语言有不同的版本，你的一些同事可能使用旧的语法，或者他们使用的ES6特性还不被所有的浏览器支持。</p><p id="aebb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像Babel这样的transpiler可以确保不管你用的是什么版本，你的JavaScript代码都会被编译成浏览器能够理解和支持的语法。</p><p id="a5da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们继续安装巴别塔。</p><p id="de72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们没有安装npm，我们将不得不手动进入Babel的网站，下载工具，安装并配置它。但是，使用npm，您只需在终端中键入:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="662f" class="oc lt iq ny b gy od oe l of og">npm install --save-dev @babel/cli@7.8.4 @babel/core@7.0.0 @babel/preset-env@7.0.0 @babel/register@7.0.0 @babel/node@7.0.0</span></pre><p id="805c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一切意味着什么？</p><p id="d584" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您键入npm install命令时，npm会在您的计算机上安装您告诉它的任何软件包。因此，在这种情况下，我们将安装以下软件包:</p><ul class=""><li id="96d7" class="mk ml iq ky b kz la lc ld lf oi lj oj ln ok lr ol ms mt mu bi translated">save-dev:这意味着所有的包都作为开发依赖项安装，而不是作为项目依赖项安装</li><li id="d2c9" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">babel/cli:这允许我们直接从终端运行babel</li><li id="6a66" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">巴别塔/核心:这是巴别塔的核心功能</li><li id="7c1c" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">babel/preset-env:这允许您使用最新的JS语法</li><li id="9668" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">babel/register:这是babel正常工作所必需的</li><li id="c675" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">babel/node:编译预置和插件</li></ul><p id="ed6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您现在打开package.json文件，您会看到所有这些包都被添加到了依赖项中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/10306a42b6ae5ef9274e45157f09efaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*tp4u1H19uWNKyvnCV3JgQA.png"/></div></figure><p id="e710" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不过，为了让Babel真正完成它的工作，我们还需要做一步，那就是创建一个配置文件。</p><h1 id="10aa" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">创建。用于配置Babel的babelrc文件</h1><p id="97ab" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在项目的根文件夹中，创建一个名为。babelrc，并添加以下代码:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="df70" class="oc lt iq ny b gy od oe l of og">{<br/>"presets": ["@babel/preset-env"],<br/>}</span></pre><p id="f04f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你在这个文件中添加的预置和插件将在编译代码时被Babel加载。插件不是新东西，预置只是支持某些语言特性所需的插件集。</p><h1 id="1f84" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为模块绑定安装Webpack</h1><p id="a876" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">一个<strong class="ky ir">模块捆绑器</strong>是一个工具，它获取单独的JS文件或模块，并将它们和它们的依赖项捆绑在一起成为一个单一的捆绑包。js文件。这个捆绑文件是浏览器在应用程序运行时使用的文件。</p><p id="ba70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用终端安装以下软件包:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="14da" class="oc lt iq ny b gy od oe l of og">npm install --save-dev webpack@4.17.2 webpack-cli@3.1.2 webpack-dev-server@3.1.7</span></pre><p id="59e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们的意思是:</p><ul class=""><li id="154f" class="mk ml iq ky b kz la lc ld lf oi lj oj ln ok lr ol ms mt mu bi translated">webpack:模块是捆绑器吗</li><li id="aee1" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">webpack-cli:让我们从命令行运行webpack</li><li id="9c92" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">webpack-dev-server:创建开发服务器</li></ul><p id="f485" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完成后，您应该会看到所有这些依赖项都添加到了package.json文件中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/388f7bd8a3c2790be8590426a40a0475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*dk2TSO5LzHSQNtV3PR2JpA.png"/></div></figure><p id="9260" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就像Babel一样，Webpack需要一个配置文件来完成它的工作。所以让我们继续向项目文件夹添加一个新文件，名为<strong class="ky ir"> webpack.config.js </strong>。</p><p id="d77b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但在此之前，为了让Babel和Webpack一起工作，我们还需要安装:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="e326" class="oc lt iq ny b gy od oe l of og">npm install --save-dev babel-loader@8.0.2 style-loader css-loader sass-loader</span></pre><ul class=""><li id="3ecc" class="mk ml iq ky b kz la lc ld lf oi lj oj ln ok lr ol ms mt mu bi translated">babel-loader:将文件加载到Webpack，以便babel进行传输</li><li id="1d43" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">css-loader，style-loader，sass-loader:它们在编译期间处理SCSS/CSS文件</li></ul><h1 id="acf0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">创建webpack.config.js文件来配置webpack</h1><p id="35c0" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在终端中，创建文件并向其中添加以下代码:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="298c" class="oc lt iq ny b gy od oe l of og">import path from 'path';</span><span id="4ce2" class="oc lt iq ny b gy oh oe l of og">import webpack from 'webpack';</span><span id="ba69" class="oc lt iq ny b gy oh oe l of og">import HtmlWebpackPlugin from 'html-webpack-plugin';</span><span id="ffe1" class="oc lt iq ny b gy oh oe l of og">export default {</span><span id="7737" class="oc lt iq ny b gy oh oe l of og">devtool: 'source-map',</span><span id="9877" class="oc lt iq ny b gy oh oe l of og">entry: [</span><span id="fb4f" class="oc lt iq ny b gy oh oe l of og">path.resolve(__dirname, './client/src/app/index.js')</span><span id="6f83" class="oc lt iq ny b gy oh oe l of og">],</span><span id="0e17" class="oc lt iq ny b gy oh oe l of og">target: 'web',</span><span id="83eb" class="oc lt iq ny b gy oh oe l of og">output: {</span><span id="b763" class="oc lt iq ny b gy oh oe l of og">path: path.resolve(__dirname, './client/dist'),</span><span id="be90" class="oc lt iq ny b gy oh oe l of og">publicPath: '/',</span><span id="5b0e" class="oc lt iq ny b gy oh oe l of og">filename: 'bundle.js'</span><span id="654f" class="oc lt iq ny b gy oh oe l of og">},</span><span id="a465" class="oc lt iq ny b gy oh oe l of og">plugins: [</span><span id="a48f" class="oc lt iq ny b gy oh oe l of og">new HtmlWebpackPlugin({</span><span id="535f" class="oc lt iq ny b gy oh oe l of og">template: './client/src/app/index.html',</span><span id="6a76" class="oc lt iq ny b gy oh oe l of og">inject: true</span><span id="a6d4" class="oc lt iq ny b gy oh oe l of og">})</span><span id="70b4" class="oc lt iq ny b gy oh oe l of og">],</span><span id="1d85" class="oc lt iq ny b gy oh oe l of og">module: {</span><span id="b043" class="oc lt iq ny b gy oh oe l of og">rules : [</span><span id="15b9" class="oc lt iq ny b gy oh oe l of og">{</span><span id="bc0d" class="oc lt iq ny b gy oh oe l of og">test: /\.js$/,</span><span id="6e6d" class="oc lt iq ny b gy oh oe l of og">exclude: /node_modules/,</span><span id="8efc" class="oc lt iq ny b gy oh oe l of og">use: ['babel-loader'],</span><span id="bb7e" class="oc lt iq ny b gy oh oe l of og">},</span><span id="d8b8" class="oc lt iq ny b gy oh oe l of og">{</span><span id="9cbd" class="oc lt iq ny b gy oh oe l of og">test: /\.css$/,</span><span id="39c5" class="oc lt iq ny b gy oh oe l of og">use: ['style-loader', 'css-loader'],</span><span id="a168" class="oc lt iq ny b gy oh oe l of og">}</span><span id="bd4a" class="oc lt iq ny b gy oh oe l of og">]</span><span id="2b99" class="oc lt iq ny b gy oh oe l of og">}</span><span id="467f" class="oc lt iq ny b gy oh oe l of og">}</span></pre><p id="bc7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是所有这些的含义:</p><ul class=""><li id="7c44" class="mk ml iq ky b kz la lc ld lf oi lj oj ln ok lr ol ms mt mu bi translated">entry:这是Webpack捆绑时启动的第一个文件，通常叫做index.js，这个文件通常放在一个名为/client/src/app/的文件夹中。</li><li id="e05e" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">输出:这是发送由Babel编译并由Webpack捆绑的文件的地方。通常，输出文件是/client/dist/ folder，名为bundle.js。</li><li id="389d" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr ol ms mt mu bi translated">模块规则:这些规则告诉Webpack加载什么类型的文件，以及与它们一起使用什么包</li></ul><p id="0bd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们希望我们的生产构建自动运行，我们必须在/server/下创建一个新文件，名为<em class="nv"> build.js </em>。将以下代码复制粘贴到其中:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="0f04" class="oc lt iq ny b gy od oe l of og">import webpack from 'webpack';</span><span id="e247" class="oc lt iq ny b gy oh oe l of og">import webpackConfig from '../webpack.config';</span><span id="0a67" class="oc lt iq ny b gy oh oe l of og">import chalk from 'chalk';</span><span id="c5fb" class="oc lt iq ny b gy oh oe l of og">webpack(webpackConfig).run((<em class="nv">err</em>, <em class="nv">stats</em>) =&gt; {</span><span id="7f80" class="oc lt iq ny b gy oh oe l of og">if (err) {</span><span id="a827" class="oc lt iq ny b gy oh oe l of og">console.log(chalk.red(err));</span><span id="0fba" class="oc lt iq ny b gy oh oe l of og">return 1;</span><span id="e3a2" class="oc lt iq ny b gy oh oe l of og">}</span><span id="7074" class="oc lt iq ny b gy oh oe l of og">return 0;</span><span id="952e" class="oc lt iq ny b gy oh oe l of og">});</span></pre><p id="3e54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在进入下一步之前，让我们在项目的根文件夹中创建一个. gitignore文件，我们将在其中添加以下内容:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="8aeb" class="oc lt iq ny b gy od oe l of og"><em class="nv"># Ignore node_modules folder</em></span><span id="66f3" class="oc lt iq ny b gy oh oe l of og">node_modules</span></pre><h1 id="19ce" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为开发创建新的Webpack配置</h1><p id="55ad" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">到目前为止，我们已经设置了webpack.config.js文件，该文件将用于生产。但是我们需要一个类似的文件用于开发，所以继续向您的项目添加一个名为webpack.config.dev.js的新文件。</p><p id="331e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下代码复制粘贴到其中:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="aa3c" class="oc lt iq ny b gy od oe l of og">import path from 'path';</span><span id="ca83" class="oc lt iq ny b gy oh oe l of og">import HtmlWebpackPlugin from 'html-webpack-plugin';</span><span id="b7d3" class="oc lt iq ny b gy oh oe l of og">export default {</span><span id="4fd5" class="oc lt iq ny b gy oh oe l of og">devtool: 'inline-source-map',</span><span id="9d3e" class="oc lt iq ny b gy oh oe l of og">entry: [</span><span id="b39f" class="oc lt iq ny b gy oh oe l of og">path.resolve(__dirname, './client/src/app/index.js')</span><span id="1dd2" class="oc lt iq ny b gy oh oe l of og">],</span><span id="16f9" class="oc lt iq ny b gy oh oe l of og">target: 'web',</span><span id="f294" class="oc lt iq ny b gy oh oe l of og">output: {</span><span id="ef92" class="oc lt iq ny b gy oh oe l of og">path: path.resolve(__dirname, './client/src'),</span><span id="7088" class="oc lt iq ny b gy oh oe l of og">publicPath: '/',</span><span id="2076" class="oc lt iq ny b gy oh oe l of og">filename: 'bundle.js'</span><span id="02eb" class="oc lt iq ny b gy oh oe l of og">},</span><span id="3619" class="oc lt iq ny b gy oh oe l of og">plugins: [</span><span id="fc09" class="oc lt iq ny b gy oh oe l of og">new HtmlWebpackPlugin({</span><span id="0d05" class="oc lt iq ny b gy oh oe l of og">template: './client/src/app/index.html',</span><span id="1114" class="oc lt iq ny b gy oh oe l of og">inject: true</span><span id="333d" class="oc lt iq ny b gy oh oe l of og">})</span><span id="99cf" class="oc lt iq ny b gy oh oe l of og">],</span><span id="42e3" class="oc lt iq ny b gy oh oe l of og">module: {</span><span id="7fc0" class="oc lt iq ny b gy oh oe l of og">rules : [</span><span id="7c98" class="oc lt iq ny b gy oh oe l of og">{</span><span id="1eb8" class="oc lt iq ny b gy oh oe l of og">test: /\.js$/,</span><span id="eb6c" class="oc lt iq ny b gy oh oe l of og">exclude: /node_modules/,</span><span id="3cb0" class="oc lt iq ny b gy oh oe l of og">use: ['babel-loader'],</span><span id="09aa" class="oc lt iq ny b gy oh oe l of og">},</span><span id="c983" class="oc lt iq ny b gy oh oe l of og">{</span><span id="4bda" class="oc lt iq ny b gy oh oe l of og">test: /\.css$/,</span><span id="654b" class="oc lt iq ny b gy oh oe l of og">use: ['style-loader', 'css-loader'],</span><span id="5236" class="oc lt iq ny b gy oh oe l of og">}</span><span id="61ca" class="oc lt iq ny b gy oh oe l of og">]</span><span id="87e3" class="oc lt iq ny b gy oh oe l of og">}</span><span id="d204" class="oc lt iq ny b gy oh oe l of og">}</span></pre><h1 id="8256" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用Express设置开发web服务器</h1><p id="2d9b" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">如果您不熟悉web服务器，请先花几分钟时间阅读关于服务器端web开发的解释，以及服务器如何…将您的项目文件提供给浏览器。</p><div class="nd ne gp gr nf ng"><a href="https://blog.bitsrc.io/a-beginners-guide-to-server-side-web-development-with-node-js-17385da09f93" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">Node.js服务器端Web开发初学者指南</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">如果您是一名经验丰富的Node.js开发人员，您可能会认为这里的内容非常明显/简单…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">blog.bitsrc.io</p></div></div><div class="np l"><div class="oo l nr ns nt np nu kp ng"/></div></div></a></div><p id="3f82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于本教程，我使用Express来设置一个web服务器。该服务器将侦听HTTP请求。</p><p id="353e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在终端中，键入:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="2bb9" class="oc lt iq ny b gy od oe l of og">npm install --save-dev express@4.16.3<br/>npm install --save-dev cors@2.8.4</span></pre><p id="6f0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">CORS是<em class="nv">跨产地资源共享</em>的缩写。通常在Javascript应用程序中，您只能访问具有相同来源(来自相同域)的HTTP请求。因此，如果你的应用程序需要从另一个服务器请求信息，你会得到一个错误。</p><p id="bddc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，您需要实现一种机制，允许您安全地连接到第三方服务器，并请求和接收您需要的资源。这种机制被称为CORS。</p><p id="3011" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们在你的项目根目录下创建一个名为/server/的新文件夹，在里面有一个名为<em class="nv"> server.js </em>的文件。您应该有这样的文件夹结构:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/4cf07902f953005d391a3d0e71689fc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*k1YROAI7E0JzJbCelStluA.png"/></div></figure><p id="051c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在server.js文件中，更新代码，使其与以下代码匹配:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="35a6" class="oc lt iq ny b gy od oe l of og">const express = require('express');</span><span id="83b8" class="oc lt iq ny b gy oh oe l of og">const path = require('path');</span><span id="2c9c" class="oc lt iq ny b gy oh oe l of og">const open = require('open');</span><span id="4145" class="oc lt iq ny b gy oh oe l of og">import webpack from 'webpack';</span><span id="5078" class="oc lt iq ny b gy oh oe l of og">import config from '../webpack.config.dev.js';</span><span id="4950" class="oc lt iq ny b gy oh oe l of og">const port = 8001;</span><span id="2765" class="oc lt iq ny b gy oh oe l of og">const app = express();</span><span id="104a" class="oc lt iq ny b gy oh oe l of og">const compiler = webpack(config);</span><span id="ef99" class="oc lt iq ny b gy oh oe l of og">app.use(require('webpack-dev-middleware') (compiler, {</span><span id="fcbc" class="oc lt iq ny b gy oh oe l of og">noInfo: true,</span><span id="e290" class="oc lt iq ny b gy oh oe l of og">publicPath: config.output.publicPath</span><span id="74a9" class="oc lt iq ny b gy oh oe l of og">}));</span><span id="24fd" class="oc lt iq ny b gy oh oe l of og">app.get('/', function(<em class="nv">req</em>, <em class="nv">res</em>) {</span><span id="cf93" class="oc lt iq ny b gy oh oe l of og">res.sendFile(path.join(__dirname, '../client/src/app/index.html'));</span><span id="a494" class="oc lt iq ny b gy oh oe l of og">});</span><span id="3498" class="oc lt iq ny b gy oh oe l of og">app.listen(port, function(<em class="nv">err</em>) {</span><span id="bba1" class="oc lt iq ny b gy oh oe l of og">if (err) {</span><span id="828b" class="oc lt iq ny b gy oh oe l of og">console.log(err);</span><span id="6263" class="oc lt iq ny b gy oh oe l of og">} else {</span><span id="80e6" class="oc lt iq ny b gy oh oe l of og">open('http://localhost:' + port);</span><span id="3cc3" class="oc lt iq ny b gy oh oe l of og">}</span><span id="a729" class="oc lt iq ny b gy oh oe l of og">});</span></pre><p id="e499" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要再安装一个依赖项，Webpack需要它来生成HTML文件以服务于您的包。</p><p id="5d45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在终端中，键入:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="baad" class="oc lt iq ny b gy od oe l of og">npm install --save-dev html-webpack-plugin</span></pre><h1 id="a27d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用npm脚本实现任务自动化</h1><p id="08d5" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在package.json文件中，您已经添加了一个名为scripts的对象。它将存储脚本，这些脚本将自动执行开发过程中涉及的重复性任务，例如构建项目或缩小CSS或JS文件。</p><p id="ced0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在package.json文件中，向脚本添加以下内容:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="826f" class="oc lt iq ny b gy od oe l of og">"scripts": {</span><span id="6f82" class="oc lt iq ny b gy oh oe l of og">"start": "babel-node server/server.js"</span><span id="e80b" class="oc lt iq ny b gy oh oe l of og">},</span></pre><p id="09fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，当您进入终端并运行这个脚本时，它将自动打开端口8001，在那里您将看到您的应用程序。因此，在您的终端中键入以下内容:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="7caf" class="oc lt iq ny b gy od oe l of og">npm start</span></pre><p id="c5d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在添加更多依赖项之前，让我们向index.html文件添加一些代码。复制粘贴这些行:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="eb54" class="oc lt iq ny b gy od oe l of og">&lt;!DOCTYPE html&gt;</span><span id="5740" class="oc lt iq ny b gy oh oe l of og">&lt;html lang="en"&gt;</span><span id="6c46" class="oc lt iq ny b gy oh oe l of og">&lt;head&gt;</span><span id="d993" class="oc lt iq ny b gy oh oe l of og">&lt;meta charset="UTF-8"&gt;</span><span id="8171" class="oc lt iq ny b gy oh oe l of og">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span><span id="bc35" class="oc lt iq ny b gy oh oe l of og">&lt;title&gt;JS Boilerplate&lt;/title&gt;</span><span id="0d33" class="oc lt iq ny b gy oh oe l of og">&lt;/head&gt;</span><span id="9537" class="oc lt iq ny b gy oh oe l of og">&lt;body&gt;</span><span id="e23e" class="oc lt iq ny b gy oh oe l of og">&lt;h1&gt;JS boilerplate&lt;/h1&gt;</span><span id="24c3" class="oc lt iq ny b gy oh oe l of og">&lt;/body&gt;</span><span id="47cd" class="oc lt iq ny b gy oh oe l of og">&lt;/html&gt;</span></pre><h1 id="1247" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为林挺安装ESLint</h1><p id="ea92" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">林挺是分析源代码并标记编程和风格错误的过程。因此，linter是一个为你做这件事的工具，它实时地做这件事，所以它帮助你写更好的代码。</p><p id="0869" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过在终端中键入以下命令来安装ESLint:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="52cf" class="oc lt iq ny b gy od oe l of og">npm install -g eslint</span></pre><p id="e03e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我更喜欢使用用于林挺的VSCode扩展，所以继续将它添加到您的IDE中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/81b7f2b1903a14596b428e3e9b23353e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*hpwDVeHZknl_Wcz9gnbMDw.png"/></div></figure><p id="2774" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要配置它，我们可以通过在终端中键入:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="308a" class="oc lt iq ny b gy od oe l of og">eslint --init</span></pre><p id="4b5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将初始化终端中的配置过程，因此请遵循其中的步骤。最后，您应该看到一个新文件被添加到您的项目文件夹中，名为<em class="nv"> .eslintrc.json </em>。</p><p id="7490" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在ESLint已经配置好了，我们应该让它通过npm脚本运行。因此，在package.json文件中，在脚本下，我们将添加:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="2654" class="oc lt iq ny b gy od oe l of og">"lint": "eslint  ./client"</span></pre><h1 id="6b54" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">自动化生产构建</h1><p id="9a55" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">到目前为止，我们已经自动化了开发构建，但是也很高兴在本地看到生产应用程序，所以让我们在/server/文件夹中创建一个新文件，名为<em class="nv"> distServer.js </em>。</p><p id="eff5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在该文件中，添加以下配置:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="e384" class="oc lt iq ny b gy od oe l of og">import express from 'express';</span><span id="3aab" class="oc lt iq ny b gy oh oe l of og">import path from 'path';</span><span id="1ebd" class="oc lt iq ny b gy oh oe l of og">import open from 'open';</span><span id="fbb7" class="oc lt iq ny b gy oh oe l of og">import compression from 'compression';</span><span id="8ff3" class="oc lt iq ny b gy oh oe l of og">const port = 8002;</span><span id="b3a9" class="oc lt iq ny b gy oh oe l of og">const app = express();</span><span id="1be3" class="oc lt iq ny b gy oh oe l of og">app.use(compression());</span><span id="99e2" class="oc lt iq ny b gy oh oe l of og">app.use(express.static('dist'));</span><span id="905f" class="oc lt iq ny b gy oh oe l of og">app.get('/', function(<em class="nv">req</em>, <em class="nv">res</em>) {</span><span id="b150" class="oc lt iq ny b gy oh oe l of og">res.sendFile(path.join(__dirname, '../client/dist/index.html'));</span><span id="f792" class="oc lt iq ny b gy oh oe l of og">});</span><span id="11ff" class="oc lt iq ny b gy oh oe l of og">app.listen(port, function(<em class="nv">err</em>) {</span><span id="7e97" class="oc lt iq ny b gy oh oe l of og">if (err) {</span><span id="b94f" class="oc lt iq ny b gy oh oe l of og">console.log(err);</span><span id="16b6" class="oc lt iq ny b gy oh oe l of og">} else {</span><span id="d170" class="oc lt iq ny b gy oh oe l of og">open('http://localhost:' + port);</span><span id="b4f4" class="oc lt iq ny b gy oh oe l of og">}</span><span id="a87d" class="oc lt iq ny b gy oh oe l of og">});</span></pre><p id="6c98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们向package.json添加一些npm脚本:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="c6ec" class="oc lt iq ny b gy od oe l of og">"clean-dist": "rimraf ./dist &amp;&amp; mkdir dist",<br/>"prebuild": "npm-run-all clean-dist test lint",<br/>"build": "babel-node scripts/build.js",<br/>"postbuild": "babel-node scripts/distServer.js"</span></pre><p id="bbda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在终端中，运行以下命令来安装缺少的依赖项:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="d3ce" class="oc lt iq ny b gy od oe l of og">npm install --save-dev npm-run-all</span></pre><p id="4d54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的npm脚本现在应该包括所有这些内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/b91db9c38c04df5c4f45c2a46981d80d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*igM9VQqrMDrq14DE39C2QA.png"/></div></figure><h1 id="41ee" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">缩小和源地图</h1><p id="0787" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">一旦你开始传输和捆绑代码，你的文件会变得巨大和不可读。这使得调试非常困难，所以我们将使用sourcemaps。</p><p id="0a40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">sourcemap是一个将转换后的代码映射到原始源代码的文件，使浏览器能够重建原始代码，并像在调试器中那样显示它。因此，当我们在浏览器中检查我们的代码时，我们看到的是原始的、易于阅读的代码，而不是丑陋的捆绑版本。</p><p id="3f08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了实现这一点，我们必须生成源地图。我们的构建已经配置为在绑定过程中自动生成sourcemaps。</p><p id="13e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过查看webpack配置文件来了解这一点:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/ef5261bf8231707be1ed227afb0d675c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3ch1isYiIiTnbaJaG7FVQ.png"/></div></div></figure><p id="6c3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在部署代码之前，另一个重要的话题是<strong class="ky ir">缩小</strong>。在这个过程中，您的文件中的代码被最小化，以减少加载时间和带宽使用。目标是提高web应用程序的速度和可访问性。</p><p id="eb52" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">继续在终端中安装一个新插件:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="1702" class="oc lt iq ny b gy od oe l of og">npm install --save-dev mini-css-extract-plugin</span></pre><p id="2d1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后将插件添加到您的webpack配置中:</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="1be4" class="oc lt iq ny b gy od oe l of og">import MiniCssExtractPlugin from 'mini-css-extract-plugin';<br/></span><span id="fc49" class="oc lt iq ny b gy oh oe l of og">// Under plugins, add:</span><span id="f0f9" class="oc lt iq ny b gy oh oe l of og">new MiniCssExtractPlugin(),<br/></span><span id="ec20" class="oc lt iq ny b gy oh oe l of og">// Under module rules, add: </span><span id="5def" class="oc lt iq ny b gy oh oe l of og">{</span><span id="1b8c" class="oc lt iq ny b gy oh oe l of og">test: /\.[s]css$/,</span><span id="96a6" class="oc lt iq ny b gy oh oe l of og">use: [MiniCssExtractPlugin.loader,'style-loader', 'css-loader', 'sass-loader'],</span><span id="2933" class="oc lt iq ny b gy oh oe l of og">}</span></pre><p id="3a64" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们这样做只是为了生产，所以只是在一个webpack配置文件中。</p><p id="688b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们快完成了。在将应用程序部署到生产环境之前，让我们将所有这些更改都推送到远程存储库。</p><pre class="kg kh ki kj gt nx ny nz oa aw ob bi"><span id="afc9" class="oc lt iq ny b gy od oe l of og">git add .<br/>git commit -m 'committing the boilerplate'<br/>git push</span></pre><p id="50f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将在单独的文章中讨论部署过程和测试应用程序，因为这两个主题都相当大。</p><p id="19a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">【JavaScript用简单英语写的一句话:我们总是乐于帮助推广高质量的内容。如果你有一篇文章想用简单的英语提交给JavaScript，请用你的Medium用户名发邮件到<a class="ae kv" href="mailto:submissions@javascriptinplainenglish.com" rel="noopener ugc nofollow" target="_blank">submissions@javascriptinplainenglish.com</a>给我们，我们会把你添加为作者。</p></div></div>    
</body>
</html>