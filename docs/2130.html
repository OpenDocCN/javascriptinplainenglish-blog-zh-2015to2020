<html>
<head>
<title>Many Ways to Iterate Through JavaScript Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">遍历JavaScript数组的许多方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/many-ways-to-iterate-through-javascript-arrays-b5b49d2f92b7?source=collection_archive---------5-----------------------#2020-05-22">https://javascript.plainenglish.io/many-ways-to-iterate-through-javascript-arrays-b5b49d2f92b7?source=collection_archive---------5-----------------------#2020-05-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9c9535fd7912131925e603663862d025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YAzI5i2sn4zgk63n"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@robertbye?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Robert Bye</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0c11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用JavaScript有很多方法。例如，有很多方法可以遍历数组的元素。</p><p id="bc7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究几种可以遍历JavaScript数组的方法。</p><h1 id="f23b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">Array.prototype.forEach</code></h1><p id="90ea" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">数组实例的<code class="fe lz ma mb mc b">forEach</code>方法接受一个回调，该回调接受最多3个参数:当前项、索引和原始数组。</p><p id="e07b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">索引和原始数组是可选参数。</p><p id="6059" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是可选参数，取值为<code class="fe lz ma mb mc b">this</code>，将在回调中使用。</p><p id="0063" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="4c45" class="mq lc iq mc b gy mr ms l mt mu">const arr = [1, 2, 3];<br/>arr.forEach((a, i, arr) =&gt; {<br/>  console.log(a, i, arr)<br/>})</span></pre><p id="8802" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们定义了<code class="fe lz ma mb mc b">arr</code>数组，然后通过使用包含所有3个参数的回调函数调用<code class="fe lz ma mb mc b">forEach</code>来遍历它。</p><p id="77f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="1765" class="mq lc iq mc b gy mr ms l mt mu">1 0 "[1,2,3]"<br/>2 1 "[1,2,3]"<br/>3 2 "[1,2,3]"</span></pre><p id="69d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从控制台日志输出。</p><p id="5f26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了传入在回调中使用的<code class="fe lz ma mb mc b">this</code>值，我们可以编写以下代码:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="9199" class="mq lc iq mc b gy mr ms l mt mu">const arr = [1, 2, 3];<br/>arr.forEach(function(a) {<br/>  console.log(a + this.num);<br/>}, {<br/>  num: 1<br/>})</span></pre><p id="3b7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们传入了:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="8bae" class="mq lc iq mc b gy mr ms l mt mu">{<br/>  num: 1<br/>}</span></pre><p id="a057" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe lz ma mb mc b">forEach</code>的第2个论点。</p><p id="f61c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe lz ma mb mc b">this.num</code>为1。所以<code class="fe lz ma mb mc b">a + this.num</code>是<code class="fe lz ma mb mc b">a + 1</code>，我们得到:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="743e" class="mq lc iq mc b gy mr ms l mt mu">2<br/>3<br/>4</span></pre><p id="8883" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从控制台日志输出。</p><p id="959d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，一旦调用了<code class="fe lz ma mb mc b">forEach</code>方法，我们就不能中断它。</p><h1 id="444a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">for-in循环</h1><p id="1f76" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">for...in</code>循环适合遍历对象的键以及它的原型的键，沿着原型链一直向上。</p><p id="ed3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它只循环遍历可枚举的属性，并且它们没有任何定义的顺序。</p><p id="fecc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="69d3" class="mq lc iq mc b gy mr ms l mt mu">class Foo {<br/>  constructor() {<br/>    this.a = 1;<br/>  }</span><span id="032b" class="mq lc iq mc b gy mv ms l mt mu">}<br/>class Bar extends Foo {<br/>  constructor() {<br/>    super();<br/>    this.b = 2;<br/>    this.c = 3;<br/>  }<br/>}</span><span id="9a97" class="mq lc iq mc b gy mv ms l mt mu">const bar = new Bar();<br/>for (const key in bar) {<br/>  console.log(bar);<br/>}</span></pre><p id="8d15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有两个类，带有实例变量<code class="fe lz ma mb mc b">a</code>的<code class="fe lz ma mb mc b">Foo</code>类和扩展<code class="fe lz ma mb mc b">Foo</code>的<code class="fe lz ma mb mc b">Bar</code>类，后者带有实例变量<code class="fe lz ma mb mc b">b</code>和<code class="fe lz ma mb mc b">c</code>。</p><p id="4a56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe lz ma mb mc b">Bar</code>实例会有一个<code class="fe lz ma mb mc b">Foo</code>实例作为它的原型。</p><p id="0184" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，当我们遍历作为<code class="fe lz ma mb mc b">Bar</code>实例的<code class="fe lz ma mb mc b">bar</code>的键时，它将记录<code class="fe lz ma mb mc b">Bar</code>实例及其原型的键。</p><p id="3d53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="7dc1" class="mq lc iq mc b gy mr ms l mt mu">a<br/>b<br/>c</span></pre><p id="0e08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为控制台日志中记录的值。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/55433c1738e87c29a8d2e5398b497225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z_AiPBd4OCmMKtC8"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@4themorningshoot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Oliver Hale</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2295" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">for-of循环</h1><p id="37c3" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">循环让我们可以遍历多种对象。它们包括数组和任何类型的可迭代对象，如映射、集合、<code class="fe lz ma mb mc b">arguments</code>、DOM节点列表等。</p><p id="d39a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ES2015引入了此循环。</p><p id="5966" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">任何实现了<code class="fe lz ma mb mc b">Symbol.iterator</code>方法的东西都可以用<code class="fe lz ma mb mc b">for...of</code>循环迭代。</p><p id="4f8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与<code class="fe lz ma mb mc b">forEach</code>方法不同，我们可以编写<code class="fe lz ma mb mc b">break</code>来打破循环。</p><p id="6b1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="dcf2" class="mq lc iq mc b gy mr ms l mt mu">for (const a of [1, 2, 3]) {<br/>  console.log(a);<br/>}</span></pre><p id="e285" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="2e4b" class="mq lc iq mc b gy mr ms l mt mu">1<br/>2<br/>3</span></pre><p id="c0b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从控制台日志输出。</p><p id="00ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以迭代其他可迭代的对象，比如集合。例如，我们可以将它与如下集合一起使用:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="093d" class="mq lc iq mc b gy mr ms l mt mu">for (const a of new Set([1, 2, 3])) {<br/>  console.log(a);<br/>}</span></pre><p id="8c5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到同样的结果。</p><h1 id="6b6e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">常规for循环</h1><p id="7f16" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">常规的<code class="fe lz ma mb mc b">for</code>循环是最古老的循环之一。它有3个部分，分别是索引初始化器、运行条件和在每次迭代结束时运行的索引修饰符。</p><p id="effc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="144e" class="mq lc iq mc b gy mr ms l mt mu">const arr = [1, 2, 3]<br/>for (let i = 0; i &lt; arr.length; i++) {<br/>  console.log(arr[i]);<br/>}</span></pre><p id="58b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有了<code class="fe lz ma mb mc b">arr</code>数组。然后我们创建一个<code class="fe lz ma mb mc b">for</code>循环来遍历它。</p><p id="f6f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">索引初始化器是<code class="fe lz ma mb mc b">let i = 0</code>，运行条件是<code class="fe lz ma mb mc b">i &lt; arr.length</code>，所以它一直运行到<code class="fe lz ma mb mc b">i</code>比<code class="fe lz ma mb mc b">arr</code>的长度小1。<code class="fe lz ma mb mc b">i++</code>是索引修饰符，它在每次迭代时通过将<code class="fe lz ma mb mc b">i</code>增加1来更新<code class="fe lz ma mb mc b">i</code>。</p><h1 id="7a89" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5682" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过使用<code class="fe lz ma mb mc b">forEach</code>方法遍历数组，该方法是数组实例的一部分。</p><p id="2e92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用于循环对象关键点的循环是<code class="fe lz ma mb mc b">for...in</code>循环。</p><p id="f8a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个更通用的循环是<code class="fe lz ma mb mc b">for...of</code>循环，它可以循环数组或任何其他类型的可迭代对象。</p><h1 id="ad79" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">简明英语团队的笔记</strong></h1><p id="b58a" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？你可以在我们的主页<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">plain English . io</strong></a>上找到所有这些——关注我们的出版物并<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">来表达你的爱吧！</strong></p></div></div>    
</body>
</html>