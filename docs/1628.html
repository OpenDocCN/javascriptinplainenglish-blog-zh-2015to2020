<html>
<head>
<title>JavaScript Modules — Exports</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript模块—导出</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-modules-exports-64a512b078d4?source=collection_archive---------6-----------------------#2020-04-08">https://javascript.plainenglish.io/javascript-modules-exports-64a512b078d4?source=collection_archive---------6-----------------------#2020-04-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a86996ad5c82bc2b7afb1c6af429504c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FasLY09X8zZDYNQX"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">chuttersnap</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="31f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript模块允许我们将代码分成小块。它们还允许我们保留一些私有代码，同时公开可以导入到另一个模块中的其他代码。</p><p id="de39" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们看看如何以各种方式导出模块。</p><h1 id="ccc2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">名为Exports的行内vs子句样式</h1><p id="889b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">向JavaScript模块添加命名导出有两种方法。例如，我们可以编写以下内容:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="21f5" class="mn lc iq mj b gy mo mp l mq mr">export const foo = 1;<br/>export const bar = 2;<br/>export const baz = () =&gt; {};</span></pre><p id="454e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以这样写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ae2a" class="mn lc iq mj b gy mo mp l mq mr">const foo = 1;<br/>const bar = 2;<br/>const baz = () =&gt; {};<br/>export { foo, bar, baz };</span></pre><p id="7506" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用不同的名字导出成员，关键字a后面跟有<code class="fe ms mt mu mj b">as</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="bb63" class="mn lc iq mj b gy mo mp l mq mr">const foo = 1;<br/>const bar = 2;<br/>const baz = () =&gt; {};<br/>export { foo, bar, baz as qux };</span></pre><h1 id="0bb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">重新导出成员</h1><p id="66cf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以导出从其他模块导入的成员。例如，我们可以这样做:</p><p id="757c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code></p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="64e0" class="mn lc iq mj b gy mo mp l mq mr">const foo = 1;<br/>const bar = 2;<br/>const baz = () =&gt; {};<br/>export { foo, bar, baz as qux };</span></pre><p id="88ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">foo.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="009a" class="mn lc iq mj b gy mo mp l mq mr">export * from "./bar";</span></pre><p id="ef49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c7a3" class="mn lc iq mj b gy mo mp l mq mr">import { foo } from "./foo";</span></pre><p id="219d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们从<code class="fe ms mt mu mj b">foo.js</code>的<code class="fe ms mt mu mj b">bar.js</code>模块中重新导出了所有成员。然后我们从<code class="fe ms mt mu mj b">foo.js</code>导入<code class="fe ms mt mu mj b">foo</code>而不是<code class="fe ms mt mu mj b">bar.js</code>。</p><p id="74d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不必导出所有成员。例如，我们可以从<code class="fe ms mt mu mj b">bar.js</code>中导出选定的成员，如下所示:</p><p id="24b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code></p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d971" class="mn lc iq mj b gy mo mp l mq mr">const foo = 1;<br/>const bar = 2;<br/>const baz = () =&gt; {};<br/>export { foo, bar, baz };</span></pre><p id="d088" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">foo.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d649" class="mn lc iq mj b gy mo mp l mq mr">export { foo, bar } from "./bar";</span></pre><p id="bed0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="151f" class="mn lc iq mj b gy mo mp l mq mr">import { foo } from "./foo";</span></pre><h1 id="32a5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使重新导出成为默认导出</h1><p id="714f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将重新导出标记为默认。例如，我们可以将<code class="fe ms mt mu mj b">foo.js</code>中的重新导出更改为默认导出，如下所示:</p><p id="f0d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code></p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ad18" class="mn lc iq mj b gy mo mp l mq mr">const foo = 1;<br/>const bar = 2;<br/>const baz = () =&gt; {};<br/>export { foo, bar, baz };</span></pre><p id="b887" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">foo.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6327" class="mn lc iq mj b gy mo mp l mq mr">export { foo as default } from "./bar";</span></pre><p id="6283" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="31f8" class="mn lc iq mj b gy mo mp l mq mr">import foo from "./foo";</span></pre><p id="de78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们从<code class="fe ms mt mu mj b">foo.js</code>中的<code class="fe ms mt mu mj b">bar</code>导出<code class="fe ms mt mu mj b">foo</code>作为默认导出，因此我们可以将其作为默认导入导入到<code class="fe ms mt mu mj b">index.js</code>中。</p><p id="5bba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以导出默认导出，如下所示:</p><p id="1be6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e515" class="mn lc iq mj b gy mo mp l mq mr">let foo = 1;<br/>export default foo;</span></pre><p id="ac96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">foo.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f4af" class="mn lc iq mj b gy mo mp l mq mr">export { default } from "./bar";</span></pre><p id="00b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7241" class="mn lc iq mj b gy mo mp l mq mr">import foo from "./foo";</span></pre><p id="44db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">index.js</code>中的<code class="fe ms mt mu mj b">foo</code>就是1。</p><h1 id="61a8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在一个模块中混合命名导出和默认导出</h1><p id="2087" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在一个模块中同时拥有命名导出和默认导出。例如，我们可以编写以下代码来实现这一点:</p><p id="10ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code></p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ea7f" class="mn lc iq mj b gy mo mp l mq mr">export const bar = 3;<br/>export const baz = "abc";<br/>let foo = 1;<br/>export default foo;</span></pre><p id="f274" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2e06" class="mn lc iq mj b gy mo mp l mq mr">import foo, { bar, baz } from "./bar";</span></pre><p id="d78b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，<code class="fe ms mt mu mj b">bar.js</code>既有命名导出，也有默认导出。然后我们可以像我们在<code class="fe ms mt mu mj b">index.js</code>中期望的那样导入每个成员。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/c7c47dc7120876f0b7a4c45b985ff1ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ukCwMvNxDLI4UHHT"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@luba1304?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lutz Baumann</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3ef2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">默认导出只是另一个命名导出</h1><p id="a38a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">默认导出只是另一个命名导出，只不过我们只能拥有其中的一个。例如，给定以下模块:</p><p id="af9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9a38" class="mn lc iq mj b gy mo mp l mq mr">let foo = 1;<br/>export default foo;</span></pre><p id="4a08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用<code class="fe ms mt mu mj b">default as</code>关键字导入它，如下所示:</p><p id="c651" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="eadf" class="mn lc iq mj b gy mo mp l mq mr">import { default as foo } from "./bar";</span></pre><p id="f27e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在<code class="fe ms mt mu mj b">index.js</code>有了一个指定的默认导出。</p><p id="e4d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以将命名导出转换为默认导出，如下所示:</p><p id="e4af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b665" class="mn lc iq mj b gy mo mp l mq mr">let foo = 1;<br/>export { foo as default };</span></pre><p id="b32b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以按如下方式导入:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e3c1" class="mn lc iq mj b gy mo mp l mq mr">import foo from "./bar";</span></pre><h1 id="bbf5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用导入加载模块</h1><p id="96e1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用Webpack模块包附带的<code class="fe ms mt mu mj b">import</code>函数来动态导入模块。</p><p id="232e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下代码来实现这一点:</p><p id="3483" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3e96" class="mn lc iq mj b gy mo mp l mq mr">let foo = 1;<br/>export { foo as default };</span></pre><p id="3b95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5a57" class="mn lc iq mj b gy mo mp l mq mr">(async () =&gt; {<br/>  const foo = await import("./bar");<br/>  console.log(foo.default);<br/>})();</span></pre><p id="8b55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们从<code class="fe ms mt mu mj b">index.js</code>中的<code class="fe ms mt mu mj b">bar.js</code>导入一个默认导出。这是一个基于承诺的API，所以我们使用<code class="fe ms mt mu mj b">async</code>和<code class="fe ms mt mu mj b">await</code>来导入它。</p><p id="27b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用导入模块的<code class="fe ms mt mu mj b">default</code>属性访问默认导出。</p><p id="56c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于命名导出，我们可以编写以下代码来导入成员。给定以下模块:</p><p id="381b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bar.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e5d7" class="mn lc iq mj b gy mo mp l mq mr">export let foo = 1;</span></pre><p id="682d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以在<code class="fe ms mt mu mj b">index.js</code>中编写以下内容来导入它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ba8e" class="mn lc iq mj b gy mo mp l mq mr">(async () =&gt; {<br/>  const foo = await import("./bar");<br/>  console.log(foo.foo);<br/>})();</span></pre><p id="0c5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所看到的，命名导出是通过它们的属性名来访问的。所以<code class="fe ms mt mu mj b">foo.foo</code>是1。</p><h1 id="f910" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4d6e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在JavaScript模块中有很多方法可以导出成员。我们可以有命名的和默认的导出。此外，我们可以从另一个模块中重新导出成员。最后，我们可以使用<code class="fe ms mt mu mj b">import</code>函数来动态导入模块。它回报一个承诺。</p><h2 id="6835" class="mn lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">JavaScript用简单的英语写的一个注释:</h2><p id="ea1d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>——谢谢，继续学习！</p></div></div>    
</body>
</html>