<html>
<head>
<title>How Mongo creates unique Id for a document/object?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Mongo如何为文档/对象创建唯一的Id？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-mongo-create-unique-id-for-a-document-object-afdf5725353f?source=collection_archive---------5-----------------------#2019-11-01">https://javascript.plainenglish.io/how-mongo-create-unique-id-for-a-document-object-afdf5725353f?source=collection_archive---------5-----------------------#2019-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/342d9f3bc607f594497aedddd906875d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8jdWqlm2nSidGvnRuCe6UA.png"/></div></div></figure><p id="6c30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Mongo DB中存储文档时，您可能已经注意到了。Mongo自己设置了 <strong class="ka ir"> <em class="kw"> _id </em> </strong> <em class="kw">属性，长字符串值如下…</em><strong class="ka ir"><em class="kw">5 DBC 11 af 4c 23283312490 b5c</em></strong></p><p id="0d5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个id有24个字符，每两个字符代表一个字节。本质上，mongo为每个文档创建了12个字节的唯一标识。</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/dc5d6563a7fcb2ef3293e1081d9a19b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GULLMfKDWr71Mw9R"/></div></div></figure><p id="a78a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个12字节的字符串是一组4个不同的标识符。</p><ol class=""><li id="08e0" class="lc ld iq ka b kb kc kf kg kj le kn lf kr lg kv lh li lj lk bi translated"><strong class="ka ir">前4个字节</strong>:前4个字节代表时间戳。此戳记是文档创建的时间。</li><li id="2adc" class="lc ld iq ka b kb ll kf lm kj ln kn lo kr lp kv lh li lj lk bi translated"><strong class="ka ir">第二位，3字节</strong> :-该组代表机器标识符。每台不同的机器都有不同的机器标识符。</li><li id="2f38" class="lc ld iq ka b kb ll kf lm kj ln kn lo kr lp kv lh li lj lk bi translated"><strong class="ka ir">第三个2字节</strong> :-该组代表进程标识符。如果您在同一台机器但不同的处理器上生成两个不同的文档。因此，这两个文档的进程标识符是不同的。</li><li id="89ec" class="lc ld iq ka b kb ll kf lm kj ln kn lo kr lp kv lh li lj lk bi translated"><strong class="ka ir">第四个3字节</strong> :-该组代表自动递增计数器。如果我们在同一台机器上，使用相同的处理器，同时生成两个不同的文档，那么这些计数器字节将会不同。</li></ol><p id="9295" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以，有了这12个字节，mongo就可以惟一地标识每一个文档。两个文档具有相同ID的可能性非常小。</p></div></div>    
</body>
</html>