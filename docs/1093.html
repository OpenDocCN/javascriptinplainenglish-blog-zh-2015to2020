<html>
<head>
<title>How to Integrate a Dialogflow Bot with React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将Dialogflow Bot与React集成</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-integrate-a-dialogflow-bot-with-react-ece565324a1a?source=collection_archive---------6-----------------------#2020-01-28">https://javascript.plainenglish.io/how-to-integrate-a-dialogflow-bot-with-react-ece565324a1a?source=collection_archive---------6-----------------------#2020-01-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a845" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">将Dialogflow bot集成到React应用程序的分步指南</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/7fefedee7e7d65ad93ffb9eac69b9ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yp2GCmtXIOaZrMEp.jpeg"/></div></div></figure><h2 id="300a" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">先决条件</h2><p id="1df1" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">首先，你需要一个<a class="ae md" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank"> Dialogflow </a> bot或者Dialogflow和React的工作知识。要将聊天机器人与React整合，你需要一个<a class="ae md" href="https://www.kommunicate.io/" rel="noopener ugc nofollow" target="_blank">通信</a>账户。所有上述工具都可以免费试用。此外，应该在系统中安装节点。</p><p id="cfa5" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated"><a class="ae md" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="lm io">创建免费聊天机器人</strong> </a></p><h2 id="7cbe" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">在React网站中集成Dialogflow bot的步骤</h2><p id="610d" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">我将解释我是如何连接Dialogflow并在Kommunicate的帮助下做出反应的。</p><p id="1538" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated"><em class="mj">注意:为了保持简单明了，本教程用非常基本和简单的代码开发来解释。还要提一下，这个项目可以在</em><a class="ae md" href="https://github.com/Kommunicate-io/Kommunicate-Web-Samples/tree/master/Sample-react-js-chat" rel="noopener ugc nofollow" target="_blank"><em class="mj">Github</em></a><em class="mj">上找到。</em></p><h1 id="1167" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第一步。创建您的对话流机器人</h1><p id="ebd7" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">首先，您可以在Dialogflow中轻松创建一个聊天机器人。这是一个非常直观而强大的聊天机器人构建工具。<a class="ae md" href="https://docs.kommunicate.io/docs/bot-samples" rel="noopener ugc nofollow" target="_blank">这里有一个示例</a>可以帮助您开始使用Dialogflow bot。更进一步，你可以创建你自己的意图实体。</p><h1 id="fdef" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第二步。集成Dialogflow聊天机器人和通信</h1><p id="bd4b" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">要在komunicate中集成您的Dialogflow bot，请登录到您的komunicate仪表板并导航到<a class="ae md" href="https://dashboard.kommunicate.io/bot" rel="noopener ugc nofollow" target="_blank"> Bot部分</a>。如果您没有帐户，您可以在这里创建一个<a class="ae md" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank">。找到Dialogflow部分并点击<strong class="lm io"> Integrate Bot </strong>。</a></p><p id="71e9" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated">现在，导航到您的Dialogflow控制台并下载服务帐户密钥文件。以下是查找文件的步骤:</p><ol class=""><li id="bb11" class="mv mw in lm b ln me lq mf kx mx lb my lf mz mc na nb nc nd bi translated">从左侧面板的下拉列表中选择您的代理。</li><li id="64cd" class="mv mw in lm b ln ne lq nf kx ng lb nh lf ni mc na nb nc nd bi translated">点击设置按钮。这将为代理打开一个设置页面。</li><li id="9d87" class="mv mw in lm b ln ne lq nf kx ng lb nh lf ni mc na nb nc nd bi translated">在常规选项卡内搜索<strong class="lm io">谷歌项目</strong>并点击你的服务账户。</li><li id="7361" class="mv mw in lm b ln ne lq nf kx ng lb nh lf ni mc na nb nc nd bi translated">在重定向到您的<strong class="lm io">服务帐户</strong>之后，从<strong class="lm io"> Actions </strong>部分为您的项目创建一个JSON格式的密钥，它将被自动下载。</li><li id="143f" class="mv mw in lm b ln ne lq nf kx ng lb nh lf ni mc na nb nc nd bi translated">现在上传<strong class="lm io">密钥文件</strong>。</li></ol><p id="cb47" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated">在机器人档案部分，你可以给你的机器人一个名字。每当用户与机器人交互时，该名称将对用户可见。进一步处理并填写细节。</p><ol class=""><li id="b035" class="mv mw in lm b ln me lq mf kx mx lb my lf mz mc na nb nc nd bi translated"><strong class="lm io">仪表盘→机器人集成→管理机器人</strong>:你可以在这里查看你所有集成的机器人</li><li id="08fe" class="mv mw in lm b ln ne lq nf kx ng lb nh lf ni mc na nb nc nd bi translated"><strong class="lm io">仪表板→机器人集成:</strong>你的对话流图标应该是绿色的，显示你成功集成的机器人数量。您还可以选择在这里测试您新创建的机器人。(见下图)</li></ol><p id="936e" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated">完成设置，然后您可以检查和测试您新创建的机器人。</p><p id="9839" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated"><a class="ae md" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="lm io">免费试用30天</strong> </a></p><h1 id="7852" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第三步。创建React应用程序</h1><p id="f138" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">使用以下命令创建一个新的React应用程序(my-app ):</p><pre class="kd ke kf kg gt nj nk nl nm aw nn bi"><span id="536e" class="ko kp in nk b gy no np l nq nr">npx create-react-app my-app</span></pre><h1 id="a928" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第四步。现在，导航到我的应用程序文件夹</h1><pre class="kd ke kf kg gt nj nk nl nm aw nn bi"><span id="b860" class="ko kp in nk b gy no np l nq nr">cd my-app</span></pre><h1 id="c218" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第五步。在src文件夹中创建新文件chat.js</h1><p id="e36a" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">创建chat.js后，将下面的代码添加到<strong class="lm io"> componentDidMount中。下面的代码将使用集成的Dialogflow bot在您的网站上启动一个聊天小部件。确保用您的<a class="ae md" href="https://dashboard.kommunicate.io/settings/install" rel="noopener ugc nofollow" target="_blank">通信应用程序ID </a>替换&lt;您的应用程序ID &gt;。</strong></p><p id="f369" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated">您也可以在komunicate的<a class="ae md" href="https://dashboard.kommunicate.io/settings/install" rel="noopener ugc nofollow" target="_blank">安装部分获得该代码。</a></p><pre class="kd ke kf kg gt nj nk nl nm aw nn bi"><span id="9e82" class="ko kp in nk b gy no np l nq nr">(function(d, m){<br/>        var kommunicateSettings = {"appId":"&lt;YOUR APP_ID&gt;","popupWidget":true,"automaticChatOpenOnNavigation":true};<br/>        var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;<br/>        s.src = "<a class="ae md" href="https://widget-test.kommunicate.io/v2/kommunicate.app" rel="noopener ugc nofollow" target="_blank">https://widget.kommunicate.io/v2/kommunicate.app</a>";<br/>        var h = document.getElementsByTagName("head")[0]; h.appendChild(s);<br/>        window.kommunicate = m; m._globals = kommunicateSettings;<br/>      })(document, window.kommunicate || {});</span></pre><p id="a91a" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated">下面是相同的代码编辑器的屏幕截图:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ns"><img src="../Images/09e95863f6807d87c67d0fc70f81dd1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6LoO9qRg3SZy7Hmh0DVpZw.png"/></div></div></figure><h1 id="e429" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第六步。在App.js中导入KommunicateChat组件</h1><p id="078c" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">在App.js文件中导入KommunicateChat组件。下面是代码编辑器的屏幕截图:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ns"><img src="../Images/a13bc8948ccf15cf637093476e1f459b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*soxoe_AaWwy56F4Kwb42Tg.png"/></div></div></figure><h1 id="083b" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">第七步。在本地启动你的应用</h1><p id="9c25" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">使用以下命令启动安装了Dialogflow bot的新创建的网站。</p><pre class="kd ke kf kg gt nj nk nl nm aw nn bi"><span id="39ac" class="ko kp in nk b gy no np l nq nr">npm start</span></pre><p id="b5a7" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated">瞧啊。有多简单？通过这几个简单的步骤，您可以将Dialogflow bot集成到React网站中。这是聊天小部件在网站上的外观:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/ae5ee9d6aa07a6a4d5892580c30233f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VLPoUKILwrL3KbVOXADEPQ.png"/></div></div></figure><h1 id="4627" class="mk kp in bd kq ml mm mn kt mo mp mq kw jt mr ju la jw ms jx le jz mt ka li mu bi translated">包扎</h1><p id="a8d3" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">在React网站中用Dialogflow bot创建一个支持富文本的聊天小部件相当简单。您可以进一步<a class="ae md" href="https://dashboard.kommunicate.io/settings/chat-widget-customization#chat-widget-styling" rel="noopener ugc nofollow" target="_blank">定制聊天工具</a>以匹配您的网站颜色和主题。</p><p id="cac1" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated"><a class="ae md" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="lm io">免费试用</strong> </a></p></div><div class="ab cl nu nv hr nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ig ih ii ij ik"><p id="405d" class="pw-post-body-paragraph lk ll in lm b ln me jo lp lq mf jr ls kx mg lu lv lb mh lx ly lf mi ma mb mc ig bi translated"><em class="mj">原载于2020年1月28日</em><a class="ae md" href="https://www.kommunicate.io/blog/integrate-dialogflow-bot-react-js/" rel="noopener ugc nofollow" target="_blank"><em class="mj">https://www . komunicate . io</em></a><em class="mj">。</em></p></div></div>    
</body>
</html>