<html>
<head>
<title>Next.js —Where have you been all my life?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">next . js——我这辈子你都去哪了？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/next-js-where-have-you-been-all-my-life-1dedba2d2431?source=collection_archive---------3-----------------------#2019-09-10">https://javascript.plainenglish.io/next-js-where-have-you-been-all-my-life-1dedba2d2431?source=collection_archive---------3-----------------------#2019-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d5e7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Next.js如何让我在生产中编写React。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/020ce2f0d911c9a0f7da12a7420d1ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rLE1jm-KN5RjNsHmMfQfag.png"/></div></div></figure><p id="f30b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我几乎放弃了。我的React SPA对代码来说很棒，但也完全没用。我花了几个月的时间学习React，又花了几个月的时间说服团队升级我们的Jquery驱动的前端React，所有这些都是为了性能、更好的代码可重用性和未来检验。</p><p id="156b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们是一个在线新闻门户网站，所以我用React开发的网站或多或少是一个博客。这能有多难？一些路线，获取一些API，瞧！没那么快。我把我闪亮的新原型的网址分享给了脸书——什么也没出现，没有特色图片，没有合适的标题。</p><p id="5f56" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我意识到脸书只会废弃服务器端渲染的meta标签。此时我唯一能使用的魔法是预渲染器。这使得我们的构建部署流程、缓存策略和成本计算变得复杂。还有，Lighthouse也没打出好成绩。我心碎了。</p><p id="1619" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">幸运的是，我有更多的时间。我们没有升级我们的直播网站。暂时不谈这个。我继续寻求解决方案。我的新目标是:</p><ol class=""><li id="d195" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">动态页面—带有服务器端呈现的元标签</li><li id="67c9" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">页面加载后对交互性做出反应</li><li id="152e" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">灯塔得分超过80%</li><li id="c05a" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">简单的构建和部署流程</li><li id="4417" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">易于本地开发</li></ol><p id="bebf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我谷歌“服务器端渲染反应”后不久，我发现了Next.js。</p><p id="6807" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有一个很好的教程，作者是布拉德·特拉弗斯</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure><h1 id="5c95" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">📃动态页面</h1><p id="f627" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">是的。像任何其他服务器端呈现的站点一样。但是你用React构建组件。Next.js在产品中融合了组件，所以你的HTML已经准备好了，而不是在浏览器需要执行的包中。这对于SEO、社交媒体共享和缓存来说非常好。另外，Next.js与Express配合得很好。所以我可以在同一个代码库中编写我的API和做其他更多“类似服务器”的事情！</p><h1 id="858d" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">💫互动反应</h1><p id="5e31" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">Next.js可以很容易地确定哪些组件应该呈现在服务器端，哪些应该在浏览器中运行。<code class="fe nc nd ne nf b">componentDidMount</code>中的所有代码仍然在浏览器中运行，你很少需要担心这一点。使用的React包也不是特定于Next.js的，所以您可以获得所有最新的好东西，比如React钩子！</p><h1 id="cd93" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">⚡️表演</h1><p id="c2e5" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">在编译过程中使用了很多好的魔法。Next.js生成的页面速度惊人。我从来没有在我的任何页面上看到过低于85%的灯塔评分。许多现代性能最佳实践都是现成的，不需要任何配置。你也可以通过使用Next.js提供的组件来加载另一个页面，而不需要重新加载浏览器，当你构建你的项目时，Next.js可以把没有服务器端逻辑的页面变成静态页面！</p><h1 id="a455" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">🔧构建和部署</h1><p id="0188" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">这里没什么复杂的！仅仅<code class="fe nc nd ne nf b">npm run build</code>几秒钟后，你的生产文件夹就准备好了，然后运行<code class="fe nc nd ne nf b">npm start</code>。Next.js的创建者还提供了一个受欢迎的服务，名为<a class="ae ng" href="https://zeit.co/" rel="noopener ugc nofollow" target="_blank"> Zeit </a>，它为Next.js项目进行无服务器部署。</p><h1 id="a9e0" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">💻地方发展</h1><p id="a5fd" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">这在当今非常普遍，但极其重要。Express和React可以在一个本地服务器上运行。热重装工作起来像一个魔咒，节省了大量的时间。就是管用！</p><p id="57b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">总之，我喜欢Next.js，我鼓励你尝试一下！</p><div class="nh ni gp gr nj nk"><a href="https://nextjs.org/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">next . js-React框架</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">生产级反应可扩展的应用。世界领先的公司使用Next.js构建服务器渲染的…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">nextjs.org</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kp nk"/></div></div></a></div></div></div>    
</body>
</html>