<html>
<head>
<title>JavaScript Best Practices — Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—变量</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-best-practices-variables-e2f05af4dc55?source=collection_archive---------8-----------------------#2020-05-03">https://javascript.plainenglish.io/javascript-best-practices-variables-e2f05af4dc55?source=collection_archive---------8-----------------------#2020-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/40258bae065e0c51a309cd0a36aaea5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E_bmzdWhbtvEgRCE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sharonmccutcheon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sharon McCutcheon</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8499" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="c189" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将探讨在JavaScript代码中定义和使用变量的最佳方式。</p><h1 id="526d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">总是使用<code class="fe lz ma mb mc b">const</code>或<code class="fe lz ma mb mc b">let</code>来声明变量</h1><p id="e316" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们应该用<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>分别声明变量和常量。</p><p id="320e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们得到了块范围的变量和常量，所以我们不会遇到变量或常量在我们不期望的地方被访问的问题。</p><p id="5236" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">没有严格模式，使用<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>也会阻止我们创建全局变量。</p><p id="d7aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">全局变量污染了全局名称空间，我们的代码越复杂，我们的全局变量在不同地方有相同名称的可能性就越大。那么会因此发生意想不到的行为。</p><p id="ff8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也防止我们在它被设置后重新分配它的值。<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>都防止我们用相同的名字声明一个变量两次。</p><p id="33e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以用<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>声明变量和常量，如下所示:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="69d8" class="mq lc iq mc b gy mr ms l mt mu">let a = 1;<br/>const b = 2;</span></pre><p id="77a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们用let和常量<code class="fe lz ma mb mc b">b</code>声明了一个变量<code class="fe lz ma mb mc b">a</code>。</p><p id="514d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们就不必担心它们在其他地方被声明，或者在<code class="fe lz ma mb mc b">b</code>的情况下，它的值被重新分配给其他东西。</p><h1 id="a607" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">每个变量或赋值使用一个<code class="fe lz ma mb mc b">const</code>或<code class="fe lz ma mb mc b">let</code>声明</h1><p id="1384" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们应该把我们的每个<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>声明放在它们自己的行中。</p><p id="b12f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不用编写以下代码在一行中声明多个变量:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="e6f6" class="mq lc iq mc b gy mr ms l mt mu">const a = 1,<br/>  b = 2,<br/>  c = 3;</span></pre><p id="62d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该将<code class="fe lz ma mb mc b">const</code>关键字放在每个声明的前面，如下所示:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="a3a2" class="mq lc iq mc b gy mr ms l mt mu">const a = 1;<br/>const b = 2;<br/>const c = 3;</span></pre><p id="14c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们知道上面代码中的每一行都是用<code class="fe lz ma mb mc b">const</code>声明的。在第一个例子中，我们不确定它们是如何声明的。</p><p id="7755" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，由于我们可以剪切、复制和粘贴整行，所以交换它们所在行中的变量更容易。</p><p id="da83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用调试器单步执行每一行，而不是一次查看所有的声明。</p><h1 id="559f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将所有的声明组合在一起，然后将所有的声明组合在一起<code class="fe lz ma mb mc b">let Declarations Together</code></h1><p id="8a3d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们应该将所有的<code class="fe lz ma mb mc b">const</code>声明组合在一起，然后将所有的<code class="fe lz ma mb mc b">let</code>声明组合在一起。</p><p id="cffb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们把它们分散到各处，那么我们以后就很难找到它们了。</p><p id="c15b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可能需要根据之前分配的变量来分配一个变量。</p><p id="fe41" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下代码:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="c697" class="mq lc iq mc b gy mr ms l mt mu">const a = 1;<br/>let foo;<br/>const b = 2;<br/>let bar;<br/>const c = 3;</span></pre><p id="3cfb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么就很难读取和跟踪哪个变量被赋给了什么。相反，我们应该这样写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="22b6" class="mq lc iq mc b gy mr ms l mt mu">const a = 1;<br/>const b = 2;<br/>const c = 3;</span><span id="cc8c" class="mq lc iq mc b gy mv ms l mt mu">let foo;<br/>let bar;</span></pre><p id="ec14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更有条理。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/3e18b4fbc12a6964b44b08ef947f8437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L4TN5JwMh1bPjJR5"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jrduncan11?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">John Duncan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7acf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在我们需要的地方分配变量，但是把它们放在一个合理的地方</h1><p id="b725" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们应该在需要的地方分配变量，因为<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>变量是块范围的，这些是我们应该有的变量和常量。</p><p id="5d40" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用<code class="fe lz ma mb mc b">var</code>声明的变量是函数作用域的，并且被提升了，所以它们可以在我们不希望它们被访问的地方被访问。</p><p id="4830" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们应该如下放置变量:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="f549" class="mq lc iq mc b gy mr ms l mt mu">const getGreeting = () =&gt; 'hi';</span><span id="089d" class="mq lc iq mc b gy mv ms l mt mu">const greet = (name) =&gt; {<br/>  if (!name) {<br/>    return '';<br/>  }</span><span id="f7e3" class="mq lc iq mc b gy mv ms l mt mu">  const greeting = getGreeting();<br/>  return `${greeting} ${name}`;<br/>}</span></pre><p id="778d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们在<code class="fe lz ma mb mc b">greet</code>函数中使用了<code class="fe lz ma mb mc b">greeting</code>常量。我们把它放在那里，这样我们就不必运行不必要的<code class="fe lz ma mb mc b">getGreeting</code>函数。</p><p id="d36c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只在<code class="fe lz ma mb mc b">name</code>为真值时运行<code class="fe lz ma mb mc b">getGreeting</code>函数，这样我们就不必在每次调用时都运行它。</p><p id="df38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们没有将<code class="fe lz ma mb mc b">greeting</code>声明的代码放在or <code class="fe lz ma mb mc b">greet</code>函数的第一行，如下所示:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="c206" class="mq lc iq mc b gy mr ms l mt mu">const getGreeting = () =&gt; 'hi';</span><span id="f42a" class="mq lc iq mc b gy mv ms l mt mu">const greet = (name) =&gt; {<br/>  const greeting = getGreeting();<br/>  if (!name) {<br/>    return '';<br/>  }</span><span id="5f17" class="mq lc iq mc b gy mv ms l mt mu">  return `${greeting} ${name}`;<br/>}</span></pre><p id="1fc1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">只有当我们需要使用变量和常量时，才声明它们会更有效。</p><h1 id="7f2e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="3976" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">当我们声明变量时，我们应该总是使用<code class="fe lz ma mb mc b">let</code>或<code class="fe lz ma mb mc b">const</code>来只声明块范围的变量和常量。</p><p id="65c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">const</code>和<code class="fe lz ma mb mc b">let</code>变量应分组到各自的组中。此外，应该只在需要时才声明它们。</p><h2 id="24b2" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="85d1" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a><a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a><a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p><p id="e119" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，使用您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>