<html>
<head>
<title>Good Parts of JavaScript — Objects Types and Structure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript的优点——对象类型和结构</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/good-parts-of-javascript-objects-types-and-structure-b075f16f41cc?source=collection_archive---------5-----------------------#2020-06-09">https://javascript.plainenglish.io/good-parts-of-javascript-objects-types-and-structure-b075f16f41cc?source=collection_archive---------5-----------------------#2020-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/905544962122c9c1e6b9714bf7be9312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wakQum4Vt611zixJ"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@franagain?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">fran hogan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="41b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是世界上最流行的编程语言之一。它可以做很多事情，并且有一些领先于许多其他语言的功能。</p><p id="d034" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究JavaScript对象的一些优秀部分，包括类型和结构。</p><h1 id="4530" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">获取属性值的类型</h1><p id="b95f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">typeof</code>操作符来获取属性的值。</p><p id="37b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，给定以下对象:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2bee" class="mq lc iq mh b gy mr ms l mt mu">const obj = {<br/>  'foo': 1,<br/>  'bar': {<br/>    'baz': 2<br/>  }<br/>}</span></pre><p id="2691" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a754" class="mq lc iq mh b gy mr ms l mt mu">typeof obj.foo</span></pre><p id="d9f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们应该得到<code class="fe me mf mg mh b">'number'</code>。</p><p id="cf78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，我们要小心使用这个操作符，因为原型链上的属性也可以返回值。</p><p id="7769" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="af8e" class="mq lc iq mh b gy mr ms l mt mu">typeof obj.toString</span></pre><p id="3618" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们会看到<code class="fe me mf mg mh b">'function'</code>回归。</p><p id="217e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果我们不想意外获得对象原型的类型，我们应该首先使用<code class="fe me mf mg mh b">hasOwnProperty</code>方法来检查属性是否在对象中。</p><p id="50f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3a97" class="mq lc iq mh b gy mr ms l mt mu">obj.hasOwnProperty('foo')</span></pre><p id="67a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">检查<code class="fe me mf mg mh b">'foo'</code>是否是<code class="fe me mf mg mh b">obj</code>本身的属性。</p><p id="67d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后返回<code class="fe me mf mg mh b">true</code>，因为它是在<code class="fe me mf mg mh b">obj</code>本身中定义的。</p><p id="d26c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，如果我们写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a059" class="mq lc iq mh b gy mr ms l mt mu">obj.hasOwnProperty('toString')</span></pre><p id="e809" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们应该让<code class="fe me mf mg mh b">false</code>返回，因为它是<code class="fe me mf mg mh b">obj</code>原型的一部分。</p><h1 id="e114" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">列举</h1><p id="22b7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript中有几种枚举对象属性的方法。</p><p id="e505" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用for-in循环来遍历对象的属性。</p><p id="dbfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，有两个条件。枚举的顺序不能保证。此外，for-in循环遍历原型链上所有对象原型的所有属性。</p><p id="f1ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8e5a" class="mq lc iq mh b gy mr ms l mt mu">for (const key in obj) {<br/>  //..<br/>}</span></pre><p id="3bbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">循环通过<code class="fe me mf mg mh b">obj</code>的按键及其原型按键。</p><p id="13a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了防止我们遍历一个对象的原型属性，我们可以再次使用<code class="fe me mf mg mh b">hasOwnProperty</code>方法来检查该属性是否是自己的属性。</p><p id="d95c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4757" class="mq lc iq mh b gy mr ms l mt mu">for (const key in obj) {<br/>  if (obj.hasOwnProperty(key)) {<br/>    //..<br/>  }<br/>}</span></pre><h1 id="5717" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对象.键</h1><p id="d4d4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们只想遍历一个对象自己的键，我们可以使用<code class="fe me mf mg mh b">Object.keys</code>方法来获取它们。</p><p id="7389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个对象自身可枚举属性的键数组。</p><p id="0955" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">只返回字符串键。</p><p id="6e97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="78f5" class="mq lc iq mh b gy mr ms l mt mu">for (const key of Object.keys(obj)) {<br/>  //...<br/>}</span></pre><p id="f89f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用for-of而不是for-in循环来遍历<code class="fe me mf mg mh b">obj</code>自己的键。</p><h1 id="a703" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Reflect.ownKeys</h1><p id="ff07" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Reflect.ownKeys</code>跟<code class="fe me mf mg mh b">Object.keys</code>很像。它返回给定对象自己的键的数组。</p><p id="e056" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不同之处在于字符串和符号键都被返回。</p><p id="06cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="65fb" class="mq lc iq mh b gy mr ms l mt mu">for (const key of <!-- -->Reflect.ownKeys<!-- -->(obj)) {<br/>  //...<br/>}</span></pre><h1 id="acb8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">删除</h1><p id="f8e4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">delete</code>操作符用于从对象中删除属性。</p><p id="f6b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一个对象有给定的属性，那么如果我们使用<code class="fe me mf mg mh b">delete</code>操作符，它将被移除。</p><p id="c48d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，给定以下对象:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b601" class="mq lc iq mh b gy mr ms l mt mu">const obj = {<br/>  'foo': 1,<br/>  'bar': {<br/>    'baz': 2<br/>  }<br/>}</span></pre><p id="83fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="85fa" class="mq lc iq mh b gy mr ms l mt mu">delete obj.foo;</span></pre><p id="3654" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从<code class="fe me mf mg mh b">obj</code>中移除<code class="fe me mf mg mh b">foo</code>属性。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/089bf448199ef3b80e7328552b32b019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GcWtatCLxu-b-QSa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@xusanfeng?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Levi XU</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="73b9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">全球减排</h1><p id="7a18" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript的一个不好的地方是定义全局变量太容易了。</p><p id="db24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这使得我们的程序在名称空间冲突方面不够健壮，并使错误难以跟踪。</p><p id="14e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用几种方法来最小化全局变量的使用。</p><p id="fc67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以在对象中取出我们的本地代码。我们可以把它们放在块中，或者放在模块中。</p><p id="07e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们创建一个对象:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="61db" class="mq lc iq mh b gy mr ms l mt mu">const obj = {<br/>  'foo': 1,<br/>  'bar': {<br/>    'baz': 2<br/>  }<br/>}</span></pre><p id="c349" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">obj.foo</code>不是全局对象。</p><p id="d1da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也不应该在节点应用程序中附加任何类似于<code class="fe me mf mg mh b">window</code>或<code class="fe me mf mg mh b">global</code>的属性。</p><p id="7202" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，如果我们把它们放在块中，那么我们可以使用<code class="fe me mf mg mh b">let</code>和<code class="fe me mf mg mh b">const</code>来声明块范围的变量和常量。</p><p id="185a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们不会在全球范围内提供。</p><p id="31ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">模块中的项目也不是全局可用的。</p><h1 id="edf3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="ae4b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">typeof</code>操作符来获取属性值的类型。</p><p id="700a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以使用for-in、for-of、<code class="fe me mf mg mh b">Object.keys</code>或<code class="fe me mf mg mh b">Reflect.ownKeys</code>方法进行枚举。</p><p id="9003" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">delete</code>操作符可用于删除对象的属性。</p><p id="0d67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了减少全局变量的使用，我们可以将变量放在块、模块或对象中。</p><h2 id="1914" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="cea3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>