<html>
<head>
<title>Understanding Regular Expressions Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解正则表达式第3部分</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/an-introduction-to-regular-expressions-200bc249b893?source=collection_archive---------6-----------------------#2020-06-22">https://javascript.plainenglish.io/an-introduction-to-regular-expressions-200bc249b893?source=collection_archive---------6-----------------------#2020-06-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f47f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">重复字符</h2></div><p id="7b16" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上一期中，我们学习了如何使用正则表达式来验证表单中的电话号码和电子邮件。这些问题说明了正则表达式中的基本概念，如匹配组、重复数字和字符顺序。在这一期中，我将深入到重复字符中。</p><h2 id="a0fd" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">“匹配”和“匹配”</h2><p id="a34c" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在本文中，我将介绍两种工具性正则表达式方法，它们比简单的“测试”方法提供了更多有价值的信息。如果我们想知道的不仅仅是真(正则表达式匹配)或假(正则表达式不匹配)，我们可以使用' match '和' matchAll 'Match返回在字符串中找到的第一个匹配子字符串及其索引，而“matchAll”返回所有匹配子字符串及其索引。让我们看几个例子。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi lz"><img src="../Images/476d901a43cb68ee153d6d6b1e540960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bRBqtI5o_86-hUlpremg9g.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">match method finds a match for Regular Expression in string</figcaption></figure><p id="4128" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如上所述，match方法查找满足正则表达式要求的字符串的第一部分及其在字符串中的索引。不幸的是，一旦这个过程找到第一个匹配，它就结束了。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mp"><img src="../Images/4cee98ec24ab54eb5d9ea9027808ad8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f3AmFHjCIxev3A68RR2gfQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">matchAll method used with the global flag</figcaption></figure><p id="6363" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从上面可以看出，matchAll方法返回所有找到的匹配项的数组对象。每个数组都包含匹配本身，以及该匹配的起始索引。值得强调的是“g”旗。“g”代表全球。全局标志指示该方法超出第一个匹配项，在整个字符串中查找表达式。如果没有全局的“g”标志，“matchAll”将抛出一个错误，如上所示。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mq"><img src="../Images/994a7a7465d8759f197f9324339c17a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPfwmqVfz0ia1th6CkQbaQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">match method used with the global flag</figcaption></figure><p id="29b4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，我们可以找到所有带有全球国旗的比赛；然而，通常的“匹配”方法不能提供关于每个实例的那么多信息。</p><h2 id="fbbb" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">重复字符</h2><p id="d160" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">假设我们需要找到重复字符的匹配。在以前的文章中，我们已经介绍了识别重复特定次数的字符的情况。然而，回顾一下，如果我们想要找到重复的字符，我们可以指定重复的精确长度，如下所示。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mr"><img src="../Images/8431a405ed576c22854f2c174862a100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SEqSi9qZGAU0vkK0sBy_nw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">The regular expression matches three a’s in a row.</figcaption></figure><p id="722d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如上所述，该方法成功地找到了一行中三个a的匹配。这种策略是有用的，但有局限性。如果我们想更进一步，找到任何重复的字符呢？让我们从看是否能找到任何重复的单词字符开始。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi lz"><img src="../Images/d2146933acfdaf7412269c22e1045f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQm9CGfpYBLY1KatmF664w.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">The regular expression matches any repeating word characters.</figcaption></figure><p id="bc0b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码介绍了另外两个需要解释的工具:捕获组和回溯。从我们之前的文章中，我们可以通过方括号看到这个正则表达式在寻找任何单词字符。但是，括号将它们变成了“捕获组”</p><h2 id="6092" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">捕获组和回溯</h2><p id="99fa" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">什么是捕获组？捕获组告诉方法将匹配的字符作为一组来捕获，以备后用。如果没有捕获组括号，该方法会忘记找到的模式。</p><p id="846f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">什么是回溯？回溯告诉正则表达式引擎“回顾”以前的匹配，以找到进一步的匹配。在这种情况下，我们将任何单词字符作为一个组来捕获；然后，回溯符号告诉引擎寻找捕获组的重复。</p><p id="7206" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，与回溯符号结合的捕获组括号允许我们找到一个特定单词字符的重复，而不是任何单词字符的重复。让我们检查下面的代码，看看这是什么意思。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mq"><img src="../Images/4ceaf746609d959da79e969ba7e75977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q5bMb-fZdGgz0iQcxQI_UA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">the regular expression that finds repeating digits</figcaption></figure><p id="36b9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">“4567892”的第一行返回一个空数组，因为字符串中的所有数字都是唯一的。第二行发现三种特殊数字重复的情况。4、9和3。它只检查数字重复一次，然后停止。</p><p id="687c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">捕捉组是有益的和多才多艺的。我们可以使用它们来寻找更复杂的重复字符模式——下面的代码演示了另一个用于捕获组的应用程序。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ms"><img src="../Images/ddddee26b10a2a3b84245c57f1a2a9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-8uBOtvz6ov_3Fjt8KiLxw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">The code above looks for repeating “boo” substrings.</figcaption></figure><p id="f40d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如上所示，正则表达式有一个由加号修改的捕获组‘boo’。这两种方法的组合寻找重复一次或多次的字符模式“boo”。查看“matchAll”结果，它返回“boo”和“booboo”这太棒了，但是我们可以更进一步。在下面的代码中，我们寻找的不仅仅是一个字符的重复，而是一个字符模式的重复。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mt"><img src="../Images/12fb356a982ceab7436ee57f33b019e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZiUdrxAPXNMOp5yT13_LzQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Regular expression matches bo+ repeated one or more times.</figcaption></figure><p id="b9d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在重复的模式变得更加复杂。我们使用“加号”字符不仅寻找“o”的重复，而且寻找捕获组本身的重复。正则表达式方法寻找任何重复的‘boo’以及重复的‘boo’</p><p id="1a69" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果我们感兴趣的是寻找任何重复的字符，而不仅仅是单词字符。使用“.”通配符，这是可能的。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi mp"><img src="../Images/c6aee2898050a62bb022bd07dcc8757f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8BI_SLon0TP47608_qCxnw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">the regular expression matches any repeating characters</figcaption></figure><h2 id="1a8f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">关键要点</h2><ol class=""><li id="ec4e" class="mu mv iq kh b ki lu kl lv ko mw ks mx kw my la mz na nb nc bi translated">全局标志:全局标志指示方法执行全局搜索。全局搜索测试字符串中所有可能的匹配</li><li id="8262" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">'.'通配符:The。字符匹配字符串中的任何单个字符。它最类似的是扑克牌中的百搭牌。</li><li id="4072" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">' match': Match查找匹配正则表达式模式的第一个子字符串。使用全局标志，它返回一个没有其他信息的匹配数组。</li><li id="1a3d" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">' matchAll ':此方法全局查找正则表达式匹配的搜索。然后，它返回一个数组，其中包含匹配项和找到匹配项的索引。</li><li id="c9e8" class="mu mv iq kh b ki nd kl ne ko nf ks ng kw nh la mz na nb nc bi translated">捕获组:使用模式周围的括号创建一个捕获组。捕获组捕获与模式匹配的文本，并保存在一个编号组中，该编号组可与编号的反向引用一起重复使用。</li></ol><p id="ad22" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本系列的下一部分中，我们将研究捕获组和回溯的更复杂的用法。我们还将探索正则表达式引擎的机制以及它如何找到匹配。</p></div></div>    
</body>
</html>