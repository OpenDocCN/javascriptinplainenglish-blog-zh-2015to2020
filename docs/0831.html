<html>
<head>
<title>How to Add Ripple Effect to UI Elements in Your Vue.js App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在你的Vue.js应用中给UI元素添加涟漪效果</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-ripple-effect-to-ui-elements-in-your-vue-js-app-5417307866bc?source=collection_archive---------3-----------------------#2019-12-18">https://javascript.plainenglish.io/how-to-add-ripple-effect-to-ui-elements-in-your-vue-js-app-5417307866bc?source=collection_archive---------3-----------------------#2019-12-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bd78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">涟漪效应是指某样东西开始向内，然后向外移动。在web应用程序中，这是颜色从内部变化，然后向外扩散的情况。你可以用Vue-Ripple-Directive给你的Vue.js应用添加涟漪效果。关于它的更多细节位于<a class="ae kl" href="https://github.com/PygmySlowLoris/vue-ripple-directive" rel="noopener ugc nofollow" target="_blank">https://github.com/PygmySlowLoris/vue-ripple-directive</a>。</p><p id="dac0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将制作一个杂货清单应用程序，用户可以使用MealDB API搜索他们想要烹饪的菜肴，并从中添加他们想要的食材。我们将为按钮和列表项添加涟漪效果，以便在鼠标指针经过它们时高亮显示它们。</p><p id="22a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了开始构建应用程序，我们通过运行<code class="fe km kn ko kp b">npx @vue/cli grocery-app</code>来运行Vue CLI。在向导中，选择“手动选择功能”，然后选择Babel、Vuex、Vue路由器和CSS预处理器。接下来，我们安装一些我们需要的包。我们需要Axios进行HTTP请求，BootstrapVue进行样式设计，Vue Font Awesome用于添加图标，Vee-Validate用于表单验证，Vue Ripple Directive用于添加涟漪效果。要安装它们，我们运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="d06e" class="ky kz iq kp b gy la lb l lc ld">npm i axios @fortawesome/fontawesome-svg-core @fortawesome/free-solid-svg-icons @fortawesome/vue-fontawesome axios bootstrap-vue vee-validate vue-ripple-directive</span></pre><p id="ab2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装好所有的包后，我们就可以开始编写应用程序了。我们首先添加一个用于添加杂货的表单。在components文件夹中创建一个<code class="fe km kn ko kp b">GroceryForm.vue</code>文件，并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="7be7" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;ValidationObserver ref="observer" v-slot="{ invalid }"&gt;<br/>      &lt;b-form <a class="ae kl" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="onSubmit" novalidate&gt;<br/>        &lt;b-form-group label="Search for Dish and Add Ingredients From Result"&gt;<br/>          &lt;ValidationProvider name="keyword" rules="required" v-slot="{ errors }"&gt;<br/>            &lt;b-form-input<br/>              type="text"<br/>              :state="errors.length == 0"<br/>              v-model="form.keyword"<br/>              required<br/>              placeholder="Search for Dish and Add Ingredients From Result"<br/>              name="keyword"<br/>            &gt;&lt;/b-form-input&gt;<br/>            &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;{{errors.join('. ')}}&lt;/b-form-invalid-feedback&gt;<br/>          &lt;/ValidationProvider&gt;<br/>        &lt;/b-form-group&gt;</span><span id="1b2b" class="ky kz iq kp b gy le lb l lc ld">        &lt;b-button v-ripple.mouseover.500 type="submit" variant="primary"&gt;Find Dishes&lt;/b-button&gt;<br/>      &lt;/b-form&gt;<br/>    &lt;/ValidationObserver&gt;</span><span id="3bd4" class="ky kz iq kp b gy le lb l lc ld">    &lt;b-card v-for="(m, i) in meals" :title="m.strMeal" :key="i"&gt;<br/>      &lt;b-card-text&gt;<br/>        &lt;b-list-group&gt;<br/>          &lt;b-list-group-item<br/>            v-for="(key, index) in Object.keys(m).filter(k =&gt; k.includes('strIngredient') &amp;&amp; m[k])"<br/>            :key="index"<br/>            v-ripple.mouseover="'rgba(255, 255, 255, 0.35)'"<br/>          &gt;{{m[key]}}&lt;/b-list-group-item&gt;<br/>        &lt;/b-list-group&gt;<br/>      &lt;/b-card-text&gt;<br/>      &lt;b-button<br/>        v-ripple.mouseover.500<br/>        variant="primary"<br/>        <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="addToGroceryList(i)"<br/>      &gt;Add Ingredients to Grocery List&lt;/b-button&gt;<br/>    &lt;/b-card&gt;</span><span id="87ca" class="ky kz iq kp b gy le lb l lc ld">    &lt;h4&gt;Your Chosen Ingredients&lt;/h4&gt;<br/>    &lt;b-list-group&gt;<br/>      &lt;b-list-group-item v-for="(ingredient, i) of ingredients" :key="i" v-ripple.mouseover&gt;<br/>        {{ingredient}}<br/>        &lt;font-awesome-icon icon="times" class="float-right" <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="removeIngredient(i)" /&gt;<br/>      &lt;/b-list-group-item&gt;<br/>    &lt;/b-list-group&gt;</span><span id="142b" class="ky kz iq kp b gy le lb l lc ld">&lt;br /&gt;</span><span id="78c7" class="ky kz iq kp b gy le lb l lc ld">&lt;b-button v-ripple.mouseover.500 type="button" variant="primary" <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="saveGroceryList()"&gt;Save&lt;/b-button&gt;<br/>    &lt;b-button v-ripple.mouseover.500 type="reset" variant="danger" <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="cancel()"&gt;Cancel&lt;/b-button&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c20b" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";<br/>import { faTimes } from "<a class="ae kl" href="http://twitter.com/fortawesome/free-solid-svg-icons" rel="noopener ugc nofollow" target="_blank">@fortawesome/free-solid-svg-icons</a>";</span><span id="7bf4" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  name: "GroceryForm",<br/>  mixins: [requestsMixin],<br/>  components: {<br/>    faTimes<br/>  },<br/>  data() {<br/>    return {<br/>      form: {},<br/>      meals: [],<br/>      ingredients: []<br/>    };<br/>  },<br/>  computed: {<br/>    grocery() {<br/>      return this.$store.state.grocery;<br/>    }<br/>  },<br/>  methods: {<br/>    cancel() {<br/>      this.$emit("cancelled");<br/>    },</span><span id="4945" class="ky kz iq kp b gy le lb l lc ld">    async onSubmit() {<br/>      const isValid = await this.$refs.observer.validate();<br/>      if (!isValid) {<br/>        return;<br/>      }<br/>      const { data } = await this.findDishes(this.form.keyword);<br/>      this.meals = data.meals;<br/>    },</span><span id="1787" class="ky kz iq kp b gy le lb l lc ld">    addToGroceryList(index) {<br/>      const meal = this.meals[index];<br/>      const keys = Object.keys(meal).filter(<br/>        k =&gt; k.includes("strIngredient") &amp;&amp; meal[k]<br/>      );<br/>      const ingredients = keys.map(k =&gt; meal[k]);<br/>      this.ingredients = Array.from(<br/>        new Set(this.ingredients.concat(ingredients))<br/>      );<br/>    },</span><span id="1470" class="ky kz iq kp b gy le lb l lc ld">    removeIngredient(index) {<br/>      this.ingredients.splice(index, 1);<br/>    },</span><span id="5c00" class="ky kz iq kp b gy le lb l lc ld">    async saveGroceryList() {<br/>      const payload = { ingredients: this.ingredients };<br/>      if (!this.groceryListId) {<br/>        await this.addGrocery(payload);<br/>      } else {<br/>        await this.editGrocery(payload);<br/>      }<br/>      const { data } = await this.getGrocery();<br/>      this.$store.commit("setGrocery", data);<br/>      this.$emit("saved");<br/>    }<br/>  },<br/>  watch: {<br/>    grocery: {<br/>      handler(val) {<br/>        this.ingredients = val.ingredients || [];<br/>      },<br/>      deep: true,<br/>      immediate: true<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="a0fa" class="ky kz iq kp b gy le lb l lc ld">&lt;style lang="scss" scoped&gt;<br/>.delete {<br/>  cursor: pointer;<br/>}<br/>&lt;/style&gt;</span></pre><p id="da33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该表单允许用户使用给定的关键字搜索菜肴，然后返回菜肴的配料列表，然后用户可以将它们添加到删除重复项的列表中。我们使用Vee-Validate来验证我们的输入。我们使用<code class="fe km kn ko kp b">ValidationObserver</code>组件来观察组件内部表单的有效性，使用<code class="fe km kn ko kp b">ValidationProvider</code>来检查组件内部输入值的有效性规则。在<code class="fe km kn ko kp b">ValidationProvider</code>中，我们为文本输入字段提供了BootstrapVue输入。在<code class="fe km kn ko kp b">b-form-input</code>组件中。我们还添加了Vee-Validate验证，以确保用户在提交之前已经填写了日期。我们将<code class="fe km kn ko kp b">rules</code>属性中的<code class="fe km kn ko kp b">keyword</code>字段设为必填字段，以便用户在搜索前必须输入一些内容。</p><p id="1633" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在表单底部的列表中有按钮，其中有成分列表，可以删除每一种成分。这就是为什么我们在这里导入了<code class="fe km kn ko kp b">faTimes</code>图标，它显示为一个‘x’，这样用户可以点击它并删除它。如果该元素被单击，则调用<code class="fe km kn ko kp b">removeIngredient</code>函数。然后用户点击表单底部的Save，然后调用<code class="fe km kn ko kp b">saveGroceryList</code>函数，将列表保存到我们的后端。</p><p id="e011" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个组件中，我们还有一个<code class="fe km kn ko kp b">watch</code>块来观察<code class="fe km kn ko kp b">grocery</code>值，该值是从我们必须构建的Vuex商店中获得的。随着<code class="fe km kn ko kp b">grocery</code>值的更新，我们得到了最新的配料列表。</p><p id="8e39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将波纹效果应用到按钮和带有Vue波纹的列表行。<code class="fe km kn ko kp b">v-ripple.mouseover.500</code>表示当鼠标停留在带有此指令的元素上时，涟漪效应将显示500毫秒。为了给波纹效果应用不同于默认的颜色，我们也可以像在<code class="fe km kn ko kp b">v-ripple.mouseover=”’rgba(255, 255, 255, 0.35)’”</code>中一样，在指令的参数中指定颜色值。波纹将具有指定的颜色。</p><p id="390d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们用<code class="fe km kn ko kp b">cursor:pointer</code>设计删除表单的元素，这样鼠标图标会显示一只手而不是箭头。</p><p id="e25c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们创建一个<code class="fe km kn ko kp b">mixins</code>文件夹，并将<code class="fe km kn ko kp b">requestsMixin.js</code>添加到<code class="fe km kn ko kp b">mixins</code>文件夹中。在文件中，我们添加了:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="ff83" class="ky kz iq kp b gy la lb l lc ld">const APIURL = "<a class="ae kl" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a>";<br/>const MEAL_DB_URL = "<a class="ae kl" href="https://www.themealdb.com/api/json/v1/1/search.php?s=" rel="noopener ugc nofollow" target="_blank">https://www.themealdb.com/api/json/v1/1/search.php?s=</a>";</span><span id="c6b6" class="ky kz iq kp b gy le lb l lc ld">const axios = require("axios");</span><span id="f0a6" class="ky kz iq kp b gy le lb l lc ld">export const requestsMixin = {<br/>  methods: {<br/>    getGrocery() {<br/>      return axios.get(`${APIURL}/grocery`);<br/>    },</span><span id="0f73" class="ky kz iq kp b gy le lb l lc ld">    addGrocery(data) {<br/>      return axios.post(`${APIURL}/grocery`, data);<br/>    },</span><span id="92e5" class="ky kz iq kp b gy le lb l lc ld">    editGrocery(data) {<br/>      return axios.put(`${APIURL}/grocery`, data);<br/>    },</span><span id="672b" class="ky kz iq kp b gy le lb l lc ld">    findDishes(keyword) {<br/>      return axios.get(`${MEAL_DB_URL}${keyword}`);<br/>    }<br/>  }<br/>};</span></pre><p id="699a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在组件中使用这些函数来发出HTTP请求，以获取和保存我们的杂货数据，并在膳食数据库API中搜索菜肴。</p><p id="3033" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">Home.vue</code>中，将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="858c" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;h1 class="text-center"&gt;Grocery List&lt;/h1&gt;<br/>    &lt;b-button-toolbar class="button-toolbar"&gt;<br/>      &lt;b-button<br/>        v-ripple.mouseover.500<br/>        <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="openAddModal()"<br/>        variant="primary"<br/>      &gt;Add Ingredients to Grocery List&lt;/b-button&gt;<br/>    &lt;/b-button-toolbar&gt;</span><span id="2487" class="ky kz iq kp b gy le lb l lc ld">    &lt;h4&gt;Your Grocery List&lt;/h4&gt;<br/>    &lt;b-list-group&gt;<br/>      &lt;b-list-group-item<br/>        v-for="(ingredient, i) of grocery.ingredients"<br/>        :key="i"<br/>        v-ripple.mouseover="'rgba(255, 255, 255, 0.35)'"<br/>      &gt;<br/>        {{ingredient}}<br/>        &lt;font-awesome-icon icon="times" class="float-right" <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="removeIngredient(i)" /&gt;<br/>      &lt;/b-list-group-item&gt;<br/>    &lt;/b-list-group&gt;</span><span id="9860" class="ky kz iq kp b gy le lb l lc ld">    &lt;b-modal id="add-modal" title="Add Ingredients to Grocery List" hide-footer&gt;<br/>      &lt;GroceryForm<br/>        <a class="ae kl" href="http://twitter.com/saved" rel="noopener ugc nofollow" target="_blank">@saved</a>="closeModal()"<br/>        <a class="ae kl" href="http://twitter.com/cancelled" rel="noopener ugc nofollow" target="_blank">@cancelled</a>="closeModal()"<br/>        :edit="false"<br/>        :groceryListId="grocery.id"<br/>      /&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="2196" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>// @ is an alias to /src<br/>import GroceryForm from "@/components/GroceryForm.vue";<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="9c74" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  name: "home",<br/>  components: {<br/>    GroceryForm<br/>  },<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    grocery() {<br/>      return this.$store.state.grocery;<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      ingredients: []<br/>    };<br/>  },<br/>  beforeMount() {<br/>    this.getGroceryList();<br/>  },<br/>  methods: {<br/>    openAddModal() {<br/>      this.$bvModal.show("add-modal");<br/>    },<br/>    closeModal() {<br/>      this.$bvModal.hide("add-modal");<br/>    },<br/>    async getGroceryList() {<br/>      const { data } = await this.getGrocery();<br/>      this.$store.commit("setGrocery", data);<br/>    },<br/>    async removeIngredient(index) {<br/>      this.ingredients.splice(index, 1);<br/>      const payload = { id: this.grocery.id, ingredients: this.ingredients };<br/>      await this.editGrocery(payload);<br/>      const { data } = await this.getGrocery();<br/>      this.$store.commit("setGrocery", data);<br/>    }<br/>  },<br/>  watch: {<br/>    grocery: {<br/>      handler(val) {<br/>        this.ingredients = val.ingredients || [];<br/>      },<br/>      deep: true,<br/>      immediate: true<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="df81" class="ky kz iq kp b gy le lb l lc ld">};</span></pre><p id="3ec7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是主页的组成部分。我们在这里显示从我们的后端获得的选择的成分列表。此外，我们有一个按钮，用我们之前创建的<code class="fe km kn ko kp b">GroceryForm</code>打开一个模态，将配料添加到我们的杂货列表中。获取数据在<code class="fe km kn ko kp b">getGroceryList</code>功能中完成。我们将获得的数据放入函数最后一行的Vuex存储中。</p><p id="ff25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，我们允许用户使用<code class="fe km kn ko kp b">removeIngredient</code>函数删除他们保存到该页面列表中的配料。我们在<code class="fe km kn ko kp b">this.ingredients</code>数组上调用<code class="fe km kn ko kp b">splice</code>，它是我们从存储中的<code class="fe km kn ko kp b">grocery</code>状态得到的，然后被设置为<code class="fe km kn ko kp b">grocery</code>的<code class="fe km kn ko kp b">watch</code>块的<code class="fe km kn ko kp b">handler</code>中的当前值。</p><p id="fc0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，我们将波纹效果应用到按钮和带有Vue波纹的列表行。<code class="fe km kn ko kp b">v-ripple.mouseover.500</code>显示按钮和<code class="fe km kn ko kp b">v-ripple.mouseover=”’rgba(255, 255, 255, 0.35)’”</code>的500毫秒波纹效果。波纹将具有列表项目中指定的颜色，就像我们在<code class="fe km kn ko kp b">GroceryForm</code>中所做的那样。</p><p id="9e3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">App.vue</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="3020" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-navbar toggleable="lg" type="dark" variant="info"&gt;<br/>      &lt;b-navbar-brand to="/"&gt;Grocery List App&lt;/b-navbar-brand&gt;</span><span id="7758" class="ky kz iq kp b gy le lb l lc ld">      &lt;b-navbar-toggle target="nav-collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="9469" class="ky kz iq kp b gy le lb l lc ld">      &lt;b-collapse id="nav-collapse" is-nav&gt;<br/>        &lt;b-navbar-nav&gt;<br/>          &lt;b-nav-item to="/" :active="path  == '/'"&gt;Home&lt;/b-nav-item&gt;<br/>        &lt;/b-navbar-nav&gt;<br/>      &lt;/b-collapse&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c1fb" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      path: this.$route &amp;&amp; this.$route.path<br/>    };<br/>  },<br/>  watch: {<br/>    $route(route) {<br/>      this.path = route.path;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="9119" class="ky kz iq kp b gy le lb l lc ld">&lt;style lang="scss"&gt;<br/>.page {<br/>  padding: 20px;<br/>}</span><span id="9d9e" class="ky kz iq kp b gy le lb l lc ld">button,<br/>.btn.btn-primary {<br/>  margin-right: 10px !important;<br/>}</span><span id="ebb4" class="ky kz iq kp b gy le lb l lc ld">.button-toolbar {<br/>  margin-bottom: 10px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="f8e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在页面顶部添加一个引导导航条，并添加一个<code class="fe km kn ko kp b">router-view</code>来显示我们定义的路线。此<code class="fe km kn ko kp b">style</code>部分没有限定范围，因此样式将全局应用。在<code class="fe km kn ko kp b">.page</code>选择器中，我们给页面添加一些填充。我们在剩余的<code class="fe km kn ko kp b">style</code>代码中给按钮添加一些填充。</p><p id="3569" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">main.js</code>中，将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="52b6" class="ky kz iq kp b gy la lb l lc ld">import Vue from "vue";<br/>import App from "./App.vue";<br/>import router from "./router";<br/>import store from "./store";<br/>import BootstrapVue from "bootstrap-vue";<br/>import "bootstrap/dist/css/bootstrap.css";<br/>import "bootstrap-vue/dist/bootstrap-vue.css";<br/>import { ValidationProvider, extend, ValidationObserver } from "vee-validate";<br/>import { required, min_value, max_value } from "vee-validate/dist/rules";<br/>import Ripple from "vue-ripple-directive";<br/>import { FontAwesomeIcon } from "<a class="ae kl" href="http://twitter.com/fortawesome/vue-fontawesome" rel="noopener ugc nofollow" target="_blank">@fortawesome/vue-fontawesome</a>";<br/>import { library } from "<a class="ae kl" href="http://twitter.com/fortawesome/fontawesome-svg-core" rel="noopener ugc nofollow" target="_blank">@fortawesome/fontawesome-svg-core</a>";<br/>import { faTimes } from "<a class="ae kl" href="http://twitter.com/fortawesome/free-solid-svg-icons" rel="noopener ugc nofollow" target="_blank">@fortawesome/free-solid-svg-icons</a>";</span><span id="9d8e" class="ky kz iq kp b gy le lb l lc ld">library.add(faTimes);<br/>Vue.component("font-awesome-icon", FontAwesomeIcon);<br/>Vue.directive("ripple", Ripple);<br/>extend("required", required);<br/>Vue.component("ValidationProvider", ValidationProvider);<br/>Vue.component("ValidationObserver", ValidationObserver);<br/>Vue.use(BootstrapVue);</span><span id="e9ff" class="ky kz iq kp b gy le lb l lc ld">Vue.config.productionTip = false;</span><span id="d8a3" class="ky kz iq kp b gy le lb l lc ld">new Vue({<br/>  router,<br/>  store,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="9b6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在这里添加了我们需要的所有库，包括BootstrapVue JavaScript和CSS、Vee-Validate组件以及验证规则、Vue-Ripple库和Vue Font Awesome包。通过Vue Font Awesome的<code class="fe km kn ko kp b">library.add</code>功能将<code class="fe km kn ko kp b">faTimes</code>添加到我们的应用程序中，以便我们可以在我们的应用程序中使用它。</p><p id="c8e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">router.js</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="4320" class="ky kz iq kp b gy la lb l lc ld">import Vue from "vue";<br/>import Router from "vue-router";<br/>import Home from "./views/Home.vue";</span><span id="aadf" class="ky kz iq kp b gy le lb l lc ld">Vue.use(Router);</span><span id="8a11" class="ky kz iq kp b gy le lb l lc ld">export default new Router({<br/>  mode: "history",<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: "/",<br/>      name: "home",<br/>      component: Home<br/>    }<br/>  ]<br/>});</span></pre><p id="abda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将主页包含在我们的路线中，以便用户可以看到该页面。</p><p id="c371" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">store.js</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="d760" class="ky kz iq kp b gy la lb l lc ld">import Vue from "vue";<br/>import Vuex from "vuex";</span><span id="f4d1" class="ky kz iq kp b gy le lb l lc ld">Vue.use(Vuex);</span><span id="877f" class="ky kz iq kp b gy le lb l lc ld">export default new Vuex.Store({<br/>  state: {<br/>    grocery: {}<br/>  },<br/>  mutations: {<br/>    setGrocery(state, payload) {<br/>      state.grocery = payload;<br/>    }<br/>  },<br/>  actions: {}<br/>});</span></pre><p id="45ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将我们的杂货状态添加到商店中，这样我们就可以在<code class="fe km kn ko kp b">GroceryForm </code>和<code class="fe km kn ko kp b">HomePage</code>组件的<code class="fe km kn ko kp b">computed</code>块中观察到它。我们有<code class="fe km kn ko kp b">setGrocery </code>函数来更新<code class="fe km kn ko kp b">grocery </code>状态，我们通过调用<code class="fe km kn ko kp b">this.$store.commit(“setGrocery”, data);</code>在组件中使用它，就像我们在<code class="fe km kn ko kp b">GroceryForm</code>和<code class="fe km kn ko kp b">HomePage</code>中所做的那样。</p><p id="ea68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，在<code class="fe km kn ko kp b">index.html</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="a4a2" class="ky kz iq kp b gy la lb l lc ld">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt;<br/>    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;<br/>    &lt;title&gt;Grocery List App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;<br/>      &lt;strong<br/>        &gt;We're sorry but vue-ripple-tutorial-app doesn't work properly without<br/>        JavaScript enabled. Please enable it to continue.&lt;/strong<br/>      &gt;<br/>    &lt;/noscript&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;!-- built files will be auto injected --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="87b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更改我们应用程序的标题。</p><p id="9fae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在所有的努力之后，我们可以通过运行<code class="fe km kn ko kp b">npm run serve</code>来启动我们的app。</p><p id="473a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了启动后端，我们首先通过运行<code class="fe km kn ko kp b">npm i json-server</code>来安装<code class="fe km kn ko kp b">json-server</code>包。然后，转到我们的项目文件夹并运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="9c31" class="ky kz iq kp b gy la lb l lc ld">json-server --watch db.json</span></pre><p id="e100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">db.json</code>中，将文本改为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="d789" class="ky kz iq kp b gy la lb l lc ld">{<br/>  "<!-- -->grocery<!-- -->": {}<br/>}</span></pre><p id="45ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们有了在<code class="fe km kn ko kp b">requests.js</code>中定义的<code class="fe km kn ko kp b">grocery </code>端点。</p><p id="5e9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">经过所有的努力，我们得到了:</p><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/ad023e17c4c3a07a779d7426989e3546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0k7DOUfdsZQm7a1HGVQapw.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/feb6b185a1a75c4e8e405e737e415f1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvoI2UNLSs3A7htDAt95JA.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/61a264e569cda28d018af25023c3264a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bzs59ZRgsa8n1LNJEwfSwg.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ln"><img src="../Images/bdbc8aa4e0edb65ce33c23936cf1c69e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ImpGvAfXuZFO8rnXpq-f4w.gif"/></div></div></figure></div></div>    
</body>
</html>