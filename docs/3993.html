<html>
<head>
<title>Understanding Promises in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的承诺</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-promises-in-javascript-10b59cd32776?source=collection_archive---------4-----------------------#2020-11-09">https://javascript.plainenglish.io/understanding-promises-in-javascript-10b59cd32776?source=collection_archive---------4-----------------------#2020-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e44b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过实例了解JavaScript中的承诺</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2f91670952ae5c6d39264edda2f728cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k6WztfZMqT-kjyxQ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ricaros?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Danial RiCaRoS</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="9857" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">JavaScript中的承诺是什么？</h1><p id="a632" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在JavaScript中，承诺就是它听起来的样子。你用它来承诺做某事，通常是异步的。当任务完成时，你要么履行你的承诺，要么不履行。承诺是一个链接生产代码和消费代码的JavaScript对象。</p><p id="44aa" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本文中，我们将学习JavaScript中的承诺。让我们开始吧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/1a629f36f0b9851747f999e25a3c49db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d3-0bMYZKRJ9_L70-UTU9g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image Created with ❤️️ By Mehdi Aoussiad.</figcaption></figure><h1 id="caf1" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">创建一个JavaScript承诺</h1><p id="f240" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">承诺是一个构造函数，所以您需要使用<code class="fe mq mr ms mt b"><strong class="lq ir">new</strong></code>关键字来创建一个。它以一个函数作为它的自变量，有两个参数:<code class="fe mq mr ms mt b"><strong class="lq ir">resolve</strong></code>和<code class="fe mq mr ms mt b"><strong class="lq ir">reject</strong></code>。这些是用来确定承诺结果的方法。</p><p id="f2b4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">看看下面的例子:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="2845" class="my kx iq mt b gy mz na l nb nc">const myPromise = <strong class="mt ir">new</strong> <strong class="mt ir">Promise</strong>((resolve, reject) =&gt; {<br/><br/>});</span></pre><p id="baab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如你所见，我们创建了一个名为<code class="fe mq mr ms mt b"><strong class="lq ir">myPromise</strong></code>的承诺，然后我们将带有<code class="fe mq mr ms mt b"><strong class="lq ir">resolve</strong></code>和<code class="fe mq mr ms mt b"><strong class="lq ir">reject</strong></code>参数的函数传递给构造函数。</p><h1 id="1101" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">坚定地完成承诺，拒绝</h1><p id="0cf4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">承诺有三种状态:<code class="fe mq mr ms mt b">pending</code>、<code class="fe mq mr ms mt b">fulfilled</code>和<code class="fe mq mr ms mt b">rejected</code>。</p><p id="b235" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们在前一个例子中创建的承诺永远停留在<code class="fe mq mr ms mt b"><strong class="lq ir">pending</strong></code>状态，因为您没有添加完成承诺的方法。当你希望你的承诺成功时使用<code class="fe mq mr ms mt b"><strong class="lq ir">resolve</strong></code>，当你希望它失败时使用<code class="fe mq mr ms mt b"><strong class="lq ir">reject</strong></code>。</p><p id="be5a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">看看下面的例子:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="c4f3" class="my kx iq mt b gy mz na l nb nc">const myPromise = new Promise((resolve, reject) =&gt; {<br/>  if(condition here) {<br/>    <strong class="mt ir">resolve</strong>("Promise was fulfilled");<br/>  } else {<br/>    <strong class="mt ir">reject</strong>("Promise was rejected");<br/>  }<br/>});</span></pre><h1 id="2f54" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">履行诺言</h1><p id="fca3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">当您发出一个服务器请求时，需要花费一些时间，在请求完成后，您通常希望对来自服务器的响应做一些事情。这可以通过使用<code class="fe mq mr ms mt b"><strong class="lq ir">then</strong></code>方法来实现。</p><p id="cf3b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">方法<code class="fe mq mr ms mt b"><strong class="lq ir">then</strong></code>在您的承诺通过<code class="fe mq mr ms mt b"><strong class="lq ir">resolve</strong></code>兑现后立即执行。这里有一个例子:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="57d6" class="my kx iq mt b gy mz na l nb nc">myPromise.then(result =&gt; {<br/>  // do something with the result.<br/>});</span></pre><h1 id="be02" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">处理被拒绝的承诺</h1><p id="be9a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">当你的承诺被拒绝时，使用<code class="fe mq mr ms mt b"><strong class="lq ir">catch</strong></code>方法。在调用了promise的<code class="fe mq mr ms mt b"><strong class="lq ir">reject</strong></code>方法后，立即执行。</p><p id="7212" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="d272" class="my kx iq mt b gy mz na l nb nc">myPromise.catch(error =&gt; {<br/>  // do something with the error.<br/>});</span></pre><p id="1c5a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe mq mr ms mt b">error</code>是传递给<code class="fe mq mr ms mt b">reject</code>方法的参数。</p><h1 id="c74a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="b2d5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">承诺用于处理JavaScript中的异步操作。在处理多个异步操作时，它们很容易管理，因为回调可能会创建回调地狱，导致无法管理的代码。</p><p id="abaf" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您阅读这篇短文，希望您觉得有用。</p><p id="2091" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="lq ir">！</strong></p><h2 id="c805" class="my kx iq bd ky nd ne dn lc nf ng dp lg lx nh ni li mb nj nk lk mf nl nm lm nn bi translated">更多阅读</h2><div class="no np gp gr nq nr"><a href="https://medium.com/javascript-in-plain-english/5-fun-apis-for-your-next-javascript-projects-1834626864c" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">为您的下一个JavaScript项目准备的5个有趣的API</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">您可以在JavaScript项目中使用的5个有用的API</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of kp nr"/></div></div></a></div></div></div>    
</body>
</html>