<html>
<head>
<title>Material UI — Snack Bar Customization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">物料界面—小吃店定制</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/material-ui-snack-bar-customization-1c0261bdc419?source=collection_archive---------5-----------------------#2020-08-30">https://javascript.plainenglish.io/material-ui-snack-bar-customization-1c0261bdc419?source=collection_archive---------5-----------------------#2020-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7b033658ce0717217c20548f8b7d6329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5Mqv6L-Ia_olZRy3"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@brookelark?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Brooke Lark</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5454" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">材质UI是一个为React制作的材质设计库。</p><p id="b124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一组具有材质设计风格的React组件。</p><p id="5e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用Material UI定制小吃店。</p><h1 id="ee55" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">连续小吃店</h1><p id="a2e5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用一些逻辑连续显示多个小吃店。</p><p id="e47b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2513" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Snackbar from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Snackbar";<br/>import IconButton from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/IconButton";<br/>import CloseIcon from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/icons/Close";</span><span id="566f" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [snackPack, setSnackPack] = React.useState([]);<br/>  const [open, setOpen] = React.useState(false);<br/>  const [messageInfo, setMessageInfo] = React.useState(undefined);</span><span id="7c34" class="mn lc iq mj b gy ms mp l mq mr">  React.useEffect(() =&gt; {<br/>    if (snackPack.length &amp;&amp; !messageInfo) {<br/>      setMessageInfo({ ...snackPack[0] });<br/>      setSnackPack(prev =&gt; prev.slice(1));<br/>      setOpen(true);<br/>    } else if (snackPack.length &amp;&amp; messageInfo &amp;&amp; open) {<br/>      setOpen(false);<br/>    }<br/>  }, [snackPack, messageInfo, open]);</span><span id="3472" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = message =&gt; () =&gt; {<br/>    setSnackPack(prev =&gt; [...prev, { message, key: new Date().getTime() }]);<br/>  };</span><span id="0ec0" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = (event, reason) =&gt; {<br/>    if (reason === "clickaway") {<br/>      return;<br/>    }<br/>    setOpen(false);<br/>  };</span><span id="7a0b" class="mn lc iq mj b gy ms mp l mq mr">  const handleExited = () =&gt; {<br/>    setMessageInfo(undefined);<br/>  };</span><span id="7c20" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Button onClick={handleClick("Message A")}&gt;Show A&lt;/Button&gt;<br/>      &lt;Button onClick={handleClick("Message B")}&gt;Show B&lt;/Button&gt;<br/>      &lt;Snackbar<br/>        open={open}<br/>        autoHideDuration={6000}<br/>        onClose={handleClose}<br/>        onExited={handleExited}<br/>        message={messageInfo ? messageInfo.message : undefined}<br/>        action={<br/>          &lt;React.Fragment&gt;<br/>            &lt;Button color="secondary" size="small" onClick={handleClose}&gt;<br/>              foo<br/>            &lt;/Button&gt;<br/>            &lt;IconButton color="inherit" onClick={handleClose}&gt;<br/>              &lt;CloseIcon /&gt;<br/>            &lt;/IconButton&gt;<br/>          &lt;/React.Fragment&gt;<br/>        }<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="2150" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">snackPack</code>状态有要显示的项目。</p><p id="95ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">setMessageInfo</code>设置消息。</p><p id="e690" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是在<code class="fe mt mu mv mj b">useEffect</code>回调中完成的。</p><p id="9bdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当点击一个按钮时，用<code class="fe mt mu mv mj b">setSnackPack </code>从<code class="fe mt mu mv mj b">snackPack</code>中删除旧消息，然后我们添加新消息。</p><p id="371f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">handleClick</code>功能让我们改变<code class="fe mt mu mv mj b">message</code>。</p><p id="d8e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们单击该按钮时，旧的会消失，新的会显示出来。</p><h1 id="2f0b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">小吃店和浮动操作按钮</h1><p id="3b82" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该让小吃店显示在移动操作按钮的上方。</p><p id="448a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9738" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import AppBar from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/AppBar";<br/>import Toolbar from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Toolbar";<br/>import Typography from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Typography";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Fab from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Fab";<br/>import AddIcon from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/icons/Add";<br/>import Snackbar from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Snackbar";<br/>import { makeStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";</span><span id="58e2" class="mn lc iq mj b gy ms mp l mq mr">const useStyles = makeStyles(theme =&gt; ({<br/>  fab: {<br/>    position: "absolute",<br/>    bottom: theme.spacing(2),<br/>    right: theme.spacing(2)<br/>  },<br/>  snackbar: {<br/>    [theme.breakpoints.down("xs")]: {<br/>      bottom: 90<br/>    }<br/>  }<br/>}));</span><span id="77f8" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const classes = useStyles();</span><span id="6af4" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;AppBar position="static" color="primary"&gt;<br/>        &lt;Toolbar&gt;<br/>          &lt;Typography variant="h6" color="inherit"&gt;<br/>            App<br/>          &lt;/Typography&gt;<br/>        &lt;/Toolbar&gt;<br/>      &lt;/AppBar&gt;<br/>      &lt;Fab color="secondary" className={classes.fab}&gt;<br/>        &lt;AddIcon /&gt;<br/>      &lt;/Fab&gt;<br/>      &lt;Snackbar<br/>        open<br/>        autoHideDuration={6000}<br/>        message="hello"<br/>        action={<br/>          &lt;Button color="inherit" size="small"&gt;<br/>            ok<br/>          &lt;/Button&gt;<br/>        }<br/>        className={classes.snackbar}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="89d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用一些样式将小吃店移动到浮动动作按钮上方。</p><p id="8b54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当断点为xs时，我们将小吃店显示在底部，并将<code class="fe mt mu mv mj b">snackbar</code>类设置为<code class="fe mt mu mv mj b">bottom: 90</code>。</p><p id="76cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们用<code class="fe mt mu mv mj b">fab </code>类设置浮动动作按钮的绝对位置。</p><p id="e4fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些都在<code class="fe mt mu mv mj b">makeStyles</code>函数里。</p><h1 id="0e88" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">改变过渡</h1><p id="e8a7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在小吃店开门时给它添加过渡效果。</p><p id="a23d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们为<code class="fe mt mu mv mj b">TransitionComponent</code>传入一个值。</p><p id="e290" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c96c" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Snackbar from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Snackbar";<br/>import Grow from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Grow";</span><span id="d96a" class="mn lc iq mj b gy ms mp l mq mr">function GrowTransition(props) {<br/>  return &lt;Grow {...props} /&gt;;<br/>}</span><span id="5de8" class="mn lc iq mj b gy ms mp l mq mr">export default function TransitionsSnackbar() {<br/>  const [open, setOpen] = React.useState(false);</span><span id="c8a5" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="455d" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="e346" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Button onClick={handleClick}&gt;Grow&lt;/Button&gt;<br/>      &lt;Snackbar<br/>        open={open}<br/>        onClose={handleClose}<br/>        TransitionComponent={GrowTransition}<br/>        message="lorem ipsum"<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="ff1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了<code class="fe mt mu mv mj b">GrowTransition</code>组件，并将其传递给<code class="fe mt mu mv mj b">TransitionComponent</code> prop。</p><p id="3f73" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">备选方案包括<code class="fe mt mu mv mj b">Fade</code>和<code class="fe mt mu mv mj b">Slide</code>转换。</p><h1 id="eb4e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">控制滑动方向</h1><p id="985e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们使用<code class="fe mt mu mv mj b">Slide</code>过渡效果，我们也可以改变滑动方向。</p><p id="3740" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="70b3" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Snackbar from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Snackbar";<br/>import Slide from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Slide";</span><span id="3899" class="mn lc iq mj b gy ms mp l mq mr">function TransitionLeft(props) {<br/>  return &lt;Slide {...props} direction="left" /&gt;;<br/>}</span><span id="d811" class="mn lc iq mj b gy ms mp l mq mr">export default function TransitionsSnackbar() {<br/>  const [open, setOpen] = React.useState(false);</span><span id="12a4" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = () =&gt; {<br/>    setOpen(true);<br/>  };</span><span id="bd91" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = () =&gt; {<br/>    setOpen(false);<br/>  };</span><span id="297f" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Button onClick={handleClick}&gt;Slide&lt;/Button&gt;<br/>      &lt;Snackbar<br/>        open={open}<br/>        onClose={handleClose}<br/>        TransitionComponent={TransitionLeft}<br/>        message="lorem ipsum"<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="169a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个<code class="fe mt mu mv mj b">Snackbar</code>，其中<code class="fe mt mu mv mj b">TransitionComponent</code>设置为<code class="fe mt mu mv mj b">TransitionLeft</code>。</p><p id="6c3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">TransitionLeft</code>有<code class="fe mt mu mv mj b">Slide</code>组件来添加滑动过渡，将<code class="fe mt mu mv mj b">direction</code>设置为<code class="fe mt mu mv mj b">left</code>，使其从右向左滑动。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/b2e1b30a8bcd80d6d8e7412ccbd92781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mIwBecRZJMNsv8f_"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@rachaelgorjestani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Rachael Gorjestani</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="62fc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="a017" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以给小吃店添加过渡。</p><p id="26c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以连续显示小吃店。</p><h2 id="c702" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="e0be" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码得到更多类似内容，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>