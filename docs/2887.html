<html>
<head>
<title>Spreading Arrays with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript扩展数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/spreading-arrays-with-javascript-6a2e987323?source=collection_archive---------5-----------------------#2020-08-01">https://javascript.plainenglish.io/spreading-arrays-with-javascript-6a2e987323?source=collection_archive---------5-----------------------#2020-08-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b882b18be4b39e68b52e8b81ae8040e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KuIEdU4UGl1oaoj6"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@ambermaxwellboydell?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Amber Maxwell Boydell</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d56d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">spread操作符是最近最好的JavaScript特性之一。</p><p id="ac31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看我们可以用spread操作符做些什么。</p><h1 id="fdd4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">传播算子</h1><p id="aeaa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">spread语法允许我们在各种情况下扩展像数组和字符串这样的可迭代对象。</p><h1 id="d6cd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">合并数组</h1><p id="cdfb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用它合并数组。</p><p id="6d51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9803" class="mn lc iq mj b gy mo mp l mq mr">const a = [1, 2, 3];<br/>const b = [4, 5, 6];<br/>const c = [...a, ...b[;</span></pre><p id="6292" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将来自<code class="fe ms mt mu mj b">a</code>和<code class="fe ms mt mu mj b">b</code>的所有项目放入一个新的数组，并将其分配给<code class="fe ms mt mu mj b">c</code>。</p><p id="e6d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe ms mt mu mj b">c</code>是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dc9f" class="mn lc iq mj b gy mo mp l mq mr">[1, 2, 3, 4, 5, 6]</span></pre><h1 id="beeb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">克隆阵列</h1><p id="3aff" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用它的另一种方法是浅层复制一个数组。</p><p id="670c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a8f4" class="mn lc iq mj b gy mo mp l mq mr">const arr = [1, 2, 3];<br/>const arrCopy = [...arr];</span></pre><p id="58fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用spread operator复制了一份。它将<code class="fe ms mt mu mj b">arr</code>条目扩展到一个新数组中。</p><p id="7493" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe ms mt mu mj b">arrCopy</code>也是<code class="fe ms mt mu mj b">[1, 2, 3]</code>。</p><p id="a6e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是它们在内存中引用不同的对象。</p><h1 id="0d32" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组的参数</h1><p id="beb8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe ms mt mu mj b">arguments</code>对象是一个iterable对象，它将参数传递给一个JavaScript函数。</p><p id="93a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它只在传统函数中可用。</p><p id="680b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c61d" class="mn lc iq mj b gy mo mp l mq mr">function foo() {<br/>  const args = [...arguments];<br/>  console.log(args);<br/>}</span></pre><p id="a4ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">args</code>是一个数组。</p><p id="de8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="aaa7" class="mn lc iq mj b gy mo mp l mq mr">foo(1, 2, 3)</span></pre><p id="0ed1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">args</code>就是<code class="fe ms mt mu mj b">[1, 2, 3]</code>。</p><p id="8818" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">适用于所有函数的更现代的替代方法是rest操作符:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6f96" class="mn lc iq mj b gy mo mp l mq mr">const foo = (...args) =&gt; {<br/>  console.log(args);<br/>}</span></pre><p id="54bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么如果我们以同样的方式称呼它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1722" class="mn lc iq mj b gy mo mp l mq mr">foo(1, 2, 3)</span></pre><p id="0313" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">args</code>会有相同的值。</p><h1 id="3294" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">字符串到数组</h1><p id="2c6a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用spread操作符将一个字符串转换成一个字符数组，因为字符串是可迭代的。</p><p id="35b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0034" class="mn lc iq mj b gy mo mp l mq mr">const string = 'hello world';<br/>const array = [...string];</span></pre><p id="6a39" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">array</code>就是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="aa93" class="mn lc iq mj b gy mo mp l mq mr">["h", "e", "l", "l", "o", " ", "w", "o", "r", "l", "d"]</span></pre><h1 id="181e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置为数组</h1><p id="4c2c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">集合是不能有重复条目的可迭代对象。</p><p id="940a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为它是可迭代的，所以我们可以对它使用spread操作符。</p><p id="1cff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="da05" class="mn lc iq mj b gy mo mp l mq mr">const set = new Set([1, 2, 2, 3, 3]);<br/>const arr = [...set];</span></pre><p id="4424" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">arr</code>就是<code class="fe ms mt mu mj b">[1, 2, 3]</code>，因为重复项已从集合中移除。</p><h1 id="0699" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">映射到数组</h1><p id="18d1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">映射是存储在对象中的键值对。</p><p id="8fae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也是可迭代的，所以我们可以对它使用spread操作符。</p><p id="a742" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6a2b" class="mn lc iq mj b gy mo mp l mq mr">const map = new Map([<br/>  ['foo', 1],<br/>  ['bar', 2]<br/>]);<br/>const arr = [...map];</span></pre><p id="35ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用操作员展开地图，那么<code class="fe ms mt mu mj b">arr</code>将是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="657c" class="mn lc iq mj b gy mo mp l mq mr">[<br/>  ['foo', 1],<br/>  ['bar', 2]<br/>]</span></pre><h1 id="3ef5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组的节点列表</h1><p id="1f6a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">节点列表是DOM节点的列表。</p><p id="3b75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它是一个可迭代的对象，但不是一个数组。</p><p id="4dff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要将它们转换成数组，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="583d" class="mn lc iq mj b gy mo mp l mq mr">const nodeList = document.querySelectorAll('div');<br/>const nodeArr = [...nodeList];</span></pre><p id="daca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用spread操作符将从<code class="fe ms mt mu mj b">querySelectorAll</code>返回的节点列表转换成一个数组。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/d93787f3a6fe524d939384a7280543b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lichN5eavr1_XABQ"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jessysmith?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jessy Smith</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="89e5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5900" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用spread操作符来扩展或复制数组，并将可迭代对象转换为数组。</p><h2 id="af41" class="mn lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="f62a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>