<html>
<head>
<title>Best of Modern JavaScript — Default Parameters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代JavaScript的精华—默认参数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/best-of-modern-javascript-default-parameters-a40d7d2691c1?source=collection_archive---------15-----------------------#2020-09-14">https://javascript.plainenglish.io/best-of-modern-javascript-default-parameters-a40d7d2691c1?source=collection_archive---------15-----------------------#2020-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/82ee2ce36bcf02cb2bba21fb9722194b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hvn5ofFjIvYSkcQO"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sharadmbhat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sharad Bhat</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="21f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自2015年以来，JavaScript有了巨大的进步。</p><p id="c894" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在用起来比以前舒服多了。</p><p id="193a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何使用参数。</p><h1 id="1fe2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">默认参数值</h1><p id="a422" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从ES6开始，我们可以在JavaScript函数中设置默认参数值。</p><p id="0e47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果参数值为<code class="fe me mf mg mh b">undefined</code>，则设置默认值。</p><p id="955d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有一个函数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7dca" class="mq lc iq mh b gy mr ms l mt mu">function foo(x, y = 0) {<br/>  return [x, y];<br/>}</span></pre><p id="9b2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们写为<code class="fe me mf mg mh b">foo(1, 3);</code>，那么我们得到<code class="fe me mf mg mh b">[1, 3]</code>。</p><p id="e842" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们把它写成<code class="fe me mf mg mh b">foo(1);</code>，那么我们就得到了<code class="fe me mf mg mh b">[1, 0]</code>。</p><p id="ef6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们通过写<code class="fe me mf mg mh b">foo();</code>来调用它，那么我们得到<code class="fe me mf mg mh b">[undefined, 0]</code>。</p><h1 id="54a6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">休息参数</h1><p id="e8a0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Rest参数让我们以数组的形式获取剩余的参数。</p><p id="7509" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，e如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6453" class="mq lc iq mh b gy mr ms l mt mu">function bar(pattern, ...args) {<br/>  return {<br/>    pattern,<br/>    args<br/>  };<br/>}</span></pre><p id="1ca1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们通过写<code class="fe me mf mg mh b">format(3, 2, 1);</code>来调用它，我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="932f" class="mq lc iq mh b gy mr ms l mt mu">{ pattern: 3, args: [2, 1] }</span></pre><h1 id="3c1e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">解构参数</h1><p id="24f5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将对象参数析构为变量。</p><p id="134c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dfcf" class="mq lc iq mh b gy mr ms l mt mu">function baz({<br/>  a = 0,<br/>  b = -1,<br/>  c = 1<br/>} = {}) {<br/>  console.log(a, b, c);<br/>  //...<br/>}</span></pre><p id="0f1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的<code class="fe me mf mg mh b">baz</code>函数接受一个具有属性<code class="fe me mf mg mh b">a</code>、<code class="fe me mf mg mh b">b</code>和<code class="fe me mf mg mh b">c</code>的对象。</p><p id="a4c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将它们的默认值分别设置为0、-1和1。</p><p id="38b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果参数没有传入，那么我们将它设置为一个对象，该对象将设置这些默认值。</p><p id="f6e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1dda" class="mq lc iq mh b gy mr ms l mt mu">baz({<br/>  a: 10,<br/>  b: 30,<br/>  c: 2<br/>});</span></pre><p id="6d3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">a</code>是10，<code class="fe me mf mg mh b">b</code>是30，<code class="fe me mf mg mh b">c</code>是2。</p><p id="e91c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4487" class="mq lc iq mh b gy mr ms l mt mu">baz({<br/>  a: 3<br/>});</span></pre><p id="e196" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">a</code>为3，<code class="fe me mf mg mh b">b</code>为-1，<code class="fe me mf mg mh b">c</code>为1。</p><p id="0428" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们写下:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="74b5" class="mq lc iq mh b gy mr ms l mt mu">baz({});</span></pre><p id="c046" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="50f2" class="mq lc iq mh b gy mr ms l mt mu">baz();</span></pre><p id="ec64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">a</code>为0，<code class="fe me mf mg mh b">b</code>为-1，<code class="fe me mf mg mh b">c</code>为1。</p><p id="443b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每当缺少任何值时，它将被替换为默认值。</p><h1 id="7238" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">传播算子</h1><p id="9946" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">spread操作符允许我们将可迭代对象扩展到函数调用的参数中。</p><p id="0414" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="22c3" class="mq lc iq mh b gy mr ms l mt mu">Math.max(2, 3, 4, 6)</span></pre><p id="c981" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与以下内容相同:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3b6b" class="mq lc iq mh b gy mr ms l mt mu">Math.max(...[2, 3, 4, 6])</span></pre><p id="1358" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以传播一些论点:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1d8b" class="mq lc iq mh b gy mr ms l mt mu">Math.max(2, ...[3, 4], 6)</span></pre><p id="7c41" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在数组中，我们可以使用spread运算符来转换数组元素中的可迭代值。</p><p id="2bc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1080" class="mq lc iq mh b gy mr ms l mt mu">[1,<!-- --> <!-- -->...[2, 3],<!-- --> <!-- -->4]</span></pre><p id="cb3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并获得:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="94ee" class="mq lc iq mh b gy mr ms l mt mu">[1,<!-- --> <!-- -->2, 3,<!-- --> <!-- -->4]</span></pre><h1 id="9dca" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">参数默认值</h1><p id="4aad" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以为参数指定默认值。</p><p id="ba94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9afd" class="mq lc iq mh b gy mr ms l mt mu">function foo(x, y = 0) {<br/>  return [x, y];<br/>}</span></pre><p id="f88a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们在没有第二个参数的情况下调用它，那么默认值将被设置为<code class="fe me mf mg mh b">y</code>的值。</p><p id="7b2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们调用<code class="fe me mf mg mh b">foo(1)</code>，那么我们得到<code class="fe me mf mg mh b">[1, 0]</code>。</p><p id="839c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们调用<code class="fe me mf mg mh b">foo()</code>，我们得到<code class="fe me mf mg mh b">[undefined, 0]</code>。</p><p id="b3dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认值仅在需要时计算</p><p id="929d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以从这个例子中看出这一点:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4a75" class="mq lc iq mh b gy mr ms l mt mu">const log = console.log;</span><span id="81a8" class="mq lc iq mh b gy mv ms l mt mu">function foo(x = log('x'), y = log('y')) {<br/>  return [x, y];<br/>}</span></pre><p id="2c69" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们调用<code class="fe me mf mg mh b">foo(1)</code>，那么我们得到<code class="fe me mf mg mh b">'x'</code>。</p><p id="a594" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们调用<code class="fe me mf mg mh b">foo()</code>，那么我们会记录<code class="fe me mf mg mh b">'x'</code>和<code class="fe me mf mg mh b">'y'</code>。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/5a9929848649294f2f61eb99d5ca5463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ie2ij32yzIc912t1"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@matthardy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Matt Hardy</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="1ed2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6d5a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以给函数添加默认的参数值，这样当它们未被定义时，它们就被赋值为它们的值。</p><h2 id="377f" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="2201" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>