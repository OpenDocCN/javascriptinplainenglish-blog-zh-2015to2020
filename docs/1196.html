<html>
<head>
<title>How to create a contact form with Netlify, Gatsby.js and Mailgun</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ç”¨Netlifyï¼ŒGatsby.jså’ŒMailgunåˆ›å»ºè”ç³»äººè¡¨å•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/jamstack-how-to-do-a-contact-form-step-by-step-with-gatsby-js-netlify-and-mailgun-52d26432a5c4?source=collection_archive---------1-----------------------#2020-02-11">https://javascript.plainenglish.io/jamstack-how-to-do-a-contact-form-step-by-step-with-gatsby-js-netlify-and-mailgun-52d26432a5c4?source=collection_archive---------1-----------------------#2020-02-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b782c69a0efad501d435ece578cdb9f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpiLyt5DwJTfXXoACqqD0g.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@neonbrand?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">NeONBRAND</a> on <a class="ae kc" href="https://unsplash.com/s/photos/email?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6b26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä»Šå¹´ï¼Œä½œä¸ºä¸€ååˆçº§å¼€å‘äººå‘˜ï¼Œæˆ‘å†³å®šå†™ä¸¤ç¯‡æ–‡ç« ï¼Œä»‹ç»å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°ç”¨Gatsby.jså»ºç«‹ä¸€ä¸ªç»å…¸çš„ç™»å½•é¡µé¢ã€‚ä»Šå¤©çš„æ–‡ç« æ˜¯å…³äºè”ç³»æ–¹å¼çš„ã€‚</p><p id="afa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç”±äºJAMstackä¸æ˜¯å…³äºç‰¹å®šçš„æŠ€æœ¯ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨çš„JAMstackçš„è§£é‡Šæ˜¯:</p><ul class=""><li id="84cc" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">ç›–èŒ¨æ¯”å‰ç«¯(å³ã€‚è”ç³»æ–¹å¼)</li><li id="5f4a" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">Netlifyé™æ€æ‰˜ç®¡</li><li id="58a9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">ç½‘ç»œäº‘åŠŸèƒ½</li></ul><p id="48ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬å¸Œæœ›é€šè¿‡è¿™ä¸ªè¡¨å•ä»Gatsbyé¡µé¢çš„å‰ç«¯è·å–ä¸€äº›åŸºæœ¬æ•°æ®ï¼Œå°†å…¶å‘é€åˆ°ç”±Netlifyç”Ÿæˆçš„APIç«¯ç‚¹ï¼Œç„¶ååœ¨å°†ä½¿ç”¨Mailgunçš„Netlifyäº‘å‡½æ•°ä¸­å¤„ç†å®ƒã€‚</p><p id="3323" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç»™ä½ ä¸€ä¸ªå¿«é€Ÿå‰§é€ï¼Œæˆ‘ä»¬å°†éµå¾ªè¿™ä¸ªé€»è¾‘:</p><ul class=""><li id="4ebd" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">#1.åˆ›å»ºä¸€ä¸ªGatsby.js starter &amp;åœ¨GitHubä¸Šæ¨é€ã€‚</li><li id="e966" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://github.com/marieqg/contact-form-medium/tree/STEP%232" rel="noopener ugc nofollow" target="_blank"> #2 </a>ã€‚å¼€å§‹ä½¿ç”¨NetlifyåŠŸèƒ½&amp;åœ¨Netlifyä¸Šéƒ¨ç½²æˆ‘ä»¬çš„ç½‘ç«™ã€‚</li><li id="bd92" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://github.com/marieqg/contact-form-medium/tree/STEP%233" rel="noopener ugc nofollow" target="_blank"> #3 </a>ã€‚å‘MailGunæ³¨å†Œï¼Œç¼–å†™Netlifyå‡½æ•°ï¼Œæµ‹è¯•å®ƒï¼Œå¹¶éƒ¨ç½²å®ƒã€‚</li><li id="0268" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="https://github.com/marieqg/contact-form-medium/tree/STEP%234" rel="noopener ugc nofollow" target="_blank"> #4 </a>ã€‚ä½¿ç”¨æè´¨UIåˆ›å»ºå‰è§†å›¾ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°æˆ‘ä»¬çš„APIç«¯ç‚¹ã€‚</li></ul><p id="cb7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘çš„GitHubåº“æ˜¯å…¬å¼€çš„ï¼Œå¦‚æœä½ åœ¨æŸä¸ªæ—¶å€™è¿·è·¯äº†ï¼Œå¯ä»¥åœ¨è¿™é‡Œ<a class="ae kc" href="https://github.com/marieqg/contact-form-medium" rel="noopener ugc nofollow" target="_blank">æ‰¾åˆ°ã€‚æ­¤å¤–ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯ä¸€ä¸ªåˆ†æ”¯ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¿æŒè·Ÿè¸ªã€‚</a></p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="53d7" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated"><strong class="ak">ç¬¬ä¸€æ­¥:åˆ›å»ºä¸€ä¸ªGatsby.js starter &amp;åœ¨GitHubä¸Šæ¨é€</strong></h1><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/f7d3620f5c19818e509bd321934f7898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GNnYmwbgkpNEjJqWWnTmWA.png"/></div></div></figure><p id="4910" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬è¦ä»è®¾ç½®Gatsby.jså¼€å§‹ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰è®¾ç½®å¥½ä½ çš„å¼€å‘ç¯å¢ƒï¼Œä½ å¯ä»¥æŒ‰ç…§<a class="ae kc" href="https://www.gatsbyjs.org/tutorial/part-zero/" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªè¿‡ç¨‹</a>ã€‚</p><p id="7a55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å®Œæˆåï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–°çš„gatsbyç«™ç‚¹ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¬¬ä¸€æ¬¡è¿è¡Œã€‚</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="8d24" class="ne lx iq na b gy nf ng l nh ni">gatsby new gatsby-site<br/>gatsby develop </span></pre><p id="f192" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦ä½ åˆ°äº†è¿™é‡Œï¼Œä½ å°±å¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥<a class="ae kc" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/ </a>æŸ¥çœ‹ä½ çš„ç½‘ç«™è¿è¡Œæƒ…å†µã€‚</p><p id="20b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶åï¼Œæˆ‘ä»¬å°†åœ¨Githubä¸Šå‘å¸ƒæˆ‘ä»¬çš„ä»£ç ã€‚åˆ›å»ºå­˜å‚¨åº“åï¼ŒGithubä¼šç»™å‡ºå‘å¸ƒå­˜å‚¨åº“çš„è¯´æ˜ã€‚å¦‚æœæ‚¨é€‰æ‹©åœ¨å‘½ä»¤è¡Œä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“ï¼Œé‚£ä¹ˆæ‚¨ä¸éœ€è¦æ·»åŠ ä¸€ä¸ªread meï¼Œå› ä¸ºGatsby.js starterå·²ç»æä¾›äº†ä¸€ä¸ªã€‚</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="41f8" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated"><strong class="ak">ç¬¬äºŒæ­¥:ä»ç½‘ç»œåŠŸèƒ½å¼€å§‹&amp;åœ¨ç½‘ç»œä¸Šéƒ¨ç½²æˆ‘ä»¬çš„ç½‘ç«™</strong></h1><p id="10e9" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">Netlifyæ˜¯æ‰˜ç®¡é™æ€ç½‘ç«™çš„ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å®ƒä»¬æä¾›äº†é¢å¤–çš„åŠŸèƒ½ï¼Œå¦‚<a class="ae kc" href="https://www.netlify.com/docs/identity/" rel="noopener ugc nofollow" target="_blank">è®¤è¯ç®¡ç†</a>ã€<a class="ae kc" href="https://www.netlify.com/docs/form-handling/" rel="noopener ugc nofollow" target="_blank">è¡¨å•å¤„ç†</a>ï¼Œæœ€é‡è¦çš„æ˜¯:<a class="ae kc" href="https://www.netlify.com/docs/continuous-deployment/" rel="noopener ugc nofollow" target="_blank">è¿ç»­éƒ¨ç½²</a>å’ŒAWS lambda <a class="ae kc" href="https://www.netlify.com/docs/functions/" rel="noopener ugc nofollow" target="_blank">åŠŸèƒ½</a>ã€‚</p><p id="954c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¯åŠ¨è®¡åˆ’æ˜¯å®Œå…¨å…è´¹çš„ï¼Œå°†ä¸ºä¸€ä¸ªåŸºæœ¬çš„ç½‘ç«™æä¾›å®Œæ•´çš„åŠŸèƒ½ã€‚Netlifyçš„lambdaå‡½æ•°æ˜¯ä¸€ç§è®¡ç®—æœåŠ¡ï¼Œå¯ä»¥è®©æ‚¨è¿è¡Œä»£ç ï¼Œè€Œæ— éœ€æä¾›æˆ–ç®¡ç†æœåŠ¡å™¨ã€‚å…è´¹å±‚ä¸ºä¸€ä¸ªåŠŸèƒ½æä¾›125ï¼Œ000ä¸ªè¯·æ±‚ã€‚</p><p id="17db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿è¡Œä¸€ä¸ªå‡½æ•°å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯ä½ éœ€è¦ä½¿ç”¨<code class="fe no np nq na b">netlify-lambda</code>æ¥æ¨¡æ‹Ÿå®ƒã€‚è¦å¯åŠ¨å¹¶è¿è¡Œæ‚¨çš„ç¬¬ä¸€ä¸ªNetlifyå‡½æ•°ï¼Œæ‚¨å¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤:</p><h2 id="9792" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 1ã€‚å®‰è£…ä¾èµ–å…³ç³»</strong>:</h2><p id="8f46" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">åœ¨ç»ˆç«¯è¿è¡Œä¸­:</p><p id="2b74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe no np nq na b">npm install -D http-proxy-middleware netlify-lambda npm-run-all</code></p><h2 id="2e16" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 2ã€‚å’Œç›–èŒ¨æ¯”ä¸€èµ·è¿è¡Œå‡½æ•°ä»¿çœŸ</strong>:</h2><p id="a615" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">å½“æ‚¨è¦éƒ¨ç½²æ‚¨çš„Gatsbyç«™ç‚¹æ—¶ï¼Œå®ƒå°†ä½¿ç”¨è„šæœ¬æ¥çŸ¥é“å¦‚ä½•æ„å»ºå®ƒä»¥åŠä»¥ä»€ä¹ˆé¡ºåºæ¥æ„å»ºå®ƒã€‚æ‰€ä»¥ï¼ŒæŠŠä½ çš„<code class="fe no np nq na b">scripts</code>æ¢æˆä½ çš„<code class="fe no np nq na b">package.json</code>:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="a07e" class="ne lx iq na b gy nf ng l nh ni">"scripts": {<br/>    "develop": "gatsby develop",<br/>    "start": "run-p start:**",<br/>    "start:app": "npm run develop",<br/>    "start:lambda": "netlify-lambda serve src/lambda",<br/>    "build": "gatsby build &amp;&amp; netlify-lambda build src/lambda",<br/>    "build:app": "gatsby build",<br/>    "build:lambda": "netlify-lambda build src/lambda",<br/>  },</span></pre><h2 id="ed9b" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated">3.<strong class="ak">ä¸ºä½ çš„åŠŸèƒ½åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</strong></h2><p id="49cc" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">Netlifyå‡½æ•°æ¥æ”¶è¯·æ±‚ä¸Šä¸‹æ–‡æˆ–äº‹ä»¶æ•°æ®ï¼Œå¹¶å°†æ•°æ®è¿”å›åˆ°æ‚¨çš„å‰ç«¯ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒå°†ä½¿æ‚¨çš„ç½‘ç«™ä»å®Œå…¨é™æ€å˜ä¸ºåŠ¨æ€ï¼Œå› ä¸ºå®ƒå°†æŒ‰éœ€è¿è¡ŒæœåŠ¡å™¨ç«¯ä»£ç ï¼Œè€Œä¸å¿…ç®¡ç†ä¸“ç”¨æœåŠ¡å™¨ã€‚</p><p id="227a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨<strong class="kf ir"> </strong> <code class="fe no np nq na b">netlify-lambda</code>å°†åœ¨ä½ çš„<code class="fe no np nq na b">src/lambda</code>æ–‡ä»¶å¤¹ä¸­å»ºç«‹æ¯ä¸ªæ–‡ä»¶ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ã€‚è¦åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œ:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="f3bb" class="ne lx iq na b gy nf ng l nh ni">cd src <br/>mkdir lambda</span></pre><p id="c5c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ä¸å¸Œæœ›è¿™ä¸ªæ–‡ä»¶å¤¹å‡ºç°åœ¨GitHubä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¸‹é¢çš„å†…å®¹æ·»åŠ åˆ°æˆ‘ä»¬çš„<code class="fe no np nq na b">.gitignore</code>ä¸­ã€‚åæ–œæ â€œ/â€å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒå‘Šè¯‰GitHubå¿½ç•¥æˆ‘ä»¬æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹çš„â€œlambdaâ€æ–‡ä»¶å¤¹ï¼Œè€Œä¸æ˜¯å¦ä¸€ä¸ªã€‚</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="4662" class="ne lx iq na b gy nf ng l nh ni">/lambda </span></pre><h2 id="4f8f" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated">4.é…ç½®æ‚¨çš„ç½‘ç»œç‰ˆæœ¬:</h2><p id="4975" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ä¸ºäº†ç¡®ä¿Netlifyæ‰¾åˆ°æˆ‘ä»¬çš„å‡½æ•°çš„è·¯å¾„ï¼Œåœ¨ä½ çš„æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•(å³ä¸ä½ çš„<code class="fe no np nq na b">package.json</code> package.jsonåœ¨åŒä¸€å±‚)ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe no np nq na b">netlify.toml</code>çš„æ–‡ä»¶ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹å†…å®¹:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="7947" class="ne lx iq na b gy nf ng l nh ni">[build]<br/>  command = "npm run build"<br/>  functions = "lambda"<br/>  publish = "public"</span></pre><h2 id="b766" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 5ã€‚ä»£ç†æœ¬åœ°å¼€å‘çš„ä»¿çœŸåŠŸèƒ½</strong>:</h2><p id="71b2" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">è½¬åˆ°æ‚¨çš„<code class="fe no np nq na b">gatsby-config.js</code>å¹¶å°†å…¶æ·»åŠ åˆ°æ‚¨çš„<code class="fe no np nq na b">module.exports</code>:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="6d7f" class="ne lx iq na b gy nf ng l nh ni">var proxy = require("http-proxy-middleware")</span><span id="ea1d" class="ne lx iq na b gy oc ng l nh ni">module.exports = {<br/>  // for avoiding CORS while developing Netlify Functions locally<br/>  // read more: <a class="ae kc" href="https://www.gatsbyjs.org/docs/api-proxy/#advanced-proxying" rel="noopener ugc nofollow" target="_blank">https://www.gatsbyjs.org/docs/api-proxy/#advanced-proxying</a><br/>  developMiddleware: app =&gt; {<br/>    app.use(<br/>      "/.netlify/functions/",<br/>      proxy({<br/>        target: "<a class="ae kc" href="http://localhost:9000" rel="noopener ugc nofollow" target="_blank">http://localhost:9000</a>",<br/>        pathRewrite: {<br/>          "/.netlify/functions/": "",<br/>        },<br/>      })<br/>    )<br/>  },<br/>  // ...<br/>}</span></pre><p id="2a8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="od">2004å¹´19æœˆæ›´æ–°:ä»£ç†ç°åœ¨è¢«createProxyMiddlewareå–ä»£ã€‚ç°åœ¨å¯¼å…¥éœ€è¦:</em></p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="50b4" class="ne lx iq na b gy nf ng l nh ni">const { createProxyMiddleware } = require("http-proxy-middleware")</span></pre><p id="e496" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="od">å¦å¤–ï¼Œä»£ç ä¸­éœ€è¦ç”¨createProxyMiddlewareæ›¿æ¢ä»£ç†ã€‚</em></p><h2 id="52d2" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 6ã€‚ç”¨MVPå‡½æ•°æµ‹è¯•å®ƒ</strong></h2><p id="cf53" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æ‚¨å¯ä»¥ç¼–å†™ä»»æ„å¤šçš„å‡½æ•°ï¼Œåªè¦æ¯ä¸ªå‡½æ•°éƒ½å¯¼å‡ºä¸€ä¸ªå¤„ç†ç¨‹åºã€‚å®ƒå¯ä»¥æ¥å—3ä¸ªå‚æ•°:</p><ul class=""><li id="8f9a" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><strong class="kf ir">äº‹ä»¶</strong>:å®ƒæ˜¯ä¸€ä¸ªåŒ…å«è¯·æ±‚ç»†èŠ‚çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æ£€ç´¢å·²è¿‡å¸çš„æ•°æ®æˆ–é¡µçœ‰ã€‚</li><li id="b3d4" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">ä¸Šä¸‹æ–‡</strong>:è¿™æ˜¯å…³äºè°ƒç”¨å‡½æ•°çš„ä¸Šä¸‹æ–‡çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æŸäº›ç”¨æˆ·ä¿¡æ¯ã€‚</li><li id="adc1" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kf ir">å›è°ƒ:</strong>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬è°ƒç”¨è¿™ä¸ªå‡½æ•°å‘ç”¨æˆ·è¿”å›ä¸€ä¸ªå“åº”ã€‚åº”è¯¥è°ƒç”¨å®ƒæ¥è¿”å›é”™è¯¯æˆ–å“åº”å¯¹è±¡ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå›è°ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©ºã€‚</li></ul><p id="ae06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºå‡½æ•°çš„çŸ¥è¯†ï¼Œæ–‡æ¡£åœ¨è¿™é‡Œã€‚</p><p id="ed6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è°ƒç”¨æ— æœåŠ¡å™¨åŠŸèƒ½æ—¶ï¼ŒNetlifyå°†æä¾›<code class="fe no np nq na b">event</code>å’Œ<code class="fe no np nq na b">context</code>å‚æ•°ã€‚æ‚¨æä¾›äº†<code class="fe no np nq na b">callback</code>å‚æ•°ï¼Œè¿™æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯æ¨èä½¿ç”¨ã€‚</p><p id="4efc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™ä¸€ä¸ªå°å‡½æ•°æ¥æµ‹è¯•å®ƒã€‚æ‚¨å¯ä»¥åœ¨<code class="fe no np nq na b">src/lambda</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸º<code class="fe no np nq na b">hello.js</code>:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="5b3b" class="ne lx iq na b gy nf ng l nh ni">// For more info, check <a class="ae kc" href="https://www.netlify.com/docs/functions/#javascript-lambda-functions" rel="noopener ugc nofollow" target="_blank">https://www.netlify.com/docs/functions/#javascript-lambda-functions</a><br/>export function handler(event, context, callback) {<br/>  callback(null, {<br/>    statusCode: 200, <br/>// That's the status code which will be returned when the function is executed to indicates that everything is OK<br/>    body: JSON.stringify({<br/>      msg: "Hello, World! ",<br/>    }),<br/>  })<br/>}</span></pre><p id="7842" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„åŠŸèƒ½ï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥åˆ›å»ºä¸€ä¸ªç”Ÿäº§ç‰ˆæœ¬:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="75de" class="ne lx iq na b gy nf ng l nh ni"><strong class="na ir">npm run start  </strong></span></pre><p id="ce71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶åå»<a class="ae kc" href="http://localhost:9000/hello" rel="noopener ugc nofollow" target="_blank">http://localhost:9000/hello</a></p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/717136eb5943562b3f82c019d1a6f6df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-58wWOY8UX3sUekpJfassA.png"/></div></div></figure><p id="9528" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨æˆ‘ä»¬çš„å‡½æ•°å·¥ä½œäº†ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒæäº¤ç»™Githubã€‚</p><p id="dcfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœä½ åœ¨è·¯ä¸Šè¿·è·¯äº†ï¼Œæˆ‘ä»¬å°±åœ¨è¿™é‡Œã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰åˆ›å»ºNetlifyå¸æˆ·ï¼Œè¯·åœ¨æ­¤æ³¨å†Œå¹¶ç‚¹å‡»å³ä¸Šè§’çš„æŒ‰é’®â€œä»Gitåˆ›å»ºæ–°ç½‘ç«™â€ã€‚ç„¶åï¼Œæ‚¨å°†è¢«é‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„å±å¹•ï¼Œåœ¨è¿™é‡Œæ‚¨å¯ä»¥é€‰æ‹©GitHubä½œä¸ºæ‚¨çš„Gitæä¾›è€…ã€‚ä¸€æ—¦å®ƒé“¾æ¥åˆ°GitHubï¼Œé€‰æ‹©æ‚¨ä¹‹å‰åˆ›å»ºçš„å­˜å‚¨åº“ï¼Œç„¶åç‚¹å‡»â€œéƒ¨ç½²â€ã€‚</p><h2 id="97c0" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated">7.åœ¨ç½‘ç»œä¸Šéƒ¨ç½²</h2><p id="5053" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æ‚¨çš„éƒ¨ç½²å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ã€‚å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨Netlifyä»ªè¡¨æ¿ä¸­æŸ¥çœ‹æ‚¨çš„åŠŸèƒ½:</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/9528ad4db28714a6ac3f08bc64d96b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gr1P-TXjhJpovop30R_Icw.png"/></div></div></figure><p id="8b4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹URLæ¨¡å¼åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•å®ƒ:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="682c" class="ne lx iq na b gy nf ng l nh ni"><a class="ae kc" href="https://heuristic-swartz-e6ce70.netlify.com/.netlify/functions/hello" rel="noopener ugc nofollow" target="_blank">https://[YOUR_URL]/.netlify/functions/[YOUR_FUNCTION_NAME]</a></span></pre></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="b8e0" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">æ­¥éª¤3:å‘Mailgunæ³¨å†Œï¼Œç¼–å†™Netlifyå‡½æ•°ï¼Œæµ‹è¯•å¹¶éƒ¨ç½²å®ƒ</h1><p id="2f6b" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªè¿è¡Œè‰¯å¥½çš„åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬ä»ç”µå­é‚®ä»¶å¼€å§‹ã€‚</p><h2 id="af0b" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 1ã€‚è®¾ç½®ç”µå­æª:</strong></h2><p id="1504" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">é¦–å…ˆï¼Œä½ éœ€è¦ä¸€ä¸ªé‚®ç®±è´¦å·ã€‚ä½ å¿…é¡»ä½¿ç”¨ä¿¡ç”¨å¡/å€Ÿè®°å¡ï¼Œä½†Mailgunæœ‰ä¸€ä¸ªæ…·æ…¨çš„å…è´¹è´¦æˆ·ï¼Œå› ä¸ºä»–ä»¬å…è®¸ä½ æ¯æœˆå…è´¹å‘é€10 000å°ç”µå­é‚®ä»¶ã€‚æ­¤å¤–ï¼Œä»–ä»¬æœ‰ä¸€ä¸ªä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ”¯æŒå›¢é˜Ÿï¼Œå¦‚æœä½ æœ‰å›°éš¾ï¼Œä»–ä»¬ä¼šå¸®åŠ©ä½ åº¦è¿‡éš¾å…³ã€‚</p><p id="0491" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ç°åœ¨å°†ä½¿ç”¨Mailgunçš„æ²™ç®±ï¼Œä½†æ˜¯å½“ä½ æœ‰äº†è‡ªå·±çš„åŸŸåï¼Œä½ å°±å¯ä»¥ä½¿ç”¨å®ƒäº†ã€‚</p><p id="5837" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦ä½ æœ‰ä½ çš„Mailgunå¸æˆ·ï¼Œä½ å°†åˆ°è¾¾ä»ªè¡¨æ¿ã€‚ç„¶åï¼Œè½¬åˆ°å‘é€&gt;æ¦‚è¿°(çº¢è‰²æ–¹å—)ï¼Œå¹¶ç¡®ä¿æ‚¨æ‰€åœ¨çš„åŸŸæ˜¯â€œæ²™ç®±â€(è“è‰²æ–¹å—)ã€‚ä¹‹åï¼Œç‚¹å‡»APIï¼Œç„¶åé€‰æ‹©Node.js</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/0dbeddfbffac98c59536011fae160742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vuf2BD66vTUnH0Ww-UnUOA.png"/></div></div></figure><h2 id="306a" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 2ã€‚è®¾ç½®ç¯å¢ƒå˜é‡</strong></h2><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/714c24afd264b62b9bd298702887f7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T9vMuQfOuvlRpvAPbgNzWA.png"/></div></div></figure><p id="2367" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ‚¨çš„Mailgun APIå¯†é’¥æ˜¯ç§æœ‰çš„ï¼Œå¦‚æœæ‚¨ä¸å°å¿ƒï¼Œå®ƒå¾ˆå®¹æ˜“è¢«çªƒå–ã€‚å®ƒä¸åº”è¯¥è¢«å…¬å¼€ã€‚æ‰€ä»¥æ¯”å¦‚<strong class="kf ir">ä¸è¦åœ¨GitHubä¸Šæ¨</strong>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å°†å®ƒä»¬ä¿å­˜åœ¨Netlifyçš„è®¾ç½®ä¸­ã€‚</p><p id="8a96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿›å…¥è®¾ç½®åï¼Œå•å‡»æ„å»ºå’Œéƒ¨ç½²ä»¥åŠç¯å¢ƒã€‚ç„¶åï¼Œåœ¨â€œç¼–è¾‘å˜é‡â€ä¸­ï¼Œæ‚¨å°†èƒ½å¤Ÿä¸ºä»¥åéœ€è¦çš„æ¯ä¸ªå˜é‡è¾“å…¥ä¸€ä¸ªé”®å’Œå€¼çš„ç»„åˆã€‚</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oh"><img src="../Images/4071e9b9792b67cd5f64c69892ef61e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y4te9AZVnryN41t1EblkHw.png"/></div></div></figure><h2 id="4e69" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 3ã€‚å¯ç”¨å¹¶è®¾ç½®Postmanä»¥æµ‹è¯•åŠŸèƒ½</strong></h2><p id="8ba7" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æˆ‘ä»¬å‡½æ•°çš„ç›®çš„æ˜¯å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚ä¹‹å‰æˆ‘ä»¬çš„è¯·æ±‚æ˜¯â€œGET â€,è¿™æ„å‘³ç€æ‰€æœ‰éœ€è¦çš„æ•°æ®éƒ½åœ¨URLä¸­ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå‡½æ•°ä¸éœ€è¦ä»»ä½•æ•°æ®ï¼Œå®ƒåªéœ€è¦URLä¸­çš„å‡½æ•°åã€‚</p><p id="ee9d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ€åï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯é€šè¿‡è¡¨å•å‘æœåŠ¡å™¨å‘é€æ•°æ®ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬çš„å‰ç«¯æ¥å£å°†æ£€ç´¢æ•°æ®å¹¶å°†å…¶å‘é€åˆ°æœåŠ¡å™¨ã€‚è¿™å°†é€šè¿‡ä¸€ä¸ªâ€œPOSTâ€è¯·æ±‚æ¥å®Œæˆã€‚POSTè¯·æ±‚åœ¨æ¶ˆæ¯ä½“ä¸­ä»æµè§ˆå™¨(å³å®¢æˆ·ç«¯)å‘æœåŠ¡å™¨æä¾›é™„åŠ æ•°æ®ã€‚</p><p id="4fd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†æµ‹è¯•ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªè½¯ä»¶(Postman)ã€‚å®ƒéœ€è¦ä¸€ä¸ªè®¾ç½®æ‰èƒ½ä½¿ç”¨Mailgunã€‚<a class="ae kc" href="https://www.mailgun.com/blog/together-at-last-postman-meets-mailgun/" rel="noopener ugc nofollow" target="_blank">è¿™ç¯‡ä¼Ÿå¤§çš„æ–‡ç« </a>å°†è§£é‡Šä¸€åˆ‡ã€‚</p><h2 id="45b9" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 4ã€‚POSTè¯·æ±‚ä»é‚®é€’å‘˜é‚£é‡Œå–å›æ•°æ®</strong></h2><p id="c5fe" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">è®©æˆ‘ä»¬åƒåˆ›å»ºMVPå‡½æ•°ä¸€æ ·åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸º<code class="fe no np nq na b">sendEmail.js</code>ï¼Œä»é‡ç”¨MVPå‡½æ•°çš„ä»£ç å¼€å§‹ã€‚æˆ‘å¯¹MVPå‡½æ•°åšäº†ä¸€ä¸ªå°æ”¹åŠ¨ï¼Œå› ä¸ºæˆ‘æƒ³çœ‹çœ‹æˆ‘çš„<code class="fe no np nq na b">event</code>æ˜¯ä»€ä¹ˆæ ·å­ã€‚</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="e79e" class="ne lx iq na b gy nf ng l nh ni">export function handler(event, context, callback) {<br/>  callback(null, {<br/>    statusCode: 200, <br/>    body: JSON.stringify({<br/>      msg: "Hello, World! ",<br/>      event: event<br/>   }),<br/>  })<br/>}</span></pre><p id="fd4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨ä½ å¼€å§‹ç”¨Postmanæµ‹è¯•å®ƒä¹‹å‰ï¼Œä¸è¦å¿˜è®°é€šè¿‡åœ¨ä½ çš„ç»ˆç«¯ä¸­æ‰§è¡Œ<code class="fe no np nq na b">ctrl + c </code>å’Œ<code class="fe no np nq na b">npm start</code>æ¥é‡å¯ä½ çš„æœåŠ¡å™¨ã€‚</p><p id="8f34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œåœ¨Postmanä¸­ï¼Œé€‰æ‹©POSTè¯·æ±‚å¹¶æ·»åŠ URL(è“è‰²æ–¹å—)ã€‚å‘é€çš„æ•°æ®å°†æ”¾åœ¨â€œBodyâ€ä¸­ï¼Œé€‰æ‹©â€œrawâ€å’Œâ€œJSONâ€(ç»¿è‰²æ–¹å—)ã€‚åœ¨bodyå­—æ®µä¸­ï¼Œæ‚¨å¯ä»¥æ·»åŠ è‡ªå·±çš„æ•°æ®(çº¢è‰²æ–¹å—)ã€‚</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/e051b991fe17f9dae9ea8a6f25220ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOs3_mbxQOE9ZaAJQdWs6Q.png"/></div></div></figure><p id="5e3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦æˆ‘ä»¬ç‚¹å‡»â€œå‘é€â€ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°æœåŠ¡å™¨çš„å›å¤ã€‚å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å‘é€çš„å‚æ•°åœ¨<code class="fe no np nq na b">body</code>å¯¹è±¡(ç´«è‰²æ–¹å—)å†…éƒ¨ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªJSONã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯¹è±¡ä¹‹å¤–åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ¥ä½¿ç”¨å®ƒ:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="938d" class="ne lx iq na b gy nf ng l nh ni">export function handler(event, context, callback) {<br/>  let data = JSON.parse(event.body)<br/>  callback(null, {<br/>    statusCode: 200,<br/>    body: JSON.stringify({<br/>      msg: "Hello, World! ",<br/>      event: event,<br/>      context: context,<br/>      data: data,<br/>    }),<br/>  })<br/>}</span></pre><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/2e0deb4d24b97b8f30dd1674b990948f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*4Y67frt18VtVxQYq1u2N4g.png"/></div></figure><p id="aaff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦è§£æå®Œæ¯•ï¼Œå°±å¯ä»¥åœ¨Postmanä¸­ç›´æ¥çœ‹åˆ°ç»“æœã€‚</p><h2 id="3da8" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 5ã€‚å‡½æ•°:sendEmail.js </strong></h2><p id="c99d" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›åˆ°Mailgunçš„ä»ªè¡¨æ¿ï¼Œè·å–ä»–ä»¬ä¸ºæˆ‘ä»¬é¢„å…ˆç¼–å†™çš„ä¸€æ®µä»£ç ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥å®šåˆ¶å®ƒæ¥æ»¡è¶³æˆ‘ä»¬è‡ªå·±çš„éœ€æ±‚ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬çš„<code class="fe no np nq na b">sendEmail.js</code>å‡½æ•°æ–‡ä»¶ä¸­ã€‚</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="e03f" class="ne lx iq na b gy nf ng l nh ni">const mailgun = require("mailgun-js")<br/>const mg = mailgun({<br/>  apiKey: process.env.MAILGUN_API_KEY,<br/>  domain: process.env.MAILGUN_DOMAIN,<br/>})<br/>const mailOptions = {<br/>  from: `${name} &lt;${email}&gt;`,<br/>  to: process.env.MY_EMAIL_ADDRESS,<br/>  replyTo: email,<br/>  text: `${message}`,<br/>}<br/>mg.messages().send(mailOptions, function(error, body) {<br/>  console.log(body)<br/>})</span></pre><p id="b1fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¦è®©å®ƒå‘æŒ¥ä½œç”¨ï¼Œè¿˜ç¼ºå°‘ä¸‰æ ·ä¸œè¥¿:</p><ul class=""><li id="facc" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">å¦‚ä½ æ‰€è§ï¼Œ<code class="fe no np nq na b">mailgun</code>è¦æ±‚<code class="fe no np nq na b">mailgun-js</code>ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¿…é¡»åšä¸€ä¸ª<code class="fe no np nq na b">npm install mailgun-js</code></li><li id="5ee2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">æ­¤å¤–ï¼Œä¸ºäº†ä¿æŠ¤æˆ‘ä»¬çš„å¯†é’¥ï¼Œæˆ‘ä»¬åœ¨<code class="fe no np nq na b">process.env</code>ä¸­ä½¿ç”¨äº†ç¯å¢ƒå˜é‡ã€‚<a class="ae kc" href="https://www.gatsbyjs.org/docs/environment-variables/" rel="noopener ugc nofollow" target="_blank"> Gatsby </a>éœ€è¦åœ¨æˆ‘ä»¬çš„å‡½æ•°æ–‡ä»¶ä¸­å®‰è£…(<code class="fe no np nq na b">npm install dotenv</code>)ç¯å¢ƒå˜é‡å’Œå‡ è¡Œä»£ç :</li></ul><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="75d4" class="ne lx iq na b gy nf ng l nh ni">// Gatsby settings for the environment variables<br/>require("dotenv").config({<br/>  path: `.env.${process.env.NODE_ENV}`,<br/>})</span></pre><ul class=""><li id="c97f" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">ä¸ºäº†ä¾¿äºä»¥åå®šåˆ¶ï¼Œæˆ‘å°†å‘é€ç”µå­é‚®ä»¶åœ°å€è®¾ç½®ä¸ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå¹¶è§£æ„äº†<code class="fe no np nq na b">data</code>å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œæ‚¨éœ€è¦åœ¨Postmanä¸­é…ç½®ç¯å¢ƒå˜é‡ã€‚ç‚¹å‡»èºæ¯(ç²‰è‰²æ–¹æ¡†)å¹¶ç‚¹å‡»â€œå¤„ç†â€ã€‚ENV "(è“æ¡†)èƒ½å¤Ÿç¼–è¾‘æ‚¨çš„ç¯å¢ƒå˜é‡(é‚®ä»¶æª_åŸŸï¼Œé‚®ä»¶æª_ API _å¯†é’¥ï¼Œæˆ‘çš„_ç”µå­é‚®ä»¶_åœ°å€):</li></ul><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/5cfe37a0c2436f971bf00f4ddffc3c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5svVUEMZGRvEhkC70MW2Kg.png"/></div></div></figure><p id="c9e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬çš„åŠŸèƒ½å‡ ä¹å¯ä»¥å·¥ä½œäº†ã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œæµè§ˆå™¨å°†ç¦æ­¢ä¸€ä¸ªç½‘ç«™ä»å¦ä¸€ä¸ªç½‘ç«™è·å–æ•°æ®ã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡æŒ‡å®šä¸€ä¸ªæ ‡é¢˜æ¥å–æ¶ˆè¿™ä¸ªå®‰å…¨æªæ–½ã€‚</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="82ef" class="ne lx iq na b gy nf ng l nh ni">const headers = {<br/>  "Access-Control-Allow-Origin": "*",<br/>  "Access-Control-Allow-Headers": "Content-Type",<br/>}</span></pre><p id="1cad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æœºä¼šï¼Œé€šè¿‡æŒ‡å®šåœ¨å‡ºé”™æ—¶å¦‚ä½•å·¥ä½œæ¥å®Œæˆæˆ‘ä»¬çš„åŠŸèƒ½:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="0ca9" class="ne lx iq na b gy nf ng l nh ni">(...)<br/>const headers = {<br/>  "Access-Control-Allow-Origin": "*",<br/>  "Access-Control-Allow-Headers": "Content-Type",<br/>}<br/>const successCode = 200<br/>const errorCode = 400</span><span id="37cd" class="ne lx iq na b gy oc ng l nh ni">(...) </span><span id="8301" class="ne lx iq na b gy oc ng l nh ni"><strong class="na ir">// Our Netlify function</strong></span><span id="87d4" class="ne lx iq na b gy oc ng l nh ni">export function handler(event, context, callback) {<br/>  let data = JSON.parse(event.body)<br/>  let { name, email, message } = data<br/>  let mailOptions = {<br/>    from: `${name} &lt;${email}&gt;`,<br/>    to: process.env.MY_EMAIL_ADDRESS,<br/>    replyTo: email,<br/>    text: `${message}`,<br/>  }</span><span id="ebf9" class="ne lx iq na b gy oc ng l nh ni"><strong class="na ir">// Our Mailgun code</strong></span><span id="961d" class="ne lx iq na b gy oc ng l nh ni">  mg.messages().send(mailOptions, function(error, body) {<br/>    if (error) {<br/>      callback(null, {<br/>        errorCode,<br/>        headers,<br/>        body: JSON.stringify(error),<br/>      })<br/>    } else {<br/>      callback(null, {<br/>        successCode,<br/>        headers,<br/>        body: JSON.stringify(body),<br/>      })<br/>    }<br/>  })<br/>}</span></pre><p id="fe79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">éƒ¨ç½²åˆ°<a class="ae kc" href="https://github.com/marieqg/contact-form-medium/tree/STEP%233" rel="noopener ugc nofollow" target="_blank"> GitHub </a>åï¼Œä¼šè‡ªåŠ¨éƒ¨ç½²åˆ°Netlifyä¸Š(å¦‚æœè®¾ç½®äº†é€‰é¡¹)ã€‚å¹¶ä¸”ï¼Œæˆ‘ä»¬å¯¹PostManè¿›è¡Œäº†æœ€åçš„æµ‹è¯•ï¼Œçœ‹å®ƒæ˜¯å¦å·¥ä½œğŸ‰ ğŸ¥³:</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/0ea487c50eef49a2299fb08e07fa5892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tAevKy7bG1jS_i5umDceZQ.png"/></div></div></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/b596fcb6324984ae89ca95cff00ba4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8Jxhvwk8hM9jlxgEl44xw.png"/></div></div></figure><p id="3345" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ­¤å¤–ï¼Œå¦‚æœæ‚¨æƒ³èµ°å‡ºMailgunçš„æ²™ç›’ï¼Œæ‚¨å°†éœ€è¦å°å¿ƒå¯¹å¾…ç«¯ç‚¹ã€‚APIç«¯ç‚¹æ˜¯ä¸€ä¸ªç‰¹å®šçš„æ•°å­—ä½ç½®ï¼Œä¸€ä¸ªç¨‹åºåœ¨è¿™é‡Œå‘é€ä¿¡æ¯è¯·æ±‚ï¼Œèµ„æºä¹Ÿåœ¨è¿™é‡Œã€‚æ²™ç®±é»˜è®¤ä½¿ç”¨ç¾å›½ç«¯ç‚¹ã€‚å¦‚æœæ‚¨åœ¨æ¬§æ´²ï¼Œå½“æ‚¨åˆå§‹åŒ–Mailgunå¯¹è±¡æ—¶ï¼Œæ‚¨éœ€è¦åŒ…æ‹¬é€‰é¡¹â€œhostâ€å¹¶æŒ‡å®šâ€œEUâ€(å³æ¬§æ´²)ç«¯ç‚¹ã€‚</p><p id="3cca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="1071" class="ne lx iq na b gy nf ng l nh ni">const mg = mailgun({<br/>  apiKey: process.env.MAILGUN_API_KEY,<br/>  domain: process.env.MAILGUN_DOMAIN,<br/>  host: â€œapi.eu.mailgun.netâ€<br/>})</span></pre></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="9190" class="lw lx iq bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated">ç¬¬4æ­¥:åˆ›å»ºå‰è§†å›¾ä¸ææ–™ç”¨æˆ·ç•Œé¢ï¼Œä½¿æ¥è§¦å½¢å¼çš„ç”¨æˆ·å‹å¥½</h1><p id="73ed" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬çš„æœ€åä¸€æ­¥:è¡¨å•çš„å‰ç«¯éƒ¨åˆ†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒä»å®¢æˆ·ç«¯æ”¶é›†æ•°æ®ã€‚</p><h2 id="be9d" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 1ã€‚è®¾ç½®ç´ æUIå’Œå‰ç«¯</strong></h2><p id="910a" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ä¸ºäº†æ›´å¥½åœ°åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†å®‰è£…Material UIåŠå…¶gatsbyæ’ä»¶:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="7d60" class="ne lx iq na b gy nf ng l nh ni">npm install gatsby-plugin-material-ui @material-ui/styles <a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core</span></pre><p id="38fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¹¶å°†å…¶è®¾ç½®åœ¨æˆ‘ä»¬çš„<code class="fe no np nq na b">gatsby-config.js</code>:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="4d2e" class="ne lx iq na b gy nf ng l nh ni">// gatsby-config.js  </span><span id="428c" class="ne lx iq na b gy oc ng l nh ni">module.exports = {   plugins: [`gatsby-plugin-material-ui`], };</span></pre><p id="6fa5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ˜¯æ—¶å€™å¸ƒç½®å‰çº¿äº†ã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code class="fe no np nq na b">Contact</code>çš„ç»„ä»¶ã€‚åœ¨æˆ‘å°†ä»é¡µé¢<code class="fe no np nq na b">index.js</code>è°ƒç”¨çš„ç»„ä»¶æ–‡ä»¶å¤¹ä¸­:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="d464" class="ne lx iq na b gy nf ng l nh ni"><strong class="na ir">//Contact.js</strong></span><span id="d8e9" class="ne lx iq na b gy oc ng l nh ni">import React from "react"</span><span id="668b" class="ne lx iq na b gy oc ng l nh ni">export default class Contact extends React.Component {<br/>  state = {}</span><span id="af19" class="ne lx iq na b gy oc ng l nh ni">render() {<br/>    return &lt;div&gt;&lt;/div&gt;<br/>  }<br/>}</span><span id="0dad" class="ne lx iq na b gy oc ng l nh ni"><strong class="na ir">//index.js</strong></span><span id="7bfa" class="ne lx iq na b gy oc ng l nh ni">import React from "react"</span><span id="4c65" class="ne lx iq na b gy oc ng l nh ni">import Contact from "../components/Contact"</span><span id="4056" class="ne lx iq na b gy oc ng l nh ni">const IndexPage = () =&gt; &lt;Contact&gt;&lt;/Contact&gt;</span><span id="0dcb" class="ne lx iq na b gy oc ng l nh ni">export default IndexPage</span></pre><h2 id="f5ce" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 2ã€‚åˆ›å»ºè¡¨å•çš„å‰ç«¯:</strong></h2><p id="3843" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ä½œä¸ºä¸€åMVPï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåœ¨è§†è§‰ä¸Šçœ‹èµ·æ¥åƒè¡¨å•çš„è¡¨å•ï¼Œä½†è¿™æ˜¯è¡Œä¸é€šçš„ã€‚ä»æè´¨UIï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a class="ae kc" href="https://material-ui.com/components/text-fields/" rel="noopener ugc nofollow" target="_blank">æ–‡æœ¬å­—æ®µ</a>å’Œä¸€ä¸ª<a class="ae kc" href="https://material-ui.com/components/buttons/#button" rel="noopener ugc nofollow" target="_blank">æŒ‰é’®</a>ã€‚éµå¾ªææ–™UIç¼–ç æŒ‡å—ï¼Œæˆ‘ä»¬çš„contactç»„ä»¶å°†å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="37f5" class="ne lx iq na b gy nf ng l nh ni">import React from "react"<br/>import TextField from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TextField"<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button"</span><span id="ad9a" class="ne lx iq na b gy oc ng l nh ni">export default class Contact extends React.Component {<br/>  state = {}</span><span id="4f8e" class="ne lx iq na b gy oc ng l nh ni">render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;form noValidate autoComplete="off"&gt;<br/>          &lt;TextField id="standard-name" label="Name" /&gt;<br/>          &lt;TextField id="standard-email" label="Email" /&gt;<br/>          &lt;TextField id="standard-message" label="Message" /&gt;<br/>          &lt;Button variant="contained" color="primary"&gt;<br/>            Submit<br/>          &lt;/Button&gt;<br/>        &lt;/form&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/1612139e4ea97e805d5903d564364447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fs75o5CFKoBFPsWY1NkZuQ.png"/></div></div></figure><p id="6e66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å³ä½¿æˆ‘ä»¬çš„å½¢å¼åœ¨é‚£é‡Œï¼Œæ²¡æœ‰ä»€ä¹ˆå·¥ä½œã€‚ä¸ºäº†è®©å®ƒå‘æŒ¥ä½œç”¨ï¼Œæˆ‘ä»¬éœ€è¦:</p><ul class=""><li id="714d" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">å­˜å‚¨å°†è¦è¾“å…¥çŠ¶æ€çš„å†…å®¹ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥å¤„ç†å˜é‡çš„å˜åŒ–</li><li id="3cf4" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">å¤„ç†æäº¤æŒ‰é’®ä¸Šçš„ç‚¹å‡»</li><li id="ae32" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥å¤„ç†è¡¨å•ä¸­çš„æˆåŠŸå’Œé”™è¯¯</li></ul><h2 id="1d25" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 3ã€‚å­˜å‚¨ç”¨æˆ·å°†è¦è¾“å…¥çš„å€¼</strong></h2><p id="724b" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">è®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªçŠ¶æ€æ¥å­˜å‚¨å°†åœ¨è¡¨å•ä¸­é”®å…¥çš„å€¼:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="d65f" class="ne lx iq na b gy nf ng l nh ni">import React from "react"<br/>import TextField from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TextField"<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button"</span><span id="cab3" class="ne lx iq na b gy oc ng l nh ni">export default class Contact extends React.Component {<br/>  state = {<br/>    name: "",<br/>    email: "",<br/>    message: "",<br/>  }</span><span id="5d03" class="ne lx iq na b gy oc ng l nh ni">render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;form noValidate autoComplete="off"&gt;<br/>          &lt;TextField<br/>            id="standard-name"<br/>            label="Name"<br/>            value={this.state.name}<br/>          /&gt;<br/>          &lt;TextField<br/>            id="standard-email"<br/>            label="Email"<br/>            value={this.state.email}<br/>          /&gt;<br/>          &lt;TextField<br/>            id="standard-message"<br/>            label="Message"<br/>            value={this.state.message}<br/>          /&gt;<br/>          &lt;Button variant="contained" color="primary"&gt;<br/>            Submit<br/>          &lt;/Button&gt;<br/>        &lt;/form&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><p id="a508" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œæ–‡æœ¬å­—æ®µä¸­çš„å€¼å°†æ˜¯çŠ¶æ€ä¹‹ä¸€ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰åŠæ³•æ”¹å˜å®ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°åŠŸèƒ½:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="91e2" class="ne lx iq na b gy nf ng l nh ni">handleChange = event =&gt; {<br/>    const name = event.target.name<br/>    const value = event.target.value<br/>    const statesToUpdate = {}<br/>    statesToUpdate[name] = value<br/>this.setState(statesToUpdate)<br/>  }</span></pre><p id="33e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚ä½ æ‰€è§ï¼Œè¯¥å‡½æ•°å°†ä»æ–‡æœ¬å­—æ®µä¸­è·å–ä¸€ä¸ªåä¸º<code class="fe no np nq na b">event</code>çš„å¯¹è±¡ã€‚åœ¨<code class="fe no np nq na b">event</code>å¯¹è±¡ä¸­ï¼Œå®ƒå°†ä½¿ç”¨ä¸€ä¸ª<code class="fe no np nq na b">name</code>å’Œä¸€ä¸ª<code class="fe no np nq na b">value</code>æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶è®¾ç½®çŠ¶æ€ã€‚æˆ‘ä»¬å·²ç»å‘æ¯ä¸ªæ–‡æœ¬å­—æ®µä¼ é€’äº†ä¸€ä¸ª<code class="fe no np nq na b">value</code>ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨è¿˜éœ€è¦å‘å®ƒä¼ é€’ä¸€ä¸ªåç§°å’Œå‡½æ•°æœ¬èº«ã€‚æ¯ä¸ªæ–‡æœ¬å­—æ®µåº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="3c13" class="ne lx iq na b gy nf ng l nh ni">&lt;TextField<br/>  id="standard-name"<br/>  label="Name"<br/>  value={this.state.name}<br/>  onChange={this.handleChange}<br/>  name="name"/&gt;</span></pre><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/654472e4334f27fed8c7c65cc90b63c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*fHXQq2CqOFTBAGSOBDmbTw.gif"/></div></figure><h2 id="694b" class="ne lx iq bd ly nr ns dn mc nt nu dp mg ko nv nw mk ks nx ny mo kw nz oa ms ob bi translated"><strong class="ak"> 4ã€‚å¤„ç†ç‚¹å‡»æäº¤æŒ‰é’®ï¼Œé”™è¯¯å’ŒæˆåŠŸ</strong></h2><p id="c4ed" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">å½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æŒ‰é’®åšçš„æ˜¯é€šè¿‡å®ƒçš„ç«¯ç‚¹å‘æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„å‡½æ•°å‘é€ä¸€ä¸ªHTTPè¯·æ±‚ã€‚è¦å‘é€HTTPè¯·æ±‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Axiosã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆå®‰è£…ä¸€ä¸‹:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="7cc1" class="ne lx iq na b gy nf ng l nh ni">npm install axios</span></pre><p id="4b8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬çš„å‡½æ•°å°†åšä»¥ä¸‹äº‹æƒ…:å®ƒå°†ä»çŠ¶æ€ä¸­è·å–æ•°æ®ï¼Œå¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªå¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†å‘Netlifyçš„ç«¯ç‚¹å‘é€ä¸€ä¸ªå¸¦æœ‰æ•°æ®çš„HTTPè¯·æ±‚(å·²ç»è¢«è½¬æ¢æˆä¸€ä¸ª<code class="fe no np nq na b">String</code>):</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="4a1c" class="ne lx iq na b gy nf ng l nh ni">const axios = require("axios")</span><span id="0b66" class="ne lx iq na b gy oc ng l nh ni">handleSubmit = e =&gt; {<br/>    let { name, email, message } = this.state<br/>    let data = { name, email, message }<br/>    axios.post(endpoints.contact,     JSON.stringify(data)).then(response =&gt; {<br/>      if (response.status !== 200) {<br/>        this.handleError()<br/>      } else {<br/>        this.handleSuccess()<br/>      }<br/>    })<br/>    e.preventDefault()<br/>  }</span></pre><p id="78e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºäº†è®©è¿™ä¸ªå‡½æ•°å·¥ä½œï¼Œæˆ‘ä»¬å¿…é¡»å®šä¹‰ç«¯ç‚¹ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„<code class="fe no np nq na b">Contact.js</code>ä¸­åˆ›å»ºä¸€ä¸ªæˆåŠŸå’Œé”™è¯¯å‡½æ•°ã€‚</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="173e" class="ne lx iq na b gy nf ng l nh ni">const endpoints = { contact: "/.netlify/functions/sendEmail"}</span><span id="d8e0" class="ne lx iq na b gy oc ng l nh ni">handleSuccess = () =&gt; {<br/>    this.setState({<br/>      name: "",<br/>      email: "",<br/>      message: "",<br/>      loading: false,<br/>      error: false,<br/>    })<br/>  }</span><span id="7464" class="ne lx iq na b gy oc ng l nh ni">handleError = msg =&gt; {<br/>    this.setState({<br/>      loading: false,<br/>      error: true,<br/>      msg,<br/>    })<br/>  }</span></pre><p id="70bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åˆ«å¿˜äº†ç»™æˆ‘ä»¬çš„æŒ‰é’®æ·»åŠ ä¸€ä¸ªæäº¤ç±»å‹:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="0a04" class="ne lx iq na b gy nf ng l nh ni">&lt;Button variant="contained" color="primary" type="submit"&gt;<br/> Submit<br/>&lt;/Button&gt;</span></pre><p id="7a11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ€åï¼Œæˆ‘ä»¬çš„ç»„ä»¶å°†å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mv mw mx my gt mz na nb nc aw nd bi"><span id="9b65" class="ne lx iq na b gy nf ng l nh ni">import React from "react"<br/>import TextField from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TextField"<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button"</span><span id="84df" class="ne lx iq na b gy oc ng l nh ni">const endpoints = {<br/>  contact: "/.netlify/functions/sendEmail",<br/>}<br/>const axios = require("axios")</span><span id="55ae" class="ne lx iq na b gy oc ng l nh ni">export default class Contact extends React.Component {<br/>  state = {<br/>    name: "",<br/>    email: "",<br/>    message: "",<br/>  }</span><span id="7379" class="ne lx iq na b gy oc ng l nh ni">handleChange = event =&gt; {<br/>    const name = event.target.name<br/>    const value = event.target.value<br/>    const statesToUpdate = {}<br/>    statesToUpdate[name] = value</span><span id="c76b" class="ne lx iq na b gy oc ng l nh ni">this.setState(statesToUpdate)<br/>  }</span><span id="93ca" class="ne lx iq na b gy oc ng l nh ni">handleSubmit = e =&gt; {<br/>    let { name, email, message } = this.state<br/>    let data = { name, email, message }<br/>    axios.post(endpoints.contact, JSON.stringify(data)).then(response =&gt; {<br/>      if (response.status !== 200) {<br/>        this.handleError()<br/>      } else {<br/>        this.handleSuccess()<br/>      }<br/>    })<br/>    e.preventDefault()<br/>  }</span><span id="078d" class="ne lx iq na b gy oc ng l nh ni">handleSuccess = () =&gt; {<br/>    this.setState({<br/>      name: "",<br/>      email: "",<br/>      message: "",<br/>      loading: false,<br/>      error: false,<br/>    })<br/>  }</span><span id="e7c9" class="ne lx iq na b gy oc ng l nh ni">handleError = msg =&gt; {<br/>    this.setState({<br/>      loading: false,<br/>      error: true,<br/>      msg,<br/>    })<br/>  }</span><span id="db31" class="ne lx iq na b gy oc ng l nh ni">render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;form noValidate autoComplete="off" onSubmit= {this.handleSubmit}&gt;<br/>          &lt;TextField<br/>            id="standard-name"<br/>            label="Name"<br/>            value={this.state.name}<br/>            onChange={this.handleChange}<br/>            name="name"<br/>          /&gt;<br/>          &lt;TextField<br/>            id="standard-email"<br/>            label="Email"<br/>            value={this.state.email}<br/>            onChange={this.handleChange}<br/>            name="email"<br/>          /&gt;<br/>          &lt;TextField<br/>            id="standard-message"<br/>            label="Message"<br/>            value={this.state.message}<br/>            onChange={this.handleChange}<br/>            name="message"<br/>          /&gt;<br/>          &lt;Button variant="contained" color="primary" type="submit"&gt;<br/>            Submit<br/>          &lt;/Button&gt;<br/>        &lt;/form&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><p id="1437" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Githubä¸Šæ·»åŠ ã€æäº¤å’Œæ¨é€ã€‚å®Œæˆåï¼Œå¦‚æœå¯ç”¨äº†Netlifyä¸Šçš„è‡ªåŠ¨éƒ¨ç½²ï¼Œæ‚¨åªéœ€ç­‰å¾…å‡ åˆ†é’Ÿï¼Œå®ƒå°±ä¼šè”æœºå¹¶å·¥ä½œğŸ‰ ğŸ¥³ .å¦‚æœæ‚¨å°è¯•å‘é€ç”µå­é‚®ä»¶ï¼Œæ‚¨å°†ä¼šæ”¶åˆ°:</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/02fe2181011598f0f5b33f20c02710d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-FwN-2ghnuiRuVL0IQl6g.png"/></div></div></figure><p id="0fd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">éå¸¸æ„Ÿè°¢ä½ ä¸€ç›´è·Ÿç€æˆ‘ï¼å¦‚æœä½ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿·è·¯äº†ï¼Œæœ€ç»ˆç‰ˆæœ¬å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚å¦‚æœæœ‰è¯¯å¯¼æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘è¡¨è¯„è®ºã€‚</p></div></div>    
</body>
</html>