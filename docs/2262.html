<html>
<head>
<title>How to remove an element from an array in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中从数组中移除元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-remove-an-element-from-an-array-in-javascript-54612785295e?source=collection_archive---------0-----------------------#2020-06-05">https://javascript.plainenglish.io/how-to-remove-an-element-from-an-array-in-javascript-54612785295e?source=collection_archive---------0-----------------------#2020-06-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f609" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在JavaScript中从数组中快速移除元素的两种方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9fed30a55ae6c817f8a343bfcfec3c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a27z_U2v3Nh68jPW1QB5fA.png"/></div></div></figure><p id="3daf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以你想用JavaScript从数组中移除一个项？</p><p id="cd7f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你并不孤单！</p><p id="04c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是关于栈溢出的投票最多的JavaScript问题之一，考虑到<code class="fe ln lo lp lq b">array.push()</code>是多么简单，可能会觉得有点不自然。</p><h2 id="39e9" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">方法1-使用Array.filter()移除元素</h2><p id="ae1b" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">如果您想删除一个元素，同时保持原始数组不变，那么<code class="fe ln lo lp lq b">filter()</code>是一个不错的选择！</p><p id="a30d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">移除单个元素:</strong></p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="602d" class="lr ls iq lq b gy mt mu l mv mw">const itemToRemove = 3</span><span id="6546" class="lr ls iq lq b gy mx mu l mv mw">const originalArray = [2, 51, 3, 44]</span><span id="602f" class="lr ls iq lq b gy mx mu l mv mw">const newArray = originalArray.filter(item =&gt; item !== itemToRemove)</span><span id="5d0d" class="lr ls iq lq b gy mx mu l mv mw">console.log(newArray) // [2, 51, 44]<br/>console.log(originalArray) // [2, 51, 3, 44]</span></pre><p id="0216" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">分解它。</p><p id="6eec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们定义了一个变量<code class="fe ln lo lp lq b">newArray</code>，并将其设置为数组过滤器的返回值。在我们的过滤器内部，我们传递一个ECMAScript 6箭头函数。</p><p id="7b25" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该函数测试数组中的每一项，并返回:</p><ul class=""><li id="9b26" class="my mz iq kt b ku kv kx ky la na le nb li nc lm nd ne nf ng bi translated"><code class="fe ln lo lp lq b">true</code>如果物品与<code class="fe ln lo lp lq b">itemToRemove</code>不符</li><li id="9fbf" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated"><code class="fe ln lo lp lq b">false</code>如果项目与<code class="fe ln lo lp lq b">itemToRemove</code>匹配</li></ul></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="cebc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">移除多个项目:</strong></p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="814e" class="lr ls iq lq b gy mt mu l mv mw">const toDelete = [5, 6, 7, 8]</span><span id="8eed" class="lr ls iq lq b gy mx mu l mv mw">const original = [1, 5, 6, 7, 8]</span><span id="e46a" class="lr ls iq lq b gy mx mu l mv mw">const new = original.filter( item =&gt; !toDelete.includes(item) )</span><span id="1420" class="lr ls iq lq b gy mx mu l mv mw">console.log(new) // [1]<br/>console.log(original) // [1, 5, 6, 7, 8]</span></pre><p id="f6b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们遵循同样的方法来过滤我们的数组，但是这一次，我们测试每一项都没有包含在我们的<code class="fe ln lo lp lq b">toDelete</code>数组中。</p><p id="4388" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nt">警告:Internet Explorer或更旧的web浏览器不支持箭头功能和</em> <code class="fe ln lo lp lq b"><em class="nt">Array.includes()</em></code> <em class="nt">。如果你必须支持这些浏览器，考虑方法2或者看看</em><a class="ae nu" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"><em class="nt">babel js</em></a><em class="nt">。</em></p><h2 id="4781" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">方法2-使用Array.splice()删除元素</h2><p id="f70c" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">方法允许我们从数组中移除任何类型的元素，例如数字、字符串、对象、布尔值等。</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="ee67" class="lr ls iq lq b gy mt mu l mv mw">const arrayOfThings = [1, "two", {three: 3}, true]</span></pre><p id="262c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要用<code class="fe ln lo lp lq b">splice()</code>方法从数组中删除一些东西，我们需要提供两件东西:</p><ol class=""><li id="18ed" class="my mz iq kt b ku kv kx ky la na le nb li nc lm nv ne nf ng bi translated">元素索引(从索引0开始)</li><li id="f420" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nv ne nf ng bi translated">我们要移除的元素数量</li></ol><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="ec3c" class="lr ls iq lq b gy mt mu l mv mw">arrayOfThings.splice(startIndex, numberToRemove)</span></pre><p id="8f99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着我们必须首先找出元素在数组中的位置。</p><p id="9bff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，我们将使用<code class="fe ln lo lp lq b">indexOf()</code>方法:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="2980" class="lr ls iq lq b gy mt mu l mv mw">const index = arrayOfThings.indexOf("two")</span></pre><p id="d80c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意<code class="fe ln lo lp lq b">indexOf()</code>为不存在的元素返回<code class="fe ln lo lp lq b">-1</code>。</p></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="f79a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">综合起来:</strong></p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="38df" class="lr ls iq lq b gy mt mu l mv mw">const arrayOfThings = [1, "two", {three: 3}, true]</span><span id="b791" class="lr ls iq lq b gy mx mu l mv mw">// calculate the position of the item<br/>const index = arrayOfThings.indexOf("two")</span><span id="b861" class="lr ls iq lq b gy mx mu l mv mw">if (index &gt; -1) {<br/>  arrayOfThings.splice(index, 1)<br/>}</span><span id="1c6c" class="lr ls iq lq b gy mx mu l mv mw">console.log(arrayOfThings) // [1, {three: 3}, true]</span></pre><p id="b0c5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nt">警告:此方法删除该项的第一个实例，因为indexOf()返回它找到的第一个匹配项的索引。</em></p><h2 id="bad2" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated"><strong class="ak">拼接()附加1——使用你已经移除的元素</strong></h2><p id="7ac7" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated"><code class="fe ln lo lp lq b">splice()</code>方法不返回原始数组，而是对其进行变异。</p><p id="8f08" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着，如果我们将返回结果赋给一个变量，它将不是移除了对象的原始数组，而是包含移除对象的数组。</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="f4b9" class="lr ls iq lq b gy mt mu l mv mw">const originalArray = [2, 5, 9]</span><span id="6256" class="lr ls iq lq b gy mx mu l mv mw">// remove one element from index 2<br/>const returnValue = originalArray.splice(2, 1)</span><span id="fd44" class="lr ls iq lq b gy mx mu l mv mw">console.log(returnValue) // [9]<br/>console.log(originalArray) // [2, 5]</span></pre><p id="9bcd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们console.log原始数组时，它已经发生了变异，删除了索引2处的元素。</p><p id="3a42" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们现在可以访问我们的<code class="fe ln lo lp lq b">returnValue</code>变量中被删除的元素数组。</p><h2 id="e129" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">拼接()附加2-替换移除的元素</h2><p id="2c25" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">splice()方法不仅仅可以从数组中移除项目。</p><p id="ebaa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它还允许您用一个(或多个)项目替换要移除的项目:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="2471" class="lr ls iq lq b gy mt mu l mv mw">array.splice(startIndex, numberToRemove, itemToAdd, itemToAdd2, ...)</span></pre><p id="6e93" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着，如果我们想删除和替换一个项目，我们只需:</p><pre class="kg kh ki kj gt mp lq mq mr aw ms bi"><span id="41d5" class="lr ls iq lq b gy mt mu l mv mw">const arrayOfThings = [1, 2, 9, 4, 5]</span><span id="530c" class="lr ls iq lq b gy mx mu l mv mw">// calculate the position of the item<br/>const index = arrayOfThings.indexOf(9)</span><span id="a976" class="lr ls iq lq b gy mx mu l mv mw">if (index &gt; -1) {<br/>  // remove one item from our index and replace it with 3<br/>  arrayOfThings.splice(index, 1, 3)<br/>}</span><span id="4009" class="lr ls iq lq b gy mx mu l mv mw">console.log(arrayOfThings) // [1, 2, 3, 4, 5]</span></pre></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="0905" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">总之，我们可以使用<code class="fe ln lo lp lq b">Array.filter()</code>或<code class="fe ln lo lp lq b">Array.splice()</code>从数组中删除项目。</p><p id="896f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">Array.filter()</code>保持原始数组不变，而<code class="fe ln lo lp lq b">Array.splice()</code>改变原始数组并返回移除的元素。</p><h2 id="3176" class="lr ls iq bd lt lu lv dn lw lx ly dp lz la ma mb mc le md me mf li mg mh mi mj bi translated">资源</h2><ul class=""><li id="fc68" class="my mz iq kt b ku mk kx ml la nw le nx li ny lm nd ne nf ng bi translated"><a class="ae nu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noopener ugc nofollow" target="_blank">MDN文档上的Array.splice()</a></li><li id="a65a" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated"><a class="ae nu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank">MDN文档上的Array.filter()</a></li><li id="1631" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated"><a class="ae nu" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> BabelJS </a>支持旧版本浏览器</li></ul></div></div>    
</body>
</html>