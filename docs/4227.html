<html>
<head>
<title>Nx, React &amp; Tailwind CSS — Made Simple</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nx、React和Tailwind CSS —变得简单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nx-react-tailwind-css-made-simple-7ab71d39e678?source=collection_archive---------5-----------------------#2020-11-26">https://javascript.plainenglish.io/nx-react-tailwind-css-made-simple-7ab71d39e678?source=collection_archive---------5-----------------------#2020-11-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2e24b64f87fd9925a9f08d11ae70d629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b1os3Q_62NcdrYmecSm8wg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae jz" href="https://unsplash.com/@sigmund" rel="noopener ugc nofollow" target="_blank">Image from: https://unsplash.com/@sigmund</a></figcaption></figure><p id="42b6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">更新(2021年2月17日)</strong>:新的、更简单的方法可用——见<a class="ae jz" href="https://kuccello.medium.com/nx-react-tailwind-made-simple-new-and-improved-v2-d79f8b173622" rel="noopener">https://kuccello . medium . com/NX-react-tail wind-made-simple-New-and-improved-v2-d 79 F8 b 173622</a></p><p id="50ab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">原帖</strong></p><p id="0c27" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我写这篇文章是因为我做了一些有用的事情，然后忘记了我做了什么。我试图寻找一个类似的解决方案来帮助我回忆起我忘记我做了什么，并发现那里的信息可能不是最好的方法。本质上，这些只是一些开发人员关于使用react应用程序将tailwind与我的Nx托管工作区集成的方法的说明。</p><p id="2cec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好了，先来点背景知识。我是顺风CSS的粉丝。多年与Ant、材料设计、Bootstrap等等的斗争，让我对React中的“UI框架”产生了恶趣味。在过去的一年里，我一直在修补Tailwind，并开始相信它是web用户界面的未来。我将不再对这个问题发表进一步的意见，并假设既然你在这里阅读这篇文章，你已经知道我在说什么了。</p><p id="94fc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我也是最近转换到Nx的。Nx诞生于Angular world，是我一直在寻找的管理大型React项目的缺失部分，这些项目涉及更大的后端，并且需要将应用程序的各个部分分成库。再说一遍，既然你听到了这篇文章，我会假设你知道Nx是什么，为什么它很好。现在说说好东西…</p><p id="75b8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我用api和react应用程序创建了一个新的Nx工作区。很好，没什么特别的。然后我想加上顺风。有很多方法可以做到这一点。暂时假设在html中使用CDN链接是不可能的(我的意思是谁真的想冒这个安全问题的风险——当然，除非你正在管理自己的CDN设置，但那完全是另一回事)。对我来说，添加tailwind意味着控制css的生成。</p><h1 id="25c4" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">我做了什么</strong></h1><h2 id="7ddc" class="lw kz in bd la lx ly dn le lz ma dp li kl mb mc lm kp md me lq kt mf mg lu mh bi translated"><strong class="ak">安装依赖项</strong></h2><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="937c" class="lw kz in mn b gy mr ms l mt mu">npm i \<br/>  tailwindcss \<br/>  autoprefixer@9.8.6 \<br/>  postcss \<br/>  postcss-cli \<br/>  postcss-nested -D</span></pre><p id="86b3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mv">我使用的是autoprefixer@9.8.6，因为在撰写本文时最新版本存在已知问题。</em></p><h2 id="43f0" class="lw kz in bd la lx ly dn le lz ma dp li kl mb mc lm kp md me lq kt mf mg lu mh bi translated"><strong class="ak">编辑您的react应用程序style.css </strong></h2><p id="364b" class="pw-post-body-paragraph ka kb in kc b kd mw kf kg kh mx kj kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated"><em class="mv">路径:&lt;工作空间目录&gt;/apps/your-app/src/styles . CSS</em></p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c43a" class="lw kz in mn b gy mr ms l mt mu">/* For base styles (check out normalize.css) */<br/>@tailwind base;<br/>/* Simple reusable components provided by tailwind */<br/>@tailwind components;<br/>/* utility classes generated based on our tailwind.config.js */<br/>@tailwind utilities;</span></pre><h2 id="77f4" class="lw kz in bd la lx ly dn le lz ma dp li kl mb mc lm kp md me lq kt mf mg lu mh bi translated"><strong class="ak">创建顺风配置</strong></h2><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="1874" class="lw kz in mn b gy mr ms l mt mu">cd workspace/apps/your-app</span><span id="e71c" class="lw kz in mn b gy nb ms l mt mu">npx tailwind init</span></pre><h2 id="3309" class="lw kz in bd la lx ly dn le lz ma dp li kl mb mc lm kp md me lq kt mf mg lu mh bi translated"><strong class="ak">创建postcss.config.js </strong></h2><p id="cb90" class="pw-post-body-paragraph ka kb in kc b kd mw kf kg kh mx kj kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated"><em class="mv">路径:&lt;工作空间目录&gt;/apps/your-app/postcss . config . js</em></p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="dfe5" class="lw kz in mn b gy mr ms l mt mu">module.exports = {<br/>  plugins: [<br/>    require('postcss-nested'),<br/>    require("tailwindcss")("./tailwind.config.js"),<br/>    require("autoprefixer")<br/>  ]<br/>}</span></pre><h2 id="72d0" class="lw kz in bd la lx ly dn le lz ma dp li kl mb mc lm kp md me lq kt mf mg lu mh bi translated"><strong class="ak">编辑React应用的workspace . JSON</strong></h2><p id="b152" class="pw-post-body-paragraph ka kb in kc b kd mw kf kg kh mx kj kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated">将以下目标添加到React应用程序定义中:<br/>(<em class="mv">workspace . JSON&gt;projects&gt;YOUR-PROJECT&gt;architect&gt;build-tailwind-CSS</em>)</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="d5fb" class="lw kz in mn b gy mr ms l mt mu">…<br/>“build-tailwind-css”: {<br/>  “builder”: “@nrwl/workspace:run-commands”,<br/>  “outputs”: [],<br/>  “options”: {<br/>    “command”: “node ../../node_modules/.bin/postcss src/styles.css -o src/app/tailwind.css”,<br/>    “cwd”: “apps/your-app”<br/>  }<br/>},<br/>…</span></pre><p id="c6d6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后你只需要运行:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="33e8" class="lw kz in mn b gy mr ms l mt mu">nx run your-app:build-tailwind-css</span></pre><p id="c495" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，您的react应用程序src目录中将有一个tailwind.css文件。如果您需要重新生成它，只需再次运行上面的命令。</p><p id="5f18" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后一步是再次修改workspace.json，在构建选项的“styles”数组中添加对新的tailwind.css文件的引用。</p><p id="8831" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mv"> workspace.json &gt;项目&gt; YOUR-PROJECT &gt;架构师&gt;构建&gt;选项&gt;样式</em></p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9cd5" class="lw kz in mn b gy mr ms l mt mu">...<br/>styles": [<br/>  "apps/your-app/src/styles.css",<br/>  "apps/your-app/src/app/tailwind.css"<br/>],<br/>...</span></pre><p id="57ae" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是一种简单、可控的方法，可以将tailwind包含在Nx workspace managed React项目中。</p><h2 id="5f38" class="lw kz in bd la lx ly dn le lz ma dp li kl mb mc lm kp md me lq kt mf mg lu mh bi translated"><strong class="ak">网上找到的其他方法</strong></h2><p id="96cd" class="pw-post-body-paragraph ka kb in kc b kd mw kf kg kh mx kj kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated"><a class="ae jz" href="https://github.com/nrwl/nx/issues/3480" rel="noopener ugc nofollow" target="_blank">问题:如何在React App中集成Tailwind</a></p><p id="4e53" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://github.com/nrwl/nx/issues/2298" rel="noopener ugc nofollow" target="_blank">不能在Nx下一个项目中使用Tailwindcss</a></p><p id="ba13" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://dsebastien.medium.com/?source=post_page-----bf890ea882e--------------------------------" rel="noopener">sébastien Dubois</a>-&gt;<a class="ae jz" href="https://medium.com/javascript-in-plain-english/adding-tailwind-support-to-a-nrwl-nx-workspace-with-angular-and-storybook-bf890ea882e" rel="noopener">通过Angular和Storybook为Nrwl NX工作区添加顺风支持</a></p></div></div>    
</body>
</html>