<html>
<head>
<title>React Hooks â€” useState, useEffect, useRef, useMemo (TicTacToe Game)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Hooks â€”ä½¿ç”¨çŠ¶æ€ã€ä½¿ç”¨æ•ˆæœã€ä½¿ç”¨å‚è€ƒã€ä½¿ç”¨å¤‡å¿˜å½•(TicTacToeæ¸¸æˆ)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/react-hooks-usestate-useeffect-useref-usememo-926fc2a86a6a?source=collection_archive---------0-----------------------#2019-08-11">https://javascript.plainenglish.io/react-hooks-usestate-useeffect-useref-usememo-926fc2a86a6a?source=collection_archive---------0-----------------------#2019-08-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="beea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æƒ³è±¡ä¸€ä¸‹:ä½ çš„åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ä¸ªä¼˜ç§€çš„å‡½æ•°ç»„ä»¶ï¼Œä½†æœ‰ä¸€å¤©ä½ éœ€è¦åœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ€è€ƒï¼Œä½ å¯ä»¥å°†å‡½æ•°ç»„ä»¶è½¬æ¢æˆä¸€ä¸ªç±»&amp;è¿™å°±å¯¹äº†ã€‚</p><p id="373a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‚¨å°†è½¬æ¢ç±»Tempæ‰©å±•Reactã€‚ç»„ä»¶ï¼Œç„¶ååœ¨render bodyä¸­å¤åˆ¶æ‚¨çš„è¿”å›å‡½æ•°ã€‚</p><p id="87e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç„¶è€Œï¼Œæ–°çš„React-Hooksæœ‰æ›´å¥½çš„æ–¹æ³•æ¥åšè¿™ä»¶äº‹ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨åŠŸèƒ½ç»„ä»¶å’Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­ä½¿ç”¨çŠ¶æ€ã€‚</p><blockquote class="ki kj kk"><p id="bbe9" class="jk jl kl jm b jn jo jp jq jr js jt ju km jw jx jy kn ka kb kc ko ke kf kg kh ig bi translated">æ³¨æ„:è¿™ç¯‡æ–‡ç« éœ€è¦Reactçš„åŸºç¡€çŸ¥è¯†ã€‚</p></blockquote></div><div class="ab cl kp kq hr kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ig ih ii ij ik"><p id="4647" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">é’©å­è®©ä½ æŠŠçŠ¶æ€&amp;ç”Ÿå‘½å‘¨æœŸååº”ç‰¹æ€§æ’å…¥åŠŸèƒ½ç»„ä»¶ã€‚</strong></p><p id="2323" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="kl"> useState </em> </strong>:è¿™ä¸ªé’©å­å¯ä»¥è®©ä½ åœ¨åŠŸèƒ½ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€ã€‚åœ¨ç±»ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰â€œthisâ€ã€‚æœ‰äº†â€œthisâ€çš„å¸®åŠ©ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–çŠ¶æ€ï¼Œå¹¶å¯ä»¥åšæˆ‘ä»¬çš„å·¥ä½œã€‚ä½†æ˜¯åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰â€œthis â€,æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½èµ‹å€¼æˆ–è¯»å–â€œthisâ€ã€‚</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="3557" class="lf lg in lb b gy lh li l lj lk">import React, { useState } from 'react';<br/><br/>function Example() {<br/>  // Declare a new state variable, which we'll call "count"<br/>  const [count, setCount] = useState(0);</span></pre><p id="fdab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†reactåŒ…ä¸­çš„â€œuseStateâ€ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå˜é‡â€œcount â€,å®ƒçš„å€¼ä½œä¸ºä¸€ä¸ªå‚æ•°è®¾ç½®åœ¨useState(0)ä¸­ã€‚æ‰€ä»¥â€œ0â€å°†æ˜¯å®ƒçš„åˆå§‹å€¼ï¼Œå®ƒå¯ä»¥æ˜¯ä»»ä½•ä½ éœ€è¦çš„æ•°æ®ç±»å‹ã€‚</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="1a26" class="lf lg in lb b gy lh li l lj lk">// Can be modified as setCount method which we mentioned in useState.<br/>&lt;button onClick={() =&gt; setCount(count + 1)}&gt; <br/>    {count} // Can be read in this way<br/>  &lt;/button&gt;</span></pre><blockquote class="ll"><p id="4200" class="lm ln in bd lo lp lq lr ls lt lu kh dk translated">å®Œæ•´ç¤ºä¾‹:</p></blockquote><pre class="lv lw lx ly lz la lb lc ld aw le bi"><span id="a83f" class="lf lg in lb b gy lh li l lj lk"> 1:  import React, { useState } from 'react';<br/> 2:<br/> 3:  function Example() {<br/> 4:    const [count, setCount] = useState(0);<br/> 5:<br/> 6:    return (<br/> 7:      &lt;div&gt;<br/> 8:        &lt;p&gt;You clicked {count} times&lt;/p&gt;<br/> 9:        &lt;button onClick={() =&gt; setCount(count + 1)}&gt;<br/>10:         Click me<br/>11:        &lt;/button&gt;<br/>12:      &lt;/div&gt;<br/>13:    );<br/>14:  }</span></pre><p id="7e55" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å½“æˆ‘ä»¬ç”¨<code class="fe ma mb mc lb b">useState</code>å£°æ˜ä¸€ä¸ªçŠ¶æ€å˜é‡æ—¶ï¼Œå®ƒè¿”å›ä¸€å¯¹â€”â€”ä¸€ä¸ªåŒ…å«ä¸¤é¡¹çš„æ•°ç»„ã€‚ç¬¬ä¸€é¡¹æ˜¯å½“å‰å€¼ï¼Œç¬¬äºŒé¡¹æ˜¯è®©æˆ‘ä»¬æ›´æ–°å®ƒçš„å‡½æ•°ã€‚</p><h2 id="9312" class="lf lg in bd md me mf dn mg mh mi dp mj jv mk ml mm jz mn mo mp kd mq mr ms mt bi translated">è‡ªå®šä¹‰æŒ‚é’©:</h2><p id="5636" class="pw-post-body-paragraph jk jl in jm b jn mu jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd my kf kg kh ig bi translated">Reacté’©å­æœ€å¥½çš„ä¸€ç‚¹æ˜¯å®ƒä»¬æ˜¯å¸¸è§„çš„JSå‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬çš„æ‰€æœ‰é€»è¾‘é‡æ„ä¸ºä¸€ä¸ªå°å‡½æ•°ã€‚</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="93f2" class="lf lg in lb b gy lh li l lj lk"><em class="kl">// ğŸ¨ Make a custom hook called useCounter that accepts the step and<br/>// initialCount and returns the count and increment function</em> function useCounter({stepCount = 1, initialCount = 0}) {<br/> const [count, setCount] = React.useState(initialCount)<br/> const increment = () =&gt; setCount(count + stepCount)<br/> return [count, increment]<br/>}</span><span id="e86f" class="lf lg in lb b gy mz li l lj lk">function Counter({step = 1, initialCount = 0}) {<br/> const [count, increment] = useCounter(step, initialCount)<br/> return &lt;button onClick={increment}&gt;{count}&lt;/button&gt;<br/>}</span></pre><h2 id="72da" class="lf lg in bd md me mf dn mg mh mi dp mj jv mk ml mm jz mn mo mp kd mq mr ms mt bi translated">ä½¿ç”¨æ•ˆæœ:</h2><p id="2725" class="pw-post-body-paragraph jk jl in jm b jn mu jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd my kf kg kh ig bi translated">å¯ä»¥ç”¨' useEffect 'ç›´æ¥åœ¨å‡½æ•°ç»„ä»¶å†…éƒ¨å¤„ç†3ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œå³:componentDidMountï¼ŒcomponentDidUpdateï¼ŒcomponentWillUnmountã€‚</p><p id="47c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿è¡Œæˆ‘ä»¬çš„ä»£ç ã€‚æˆ‘ä»¬ä¼ é€’ç»™â€œReact.useEffectâ€çš„å›è°ƒæ˜¯åœ¨ç»„ä»¶çš„<em class="kl"> _every_ </em>æ¸²æŸ“(åŒ…æ‹¬é‡æ–°æ¸²æŸ“)ä¹‹åè°ƒç”¨çš„ã€‚</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="3d0e" class="lf lg in lb b gy lh li l lj lk">React.useEffect( () =&gt; {<br/>   Console.log("useEffect runs");<br/>});</span></pre><p id="4dd3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½†æœ‰æ—¶æˆ‘ä»¬åªæƒ³ä½¿ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å›è°ƒå‡½æ•°æ¥è¿è¡Œæˆ‘ä»¬çš„å˜é‡å€¼çš„å˜åŒ–ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´å¹¸è¿çš„æ˜¯ï¼Œâ€œReact.useEffectâ€å…è®¸æ‚¨ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ï¼Œç§°ä¸ºâ€œä¾èµ–å…³ç³»æ•°ç»„â€,å½“(ä¸”ä»…å½“)è¿™äº›ä¾èµ–å…³ç³»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¼šé€šçŸ¥Reactæ‚¨çš„æ•ˆæœå›è°ƒå‡½æ•°åº”è¯¥è¢«è°ƒç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ¥é¿å…åšä¸å¿…è¦çš„å·¥ä½œï¼</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="ac63" class="lf lg in lb b gy lh li l lj lk">//Custom useState hook <br/>function useLocalStorageCounter({step = 1, initialCount = 0, key = 'count'}) {<br/>const [count, setCount] = React.useState(() =&gt;<br/>  Number(window.localStorage.getItem('count') || initialCount),<br/>)<br/>React.useEffect(() =&gt; {<br/>window.localStorage.setItem('count', count)<br/>}, [count]);</span><span id="3171" class="lf lg in lb b gy mz li l lj lk">const increment = () =&gt; setCount(c =&gt; c + step)</span><span id="cc39" class="lf lg in lb b gy mz li l lj lk">return [count, increment]<br/>}</span></pre><figure class="kw kx ky kz gt nb gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi na"><img src="../Images/9db5432ebfb3a2425eb61f5944fb41ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-QHrX7G1g78HBTGkzwOPLQ.png"/></div></div></figure><p id="9694" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœæˆ‘åœ¨useEffectä¸­æä¾›äº†ç©ºçš„ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€æˆ‘åªæƒ³åœ¨åˆå§‹åŠ è½½æ—¶åŠ è½½å›è°ƒå‡½æ•°ã€‚æˆ–è€…ï¼Œå¦‚æœæˆ‘ä»å›è°ƒå‡½æ•°ä¸­è¿”å›ä¸€äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆå®ƒå°†åƒcomponentWillUnmount lifeCycleæ–¹æ³•ä¸€æ ·å·¥ä½œã€‚</p><h2 id="1b48" class="lf lg in bd md me mf dn mg mh mi dp mj jv mk ml mm jz mn mo mp kd mq mr ms mt bi translated">useRef:</h2><p id="b6b6" class="pw-post-body-paragraph jk jl in jm b jn mu jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd my kf kg kh ig bi translated"><code class="fe ma mb mc lb b">useRef</code>è¿”å›ä¸€ä¸ªå¯å˜çš„refå¯¹è±¡ï¼Œå…¶<code class="fe ma mb mc lb b">.current</code>å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ é€’çš„å‚æ•°(<code class="fe ma mb mc lb b">initialValue</code>)ã€‚è¿”å›çš„å¯¹è±¡å°†åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå­˜æœŸå†…ä¿æŒä¸å˜ã€‚</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e217" class="lf lg in lb b gy lh li l lj lk">function formMethod() {<br/>  const username= useRef(null);<br/>  const onUsernameClick = () =&gt; {<br/>    // `current` points to the mounted text input element<br/>    username.current.focus();<br/>  };<br/>  return (<br/>    &lt;&gt;<br/>      &lt;input ref={username} type="text" /&gt;<br/>      &lt;button onClick={onUsernameClick}&gt;Focus the input&lt;/button&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="b3f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¯·è®°ä½ï¼Œ<code class="fe ma mb mc lb b">useRef</code> <em class="kl">ä¸ä¼šåœ¨å†…å®¹æ”¹å˜æ—¶é€šçŸ¥æ‚¨ã€‚æ”¹å˜<code class="fe ma mb mc lb b">.current</code>å±æ€§ä¸ä¼šå¯¼è‡´é‡æ–°æ¸²æŸ“ã€‚</em></p><h2 id="b829" class="lf lg in bd md me mf dn mg mh mi dp mj jv mk ml mm jz mn mo mp kd mq mr ms mt bi translated">ä½¿ç”¨å¤‡å¿˜å½•:</h2><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="cc07" class="lf lg in lb b gy lh li l lj lk">const memoizedValue = useMemo(() =&gt; modifyValue(a), [a]);</span></pre><p id="26aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ma mb mc lb b">useMemo</code>åªæœ‰å½“å…¶ä¸­ä¸€ä¸ªä¾èµ–å…³ç³»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—è®°å¿†å€¼ã€‚è¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…æ¯æ¬¡æ¸²æŸ“æ—¶è¿›è¡Œæ˜‚è´µçš„è®¡ç®—ã€‚</p><p id="69ee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è®°ä½ä¼ é€’ç»™<code class="fe ma mb mc lb b">useMemo</code>çš„å‡½æ•°åœ¨æ¸²æŸ“æ—¶è¿è¡Œã€‚ä¸è¦åšä»»ä½•æ¸²æŸ“æ—¶é€šå¸¸ä¸ä¼šåšçš„äº‹æƒ…ã€‚å¦‚æœæ²¡æœ‰æä¾›æ•°ç»„ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè®¡ç®—ä¸€ä¸ªæ–°å€¼ã€‚</p><p id="6a2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸ºäº†è®©ä½ çš„æ‰‹è„åœ¨ä»£ç ä¸­ï¼Œæˆ‘åœ¨CodeSandboxçš„react hooksä¸­åšäº†ä¸€ä¸ªä¾‹å­ã€‚</p><p id="a671" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ni" href="http://TicTacToe Game in react hooks" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/tictactoe-react-hooks-fjth8</a></p><blockquote class="ll"><p id="1f46" class="lm ln in bd lo lp nj nk nl nm nn kh dk translated"><a class="ae ni" href="https://github.com/vinodchauhan7/react-hooks-ticTacToe" rel="noopener ugc nofollow" target="_blank">https://github.com/vinodchauhan7/react-hooks-ticTacToe</a></p></blockquote><figure class="lv lw lx ly lz nb gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi no"><img src="../Images/e8a6bcd2835a2221945fab4fed8205ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oXyFtdu-jrH9EJ9oDaih6A.png"/></div></div></figure><p id="ed67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœä½ å–œæ¬¢è¿™ä¸ªï¼Œè¯·æä¾›ä½ çš„å»ºè®¾æ€§æ„è§å’Œåˆ†äº«ã€‚</p></div></div>    
</body>
</html>