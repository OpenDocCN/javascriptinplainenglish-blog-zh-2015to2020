<html>
<head>
<title>Understand the Superpower of Optional Chaining in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中可选链接的强大功能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understand-the-superpower-of-optional-chaining-in-javascript-fbc569244471?source=collection_archive---------1-----------------------#2019-12-11">https://javascript.plainenglish.io/understand-the-superpower-of-optional-chaining-in-javascript-fbc569244471?source=collection_archive---------1-----------------------#2019-12-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="37e4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何使用即将推出的JavaScript特性可选链接</h2></div><p id="7d5d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">?.</code> → <strong class="ke io">可选链接运算符</strong></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/d45e33da96b019fc46e282e8e300f8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jbC9WZGu0PU2POMmGr9rWg.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Image from twitter by <a class="ae ls" href="https://twitter.com/drosenwasser" rel="noopener ugc nofollow" target="_blank"><strong class="bd lt">Daniel Rosenwasser</strong></a><strong class="bd lt"> (@</strong><a class="lu lv ep" href="https://medium.com/u/4cc5dbe0f6cc?source=post_page-----fbc569244471--------------------------------" rel="noopener" target="_blank">Daniel Rosenwasser</a><strong class="bd lt">).</strong></figcaption></figure><h1 id="e763" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">可选链接</h1><p id="7dcb" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">可选链接将消除手动检查属性在对象中是否可用的需要。使用可选的链接，检查将在内部完成。</p><p id="b6f6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">没有可选链接的示例。</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="d842" class="mx lx in lb b gy my mz l na nb">function sayHi(user) {</span><span id="dfcb" class="mx lx in lb b gy nc mz l na nb">   let name = user.name.toUpperCase();</span><span id="7033" class="mx lx in lb b gy nc mz l na nb">   console.log(`Hi Mr. ${name}`);</span><span id="43db" class="mx lx in lb b gy nc mz l na nb">}</span></pre><p id="7010" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">考虑上面的函数，它将打印带有用户名的<code class="fe ky kz la lb b">hi</code>消息</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="491e" class="mx lx in lb b gy my mz l na nb">var user1 = { name : "John"};</span><span id="2dd9" class="mx lx in lb b gy nc mz l na nb">sayHi(user1); // Hi Mr.JOHN.</span></pre><p id="e3a3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当我们传递一个没有属性的<code class="fe ky kz la lb b">user</code>对象时</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="07c8" class="mx lx in lb b gy my mz l na nb">sayHi({}); </span><span id="efdd" class="mx lx in lb b gy nc mz l na nb">// <!-- -->TypeError: Cannot read property 'toUpperCase' of undefined.</span><span id="6143" class="mx lx in lb b gy nc mz l na nb">sayHi();</span><span id="e5ea" class="mx lx in lb b gy nc mz l na nb">// <!-- -->TypeError: Cannot read property 'name' of undefined.</span></pre><p id="40b3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了解决以上问题我们所做的是，我们将添加检查<code class="fe ky kz la lb b">name</code>属性是否在用户对象中可用</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="177a" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">使用可选链接</h1><p id="b64b" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">可选的链接将检查留给操作符的对象是否有效(非空和未定义)。如果该属性有效，则执行操作符的右边部分，否则返回<code class="fe ky kz la lb b">undefined</code></p><p id="3eb2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">基本示例</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="d1dc" class="mx lx in lb b gy my mz l na nb">function sayHi(user) {<br/>   let name = ( <strong class="lb io">user?.name?.toUpperCase()</strong> ) || "unKnown";<br/>   console.log(`Hi Mr. ${name}`);<br/>}</span></pre><p id="94bd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上述可选链接操作符的本地JavaScript等价代码是</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="062d" class="mx lx in lb b gy my mz l na nb"><strong class="lb io">(property == undefined || property == null) ? undefined : property</strong></span></pre><h1 id="7f15" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">使用变量作为属性名</h1><p id="0d1c" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">我们可以在可选链接中使用变量作为属性名</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="0f6c" class="mx lx in lb b gy my mz l na nb">var user = {name : "John", age : 20};</span><span id="fb26" class="mx lx in lb b gy nc mz l na nb">var Age = "age";</span><span id="9a6e" class="mx lx in lb b gy nc mz l na nb"><strong class="lb io">user?.[Age];</strong></span><span id="76d9" class="mx lx in lb b gy nc mz l na nb">// We can also use with expressions </span><span id="efb9" class="mx lx in lb b gy nc mz l na nb"><strong class="lb io">user?.["a"+"ge"]</strong></span></pre><h1 id="c0e9" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">具有可选链接的函数调用</h1><p id="10d3" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">您可以使用可选的链接来调用可能不存在的方法。</p><pre class="ld le lf lg gt mt lb mu mv aw mw bi"><span id="843d" class="mx lx in lb b gy my mz l na nb">var user = {<br/>    name : "John",<br/>    getName() {<br/>      return this.name;<br/>    }<br/>}</span><span id="ae4f" class="mx lx in lb b gy nc mz l na nb"><strong class="lb io">user?.getName?.();</strong></span></pre><p id="a506" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">参考:<a class="ae ls" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank"> MDN </a>。</p><p id="adb7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">跟随<a class="lu lv ep" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----fbc569244471--------------------------------" rel="noopener" target="_blank"> Javascript Jeep🚙💨</a>。</p><div class="nf ng gp gr nh ni"><a href="https://sitepoint.tapfiliate.com/p/payout-methods/new/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd io gy z fp nn fr fs no fu fw im bi translated">登录|站点点</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">不支持的浏览器虽然我们的跟踪技术支持旧的浏览器，不幸的是我们的网站不支持…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">sitepoint.tapfiliate.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw lm ni"/></div></div></a></div></div></div>    
</body>
</html>