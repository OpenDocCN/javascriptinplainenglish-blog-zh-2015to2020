<html>
<head>
<title>Build a Contact Form With React Hooks And PHP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React钩子和PHP创建一个联系表单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-contact-form-with-react-hooks-and-php-47bc27927e54?source=collection_archive---------1-----------------------#2020-08-26">https://javascript.plainenglish.io/build-a-contact-form-with-react-hooks-and-php-47bc27927e54?source=collection_archive---------1-----------------------#2020-08-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="caf6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">用React钩子创建一个联系表单，并在你的PHP或WordPress网站中使用它！</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/448bd4295db73fa3f432bd9e8477f6e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Iug7DpxAkXjlNewu"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Aragon</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d93f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不久前，我写了一篇关于使用<a class="ae ks" href="https://blog.bitsrc.io/how-to-build-a-contact-form-with-react-js-and-php-d5977c17fec0" rel="noopener ugc nofollow" target="_blank"> React和PHP </a>创建联系人表单的文章。许多人觉得这很有趣。所以，在这里我写了那篇文章的更新版本。</p><p id="9dd0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">查看关于使用React和PHP创建联系人表单的文章:</p><div class="lp lq gp gr lr ls"><a href="https://blog.bitsrc.io/how-to-build-a-contact-form-with-react-js-and-php-d5977c17fec0" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">用React和PHP建立一个联系表单</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">用React创建一个联系表单，并在你的PHP或WordPress网站中使用！</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">blog.bitsrc.io</p></div></div><div class="mb l"><div class="mc l md me mf mb mg km ls"/></div></div></a></div><p id="e74e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">钩子是React中的新特性，我们将使用React钩子重新创建联系人表单。</p><h2 id="35f5" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">先决条件？不尽然！</h2><p id="9818" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">与<a class="ae ks" href="https://blog.bitsrc.io/how-to-build-a-contact-form-with-react-js-and-php-d5977c17fec0" rel="noopener ugc nofollow" target="_blank">之前的项目相同。本教程对初学者很友好。您不需要成为Javascript、React或PHP方面的专家，但我不会深入介绍像安装React和设置项目这样的基本细节。</a></p><p id="2d63" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我假设您已经有了一个正在运行的React项目。我们将专注于创建组件。</p><blockquote class="nf ng nh"><p id="f376" class="kt ku ni kv b kw kx jo ky kz la jr lb nj ld le lf nk lh li lj nl ll lm ln lo ig bi translated">在你开始之前:<br/> <strong class="kv io">如果你正在寻找一个简单的方法来创建你的表单并且不担心你的表单后端，试试</strong><a class="ae ks" href="http://contactform.dev" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">contact form . dev</strong></a></p></blockquote><h2 id="41ff" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">创建组件</h2><p id="31b4" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">如果您的项目中有一个组件文件夹，请在其中创建一个“Form”文件夹。由您来决定组件应该放在哪里。创建文件夹后，让我们创建“index.js”文件。</p><p id="9f8d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您已经看过上一篇文章，我们创建了一个类组件，但这次我们不需要它。相反，我们需要创建一个这样的函数:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="ee63" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了使用React钩子，我们必须从React导入useState。在你的文件的顶部，现在你可以导入useState和所有其他必要的包/文件。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="ed52" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如你所见，我们将使用“axios”包来获取数据。如果您的项目中没有这个包，请使用Npm或Yarn安装它:</p><pre class="kd ke kf kg gt no np nq nr aw ns bi"><span id="9199" class="mh mi in np b gy nt nu l nv nw">npm install axios</span></pre><h2 id="85f2" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">状态</h2><p id="d4a9" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">我们将使用useState来存储本地状态的数据。例如，我们将表单数据存储在一个状态中，错误和成功消息将存储在不同的状态中。在这些状态下，您的函数将如下所示:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="1db5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">此外，我们将有一个名为“config”的属性来获取表单标题和表单的其他配置。</p><h2 id="4b34" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">视角</h2><p id="af70" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">本质上，我使用了我上一篇文章中的代码，但是设计得到了改进。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/15f11db5d8694316991ab62e277b29c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d0cYXp8iPG0vovmDUqScsg.png"/></div></div></figure><p id="ccab" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">标题和描述来自“配置”属性。为了创建灵活的字段，我们需要传递一个名为‘fields config’的属性</p><p id="d922" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是一个具有某些属性的对象。例如:</p><p id="ac26" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ni"> id: 1，<br/>标签:'名字'，<br/>字段名:'名字'，<br/>类型:'文本'，<br/>占位符:'你的名字'，必填:true，类名:'名字-字段'</em></p><p id="95bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您的函数在表单中将如下所示:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="196e" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated">事件</h2><p id="65f8" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">在这种形式下我们有两个重要的事件。一个是处理表单提交，另一个是处理表单更改。</p><p id="db86" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们创建一个函数来处理提交事件。我们将调用函数:“handleFormSubmit”。该函数将如下所示。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="0f64" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">基本上，这个函数负责向PHP API发送数据。我将很快解释更多关于API的内容。当我们从API获得一个成功的响应时，我们将响应和错误状态设置为false。如果我们从响应中得到一个错误，我们将用响应更新错误状态。</p><p id="f9bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你需要关于这个函数的更好的解释，请查看我以前的文章:</p><div class="lp lq gp gr lr ls"><a href="https://blog.bitsrc.io/how-to-build-a-contact-form-with-react-js-and-php-d5977c17fec0" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">用React和PHP建立一个联系表单</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">用React创建一个联系表单，并在你的PHP或Wordpress网站中使用！</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">blog.bitsrc.io</p></div></div><div class="mb l"><div class="mc l md me mf mb mg km ls"/></div></div></a></div><p id="af07" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将需要另一个函数来处理输入字段的任何变化。每当用户在文本字段中键入内容时，handleChange将触发并更新formData状态。</p><p id="479f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">handleChange函数将如下所示:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="5770" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，这是表单组件的完整概述:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="052a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我创建了一个GitHub repo来使它更容易跟踪。请随意克隆它并使用它:</p><div class="lp lq gp gr lr ls"><a href="https://github.com/malithmcr/react-php-contact-form" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">malithmcr/react-PHP-contact-form</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">这是我的博客文章《用react和php创建联系人表单》中的教程的报告。请复制此回购并在…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">github.com</p></div></div><div class="mb l"><div class="ny l md me mf mb mg km ls"/></div></div></a></div><p id="e062" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">关于PHP部分，我在之前的文章中有更好的解释。你也可以跟随<a class="ae ks" href="https://github.com/malithmcr/react-php-contact-form/tree/master/api" rel="noopener ugc nofollow" target="_blank">这个文件夹</a>从GitHub repo来设置它。</p><p id="cfa3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你仍然错过了这些文章中的任何东西，我还在这里发布了一个视频:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nz nn l"/></div></figure><p id="48c7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢阅读！我希望这篇文章能帮助你理解ReactHooks的实际工作方式。</p><p id="2b4d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">干杯！</p><div class="lp lq gp gr lr ls"><a href="https://www.craftcode.design/" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">Craft Code | Next.js和React文章</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">学习Next.js，用我每周的内容来反应。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">www.craftcode.design</p></div></div><div class="mb l"><div class="oa l md me mf mb mg km ls"/></div></div></a></div><div class="lp lq gp gr lr ls"><a href="https://malith-dev.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">订阅以增长您的javascript知识</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">通过注册来增长你的javascript知识，你将创建一个中型帐户，如果你还没有…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">malith-dev.medium.com</p></div></div><div class="mb l"><div class="ob l md me mf mb mg km ls"/></div></div></a></div><p id="b78b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为你的下一个项目获得优质的WordPress托管服务:</p><div class="lp lq gp gr lr ls"><a href="https://kinsta.com/?kaid=WZRKJQSDWLDY" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">Kinsta管理的WordPress主机，面向所有人，无论规模大小</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">由谷歌云支持的优质托管WordPress主机。闪电般的加载速度、24/7专家支持，以及…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">kinsta.com</p></div></div><div class="mb l"><div class="oc l md me mf mb mg km ls"/></div></div></a></div></div></div>    
</body>
</html>