<html>
<head>
<title>Everything you need to know about NaN in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中关于NaN的所有知识</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/everything-you-need-to-know-about-nan-in-javascript-1ae9e74cbefe?source=collection_archive---------3-----------------------#2020-02-28">https://javascript.plainenglish.io/everything-you-need-to-know-about-nan-in-javascript-1ae9e74cbefe?source=collection_archive---------3-----------------------#2020-02-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="65b5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">此外，为什么你应该停止使用isNaN和用什么来代替</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5f268532b4d357ca79290e5864318af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lt-nq6HjOwXKrSOfcQ0rag.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@john_matychuk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">John Matychuk</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a331" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">NaN</code>是一个全局属性，表示非数字的值，因此得名。当进行算术运算或将某个值强制转换为数字时，可能会返回值<code class="fe ls lt lu lv b">NaN</code>。下面是一些导致<code class="fe ls lt lu lv b">NaN</code>的操作</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/686646ccd1b8a42c2612267fb4ba3b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KTKKK1NXDqRjF1MSu1_mZg.png"/></div></div></figure><p id="1c75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">值得一提的是，关于<code class="fe ls lt lu lv b">NaN</code>的大部分困惑来自于将非数值强制转换为数值的行为，这导致了<code class="fe ls lt lu lv b">NaN</code>。出于这个原因，我建议您熟悉一下上面代码中的最后几个例子，更好地了解一下为什么有些值，如布尔值、<code class="fe ls lt lu lv b">[1]</code>和<code class="fe ls lt lu lv b">‘’</code>不会产生<code class="fe ls lt lu lv b">NaN</code></p><h2 id="37f8" class="lx ly iq bd lz ma mb dn mc md me dp mf lf mg mh mi lj mj mk ml ln mm mn mo mp bi translated">关于<code class="fe ls lt lu lv b">NaN</code>的有趣事实</h2><p id="c9d0" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated"><code class="fe ls lt lu lv b">NaN</code>以狡猾著称，然而，如果你熟悉以下几个事实，你将能够毫无问题地与<code class="fe ls lt lu lv b">NaN</code>合作。</p><p id="2b67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">NaN</code>不像它的名字实际上是来自于类型号</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="4ae8" class="lx ly iq lv b gy mz na l nb nc">typeof NaN; // 'number'</span></pre></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="991c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">NaN</code>具有虚假值</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="4db4" class="lx ly iq lv b gy mz na l nb nc">Boolean(NaN); // false</span></pre></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="278b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">NaN</code>是JavaScript中唯一不等于自身的值。提示:这将在以后变得有用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/5f9f0c7390ca7f36d6fccfd66332bac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9AvSYYf8pRT6jmZCh_K8Q.png"/></div></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="842d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过四种不同的方式访问<code class="fe ls lt lu lv b">NaN</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/6da88606989fec438a8cf92795765260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XTQpaNzqjcH6dyqmf3c3Nw.png"/></div></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="34e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">避免与<code class="fe ls lt lu lv b">NaN</code>进行比较</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/313958a3709adecb1960d783db8ecbcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*opWnDibr9uLlb386esXz6Q.png"/></div></div></figure><h2 id="daf8" class="lx ly iq bd lz ma mb dn mc md me dp mf lf mg mh mi lj mj mk ml ln mm mn mo mp bi translated">让我们看一个例子</h2><p id="d77c" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">假设我们有一个函数，它接受一个参数并按<code class="fe ls lt lu lv b">10</code>递增。我们希望接受数字和代表数字的字符串，所以我们将使用<code class="fe ls lt lu lv b">parseFloat</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/da1006d954d9bf5e15c343edd44522c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XaBDyv0Vqvwg79Pk8On3lw.png"/></div></div></figure><p id="1886" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们刚刚了解到有很多论点会导致<code class="fe ls lt lu lv b">NaN</code>。也许更好的处理方法是在这些情况下抛出一个错误。然而，正如我们之前了解到的，通常的比较对<code class="fe ls lt lu lv b">NaN</code>不起作用，如下所示。为此，我们将使用全局函数<code class="fe ls lt lu lv b">isNaN</code>。</p><pre class="kg kh ki kj gt mv lv mw mx aw my bi"><span id="1884" class="lx ly iq lv b gy mz na l nb nc">typeof NaN === NaN; // false<br/>NaN === NaN; // false</span></pre></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="ae13" class="no ly iq bd lz np nq nr mc ns nt nu mf jw nv jx mi jz nw ka ml kc nx kd mo ny bi translated">什么是<code class="fe ls lt lu lv b">isNaN</code>，它是如何工作的？</h1><p id="be23" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated"><code class="fe ls lt lu lv b">isNaN</code>是一个全局函数，接受一个参数并返回一个布尔值，表明传递的参数是否是<code class="fe ls lt lu lv b">NaN</code>。</p><blockquote class="nz oa ob"><p id="6bc4" class="kw kx oc ky b kz la jr lb lc ld ju le od lg lh li oe lk ll lm of lo lp lq lr ij bi translated"><em class="iq">函数[ </em> <code class="fe ls lt lu lv b"><em class="iq">isNaN</em></code> <em class="iq"> ]应该被解释为回答这样一个问题:“当这个值被强制为一个数值时，它是一个IEEE-754‘非数字’值吗？”</em></p><p id="884d" class="kw kx oc ky b kz la jr lb lc ld ju le od lg lh li oe lk ll lm of lo lp lq lr ij bi translated"><em class="iq"> — MDN </em></p></blockquote><p id="0709" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在用<code class="fe ls lt lu lv b">isNaN</code>编写函数，当<code class="fe ls lt lu lv b">parseFloat</code>的结果是<code class="fe ls lt lu lv b">NaN</code>时抛出一个错误。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/666de5e64985700221af0f2749bce25f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AlCTP57X2yW3R7j_bd0KyA.png"/></div></div></figure><p id="dd6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，我们的功能正常工作。现在让我们了解更多关于<code class="fe ls lt lu lv b">isNaN</code>的信息。理解<code class="fe ls lt lu lv b">isNaN</code>如何工作的最好方法是为它创建我们自己的【基本版本】polyfill。Polyfill不用<code class="fe ls lt lu lv b">isNaN</code>了，超级老...IE 3老！👴🏽</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/e26b7573c81cd7a6fc358d1aba2257ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QdTFsvH4bfqwA5ayaXqcEA.png"/></div></div></figure><p id="d147" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当使用<code class="fe ls lt lu lv b">isNaN</code>时，你需要注意值到数值的强制。请记住，有些值不能被强制为数值，会产生<code class="fe ls lt lu lv b">NaN</code>，所以即使你对<code class="fe ls lt lu lv b">isNaN</code>的参数可能不是<code class="fe ls lt lu lv b">NaN</code>，它也会变成一个。</p><p id="fe9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有几个发生这种情况的例子，并且<code class="fe ls lt lu lv b">isNaN</code>不像我们预期的那样工作:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/2b889130bf66a9c4991220b46dc9474e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*llv0ErePqEcBhjMpkkUGpQ.png"/></div></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="4728" class="no ly iq bd lz np nq nr mc ns nt nu mf jw nv jx mi jz nw ka ml kc nx kd mo ny bi translated"><code class="fe ls lt lu lv b">Number.isNaN</code>去营救🦸🏻‍♀️</h1><p id="0511" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">由于上述原因，使用<code class="fe ls lt lu lv b">isNaN</code>并不理想。这就是为什么从ES6开始在JavaScript中加入了<code class="fe ls lt lu lv b">Number.isNaN</code>的原因。这两个函数的主要区别在于<code class="fe ls lt lu lv b">Number.isNaN</code>在确定其是否为<code class="fe ls lt lu lv b">NaN</code>之前不会将其参数转换为数值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/e754b5fcfd2eba0efb95ea79a2f43741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yEWsu803oBBxpJ78gHWaCg.png"/></div></div></figure><p id="7a48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，它像预期的那样工作。</p><p id="5fd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我推荐一直用<code class="fe ls lt lu lv b">Number.isNaN</code>。即使你想把这个值强制转换成一个数字值，你也可以自己做，然后用<code class="fe ls lt lu lv b">Number.isNaN</code>来清楚地表达你的意图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/6ad8b2581e5a4824a7a1070f53f193ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oNs16evR-pIa5xorx_a3FQ.png"/></div></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="4722" class="no ly iq bd lz np nq nr mc ns nt nu mf jw nv jx mi jz nw ka ml kc nx kd mo ny bi translated">本机<code class="fe ls lt lu lv b">isNaN</code>和<code class="fe ls lt lu lv b">Number.isNaN</code>的替代品</h1><p id="8273" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">正如你可以想象的那样，在<code class="fe ls lt lu lv b">Number.isNaN</code>推出之前，我们有一些变通办法来处理这个问题，这些办法可能不再需要，但值得注意。</p><h1 id="6ebe" class="no ly iq bd lz np ok nr mc ns ol nu mf jw om jx mi jz on ka ml kc oo kd mo ny bi translated">写你自己的</h1><p id="c05a" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">如果你不打算使用<code class="fe ls lt lu lv b">Number.isNaN</code>，这可能是最快的方法。理解这个函数的关键是<code class="fe ls lt lu lv b">isNaN</code>是唯一不等于自身的值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/c48c13ed350f0dece7e1a93843843f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ll9n1IhXX-v5WI_9HDirRQ.png"/></div></div></figure><h1 id="e050" class="no ly iq bd lz np ok nr mc ns ol nu mf jw om jx mi jz on ka ml kc oo kd mo ny bi translated">Lodash和下划线</h1><p id="c2a4" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">这两个流行的实用程序库都有自己的功能版本，工作方式类似于<code class="fe ls lt lu lv b">Number.isNaN</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/6550ba0823b9b24ed0eaadee0bb3b407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9pDqJ3K690VYz0F8fWhcnw.png"/></div></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="2b25" class="no ly iq bd lz np nq nr mc ns nt nu mf jw nv jx mi jz nw ka ml kc nx kd mo ny bi translated">资源和引用</h1><ul class=""><li id="cb1c" class="op oq iq ky b kz mq lc mr lf or lj os ln ot lr ou ov ow ox bi translated">MDN<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/NaN</a></li><li id="1200" class="op oq iq ky b kz oy lc oz lf pa lj pb ln pc lr ou ov ow ox bi translated">ECMAScript规范<a class="ae kv" href="https://tc39.es/ecma262/#sec-value-properties-of-the-global-object-nan" rel="noopener ugc nofollow" target="_blank">https://tc39 . es/ECMA 262/# sec-value-properties-of-the-global-object-nan</a></li></ul><p id="d747" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">isNaN</code></p><ul class=""><li id="a309" class="op oq iq ky b kz la lc ld lf pd lj pe ln pf lr ou ov ow ox bi translated">MDN:<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/isNaN</a></li><li id="8778" class="op oq iq ky b kz oy lc oz lf pa lj pb ln pc lr ou ov ow ox bi translated">ECMAScript规范<a class="ae kv" href="https://tc39.es/ecma262/#sec-isnan-number" rel="noopener ugc nofollow" target="_blank">https://tc39.es/ecma262/#sec-isnan-number</a></li><li id="687d" class="op oq iq ky b kz oy lc oz lf pa lj pb ln pc lr ou ov ow ox bi translated">洛达什<a class="ae kv" href="https://lodash.com/docs/4.17.15#isNaN" rel="noopener ugc nofollow" target="_blank">https://lodash.com/docs/4.17.15#isNaN</a></li><li id="575c" class="op oq iq ky b kz oy lc oz lf pa lj pb ln pc lr ou ov ow ox bi translated">下划线<a class="ae kv" href="https://underscorejs.org/#isNaN" rel="noopener ugc nofollow" target="_blank">https://underscorejs.org/#isNaN</a></li></ul><p id="a1d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">Number.isNaN</code></p><ul class=""><li id="2291" class="op oq iq ky b kz la lc ld lf pd lj pe ln pf lr ou ov ow ox bi translated">MDN<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Number/isNaN</a></li><li id="5997" class="op oq iq ky b kz oy lc oz lf pa lj pb ln pc lr ou ov ow ox bi translated">ECMAScript规范<a class="ae kv" href="https://tc39.es/ecma262/#sec-number.isnan" rel="noopener ugc nofollow" target="_blank">https://tc39.es/ecma262/#sec-number.isnan</a></li></ul><p id="3a37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相关主题</p><ul class=""><li id="1053" class="op oq iq ky b kz la lc ld lf pd lj pe ln pf lr ou ov ow ox bi translated">freeCodeCamp: JavaScript类型强制解释<a class="ae kv" href="https://www.freecodecamp.org/news/js-type-coercion-explained-27ba3d9a2839/" rel="noopener ugc nofollow" target="_blank">https://www . freeCodeCamp . org/news/js-type-construction-explained-27ba 3d 9a 2839/</a></li><li id="8559" class="op oq iq ky b kz oy lc oz lf pa lj pb ln pc lr ou ov ow ox bi translated">SitePoint ES6新编号方法<a class="ae kv" href="https://www.sitepoint.com/es6-number-methods/" rel="noopener ugc nofollow" target="_blank">https://www.sitepoint.com/es6-number-methods/</a></li></ul></div></div>    
</body>
</html>