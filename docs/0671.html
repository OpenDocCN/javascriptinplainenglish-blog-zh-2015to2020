<html>
<head>
<title>Regular Expressions: Brackets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正则表达式:括号</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/regular-expressions-brackets-f2d6f69ffe13?source=collection_archive---------2-----------------------#2019-11-24">https://javascript.plainenglish.io/regular-expressions-brackets-f2d6f69ffe13?source=collection_archive---------2-----------------------#2019-11-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e91c" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">快速参考和复习第二部分</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/846fb8c96fa3ca8a26ca4a196a02ccb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dyc-u57jlIxTuL14"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@maksymiv?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Maksym Ivashchenko</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ced6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这张照片中找到针。</p><h1 id="20ef" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">JavaScript中的正则表达式</h1><p id="2beb" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">因为我在代码示例中使用了JavaScript，所以我认为快速概述一下正则表达式在这种语言中是如何工作的是合适的。在JavaScript中，正则表达式是类型为<code class="fe mm mn mo mp b">RegExp</code>的对象。因此，它们有一个对象原型和相关的属性和方法。这也意味着你可能会遇到他们，要么是字面上的<em class="mq">要么是<em class="mq">构造者</em>。正则表达式文字正是我们一直在使用的，<code class="fe mm mn mo mp b">/slashes with rules inside/</code>而构造函数看起来像这样:</em></p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="d278" class="mv lq in mp b gy mw mx l my mz">new RegExp(/rules go here/, 'optional flags');</span></pre><p id="a244" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">正则表达式中可能用到的一些常见的字符串方法有<code class="fe mm mn mo mp b">match</code>、<code class="fe mm mn mo mp b">replace</code>和<code class="fe mm mn mo mp b">split</code>。第一个采用的形式是<code class="fe mm mn mo mp b">str.match(regex)</code>并返回一个匹配数组，如果没有找到匹配，则返回<code class="fe mm mn mo mp b">null</code>。下一个类似于<code class="fe mm mn mo mp b">str.replace(regex, repl)</code>，它返回一个新的字符串，其中的<code class="fe mm mn mo mp b">repl</code>已经替换了正则表达式匹配的内容。最后，<code class="fe mm mn mo mp b">split</code>用于将一个字符串分解成一个数组，通常只给出一个分隔符，比如空格或逗号，但是也可以使用正则表达式。</p><h1 id="e056" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">括号</h1><p id="b9b4" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">在这一部分，我们将只深入研究一组符号，即括号。</p><h2 id="8e63" class="mv lq in bd lr na nb dn lv nc nd dp lz lc ne nf mb lg ng nh md lk ni nj mf nk bi">[ ]</h2><p id="d378" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">方括号表示要匹配的一组字符。括号中的任何单个字符都将匹配，您还可以使用连字符来定义一个集合。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="af3b" class="mv lq in mp b gy mw mx l my mz">'elephant'.match(/[abcd]/) // -&gt; matches 'a'</span></pre><p id="d39f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以使用<code class="fe mm mn mo mp b">^</code>元字符对括号之间的内容求反。</p><p id="fe26" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe mm mn mo mp b">'donkey'.match(/[^abcd]/) // -&gt; matches 'o'</code></p><p id="7c6b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你会经常看到字母表或所有数字的范围。<code class="fe mm mn mo mp b">[A-Za-z]</code> <code class="fe mm mn mo mp b">[0-9]</code>记住这些字符集是区分大小写的，除非你设置了<code class="fe mm mn mo mp b">i</code>标志。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="2c56" class="mv lq in mp b gy mw mx l my mz">'elephant'.match(/[a-d]/) // -&gt; matches 'a'<br/>'elephant'.match(/[A-D]/) // -&gt; no match<br/>'elephant'.match(/[A-D]/i) // -&gt; matches 'a'</span></pre><h2 id="53e8" class="mv lq in bd lr na nb dn lv nc nd dp lz lc ne nf mb lg ng nh md lk ni nj mf nk bi">{ }</h2><p id="3766" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">花括号用于指定要匹配的确切数量。它们用在一个表达式之后:<code class="fe mm mn mo mp b">\na{2}\</code>将只匹配' na '两次。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="cf62" class="mv lq in mp b gy mw mx l my mz">'panama'.match(/na{2}/) // -&gt; no match<br/>'banana'.match(/na{2}/) // -&gt; matches 'nana'</span></pre><p id="361a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以将它们与逗号结合使用来指定多个数量。<code class="fe mm mn mo mp b">{2,}</code> =两次以上，<code class="fe mm mn mo mp b">{2,4}</code> =两到四次之间。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="1212" class="mv lq in mp b gy mw mx l my mz">'banana'.match(/a{2,4}/) // -&gt; no match<br/>'bananaa'.match(/a{2,4}/) // -&gt; matches 'aa'<br/>'bananaaa'.match(/a{2,4}/) // -&gt; matches 'aaa'<br/>'bananaaaa'.match(/a{2,4}/) // -&gt; matches 'aaaa'<br/>'bananaaaaaaaaaaa'.match(/a{2,4}/) // -&gt; matches 'aaaa'</span></pre><h2 id="92b2" class="mv lq in bd lr na nb dn lv nc nd dp lz lc ne nf mb lg ng nh md lk ni nj mf nk bi">( )</h2><p id="433a" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">括号代表记忆的匹配。这对于查找和替换操作或者任何需要对部分匹配做些什么的时候特别有用。当一场比赛被记住时，你可以用<code class="fe mm mn mo mp b">$n</code>来指代它，从<code class="fe mm mn mo mp b">$1</code>开始一直到<code class="fe mm mn mo mp b">$9</code>，或者用<code class="fe mm mn mo mp b">$&amp;</code>来指代整场比赛。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="61e3" class="mv lq in mp b gy mw mx l my mz">'Firsty McLastname'.match(/([A-Za-z]+)\s([A-Za-z]+)/) // -&gt; matches 'First McLastname' with 'Firsty' remembered as $1 and 'McLastname' as $2</span><span id="b671" class="mv lq in mp b gy nl mx l my mz">'Firsty McLastname'.replace(/([A-Za-z]+)\s([A-Za-z]+)/, '$1') // -&gt; returns 'Firsty'</span><span id="32c7" class="mv lq in mp b gy nl mx l my mz">'Firsty McLastname'.replace(/([A-Za-z]+)\s([A-Za-z]+)/, '$2, $1') // -&gt; returns 'McLastname, Firsty'</span><span id="0503" class="mv lq in mp b gy nl mx l my mz">'Firstipher Lasterman'.replace(/([A-Za-z]+)\s([A-Za-z]+)/, '$&amp;') // -&gt; returns 'Firstipher Lasterman'</span></pre><p id="2e1f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">除了使用数字，你还可以用语法<code class="fe mm mn mo mp b">(?&lt;myGroupName&gt;...)</code>给匹配的组命名。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="5ea3" class="mv lq in mp b gy mw mx l my mz">'Firsty McLastname'.replace(/(?&lt;first&gt;[A-Za-z]+)\s(?&lt;last&gt;[A-Za-z]+)/, '$&lt;last&gt;, $&lt;first&gt;') // -&gt; returns 'McLastname, Firsty'</span></pre><p id="7c04" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您返回匹配，这些也将显示为<code class="fe mm mn mo mp b">matches.groups.myGroupName</code>。</p><p id="a956" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">正则表达式中也使用括号将表达式的各个部分组合成子组，就像在<code class="fe mm mn mo mp b">/(\$|¥)([0-9]+)\.([0-9]{2})/</code>中一样。这将匹配“$149.99”，并记住子组“$”、“149”和“99”。但是如果你不想记住美元符号呢？可以用<code class="fe mm mn mo mp b">?:</code>。</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="e723" class="mv lq in mp b gy mw mx l my mz">'¥2000.50'.match(<!-- -->/(?:\$|¥)([0-9]+)\.([0-9]{2})/) // --&gt; matches '¥2000.50' but only remembers '2000' as $1 and '50' as $2</span></pre><p id="9b92" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后一个使用<code class="fe mm mn mo mp b">split</code>的例子，您可以拆分一个字符串，但也可以返回匹配的结果:</p><pre class="kd ke kf kg gt mr mp ms mt aw mu bi"><span id="be6c" class="mv lq in mp b gy mw mx l my mz">'Howard the Duck'.split(/the/) <br/>// -&gt; returns ['Howard ', ' Duck']</span><span id="2ca7" class="mv lq in mp b gy nl mx l my mz">'Howard the Duck'.split(/(the)/) <br/>// -&gt; returns ['Howard ', 'the', ' Duck']</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nm"><img src="../Images/8b6e1862ddd2e017cbce71fc5d41c228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f_LIwYsUadoZLAyd"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@borisworkshop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Boris Smokrovic</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ae83" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请继续关注更多的正则表达式的乐趣。</p><p id="77d7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://medium.com/javascript-in-plain-english/regular-expressions-the-basics-2669c069d5f3" rel="noopener">第1部分:基础知识</a> ~ <em class="mq">你在这里</em> ~ <a class="ae ks" href="https://medium.com/javascript-in-plain-english/regular-expressions-operators-dbc98efaf6a9" rel="noopener">第3部分:运算符</a> ~ <a class="ae ks" href="https://medium.com/@adam.sultanov/regular-expressions-putting-it-all-together-a3fc4ca2923f" rel="noopener">第4部分:示例</a></p><h2 id="f305" class="mv lq in bd lr na nb dn lv nc nd dp lz lc ne nf mb lg ng nh md lk ni nj mf nk bi translated">进一步阅读</h2><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/best-tool-for-web-scraping-beautifulsoup-vs-regex-vs-advanced-web-scrapers-50b8fb92950d"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd io gy z fp nv fr fs nw fu fw im bi translated">最佳网络抓取工具:beautiful soup vs . Regex vs . Advanced Web Scrapers</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">BeautifulSoup、正则表达式或高级web scraper——哪一个是web抓取的最佳工具？深潜…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe km nq"/></div></div></a></div><p id="6d7f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mq">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mq">plain English . io</em></strong></a><em class="mq">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mq">免费周报</em> </strong> </a> <em class="mq">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mq">Twitter</em></strong></a><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mq">LinkedIn</em></strong></a><em class="mq"/><a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mq">YouTube</em></strong></a><em class="mq"/><a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mq">不和</em> </strong> </a> <strong class="kv io"> <em class="mq">。</em>T49】</strong></p><p id="7ad3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> <em class="mq">对缩放您的软件启动感兴趣</em> </strong> <em class="mq">？检查</em> <a class="ae ks" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mq">电路</em> </strong> </a> <em class="mq">。</em></p></div></div>    
</body>
</html>