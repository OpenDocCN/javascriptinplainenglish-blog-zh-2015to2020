<html>
<head>
<title>8 React Tips &amp; Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">8个反应技巧和窍门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/8-react-tips-tricks-1f1a429d7da0?source=collection_archive---------1-----------------------#2019-12-14">https://javascript.plainenglish.io/8-react-tips-tricks-1f1a429d7da0?source=collection_archive---------1-----------------------#2019-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/0a02f613e7fc386c232edf3eb33844ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dy4qa4jn7iiH_T75"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://unsplash.com/@knation?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kirk Morales</a> on <a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="f987" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个前端开发人员都以自己的方式实现React。一些人将他们的处理函数直接写入他们的JSX，另一些人编写单独的函数来处理所有额外的逻辑。无论你是一个经验丰富的React开发人员，还是刚刚入门，我都列出了8个技巧和窍门来帮助你编写代码。</p><h2 id="ad7b" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">1.React可以给你的孩子分配钥匙，不需要想出创造性的方法</h2><p id="25e4" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在React中创建元素列表时，需要一个<a class="ae jd" href="https://reactjs.org/docs/reconciliation.html#recursing-on-children" rel="noopener ugc nofollow" target="_blank">键</a>。键为这些元素提供了一个标识。当呈现具有所需键的元素数组时，您可能希望简单地执行如下操作:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="070a" class="lb lc jg me b gy mi mj l mk ml">{someData.map(item =&gt; &lt;div key={item.id}&gt;Hello!&lt;/div&gt;)}</span></pre><p id="0012" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我告诉您有一个内置的方法可以自动为您分配键，会怎么样呢？输入<code class="fe mm mn mo me b">React.Children.toArray()</code>。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="bf55" class="lb lc jg me b gy mi mj l mk ml">{React.Children.toArray(someData.map(item =&gt; &lt;div&gt;Hello!&lt;/div&gt;)}</span></pre><p id="0991" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mp">侧提示:</em> <a class="ae jd" href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318" rel="noopener"> <em class="mp">不要使用</em> </a> <code class="fe mm mn mo me b"><a class="ae jd" href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318" rel="noopener"><em class="mp">map()</em></a></code> <a class="ae jd" href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318" rel="noopener"> <em class="mp">指标。</em>T15】</a></p><h2 id="420c" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">2.片段速记</h2><p id="18cf" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">React片段使我们避免了额外的DOM元素，但是这种简写方式可以为您节省一些时间(和空间)。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="8583" class="lb lc jg me b gy mi mj l mk ml">// Long<br/>&lt;React.Fragment&gt;&lt;/React.Fragment&gt;</span><span id="f7ca" class="lb lc jg me b gy mq mj l mk ml">// Short<br/>&lt;&gt;&lt;/&gt;</span></pre><p id="e54d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当使用简写时，只要确保你的linter没有因为你使用它而尖叫，或者你的格式化程序错误地处理了简写并在你的代码中创建了一个随机的混乱。</p><h2 id="4c80" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">3.保持组件小</h2><p id="b008" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">保持你的组件小有助于你避免错误跟踪和代码滚动的噩梦。你的组件越小，就越容易测试，也就越容易让你的组件专注于它们真正应该做的事情。如果你的组件开始变大，重新评估逻辑，看看你是否能把其中的一部分移到实用程序、钩子中，或者甚至把那个组件分解成其他组件。</p><h2 id="5334" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">4.省略一个属性值默认为真</h2><p id="1a79" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">就像在HTML中为一个元素编写一个没有值的属性默认为true一样，省略一个组件的prop值也会默认为true。</p><p id="80d0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React文档显示下面的两条线通过<code class="fe mm mn mo me b">autocomplete</code>道具作为<code class="fe mm mn mo me b">true</code>。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="bb4f" class="lb lc jg me b gy mi mj l mk ml">&lt;MyTextBox autocomplete /&gt;<br/><br/>&lt;MyTextBox autocomplete={true} /&gt;</span></pre><p id="3e4b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，React团队<a class="ae jd" href="https://reactjs.org/docs/jsx-in-depth.html#props-default-to-true" rel="noopener ugc nofollow" target="_blank">警告不要使用这个</a>。</p><h2 id="ca97" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">5.保持你的专有名称简单</h2><p id="e2ce" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">有一些疯狂的道具名，但幸运的是，如果你的组件很小，你的道具名通常会跟在suite后面。</p><p id="a5ef" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些最流行的React组件库遵循一个通用的命名约定，选择保持它们的布尔属性简单:不使用前缀。我已经写了一篇关于命名布尔变量<a class="ae jd" href="https://medium.com/javascript-in-plain-english/naming-boolean-variables-prefixes-df973d7d7ec3" rel="noopener">的独立文章，在这里</a>可以帮助你命名这些类型的道具。</p><h2 id="5e5b" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">6.构造函数中不需要super()</h2><p id="c3ba" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果你在构造函数中没有对你的道具做任何事情，你可以安全地从你的构造函数中省略掉你的<code class="fe mm mn mo me b">super()</code>。不过，请注意<a class="ae jd" href="https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html" rel="noopener ugc nofollow" target="_blank">衍生状态警告</a>。</p><h2 id="3072" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">7.保持你的逻辑远离你的JSX</h2><p id="12c8" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果您的JSX中有一些逻辑正在运行，无论是回调还是一些元素的呈现，定义一个单独的函数对可读性有很大帮助。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="c49b" class="lb lc jg me b gy mi mj l mk ml">// Headache later, polluted with logic<br/>&lt;input onClick={event =&gt; {<br/>  // Some logic here<br/>}}/&gt;</span><span id="4ffe" class="lb lc jg me b gy mq mj l mk ml">// No headache later, easy to find and follow<br/>handler = event =&gt; {<br/>  // Some logic here<br/>}</span><span id="bc0a" class="lb lc jg me b gy mq mj l mk ml">&lt;input onClick={handler}/&gt;</span></pre><h2 id="ab73" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">8.功能组件可以被称为功能</h2><p id="6802" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这当然是一个技巧，如果你在公共项目中使用它，开发人员可能会讨厌你。这严格适用于功能组件。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="8729" class="lb lc jg me b gy mi mj l mk ml">&lt;SomeComponent/&gt; =&gt; SomeComponent()</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="a307" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你有它！#8纯粹是一个聚会诡计，如果你想炫耀它，确保告诉其他人它实际上节省了渲染时间(没有任何意义)。请在评论中提出你认为有用的其他建议或技巧。</p></div></div>    
</body>
</html>