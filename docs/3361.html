<html>
<head>
<title>How to Add Social Login to a React Native app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向React本地应用添加社交登录</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-social-login-2a7945fa19?source=collection_archive---------0-----------------------#2020-09-23">https://javascript.plainenglish.io/react-native-social-login-2a7945fa19?source=collection_archive---------0-----------------------#2020-09-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/1d2092fd6b721c5f7dbd7ea6638ab637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*neEXevXhM-60rvVifY4bJw.jpeg"/></div></figure><div class=""/><div class=""><h2 id="8c36" class="pw-subtitle-paragraph ju iw ix bd b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dk translated">一个关于如何在你的应用程序中添加脸书和谷歌认证的前端教程</h2></div><p id="02c5" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">使用您的社交媒体帐户来加快创建新应用程序和网络帐户的过程意味着在共享您的个人数据方面做出妥协，以便不必记住另一个用户名和密码。</p><p id="2f39" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">然而，<a class="ae li" href="https://marketingland.com/gigya-survey-88-of-u-s-consumers-say-they-have-used-social-logins-134933" rel="noopener ugc nofollow" target="_blank">大多数用户决定做出这种妥协</a>的事实意味着你绝对应该考虑在你的应用程序中加入社交登录，因为如果你不这样做，用户<a class="ae li" href="http://www.webhostingbuzz.com/blog/wp-content/uploads/2013/03/Who-s-sharing-what.jpg" rel="noopener ugc nofollow" target="_blank">可能永远不会费心安装你的应用程序</a>。</p><p id="1cdc" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">因此，在本教程中，我将带您了解如何在React本地前端应用程序中设置脸书和谷歌登录的步骤。</p><div class="lj lk ll lm gt ab cb"><figure class="ln is lo lp lq lr ls paragraph-image"><img src="../Images/262a5a246d63270485388101c2fa11a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/1*_X_xY5ez1A0rZFHFCRPTdA.gif"/></figure><figure class="ln is lt lp lq lr ls paragraph-image"><img src="../Images/0ab99baead7f349e273fdc64b06f14f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/1*yRe0ZzlvzhWXLXM_JvIblw.gif"/><figcaption class="lu lv gj gh gi lw lx bd b be z dk ly di lz ma">I recently added Facebook and Google authentication flow to my Social media UI theme</figcaption></figure></div></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="e80f" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko iy">社交媒体UI主题</strong>:这个演示是React原生社交媒体UI主题的一部分。你可以使用<a class="ae li" href="https://market.nativebase.io/view/react-native-social-networking-theme" rel="noopener ugc nofollow" target="_blank">这个链接</a>来测试和购买源代码。</p><p id="50d3" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko iy"> React Native资源:</strong>有兴趣在收件箱中接收我的React Native每周简讯，其中包含有趣的文章、教程、视频和资源吗？<a class="ae li" href="http://knowlephant.com/" rel="noopener ugc nofollow" target="_blank">在此报名</a>。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><blockquote class="mi mj mk"><p id="4fc5" class="km kn ml ko b kp kq jy kr ks kt kb ku mm kw kx ky mn la lb lc mo le lf lg lh ij bi translated"><strong class="ko iy">注意:</strong>下面的教程展示了在您的Expo客户端应用程序中安装谷歌和脸书登录的步骤。对于设置独立或弹出的Expo应用程序，这些说明可能略有不同。</p></blockquote><h1 id="0a71" class="mp mq ix bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">脸书认证</h1><p id="1e20" class="pw-post-body-paragraph km kn ix ko b kp nh jy kr ks ni kb ku kv nj kx ky kz nk lb lc ld nl lf lg lh ij bi translated">设置社交认证听起来可能很麻烦，但实际上并没有那么难。</p><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="nm nn l"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">With Expo‘s <a class="ae li" href="https://docs.expo.io/versions/latest/sdk/facebook/" rel="noopener ugc nofollow" target="_blank">Facebook Login</a> and <a class="ae li" href="https://docs.expo.io/versions/latest/sdk/google/" rel="noopener ugc nofollow" target="_blank">Google App Auth</a> SDKs any developer, beginner or experienced, can set this up.</figcaption></figure><p id="6bd6" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在你的应用中设置社交登录的最大挑战是注册你的<em class="ml">脸书应用id</em>和<em class="ml">谷歌客户端id。</em></p><p id="4712" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">所以先从这些说起。</p><h2 id="1be3" class="no mq ix bd mr np nq dn mv nr ns dp mz kv nt nu nb kz nv nw nd ld nx ny nf nz bi translated">注册脸书应用ID</h2><p id="ad11" class="pw-post-body-paragraph km kn ix ko b kp nh jy kr ks ni kb ku kv nj kx ky kz nk lb lc ld nl lf lg lh ij bi translated">脸书应用ID用于获得脸书的授权，以使用他们的API登录您的应用。为此，你必须首先在你的个人<a class="ae li" href="https://developers.facebook.com/" rel="noopener ugc nofollow" target="_blank">脸书开发者账户</a>中注册你的应用。</p><p id="3e67" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这个过程有3个步骤:</p><p id="8458" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">第一步:创建一个FB开发者账户。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/5b77ed537ab23313aa02a41140dc1b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*IxY6PDUzM8o8Y3KI54q8Mg.jpeg"/></div></figure><p id="fb0e" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko iy">第二步:</strong>新建一个app。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/774159363d69952af366689183a599e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*n_C_K7j3UUgeh2rHmoES6g.jpeg"/></div></figure><p id="7a12" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko iy">第三步:</strong>注册一个新的脸书应用ID。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ob"><img src="../Images/d03831a0ca562164f0aed246de24f0fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7guk58VbEsLYBTUJg7ghAQ.png"/></div></div></figure><p id="2cee" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，您应该会返回到您的应用仪表板，顶部会显示<em class="ml">应用ID </em>。</p><p id="8ec3" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，在你的应用的仪表盘中，点击<code class="fe og oh oi oj b">Setting → Basic</code>，然后点击<code class="fe og oh oi oj b">Add Platform → iOS</code>。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ok"><img src="../Images/0c93c54727272958717eff7a1c93fa6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Qjb0iFwA1INduP0eYootw.jpeg"/></div></div></figure><p id="f086" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<em class="ml"> iOS </em>块的<em class="ml"> Bundle ID </em>字段中，提供以下输入:<code class="fe og oh oi oj b">host.exp.Exponent</code></p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ol"><img src="../Images/c3f0eede7d4a14ce77ba89e5157dce7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rBuYQ5rxA9Fkqor_Jz4qQ.jpeg"/></div></div></figure><p id="783d" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">…让其余的保持原样。</p><blockquote class="mi mj mk"><p id="9a6c" class="km kn ml ko b kp kq jy kr ks kt kb ku mm kw kx ky mn la lb lc mo le lf lg lh ij bi translated"><strong class="ko iy">注意:</strong> <em class="ix">此</em>捆绑id <em class="ix">(上图)和</em>密钥散列<em class="ix">值(下图)仅适用于使用Expo Cli应用测试您的应用。在app store内发布的应用程序(独立应用程序)必须使用它们自己唯一的</em>捆绑ID <em class="ix">和</em>密钥散列<em class="ix">值。</em></p></blockquote><p id="117e" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">要设置您的Android权限，请对Android重复这些步骤。一旦要求输入<code class="fe og oh oi oj b">Key Hashes</code>值，插入以下字符串:<code class="fe og oh oi oj b">rRW++LUjmZZ+58EbN5DVhGAnkX4=</code></p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi om"><img src="../Images/625a2be3e50f22e0439c9ce8a07aeb51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uK-gHqZXlomUUds975tGAw.jpeg"/></div></div></figure><h2 id="ecb3" class="no mq ix bd mr np nq dn mv nr ns dp mz kv nt nu nb kz nv nw nd ld nx ny nf nz bi translated">使用世博会的脸书API处理登录</h2><p id="8c03" class="pw-post-body-paragraph km kn ix ko b kp nh jy kr ks ni kb ku kv nj kx ky kz nk lb lc ld nl lf lg lh ij bi translated">在我们继续申请我们的Google客户端id之前，让我们先写一些代码，看看脸书认证在我们的应用程序中的运行情况。</p><p id="c3f4" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">通过在命令行提示符下运行以下命令，开始在我们的应用程序中安装Expo的<code class="fe og oh oi oj b">expo-facebook</code> SDK:</p><pre class="lj lk ll lm gt on oj oo op aw oq bi"><span id="d653" class="no mq ix oj b gy or os l ot ou">$ expo install expo-facebook</span></pre><p id="64e9" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们在登录屏幕上添加一个脸书登录按钮:</p><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="ov nn l"/></div></figure><p id="1833" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">为了获得使用脸书SDK的许可，我们必须确保首先在<code class="fe og oh oi oj b">useEffect</code>中启动SDK。</p><ul class=""><li id="a353" class="ow ox ix ko b kp kq ks kt kv oy kz oz ld pa lh pb pc pd pe bi translated">要实现这一步，请确保能够访问我们之前创建的<em class="ml">脸书应用ID </em>。</li></ul><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="ov nn l"/></div></figure><blockquote class="mi mj mk"><p id="79ea" class="km kn ml ko b kp kq jy kr ks kt kb ku mm kw kx ky mn la lb lc mo le lf lg lh ij bi translated"><strong class="ko iy"> <em class="ix">注:</em> </strong> <em class="ix">在第一个参数中插入脸书</em> App ID <em class="ix">是可选的，但如果没有它，使用世博App测试登录时，所有登录尝试都会自动取消。</em></p><p id="e289" class="km kn ml ko b kp kq jy kr ks kt kb ku mm kw kx ky mn la lb lc mo le lf lg lh ij bi translated"><em class="ix">对于独立构建，您必须将</em> <code class="fe og oh oi oj b"><em class="ix">facebookScheme</em></code> <em class="ix">、</em><em class="ix">、</em> <code class="fe og oh oi oj b"><em class="ix">facebookDisplayName</em></code> <em class="ix">添加到您的</em> app.json <em class="ix">文件中，这些文件的值都可以在步骤4 </em>  <em class="ix">中找到。</em></p></blockquote><p id="61c3" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，通过使用以下代码添加一个新的facebookLoginPress处理函数来更新您的登录组件:</p><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="ov nn l"/></div></figure><p id="e00b" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这里发生的是，一旦我们按下FB登录按钮，用户被要求许可。一旦提供许可，呼叫将继续检查用户是否已经登录到安装在他们电话上的脸书应用程序:</p><ul class=""><li id="a75b" class="ow ox ix ko b kp kq ks kt kv oy kz oz ld pa lh pb pc pd pe bi translated">如果<em class="ml">是</em>，则返回一个令牌，该令牌可用于处理到主屏幕的导航。</li><li id="024e" class="ow ox ix ko b kp pf ks pg kv ph kz pi ld pj lh pb pc pd pe bi translated">如果<em class="ml">否</em>，则要求用户首先登录，之后提供令牌。</li></ul><p id="f0fc" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">有了提供的令牌，我们现在可以调用脸书API——参见上面的<em class="ml"> fbLogin </em>函数——来收集用户特定的数据，比如名称和profileImage url。</p><blockquote class="mi mj mk"><p id="08a5" class="km kn ml ko b kp kq jy kr ks kt kb ku mm kw kx ky mn la lb lc mo le lf lg lh ij bi translated">有关如何使用React上下文在React本地应用程序中创建流畅的登录体验的更多信息，请查看链接。</p></blockquote><p id="57c6" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">如果你想让脸书的登录对外界公开，那么请确保在你的FB dev帐户中设置你的登录应用程序为“live ”:</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi pk"><img src="../Images/228102440c2865eee878478fefbad683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ez2pHqyYX-Or4LtCsRl-8g.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Set this setting to ‘live’ to allow other users to use FB login in your app</figcaption></figure><p id="57a2" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">仅此而已。脸书登录已准备好测试。</p><h1 id="5154" class="mp mq ix bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">使用React Native登录Google</h1><p id="cc2a" class="pw-post-body-paragraph km kn ix ko b kp nh jy kr ks ni kb ku kv nj kx ky kz nk lb lc ld nl lf lg lh ij bi translated">Google身份验证的方法或多或少与上面类似。这意味着我们首先要在<a class="ae li" href="https://console.developers.google.com/apis/credentials" rel="noopener ugc nofollow" target="_blank">谷歌开发者控制台</a>内建立一个谷歌开发账户，在那里我们可以申请我们的<em class="ml">安卓客户端id </em>和<em class="ml"> iOS客户端id </em>。</p><p id="98de" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko iy">第一步:</strong>一旦进入点击<code class="fe og oh oi oj b">Select a project -&gt; New Project</code>。给你的新项目起个名字，然后点击<em class="ml">创建</em>。然后，您将被重定向回以下屏幕:</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi pl"><img src="../Images/a311535ca815b4dbb29b15a19bcf23c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6rcHu4OOGps4kFFUaoYtbQ.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">My android and iOS client ids are already installed</figcaption></figure><p id="a289" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko iy">第二步:</strong>点击<code class="fe og oh oi oj b">+ CREATE CREDENTIALS -&gt; oAuth client ID</code>。</p><p id="8f73" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">您将被要求转到<em class="ml">配置同意</em>屏幕。在这里，选择<code class="fe og oh oi oj b">External User Type</code>并按下<em class="ml">创建</em>。</p><p id="7a9d" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<em class="ml"> OAuth同意界面</em>中，只需提供您的申请名称，然后按<em class="ml">保存</em>。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi pm"><img src="../Images/55325b465817aa474f937ae3a85e4429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6VD1FA852D4UcTIZpRQNQ.png"/></div></div></figure><p id="4f09" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，点击<code class="fe og oh oi oj b">Credentials → + CREATE CREDENTIALS → oAuth client ID</code>并为您的应用类型选择<em class="ml"> Android </em>。</p><p id="d9bf" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<code class="fe og oh oi oj b">Package name</code>字段中，添加:<code class="fe og oh oi oj b">host.exp.exponent</code>(见下图)。</p><p id="8cec" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，转到命令行提示符，输入以下命令:</p><pre class="lj lk ll lm gt on oj oo op aw oq bi"><span id="ea94" class="no mq ix oj b gy or os l ot ou">$ openssl rand -base64 32 | openssl sha1 -c</span></pre><p id="0346" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这将返回一个字符串，您可以将它复制/粘贴到<br/> <code class="fe og oh oi oj b">SHA-1 certicicate fingerprint</code>字段中。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi pn"><img src="../Images/2ef1779de650d6faa71d965160dd77f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFwW023ynWvyzIe_LgPPeA.png"/></div></div></figure><p id="9927" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">…然后按下<em class="ml">创建</em>。</p><p id="8078" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">您将会看到一个客户端ID，您需要马上使用它。</p><p id="0cb8" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">至此，我们的Google app Android权限设置完成。要包含iOS权限，只需对iOS重复上述过程。</p><h1 id="d442" class="mp mq ix bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">使用世博会的Google API处理登录</h1><p id="751d" class="pw-post-body-paragraph km kn ix ko b kp nh jy kr ks ni kb ku kv nj kx ky kz nk lb lc ld nl lf lg lh ij bi translated">现在，让我们再写一些代码。</p><p id="07a1" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们通过添加第三个按钮来更新我们的登录按钮视图。为此，我们需要更新我们的登录屏幕:</p><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="ov nn l"/></div></figure><p id="25b3" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">准备好视图后，让我们继续登录处理程序。</p><p id="af5d" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们从使用<code class="fe og oh oi oj b">expo-google-app-auth</code> <a class="ae li" href="https://docs.expo.io/versions/latest/sdk/google/" rel="noopener ugc nofollow" target="_blank"> SDK </a>扩展我们的项目开始。为此，在您的终端中运行以下命令:</p><pre class="lj lk ll lm gt on oj oo op aw oq bi"><span id="f2d0" class="no mq ix oj b gy or os l ot ou">$ expo install expo-google-app-auth</span></pre><blockquote class="mi mj mk"><p id="d1ba" class="km kn ml ko b kp kq jy kr ks kt kb ku mm kw kx ky mn la lb lc mo le lf lg lh ij bi translated"><strong class="ko iy">注意:</strong> Expo提供了第二个GoogleSignIn SDK，它提供了许多额外的可访问性方法。然而，SDK不允许使用Expo客户端应用程序进行测试。Expo GoogleSignIn只能与独立的(在商店中发布的)Expo应用程序一起使用。</p></blockquote><p id="bc54" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，让我们编写我们的Google登录处理函数。为此，用以下代码更新您的登录屏幕。</p><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="ov nn l"/></div></figure><h1 id="fb45" class="mp mq ix bd mr ms mt mu mv mw mx my mz kd na ke nb kg nc kh nd kj ne kk nf ng bi translated">处理谷歌注销</h1><p id="a265" class="pw-post-body-paragraph km kn ix ko b kp nh jy kr ks ni kb ku kv nj kx ky kz nk lb lc ld nl lf lg lh ij bi translated">Expo的Google Auth SDK提供了自己的注销方法。通过这种方法，我们可以同时让用户从他们的谷歌服务账户中注销——这在脸书软件开发工具包中是不可能的。</p><p id="134d" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">因此，让我们在Home组件的注销处理程序中快速实现这一点:</p><figure class="lj lk ll lm gt is"><div class="bz fp l di"><div class="ov nn l"/></div></figure><p id="2a0c" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这样我们的设置就完成了。来吧，试一试！</p><p id="38ba" class="pw-post-body-paragraph km kn ix ko b kp kq jy kr ks kt kb ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">如果您觉得这篇文章很有用，您可能也会对我以前的一个教程感兴趣，这个教程重点介绍了如何使用React Native构建漂亮的登录屏幕:</p><ul class=""><li id="4ddc" class="ow ox ix ko b kp kq ks kt kv oy kz oz ld pa lh pb pc pd pe bi translated"><a class="ae li" href="https://medium.com/javascript-in-plain-english/creating-a-smooth-sign-in-and-logout-experience-with-react-native-62e5deffbff" rel="noopener">使用React Native创建流畅的登录和注销体验</a></li><li id="1791" class="ow ox ix ko b kp pf ks pg kv ph kz pi ld pj lh pb pc pd pe bi translated"><a class="ae li" href="https://medium.com/javascript-in-plain-english/how-to-build-animated-login-screens-with-react-native-edb81cb500aa" rel="noopener">如何用React Native构建动画登录屏幕</a></li></ul></div></div>    
</body>
</html>