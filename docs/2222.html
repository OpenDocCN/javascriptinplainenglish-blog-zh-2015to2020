<html>
<head>
<title>JavaScript Best Practices — Code Organization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—代码组织</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-best-practices-code-organization-e49e78132f66?source=collection_archive---------5-----------------------#2020-06-01">https://javascript.plainenglish.io/javascript-best-practices-code-organization-e49e78132f66?source=collection_archive---------5-----------------------#2020-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9dc4ec113dd330191ce262abbac56cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9vfs4pt-y0ydoQJq"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@ugmonk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jeff Sheldon</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f2ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但存在问题的代码很容易。</p><p id="bcf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看我们应该如何组织我们的JavaScript代码。</p><h1 id="34b1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">必须按特定顺序排列的语句</h1><p id="1c22" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该组织必须以特定顺序运行的代码，这样依赖性就很明显。</p><p id="6401" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写如下代码来编写需要首先运行的代码:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b4d4" class="mn lc iq mj b gy mo mp l mq mr">const subtotal = calcSubtotal();<br/>const taxes = calcTaxes(subtotal);<br/>const total = subtotal + taxes;</span></pre><p id="f85c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过上面的代码，我们知道我们需要计算小计，然后才能使用它来计算税金。</p><p id="7fc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们需要两者来计算总数。</p><p id="ebc3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另外，<code class="fe ms mt mu mj b">calcTaxes</code>的参数是<code class="fe ms mt mu mj b">subtotal</code>，这样我们就知道<code class="fe ms mt mu mj b">subtotal</code>是<code class="fe ms mt mu mj b">calcTaxes</code>的依赖项。</p><h1 id="b18a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用注释记录不清楚的依赖关系</h1><p id="77e0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果依赖关系不清楚，那么我们需要用注释来澄清它们。</p><p id="6cbf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们没有<code class="fe ms mt mu mj b">calcTaxes</code>的参数，那么我们可能必须在注释中解释。</p><p id="eeb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2054" class="mn lc iq mj b gy mo mp l mq mr">/*<br/> 1. calculate subtotal<br/>  2. calculate taxes<br/>  3. calculate total<br/> */<br/>const subtotal = calcSubtotal();<br/>const taxes = calcTaxes();<br/>const total = subtotal + taxes;</span></pre><h1 id="913f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查断言或错误处理代码的依赖性</h1><p id="eb2d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们的代码序列有依赖关系，那么我们希望在继续下一步之前检查它们。</p><p id="49f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可能想要编写断言或错误处理代码，以在继续之前检查所需的值是否可用。</p><p id="091d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7605" class="mn lc iq mj b gy mo mp l mq mr">const length = calcLength();<br/>const width = calcWidth();<br/>if (length &gt;= 0 &amp;&amp; width &gt;= 0) {<br/>  let area = length * width;<br/>}</span></pre><p id="038e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在通过将<code class="fe ms mt mu mj b">length</code>和<code class="fe ms mt mu mj b">width</code>相乘来计算面积之前，我们检查<code class="fe ms mt mu mj b">length</code>和<code class="fe ms mt mu mj b">width</code>是否为0或更大。</p><p id="4b1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们正在编写一个节点应用程序，我们也可以使用<code class="fe ms mt mu mj b">assert</code>模块来检查我们想要检查的条件。</p><h1 id="2685" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使代码从上到下阅读</h1><p id="1981" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们有顺序很重要的代码，那么我们可以从顶部和底部读取代码。</p><p id="ce15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以轻松地阅读代码，而不用在页面上上下跳动。</p><p id="ea86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9ebc" class="mn lc iq mj b gy mo mp l mq mr">travelData.calcQuarterlyRevenue();<br/>salesData.calcQuarterlyRevenue();<br/>marketingData.calcQuarterlyRevenue();</span><span id="a3cc" class="mn lc iq mj b gy mv mp l mq mr">travelData.calcAnnualRevenue();<br/>salesData.calcAnnualRevenue();<br/>marketingData.calcAnnualRevenue();</span></pre><p id="01e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以通过将季度计算和年度计算组合在一起，按顺序读取它们。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/83017e00c6b51c5933bfd3bb77dc9ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fnj8-bsB9DwWXLly"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@dannyazzo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dan Azzopardi</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2746" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">分组相关语句</h1><p id="0f47" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">将相关语句分组也很重要。把相关的陈述放在一起让我们一起阅读。</p><p id="9478" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">阅读相互重叠的不相关代码是很困难的，因为我们不得不跳来跳去地阅读。</p><h1 id="4e64" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b0a6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该以一种方式组织我们的代码，这样我们就不必在页面上跳来跳去地阅读我们的代码。</p><p id="be30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们应该将相关的语句分组在一起，以便我们可以一起阅读相关的语句。</p><p id="5f5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还应该添加断言和错误处理代码，以便我们知道运行断言之后的代码需要什么。</p><h2 id="8285" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简明英语笔记</strong></h2><p id="4181" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们推出了一个YouTube频道吗？我们制作的每个视频都旨在教给你一些新的东西。点击 点击<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">查看我们，并确保订阅该频道😎</strong></a></p></div></div>    
</body>
</html>