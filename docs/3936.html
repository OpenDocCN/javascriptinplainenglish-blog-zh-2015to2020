<html>
<head>
<title>Exporting Static HTML From A Next.js 10 Site</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Next.js 10站点导出静态HTML</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/exporting-static-html-from-a-nextjs-10-site-93da6db3457c?source=collection_archive---------11-----------------------#2020-11-04">https://javascript.plainenglish.io/exporting-static-html-from-a-nextjs-10-site-93da6db3457c?source=collection_archive---------11-----------------------#2020-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="io ip gp gr iq ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/94f63491d000c0b06f766316a6d65608.png" data-original-src="https://miro.medium.com/v2/0*aML99gqWV5V9t-Ki"/></div></figure><div class=""/><p id="1ac2" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这篇博文中，我们将从Next.js 10开始，导出一个可以在S3托管的静态站点。</p><p id="5bb3" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你想让网站在你的AWS账户上运行，这篇文章与合作伙伴关于使用AWS TypeScript CDK<a class="ae ks" href="https://blog.dennisokeeffe.com/blog/2020-11-04-deploying-websites-to-aws-s3-with-the-cdk/" rel="noopener ugc nofollow" target="_blank">在S3部署静态网站的文章一起发表。</a></p><p id="0475" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kt">注意:对于为NextJS应用程序导出静态HTML，有支持和反对的理由。这些需求可能因人而异。关于使用静态导出特性的最新注意事项，请参见NextJS关于静态HTML导出的文档。</em></p><h2 id="c54f" class="ku kv ix bd kw kx ky dn kz la lb dp lc kf ld le lf kj lg lh li kn lj lk ll lm bi translated">入门指南</h2><p id="7748" class="pw-post-body-paragraph ju jv ix jw b jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn lr kp kq kr ij bi translated">我们将使用最新的<code class="fe ls lt lu lv b">create-next-app</code>部署让事情运转起来。</p><figure class="lw lx ly lz gt ir"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="ce48" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦运行，在<code class="fe ls lt lu lv b">next-10-static-export</code>中将会有一个新的文件夹来存放您的NextJS 10应用程序。</p><h2 id="0424" class="ku kv ix bd kw kx ky dn kz la lb dp lc kf ld le lf kj lg lh li kn lj lk ll lm bi translated">构建应用程序</h2><p id="f989" class="pw-post-body-paragraph ju jv ix jw b jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn lr kp kq kr ij bi translated">调整您的应用程序的<code class="fe ls lt lu lv b">package.json</code>文件，以添加一个新的导出脚本:</p><figure class="lw lx ly lz gt ir"><div class="bz fp l di"><div class="ma mb l"/></div></figure><h2 id="8f2b" class="ku kv ix bd kw kx ky dn kz la lb dp lc kf ld le lf kj lg lh li kn lj lk ll lm bi translated">构建和导出网站</h2><p id="3ace" class="pw-post-body-paragraph ju jv ix jw b jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn lr kp kq kr ij bi translated">在<code class="fe ls lt lu lv b">pages/index.js</code>下，我将对项目做一些小的调整，并添加一小段，说明<strong class="jw iy">该页面已经更新，以显示如何从NextJS 10项目</strong>中构建和导出静态HTML。</p><p id="50aa" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在进行任何您想要的调整后，从根目录运行以下命令:</p><figure class="lw lx ly lz gt ir"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="3bda" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦运行了这两个命令，您会注意到现在已经创建了一个<code class="fe ls lt lu lv b">_next</code>和<code class="fe ls lt lu lv b">out</code>目录。</p><p id="88d8" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><code class="fe ls lt lu lv b">out</code>目录是<code class="fe ls lt lu lv b">next export</code>将资产移动到的地方。</p><h2 id="5d60" class="ku kv ix bd kw kx ky dn kz la lb dp lc kf ld le lf kj lg lh li kn lj lk ll lm bi translated">看到最终产品</h2><p id="61c0" class="pw-post-body-paragraph ju jv ix jw b jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn lr kp kq kr ij bi translated">我们现在可以在本地提供这些资产，以查看构建的运行情况。</p><p id="0976" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你还没有的话，我推荐你在全球范围内安装<a class="ae ks" href="https://github.com/vercel/serve" rel="noopener ugc nofollow" target="_blank"> Vercel的Serve包</a>来支持<code class="fe ls lt lu lv b">out</code>目录。这可以用<code class="fe ls lt lu lv b">npm i -g serve</code>来完成。</p><p id="b549" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，从根目录运行<code class="fe ls lt lu lv b">serve out</code>,您将看到一个发布到终端的URL，向您显示网站是从哪里提供服务的(通常是localhost端口5000，除非繁忙)。</p><p id="4ccf" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">前往该网站，您将看到以下内容:</p><figure class="lw lx ly lz gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/a89e3718a95b17d0c9de9c263ef83f61.png" data-original-src="https://miro.medium.com/v2/0*5EuWmagQ4b75btuo"/></div></figure><p id="61a6" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">恭喜你。您已经有了静态导出的站点。</p><h2 id="2325" class="ku kv ix bd kw kx ky dn kz la lb dp lc kf ld le lf kj lg lh li kn lj lk ll lm bi translated">下一步是什么？</h2><p id="63a2" class="pw-post-body-paragraph ju jv ix jw b jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn lr kp kq kr ij bi translated">如果您想了解如何使用AWS TypeScript CDK将您的网站部署到AWS S3，请前往<a class="ae ks" href="https://blog.dennisokeeffe.com/blog/2020-11-04-deploying-websites-to-aws-s3-with-the-cdk/" rel="noopener ugc nofollow" target="_blank">合作伙伴帖子</a>并继续。</p><h2 id="3147" class="ku kv ix bd kw kx ky dn kz la lb dp lc kf ld le lf kj lg lh li kn lj lk ll lm bi translated">资源</h2><ol class=""><li id="442c" class="mc md ix jw b jx ln kb lo kf me kj mf kn mg kr mh mi mj mk bi translated"><a class="ae ks" href="https://github.com/vercel/serve" rel="noopener ugc nofollow" target="_blank">维尔塞尔的发球包</a></li><li id="bea4" class="mc md ix jw b jx ml kb mm kf mn kj mo kn mp kr mh mi mj mk bi translated"><a class="ae ks" href="https://nextjs.org/docs/advanced-features/static-html-export#caveats" rel="noopener ugc nofollow" target="_blank"> NextJS静态出口警告</a></li><li id="19f4" class="mc md ix jw b jx ml kb mm kf mn kj mo kn mp kr mh mi mj mk bi translated"><a class="ae ks" href="https://blog.dennisokeeffe.com/blog/2020-11-04-deploying-websites-to-aws-s3-with-the-cdk/" rel="noopener ugc nofollow" target="_blank">使用AWS类型脚本CDK将NextJS部署到AWS S3</a></li><li id="fc56" class="mc md ix jw b jx ml kb mm kf mn kj mo kn mp kr mh mi mj mk bi translated"><a class="ae ks" href="https://nextjs-10-static-example.dennisokeeffe.com" rel="noopener ugc nofollow" target="_blank">最后，通过部署博客进行实时网站部署</a></li><li id="3c45" class="mc md ix jw b jx ml kb mm kf mn kj mo kn mp kr mh mi mj mk bi translated"><a class="ae ks" href="https://github.com/okeeffed/nextjs-10-static-deployment-with-typescript-aws-cdk" rel="noopener ugc nofollow" target="_blank">最终代码</a></li></ol><p id="6ef8" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kt">图片来源:</em><a class="ae ks" href="https://unsplash.com/@isiparente" rel="noopener ugc nofollow" target="_blank"><em class="kt">Isi Parente</em></a></p><p id="6232" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="kt">原贴于我的</em> <a class="ae ks" href="https://blog.dennisokeeffe.com/blog/2020-11-04-exporting-static-nextjs-10-websites/" rel="noopener ugc nofollow" target="_blank"> <em class="kt">博客</em> </a> <em class="kt">。</em></p></div></div>    
</body>
</html>