<html>
<head>
<title>Add Simple State Management with Vuex</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vuex添加简单的状态管理</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/add-simple-state-management-with-vuex-2fada2133a8b?source=collection_archive---------10-----------------------#2020-04-28">https://javascript.plainenglish.io/add-simple-state-management-with-vuex-2fada2133a8b?source=collection_archive---------10-----------------------#2020-04-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/141040be48f90fb8bb05e292bcd5b37b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jj1Fe2YuYJF3iHiI"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@heidifin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Heidi Fin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="60e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用框架，我们可以用它来开发交互式前端应用。</p><p id="2cb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">借助Vuex，我们可以将Vue应用的状态存储在一个中心位置。</p><p id="5df8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何将Vuex添加到我们的应用程序中，并添加一个简单的商店。</p><h1 id="f5ba" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Vuex是什么？</h1><p id="bf9a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vuex用于在一个中心位置存储多个组件所需的状态。</p><p id="8f0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它允许我们获取和设置共享状态，并将对共享状态的任何更改自动传播到所有组件。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/a29b38b6ca5b5f2612a0ffc79c2cd98a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIoNyRO6s_52W68Y-0usJw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Courtesy of <a class="ae kc" href="https://vuex.vuejs.org/" rel="noopener ugc nofollow" target="_blank">https://vuex.vuejs.org/</a></figcaption></figure><p id="e159" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的工作流程图中，我们可以看到，当我们从后端API获得一些东西时，我们的代码会提交Vuex突变。</p><p id="4ecb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该突变将使用后端API数据更新状态，并且状态将在我们的Vue组件中更新。</p><p id="6995" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以从Vue组件调度突变来改变Vuex存储状态。这种改变将传播到所有可以访问存储的组件。</p><h1 id="3d76" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">入门指南</h1><p id="2581" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在HTML代码中包含带有<code class="fe mj mk ml mm b">script</code>标签的Vuex:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="1da2" class="mr lc iq mm b gy ms mt l mu mv">&lt;script src="<a class="ae kc" href="https://unpkg.com/vuex" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vuex</a>"&gt;&lt;/script&gt;</span></pre><p id="9178" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用<code class="fe mj mk ml mm b">Vuex.Store</code>创建一个简单的商店，如下所示:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="1697" class="mr lc iq mm b gy ms mt l mu mv">const store = new Vuex.Store({<br/>  state: {<br/>    count: 0<br/>  },<br/>  mutations: {<br/>    increase(state) {<br/>      state.count++;<br/>    }<br/>  }<br/>});</span></pre><p id="0074" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码是一个存储州名<code class="fe mj mk ml mm b">count</code>的商店。</p><p id="1ebd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过运行以下命令提交<code class="fe mj mk ml mm b">increase</code>变异:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="80d4" class="mr lc iq mm b gy ms mt l mu mv">store.commit("increase");</span></pre><p id="9b1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过运行以下命令获得突变完成后的状态:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="48f7" class="mr lc iq mm b gy ms mt l mu mv">console.log(store.state.count);</span></pre><p id="dc9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">store.state.count</code>是Vuex商店的<code class="fe mj mk ml mm b">count</code>状态。然后我们应该看到1记录。</p><h1 id="dc03" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将Vuex状态放入Vue组件</h1><p id="8b2e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过添加一个计算属性将状态保存到我们的存储中。</p><p id="5529" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，要将状态添加到我们的存储中，我们可以编写以下代码:</p><p id="7bf4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.js</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="ed3a" class="mr lc iq mm b gy ms mt l mu mv">const store = new Vuex.Store({<br/>  state: {<br/>    count: 0<br/>  },<br/>  mutations: {<br/>    increase(state) {<br/>      state.count++;<br/>    }<br/>  }<br/>});</span><span id="4a20" class="mr lc iq mm b gy mw mt l mu mv">new Vue({<br/>  el: "#app",<br/>  computed: {<br/>    count() {<br/>      return store.state.count;<br/>    }<br/>  }<br/>});</span></pre><p id="501e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.html</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="67b3" class="mr lc iq mm b gy ms mt l mu mv">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vuex" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vuex</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;{{count}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="9fa2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们应该看到显示0，因为<code class="fe mj mk ml mm b">count</code>在<code class="fe mj mk ml mm b">store</code>中最初是0。</p><p id="955a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后每当<code class="fe mj mk ml mm b">store.state.count</code>更新时，计算的属性将被更新，视图将使用新值更新。</p><p id="1044" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将商店注入所有子组件的一个更方便的方法是在根组件中添加<code class="fe mj mk ml mm b">store</code>,如下所示:</p><p id="6903" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.js</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="4a6f" class="mr lc iq mm b gy ms mt l mu mv">const store = new Vuex.Store({<br/>  state: {<br/>    count: 0<br/>  },<br/>  mutations: {<br/>    increase(state) {<br/>      state.count++;<br/>    }<br/>  }<br/>});</span><span id="1c8e" class="mr lc iq mm b gy mw mt l mu mv">new Vue({<br/>  el: "#app",<br/>  store<br/>});</span></pre><p id="84c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.html</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="648f" class="mr lc iq mm b gy ms mt l mu mv">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vuex" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vuex</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;{{$store.state.count}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="5c35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么它将对所有子组件可用，我们不必担心为每个值添加计算属性。</p><p id="6571" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它与子组件一起工作，没有太大的变化:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="37f6" class="mr lc iq mm b gy ms mt l mu mv">const store = new Vuex.Store({<br/>  state: {<br/>    count: 0<br/>  },<br/>  mutations: {<br/>    increase(state) {<br/>      state.count++;<br/>    }<br/>  }<br/>});</span><span id="e81d" class="mr lc iq mm b gy mw mt l mu mv">Vue.component("counter", {<br/>  template: `&lt;div&gt;{{ count }}&lt;/div&gt;`,<br/>  computed: {<br/>    count() {<br/>      return this.$store.state.count;<br/>    }<br/>  }<br/>});</span><span id="97b5" class="mr lc iq mm b gy mw mt l mu mv">new Vue({<br/>  el: "#app",<br/>  store<br/>});</span></pre><p id="d7eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">this.$store</code>可用于<code class="fe mj mk ml mm b">counter</code>组件，只需将其包含在根Vue组件中。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/a330abf8e527f6d0c4ab972510cbd253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zlQbMVno3YE6ii-v"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mercantile?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Clark Street Mercantile</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="9341" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">mapState助手</h1><p id="e04f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了避免为存储中的每个状态添加新的计算属性，我们可以使用<code class="fe mj mk ml mm b">mapState</code>助手来添加它。例如，我们可以编写以下代码来实现这一点:</p><p id="4ea9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.js</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="5c4d" class="mr lc iq mm b gy ms mt l mu mv">const store = new Vuex.Store({<br/>  state: {<br/>    count: 0<br/>  },<br/>  mutations: {<br/>    increase(state) {<br/>      state.count++;<br/>    }<br/>  }<br/>});</span><span id="7912" class="mr lc iq mm b gy mw mt l mu mv">Vue.component("counter", {<br/>  data() {<br/>    return {<br/>      localCount: 1<br/>    };<br/>  },<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;div&gt;{{ count }}&lt;/div&gt;<br/>      &lt;div&gt;{{ countAlias }}&lt;/div&gt;<br/>      &lt;div&gt;{{ countPlusLocal }}&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  `,<br/>  computed: Vuex.mapState({<br/>    count: state =&gt; state.count,<br/>    countAlias: "count",<br/>    countPlusLocal(state) {<br/>      return state.count + this.localCount;<br/>    }<br/>  })<br/>});</span><span id="2293" class="mr lc iq mm b gy mw mt l mu mv">new Vue({<br/>  el: "#app",<br/>  store<br/>});</span></pre><p id="bd5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.html</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="6897" class="mr lc iq mm b gy ms mt l mu mv">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vuex" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vuex</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;counter&gt;&lt;/counter&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="b3e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们看到:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="1f7f" class="mr lc iq mm b gy ms mt l mu mv">0</span><span id="25cb" class="mr lc iq mm b gy mw mt l mu mv">0</span><span id="4750" class="mr lc iq mm b gy mw mt l mu mv">1</span></pre><p id="d740" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们对<code class="fe mj mk ml mm b">mapState</code>的称呼如下:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="f9a9" class="mr lc iq mm b gy ms mt l mu mv">computed: Vuex.mapState({<br/>  count: state =&gt; state.count,<br/>  countAlias: "count",<br/>  countPlusLocal(state) {<br/>    return state.count + this.localCount;<br/>  }<br/>})</span></pre><p id="8219" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="a8f5" class="mr lc iq mm b gy ms mt l mu mv">count: state =&gt; state.count,</span></pre><p id="2a00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它从存储中获取<code class="fe mj mk ml mm b">count</code>状态并返回它。<code class="fe mj mk ml mm b">count</code>是0，所以我们得到0。</p><p id="914f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="3c09" class="mr lc iq mm b gy ms mt l mu mv">countAlias: "count"</span></pre><p id="348e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是以下内容的简写:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="7b1e" class="mr lc iq mm b gy ms mt l mu mv">count: state =&gt; state.count</span></pre><p id="4aaa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们有:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="17b9" class="mr lc iq mm b gy ms mt l mu mv">countPlusLocal(state) {<br/>  return state.count + this.localCount;<br/>}</span></pre><p id="86f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它将商店中的<code class="fe mj mk ml mm b">state.count</code>加到<code class="fe mj mk ml mm b">this.localCount</code>，我们将其设为1。</p><h1 id="642e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对象扩展算子</h1><p id="6cb4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过对<code class="fe mj mk ml mm b">mapState</code>应用扩展运算符，将本地计算的属性与<code class="fe mj mk ml mm b">mapState</code>结合起来，如下所示:</p><p id="1504" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mj mk ml mm b">index.js</code>:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="40d7" class="mr lc iq mm b gy ms mt l mu mv">const store = new Vuex.Store({<br/>  state: {<br/>    count: 0<br/>  },<br/>  mutations: {<br/>    increase(state) {<br/>      state.count++;<br/>    }<br/>  }<br/>});</span><span id="511c" class="mr lc iq mm b gy mw mt l mu mv">Vue.component("counter", {<br/>  data() {<br/>    return {<br/>      localCount: 1<br/>    };<br/>  },<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;div&gt;{{ count }}&lt;/div&gt;<br/>      &lt;div&gt;{{ foo }}&lt;/div&gt;      <br/>    &lt;/div&gt;<br/>  `,<br/>  computed: {<br/>    foo() {<br/>      return 2;<br/>    },<br/>    ...Vuex.mapState({<br/>      count: "count"<br/>    })<br/>  }<br/>});</span><span id="618e" class="mr lc iq mm b gy mw mt l mu mv">new Vue({<br/>  el: "#app",<br/>  store<br/>});</span></pre><p id="e0c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mf mg mh mi gt mn mm mo mp aw mq bi"><span id="ad3b" class="mr lc iq mm b gy ms mt l mu mv">0</span><span id="8771" class="mr lc iq mm b gy mw mt l mu mv">2</span></pre><p id="0e1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示，因为<code class="fe mj mk ml mm b">foo</code>总是返回2。</p><h1 id="7897" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">组件仍然可以有本地状态</h1><p id="86ae" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">组件仍然可以有自己的本地状态，所以我们不必把所有东西都放在Vuex存储中。</p><h1 id="ab3e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="c20d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在我们的应用程序中添加一个Vuex store来存储由多个组件共享的应用程序的状态。</p><p id="a62a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使状态变得容易，我们可以将商店包含在根Vue组件中。</p><p id="f268" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe mj mk ml mm b">mapState</code>助手来获得我们想要的任何组件的状态。</p><p id="70e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用<code class="fe mj mk ml mm b">computed</code>对象中的spread操作符将它与本地状态结合起来。</p><h2 id="8cad" class="mr lc iq bd ld my mz dn lh na nb dp ll ko nc nd lp ks ne nf lt kw ng nh lx ni bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="30d4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们已经推出了三种新的出版物！为我们的新出版物献上一点爱心吧，请跟随他们:<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>——谢谢，继续学习！</p><p id="d6d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至:<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，使用您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>