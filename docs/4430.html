<html>
<head>
<title>How to Add Emoji to Your Angular application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将表情符号添加到您的Angular应用程序中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/add-emoji-to-your-angular-application-c753e0d5cf84?source=collection_archive---------0-----------------------#2020-12-11">https://javascript.plainenglish.io/add-emoji-to-your-angular-application-c753e0d5cf84?source=collection_archive---------0-----------------------#2020-12-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9e88ac16ea0f6a4f462586fae0ca4107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FyVhSK0tmpNpCmqO"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@denic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Denis Cherkashin</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ce1e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如今，逃脱表情符号是不可能的。我们被表达我们感情的微笑所包围，或者微笑的唯一目的是缩短我们的句子。</p><p id="94ce" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你是否在笑😂或者你收到的信息是否让你感到震惊😱，你已经可以通过添加我们所说的表情符号来表达这些情绪了。</p><p id="85c7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，在本文中，我们将会看到如何将这些漂亮的表情符号添加到我们的Angular项目中。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h2 id="fddb" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">准备我们的环境</h2><p id="2d98" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">创建项目、生成应用程序和库代码、执行测试、构建和部署等任务都依赖于Angular CLI。</p><p id="523c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要安装Angular CLI，请打开终端并运行以下命令:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="265b" class="lf lg in mi b gy mm mn l mo mp">npm install -g @angular/cli</span></pre><p id="2800" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此时，我们通过运行以下命令来创建我们的工作区:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="4699" class="lf lg in mi b gy mm mn l mo mp">cd ~<br/>ng new emoji-app</span></pre><p id="26fa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用ng new命令，将会根据您安装的Angular CLI版本询问您一系列问题，您可以接受默认值。</p><p id="6764" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你应该回答的典型问题:</p><ul class=""><li id="25f2" class="mq mr in kc b kd ke kh ki kl ms kp mt kt mu kx mv mw mx my bi translated"><em class="mz">您想要添加角度路由吗？是的</em></li><li id="c40c" class="mq mr in kc b kd na kh nb kl nc kp nd kt ne kx mv mw mx my bi translated"><em class="mz">您想使用哪种样式表格式？</em> SCSS</li></ul><p id="0de7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这可能需要几分钟时间。</p><h2 id="ba35" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">你好世界</h2><p id="a5f1" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">创建项目后，我们要做的第一件事就是启动它，并查看默认情况下我们的工作区中有什么。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="e0fe" class="lf lg in mi b gy mm mn l mo mp">cd emoji-app<br/>ng serve</span></pre><p id="6cbf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此时，打开浏览器并导航至:<code class="fe nf ng nh mi b"><a class="ae jz" href="http://localhost:4200/" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/</a></code></p><p id="f090" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如你所见，Angular的CLI非常友好，为我们创建了一个默认页面，并立即显示在浏览器上。</p><h2 id="8aa5" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">必要的依赖关系</h2><p id="2fe2" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">为了实现我们的目标，我们将使用模块:“<a class="ae jz" href="https://www.npmjs.com/package/@ctrl/ngx-emoji-mart" rel="noopener ugc nofollow" target="_blank"> ngx-emoji-mart </a>”。</p><p id="858d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">作为第一步，我们将安装以下依赖项:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="a550" class="lf lg in mi b gy mm mn l mo mp">npm install @ctrl/ngx-emoji-mart --save</span></pre><p id="cb13" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此时，在<code class="fe nf ng nh mi b">package.json</code>中的“dependencies”属性下，您应该能够看到与此非常相似的内容:<code class="fe nf ng nh mi b">@ctrl/ngx-emoji-mart: ^4.1.0</code>。</p><p id="c3ae" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此时，我们在<code class="fe nf ng nh mi b">app.module.ts</code>和FormsModule中添加了对新模块的引用，以便正确使用所有的角度指令。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="6c0f" class="lf lg in mi b gy mm mn l mo mp">import { BrowserModule } from '@angular/platform-browser';<br/>import { NgModule } from '@angular/core';<br/>import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { FormsModule } from '@angular/forms';</span><span id="a5b9" class="lf lg in mi b gy ni mn l mo mp">import { PickerModule } from '@ctrl/ngx-emoji-mart';</span><span id="366a" class="lf lg in mi b gy ni mn l mo mp">@NgModule({<br/>   declarations: [<br/>      AppComponent<br/>   ],<br/>   imports: [<br/>      PickerModule,<br/>      FormsModule,<br/>      BrowserModule,<br/>      AppRoutingModule<br/>   ],<br/>   providers: [],<br/>   bootstrap: [AppComponent]<br/>})</span><span id="a72d" class="lf lg in mi b gy ni mn l mo mp">export class AppModule { }</span></pre><p id="7a9e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将CSS导入到我们项目<code class="fe nf ng nh mi b">angular.json</code>的配置文件中的字段<code class="fe nf ng nh mi b">projects.emoji-app.architect.build.styles</code>下。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="fe09" class="lf lg in mi b gy mm mn l mo mp">...</span><span id="7578" class="lf lg in mi b gy ni mn l mo mp">"styles": [<br/>   "src/styles.scss",<br/>   "node_modules/@ctrl/ngx-emoji-mart/picker.css"<br/>]</span><span id="7f2e" class="lf lg in mi b gy ni mn l mo mp">...</span></pre><p id="2a45" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">或者，您也可以在<code class="fe nf ng nh mi b">src/styles.scss</code>文件中导入CSS，如下所示:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="0509" class="lf lg in mi b gy mm mn l mo mp"><strong class="mi io">@import</strong> '~@ctrl/ngx-emoji-mart/picker';</span></pre><h2 id="fec2" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">让我们对模板进行编码</h2><p id="6289" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">虽然在生成过程中在<code class="fe nf ng nh mi b">app.component.html</code>中创建了一个默认模板，但是我们从自动生成的模板中清除了代码，并继续创建一个带有添加图标按钮的文本区域。</p><p id="79b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将在输入内容的正下方显示编译后的文本。</p><p id="153f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">让我们为我们的</strong> <code class="fe nf ng nh mi b"><strong class="kc io">app.component.html</strong></code> <strong class="kc io">页面创建一个标题和下面的一个小段落。</strong></p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="f937" class="lf lg in mi b gy mm mn l mo mp">&lt;h1&gt;Angular Emoji&lt;/h1&gt;<br/>&lt;p&gt;This is where the magic happens&lt;/p&gt;</span></pre><p id="72b9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这一点上，我们添加我们的文本区域。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="0009" class="lf lg in mi b gy mm mn l mo mp">&lt;textarea placeholder="Type a message" type="text" name="textarea" [(ngModel)]="textArea"&gt;&lt;/textarea&gt;</span></pre><p id="6fab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">以及<code class="fe nf ng nh mi b">app.component.ts</code>中的变量“textArea”。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="d389" class="lf lg in mi b gy mm mn l mo mp">public textArea: string = '';</span></pre><p id="12ef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此时，剩下的就是利用我们安装的模块了。<br/>然后我们在文本区域后添加一个按钮来激活表情选择器和表情集市指令</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="ec54" class="lf lg in mi b gy mm mn l mo mp">&lt;button (click)="isEmojiPickerVisible = !isEmojiPickerVisible;"&gt;😀&lt;/button&gt;<br/>&lt;br&gt;</span><span id="cac7" class="lf lg in mi b gy ni mn l mo mp">&lt;emoji-mart class="emoji-mart" *ngIf="isEmojiPickerVisible" (emojiSelect)="addEmoji($event)" title="Choose your emoji"&gt;&lt;/emoji-mart&gt;</span></pre><p id="f2b9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">显然，正如可能观察到的那样，使用了一些还没有出现在我们的typescript组件中的变量。</p><p id="f448" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">出于这个原因，让我们转到<code class="fe nf ng nh mi b">app.component.ts</code>，用布尔<code class="fe nf ng nh mi b">isEmojiPickerVisible</code>和<code class="fe nf ng nh mi b">addEmoji </code>方法完成我们的组件</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="23a8" class="lf lg in mi b gy mm mn l mo mp">export class AppComponent {<br/>   <br/>   public textArea: string = '';<br/>   public isEmojiPickerVisible: boolean;</span><span id="e373" class="lf lg in mi b gy ni mn l mo mp">   public addEmoji(event) {<br/>      this.textArea = `${this.textArea}${event.emoji.native}`;<br/>      this.isEmojiPickerVisible = false;<br/>   }</span><span id="57c4" class="lf lg in mi b gy ni mn l mo mp">}</span></pre><p id="8e1e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">addEmoji方法的基本功能就是输入所选表情符号的值，然后再次关闭选取器(根据您希望选取器具有的行为，您可以对代码行进行注释或不进行注释)。</p><h2 id="bc25" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated"><strong class="ak">咱们的风格</strong></h2><p id="b8d3" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">和任何事情一样，让一个布局看起来更顺眼一点，永远是一个不可小觑的方面，哪怕是一个简单的教程。</p><p id="99d2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">具体来说，我们转到我们的<code class="fe nf ng nh mi b">app.component.scss</code>并添加以下代码。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="fa46" class="lf lg in mi b gy mm mn l mo mp">.container {<br/>   display: grid;<br/>   grid-template-columns: 100% 0%;<br/>   width: 36%;<br/>   <br/>   button {<br/>      background: transparent;<br/>      border: 0;<br/>      transform: translateX(-40px);<br/>      cursor: pointer;<br/>      &amp;:focus {<br/>         outline: 0;<br/>      }<br/>   }<br/>}</span></pre><p id="6c8c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">确保您已经用类“container”将textarea和按钮包含在一个div中，如下所示。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="dbc4" class="lf lg in mi b gy mm mn l mo mp">&lt;div class="container"&gt;</span><span id="7aa5" class="lf lg in mi b gy ni mn l mo mp">   &lt;textarea placeholder="Type a message" type="text" name="textarea" [(ngModel)]="textArea"&gt;&lt;/textarea&gt;</span><span id="2f86" class="lf lg in mi b gy ni mn l mo mp">   &lt;button (click)="isEmojiPickerVisible = !isEmojiPickerVisible;"&gt;😀&lt;/button&gt;</span><span id="db5b" class="lf lg in mi b gy ni mn l mo mp">&lt;/div&gt;</span></pre><h2 id="c688" class="lf lg in bd lh li lj dn lk ll lm dp ln kl lo lp lq kp lr ls lt kt lu lv lw lx bi translated">最终输出</h2><figure class="md me mf mg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/19eb7ff0b02d230daac13683714aeb15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tcHMq20Ku6VcwXdHLxhHpw.png"/></div></div></figure></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="a4a7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你喜欢这篇文章，请按👏想按多少次就按多少次。如果你有任何问题，请随意提问。</p><p id="9302" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">非常感谢你的阅读！</p><p id="8654" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mz">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mz">plain English . io</em></strong></a></p></div></div>    
</body>
</html>