# åœ¨ Angular ä¸­å°†ä¾èµ–é¡¹ä¼ é€’ç»™å·¥å‚æä¾›è€…

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/pass-dependencies-to-a-factory-provider-in-angular-9073502cae4?source=collection_archive---------3----------------------->

## éœ€è¦å°†å…¶ä»–æœåŠ¡ä½œä¸ºä¾èµ–é¡¹ä¼ é€’ç»™å·¥å‚æä¾›è€…å—ï¼Ÿ

![](img/ce39f6e89c1286c17357257272de886f.png)

å¦‚æœä½ ç›´æ¥æ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼Œè¿™æ˜¯ä¸Šä¸€ç¯‡å…³äºâ€œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ Angular Factory Provider å®ä¾‹åŒ–æœåŠ¡â€çš„æ–‡ç« ã€‚

[](https://medium.com/@hengky.kaiqi/instantiate-a-service-using-an-angular-factory-provider-38670aea4a94) [## ä½¿ç”¨è§’åº¦å·¥å‚æä¾›è€…å®ä¾‹åŒ–æœåŠ¡

### éœ€è¦åœ¨æœåŠ¡ä¸­é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¸€ä¸ªå˜é‡ï¼Ÿ

medium.com](https://medium.com/@hengky.kaiqi/instantiate-a-service-using-an-angular-factory-provider-38670aea4a94) 

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­è®¨è®º Angular Factory Providerï¼Œå¹¶å›ç­”æ‚¨çš„é—®é¢˜â€œæˆ‘ä»¬éœ€è¦å°†å…¶ä»–æœåŠ¡ä½œä¸ºä¾èµ–é¡¹ä¼ é€’ç»™å·¥å‚æä¾›è€…æ€ä¹ˆæ ·ï¼Ÿâ€

# å’–å•¡æ—¶é—´

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åšäº›ä¼¸å±•è¿åŠ¨ï¼Œå¹¶å–æ¯å’–å•¡ğŸ˜ƒ

![](img/385491c61ea00b7818bb5c35b40f9cf9.png)

[pexels.com](https://www.pexels.com/photo/beverage-break-breakfast-brown-414630/)

å®Œæˆäº†å—ï¼Ÿæˆ‘ä»¬èµ°å§ï¼

# é—®é¢˜

è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª *LoggerService* ï¼Œå®ƒå®ç°äº†ä¸€ä¸ªç®€å•çš„æ—¥å¿—æ¶ˆæ¯ï¼Œå¹¶åœ¨æ„é€ å‡½æ•°ä¸­æ·»åŠ äº†ä¸€ä¸ªå˜é‡( *isEnabled* )æ¥æ§åˆ¶æˆ‘ä»¬çš„æ—¥å¿—åŠŸèƒ½æ˜¯å¦å¯ç”¨ã€‚

![](img/6a5d8c2f0c7288d2d30175af8f1c4637.png)

æˆ‘ä»¬ä½¿ç”¨ *useFactory* å±æ€§å’Œ *loggerFactory* å‡½æ•°æ¥å®ä¾‹åŒ– *LoggerService* ã€‚

![](img/a57ca100617af049e8eb24d877ffba57.png)

é‚£ä¹ˆé—®é¢˜æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å°†å¦ä¸€ä¸ªæœåŠ¡ä½œä¸ºä¾èµ–é¡¹ä¼ é€’ç»™ *LoggerService* æ€ä¹ˆåŠï¼Ÿ

å‡è®¾æˆ‘ä»¬æœ‰å¦ä¸€ä¸ªåä¸º*message formatter****çš„æœåŠ¡ã€‚*** è¿™ä¸ªä¾èµ–é¡¹å…è®¸æˆ‘ä»¬æ ¼å¼åŒ–æˆ‘ä»¬çš„æ—¥å¿—è®°å½•æ¶ˆæ¯ï¼Œè·å–æ¶ˆæ¯å’Œæ—¥å¿—è®°å½•ç±»å‹ï¼Œç„¶åå®ƒå°†ä½œä¸ºå­—ç¬¦ä¸²è¾“å‡ºè¿”å›ã€‚

![](img/11a211314d93e126e69fa6b3aadf1b88.png)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è½¬åˆ° app.module.tsï¼Œç”¨ Angular çš„ä¾èµ–æ³¨å…¥æœºåˆ¶æ³¨å†Œæˆ‘ä»¬çš„ *MessageFormatter* ã€‚

![](img/08785c8cd2dd9e9f2d5397dc48a72d34.png)

ç„¶åï¼Œè®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ *LoggerService ä¸­ä½¿ç”¨ *MessageFormatter* ã€‚*

![](img/14dea37ff95bed13a12ed0362d441e34.png)

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯â€œæ²¡æœ‰ä¸º' messageFormatter 'æä¾›ä¸€ä¸ªå‚æ•°ã€‚â€å› ä¸ºæˆ‘ä»¬çš„ *FactoryProvider* å‡½æ•°åªæ¥å—ä¸€ä¸ªå¸ƒå°”å€¼( *isEnabled* )ã€‚

# è§£å†³æ–¹æ¡ˆ 1

ç„¶åæˆ‘ä»¬éœ€è¦æ‰©å±•æˆ‘ä»¬çš„ *FactoryProvider* å‡½æ•°æ¥ä¼ é€’æˆ‘ä»¬çš„*message formatter****çš„å®ä¾‹ã€‚***

æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ç›´æ¥åœ¨å·¥å‚å‡½æ•°ä¸­å®ä¾‹åŒ–å¯¹è±¡ã€‚

![](img/e83418fa2c551f2a5d8459ab7a45242b.png)

ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·åšï¼Œæˆ‘ä»¬å°±ä¸ä¼šåœ¨ Angular ä¸­å®ç°ä¾èµ–æ³¨å…¥æœºåˆ¶ã€‚

ç„¶åå‘¢ï¼Ÿæ€ä¹ˆä¼šï¼ŸğŸ¤”

# è§£å†³æ–¹æ¡ˆ 2

æˆ‘ä»¬å¯ä»¥è¿™æ ·æ³¨å°„å®ƒ:

![](img/384fe46667823fd00272edea270bec47.png)

ä¸ºäº†å‘Šè¯‰è§’åº¦ä¾èµ–æ³¨å…¥å™¨æ³¨å…¥è¯¥ä¾èµ–ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºçš„ ***deps*** å±æ€§:

![](img/c55dc768053fe9b7af80fd8602c03ec2.png)

æ‰€ä»¥åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬çš„ *FactoryProvider* å‡½æ•°æ¥å—å‚æ•°çš„æ•°é‡ï¼Œåœ¨è¿™é‡Œï¼Œåœ¨ ***deps*** å±æ€§ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šä¸€ä¸ªåº”è¯¥ä¼ é€’ç»™æˆ‘ä»¬çš„å·¥å‚å‡½æ•°çš„ä¾èµ–æ•°ç»„ã€‚

å¦‚æœæˆ‘ä»¬ä¿å­˜å®ƒï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ ·çš„æ§åˆ¶å°æ—¥å¿—è¾“å‡º

![](img/5e480f973e6594a44f087bb2cfe98909.png)

# ç¼–ç 

å¦‚æœä½ æƒ³çœ‹å®Œæ•´çš„ä»£ç ï¼Œä½ å¯ä»¥å»æˆ‘çš„ GitHub ä»“åº“çš„åˆ†æ”¯"[ä¼ é€’ä¾èµ–å…³ç³»åˆ°å·¥å‚æä¾›è€…](https://github.com/hengkysanjaya123/angular-factory-provider/tree/pass-dependencies-to-factory-provider)"

[](https://github.com/hengkysanjaya123/angular-factory-provider/tree/pass-dependencies-to-factory-provider) [## hengkysanjaya 123/è§’åº¦-å·¥å‚-æä¾›å•†

### æ­¤é¡¹ç›®æ˜¯ä½¿ç”¨ Angular CLI ç‰ˆæœ¬ 9.1.10 ç”Ÿæˆçš„ã€‚ä¸ºå¼€å‘æœåŠ¡å™¨è¿è¡Œ ng serveã€‚å¯¼èˆªåˆ°â€¦

github.com](https://github.com/hengkysanjaya123/angular-factory-provider/tree/pass-dependencies-to-factory-provider) 

è°¢è°¢å¤§å®¶ï¼æˆ‘å¸Œæœ›ä½ èƒ½ä»è¿™ç¯‡æ–‡ç« ä¸­æ‰¾åˆ°ä¸€äº›æ–°çš„è§è§£ğŸ˜€

å¹²æ¯ï¼Œ

äº¨åŸºÂ·æ¡‘ä½³äºš