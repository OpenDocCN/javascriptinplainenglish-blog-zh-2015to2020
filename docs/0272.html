<html>
<head>
<title>Demystifying the JavaScript ‘const’ Declaration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭开JavaScript“const”声明的神秘面纱</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/demystifying-the-javascript-const-declaration-c770cb183e25?source=collection_archive---------4-----------------------#2019-09-10">https://javascript.plainenglish.io/demystifying-the-javascript-const-declaration-c770cb183e25?source=collection_archive---------4-----------------------#2019-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/a74e2f6910f6744e9769788b1d88a7b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*wI-qJTsEnsRpawfkGE0fWA.png"/></div></figure><p id="6bc2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ECMAScript规范的第六版为JavaScript引入了两个新的变量声明，“let”和“const”。虽然许多人似乎理解这些关键字的基本要点，即。用它们声明的变量不能像“var”声明那样在初始化前使用，对于“let”和“const”之间的确切区别，特别是“const”的作用，似乎有些混淆，尤其是在初学者中。</p><h2 id="e1a8" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">let和const有什么相似之处？</h2><p id="e74a" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">所以让我们从快速浏览这两个变量的共同点开始。“let”和“const”都不能声明两次。这意味着</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="3c3f" class="ks kt iq lv b gy lz ma l mb mc">let x = 1<br/>let x = 2</span></pre><p id="5026" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">和</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="9025" class="ks kt iq lv b gy lz ma l mb mc">const y = 1<br/>const y = 2</span></pre><p id="358a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">都是无效的，并将返回语法错误。</p><p id="1bba" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">“let”和“const”都是块范围的。这意味着它们的作用域在一个JavaScript块中，基本上是{花括号之间}的任何地方，包括循环或if语句。这与“var”声明不同，后者仅在函数范围内，不会在循环或if语句内限定范围。</p><h2 id="ce4c" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">“const”是怎么回事？</h2><p id="a16f" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">我在初学程序员中看到的常见误解是一种模糊的想法，即用' let '声明的变量可以被"改变"，而用' const '声明的变量不能被"改变"。这是对两个声明关键字的不正确或者至少是不准确的理解。这可能源于一种(正确的)理解，即用“let”声明的变量可以被重新分配，而用“const”声明的变量不能被重新分配。</p><p id="a8d3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这意味着</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="ef6d" class="ks kt iq lv b gy lz ma l mb mc">let x = “hello”<br/>x = “goodbye”</span><span id="af3e" class="ks kt iq lv b gy md ma l mb mc">// x returns "goodbye"</span></pre><p id="3d82" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">是有效的，x将返回“再见”。然而，如果我们尝试用const做同样的事情，</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="96ec" class="ks kt iq lv b gy lz ma l mb mc">const y = “hello”<br/>y = “goodbye”</span><span id="ecda" class="ks kt iq lv b gy md ma l mb mc">// TypeError</span></pre><p id="163f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们将收到一个“类型错误:常量变量赋值”您可以看到，虽然“let”变量可以被重新分配，但“const”变量只能被分配一次。</p><p id="0b3b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以这可能就是“常量变量不能改变”的误解的来源。然而，这从根本上说是不真实的。事实上，常量变量是可以改变的，这是该关键字的一个关键特性。你看，虽然“const”不能被重新赋值，但它是可变的，如果一个对象被赋给了一个const变量，那么这个对象的属性就可以被改变，就像你所期望的那样。</p><p id="cc08" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">举个例子，</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="1f07" class="ks kt iq lv b gy lz ma l mb mc">const w = [1, 2, 3]<br/>w.push(4)</span><span id="3989" class="ks kt iq lv b gy md ma l mb mc">// w returns [1, 2, 3, 4]</span></pre><p id="1950" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">会像预期的那样返回[1，2，3，4]。</p><h2 id="8e8f" class="ks kt iq bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">这对初学程序员来说意味着什么？</h2><p id="c367" class="pw-post-body-paragraph ju jv iq jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">因为“let”和“const”声明是为了鼓励良好的编码实践而实现的，所以应该意识到在使用ES6变量声明时有一个优先的层次结构。应该总是尝试用“const”来声明变量，只有在绝对必要的时候才使用“let”。这意味着100%确定何时使用“let”声明。如果您的变量稍后将在代码中被重新分配，请仅使用“let”声明。如果变量将被“改变”,但这种改变是分配给变量的对象的突变，则最好使用“const”声明。</p></div></div>    
</body>
</html>