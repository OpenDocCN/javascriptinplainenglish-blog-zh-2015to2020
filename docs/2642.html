<html>
<head>
<title>Fundamentals of JavaScript Modules</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript模块的基础</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/fundamentals-of-javascript-modules-14654e9c9013?source=collection_archive---------7-----------------------#2020-07-11">https://javascript.plainenglish.io/fundamentals-of-javascript-modules-14654e9c9013?source=collection_archive---------7-----------------------#2020-07-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="af6c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习导入和导出语句的功能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/924527ef75dd527da93c640b83fd3ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKHzGTY73lnPB3LjgCn7KA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by Fabian Grohs on Unsplash</figcaption></figure><p id="f3d5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">今天，我将解释JavaScript模块是如何工作的，以及导入和导出模块的不同方式。</p><p id="23e3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一般来说，在早期阶段，JavaScript是作为一个简单的脚本开发的，以获得更低的性能，但是它的用户日益增加，它急剧演变成一个更大的代码库。为了支持这种增长，它需要一种称为模块的额外机制。即有可能将代码分割成更小的和可重用的单元。</p><p id="a5d6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一个模块只不过是一个文件，我们可以通过导入和导出这样的指令从另一个模块导入。</p><p id="5be7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">导入</strong> -允许从其他模块导入。</p><p id="3f10" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">导出</strong> -允许从当前模块外部访问的功能。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="d518" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们用模块创建一个简单的应用程序。我们应用程序的基本结构是</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="e5eb" class="md me iq lz b gy mf mg l mh mi">index.html<br/>scripts/<br/>    index.js<br/>    modules/<br/>        user.js</span></pre><p id="e03a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先让我们用用户类创建一个简单的用户模块。从这个应用程序，它会显示在输出屏幕上的用户。用户名可以从user类的实例中实例化。让我们深入研究不同的部分。</p><h1 id="0e76" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">导入用户模块</h1><p id="87c6" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">import语句允许我们从模块中导入绑定。除非我们定义type="module "，否则不能在嵌入式脚本中使用import语句。有不同的导入方法，在我们的例子中，我们从指定的模块导入用户。</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="e3a3" class="md me iq lz b gy mf mg l mh mi">//file: scripts/index.js<br/>import { User } from './modules/user.js'<br/><br/>const user = new User('Juan')<br/><br/>document.getElementById('user-name').innerText = user.name;</span></pre><h1 id="3205" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">导出用户模块</h1><p id="3a1e" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">为了导出到其他模块，我们需要使用导出语句。当创建一个模块来导出它们的值时，使用export语句，以便其他模块可以通过import语句使用它。在这个例子中，用户类是从模块中导出的。</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="58f5" class="md me iq lz b gy mf mg l mh mi">// file: scripts/modules/user.js<br/>export class User {<br/>  constructor(name) {<br/>    this.name = name;<br/>  }<br/>}</span></pre><p id="26e0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，它可以被导出，我们可以在任何有导入语句的模块中使用它。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="9dae" class="mj me iq bd mk ml nf mn mo mp ng mr ms jw nh jx mu jz ni ka mw kc nj kd my mz bi translated">导出模块的不同方式</h1><p id="d0c0" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">导出功能有两种不同的方式。</p><ol class=""><li id="c390" class="nk nl iq kx b ky kz lb lc le nm li nn lm no lq np nq nr ns bi translated">命名导出(每个模块零个或多个导出)</li><li id="5d16" class="nk nl iq kx b ky nt lb nu le nv li nw lm nx lq np nq nr ns bi translated">默认导出(每个模块仅一个导出)</li></ol><h1 id="40ce" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">命名导出示例</h1><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="51b6" class="md me iq lz b gy mf mg l mh mi">// export features declared earlier<br/>export { myFunction, myVariable }; <br/><br/>// export individual features (can export var, let, const, function, class)<br/>export let myVariable = Math.sqrt(2);<br/>export function myFunction() { ... };</span></pre><h1 id="9a91" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">默认导出</h1><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="9881" class="md me iq lz b gy mf mg l mh mi">// export feature declared earlier as default<br/>export { myFunction as default };<br/><br/>// export individual features as default<br/>export default function () { ... } <br/>export default class { .. }</span></pre><p id="7f95" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">命名导出用于导出多个值，但是在导入过程中，必须使用与相应对象相同的名称。默认导出可以用任何名称导入。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="3fd2" class="mj me iq bd mk ml nf mn mo mp ng mr ms jw nh jx mu jz ni ka mw kc nj kd my mz bi translated">进口</h1><p id="1c4f" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">我们已经知道了出口的概念，同样的概念也适用于进口。</p><h1 id="7063" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">导入默认导出</h1><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="bc17" class="md me iq lz b gy mf mg l mh mi">import something from 'mymodule'<br/><br/>console.log(something)</span></pre><h1 id="84d8" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">导入命名导出</h1><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="646a" class="md me iq lz b gy mf mg l mh mi">import { var1, var2 } from 'mymodule'<br/><br/>console.log(var1)<br/>console.log(var2)</span></pre><h1 id="d929" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">重命名导入</h1><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="ed12" class="md me iq lz b gy mf mg l mh mi">import { var1 as myvar, var2 } from 'mymodule'<br/><br/>// Now myvar will be available instead of var1<br/>console.log(myvar)<br/>console.log(var2)</span></pre><h1 id="efc7" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">导入所有模块</h1><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="54bc" class="md me iq lz b gy mf mg l mh mi">import * as anyName from 'mymodule'<br/><br/>console.log(anyName.var1)<br/>console.log(anyName.var2)<br/>console.log(anyName.default)</span></pre><h1 id="558f" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">动态导入</h1><p id="a18f" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">到目前为止，我们只处理了静态导入，我们把它们放在文件的顶部，它正在被导入。但是在动态导入中，只允许在需要的时候动态加载模块。</p><p id="9071" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">新的功能允许您将import作为一个函数调用，并将模块的路径作为一个参数传递。</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="f881" class="md me iq lz b gy mf mg l mh mi">import('./modules/myModule.js')<br/>  .then((module) =&gt; {<br/>    // Do something with the module.<br/>  });</span></pre><h1 id="67a5" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">组合默认导出和命名导出</h1><p id="66ce" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">我们可以结合默认和命名的出口/进口。让我们看看例子</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="ba5a" class="md me iq lz b gy mf mg l mh mi">//file: mymodule.js<br/>export const named = 'named export'<br/><br/>export function test() {<br/>  console.log('exported function')<br/>}<br/><br/>export default 'default export';</span></pre><p id="73ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们也可以在相同的场景中导入它们</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="fe75" class="md me iq lz b gy mf mg l mh mi">//another file:<br/>import anyName from './mymodule' // where anyName is the default export<br/><br/>// or both named exports<br/>import { named, test } from './mymodule';<br/><br/>// or just one<br/>import { named } from './mymodule';<br/><br/>// or all of them together<br/>import anyName, { named, test } from './mymodule';</span></pre><h1 id="a73d" class="mj me iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">结论</h1><p id="9be4" class="pw-post-body-paragraph kv kw iq kx b ky na jr la lb nb ju ld le nc lg lh li nd lk ll lm ne lo lp lq ij bi translated">我希望您喜欢今天的JavaScript模块，并从中学习了一些新知识。</p><p id="fe1b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>