<html>
<head>
<title>Useful JavaScript Tips — Variables and Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的JavaScript技巧——变量和数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/useful-javascript-tips-variables-and-arrays-75422bb6ec5e?source=collection_archive---------11-----------------------#2020-06-22">https://javascript.plainenglish.io/useful-javascript-tips-variables-and-arrays-75422bb6ec5e?source=collection_archive---------11-----------------------#2020-06-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3f0f7d243e7d1c2d17c1f7f0388a19fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2LvRawZ71VrSKsZn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@harguello?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hector Argüello Canals</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c432" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些应该遵循的技巧，以便更快更好地编写JavaScript代码。</p><h1 id="76c3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">赋值运算符</h1><p id="e743" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用复合赋值操作符来简化数值变量的更新。</p><p id="093d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有<code class="fe me mf mg mh b">+=</code>、<code class="fe me mf mg mh b">-=</code>、<code class="fe me mf mg mh b">*=</code>、<code class="fe me mf mg mh b">/=</code>和<code class="fe me mf mg mh b">%=</code>操作符，我们可以使用它们将数值变量更新为基于当前值的任意值。</p><p id="415c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7c63" class="mq lc iq mh b gy mr ms l mt mu">x += 2;</span></pre><p id="51ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们通过将当前值增加2来更新<code class="fe me mf mg mh b">x</code>的值。</p><p id="1f15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它与以下内容相同:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2ad9" class="mq lc iq mh b gy mr ms l mt mu">x = x + 2;</span></pre><p id="a656" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以对其余部分做同样的事情。</p><p id="f0a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">-=</code>是减法。</p><p id="228f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">*=</code>是乘法。</p><p id="6e55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">/=</code>是为师。</p><p id="435f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">%=</code>是基于当前值得到余数。</p><p id="4085" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9259" class="mq lc iq mh b gy mr ms l mt mu">x %= 2;</span></pre><p id="6182" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与以下内容相同:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ccf9" class="mq lc iq mh b gy mr ms l mt mu">x = x % 2;</span></pre><p id="e540" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们基于<code class="fe me mf mg mh b">x</code>的当前值将<code class="fe me mf mg mh b">x</code>的余数除以2，并对其重新赋值。</p><h1 id="29e1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将真值或假值转换为布尔值</h1><p id="1a40" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">!!</code>操作符将任何东西转换成布尔值。</p><p id="cf55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0b93" class="mq lc iq mh b gy mr ms l mt mu">!!"" <br/>!!0 <br/>!!null <br/>!!undefined <br/>!!NaN </span></pre><p id="214a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">都是假的，所以都回<code class="fe me mf mg mh b">false</code>。</p><p id="6101" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其他操作数将返回<code class="fe me mf mg mh b">true</code>。例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7980" class="mq lc iq mh b gy mr ms l mt mu">!!"hi"</span></pre><p id="1912" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么它将返回<code class="fe me mf mg mh b">true</code>。</p><h1 id="bd5e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Currying</h1><p id="dd2e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Curry是将一个接受多个参数的函数转换成一系列接受单个参数的函数的操作。</p><p id="f10d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对于创建应用了一些参数的函数并重用它们很有用。</p><p id="1d7b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有一个<code class="fe me mf mg mh b">add</code>函数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7a3e" class="mq lc iq mh b gy mr ms l mt mu">const add = (x, y) =&gt; {<br/>  return x + y;<br/>}</span></pre><p id="44e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写下这个函数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="30a3" class="mq lc iq mh b gy mr ms l mt mu">const curriedAdd = (x) =&gt; {<br/>  return (y) =&gt; {<br/>    return x + y;<br/>  }<br/>}</span></pre><p id="b836" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f718" class="mq lc iq mh b gy mr ms l mt mu">curriedAdd(1)(2)</span></pre><p id="7996" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">得到3。</p><h1 id="ebdb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">部分应用</h1><p id="d4f0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过编写以下内容将参数部分应用到函数中:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="925c" class="mq lc iq mh b gy mr ms l mt mu">const plus10 = (y) =&gt; {<br/>  return 10 + y;<br/>}</span></pre><p id="ef61" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3971" class="mq lc iq mh b gy mr ms l mt mu">plus10(3);</span></pre><p id="49d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到13。</p><p id="b16c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">概括起来，我们可以这样写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fa79" class="mq lc iq mh b gy mr ms l mt mu">const partApply = (f, x) =&gt; {<br/>  return (y) =&gt; {<br/>    return f(x, y);<br/>  }<br/>}</span></pre><p id="a3f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过为<code class="fe me mf mg mh b">f</code>传入一个函数和为<code class="fe me mf mg mh b">x</code>传入一个值来调用<code class="fe me mf mg mh b">partApply</code>。</p><p id="a6a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="feb8" class="mq lc iq mh b gy mr ms l mt mu">const plus10 = partApply(add, 10);</span></pre><p id="958e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，如果我们调用<code class="fe me mf mg mh b">plus10(3)</code>，我们得到13，因为10作为第一个参数被应用。</p><h1 id="ce43" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">过滤和排序字符串列表</h1><p id="a1f5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">filter</code>方法对过滤字符串进行排序。</p><p id="e657" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以得到这样的结果，我们返回一个数组，其中的单词长度与它的索引长度相同，写为:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c3de" class="mq lc iq mh b gy mr ms l mt mu">const filtered = words<br/>  .filter((word, index) =&gt; {<br/>    return word.length &gt; 2<br/>  })</span></pre><p id="4bee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7b52" class="mq lc iq mh b gy mr ms l mt mu">const words = ['do', 'if', 'foo', 'bar'];</span></pre><p id="9713" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ae16" class="mq lc iq mh b gy mr ms l mt mu">["foo", "bar"]</span></pre><p id="528e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以在没有任何回调的情况下调用<code class="fe me mf mg mh b">sort</code>来对字符串进行排序，因为这就是<code class="fe me mf mg mh b">sort</code>在没有回调的情况下对数组项进行排序的方式。</p><p id="c106" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以通过写下来链接它们:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7beb" class="mq lc iq mh b gy mr ms l mt mu">const filtered = words<br/>  .filter((word, index) =&gt; {<br/>    return word.length &gt; 2<br/>  })<br/>  .sort();</span></pre><p id="e087" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe me mf mg mh b">filtered</code>的<code class="fe me mf mg mh b">[“bar”, “foo”]</code>。</p><h1 id="d9af" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用立即调用的函数表达式(IIFEs)</h1><p id="db2a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建并使用函数来封装函数中的变量，使它们保持私有。</p><p id="f16f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c0b7" class="mq lc iq mh b gy mr ms l mt mu">(() =&gt; {<br/>  let x = 1;<br/>  //...<br/>})()</span></pre><p id="6959" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe me mf mg mh b">x</code>留在函数内部。</p><p id="14b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是在函数中创建私有变量的一种方式。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/c6eb13ce2d3226456356d59523a701c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tAA2_62_hMvDydMI"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@luizduardin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luiz Eduardo Alves da Silva</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="c112" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">快速转换数字的方法</h1><p id="5205" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了方便地转换数字，我们可以使用<code class="fe me mf mg mh b">+</code>操作符将任何东西转换成数字。</p><p id="1ff2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2ca3" class="mq lc iq mh b gy mr ms l mt mu">const one = +'1';</span></pre><p id="c857" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">one</code>就是数字1，而不是字符串<code class="fe me mf mg mh b">'1'</code>，因为我们对它使用了<code class="fe me mf mg mh b">+</code>操作符。</p><h1 id="0f7e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">打乱数组</h1><p id="2a72" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">sort</code>方法打乱一个数组，并返回一个可以是正数或负数的随机数，这样我们就可以打乱它们。</p><p id="2c3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3c41" class="mq lc iq mh b gy mr ms l mt mu">const arr = [1, 2, 3];<br/>arr.sort(() =&gt; -1 + (Math.random() * 2));</span></pre><p id="0c26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">sort</code>对一个数组进行排序，所以我们得到了它的一个不同的值。</p><p id="0d49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回<code class="fe me mf mg mh b">-1 + (Math.random() * 2)</code>会让回调返回东西-1和1。</p><h1 id="28d1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4c2d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用各种方法来过滤和排序数组。</p><p id="d0dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用赋值操作符来缩短赋值语句。</p><h2 id="7433" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="7550" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四种出版物吗？通过<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">plain English . io</strong></a>找到他们——通过关注我们的出版物和<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">来表达爱意吧！</strong></p></div></div>    
</body>
</html>