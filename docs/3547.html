<html>
<head>
<title>Object-Oriented JavaScript — Arrays and Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向对象的JavaScript——数组和函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/object-oriented-javascript-arrays-and-functions-726cb18ac12d?source=collection_archive---------5-----------------------#2020-10-07">https://javascript.plainenglish.io/object-oriented-javascript-arrays-and-functions-726cb18ac12d?source=collection_archive---------5-----------------------#2020-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/78b3b8da970b51ee65c8e3ff6d010b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kNBlbqt02vKvxK03"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mbenna?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Benna</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="02be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript部分是面向对象的语言。</p><p id="7b04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要学习JavaScript，我们必须学习JavaScript的面向对象部分。</p><p id="6eb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看数组和函数。</p><h1 id="341b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ES6阵列方法</h1><p id="e04f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">ES6增加了更多有用的数组方法。</p><p id="4617" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们提供了以前由第三方库如下划线和Lodash提供的。</p><h1 id="0660" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组. from</h1><p id="34a0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Array.from</code>方法让我们将可迭代的对象和不可迭代的类似数组的对象转换成一个数组。</p><p id="f1cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以用它将从<code class="fe me mf mg mh b">document.querySelectorAll</code>返回的节点列表转换成数组。</p><p id="4d09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="de52" class="mq lc iq mh b gy mr ms l mt mu">const divs = document.querySelectorAll('div');<br/>console.log(Array.from(divs));</span></pre><p id="fcd3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到一个数组。</p><p id="7641" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以将有数字索引和一个<code class="fe me mf mg mh b">length</code>属性的对象转换成一个数组。</p><p id="7f08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="66da" class="mq lc iq mh b gy mr ms l mt mu">const obj = {<br/>  0: 'a',<br/>  1: 'b',<br/>  length: 2<br/>};<br/>console.log(Array.from(obj));</span></pre><p id="8410" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d102" class="mq lc iq mh b gy mr ms l mt mu">["a", "b"]</span></pre><h1 id="94ca" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Array.of创建数组</h1><p id="bc5e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">Array.of</code>方法创建一个新的数组。</p><p id="3c42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8bf1" class="mq lc iq mh b gy mr ms l mt mu">let arr = Array.of(1, "2", {<br/>  obj: "3"<br/>})</span></pre><p id="1131" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a310" class="mq lc iq mh b gy mr ms l mt mu">[<br/>  1,<br/>  "2",<br/>  {<br/>    "obj": "3"<br/>  }<br/>]</span></pre><p id="905e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它接受一个或多个参数，并返回一个包含这些参数的数组。</p><h1 id="081c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ES6数组.原型方法</h1><p id="57c7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">数组实例都添加了更多的方法。</p><p id="80e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们包括以下方法:"</p><ul class=""><li id="d2b6" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">Array.prototype.entries()</code></li><li id="fa14" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">Array.prototype.values()</code></li><li id="cc52" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">Array.prorotype.keys()</code></li></ul><p id="c574" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">entries</code>返回键值对数组。</p><p id="a8eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">values</code>返回一个数值数组。</p><p id="b115" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回一个键数组。</p><p id="f492" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8bfb" class="mq lc iq mh b gy mr ms l mt mu">let arr = ['a', 'b', 'c']<br/>for (const index of arr.keys()) {<br/>  console.log(index)<br/>}</span><span id="0908" class="mq lc iq mh b gy nj ms l mt mu">for (const value of arr.values()) {<br/>  console.log(value)<br/>}</span><span id="085c" class="mq lc iq mh b gy nj ms l mt mu">for (const [index, value] of arr.entries()) {<br/>  console.log(index, value)<br/>}</span></pre><p id="ba92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">keys</code>方法记录索引。</p><p id="e677" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">values</code>方法记录这些值。</p><p id="4d5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用<code class="fe me mf mg mh b">entries</code>方法将<code class="fe me mf mg mh b">index</code>和<code class="fe me mf mg mh b">value</code>连接起来。</p><p id="9e30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还添加了<code class="fe me mf mg mh b">find</code>和<code class="fe me mf mg mh b">findIndex</code>方法，让我们找到匹配给定条件的数组的第一个条目。</p><p id="e281" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">find</code>返回匹配的条目。</p><p id="2dbb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe me mf mg mh b">findIndex</code>返回匹配条目的索引。</p><p id="44fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9121" class="mq lc iq mh b gy mr ms l mt mu">let numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];<br/>console.log(numbers.find(n =&gt; n &gt; 3));<br/>console.log(numbers.findIndex(n =&gt; n &gt; 3));</span></pre><p id="e129" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们从控制台日志中分别得到4和3。</p><h1 id="6cd6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">功能</h1><p id="0f78" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Function</code>构造函数可以用来创建一个函数</p><p id="0cf6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e19a" class="mq lc iq mh b gy mr ms l mt mu">const foo = new Function(<br/>  'a, b, c, d',<br/>  'return arguments;'<br/>);</span></pre><p id="577e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是形参，第二个是函数体。</p><p id="3fdf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用它不是一个好主意，因为我们用字符串创建函数，这意味着会有安全和性能问题。</p><p id="f30b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数对象有<code class="fe me mf mg mh b">constrictor</code>和<code class="fe me mf mg mh b">length</code>属性。</p><p id="1038" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">constructor</code>属性有创建函数的构造函数，应该是<code class="fe me mf mg mh b">Function</code>构造函数。</p><p id="7bdd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">length</code>属性有函数期望的参数个数。</p><p id="1dca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6065" class="mq lc iq mh b gy mr ms l mt mu">function foo(a, b, c) {<br/>  return true;<br/>}<br/>console.log(foo.length);<br/>console.log(foo.constructor);</span></pre><p id="fe57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们分别得到3和<code class="fe me mf mg mh b">ƒ Function() { [native code] }</code>。</p><h1 id="1318" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="24c1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Array.from</code>和<code class="fe me mf mg mh b">Array.from</code>方法创建数组。</p><p id="6b4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以用各种方法遍历数组。</p><p id="fe10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Function</code>构造函数不应该用来创建函数。</p><p id="048b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>