<html>
<head>
<title>Algorithms 101: Birthday Chocolate in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">算法101:JavaScript中的生日巧克力</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/algorithms-101-birthday-chocolate-in-javascript-f5fcbd639bf3?source=collection_archive---------4-----------------------#2019-10-08">https://javascript.plainenglish.io/algorithms-101-birthday-chocolate-in-javascript-f5fcbd639bf3?source=collection_archive---------4-----------------------#2019-10-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dcab" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Noob诉算法#10，数组操作</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a7413219bf833f4a931f77d729e55555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AGIAxPHvK0bWPbHi.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">yes, i am more attracted to algorithms when they mention chocolate …</figcaption></figure><p id="9435" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有个女孩，莉莉。她想送她的朋友巧克力作为生日礼物，但是有条件！</p><p id="4501" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae lr" href="https://www.hackerrank.com/challenges/the-birthday-bar/problem" rel="noopener ugc nofollow" target="_blank">以下是HackerRank </a>的问题:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/f7037f350088581cac6b5754eb7b3989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r66OLnzoDI1BbVugWMifvg.png"/></div></div></figure><p id="7fa3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于那些通过图片学得更好的人，请继续阅读。在下面的输入示例中，5是巧克力条的方块数；第二行是那些方块中的整数；第三行是他的出生日期(3)，后面是他的出生月份(2)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lt"><img src="../Images/2e632ab40af4b7d33eb60f7942a5bfab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvJSZZDkkfAqRDEoPNvupw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">who knew gifting chocolate could be so complicated?</figcaption></figure><p id="b539" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们从这里开始:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="7fd3" class="lz ma iq lv b gy mb mc l md me">function birthday(s, d, m) {<br/>     // s = array of integers <br/>     // d = date  <br/>     // m = month<br/>}</span></pre><h1 id="49af" class="mf ma iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated"><strong class="ak">观察/选择你的武器……</strong></h1><p id="7c0d" class="pw-post-body-paragraph kv kw iq kx b ky mw jr la lb mx ju ld le my lg lh li mz lk ll lm na lo lp lq ij bi translated">注意事项:</p><ol class=""><li id="3b0d" class="nb nc iq kx b ky kz lb lc le nd li ne lm nf lq ng nh ni nj bi translated">整数必须是连续的——这意味着我们需要保持数组的顺序。所以我们可能不会用。sort()；但是我们将使用一个循环。</li><li id="fc72" class="nb nc iq kx b ky nk lb nl le nm li nn lm no lq ng nh ni nj bi translated">我们需要一行中的<em class="np"> m个</em>整数加起来正好等于<em class="np"> d，</em>因此在循环时，我们将希望一次查看<em class="np"> m个</em>连续整数的总和。如果你想按顺序查看数组的一部分，slice()就是你的工具！</li></ol><h1 id="df1d" class="mf ma iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">把问题分解成更小的问题</h1><p id="630f" class="pw-post-body-paragraph kv kw iq kx b ky mw jr la lb mx ju ld le my lg lh li mz lk ll lm na lo lp lq ij bi translated">只有当我们有<em class="np"> m </em>个连续的方块加起来达到<em class="np"> d </em>时，我们才会送出巧克力。假设我们至少有m个正方形(这是一种边缘情况，我们可以稍后检查)，下面是我们要做的:</p><ol class=""><li id="9e87" class="nb nc iq kx b ky kz lb lc le nd li ne lm nf lq ng nh ni nj bi translated">一次遍历数组的一部分；切片的长度为<em class="np">米</em></li><li id="6aea" class="nb nc iq kx b ky nk lb nl le nm li nn lm no lq ng nh ni nj bi translated">获取该切片的总和</li><li id="f28e" class="nb nc iq kx b ky nk lb nl le nm li nn lm no lq ng nh ni nj bi translated">如果总和等于日期，则递增计数器</li><li id="4293" class="nb nc iq kx b ky nk lb nl le nm li nn lm no lq ng nh ni nj bi translated">归还柜台</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/7b07ad152e4b847990c8ceb2bc0c2c5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/0*KJwkrul9cClg1-Lo"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">loop!</figcaption></figure><h1 id="450a" class="mf ma iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">第一步。让我们循环并切片()…</h1><p id="34a3" class="pw-post-body-paragraph kv kw iq kx b ky mw jr la lb mx ju ld le my lg lh li mz lk ll lm na lo lp lq ij bi translated">切片略显棘手！它有两个参数，一个起始索引和一个结束索引。您的切片将在结束索引之前结束<em class="np">。<a class="ae lr" href="https://www.w3schools.com/jsref/jsref_slice_array.asp" rel="noopener ugc nofollow" target="_blank">文档在此处。</a></em></p><p id="df8a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以array.slice(0，2)给出了从第0个索引到(但不包括)索引2的数组“切片”:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="70f2" class="lz ma iq lv b gy mb mc l md me">let array = [apple, bobcat, couch]<br/>let slice = array.slice(0,2)<br/>// slice = [apple, bobcat] <br/></span></pre><p id="18ea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的代码中，我们希望检查当前索引加上接下来两个索引的总和，因此我们的切片将如下所示:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="20a1" class="lz ma iq lv b gy mb mc l md me">function birthday(s, d, m) {</span><span id="9e49" class="lz ma iq lv b gy nr mc l md me">     for(let i = 0; i &lt; s.length - 1; i++){<br/>          let subArray = s.slice(i, i+m)<br/>          if subArray.length === m {<br/>             // more code here</span><span id="8df8" class="lz ma iq lv b gy nr mc l md me">          }</span><span id="1614" class="lz ma iq lv b gy nr mc l md me">     }</span><span id="9be6" class="lz ma iq lv b gy nr mc l md me">}</span></pre><p id="4c50" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意:如果您在一个数组上一次循环一个项目，从第一个索引(i = 0)开始并在结尾停止，其中索引是array . length-1。</p><p id="1311" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的例子中，我们希望确保我们总是一次查看<em class="np"> m </em>个方块。例如，如果m是5，并且我们的循环一直持续到我们从最后一个元素开始切片，我们不会得到5个整数；我们会得到最后一个元素。</p><p id="a087" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们可以通过将I的最大值设置为:<code class="fe ns nt nu lv b">i &lt; s.length — 1 — m.</code>来说明这一点，但由于Noob无法解决的原因，这样做会使算法无法通过HackerRank的一些测试。<em class="np">知道原因请评论！！</em></p><p id="d6a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">作为一种变通方法，我添加了一个额外的if语句来检查我的子数组的长度实际上等于m。</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="6902" class="lz ma iq lv b gy mb mc l md me">function birthday(s, d, m) {</span><span id="63fc" class="lz ma iq lv b gy nr mc l md me">     for(let i = 0; i &lt; s.length - 1; i++){<br/>          let subArray = s.slice(i, i+m)<br/>          if subArray.length === m {<br/>             // more code here</span><span id="fbdf" class="lz ma iq lv b gy nr mc l md me">           }</span><span id="2c5f" class="lz ma iq lv b gy nr mc l md me">     }</span><span id="bbe8" class="lz ma iq lv b gy nr mc l md me">}</span></pre><h1 id="e952" class="mf ma iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">第二步。获取切片的总和</h1><p id="fb4b" class="pw-post-body-paragraph kv kw iq kx b ky mw jr la lb mx ju ld le my lg lh li mz lk ll lm na lo lp lq ij bi translated">这是使用JavaScript的reduce()方法的最佳场合。</p><p id="562d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe ns nt nu lv b">let sum = subArray.reduce((a,b) =&gt; a + b, 0)</code></p><h1 id="1c7a" class="mf ma iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">第三步。如果总和等于日期，则递增计数器</h1><p id="0c7c" class="pw-post-body-paragraph kv kw iq kx b ky mw jr la lb mx ju ld le my lg lh li mz lk ll lm na lo lp lq ij bi translated">要增加一个计数器，我们必须设置一个。我们将在循环之前设置我们的，在循环期间操作计数器，然后在循环之后返回计数器。</p><p id="326d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在循环内部，我们将像这样递增:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="3574" class="lz ma iq lv b gy mb mc l md me">if(sum === d){<br/>     counter += 1<br/>}</span></pre><p id="c995" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">到目前为止，我们的代码如下所示:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="b40f" class="lz ma iq lv b gy mb mc l md me">function birthday(s, d, m) {<br/>    let counter = 0</span><span id="c8db" class="lz ma iq lv b gy nr mc l md me">    for(let i = 0; i &lt; s.length - 1; i++){<br/>          let subArray = s.slice(i, i+m)<br/>          if subArray.length === m {<br/>             let sum = subArray.reduce((a,b) =&gt; a + b, 0)<br/>             if(sum === d){<br/>                  counter += 1          <br/>              }<br/>           }<br/>     }</span><span id="c974" class="lz ma iq lv b gy nr mc l md me">     return counter<br/>}</span></pre><h1 id="4c23" class="mf ma iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">现在，对于边缘情况…</h1><p id="a134" class="pw-post-body-paragraph kv kw iq kx b ky mw jr la lb mx ju ld le my lg lh li mz lk ll lm na lo lp lq ij bi translated">边缘情况比较奇怪——例如，如果你的数组<em class="np"> s </em>包含一些字母，而不仅仅是数字，那该怎么办？或者如果<em class="np"> s </em>不总是一个数组等等呢？人们很容易过度想象输入可能有什么问题。</p><p id="81f6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在一周5天每天几个小时解决算法的几个星期后，我开始注意到你可以通过仔细阅读方向来节省大量时间。这些指示通常排除了可能的边缘情况。</p><p id="673b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于这个问题，以下是HackerRank关于输入及其约束的注释:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/f4a82cc650be213952d4dd451a35de62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fz--hvsnwVYIa_5o5rPHLQ.png"/></div></div></figure><p id="0e9a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">换句话说，在一定的范围内，我们总是可以期待整数。</p><p id="5ea2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，在这些参数范围内，仍然存在特殊情况。出生月份是11月怎么办？在这种情况下，<em class="np"> m </em>等于11，我们要寻找11个连续的巧克力方块，它们的整数加起来等于<em class="np"> d </em>。但是如果我们的巧克力少于11块，无论整数是多少，我们都不会成功。</p><p id="92f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们可以这样处理边缘情况:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="707e" class="lz ma iq lv b gy mb mc l md me">//edge case, month greater than # of squares in bar</span><span id="e6e4" class="lz ma iq lv b gy nr mc l md me">let counter = 0;</span><span id="87c9" class="lz ma iq lv b gy nr mc l md me">if(m &gt; s.length ){<br/>     return counter<br/>}</span></pre><p id="ec7e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">另一个边缘案例:</p><p id="941b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果出生月份是一月，<em class="np">和</em>只有一块巧克力会怎么样？那么方块上的整数必须等于该日期。我们可以这样处理这种边缘情况:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="bb19" class="lz ma iq lv b gy mb mc l md me">//edge case month is one, only one square of chocolate.</span><span id="c81c" class="lz ma iq lv b gy nr mc l md me">if(s.length === 1 &amp;&amp; m === 1){</span><span id="aa3c" class="lz ma iq lv b gy nr mc l md me">     if (s[0] === d) {</span><span id="0c36" class="lz ma iq lv b gy nr mc l md me">          return 1<br/>     }<br/>}</span></pre><p id="a0ad" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在一起:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="b57a" class="lz ma iq lv b gy mb mc l md me">function birthday(s, d, m) {</span><span id="7144" class="lz ma iq lv b gy nr mc l md me">     //edge case #1, m &gt; squares of chocolate<br/>     let counter = 0;<br/>     if(m &gt; s.length ){<br/>           return counter<br/>     }</span><span id="59ce" class="lz ma iq lv b gy nr mc l md me">     //edge case #2, month is jan, only one square of choc.<br/>     if(s.length === 1 &amp;&amp; m === 1){<br/>          if (s[0] === d) {<br/>               return 1<br/>          }<br/>      }</span><span id="04f3" class="lz ma iq lv b gy nr mc l md me">     for(let i = 0; i &lt; s.length - 1; i++){<br/>          let subArray = s.slice(i, i+m)<br/>          if subArray.length === m {<br/>             let sum = subArray.reduce((a,b) =&gt; a + b, 0)<br/>             if(sum === d){<br/>                  counter += 1          <br/>              }<br/>           }<br/>     }</span><span id="3a45" class="lz ma iq lv b gy nr mc l md me">     return counter<br/>}</span></pre><p id="f8a9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有用！现在我在想巧克力…</p><p id="348b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">版权所有琼·印第安纳·琳斯2019</p><p id="dc96" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">接下来:<a class="ae lr" href="https://medium.com/@joanrigdon/algorithms-101-princesses-peas-and-recursion-in-ruby-dffb44799d6e" rel="noopener"> <em class="np">算法101、#11、公主、豆豆&amp;红宝石中的递归</em> </a></p><p id="48f0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="np">以防你错过:</em> <a class="ae lr" href="https://medium.com/javascript-in-plain-english/algorithms-101-jewels-and-stones-in-ruby-and-javascript-c22fce37ad2b" rel="noopener"> <em class="np">算法101、#9、红宝石中的宝石和JavaScript </em> </a></p></div></div>    
</body>
</html>