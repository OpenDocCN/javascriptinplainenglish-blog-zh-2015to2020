<html>
<head>
<title>6 Tips for Building your Gatsby Website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立你的盖茨比网站的6个技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/6-tips-on-building-your-gatsbyjs-website-64203212aa4?source=collection_archive---------4-----------------------#2020-09-20">https://javascript.plainenglish.io/6-tips-on-building-your-gatsbyjs-website-64203212aa4?source=collection_archive---------4-----------------------#2020-09-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/891dde5ec7ccc1248bd1299c470ccacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SQdK1oLDvGecynYvKDKzzQ.png"/></div></div></figure><p id="552f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">到目前为止，我已经建立了2个个人网站。第一个是4年前我如何自学网络开发的基础知识。这是一个简单的<a class="ae kt" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank">自举</a>网站，远远谈不上像样。我也有一个独立的<a class="ae kt" href="https://ghost.org/" rel="noopener ugc nofollow" target="_blank"> Ghost </a>博客网站，但当我试图定制它时，它变得一团糟。在多年巩固我的技能后，我去寻找一个更好的替代方案，它快速、可定制且易于维护。于是，我找到了<a class="ae kt" href="https://www.gatsbyjs.com/" rel="noopener ugc nofollow" target="_blank">盖茨比</a>，建立了我的第二个<a class="ae kt" href="https://sugarfabby.com" rel="noopener ugc nofollow" target="_blank">个人网站</a>。整个经历真的很棒。</p><p id="9034" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在学习如何使用盖茨比的过程中，我参考了来自<a class="ae kt" href="https://wesbos.com/" rel="noopener ugc nofollow" target="_blank">韦斯·博斯</a>和<a class="ae kt" href="https://kentcdodds.com/" rel="noopener ugc nofollow" target="_blank">肯特·c·多兹的</a>盖茨比网站。看到他们如何将盖茨比发挥到极致，真是令人惊讶。</p><p id="89f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你想开始或改进你的盖茨比项目，这里有一些我认为有用的建议。</p><h1 id="1fee" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1.带React头盔的SEO</h1><p id="676a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">您可以构建一个可重用的SEO组件，并用不同页面中的props覆盖默认元数据。我有一个默认的搜索引擎优化组件，它有基本的HTML标题，脸书OpenGraph和Twitter元数据，代表一般的页面。然后，我会在我的博客帖子页面中用Markdown frontmatter数据覆盖它们，这样它们就可以被单独索引和共享。</p><h1 id="967a" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2.在gatsby-browser和gatsby-ssr中包装您的布局</h1><p id="08c4" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">如果您有一个希望应用于所有页面的通用页面设计，您可以创建一个布局组件并将其添加到<code class="fe lx ly lz ma b">gatsby-browser</code>和<code class="fe lx ly lz ma b">gatsby-ssr</code>文件中，如下所示:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="3fb1" class="mj kv in ma b gy mk ml l mm mn">exports.wrapPageElement = ({ element, props }) =&gt; (<br/>   &lt;Layout {...props}&gt;{element}&lt;/Layout&gt;<br/>);</span></pre><p id="68a6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<code class="fe lx ly lz ma b">wrapPageElement</code> API，Gatsby会在构建页面时自动应用布局。同样值得一提的是，布局将保持挂载状态。我在玩动画的时候遇到了卸载状态的问题，这可以通过使用这个方法来解决。如果你的内容是静态的，你自己把布局应用到每个页面上也是完全没问题的。</p><h1 id="51d9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">3.挖掘盖茨比·阿皮斯的超能力</h1><p id="5410" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我花了相当长的时间才理解盖茨比·阿皮斯的力量。最常见的用例是自动化一些构建过程。例如，我可以在<code class="fe lx ly lz ma b">createPages</code> API中查询所有的markdown文件，并调用<code class="fe lx ly lz ma b">createPage</code>动作来构建带有路径、模板的页面，并添加我想要的任何上下文数据。这就是我如何产生我所有的博客帖子。本质上，你可以有不同的页面模板来构建你的播客、研讨会、书评或任何你想要的页面。</p><p id="8e82" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lx ly lz ma b">onCreateNode</code>也是另一个有用的API，它增加了额外的GraphQL节点字段。例如，我添加了一个<code class="fe lx ly lz ma b">editLink</code>字段，它是GitHub中的文章编辑链接，我可以在我的博客文章模板页面中查询它。</p><p id="2272" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在这里探索所有的API<a class="ae kt" href="https://www.gatsbyjs.com/docs/api-reference/" rel="noopener ugc nofollow" target="_blank">并为自己找到一个用例。</a></p><h1 id="bc6d" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">4.使用Gatsby图像插件</h1><p id="7fe3" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">一开始，我只是简单地用<code class="fe lx ly lz ma b">img</code>标签来标记我所有的图片。就响应性而言，这不是一个好的解决方案。对我来说，创建不同大小的图像并使用<code class="fe lx ly lz ma b">picture</code>标签也很耗时。</p><p id="9925" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是<code class="fe lx ly lz ma b">gatsby-image</code>的用武之地。它完成上述所有过程，甚至提供延迟加载。您还可以在模糊和SVG描摹效果之间进行选择，以增加渐进式加载用户体验。它与提供图像的不同CMS插件一起工作。</p><h1 id="90ab" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">5.您可能不需要集成CMS</h1><p id="2066" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">这显然取决于你的网站的性质。如果有其他人在管理内容，集成像Contentful，Wordpress或Drupal这样的CMS将是最好的。</p><p id="7520" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你只是简单的建立和管理你自己的网站，你不需要CMS。使用像<code class="fe lx ly lz ma b">gatsby-source-filesystem</code>这样的社区插件，从本地文件中获取资源比你想象的要简单。例如，我在本地用MDX写博客。发布和编辑都是通过将提交推送到我的存储库来完成的。这样你就可以完全控制内容，而不需要依赖其他服务。</p><h1 id="4b8b" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">6.如果您在Netlify上托管，请激活增量构建</h1><p id="410a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">将Gatsby网站部署到Netlify可能会花费大量时间，因为它需要一个接一个地生成所有页面。如果有很多图像，构建时间会更长。</p><p id="bbbc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我建议按照这个<a class="ae kt" href="https://www.netlify.com/blog/2020/04/23/enable-gatsby-incremental-builds-on-netlify/" rel="noopener ugc nofollow" target="_blank">指南</a>在Netlify中设置增量构建。它使用Gatsby缓存插件来帮助在构建之间保持缓存，并且只重建已经更改的文件。这极大地改善了网站的构建时间。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="ac10" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">感谢阅读！</strong></p><p id="fe65" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请随意查看我网站上的回购，看看这些技巧在起作用，希望你会发现它们很有用。如果你有任何问题，我很乐意帮忙。</p><div class="mv mw gp gr mx my"><a href="https://github.com/fabianlee1211/sugarfabby.com" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">fabianlee1211/sugarfabby.com</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">我的个人作品集和博客网站disrupt GitHub是超过5000万开发者的家园，他们一起工作来托管…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm jt my"/></div></div></a></div></div></div>    
</body>
</html>