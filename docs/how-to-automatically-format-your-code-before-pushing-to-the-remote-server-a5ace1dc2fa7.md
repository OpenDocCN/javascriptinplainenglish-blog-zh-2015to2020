# å¦‚ä½•åœ¨æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨ä¹‹å‰è‡ªåŠ¨æ ¼å¼åŒ–æ‚¨çš„ä»£ç 

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/how-to-automatically-format-your-code-before-pushing-to-the-remote-server-a5ace1dc2fa7?source=collection_archive---------6----------------------->

![](img/24591e4c35ec0b208225605b66feb9bf.png)

## å¿«é€Ÿå°ç»“

å¦‚æœä½ å’Œä¸¤ä¸ªä»¥ä¸Šçš„å¼€å‘äººå‘˜ä¸€èµ·å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä¸åŒæ ¼å¼çš„ä»£ç ä¼šäº§ç”Ÿä¸åŒç±»å‹çš„é—®é¢˜ï¼Œæ¯”å¦‚åˆå¹¶å†²çªã€ä»£ç ä¸å¯è¯»ç­‰ç­‰ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® git æŒ‚é’©ï¼Œåœ¨æ¨å…¥è¿œç¨‹æœåŠ¡å™¨ä¹‹å‰æ ¼å¼åŒ–ä»£ç ã€‚

## æˆ‘ä»¬å¼€å§‹å§

ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘å°†ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ react åº”ç”¨ç¨‹åºï¼Œå®ƒé€šè¿‡ create-react-app æ¥åˆ›å»ºã€‚

## è®¾ç½® Git æŒ‚é’©

Git æŒ‚é’©åŸºæœ¬ä¸Šæ˜¯ä¸€ç§äº‹ä»¶ç›‘å¬å™¨ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ git æŒ‚é’©æ¥ç›‘å¬ä»»ä½• git äº‹ä»¶ã€‚

åœ¨ Javascript ä¸–ç•Œé‡Œï¼Œ [Husky](https://github.com/typicode/husky) è®© Git æŒ‚é’©å˜å¾—ç®€å•ğŸ¶æ±ªæ±ªï¼ã€‚

è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å®‰è£…å“ˆå£«å¥‡ã€‚

```
npm install husky --save-dev
```

æˆ‘ä»¬å°†ä½¿ç”¨ [lint-staged](https://www.npmjs.com/package/lint-staged)

```
npm install lint-staged
```

ç°åœ¨æ‰“å¼€ package.json æ–‡ä»¶å¹¶æ·»åŠ è¿™ä¸ªæ¡ç›®å¤–å£³æ¡ç›®

è¿™æ®µä»£ç å°†åœ¨ä»£ç æäº¤ä¹‹å‰è¿è¡Œï¼Œè¿™æ„å‘³ç€æ— è®ºä½•æ—¶è¿è¡Œå‘½ä»¤`git commit -m "dsad"`ï¼Œå®ƒéƒ½ä¼šè¿è¡Œã€‚

é€šè¿‡ä½¿ç”¨ lint-stagedï¼Œæ‚¨å¯ä»¥å•ç‹¬ä¸ºæ‰€éœ€çš„æ–‡ä»¶æ‰©å±•åè¿è¡Œ Git æŒ‚é’©ã€‚

## æ ¼å¼åŒ–ä»£ç 

ä¸ºäº†æ ¼å¼åŒ–ä»£ç ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[æ›´æ¼‚äº®çš„](https://prettier.io/)ã€‚æ¼‚äº®æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å·¥å…·ï¼Œé€šè¿‡ç¼–ç¨‹æ¥æ ¼å¼åŒ–ä»£ç ã€‚

```
npm install prettier --save-dev
```

å¦‚æœä½ æƒ³å®šåˆ¶æ ¼å¼åŒ–ï¼Œä½ å¯ä»¥åœ¨`package.json`ä¸Šæ·»åŠ `prettier`æ¡ç›®

## æ’åºå¯¼å…¥

å¾ˆå¤šæ—¶å€™ï¼Œimport è¯­å¥ä¼šäº§ç”Ÿåˆå¹¶å†²çªã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ¥é¿å… Githooks ä¸Šçš„æ’åºå¯¼å…¥ã€‚

```
npm install import-sort-cli import-sort-style-renke --save-dev
```

[å¯¼å…¥-æ’åº-æ ·å¼-ä»»å¯](https://npmjs.com/package/import-sort-style-renke)æ˜¯`sort-importen`å·¥å…·çš„ä¸€ä¸ªæ ·å¼ï¼Œä¸å…¶ä»–æ ·å¼ç›¸æ¯”ï¼Œå®ƒéå¸¸å¥½ã€‚

è®©æˆ‘ä»¬åœ¨ package.json ä¸­é…ç½® [import-sort-cli](https://npmjs.com/package/import-sort-cli)

å¥½äº†ï¼Œæˆ‘ä»¬çš„æœ€ç»ˆä»£ç ï¼

## è®©æˆ‘ä»¬æµ‹è¯•ä½ çš„ä»£ç 

æ¯å½“ä½ æäº¤ä»£ç çš„æ—¶å€™,`lint-staged`å°±ä¼šè¿è¡Œå¾—æ›´æ¼‚äº®å¹¶å¯¼å…¥æ’åºã€‚è¿™äº›å°†è‡ªåŠ¨æ ¼å¼åŒ–å’Œå¯¼å…¥ä»£ç ã€‚

```
git add .
git commit -m "Test the husky"
```

***æ„Ÿè°¢åšæŒåˆ°æœ€å:)*** *å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥è€ƒè™‘* [*åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘*](https://twitter.com/NaveenDA_) *å¹¶ä¸ä½ çš„å¼€å‘è€…æœ‹å‹åˆ†äº«è¿™ç¯‡æ–‡ç« ğŸ‹ğŸ˜€*