<html>
<head>
<title>10 Simple and useful tricks with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript的10个简单而有用的技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/10-simple-and-useful-tricks-with-javascript-f5b6cff806ee?source=collection_archive---------2-----------------------#2020-02-20">https://javascript.plainenglish.io/10-simple-and-useful-tricks-with-javascript-f5b6cff806ee?source=collection_archive---------2-----------------------#2020-02-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9948" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简短、有用的JavaScript课程——让它变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6b424bcba20ddd192d8c6cd0e1e1026f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LeYBjLHr6kmYIoSx-aHdDA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Two monitors with no visible code</figcaption></figure><p id="ab22" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">本文的内容是:</p><ul class=""><li id="5b19" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">1.用值填充数组</li><li id="d06c" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">2.获取数组唯一值</li><li id="09e0" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">3.替换JavaScript字符串中出现的所有单词</li><li id="239e" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">4.得到一个概率为X的随机值</li><li id="92fd" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">5.生成唯一的通用标识符UUID</li><li id="4d82" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">6.数组项的对象破坏</li><li id="bd56" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">7.创建纯对象</li><li id="0432" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">8.格式化JSON代码</li><li id="0605" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">9.展平多维数组</li><li id="6b96" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">10.合并对象</li></ul><p id="4721" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所有示例均已在铬≥ 72中进行了测试</p><h1 id="c9f4" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">1.用值填充数组</h1><p id="f7ef" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">规格:ECMAScript 2015(第6版，ECMA-262)。</p><p id="33a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Array.prototype.fill()方法用静态值填充数组中的指定元素。</p><p id="a390" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">语法:array.fill(value，start，end)。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="b1de" class="nh mg iq nd b gy ni nj l nk nl">let array = Array(3).fill('hello');<br/>console.log(array); <br/>// ["hello", "hello", "hello"]</span><span id="1414" class="nh mg iq nd b gy nm nj l nk nl">let array = Array(6).fill('hello',2,4);<br/>console.log(array); <br/>// ["hello", "hello", "hello"]</span><span id="5aed" class="nh mg iq nd b gy nm nj l nk nl">[empty × 2, "hello", "hello", empty × 2]<br/>2: "hello"<br/>3: "hello"<br/>length: 6</span></pre><h1 id="85ac" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">2.获取数组唯一值</h1><p id="fb9e" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">规格:ECMAScript 2015(第6版，ECMA-262)。</p><p id="0e7f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以使用数组的本机<strong class="kx ir">过滤器</strong>方法，或者通过以下方式使用<strong class="kx ir"> Set对象</strong> : new Set([iterable])来获取具有唯一值的数组:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="bd93" class="nh mg iq nd b gy ni nj l nk nl">const numbers = [<br/>    '1’, <br/>    '2’, <br/>    '1’, <br/>    '2’, <br/>    '3'<br/>]</span><span id="bcab" class="nh mg iq nd b gy nm nj l nk nl">//<strong class="nd ir">With array From + Set</strong><br/>const uniques = Array.from(new Set(numbers));</span><span id="cbf9" class="nh mg iq nd b gy nm nj l nk nl">/With Spread operator + Set<br/>const uniquesWithSpreadOperator = [...new Set(numbers)];</span><span id="035e" class="nh mg iq nd b gy nm nj l nk nl">//<strong class="nd ir">With filte</strong>r<br/>function only(value, index, self) { <br/>    return self.indexOf(value) === index<br/>}</span><span id="f969" class="nh mg iq nd b gy nm nj l nk nl">const uniquesWithFilter = numbers.filter();</span><span id="618a" class="nh mg iq nd b gy nm nj l nk nl">uniques<br/>// ["1", "2", "3"]</span><span id="71e4" class="nh mg iq nd b gy nm nj l nk nl">uniquesWithSpreadOperator<br/>// ["1", "2", "3"]</span><span id="cdbd" class="nh mg iq nd b gy nm nj l nk nl">uniquesWithFilter<br/>// ["1", "2", "3"]</span></pre><h1 id="5674" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">3.替换JavaScript字符串中出现的所有单词</h1><p id="e461" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">为了替换指定字符串的所有实例，您可以使用<br/>使用以下内容:</p><p id="c31a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用正则表达式:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="823f" class="nh mg iq nd b gy ni nj l nk nl">let str = 'hello world! hello you! Hello Elsy!';</span><span id="90e9" class="nh mg iq nd b gy nm nj l nk nl">str.replace(new RegExp('hello', 'g'), 'hi');</span><span id="0b1a" class="nh mg iq nd b gy nm nj l nk nl">//"hi world! hi you! Hello Elsy!"</span></pre><p id="7c07" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用拆分()和连接()JavaScript函数:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="db3b" class="nh mg iq nd b gy ni nj l nk nl">let str = 'hello world! hello you! Hello Elsy!';</span><span id="6b90" class="nh mg iq nd b gy nm nj l nk nl">str.split('hello').join('hi');</span><span id="2856" class="nh mg iq nd b gy nm nj l nk nl">"hi world! hi you! Hello Elsy!"</span></pre><h1 id="b1e0" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">4.获取概率为“%”的随机值</h1><p id="2079" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">规格:ECMAScript 1。</p><p id="8b3b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以同样的概率随机返回<strong class="kx ir">真</strong>或<strong class="kx ir">假</strong>值:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="bf6d" class="nh mg iq nd b gy ni nj l nk nl">let randomValue = Math.random() &gt;= 0.5;</span><span id="004c" class="nh mg iq nd b gy nm nj l nk nl">randomValue<br/>//true</span><span id="36e7" class="nh mg iq nd b gy nm nj l nk nl">let randomValue = Math.random() &gt;= 0.5;</span><span id="c1a7" class="nh mg iq nd b gy nm nj l nk nl">randomValue<br/>//false</span></pre><h1 id="7dbc" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">5.生成唯一的通用标识符UUID</h1><p id="c8b2" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">这里有一个使用加密API (ECMAScript 2015 (ES6))的解决方案。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="f477" class="nh mg iq nd b gy ni nj l nk nl">function uuid() {<br/>  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =&gt;<br/>    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] &amp; 15 &gt;&gt; c /   <br/>       4).toString(16)<br/>  );<br/>}</span><span id="03e6" class="nh mg iq nd b gy nm nj l nk nl">console.log(uuid());<br/>//f6e1a686-7fd7-410b-bdaa-ebdfbdd5cc52</span></pre><h1 id="4e69" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">6.数组项的对象破坏</h1><p id="15ab" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">规格:ECMAScript 2015(第6版，ECMA-262)。</p><p id="ce37" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用对象析构将数组项分配给单个变量:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="c29e" class="nh mg iq nd b gy ni nj l nk nl">const csvString = 'A team,Alabama,US,Hannibal Smith,New York,1000';</span><span id="ac8b" class="nh mg iq nd b gy nm nj l nk nl">const {3: name, 4: country,0: team} = csvString.split(',');</span><span id="9fdb" class="nh mg iq nd b gy nm nj l nk nl">name<br/>//"Hannibal Smith"</span><span id="eb24" class="nh mg iq nd b gy nm nj l nk nl">country<br/>//"New York"</span><span id="f0d0" class="nh mg iq nd b gy nm nj l nk nl">team<br/>//"A Team"</span></pre><h1 id="eec6" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">7.创建纯对象</h1><p id="3c44" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">常规对象继承自对象:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="a591" class="nh mg iq nd b gy ni nj l nk nl">const regularObject = {};<br/>regularObject.name = "Hannibal Smith";<br/>//"Hannibal Smith"</span><span id="ad05" class="nh mg iq nd b gy nm nj l nk nl">regularObject <br/>//{name: "Hannibal Smith"}<br/>name: "Hannibal Smith"<br/><strong class="nd ir">__proto__: Object</strong></span></pre><p id="158c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用对象创建纯对象。创建():</p><p id="e6c0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">规格:ECMAScript 2015(第6版，ECMA-262)</p><p id="185a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Sintax: Object.create(proto[，propertiesObject])。</p><p id="fe90" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">纯物无属性:x. <strong class="kx ir"> __proto__ </strong>且不继承<strong class="kx ir">物</strong>:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="2324" class="nh mg iq nd b gy ni nj l nk nl">const myPureObject = Object.create(null);</span><span id="7abf" class="nh mg iq nd b gy nm nj l nk nl">myPureObject.name = "Hannibal Smith";</span><span id="b913" class="nh mg iq nd b gy nm nj l nk nl">myPureObject<br/>// {name: "Hannibal Smith"}</span></pre><h1 id="ff71" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">8.格式化JSON代码</h1><p id="99bb" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">规格:ECMAScript 2015(第6版，ECMA-262)。</p><p id="cd5f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">用JSON.stringify将一个对象格式化为JSON字符串非常简单</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="649a" class="nh mg iq nd b gy ni nj l nk nl">const myTeam = {"name":"Hannibal", "lastName":"Smith", "team":"A team"};</span><span id="26c6" class="nh mg iq nd b gy nm nj l nk nl">JSON.stringify(myTeam);</span><span id="bb57" class="nh mg iq nd b gy nm nj l nk nl">// Json:<br/>//"{"name":"Hannibal","lastName":"Smith","team":"A team"}"</span></pre><h1 id="4597" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">9.展平多维数组</h1><p id="de06" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">您可以使用ECMAScript 2015(第6版，ECMA-262)扩展运算符来执行此操作。</p><p id="0c4b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">阵列深度为1:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="dc7d" class="nh mg iq nd b gy ni nj l nk nl">const multiDimensionalArray = [ ['a', 'b'], ['c', 'd'], [1, 2] ];</span><span id="1aa6" class="nh mg iq nd b gy nm nj l nk nl">const flattenedArray = [].concat(...multiDimensionalArray);</span><span id="3e79" class="nh mg iq nd b gy nm nj l nk nl">flattenedArray<br/>// ["a", "b", "c", "d", 1, 2]</span></pre><p id="b233" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以传递参数来选择展平的深度</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="f0aa" class="nh mg iq nd b gy ni nj l nk nl">const multiDimensionalArray2 = [ <strong class="nd ir">[</strong> <strong class="nd ir">[</strong>'a', 'b'<strong class="nd ir">]</strong> <strong class="nd ir">]</strong>, <strong class="nd ir">[</strong> <strong class="nd ir">[</strong>'c', 'd'<strong class="nd ir">]</strong> <strong class="nd ir">]</strong>, [1, 2] ];</span><span id="3215" class="nh mg iq nd b gy nm nj l nk nl">const flattenedArray2 = multiDimensionalArray2.flat(2);</span><span id="cf04" class="nh mg iq nd b gy nm nj l nk nl">flattenedArray2<br/>// ["a", "b", "c", "d", 1, 2]</span></pre><h1 id="95e8" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">10.合并对象</h1><p id="eb1d" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">规格:ECMAScript，2018。</p><p id="aa45" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用对象扩散运算符在JavaScript中合并N个对象非常简单。</p><p id="1807" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意:如果<strong class="kx ir">对象</strong>有一个同名的属性，则最后一个<strong class="kx ir">对象</strong>属性会覆盖前面的属性。</p><p id="cae7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用扩展运算符的示例。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="bd2a" class="nh mg iq nd b gy ni nj l nk nl">let hannibal = {leader: 'Hannibal', eyes:'blues'};</span><span id="6d71" class="nh mg iq nd b gy nm nj l nk nl">let templeton = {faceman: 'Templeton', lastname: 'Peck', eyes:"blues"};</span><span id="2547" class="nh mg iq nd b gy nm nj l nk nl">let baracus = {strongman: 'B.A', fears: 'fly in a plane', eyes:"brown"};</span><span id="8173" class="nh mg iq nd b gy nm nj l nk nl">let murdock = {howlingMad: 'H. M.', abilities: 'pilot'};</span><span id="fb2e" class="nh mg iq nd b gy nm nj l nk nl">let theATeam = {...hannibal, ...templeton, ...baracus, ... <br/>murdock};</span><span id="9e54" class="nh mg iq nd b gy nm nj l nk nl">theATeam;</span><span id="deda" class="nh mg iq nd b gy nm nj l nk nl">//{leader: "Hannibal", eyes: "brown", faceman: "Templeton", //lastname: "Peck", strongman: "B.A", …}</span><span id="2f92" class="nh mg iq nd b gy nm nj l nk nl">leader: "Hannibal"<br/>    eyes: "brown"<br/>    faceman: "Templeton"<br/>    lastname: "Peck"<br/>    strongman: "B.A"<br/>    fears: "fly in a plane"<br/>    howlingMad: "H. M."<br/>    abilities: "pilot"</span></pre><p id="95db" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用ECMAScript 2015(第6版，ECMA-262)对象。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="ac04" class="nh mg iq nd b gy ni nj l nk nl">let hannibal = {leader: 'Hannibal', eyes:'blues'};</span><span id="20e2" class="nh mg iq nd b gy nm nj l nk nl">let templeton = {faceman: 'Templeton', lastname: 'Peck', eyes:"blues"};</span><span id="d2b8" class="nh mg iq nd b gy nm nj l nk nl">let baracus = {strongman: 'B.A', fears: 'fly', eyes:"brown"};</span><span id="0e43" class="nh mg iq nd b gy nm nj l nk nl">let murdock = {howlingMad: 'H. M.', abilities: 'pilot'};</span><span id="6ab2" class="nh mg iq nd b gy nm nj l nk nl">let theATeam = {}; <br/>Object.<strong class="nd ir">assign</strong>(theATeam, hannibal, templeton, baracus, murdock);</span><span id="e453" class="nh mg iq nd b gy nm nj l nk nl">//{leader: "Hannibal", eyes: "brown", faceman: "Templeton", //lastname: "Peck", strongman: "B.A", ...}</span><span id="6b98" class="nh mg iq nd b gy nm nj l nk nl">leader: "Hannibal"<br/>    eyes: "brown"<br/>    faceman: "Templeton"<br/>    lastname: "Peck"<br/>    strongman: "B.A"<br/>    fears: "fly"<br/>    howlingMad: "H. M."<br/>    abilities: "pilot"</span></pre><h2 id="61ef" class="nh mg iq bd mh nn no dn ml np nq dp mp le nr ns mr li nt nu mt lm nv nw mv nx bi translated">如果这对您有帮助，请单击下面的鼓掌按钮。谢谢！！</h2></div></div>    
</body>
</html>