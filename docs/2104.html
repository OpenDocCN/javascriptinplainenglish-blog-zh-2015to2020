<html>
<head>
<title>JavaScript Code Styling Best Practices — Statements, Comments, Conditionals, and Constructors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript代码样式最佳实践—语句、注释、条件和构造函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-code-styling-best-practices-statements-comments-conditionals-and-constructors-cd1f8ea17163?source=collection_archive---------10-----------------------#2020-05-19">https://javascript.plainenglish.io/javascript-code-styling-best-practices-statements-comments-conditionals-and-constructors-cd1f8ea17163?source=collection_archive---------10-----------------------#2020-05-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a9b7d65e52fd4554e293c9abb39d2246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rmkeacMPo8in0kZP"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@les_elizabethj?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Leslie Jones</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e471" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="c9ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究函数中应该包含的语句数量、多行注释、三元表达式之间的换行符，以及命名和调用构造函数的问题。</p><h1 id="262f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">函数中语句的数量</h1><p id="22da" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">函数中语句的数量应该与函数中的行数相似。这两者都应该最小化。</p><p id="4d19" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，语句越少，我们的函数就越容易理解。</p><h1 id="8b47" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">每行的最大语句数</h1><p id="01a5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">每行的最大语句数应该最小化，这样大多数人不用水平滚动就可以阅读一行中的所有内容。</p><p id="41d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着一行中的所有内容应该在100个字符左右。</p><p id="e0c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">太多的语句很难阅读，即使它们用分号分隔。</p><p id="078b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，下面的代码是不好的:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="654b" class="mn lc iq mj b gy mo mp l mq mr">const foo = () =&gt; { let x = 1; let y = 2; let z = 3; let a = 4; }</span></pre><p id="3ce2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">即使用分号分隔语句，也很长，很难读懂。</p><p id="4268" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，下面的要好得多:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7684" class="mn lc iq mj b gy mo mp l mq mr">const foo = () =&gt; {<br/>  let x = 1;<br/>  let y = 2;<br/>  let z = 3;<br/>  let a = 4;<br/>}</span></pre><p id="0adc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个赋值语句都在一行中，以便于阅读。</p><h1 id="5e67" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">多行注释</h1><p id="b4a5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">编写多行注释的更好方法是使用星号块。带星号的代码块类似于:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c683" class="mn lc iq mj b gy mo mp l mq mr">/* comment */</span></pre><p id="cadb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这适用于单行和多行注释，因此更加灵活。</p><p id="d550" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想用它写一个多行注释，那么可以这样写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3c7e" class="mn lc iq mj b gy mo mp l mq mr">/*<br/> * multiline<br/> * comment <br/> */</span></pre><p id="0566" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它很简洁，适用于单行和多行注释。</p><h1 id="e1ab" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">三元表达式的操作数之间的换行符</h1><p id="d8c4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">大多数三元表达式应该是一行。如果它不止一行，那么我们可能要写一个<code class="fe ms mt mu mj b">if</code>语句来代替。</p><p id="09b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，一个短的三元表达式可以写成如下形式:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d834" class="mn lc iq mj b gy mo mp l mq mr">const foo = condition ? 'foo' : 'bar';</span></pre><p id="f1c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果三元表达式的任何部分很长，那么我们可以将它重写为一个<code class="fe ms mt mu mj b">if</code>语句，如下所示:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d5f2" class="mn lc iq mj b gy mo mp l mq mr">let foo;<br/>if (condition) {<br/>  foo = [1, 2, 3, 4, 5, 6];<br/>} else {<br/>  foo = [1, 2, 3, 4, 5, 6.7 .8];<br/>}</span></pre><p id="6f1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们在上面的代码中有长表达式，所以<code class="fe ms mt mu mj b">if</code>语句是一个更好的选择，因为如果将两个数组放在一行中，它们可能会溢出页面。</p><p id="d455" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们不应该有嵌套的三元表达式。它们总是很难阅读，特别是如果表达式没有括号来分隔三元表达式的开始和结束。</p><p id="2253" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们不应该这样写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9e28" class="mn lc iq mj b gy mo mp l mq mr">const foo = a ? b ? c ? 'foo' : 'bar' : 'baz' : 'qux';</span></pre><p id="90a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像上面这样的嵌套三元表达式很难阅读和理解。</p><h1 id="6c17" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构造函数名称应该以大写字母开头</h1><p id="1ff3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">构造函数和类应该以大写字母开头。这是标准的JavaScript约定，以区别于其他类型的标识符，如变量和非构造函数。</p><p id="3b12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">构造函数和类是等价的，所以它们应该遵循相同的约定。</p><p id="95d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们应该让它们如下所示:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3241" class="mn lc iq mj b gy mo mp l mq mr">class Foo {}</span><span id="bbbf" class="mn lc iq mj b gy mv mp l mq mr">function Bar() {}</span></pre><p id="8939" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，一些JavaScript内置函数如<code class="fe ms mt mu mj b">Boolean</code>和<code class="fe ms mt mu mj b">Symbol</code>打破了这一规则。</p><p id="f29a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们不是构造函数，但是他们的名字的第一个字母是大写的。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/be637bb2b38a62e4b342d4960bc852cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cYtWeIZ-N0QX5jsa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@christianfregnan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christian Fregnan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="4260" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">调用不带参数的构造函数时添加括号</h1><p id="c26e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当我们在JavaScript中调用不带参数的构造函数时，我们可以不用写出括号。</p><p id="1dff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下调用<code class="fe ms mt mu mj b">Foo</code>类:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b998" class="mn lc iq mj b gy mo mp l mq mr">class Foo {}</span><span id="db47" class="mn lc iq mj b gy mv mp l mq mr">const foo = new Foo;</span></pre><p id="54dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，我们不应该这样做，因为许多人不知道这个JavaScript特性。他们可能认为我们在用构造函数或类做别的事情。</p><p id="71d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，为了清楚起见，即使没有参数，我们也应该加上括号。</p><h1 id="9331" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b7c6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">构造函数和类的名字应该以大写字母开头。</p><p id="88d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们不传入任何参数，即使我们不需要它们，我们也应该用括号调用它们。</p><p id="f891" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">三元表达式应该很短。这意味着我们不应该嵌套它们，因为它们很难阅读。</p><p id="0431" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果很长，那么就用一个<code class="fe ms mt mu mj b">if</code>语句来代替。</p><p id="5e43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数中不应该有太多的语句来保持简短。他们应该只做一件事。</p><p id="6c3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">带星号的注释块既可以作为单行注释也可以作为多行注释，所以我们只是用它们来注释我们的代码。</p><h1 id="f1c0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">简明英语团队的笔记</strong></h1><p id="2416" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四种出版物吗？给他们一个关注来表达爱意吧:<a class="ae kc" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="kf ir">JavaScript in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p><p id="25ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还推出了一个YouTube，希望你能通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的英语频道</strong> </a>来支持我们</p><p id="b178" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一如既往,“简明英语”希望帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，并附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div></div>    
</body>
</html>