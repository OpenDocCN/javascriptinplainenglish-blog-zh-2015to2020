<html>
<head>
<title>Build a Flexible React Icon Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建灵活的React图标组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-flexible-react-icon-component-6fb00cdf89b7?source=collection_archive---------6-----------------------#2020-08-16">https://javascript.plainenglish.io/build-a-flexible-react-icon-component-6fb00cdf89b7?source=collection_archive---------6-----------------------#2020-08-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3b11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">图标对于每个项目都是必不可少的。并且有多种方法可以导入它们。很长一段时间以来，我们一直使用链接通过CSS导入它们，或者添加到HTML头或者CSS导入函数。根据开发人员的经验，我们有npm包，带有大量图标，我们可以毫不费力地安装和使用。</p><p id="99ee" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天，我将向您展示如何构建一个灵活的React图标组件，利用这些包和样式化组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/db48053b5476328d95858f2de435e538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MGKmySqSfrFv73-m"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@balazsketyi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Balázs Kétyi</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="940f" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">开始吧！</h1><p id="1d20" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">在你的React项目中，你可以选择安装<a class="ae ky" href="https://github.com/react-icons/react-icons" rel="noopener ugc nofollow" target="_blank"> react-icons </a>或者<a class="ae ky" href="https://github.com/meronex/meronex-icons" rel="noopener ugc nofollow" target="_blank"> meronex-icons </a>。我将使用后者，它是一个反应图标的分支，可以摇动树。这些包的伟大之处在于它们提供了SVG图标。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="fd23" class="mh la in md b gy mi mj l mk ml">yarn add @meronex/icons</span><span id="e9a8" class="mh la in md b gy mm mj l mk ml">npm install @meronex/icons</span></pre><p id="709d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在您的项目中创建一个新的<code class="fe mn mo mp md b">Icon</code>组件，</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="f3b8" class="mh la in md b gy mi mj l mk ml">import React from 'react';</span><span id="c85a" class="mh la in md b gy mm mj l mk ml">const Icon = () =&gt; {};</span><span id="6b01" class="mh la in md b gy mm mj l mk ml">export default Icon;</span></pre><p id="bbdb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，这两个软件包会教你在需要时直接导入图标</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="03c3" class="mh la in md b gy mi mj l mk ml">import { FaBeer } from '@meronex/icons/fa';</span><span id="8e90" class="mh la in md b gy mm mj l mk ml">const Beer = () =&gt; &lt;h3&gt;&lt;FaBeer /&gt; for life.&lt;/h3&gt;;</span></pre><p id="0a78" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我觉得这不实际，因为我们通常希望集中组件的行为和显示方式。当使用样式组件时，当你想设计你的图标的样式时，你不想到处导入你的主题。尽管有大量的import语句。</p><h1 id="76cd" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">我们能做什么</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/2cb574aa56a2f4311182f19f61f4275d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*txP620rNdCTLRD8f-ap-RA.png"/></div></div></figure><p id="ce25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里我们使用了两个不常用的特性。</p><h2 id="35f9" class="mh la in bd lb mr ms dn lf mt mu dp lj jv mv mw ln jz mx my lr kd mz na lv nb bi translated">1.样式化组件中的工厂函数</h2><p id="1027" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">它允许我们传入一个返回组件的函数。它通常用于在传递给组件之前改变道具。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/6d26f29fae14538220dbe66822422ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2X8FpAsCSQUwc_9SftSNrA.png"/></div></div></figure><p id="2c07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">郑重声明，</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="6e62" class="mh la in md b gy mi mj l mk ml">const StyledCmp = styled((props) =&gt; &lt;Cmp {...props} /&gt;)``</span><span id="1893" class="mh la in md b gy mm mj l mk ml">// is the same as</span><span id="f252" class="mh la in md b gy mm mj l mk ml">const StyledCmp = styled(Cmp)``</span></pre><h2 id="99bd" class="mh la in bd lb mr ms dn lf mt mu dp lj jv mv mw ln jz mx my lr kd mz na lv nb bi translated">2.React.createElement方法</h2><p id="fe0d" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">当我们想要动态创建组件时，这尤其有用。</p><p id="5ce1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe mn mo mp md b">iconFamilies</code>是一个映射器对象，每个键引用一个家族的图标。我们可以通过传递道具<code class="fe mn mo mp md b">family</code>和<code class="fe mn mo mp md b">name</code>来选择我们想要的任何图标。React将帮助我们快速创建图标。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="a4ee" class="mh la in md b gy mi mj l mk ml">&lt;Icon family="MaterialDesign" name="MdAlarm" /&gt;</span><span id="1929" class="mh la in md b gy mm mj l mk ml">React.createElement(iconFamilies['MaterialDesign']['MdAlarm'])</span><span id="7fb1" class="mh la in md b gy mm mj l mk ml">// is the same as </span><span id="e7fb" class="mh la in md b gy mm mj l mk ml">&lt;MaterialDesignIcons.MdAlarm /&gt;</span></pre><p id="052a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设你有一个主题，你想设置颜色和大小，最终的版本可以是这样的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="0ad0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你不喜欢样式组件，你可以像往常一样简单地用样式对象来实现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="3b79" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">警告</h1><p id="7755" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">这个解决方案要求我们一次导入所有图标。如果你真的关心稍微增加的包大小，我会建议你计划好你将使用的所有图标。然后创建一个包括系列和名称的映射器。这也意味着你需要维护图标列表。</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="28e7" class="mh la in md b gy mi mj l mk ml">import { MdAlarm, MdDelete, ... } from '@meronex/icons/md';<br/>import React from 'react';</span><span id="69d8" class="mh la in md b gy mm mj l mk ml">const iconFamilies = {<br/>  MaterialDesign: {<br/>   MdAlarm,<br/>   MdDelete,<br/>   ...<br/>  }<br/>}</span><span id="48a7" class="mh la in md b gy mm mj l mk ml">const Icon = ({ family, name, ...rest}) =&gt; (<br/>  React.createElement(iconFamilies[family][name]), rest)<br/>)</span><span id="c02a" class="mh la in md b gy mm mj l mk ml">export default Icon;</span></pre></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="c507" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望这对你的项目有用。如果发现这个实现有什么异常，请告诉我。我也很想向你们学习。</p><p id="55f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">干杯！</p></div></div>    
</body>
</html>