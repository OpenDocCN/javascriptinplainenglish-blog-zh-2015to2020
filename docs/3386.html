<html>
<head>
<title>Top React Hooks — Fetch and State Helpers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Top React挂钩—获取和状态助手</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-fetch-and-state-helpers-69557975f99?source=collection_archive---------11-----------------------#2020-09-24">https://javascript.plainenglish.io/top-react-hooks-fetch-and-state-helpers-69557975f99?source=collection_archive---------11-----------------------#2020-09-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9a5f834701b45f83ffcaaa7063501ea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UaP17zMxDyByZmp1"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@davefrancis101?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dave Francis</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fe5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="1955" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应取钩</h1><p id="03bf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-fetch-hook允许我们用钩子从API中获取数据。</p><p id="bb60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的大小很小，并且包含了流和类型脚本类型。</p><p id="8913" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们可以运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ed98" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-fetch-hook</span></pre><p id="7a95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1c1a" class="mn lc iq mj b gy mo mp l mq mr">npm i react-fetch-hook --save</span></pre><p id="9bfc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6e7f" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useFetch from "react-fetch-hook";</span><span id="9ed2" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const { isLoading, data } = useFetch("https://api.agify.io/?name=michael");</span><span id="b66f" class="mn lc iq mj b gy ms mp l mq mr">  return isLoading ? &lt;div&gt;Loading...&lt;/div&gt; : &lt;&gt;{JSON.stringify(data)}&lt;/&gt;;<br/>}</span></pre><p id="0e9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe mt mu mv mj b">useFetch</code>挂钩用于我们想要从中获取数据的API端点的URL。</p><p id="cae0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">isLoading</code>表示加载状态，<code class="fe mt mu mv mj b">data</code>表示数据。</p><p id="30b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它支持错误处理和多请求。</p><p id="80b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用自定义的格式来格式化我们的数据。</p><h1 id="a9f0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应悬挂器</h1><p id="1f34" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-hanger库附带了各种钩子，我们可以用它们来做各种事情。</p><p id="c913" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cb68" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-hanger</span></pre><p id="2d87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe mt mu mv mj b">useInput</code>钩子来自动绑定表单值。</p><p id="6e5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a43f" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useInput } from "react-hanger";</span><span id="f5cb" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const newTodo = useInput("");</span><span id="3795" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;input type="text" value={newTodo.value} onChange={newTodo.onChange} /&gt;<br/>      &lt;p&gt;{newTodo.value}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="4848" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">useInput</code>钩子返回一个具有<code class="fe mt mu mv mj b">value</code>和<code class="fe mt mu mv mj b">onChange</code>属性的对象，我们可以将它们传递给各自的道具。</p><p id="db08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">useBoolean</code>让我们可以轻松地切换布尔值。</p><p id="480e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="695b" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useBoolean } from "react-hanger";</span><span id="2ed5" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const showCounter = useBoolean(true);</span><span id="9116" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={showCounter.toggle}&gt;toggle&lt;/button&gt;<br/>      &lt;p&gt;{showCounter.value.toString()}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="dbbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">useNumber</code>钩子让我们设置一个数字，只要它在一个范围内。</p><p id="2d16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b4ca" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useNumber } from "react-hanger";</span><span id="8015" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const limitedNumber = useNumber(3, { lowerLimit: 0, upperLimit: 5 });</span><span id="71c2" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; limitedNumber.increase()}&gt; increase &lt;/button&gt;<br/>      &lt;button onClick={() =&gt; limitedNumber.decrease()}&gt; decrease &lt;/button&gt;<br/>      &lt;p&gt;{limitedNumber.value}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="8572" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个带有属性为<code class="fe mt mu mv mj b">lowerLimit</code>和<code class="fe mt mu mv mj b">upperLimit</code>的对象的<code class="fe mt mu mv mj b">useNumber</code>钩子。</p><p id="91e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用<code class="fe mt mu mv mj b">increase</code>和<code class="fe mt mu mv mj b">decrease</code>方法来改变<code class="fe mt mu mv mj b">limitedNumber</code>的<code class="fe mt mu mv mj b">value</code>属性。</p><p id="3c8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不能用它设定一个超出给定范围的数字。</p><p id="6846" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以添加<code class="fe mt mu mv mj b">loop</code>选项，并将其设置为<code class="fe mt mu mv mj b">true</code>，这样当数字达到极限时就会循环。</p><p id="51c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们移除钩子的第二个参数中的对象，那么数字可以设置为任意值:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1dd2" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useNumber } from "react-hanger";</span><span id="8721" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const limitedNumber = useNumber(3);</span><span id="36a8" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; limitedNumber.increase()}&gt; increase &lt;/button&gt;<br/>      &lt;button onClick={() =&gt; limitedNumber.decrease()}&gt; decrease &lt;/button&gt;<br/>      &lt;p&gt;{limitedNumber.value}&lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/4c4c6d9b7671a1fd6f1bdbacf72713a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SK-fDZChIf9ohUE-"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@james300402?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">James Hartono</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3c23" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="a768" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">react-fetch-hook让我们可以轻松地从端点获取数据。</p><p id="d46f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用react-hanger钩子，它包含各种状态助手。</p><h2 id="d5d7" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="48f4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>