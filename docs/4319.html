<html>
<head>
<title>Lyrics Finder Application with Nuxt.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Nuxt.js的歌词查找应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lyrics-finder-application-with-nuxt-js-5dec86ef7771?source=collection_archive---------14-----------------------#2020-12-02">https://javascript.plainenglish.io/lyrics-finder-application-with-nuxt-js-5dec86ef7771?source=collection_archive---------14-----------------------#2020-12-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cb7b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用Nuxt.js和tailwind CSS制作一个简单的歌词查找器应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d043101d1a3011d2bc069eaa2dc710a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OZXJNkEHyRDTFk9hud2Xuw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://www.pexels.com/@stasknop?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Stas Knop</a> from <a class="ae kv" href="https://www.pexels.com/photo/black-cassette-tape-on-top-of-red-and-yellow-surface-1626481/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="5d47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用Nuxt.js和Tailwind CSS制作一个简单的歌词查找器应用程序。</p><p id="7dca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">先决条件</strong></p><ul class=""><li id="3dfb" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">安装Node.js</li><li id="c70c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Vue.js的基础知识</li><li id="6bf9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Nuxt.js的基础知识</li><li id="81bc" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">顺风CSS</li></ul><p id="eecc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你不熟悉Nuxt.js及其架构，请查看这个<a class="ae kv" href="https://medium.com/javascript-in-plain-english/getting-started-with-nuxt-4652bc83ddc6" rel="noopener">博客</a>。</p><h2 id="6a2b" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">创建一个Nuxt.js项目</strong></h2><p id="670a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">要创建一个新的Nuxt.js项目，打开您的终端并根据您的首选包管理器运行下面的命令。</p><p id="b431" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也应该安装顺风CSS，因为我们将使用它进行造型。</p><p id="edf0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> NPM </strong></p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="d275" class="mg mh iq nf b gy nj nk l nl nm">npm init nuxt-app <!-- -->lyrics-finder</span></pre><p id="e4a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">纱线</strong></p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="5805" class="mg mh iq nf b gy nj nk l nl nm">yarn create nuxt-app <!-- -->lyrics-finder</span></pre><p id="1e68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些命令将为我们创建一个新的Nuxt.js项目。<br/>现在我们需要导航到pages目录和<strong class="ky ir"> <em class="nn"> index.vue </em> </strong>文件，我们将在这里编码我们的项目。<br/>删除模板中的内容，用歌词查找应用程序的h1制作一个div。对于这个项目，我们也将使用顺风CSS进行造型。</p><h2 id="6218" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">为我们的应用服务</h2><p id="ce9a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">为了提供我们的Nuxt.js项目应用程序文件，我们将在终端上运行下面的命令。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="c7f5" class="mg mh iq nf b gy nj nk l nl nm"><em class="nn">npm run dev</em></span></pre><p id="0aa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将服务于我们的应用程序，并使其在<strong class="ky ir"> localhost:3000上可用。</strong></p><p id="29d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它也将热重新加载我们的应用程序，每次我们做出更改并保存，我们的更改将反映在浏览器中。完美！</p><p id="6fdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要创建一个表单输入部分，用户可以输入<em class="nn"> </em> <strong class="ky ir"> <em class="nn">歌曲名称</em> e </strong>和<strong class="ky ir"> <em class="nn">艺术家姓名</em> </strong>进行歌词搜索。</p><h2 id="2e6f" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">表格输入部分</strong></h2><p id="40fa" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们的输入部分将包括两个输入字段和一个提交按钮。表单的代码如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="05b0" class="mg mh iq nf b gy nj nk l nl nm">&lt;form @submit.prevent="searchLyrics" class="text-center pt-5"&gt;</span><span id="c06a" class="mg mh iq nf b gy no nk l nl nm">&lt;input<br/>v-model="artist"<br/>type="text"<br/>placeholder="Enter artist name"<br/>class="pt-1"<br/>/&gt;</span><span id="e922" class="mg mh iq nf b gy no nk l nl nm">&lt;input<br/>v-model="title"<br/>type="text"<br/>placeholder="Enter song title"<br/>class="pt-1"<br/>/&gt;</span><span id="3fe4" class="mg mh iq nf b gy no nk l nl nm">&lt;button<br/>type="submit"<br/>class="bg-black text-white pr-4 pl-4 rounded pt-1 pb-1"&gt;Search&lt;/button&gt;</span><span id="bf85" class="mg mh iq nf b gy no nk l nl nm">&lt;/form&gt;</span></pre><p id="c94e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在表单输入上使用v-model指令，这使得表单输入和应用程序数据状态之间的双向绑定变得轻而易举。</p><p id="f744" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当用户在输入字段中输入数据时，它会自动将数据绑定到数据函数中的标题实例。</p><p id="c2a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请参见下面的示例。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="4dfe" class="mg mh iq nf b gy nj nk l nl nm">data() {<br/> return {<br/> // bind data<br/> artist: “chris brown”,<br/> title: “heat”,<br/> lyrics: [],<br/> };<br/> }</span></pre><h2 id="9b93" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">创建了</strong></h2><p id="b89f" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">创建实例后，将同步调用创建的生命周期挂钩。这将使创建的实例中的函数在每次创建应用程序实例时被触发。</p><p id="75b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们将利用的API端点不需要任何身份验证。</p><p id="93e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还将在创建的实例上使用async await来使我们的请求异步。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="5a4a" class="mg mh iq nf b gy nj nk l nl nm">async created() {<br/> //Called synchronously after the instance is created<br/> <br/> }</span></pre><p id="913a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在创建的生命周期挂钩上，我们将使用fetch发出<strong class="ky ir"> <em class="nn"> HTTPS </em> </strong>请求，如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="4ca2" class="mg mh iq nf b gy nj nk l nl nm">async created() {</span><span id="7b99" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">//Called synchronously after the instance is created</em></span><span id="73cc" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">try</em> {<br/>const response = <em class="nn">await</em> fetch(`https://api.lyrics.ovh/v1/${this.artist}/${this.title}`);</span><span id="3f33" class="mg mh iq nf b gy no nk l nl nm">const data = <em class="nn">await</em> response.json();<br/>this.lyrics = data.lyrics;</span><span id="33bf" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">// reset the data object to prevent from showing in the form input<br/></em>this.artist = "";<br/>this.title = "";</span><span id="fd65" class="mg mh iq nf b gy no nk l nl nm">} <em class="nn">catch</em> (error) {<br/>console.log(error);</span><span id="262a" class="mg mh iq nf b gy no nk l nl nm">}<br/>}</span></pre><h2 id="6d54" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">进行搜索</strong></h2><p id="4e20" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">为了在用户点击提交时进行搜索，我们必须将<strong class="ky ir"> @submit </strong>指令绑定到一个方法。</p><p id="21fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在表单上，我们已经用<strong class="ky ir">锁住了<em class="nn">。阻止</em>到</strong>的提交指令。这样做是为了防止每次单击提交按钮时表单冒泡并刷新页面。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="5a23" class="mg mh iq nf b gy nj nk l nl nm">&lt;form <a class="ae kv" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent=”searchLyrics” class=”text-center pt-5"&gt;</span></pre><p id="92c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有一个名为<strong class="ky ir"> <em class="nn"> searchLyrics </em> </strong>的方法，这是一个异步函数，它向API端点发出获取歌词的请求。</p><p id="df88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nn"> searchLyrics </em> </strong>方法如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="d76d" class="mg mh iq nf b gy nj nk l nl nm">methods: {<br/> async searchLyrics() {<br/> // fetch lyrics from api here<br/> try {</span><span id="7f74" class="mg mh iq nf b gy no nk l nl nm"> const response = await fetch(<br/> `<a class="ae kv" href="https://api.lyrics.ovh/v1/${this.artist}/${this.title}`" rel="noopener ugc nofollow" target="_blank">https://api.lyrics.ovh/v1/${this.artist}/${this.title}`</a><br/> );<br/> const data = await response.json();</span><span id="8ec0" class="mg mh iq nf b gy no nk l nl nm">//store the lyrics<br/>this.lyrics=data.lyrics</span><span id="f7a0" class="mg mh iq nf b gy no nk l nl nm">// reset the data object to prevent from showing in the form input<br/> this.artist = “”;<br/> this.title = “”;</span><span id="ce14" class="mg mh iq nf b gy no nk l nl nm"> } catch (error) {<br/> console.log(error);<br/> }<br/> },<br/> }</span></pre><p id="cbd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了将存储的歌词呈现到DOM中，我们需要使用双花括号调用数据实例中的歌词，如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="cb88" class="mg mh iq nf b gy nj nk l nl nm">&lt;div class="pt-4 max-w-sm text-center m-auto"&gt;</span><span id="0801" class="mg mh iq nf b gy no nk l nl nm">&lt;p&gt;{{ lyrics }}&lt;/p&gt;</span><span id="1385" class="mg mh iq nf b gy no nk l nl nm">&lt;/div&gt;</span></pre><p id="ff02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这样，我们用NuxtJs做了一个简单的歌词查找应用程序。</p><p id="6228" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个项目的代码可以在<a class="ae kv" href="https://github.com/developerphilo/Lyrics-Finder-App" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="c93e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">免责声明</strong>:我们利用的API端点不提供某些歌曲的歌词，因此如果您搜索了您最喜欢的歌曲，但没有找到歌词，请不要惊慌。</p><h2 id="d770" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">结论</h2><p id="68cf" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">感谢您通读这篇文章。如果你觉得有帮助，请分享。</p><p id="4511" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简单回顾一下，我们已经了解了如何:</p><ul class=""><li id="8c87" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">使用fetch进行异步API调用</li><li id="5ea4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将表单输入绑定到数据实例</li><li id="54cf" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">使用顺风类</li></ul></div></div>    
</body>
</html>