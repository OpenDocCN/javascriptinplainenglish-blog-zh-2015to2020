<html>
<head>
<title>Debouncing and Throttling in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的去抖动和节流</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/debouncing-and-throttling-a4b18b0cb55d?source=collection_archive---------10-----------------------#2020-10-14">https://javascript.plainenglish.io/debouncing-and-throttling-a4b18b0cb55d?source=collection_archive---------10-----------------------#2020-10-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/48644acb199638fd60742671c0714ee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vnOTeESyeGO0UiQlgLsyxw.jpeg"/></div></div></figure><p id="3fbb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">事件侦听器帮助我们绑定当事件被发出时调用的函数，比如滚动或调整大小。</p><p id="3f71" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是，如果在很短的时间内多次调用该事件，该怎么办呢？如果侦听器调用的函数是密集型的，它会严重影响性能。</p><p id="6a7c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这种情况下，去抖动和节流非常有用。</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><h2 id="30d0" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">节流</h2><p id="fb2d" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">节流本质上是让你在给定的时间内只执行一次函数。</p><p id="c422" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果给定的持续时间是500毫秒，无论在这500毫秒内事件被发出多少次，事件都将只执行一次。假设一个事件连续触发3秒钟，上面的例子将让函数只触发6次。</p><p id="50d0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ly">它的一个关键部分是提供的持续时间是固定的，我们保证函数在给定的时间内至少执行一次。</em></p><p id="2aa2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在需要及时更新的<strong class="jx io">连续事件触发器</strong>的情况下，这真的会派上用场。一个很好的例子就是页面的滚动，以及一个监听事件来触发一些DOM操作的后续函数。</p><p id="3bbb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">实现方法如下所示:</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><h2 id="779d" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">去抖动</h2><p id="366d" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated"><strong class="jx io">去抖</strong>是在执行最终功能之前，延迟某次执行以适应所有变化。</p><p id="63ac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它与throttle非常相似，只是每次触发事件时都会刷新时间延迟。</p><p id="a1d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">假设提供的时间延迟为500毫秒，事件触发时间为3秒，该函数将在3.05秒后只运行一次。</p><p id="54bd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里重要的一点是，你不能保证函数在给定的延迟时间内至少触发一次，而是每次调用函数时延迟时间都会更新。</p><p id="023d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这在<strong class="jx io">函数只需要为最终输出</strong> <strong class="jx io">触发一次的情况下特别有用，在连续触发的情况下可以忽略之前的调用。</strong></p><p id="d452" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个例子是搜索输入触发器。如果您绑定到输入的change事件来更新结果，通常不建议为每个输入的字母发送API调用。如果在发送最终请求之前，我们宁愿等待2秒钟，以确保用户没有进一步的更改，这将大大减少API调用的数量。</p><p id="eea3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">实现方法如下所示:</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="0ce2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于一个简单的演示来看，触发频率的差异，你可以检查这个小提琴:</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="mf me l"/></div></figure><p id="158a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的演示中，<strong class="jx io">油门</strong>和<strong class="jx io">去抖</strong>都有一个<strong class="jx io"> 1秒</strong>的延时。</p><p id="cf50" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">希望这有所帮助！加大油门。</p><p id="027e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae mg" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">订阅解码得到更多类似内容，我们的YouTube频道</strong> </a> <strong class="jx io">！</strong></p></div></div>    
</body>
</html>