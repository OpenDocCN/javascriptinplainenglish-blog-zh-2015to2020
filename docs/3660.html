<html>
<head>
<title>A Guide To Array.reduce() in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的Array.reduce()指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-guide-to-array-reduce-method-in-javascript-and-its-use-cases-71fa655279f5?source=collection_archive---------12-----------------------#2020-10-15">https://javascript.plainenglish.io/a-guide-to-array-reduce-method-in-javascript-and-its-use-cases-71fa655279f5?source=collection_archive---------12-----------------------#2020-10-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c0efb94678a046b0b1e90cf9b8c8a243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYh_feN1MOQ_onsGZkmrQw.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Array.reduce() by jscurious.com</figcaption></figure><p id="f94a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><code class="fe kx ky kz la b">Array.reduce()</code>方法将数组缩减为单个值。<code class="fe kx ky kz la b">reduce()</code>方法将一个reducer函数作为第一个参数，将一个初始值作为第二个可选参数。reducer函数对数组的每个元素执行，并返回一个值，该值进一步作为第一个参数(累加器)提供给下一个reducer函数调用。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="37a2" class="lj lk in la b gy ll lm l ln lo">array.reduce(reducerFunction, initialValue);</span></pre><p id="8863" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">reducer函数采用两个必需的参数，即累加器和当前值。累加器要么是初始值，要么是先前返回的值。第二个参数是当前元素的值。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="af25" class="lj lk in la b gy ll lm l ln lo">function reducerFunction(accumulator, currentValue, currentIndex, array) {}</span></pre><p id="1be5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">reducer函数还带有两个可选参数，即currentIndex和array。currentIndex是数组中currentValue的索引，最后一个可选参数是调用了<code class="fe kx ky kz la b">reduce()</code>方法的数组。</p><h1 id="9af2" class="lp lk in bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">reduce()方法如何工作</h1><p id="07d2" class="pw-post-body-paragraph jz ka in kb b kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw ig bi translated">让我们看一个对数组的所有值求和的例子。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="26f1" class="lj lk in la b gy ll lm l ln lo">let numbers = [25, 48, 13]; </span><span id="3992" class="lj lk in la b gy mr lm l ln lo">let total = numbers.reduce(reducerFunction); </span><span id="a555" class="lj lk in la b gy mr lm l ln lo">function reducerFunction(result, current) { <br/>  return result + current; <br/>} </span><span id="b784" class="lj lk in la b gy mr lm l ln lo">console.log(total); // 86</span></pre><p id="28b4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">所以这里第一次调用<code class="fe kx ky kz la b">reducerFunction</code>，以<strong class="kb io"> 25 </strong>和<strong class="kb io"> 45 </strong>为参数，返回<strong class="kb io"> 73 </strong>。下一次第二次<code class="fe kx ky kz la b">reducerFunction</code>用先前返回值<strong class="kb io"> 73 </strong>和<strong class="kb io"> 13 </strong>调用并返回<strong class="kb io"> 86 </strong>。</p><p id="c18d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们可以通过在返回之前提供一个<code class="fe kx ky kz la b">console.log</code>语句来检查<code class="fe kx ky kz la b">reducerFunction</code>被调用了多少次以及参数的值。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="64b2" class="lj lk in la b gy ll lm l ln lo">function reducerFunction(result, current) { <br/>  console.log(result, current); <br/>  return result + current; <br/>}</span></pre><p id="e614" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><code class="fe kx ky kz la b">reducerFunction</code>的输出将是:</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="b8c5" class="lj lk in la b gy ll lm l ln lo">result:25 current:48 <br/>result:73 current:13</span></pre><p id="98d2" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果我们将初始值传递给<code class="fe kx ky kz la b">reducerFunction</code>，那么对于第一次调用，初始值将是第一个参数，数组的第一个元素将是第二个参数。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="9479" class="lj lk in la b gy ll lm l ln lo">let numbers = [25, 48, 13];<br/> <br/>let initial = 0; </span><span id="d946" class="lj lk in la b gy mr lm l ln lo">let total = numbers.reduce(reducerFunction, initial); </span><span id="2441" class="lj lk in la b gy mr lm l ln lo">function reducerFunction(result, current) { <br/>   console.log(result, current); <br/>   return result + current; <br/>}</span><span id="ee22" class="lj lk in la b gy mr lm l ln lo">console.log(total); // 86</span></pre><p id="44fc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">输出</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="7155" class="lj lk in la b gy ll lm l ln lo">result:0 current:25 <br/>result:25 current:48 <br/>result:73 current:13 <br/>86</span></pre><p id="2fa5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">再来看一些<code class="fe kx ky kz la b">reduce()</code>方法的例子。</p><h1 id="0923" class="lp lk in bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">查找数组中的最大值和最小值</h1><p id="c83e" class="pw-post-body-paragraph jz ka in kb b kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw ig bi translated">如果我们有一个数字数组，那么我们可以通过比较数组中的每两个数字来找到最大值和最小值。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="8854" class="lj lk in la b gy ll lm l ln lo">let numbers = [25, 48, 13, 83, 59]; </span><span id="6c38" class="lj lk in la b gy mr lm l ln lo">let maxNumber = numbers.reduce((max, current) =&gt; { <br/>    return max &gt; current ? max : current; <br/>}); </span><span id="af3c" class="lj lk in la b gy mr lm l ln lo">console.log(maxNumber); //83</span></pre><p id="5304" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">类似地，我们可以通过如下改变减速器函数来找到最小数量:</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="c6a3" class="lj lk in la b gy ll lm l ln lo">let minNumber = numbers.reduce((min, current) =&gt; { <br/>   return min &lt; current ? min : current; <br/>});</span></pre><h1 id="682d" class="lp lk in bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">将数组转换为对象</h1><p id="b406" class="pw-post-body-paragraph jz ka in kb b kc mm ke kf kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw ig bi translated">假设我们有一个学生对象数组。每个学生对象都有名字和他们的学期成绩。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="55d0" class="lj lk in la b gy ll lm l ln lo">let students = [ <br/>  {name: 'Joey', marks: 41}, <br/>  {name: 'Monica', marks: 83}, <br/>  {name: 'Ross', marks: 92}, <br/>  {name: 'Rachel', marks: 51}, <br/>  {name: 'Chandler', marks: 76}, <br/>  {name: 'Pheobe', marks: 45} <br/>];</span></pre><p id="4e29" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">现在我们想从数组中创建一个对象，用学生的名字作为键，用他们的分数作为值。让我们看看如何用<code class="fe kx ky kz la b">reduce()</code>来做这件事。</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="ff78" class="lj lk in la b gy ll lm l ln lo">let result = students.reduce((obj, student) =&gt; { <br/>   obj[student.name] = student.marks; <br/>   return obj; <br/>}, {}); </span><span id="4443" class="lj lk in la b gy mr lm l ln lo">console.log(result);</span></pre><p id="c3c4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">输出</p><pre class="lb lc ld le gt lf la lg lh aw li bi"><span id="1367" class="lj lk in la b gy ll lm l ln lo">{ <br/>  Joey: 41, <br/>  Monica: 83, <br/>  Ross: 92, <br/>  Rachel: 51, <br/>  Chandler: 76, <br/>  Pheobe: 45 <br/>}</span></pre></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="40d7" class="lp lk in bd lq lr mz lt lu lv na lx ly lz nb mb mc md nc mf mg mh nd mj mk ml bi translated">有关系的</h1><ul class=""><li id="ff9d" class="ne nf in kb b kc mm kg mn kk ng ko nh ks ni kw nj nk nl nm bi translated"><a class="ae nn" href="https://jscurious.com/map-and-filter-methods-of-array-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript中数组的map()和filter()方法快速指南</a></li><li id="c32c" class="ne nf in kb b kc no kg np kk nq ko nr ks ns kw nj nk nl nm bi translated"><a class="ae nn" href="https://jscurious.com/how-to-add-items-to-an-array-in-javascript/" rel="noopener ugc nofollow" target="_blank">向数组添加项目的6种方式</a></li><li id="253a" class="ne nf in kb b kc no kg np kk nq ko nr ks ns kw nj nk nl nm bi translated"><a class="ae nn" href="https://jscurious.com/how-to-remove-items-from-array-in-javascript/" rel="noopener ugc nofollow" target="_blank"> 5种从数组中移除物品的方法</a></li><li id="348c" class="ne nf in kb b kc no kg np kk nq ko nr ks ns kw nj nk nl nm bi translated"><a class="ae nn" href="https://jscurious.com/how-to-find-elements-in-array-in-javascript/" rel="noopener ugc nofollow" target="_blank">寻找数组元素的6种方法</a></li></ul></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><p id="2e4d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nt">感谢您的宝贵时间</em>jscurious.com<br/>更多网络开发博客，请访问<a class="ae nn" href="http://jscurious.com/" rel="noopener ugc nofollow" target="_blank">T10】</a></p></div></div>    
</body>
</html>