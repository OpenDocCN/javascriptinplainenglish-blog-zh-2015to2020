<html>
<head>
<title>Make Angular reactive forms faster with this simple configuration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用这种简单的配置使角反应形式更快</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-reactive-form-control-updates-things-to-know-27189816d148?source=collection_archive---------0-----------------------#2019-03-11">https://javascript.plainenglish.io/angular-reactive-form-control-updates-things-to-know-27189816d148?source=collection_archive---------0-----------------------#2019-03-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/89319c6238076c1921044c54c608edd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q100_Bj3jqsodRhMUf3R3A.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><a class="ae jd" href="https://unsplash.com/photos/rvWW8uZZYxc" rel="noopener ugc nofollow" target="_blank">Image credit</a></figcaption></figure><div class=""/><p id="73dd" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你正在阅读这篇文章，我想你应该知道Angular框架。在这篇文章中，我想分享一些提高角反应形式性能的发现。</p><blockquote class="lb lc ld"><p id="a41f" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">此功能仅适用于Angular v5</p></blockquote><h1 id="ecd4" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">背景:</h1><p id="df65" class="pw-post-body-paragraph kd ke jg kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">Angular react表单使用起来非常简单，但是当您开始向表单添加越来越多的表单控件时，它就变得复杂了，并且经常会导致性能问题。其中一个问题是由于表单控件更新和传播到父表单组或表单数组的更新。</p><p id="0d12" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，让我们创建一个例子，使其易于理解。</p><figure class="mm mn mo mp gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ml"><img src="../Images/fd8c9eb43919187bae942846a0dfae50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OGWVM4oW8fFAZ8svJwZGTw.png"/></div></div></figure><p id="3608" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个简单的表单组，有一个表单控件<code class="fe mq mr ms mt b">name</code>。我们订阅了表单值更改，当其中一个表单控件的值更改时，它会接收新的值。在HTML模板中，我们将<code class="fe mq mr ms mt b">formGroup</code>绑定到<code class="fe mq mr ms mt b">form</code>元素，并将<code class="fe mq mr ms mt b">formControlName</code>指令绑定到<code class="fe mq mr ms mt b">name</code>表单控件，该控件是<code class="fe mq mr ms mt b">form</code>元素的子元素。</p><p id="1330" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们考虑一个场景，用户进入输入并开始键入。在这种情况下，Angular <code class="fe mq mr ms mt b">formControlName</code>指令监听那些输入事件并更新表单控制值。一旦表单控件用新值更新，默认情况下它会发出一个事件让<code class="fe mq mr ms mt b">fromGroup</code>知道它的值已经改变；在这种情况下，我们在表单组的<code class="fe mq mr ms mt b">valueChanges</code>上进行的订阅将收到一个新值。</p><p id="0f56" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以这对于简单的表单来说没有任何问题。但是对于有许多表单控件和表单中复杂验证过程的复杂表单，订阅会影响我们都在努力提高的响应能力。</p><p id="e406" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们不需要验证输入，直到用户提交表单，或者直到模糊了任何输入字段？这是很多人在github中提出的要求，Angular团队在他们的v5中实现了这个要求。</p><p id="c0d2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了这个新功能，用户可以用下面的配置来配置<code class="fe mq mr ms mt b">FormControl</code>、<code class="fe mq mr ms mt b">FormGroup</code>、<code class="fe mq mr ms mt b">FormArray</code>，由角度用户决定何时更新表单控件。</p><figure class="mm mn mo mp gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mu"><img src="../Images/1e03c4320da2f090b8f691a5f0ff7f79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wo5Z2JD2ChIeW-d2fqtkhQ.png"/></div></div></figure><p id="0edb" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mq mr ms mt b">updateOn</code>支柱是可选的，如果没有通过角度使用<code class="fe mq mr ms mt b">change</code>。</p><pre class="mm mn mo mp gt mv mt mw mx aw my bi"><span id="baf0" class="mz lj jg mt b gy na nb l nc nd">// possible values for updateOn</span><span id="66c9" class="mz lj jg mt b gy ne nb l nc nd">updateOn?: 'change' | 'blur' | 'submit';</span></pre><blockquote class="lb lc ld"><p id="e285" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">如果在组级别将“updateOn”设置为“blur ”,则所有子控件都默认为“blur ”,除非子控件明确指定了不同的“updateOn”值。</p></blockquote></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="61d8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样。希望你觉得有用。感谢阅读！关注我更多有趣的文章。</p></div></div>    
</body>
</html>