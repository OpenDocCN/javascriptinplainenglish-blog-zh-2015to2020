<html>
<head>
<title>Seven things you should know about Object Destructuring in ES6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于ES6中的对象析构，你应该知道的七件事</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/seven-things-you-should-know-about-object-destructuring-in-es6-699a1bce3595?source=collection_archive---------3-----------------------#2020-04-09">https://javascript.plainenglish.io/seven-things-you-should-know-about-object-destructuring-in-es6-699a1bce3595?source=collection_archive---------3-----------------------#2020-04-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0767104394439fc46f2e7fc212a2a14a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*r3wb0UTZNzD6Z3Sv.png"/></div></div></figure><h1 id="6c21" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">&gt; 1:基本分配</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="c61d" class="lf jz iq lb b gy lg lh l li lj">const {p, q} = {p: 42, q: true}<br/>p --&gt; 42<br/>q --&gt; true</span></pre><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><h1 id="3bbf" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">&gt; 1.1:奇点:小心使用` let '</h1><p id="6cde" class="pw-post-body-paragraph lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">下面的代码不起作用</p><ul class=""><li id="5e50" class="mk ml iq lo b lp mm lt mn lx mo mb mp mf mq mj mr ms mt mu bi translated">JavaScript将主代码流中的<code class="fe mv mw mx lb b">{...}</code>(不在另一个表达式中)视为一个代码块(提醒:<code class="fe mv mw mx lb b">let</code>有一个块范围)</li></ul><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="9775" class="pw-post-body-paragraph lm ln iq lo b lp mm lr ls lt mn lv lw lx my lz ma mb mz md me mf na mh mi mj ij bi translated"><strong class="lo ir"> &gt; &gt;修正1 </strong></p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="cd44" class="pw-post-body-paragraph lm ln iq lo b lp mm lr ls lt mn lv lw lx my lz ma mb mz md me mf na mh mi mj ij bi translated"><strong class="lo ir"> &gt; &gt;修正2 </strong></p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="9ef9" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">&gt; 2:别名</h1><p id="b5c2" class="pw-post-body-paragraph lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">属性可以从对象中解包，并赋给与对象属性名称不同的变量</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="0c62" class="lf jz iq lb b gy lg lh l li lj">// {sourceProperty: targetVariable (Alias) }</span><span id="0f7c" class="lf jz iq lb b gy nn lh l li lj">p --&gt; foo<br/>q --&gt; bar</span></pre><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="0def" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">&gt; 3:默认值</h1><p id="ee59" class="pw-post-body-paragraph lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果从对象中解包的值是<code class="fe mv mw mx lb b">undefined</code>(未提供)，则变量可以被赋予默认值</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="db80" class="lf jz iq lb b gy lg lh l li lj">const {a = 10, b = 5} = {a: 3, b: undefined (Not provided) }</span><span id="0da8" class="lf jz iq lb b gy nn lh l li lj"><strong class="lb ir">Therefore,<br/></strong>a (3 | 10) --&gt; 3<br/>b (undefined | 5) --&gt; 5</span></pre><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="3cbf" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">&gt; 4:结合2和3；别名和默认值</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="dcc7" class="lf jz iq lb b gy lg lh l li lj">const {a: aa = 10, b: bb = 5} = {a: 3, b: undefined}</span><span id="c4af" class="lf jz iq lb b gy nn lh l li lj"><strong class="lb ir">Therefore,</strong></span><span id="e5d4" class="lf jz iq lb b gy nn lh l li lj"><strong class="lb ir">- Step1 </strong></span><span id="7849" class="lf jz iq lb b gy nn lh l li lj">a (3 | 10) --&gt; 3<br/>b (undefined | 5) --&gt; 5</span><span id="06eb" class="lf jz iq lb b gy nn lh l li lj"><strong class="lb ir">- Step2<br/></strong></span><span id="b03e" class="lf jz iq lb b gy nn lh l li lj">// {sourceProperty: targetVariable (Alias) }<br/>a --&gt; aa<br/>b --&gt; bb</span></pre><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="e47b" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">&gt; 5:函数参数析构</h1><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e0da" class="lf jz iq lb b gy lg lh l li lj">userId(user) // passing <strong class="lb ir">user Object</strong></span><span id="d2ab" class="lf jz iq lb b gy nn lh l li lj">function userId({id}) === {id: 42, displayName: 'jdoe', fullName: {...}</span><span id="1ea8" class="lf jz iq lb b gy nn lh l li lj">Therefore,<br/><strong class="lb ir">id </strong>inside <strong class="lb ir">userId</strong> function becomes 42</span></pre><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><ul class=""><li id="5957" class="mk ml iq lo b lp mm lt mn lx mo mb mp mf mq mj mr ms mt mu bi translated"><code class="fe mv mw mx lb b">user</code>对象<code class="fe mv mw mx lb b">id</code>的财产被破坏所以变成<code class="fe mv mw mx lb b">{id: id}</code></li></ul><h1 id="767f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">&gt; 5.1:奇点:小心默认参数</h1><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="e9ac" class="pw-post-body-paragraph lm ln iq lo b lp mm lr ls lt mn lv lw lx my lz ma mb mz md me mf na mh mi mj ij bi translated"><strong class="lo ir"> &gt; &gt;修正1 </strong></p><p id="6059" class="pw-post-body-paragraph lm ln iq lo b lp mm lr ls lt mn lv lw lx my lz ma mb mz md me mf na mh mi mj ij bi translated">提供<code class="fe mv mw mx lb b">{}</code>作为参数对象的默认值</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="630b" class="pw-post-body-paragraph lm ln iq lo b lp mm lr ls lt mn lv lw lx my lz ma mb mz md me mf na mh mi mj ij bi translated"><strong class="lo ir"> &gt; &gt;修正2 </strong></p><p id="4239" class="pw-post-body-paragraph lm ln iq lo b lp mm lr ls lt mn lv lw lx my lz ma mb mz md me mf na mh mi mj ij bi translated">使<code class="fe mv mw mx lb b">{}</code>成为整个参数对象的默认值</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="07c8" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">&gt; 6:嵌套对象函数参数析构</h1><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><ul class=""><li id="e881" class="mk ml iq lo b lp mm lt mn lx mo mb mp mf mq mj mr ms mt mu bi translated"><code class="fe mv mw mx lb b">displayName</code>的结构与<strong class="lo ir"> &gt; 5: </strong>相同</li><li id="c4d3" class="mk ml iq lo b lp no lt np lx nq mb nr mf ns mj mr ms mt mu bi translated">用户对象的<code class="fe mv mw mx lb b">firstName</code>嵌套属性被析构两次</li></ul><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="50ec" class="lf jz iq lb b gy lg lh l li lj"><strong class="lb ir">// destructuring fullName (1st depth)</strong><br/>const user = { fullName : { ... } } <strong class="lb ir">// {fullName}</strong></span><span id="5181" class="lf jz iq lb b gy nn lh l li lj"><strong class="lb ir">// destructuring firstName (2nd depth)</strong></span><span id="9ac7" class="lf jz iq lb b gy nn lh l li lj">{fullName: {firstName}} <strong class="lb ir">// {firstName}</strong></span><span id="16ed" class="lf jz iq lb b gy nn lh l li lj"><strong class="lb ir">// firstName alias to name</strong></span><span id="bf9a" class="lf jz iq lb b gy nn lh l li lj">{fullName: {firstName: name}} <strong class="lb ir">// name</strong></span></pre></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="d221" class="jy jz iq bd ka kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv bi translated">&gt; 7:在对象析构中扩散</h1><p id="2c1b" class="pw-post-body-paragraph lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Rest / spread属性收集剩余的自己的可枚举属性键，这些键还没有被析构模式挑选出来</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b52a" class="lf jz iq lb b gy lg lh l li lj">let {a, b, ...rest} = {a: 10, b: 20, c: 30, d: 40}</span><span id="7ed7" class="lf jz iq lb b gy nn lh l li lj">a --&gt; 10<br/>b --&gt; 20<br/>rest --&gt; {c: 30, d: 40} // what's left</span></pre><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="lk ll l"/></div></figure><blockquote class="nt"><p id="5b33" class="nu nv iq bd nw nx ny nz oa ob oc mj dk translated">编码快乐！！</p></blockquote><h2 id="4bf3" class="lf jz iq bd ka od oe dn ke of og dp ki lx oh oi km mb oj ok kq mf ol om ku on bi translated"><strong class="ak">用简单英语写的JavaScript的注释:</strong></h2><p id="1f73" class="pw-post-body-paragraph lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae oo" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="lo ir">AI in Plain English</strong></a>，<a class="ae oo" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="lo ir">UX in Plain English</strong></a>，<a class="ae oo" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="lo ir">Python in Plain English</strong></a><strong class="lo ir"/>——谢谢，继续学习！</p><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi op"><img src="../Images/046795362b8edf7dee7806070a963b56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HylpAXIXU5RjW39F"/></div></div><figcaption class="oq or gj gh gi os ot bd b be z dk">Photo by <a class="ae oo" href="https://unsplash.com/@jamie452?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jamie Street</a> on <a class="ae oo" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div></div>    
</body>
</html>