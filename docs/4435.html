<html>
<head>
<title>Master Modern JavaScript — Array includes, Array reduce, Map object and much more</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握现代JavaScript——Array includes、Array reduce、Map object等等</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/master-modern-javascript-array-includes-array-reduce-map-object-and-much-more-7d28a8d4428d?source=collection_archive---------5-----------------------#2020-12-11">https://javascript.plainenglish.io/master-modern-javascript-array-includes-array-reduce-map-object-and-much-more-7d28a8d4428d?source=collection_archive---------5-----------------------#2020-12-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/06e670e46f81a3a847d6ec088b13ce78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_5Ifgx1oIqrstHer"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@pouplardjulien?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Julien Pouplard</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="97fa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在过去的几年里，JavaScript语言有了很多更新。如果你想提高你的编码技能，这些更新是非常有用的。</p><p id="31bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，让我们来看看JavaScript中添加的一些东西，你需要熟悉这些东西来提高你的技能并获得高薪工作。</p><blockquote class="ky kz la"><p id="37fd" class="ka kb lb kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated"><strong class="kc io"> <em class="in">注:</em> </strong> <em class="in">这是来自</em> <a class="ae jz" href="https://modernjavascript.yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank"> <em class="in">精通现代JavaScript </em> </a> <em class="in">一书的内容最后的简短预览。在实际的书中有更多的内容。</em></p></blockquote><p id="ad68" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你错过了，请查看我以前的帖子以获得更多预览内容。</p><p id="2df8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以让我们开始吧。</p><h1 id="6860" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">数组.原型.包含</h1><p id="feb8" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">ES7增加了这个函数，它检查数组中是否存在元素，并返回布尔值<code class="fe mi mj mk ml b">true</code>或<code class="fe mi mj mk ml b">false</code>。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="81a4" class="mu lg in ml b gy mv mw l mx my">// ES5 Code<br/>const numbers = ["one", "two", "three", "four"];</span><span id="d3bc" class="mu lg in ml b gy mz mw l mx my">console.log(numbers.indexOf("one") &gt; -1); // true<br/>console.log(numbers.indexOf("five") &gt; -1); // false</span></pre><p id="9814" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用数组<code class="fe mi mj mk ml b">includes</code>方法的相同代码可以写成如下所示:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="e348" class="mu lg in ml b gy mv mw l mx my">// ES7 Code<br/>const numbers = ["one", "two", "three", "four"];</span><span id="d866" class="mu lg in ml b gy mz mw l mx my">console.log(numbers.includes("one")); // true<br/>console.log(numbers.includes("five")); // false</span></pre><p id="28cd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以使用数组<code class="fe mi mj mk ml b">includes</code>方法使得代码简短易懂。</p><p id="ad2d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在比较不同的值时，<code class="fe mi mj mk ml b">includes</code>方法也很方便。</p><p id="b3a5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">看看下面的代码:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="96e7" class="mu lg in ml b gy mv mw l mx my">const day = "monday";</span><span id="875d" class="mu lg in ml b gy mz mw l mx my">if(day === "monday" || day === "tuesday" || day === "wednesday") {<br/>  // do something<br/>}</span></pre><p id="60b1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面使用<code class="fe mi mj mk ml b">includes</code>方法的代码可以简化如下:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="5203" class="mu lg in ml b gy mv mw l mx my">const day = "monday";</span><span id="11dd" class="mu lg in ml b gy mz mw l mx my">if(["monday", "tuesday", "wednesday"].includes(day)) {<br/>  // do something<br/>}</span></pre><p id="f140" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以在检查数组中的值时，<code class="fe mi mj mk ml b">includes</code>方法非常方便。</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><h1 id="a274" class="lf lg in bd lh li nh lk ll lm ni lo lp lq nj ls lt lu nk lw lx ly nl ma mb mc bi translated">Array.reduce</h1><p id="5c94" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated"><code class="fe mi mj mk ml b">Array.reduce</code>的语法如下:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="b4c3" class="mu lg in ml b gy mv mw l mx my">Array.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</span></pre><p id="d02b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mi mj mk ml b">reduce</code>方法对数组的每个元素执行<strong class="kc io"> reducer </strong>函数(您提供的),产生一个输出值。</p><p id="0903" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"/><code class="fe mi mj mk ml b"><strong class="kc io">reduce</strong></code><strong class="kc io">方法的输出总是单值。它可以是对象、数字、字符串或数组等。这取决于你希望</strong> <code class="fe mi mj mk ml b"><strong class="kc io">reduce</strong></code> <strong class="kc io">方法产生什么样的输出，但它总是一个单一的值。</strong></p><p id="fcbb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">假设，你想得到数组中所有数字的和，那么你可以使用reduce方法。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="963f" class="mu lg in ml b gy mv mw l mx my">const numbers = [1, 2, 3, 4, 5];</span><span id="c134" class="mu lg in ml b gy mz mw l mx my">const sum = numbers.reduce(function(accumulator, number) { <br/> return accumulator + number;<br/>}, 0); </span><span id="9edb" class="mu lg in ml b gy mz mw l mx my">console.log(sum); // 15</span></pre><p id="1840" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mi mj mk ml b">reduce</code>方法接受一个回调函数，该函数接收<br/> <code class="fe mi mj mk ml b">accumulator</code>、<code class="fe mi mj mk ml b">number</code>、<code class="fe mi mj mk ml b">index</code>和<code class="fe mi mj mk ml b">array</code>作为值。</p><p id="8383" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，我们只使用了<code class="fe mi mj mk ml b">accumulator</code>和<code class="fe mi mj mk ml b">number</code>。</p><p id="7620" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mi mj mk ml b">accumulator</code>只是一个用来标识初始值的名字。</p><p id="c95e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mi mj mk ml b">accumulator</code>将包含用于数组的<code class="fe mi mj mk ml b">initialValue</code>。<code class="fe mi mj mk ml b">initialValue</code>决定<code class="fe mi mj mk ml b">reduce</code>方法返回的数据的返回类型。</p><p id="a8a4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mi mj mk ml b">number</code>是回调函数的第二个参数，它将在循环的每次迭代中包含数组元素。</p><p id="92ce" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，我们为<code class="fe mi mj mk ml b">accumulator</code>提供了<code class="fe mi mj mk ml b">0</code>作为<code class="fe mi mj mk ml b">initialValue</code>。</p><p id="5c97" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以回调函数第一次执行时，<code class="fe mi mj mk ml b">accumulator + number</code>将是<code class="fe mi mj mk ml b">0 + 1 = 1</code>，我们将返回值<code class="fe mi mj mk ml b">1</code>。</p><p id="be36" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以下次回调函数运行时，<code class="fe mi mj mk ml b">accumulator + number</code>将会是<code class="fe mi mj mk ml b">1 + 2 = 3</code> ( <code class="fe mi mj mk ml b">1</code>这里是上一次迭代返回的前一个值<br/>，<code class="fe mi mj mk ml b">2</code>是数组中的下一个元素)。</p><p id="52db" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当回调函数下一次运行时，<code class="fe mi mj mk ml b">accumulator + number</code>将会是<code class="fe mi mj mk ml b">3 + 3 = 6</code>(这里的前3是上一次迭代返回的值，下一个<code class="fe mi mj mk ml b">3</code>是数组中的下一个元素)，它将会继续，直到<code class="fe mi mj mk ml b">numbers</code>数组中的所有元素都没有被迭代。</p><p id="c7cd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此<code class="fe mi mj mk ml b">accumulator</code>将像静态变量一样保留上一次操作的值。</p><p id="52f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，不需要<code class="fe mi mj mk ml b">0</code>的<code class="fe mi mj mk ml b">initialValue</code>，因为数组的所有元素都是整数。</p><p id="13ca" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lb">其他有用的</em> <code class="fe mi mj mk ml b"><em class="lb">reduce</em></code> <em class="lb">方法的例子你会在书中找到。</em></p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><h1 id="c18d" class="lf lg in bd lh li nh lk ll lm ni lo lp lq nj ls lt lu nk lw lx ly nl ma mb mc bi translated">地图</h1><p id="46fc" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated"><code class="fe mi mj mk ml b">Map</code>是ES6中添加的一种新类型的对象，用于保存键值对。</p><p id="daa3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它是这样创建的:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="9bd9" class="mu lg in ml b gy mv mw l mx my">const map = new Map();</span></pre><p id="ca56" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们使用<code class="fe mi mj mk ml b">set</code>方法给地图添加值。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="8387" class="mu lg in ml b gy mv mw l mx my">const user1 = { name: 'David', age: 30 };<br/>const user2 = { name: 'Mike', age: 40 };</span><span id="0fe4" class="mu lg in ml b gy mz mw l mx my">const map = new Map();</span><span id="c52e" class="mu lg in ml b gy mz mw l mx my">map.set('user1', user1);<br/>map.set('user2', user2);</span></pre><p id="e1c7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们还可以使用类似数组的语法向映射添加值。所以上面的代码可以这样写:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="b5de" class="mu lg in ml b gy mv mw l mx my">const user1 = { name: 'David', age: 30 };<br/>const user2 = { name: 'Mike', age: 40 };</span><span id="87ad" class="mu lg in ml b gy mz mw l mx my">const map = new Map([['user1', user1], ['user2', user2]]);</span></pre><p id="494d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们试图打印地图，我们将得到一个map类型的对象。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="5a90" class="mu lg in ml b gy mv mw l mx my">console.log(map); // [object Map] { ... }</span></pre><p id="a25b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是我们可以使用<code class="fe mi mj mk ml b">for...of</code>循环来遍历地图。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="c655" class="mu lg in ml b gy mv mw l mx my">for(element of map) {<br/> console.log(element);<br/>}</span><span id="a574" class="mu lg in ml b gy mz mw l mx my">/* output</span><span id="acff" class="mu lg in ml b gy mz mw l mx my">['user1', { name: 'David', age: 30 }]<br/>['user2', { name: 'Mike', age: 40 }]</span><span id="4f4c" class="mu lg in ml b gy mz mw l mx my">*/</span></pre><p id="072f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了从地图中获取特定的元素，我们可以使用由<code class="fe mi mj mk ml b">Map</code>提供的<code class="fe mi mj mk ml b">get</code>方法。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="265a" class="mu lg in ml b gy mv mw l mx my">console.log(map.get('user1')); // { name: 'David', age: 30 }<br/>console.log(map.get('user2')); // { name: 'Mike', age: 40 }</span></pre><p id="4f1e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lb">你可以在书中找到</em> <code class="fe mi mj mk ml b"><em class="lb">Map</em></code> <em class="lb">提供的其他有用的方法。</em></p><blockquote class="ky kz la"><p id="2d84" class="ka kb lb kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated"><em class="in">与</em> <code class="fe mi mj mk ml b"><em class="in">Map</em></code> <em class="in">相关的一个非常受欢迎但不那么容易的编程挑战，在第一轮编码面试中经常被问到，以筛选出你会在带有代码解释的书中找到的候选人。</em></p></blockquote><h1 id="4d90" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结束点</h1><p id="64d9" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">《掌握现代JavaScript》这本书涵盖了成为现代JavaScript技能专家所需要知道的一切。</p><p id="a176" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">通过一次性购买，您将在每次新发布的ESNext中免费获得该书的更新版本。</strong></p><p id="e709" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这本书包含了所有的概念，这些概念是学习React的先决条件，也是成为现代JavaScript专家和更好地使用React所必需的。</p><p id="6bbe" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是你面对任何JavaScript/React面试所需要的唯一指南，在这些面试中，ES6+特性是成功面试的必备要素。</p><p id="4995" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">只剩下最后几个小时了，这本书限时43折。所以现在就抓住它。</strong></p><p id="eac0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这本书再也不会有这么大的折扣了。</p><p id="1bb2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通过点击下面的链接获得这本书。</p><p id="a292" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://modernjavascript.yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io">精通现代JavaScript </strong> </a></p><p id="7056" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">快乐学习！</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><p id="c204" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">别忘了直接在你的收件箱</strong> <a class="ae jz" href="https://yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io">这里</strong> </a> <strong class="kc io">订阅我的每周时事通讯，里面有惊人的技巧、诀窍和文章。</strong></p></div></div>    
</body>
</html>