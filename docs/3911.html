<html>
<head>
<title>Vue 3 — Slot Shorthands</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3 —插槽人手不足</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-3-slot-shorthands-b673883b1ab7?source=collection_archive---------8-----------------------#2020-11-02">https://javascript.plainenglish.io/vue-3-slot-shorthands-b673883b1ab7?source=collection_archive---------8-----------------------#2020-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ebdec861643d3285304720edbd2c8967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rusKad9i3OisJtrc"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@carltraw?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Carl Raw</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="07b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue 3处于测试阶段，可能会有变化。</p><p id="d5d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue 3是Vue前端框架的最新版本。</p><p id="1584" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它建立在Vue 2的普及性和易用性之上。</p><p id="577f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看Vue 3的吃角子老虎机。</p><h1 id="7feb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">默认插槽的速记语法</h1><p id="9531" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们有一个槽，那么我们不需要<code class="fe me mf mg mh b">template</code>元素。</p><p id="011b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将<code class="fe me mf mg mh b">v-slot</code>指令放在开始组件标签上。</p><p id="e34c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="67a9" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;items v-slot="slotProps"&gt;<br/>        &lt;b&gt;{{ slotProps.item.name }}&lt;/b&gt;<br/>      &lt;/items&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({});</span><span id="186e" class="mq lc iq mh b gy mv ms l mt mu">      app.component("items", {<br/>        template: `<br/>          &lt;ul&gt;<br/>            &lt;li v-for="( item, index ) in items"&gt;<br/>              &lt;slot v-bind:item="item"&gt;&lt;/slot&gt;<br/>            &lt;/li&gt;<br/>          &lt;/ul&gt;<br/>        `,<br/>        data() {<br/>          return {<br/>            items: [{ name: "apple" }, { name: "orange" }, { name: "grape" }]<br/>          };<br/>        }<br/>      });</span><span id="1d5d" class="mq lc iq mh b gy mv ms l mt mu">      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="4fb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在组件标签上有<code class="fe me mf mg mh b">v-slot</code>指令，只有在我们的组件中有一个插槽时才允许。</p><h1 id="97c9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">破坏插槽道具</h1><p id="949f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">吃角子老虎道具可以被破坏。</p><p id="8fe7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们有一个对象作为<code class="fe me mf mg mh b">v-slot</code>的值，我们可以析构它的属性。</p><p id="48b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="00a7" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;items v-slot="{ item: { name } }"&gt;<br/>        &lt;b&gt;{{ name }}&lt;/b&gt;<br/>      &lt;/items&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({});</span><span id="d5c9" class="mq lc iq mh b gy mv ms l mt mu">      app.component("items", {<br/>        template: `<br/>          &lt;ul&gt;<br/>            &lt;li v-for="( item, index ) in items"&gt;<br/>              &lt;slot v-bind:item="item"&gt;&lt;/slot&gt;<br/>            &lt;/li&gt;<br/>          &lt;/ul&gt;<br/>        `,<br/>        data() {<br/>          return {<br/>            items: [{ name: "apple" }, { name: "orange" }, { name: "grape" }]<br/>          };<br/>        }<br/>      });</span><span id="42da" class="mq lc iq mh b gy mv ms l mt mu">      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="af6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们析构了<code class="fe me mf mg mh b">slotProps</code>对象的属性，所以不用写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f921" class="mq lc iq mh b gy mr ms l mt mu">&lt;items v-slot="slotProps"&gt;<br/>  &lt;b&gt;{{ slotProps.item.name }}&lt;/b&gt;<br/>&lt;/items&gt;</span></pre><p id="ae1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4f47" class="mq lc iq mh b gy mr ms l mt mu">&lt;items v-slot="{ item: { name } }"&gt;<br/>  &lt;b&gt;{{ name }}&lt;/b&gt;<br/>&lt;/items&gt;</span></pre><p id="8acc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这可以使模板更干净，尤其是如果我们有很多插槽。</p><p id="4108" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也很容易提供后援。</p><p id="ffb8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dcef" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;items v-slot="{ item: { name = 'placeholder' } }"&gt;<br/>        &lt;b&gt;{{ name }}&lt;/b&gt;<br/>      &lt;/items&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({});</span><span id="20b2" class="mq lc iq mh b gy mv ms l mt mu">      app.component("items", {<br/>        template: `<br/>          &lt;ul&gt;<br/>            &lt;li v-for="( item, index ) in items"&gt;<br/>              &lt;slot v-bind:item="item"&gt;&lt;/slot&gt;<br/>            &lt;/li&gt;<br/>          &lt;/ul&gt;<br/>        `,<br/>        data() {<br/>          return {<br/>            items: [{ name: "apple" }, { name: "orange" }, {}]<br/>          };<br/>        }<br/>      });</span><span id="4e41" class="mq lc iq mh b gy mv ms l mt mu">      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="1795" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">name</code>属性的默认值设置为<code class="fe me mf mg mh b">'placeholder'</code>，这样如果没有为<code class="fe me mf mg mh b">name</code>属性设置任何内容，我们就可以显示出来。</p><h1 id="734f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">动态插槽名称</h1><p id="0a74" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">插槽名称可以是动态的。</p><p id="242d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2071" class="mq lc iq mh b gy mr ms l mt mu">&lt;base-layout&gt;<br/>  &lt;template v-slot:[dynamicSlotName]&gt;<br/>    ...<br/>  &lt;/template&gt;<br/>&lt;/base-layout&gt;</span></pre><p id="5569" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中<code class="fe me mf mg mh b">dynamicSlotName</code>是带有槽名的变量。</p><h1 id="04fe" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">命名插槽速记</h1><p id="21f5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">命名的插槽可以用<code class="fe me mf mg mh b">#</code>符号短接。</p><p id="bc5b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不要写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="de74" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;blog-post&gt;<br/>        &lt;template v-slot:header&gt;<br/>          &lt;h1&gt;header&lt;/h1&gt;<br/>        &lt;/template&gt;<br/>        &lt;template v-slot:default&gt;<br/>          &lt;p&gt;lorem ipsum.&lt;/p&gt;<br/>        &lt;/template&gt;<br/>        &lt;template v-slot:footer&gt;<br/>          &lt;p&gt;footer&lt;/p&gt;<br/>        &lt;/template&gt;<br/>      &lt;/blog-post&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({});<br/>      app.component("blog-post", {<br/>        template: `<br/>          &lt;header&gt;<br/>            &lt;slot name="header"&gt;&lt;/slot&gt;<br/>          &lt;/header&gt;<br/>          &lt;main&gt;<br/>            &lt;slot&gt;&lt;/slot&gt;<br/>          &lt;/main&gt;<br/>          &lt;footer&gt;<br/>            &lt;slot name="footer"&gt;&lt;/slot&gt;<br/>          &lt;/footer&gt;<br/>        `<br/>      });<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="f969" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="23fc" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;blog-post&gt;<br/>        &lt;template #header&gt;<br/>          &lt;h1&gt;header&lt;/h1&gt;<br/>        &lt;/template&gt;<br/>        &lt;template #default&gt;<br/>          &lt;p&gt;lorem ipsum.&lt;/p&gt;<br/>        &lt;/template&gt;<br/>        &lt;template #footer&gt;<br/>          &lt;p&gt;footer&lt;/p&gt;<br/>        &lt;/template&gt;<br/>      &lt;/blog-post&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({});<br/>      app.component("blog-post", {<br/>        template: `<br/>          &lt;header&gt;<br/>            &lt;slot name="header"&gt;&lt;/slot&gt;<br/>          &lt;/header&gt;<br/>          &lt;main&gt;<br/>            &lt;slot&gt;&lt;/slot&gt;<br/>          &lt;/main&gt;<br/>          &lt;footer&gt;<br/>            &lt;slot name="footer"&gt;&lt;/slot&gt;<br/>          &lt;/footer&gt;<br/>        `<br/>      });<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="0a2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">#</code>是<code class="fe me mf mg mh b">v-slot:</code>的简称。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/b5672f08e60ea276af607f88c444fa88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hmKaTfPFdqOnfPEj"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@heathergill?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Heather Gill</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8619" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="e1e8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">命名插槽和默认插槽都有简写。</p><p id="ce0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>