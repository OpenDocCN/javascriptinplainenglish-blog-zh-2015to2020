<html>
<head>
<title>Redux with React is Simple</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Redux with React很简单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/redux-with-react-is-simple-3e3480a83432?source=collection_archive---------6-----------------------#2020-03-09">https://javascript.plainenglish.io/redux-with-react-is-simple-3e3480a83432?source=collection_archive---------6-----------------------#2020-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5c09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">亲爱的读者</em>，Redux一开始可能很难理解。相信我，这很容易。它将帮助您在前端存储数据，以便您以后可以在组件中使用它。</p><p id="e4df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Redux是JavaScript应用</strong>的可预测状态容器。它帮助您编写行为一致、在不同环境(客户机、服务器和本机)中运行、易于测试的应用程序。</p><p id="d65b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">React应用程序中的Redux已经成为构建可伸缩React应用程序的行业标准。</p><p id="fb19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">观看此视频，我在下面的视频中用一个例子教这篇文章</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/3bf270358de729a5f3bbbdafd78ed9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*jVldH3ir79FQtBN4"/></div></figure><h1 id="edba" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">为什么是Redux？</h1><p id="53ea" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated">通常，我们将状态作为<strong class="jp ir">道具</strong>从父组件传递到子组件，反之亦然。假设你要传递一个组件从低到高三步你要传递的是三次。这叫做<strong class="jp ir">组件钻孔</strong>。</p><p id="a5b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而redux中的<strong class="jp ir">所有数据都存储在存储器</strong>中。当<strong class="jp ir">任何组件需要数据时，它连接到存储并获取数据</strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/86050ac67127f9c3f52459897cb1fc28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/0*LJzeNydRgwPLdIhR.png"/></div></figure><h1 id="5551" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">冗余原则</h1><ul class=""><li id="8e88" class="ma mb iq jp b jq lu ju lv jy mc kc md kg me kk mf mg mh mi bi translated"><strong class="jp ir"> <em class="kl">店铺不能直接</em> </strong>更改，<strong class="jp ir">店铺只能通过发出动作</strong>来更改。<em class="kl">每个像提交表单这样的动作都会发出一个动作</em>。例如，用户可以点击按钮来提交联系人表单，这将触发SUBMIT_CONTACT_FORM动作。</li><li id="d87e" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated"><strong class="jp ir"> <em class="kl">状态变化而由纯功能处理的称为</em> </strong>。<strong class="jp ir"> <em class="kl">减速器更新状态</em> </strong>。</li></ul><p id="c47b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Reducer是一个接受当前状态的函数和一个动作</strong>，它返回一个新的状态。每个动作/操作由一个或多个<strong class="jp ir">减速器处理，这些减速器更新单个存储器</strong>。减速器接收当前状态和动作，它包含if开关检查动作类型，并返回新状态。reducer返回新状态后，存储被更新。React重新呈现利用数据的组件。</p><h1 id="ae7e" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1.行动</h1><p id="3504" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated"><strong class="jp ir"> Redux是一个状态管理框架，更新状态是其核心任务之一</strong>。在Redux中，<strong class="jp ir">所有的状态更新都由调度动作</strong>触发。</p><p id="6038" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">一个动作只是一个JavaScript对象，它包含关于已经发生的动作事件的信息</strong>。操作必须有一个属性类型和一个可选的有效负载</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="395c" class="mt kx iq mp b gy mu mv l mw mx">const action = {<br/>    type: ‘LOGIN’<br/>};</span></pre><p id="21bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建一个动作后，下一步是将该动作发送到Redux存储，这样它就可以更新它的状态。动作创建器只是一个返回动作的JavaScript函数。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="80eb" class="mt kx iq mp b gy mu mv l mw mx">const action = {<br/>    type: ‘LOGIN’<br/>};</span><span id="11a4" class="mt kx iq mp b gy my mv l mw mx">// action Creator<br/>const actionCreator = () =&gt; {<br/>   return action; <br/>}</span></pre><p id="e416" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以总结，写成动作创作者</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="684b" class="mt kx iq mp b gy mu mv l mw mx">const actionCreator = () =&gt; {<br/>   return { type: ‘LOGIN’ } <br/>}</span></pre><p id="8adb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">另一个</em> <strong class="jp ir"> <em class="kl">的例子</em> </strong> <em class="kl">一个动作率电影并且有一个有效载荷</em></p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="f55b" class="mt kx iq mp b gy mu mv l mw mx">rateMovie(rating) {<br/>    return { type: RATE_MOVIE, payload: rating }<br/>}</span></pre><p id="3922" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以将可序列化的内容传递给JSON。你不应该传递函数。rateMovie是一个动作创作者。</p><h2 id="6001" class="mt kx iq bd ky mz na dn lc nb nc dp lg jy nd ne lk kc nf ng lo kg nh ni ls nj bi translated">调度操作事件</h2><p id="69f7" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated"><code class="fe nk nl nm mp b">dispatch</code>方法用于将动作分派给Redux存储。调用<code class="fe nk nl nm mp b">store.dispatch()</code>并传递从动作创建者返回的值会将动作发送回商店。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="50f5" class="mt kx iq mp b gy mu mv l mw mx">store.dispatch(actionCreator());<br/>store.dispatch({ type: 'LOGIN' });</span></pre><p id="e9d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">示例:这里我们将登录操作创建者发送到商店</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="707c" class="mt kx iq mp b gy mu mv l mw mx">const store = Redux.createStore(<br/>   (state = { login: false }) =&gt; state<br/>);</span><span id="9e0c" class="mt kx iq mp b gy my mv l mw mx">const loginAction = () =&gt; { <br/>   return { type: 'LOGIN' }<br/>};</span><span id="00e0" class="mt kx iq mp b gy my mv l mw mx"><br/>// Dispatch the action <br/>store.dispatch(loginAction());</span></pre><h1 id="8b16" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">2.还原剂</h1><p id="c696" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated"><strong class="jp ir"> Reducer是接受当前状态和动作</strong>并返回新状态的函数。每个动作/操作由一个或多个<strong class="jp ir">减速器处理，这些减速器更新单个存储</strong>。</p><p id="685c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，reducer从不调用API端点，也从不隐藏任何意外。<strong class="jp ir">reducer只是一个纯粹的函数，它接受状态和动作，然后只返回一个新的状态</strong>。</p><p id="246f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了改变存储，我们调度一个最终由reducer处理的动作。它就像一台绞肉机</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="no np di nq bf nr"><div class="gh gi nn"><img src="../Images/dfc266a63836f2b2d3363b834770d6ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TAxZ_UtP8yPkNjtb.jpg"/></div></div></figure><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="806f" class="mt kx iq mp b gy mu mv l mw mx">function myReducer(state = initialState, action){<br/>    // Return new state based on action passed<br/>}</span></pre><p id="d1b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">示例:句柄增量计数器</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="c984" class="mt kx iq mp b gy mu mv l mw mx">function myReducer(state, action){<br/>    switch(action.type){<br/>        case "INCREMENT_COUNTER":<br/>            state.counter++;<br/>            return state;<br/>        default:<br/>            return state;<br/>    }<br/>}</span></pre><p id="29eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:(你不能这样做你是变异状态正确的一个)<code class="fe nk nl nm mp b">creating the new object by copying the existing state. and on that new object increment the counter.</code></p><p id="9ba0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还原剂必须是纯功能，不能有副作用。用同一组参数调用它们总是会返回值。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="02f7" class="mt kx iq mp b gy mu mv l mw mx">function myReducer(state, action){<br/>    switch(action.type){<br/>        case "INCREMENT_COUNTER":<br/>            return {...state, counter: state.counter + 1};<br/>        default:<br/>            return state;<br/>    }<br/>}</span></pre><p id="7f98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Reducers应该返回状态的更新副本。Redux将使用该副本来更新存储。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="83f5" class="mt kx iq mp b gy mu mv l mw mx">const defaultState = {<br/>   login: false<br/>};</span><span id="0290" class="mt kx iq mp b gy my mv l mw mx">// Reducer<br/>const reducer = (state = defaultState, action) =&gt; {<br/>   if (action.type === ‘LOGIN’) {<br/>       return {…state, login: true}<br/>   } else {<br/>       return {…state, login: false}<br/>   }<br/>};</span><span id="26a3" class="mt kx iq mp b gy my mv l mw mx">const store = Redux.createStore(reducer);</span><span id="7df2" class="mt kx iq mp b gy my mv l mw mx">const loginAction = () =&gt; {<br/>     return { type: ‘LOGIN’ }<br/>};</span></pre><h2 id="3d42" class="mt kx iq bd ky mz na dn lc nb nc dp lg jy nd ne lk kc nf ng lo kg nh ni ls nj bi translated"><strong class="ak">使用switch语句在单个减速器中处理多个动作</strong></h2><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="eb11" class="mt kx iq mp b gy mu mv l mw mx">const defaultState = {<br/>  authenticated: false<br/>};</span><span id="e982" class="mt kx iq mp b gy my mv l mw mx">const authReducer = (state = defaultState, action) =&gt; {  switch(action.type){<br/> case ‘LOGIN’:<br/>       return {…state, authenticated : true}<br/> case ‘LOGOUT’:<br/>       return {…state, authenticated : false} <br/> default:<br/>       return state<br/>}<br/>};</span><span id="17de" class="mt kx iq mp b gy my mv l mw mx">const store = Redux.createStore(authReducer);</span><span id="3487" class="mt kx iq mp b gy my mv l mw mx">const loginUser = () =&gt; {<br/>   return { type: ‘LOGIN’ } <br/>};</span><span id="d52b" class="mt kx iq mp b gy my mv l mw mx">const logoutUser = () =&gt; { <br/>   return { type: ‘LOGOUT’ }<br/>};</span></pre><p id="90ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">移除<strong class="jp ir">魔法线</strong>是一个很好的做法。将动作类型指定为只读常量，然后在使用这些常量的地方引用它们。所以我们通过添加<code class="fe nk nl nm mp b">LOGIN</code>和<code class="fe nk nl nm mp b">LOGOUT</code>作为<code class="fe nk nl nm mp b">const</code>来重构上面的代码。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="57c0" class="mt kx iq mp b gy mu mv l mw mx">const LOGIN = 'LOGIN';</span><span id="0ad0" class="mt kx iq mp b gy my mv l mw mx">const LOGOUT = 'LOGOUT';</span><span id="5543" class="mt kx iq mp b gy my mv l mw mx">const defaultState = {<br/>  authenticated: false<br/>};</span><span id="c35e" class="mt kx iq mp b gy my mv l mw mx">const authReducer = (state = defaultState, action) =&gt; {  switch(action.type){<br/> case LOGIN:<br/>       return {…state, authenticated : true}<br/> case LOGOUT:<br/>       return {…state, authenticated : false} <br/> default:<br/>       return state<br/>}<br/>};</span><span id="47b7" class="mt kx iq mp b gy my mv l mw mx">const store = Redux.createStore(authReducer);</span><span id="cc90" class="mt kx iq mp b gy my mv l mw mx">const loginUser = () =&gt; {<br/>   return { type: LOGIN } <br/>};</span><span id="b2b3" class="mt kx iq mp b gy my mv l mw mx">const logoutUser = () =&gt; { <br/>   return { type: LOGOUT }<br/>};</span></pre><h1 id="7356" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">3.商店</h1><p id="00da" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated">Redux <code class="fe nk nl nm mp b">store</code>是保存和管理应用程序<code class="fe nk nl nm mp b">state</code>的对象。Redux对象上有一个名为<code class="fe nk nl nm mp b">createStore()</code>的方法，用于创建Redux <code class="fe nk nl nm mp b">store</code>。该方法将一个<code class="fe nk nl nm mp b">reducer</code>函数作为必需的参数。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="3786" class="mt kx iq mp b gy mu mv l mw mx">const reducer = (state = 5) =&gt; {</span><span id="0e71" class="mt kx iq mp b gy my mv l mw mx">   return state;</span><span id="285c" class="mt kx iq mp b gy my mv l mw mx">}</span><span id="8d36" class="mt kx iq mp b gy my mv l mw mx">let store = Redux.createStore(reducer)</span></pre><p id="2b84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">redux遵守单一责任原则。</p><p id="d66a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Store = &gt;存储状态变化的数据和Reducer关注点。</p><p id="1f69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Redux store对象提供了几种允许您与之交互的方法</p><h2 id="8da8" class="mt kx iq bd ky mz na dn lc nb nc dp lg jy nd ne lk kc nf ng lo kg nh ni ls nj bi translated">商店可以</h2><ul class=""><li id="f6fc" class="ma mb iq jp b jq lu ju lv jy mc kc md kg me kk mf mg mh mi bi translated">store.dispatch(操作)</li><li id="9b39" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated">store.subscribe(操作)</li><li id="f023" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated">store.getState()</li><li id="b1ad" class="ma mb iq jp b jq mj ju mk jy ml kc mm kg mn kk mf mg mh mi bi translated">替换减速器(nextReducer)</li></ul><p id="4a18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nk nl nm mp b">The only way to change a store by dispatching an action. Store cannot be changed directly. Actions are handled by reducers.</code></p><p id="2aab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，您可以使用<code class="fe nk nl nm mp b">getState()</code>方法检索Redux store对象中保存的当前<code class="fe nk nl nm mp b">state</code>。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="d990" class="mt kx iq mp b gy mu mv l mw mx">const store = Redux.createStore(<br/>    (state=5) =&gt; state<br/>);</span><span id="8a49" class="mt kx iq mp b gy my mv l mw mx">let currentState = store.getState();</span></pre><p id="8f51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注册一个商店监听器</strong></p><p id="0ad8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Redux <code class="fe nk nl nm mp b">store</code>对象上可以使用的另一个方法是<code class="fe nk nl nm mp b">store.subscribe()</code>。这允许您为存储订阅侦听器函数，每当针对存储调度一个操作时都会调用这些函数</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="75ff" class="mt kx iq mp b gy mu mv l mw mx">const ADD = 'ADD';</span><span id="0b4c" class="mt kx iq mp b gy my mv l mw mx">const reducer = (state = 0, action) =&gt; {</span><span id="7c50" class="mt kx iq mp b gy my mv l mw mx">switch(action.type) {<br/> case ADD:<br/>   return state + 1;<br/> default:<br/>   return state;<br/> }<br/>};</span><span id="5397" class="mt kx iq mp b gy my mv l mw mx">const store = Redux.createStore(reducer);</span><span id="2645" class="mt kx iq mp b gy my mv l mw mx">let count = 0;</span><span id="1161" class="mt kx iq mp b gy my mv l mw mx">store.subscribe( () =&gt; {<br/>    count++;<br/> }<br/>);</span><span id="92a7" class="mt kx iq mp b gy my mv l mw mx">store.dispatch({type: ADD});</span><span id="1cdf" class="mt kx iq mp b gy my mv l mw mx">console.log(count);</span><span id="8a4c" class="mt kx iq mp b gy my mv l mw mx">store.dispatch({type: ADD});</span><span id="de33" class="mt kx iq mp b gy my mv l mw mx">console.log(count);</span><span id="de8b" class="mt kx iq mp b gy my mv l mw mx">store.dispatch({type: ADD});</span><span id="767d" class="mt kx iq mp b gy my mv l mw mx">console.log(count);</span></pre><p id="bf31" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它将在每次调度操作时订阅并打印计数器1、2、3。</p><h1 id="1976" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">单存储多减速器</h1><p id="c7f4" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated">您可以通过redux中的多个reducers来管理状态变化的片段。当一个动作被调度时，所有的reducers都被调用。每个reducer中的switch语句查看动作类型，以确定它是否有什么要做的。这就是为什么所有的reducers都应该返回默认的非接触状态。这样，没有案例与传递的操作相匹配，将返回现有状态。</p><p id="63de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，我有三个reducers LoadStatus、Courses和Authors，只有处理DELETE_COURSE动作类型的reducer会做任何事情。其他人将简单地返回传递给他们的状态。每个缩减器处理它的状态部分。事实上，每个缩减器只传递它的状态片段。因此它只能访问它所管理的那部分状态。</p><p id="f8cf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，虽然redux只有一个存储，但是创建多个reducers允许独立地处理对存储的不同部分的更改。所有的减速器共同构成了商店里的图片。</p><p id="6c5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编写独立的小reducer函数，负责对状态的特定部分进行更新。我们称这种模式为“减速器组合”。一个给定的动作可以由它们中的全部、部分或全部来处理。”</p><p id="80ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个动作可以由多个减速器处理。每个减速器可以处理多个动作。</p><p id="961d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检查以下项目:不久我会添加更多的这篇文章。</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="fd9a" class="mt kx iq mp b gy mu mv l mw mx">const rootReducer = Redux.combineReducers({<br/>  auth: authenticationReducer,<br/>  notes: notesReducer<br/>});</span></pre><p id="85e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例子</p><pre class="km kn ko kp gt mo mp mq mr aw ms bi"><span id="f795" class="mt kx iq mp b gy mu mv l mw mx">const INCREMENT = 'INCREMENT';<br/>const DECREMENT = 'DECREMENT';</span><span id="8a2a" class="mt kx iq mp b gy my mv l mw mx">const counterReducer = (state = 0, action) =&gt; {<br/>switch(action.type) {<br/>    case INCREMENT:<br/>         return state + 1;<br/>    case DECREMENT:<br/>         return state - 1;<br/>    default:<br/>         return state;<br/> }<br/>};</span><span id="6371" class="mt kx iq mp b gy my mv l mw mx">const LOGIN = 'LOGIN';</span><span id="5247" class="mt kx iq mp b gy my mv l mw mx">const LOGOUT = 'LOGOUT';</span><span id="6b56" class="mt kx iq mp b gy my mv l mw mx">const authReducer = (state = {authenticated: false}, action) =&gt; {<br/> switch(action.type) {<br/>     case LOGIN:<br/>           return { authenticated: true }<br/>     case LOGOUT:<br/>           return { authenticated: false }<br/>     default:<br/>           return state;<br/> }<br/>};</span><span id="027e" class="mt kx iq mp b gy my mv l mw mx">const rootReducer = Redux.combineReducers({<br/>      auth: authReducer,<br/>      count: counterReducer<br/>})<br/>const store = Redux.createStore(rootReducer);</span></pre><h1 id="4680" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">向商店发送行动数据</h1><p id="5616" class="pw-post-body-paragraph jn jo iq jp b jq lu js jt ju lv jw jx jy lw ka kb kc lx ke kf kg ly ki kj kk ij bi translated"><strong class="jp ir">在</strong> <a class="ae ns" href="http://instagram.com/hidayatarg" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Instagram上关注我</strong> </a> <strong class="jp ir"> </strong>📷<strong class="jp ir"/><a class="ae ns" href="https://www.linkedin.com/in/hidayatarg/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Linkedin</strong></a><strong class="jp ir"/>💬<strong class="jp ir">。</strong></p><div class="nt nu gp gr nv nw"><a href="https://github.com/hidayatarg/React-Redux-Basic-Template" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">hidayatarg/React-Redux-Basic-Template</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">这个项目是用Create React App引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ku nw"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="no np di nq bf nr"><div class="gh gi ol"><img src="../Images/8c7f1f8215dc1aaecd1e708e7650e726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Piks8Tu6xUYpF4DU"/></div></div></figure></div></div>    
</body>
</html>