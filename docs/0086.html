<html>
<head>
<title>How I finally got my head around Scoped Slots in Vue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我最终是如何理解Vue中的作用域插槽的</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-i-finally-got-my-head-around-scoped-slots-in-vue-c37238d4d4cc?source=collection_archive---------0-----------------------#2019-02-24">https://javascript.plainenglish.io/how-i-finally-got-my-head-around-scoped-slots-in-vue-c37238d4d4cc?source=collection_archive---------0-----------------------#2019-02-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/4102ebea6c828473d7c306a50c062c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*zyNSb0UXhP8TfxYbj-GNWg.png"/></div></figure><p id="03b3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Vue是一个前端框架，用于构建web应用程序，其设计方式可以让开发人员很快变得高效。关于这个框架的各个方面都有大量的信息，而且这个社区每天都在增长。如果你正在读这篇文章，很可能你已经知道了。</p><p id="21e2" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">虽然启动和运行起来既快又简单，但该框架的一些元素更复杂、更强大，需要更多的脑力(至少对我来说)才能理解。其中一个领域是插槽，以及相关但功能有些不同的作用域插槽。我花了一段时间才理解老虎机是如何工作的，所以当我理解后，我认为值得分享一下我对老虎机的看法，以防对其他人有所帮助。</p></div><div class="ab cl kp kq hr kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ig ih ii ij ik"><h1 id="b492" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">插槽和命名插槽</h1><p id="966e" class="pw-post-body-paragraph jr js in jt b ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko ig bi translated">常规插槽是父组件向标准Props机制之外的子组件发送一些信息的一种方式。我发现这有助于我将这种方法与常规HTML元素联系起来。</p><p id="bdab" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">例如，以<a> HTML标签为例。</a></p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="2503" class="mi kx in me b gy mj mk l ml mm">&lt;a href=”/sometarget"&gt;This is a link&lt;/a&gt;</span></pre><p id="6098" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果这是Vue，而<a>是你的组件，那么你将把文本“这是一个链接”发送到“a”组件，它将把它呈现为一个超链接，并把“这是一个链接”作为该链接的文本。</a></p><p id="351b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们定义一个子组件来展示这是如何工作的:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="39a2" class="mi kx in me b gy mj mk l ml mm">&lt;template&gt;<br/>  &lt;div&gt;<br/>    <em class="mn">&lt;slot&gt;&lt;/slot&gt;<br/>  &lt;/div&gt;<br/></em>&lt;/template&gt;</span></pre><p id="4720" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然后从父节点开始，我们这样做:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="089b" class="mi kx in me b gy mj mk l ml mm">&lt;template&gt;<br/>  &lt;div&gt;<br/>    <em class="mn">&lt;child-component&gt;This is from outside&lt;/child-component&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</em></span></pre><p id="13bc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">正如您所料，我们在屏幕上看到的是“这是从外面来的”，但是是由子组件呈现的。</p><p id="d586" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们还可以在子组件中添加默认信息，以防像这样什么都没有传入:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="8dbe" class="mi kx in me b gy mj mk l ml mm">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;slot&gt;Some default message&lt;/slot&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="6a80" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果我们像这样创建子组件:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="1d58" class="mi kx in me b gy mj mk l ml mm">&lt;child-component&gt;<br/>&lt;/child-component&gt;</span></pre><p id="ae84" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们看到屏幕上显示“一些默认消息”。</p><p id="6526" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">命名槽与常规槽非常相似，只是在目标组件中可以有多个发送文本的位置。</p><p id="91fa" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们更新子组件，以包含一些命名的插槽</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="ca3d" class="mi kx in me b gy mj mk l ml mm">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;slot&gt;Some default message&lt;/slot&gt;<br/>    &lt;br/&gt;<br/>    &lt;slot <em class="mn">name</em>="top"&gt;&lt;/slot&gt;<br/>    &lt;br/&gt;<br/>    &lt;slot <em class="mn">name</em>="bottom"&gt;&lt;/slot&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="eb4c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这里，我们在子组件中有三个插槽。两个有名字——顶部和底部。</p><p id="89f6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们更新父组件来利用这一点。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="b1d7" class="mi kx in me b gy mj mk l ml mm">&lt;child-component <em class="mn">v-slot:top</em>&gt;<br/>Hello there!<br/>&lt;/child-component&gt;</span></pre><p id="eb17" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">注意—我们在这里使用新的Vue 2.6符号来指定我们想要定位的插槽:` v-slot:theName '</p><p id="b9f3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">你希望在屏幕上看到什么？如果你说“你好，托普！”你只说对了一部分。</p><p id="ea55" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因为我们没有为未命名的槽提供任何值，所以我们也获得了默认值。所以我们实际上看到的是:</p><p id="a2f8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">一些默认消息<br/>你好！</p><p id="a19f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在幕后，未命名的插槽被称为“默认”，因此您也可以使用:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="0159" class="mi kx in me b gy mj mk l ml mm">&lt;child-component <em class="mn">v-slot:default</em>&gt;<br/>Hello There!<br/>&lt;/child-component&gt;</span></pre><p id="b743" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们只会看到:</p><p id="adaf" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">你好。</p><p id="ca15" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因为我们现在提供了默认/未命名插槽的值，而命名插槽“top”或“bottom”都没有默认值。</p><p id="9429" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">你发送的内容不一定只是文本，也可以是其他组件或HTML。您正在发送供显示的内容。</p></div><div class="ab cl kp kq hr kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ig ih ii ij ik"><h1 id="1df4" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">作用域插槽</h1><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mo"><img src="../Images/e03302b66fbb4a926b6f4903635f44f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DNFusxSTHQwwoeWD9iNUrQ.jpeg"/></div></div></figure><p id="f51d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我认为吃角子老虎机和命名吃角子老虎机是相对简单的，一旦你玩了一会儿，你就可以理解了。另一方面，作用域插槽虽然共享相同的名称，但却有些不同。</p><p id="2c00" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我倾向于认为作用域插槽有点像投影仪(或我的欧洲朋友的投影仪)。原因如下。</p><p id="23c1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">子组件中的作用域槽可以使用槽来提供用于在父组件中呈现的数据。这就像有人拿着投影仪站在你的子组件中，将一些图像投射到你的父组件的墙上。</p><p id="b33f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这里有一个例子。在子组件中，我们像这样设置一个插槽:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="9276" class="mi kx in me b gy mj mk l ml mm">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;slot <em class="mn">name</em>="top" <em class="mn">:myUser</em>="user"&gt;&lt;/slot&gt;<br/>    &lt;br/&gt;<br/>    &lt;slot <em class="mn">name</em>="bottom"&gt;&lt;/slot&gt;<br/>    &lt;br/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="a620" class="mi kx in me b gy mt mk l ml mm">&lt;script&gt;</span><span id="58ef" class="mi kx in me b gy mt mk l ml mm">data() {<br/>  <em class="mn">return</em> {<br/>    user: "Ross"<br/>  }<br/>}</span><span id="15dc" class="mi kx in me b gy mt mk l ml mm">&lt;/script&gt;</span></pre><p id="10fd" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">请注意，名为“top”的插槽现在有一个名为“myUser”的属性，我们将它绑定到“User”中包含的一个反应数据值。</p><p id="7782" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在我们的父组件中，我们像这样设置子组件:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="0f66" class="mi kx in me b gy mj mk l ml mm">&lt;div&gt;<br/>   &lt;child-component <em class="mn">v-slot:top</em>="slotProps"&gt;{{ slotProps }}&lt;/child-component&gt;<br/>&lt;/div&gt;</span></pre><p id="5dda" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们在屏幕上看到的是:</p><p id="01e1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">{ "myUser": "Ross" }</p><p id="a634" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">用投影仪做类比，我们的子组件通过myUser对象将其用户字符串的值传送给父组件。它在父对象中投影到的墙壁称为“slotProps”。</p><p id="2c6a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我知道这不是一个完美的类比，但当我第一次发现发生了什么时，它帮助我以这种方式思考这个问题。</p><p id="caf3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Vue文档非常优秀，我也看到了很多其他关于作用域插槽如何在线工作的描述，但是很多人似乎采用了将父类中的所有或部分属性命名为子类中的属性的方法，对我来说，这很难理解到底发生了什么。</p><p id="8a81" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">通过在父类中使用ES6析构，我们还可以通过编写以下代码将用户明确拉出slotProps(您可以随意称呼它):</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="2c09" class="mi kx in me b gy mj mk l ml mm">&lt;child-component <em class="mn">v-slot:top</em>="{myUser}"&gt;{{ myUser }}&lt;/child-component&gt;</span></pre><p id="c68b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">或者甚至在父代中给它起一个新名字:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="e109" class="mi kx in me b gy mj mk l ml mm">&lt;child-component <em class="mn">v-slot:top</em>="{myUser: aFancyName}"&gt;{{ aFancyName }}&lt;/child-component&gt;</span></pre><p id="5025" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">都只是ES6的破坏，和Vue没什么关系。</p><p id="ba68" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果你是从Vue和吃角子老虎机开始你的旅程，希望这能助你一臂之力，揭开一些更棘手的部分。</p><h2 id="bf57" class="mi kx in bd ky mu mv dn lc mw mx dp lg kc my mz lk kg na nb lo kk nc nd ls ne bi translated"><strong class="ak">简明英语团队的一份说明</strong></h2><p id="ad82" class="pw-post-body-paragraph jr js in jt b ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko ig bi translated">你知道我们有四种出版物吗？给他们一个关注来表达爱意:<a class="ae nf" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="jt io">JavaScript in Plain English</strong></a><a class="ae nf" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="jt io">AI in Plain English</strong></a><a class="ae nf" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="jt io">UX in Plain English</strong></a><a class="ae nf" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="jt io">Python in Plain English</strong></a><strong class="jt io"/>——谢谢，继续学习！我们还推出了一个YouTube，希望你能通过<a class="ae nf" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io">订阅我们的简明英语频道</strong> </a>来支持我们</p><p id="f6c6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">一如既往,“简明英语”希望帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae nf" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jt io">submissions @ plain English . io</strong></a><strong class="jt io"/>，附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div></div>    
</body>
</html>