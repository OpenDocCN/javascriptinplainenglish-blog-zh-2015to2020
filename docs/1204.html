<html>
<head>
<title>Amazon.com Login Page Testing with Nightwatch.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Nightwatch.js测试Amazon.com登录页面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/amazon-com-login-page-testing-with-nightwatch-js-a2acd0faa2f8?source=collection_archive---------3-----------------------#2020-02-12">https://javascript.plainenglish.io/amazon-com-login-page-testing-with-nightwatch-js-a2acd0faa2f8?source=collection_archive---------3-----------------------#2020-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/51abde1512f6c0f7d1667fd4dd330aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*X4xGHKjiie_Lg9KQevgn8w.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">1</figcaption></figure><p id="848c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我以前的文章中，我谈到了，什么是Nightwatch.js，如何安装它，我演示了第一次测试。</p><div class="kw kx gp gr ky kz"><a href="https://medium.com/lucid-archive/how-to-install-nightwatch-js-first-test-with-nightwatch-js-cffd7b96f49f" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">如何安装Nightwatch.js？用Nightwatch.js进行第一次测试</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在下面的文章中，我将重点介绍如何安装Nightwatch.js，你必须知道的内容以及如何进行安装</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">medium.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln js kz"/></div></div></a></div><p id="1eb5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们将重点关注用Nightwatchjs进行的登录页面测试。首先，我们将确定一个页面并检查它。现在让我们为登录页面编写必要的代码。</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/431219363e6ed6aaa621d2ea447b290b.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/0*Ga7cC9rIJcFG_Y_3.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Amazon.com Login Page</figcaption></figure><p id="e8f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我选择了Amazon.com页。理解了逻辑之后，如果您愿意，可以使用其他页面。</p><p id="9cdc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们编写测试用例之前，让我们创建三个名为Pages、Tests和Screenshots的文件夹。接下来，让我们在Pages和Tests文件夹中创建名为login.js的文件。我们将在页面中编写我们在login.js中指定的选择器和命令。在我们的测试代码中，我们将在Tests文件夹中编写login.js。最后，我们会将测试中的截图发送到截图文件夹中。现在我们已经完成了这些，我们可以开始编写我们的测试场景了:</p><p id="d2d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">测试用例-1 </strong>:进入Amazon.com页面，检查页面标题和正文部分是否可见，并截图。</p><p id="ad66" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">测试用例-2 </strong>:点击主页面的登录按钮，检查表单在登录页面是否可见，并截图。</p><p id="1e79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">测试案例-3 </strong>:在登录页面尝试使用无效用户名和密码登录，看到错误并截图。</p><p id="8a28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">测试案例-4: </strong>在登录页面尝试使用有效用户名和密码登录，检查页面是否正确并截图。</p><p id="d96c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如你所看到的，我们已经准备了我们想在测试中做的4个场景。在我们的测试中，让我们将已经确定的选择器和命令粘贴到我们在Pages中创建的login.js中:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="04b2" class="ly lz iq lu b gy ma mb l mc md"><em class="me">/**<br/> * (pages/loginCommand.js)<br/> *<br/> * Page object amazon.com login page.<br/> *<br/> */</em>module.exports = {<br/>    url: function () {<br/>        return `https://www.amazon.com/`;<br/>    },<br/>    elements: {<br/>        signIn: {<br/>            selector: '#nav-link-accountList'<br/>        },<br/>        form: {<br/>            selector: '.a-section'<br/>        },<br/>        email: {<br/>            selector: '#ap_email',<br/>        },<br/>        password: {<br/>            selector: '#ap_password',<br/>        },<br/>        continue: {<br/>            selector: '#continue',<br/>        },<br/>        signInButton: {<br/>            selector: '#signInSubmit',<br/>        },<br/>        errorMessageAlert: {<br/>            selector: '.a-box-inner.a-alert-container',<br/>        },<br/>        loggedInSuccess: {<br/>            selector: '#nav-link-accountList .nav-line-1',<br/>        },<br/>        logout: {<br/>            selector: '#nav-item-signout',<br/>        },<br/>    },<br/>    commands: [{<br/>        /*<br/>         * Test Case-1:<br/>         *<br/>         * check all fields visibility title/body.<br/>         * */<br/>        checkAmazonMainPage: function () {<br/>            return this<br/>                .assert.title('Amazon.com: Online Shopping for Electronics, Apparel, Computers, Books, DVDs &amp; more')<br/>                .assert.visible('body')<br/>        },<br/>        /*<br/>         * Test Case-2:<br/>         *<br/>         * check all fields visibility title/username/password/submit.<br/>         * */<br/>        verifyLoginElements: function () {<br/>            return this<br/>                .click('@signIn')<br/>                .assert.title('Amazon Sign-In')<br/>                .assert.visible('@form')<br/>                .assert.visible('@email')<br/>                .assert.visible('@continue')<br/>        },<br/>        /*<br/>         * Test Case-3:<br/>         *<br/>         * login fail check, with invalid username/password and error message.<br/>         * */<br/>        invalidUsernamePassword: function() {<br/>            return this<br/>                .click('@signIn')<br/>                .setValue('@email', 'test@test.com')<br/>                .click('@continue')<br/>                .setValue('@password', '1234567890')<br/>                .click('@signInButton');<br/>        },<br/>        loginErrorMessage: function() {<br/>            return this<br/>                .assert.elementPresent('@errorMessageAlert')<br/>                .assert.containsText('@errorMessageAlert', 'To better protect your account, please re-enter your password and then enter the characters as they are shown in the image below.')<br/>        },<br/>        /*<br/>         * Test Case-4:<br/>         *<br/>         * login success check, with valid username/password, user profile page check and logout success.<br/>         * */<br/>        validUsernamePassword: function() {<br/>            return this<br/>                .click('@signIn')<br/>                .setValue('@email', 'mithatozturk34@gmail.com')<br/>                .click('@continue')<br/>                .setValue('@password', 'Test12345')<br/>                .click('@signInButton');<br/>        },<br/>        successUserLogin: function() {<br/>            return this<br/>                .assert.visible('@loggedInSuccess')<br/>        },<br/>    }],<br/>};</span></pre></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="fded" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们将代码粘贴到Tests文件夹中的login.js文件中，我们将在这里编写测试场景:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="7da8" class="ly lz iq lu b gy ma mb l mc md"><em class="me">/**<br/> * (test/loginTest.js)<br/> *<br/> * Amazon.com login page test...<br/> *<br/> */<br/></em>module.exports = {<br/>    tags: ['login'],<br/>    before: (browser) =&gt; <strong class="lu ir"><em class="me">console</em></strong>.log('Test is starting...'),<br/>    beforeEach: (browser) =&gt; <strong class="lu ir"><em class="me">console</em></strong>.log('Amazon.com login page testing...'),<br/>    after: (browser) =&gt; <strong class="lu ir"><em class="me">console</em></strong>.log('Test is finished...'),<br/>    'Test Case-1: Go to Amazon.com, check elements, take screenshots': (browser) =&gt; {<br/>        const page = browser.page.loginCommand();<br/>        page.navigate()<br/>            .checkAmazonMainPage()<br/>            .saveScreenshot('test/screenshots/' + 'amz-main-page.png')<br/>            .end();<br/>    },<br/>    'Test Case-2: Go to login page, check elements, take screenshots': (browser) =&gt; {<br/>        const page = browser.page.loginCommand();<br/>        page.navigate()<br/>            .verifyLoginElements()<br/>            .saveScreenshot('test/screenshots/' + 'amz-login-page.png')<br/>            .end();<br/>    },<br/>    'Test Case-3: Login fail, invalid email/pass, take screenshots': (browser) =&gt; {<br/>        const page = browser.page.loginCommand();<br/>        page.navigate()<br/>            .invalidUsernamePassword()<br/>            .loginErrorMessage()<br/>            .saveScreenshot('test/screenshots/' + 'login-fail.png')<br/>            .end();<br/>    },<br/>    'Test Case-4: Login success, valid email/pass, take screenshots': (browser) =&gt; {<br/>        const page = browser.page.loginCommand();<br/>        page.navigate()<br/>            .validUsernamePassword()<br/>            .successUserLogin()<br/>            .saveScreenshot('test/screenshots/' + 'login-success.png')<br/>            .end();<br/>    },<br/>};</span></pre><p id="56b5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将粘贴到more pages / login.js中的代码中的URL扩展、元素和选择器是用于命令的。</p><p id="d881" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在第二部分中，在我们粘贴到Tests / login.js中的代码中，调用了命令并截取了屏幕截图，记录了哪些类使用了哪个名称。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="59d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在上一篇文章中讨论了如何运行我们的测试:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="282b" class="ly lz iq lu b gy ma mb l mc md"><strong class="lu ir">yarn run nightwatch Tests/login.js</strong></span></pre><p id="1e57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看运行测试后的结果:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mm"><img src="../Images/08038a1c7b8cb0cd4af1c54861d90096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wBzuh19GEq4I7vRC.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Figure-1: Amazon.com Login Page Test Result</figcaption></figure><p id="6fc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们来看看截图在哪里:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/d6a2652d85ac7c27eff139aaf0694ac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/0*_DFGdVes0uk-hVuI.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Figure-2: Screenshots and files</figcaption></figure><p id="8a49" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，您可以从<a class="ae ms" href="https://nightwatchjs.org/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">【Nightwatchjs.org】</strong></a>或<a class="ae ms" href="https://nightwatchjs.com/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="me"/></strong></a>站点获取详细信息。还可以访问英语和土耳其语的分享，在<a class="ae ms" href="https://www.instagram.com/nightwatchjs/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">night watch js</strong></a><strong class="ka ir"/>insta gram页面提出你的问题。</p><blockquote class="mt mu mv"><p id="967b" class="jy jz me ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated"><a class="ae ms" href="https://medium.com/@miktadozturk/nightwatch-js-ile-amazon-com-login-sayfas%C4%B1-testi-f270a532a90e" rel="noopener"> <strong class="ka ir">点击此处获取本文的土耳其语版本……</strong></a></p></blockquote><p id="4b54" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢您的阅读…</p><ol class=""><li id="7e8e" class="mz na iq ka b kb kc kf kg kj nb kn nc kr nd kv ne nf ng nh bi translated"><a class="ae ms" href="https://medium.com/@ranakuldeep1989/nice-article-but-you-should-give-due-attribution-while-using-someone-elses-image-c987b3fc25ea?source=responses---------0-----------------------" rel="noopener"> <strong class="ka ir">精选图片来源——https://artoftesting.com/login</strong></a></li></ol></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="25f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击查看作者的其他文章:</p><div class="kw kx gp gr ky kz"><a href="https://medium.com/javascript-in-plain-english/the-progressive-javascript-framework-vue-js-65f106080cb6" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">渐进式JavaScript框架:Vue.js</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">Vue.js是一个用于构建网站ui的Javascript框架。它在许多方面与角相似，也有…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">medium.com</p></div></div><div class="li l"><div class="ni l lk ll lm li ln js kz"/></div></div></a></div><div class="kw kx gp gr ky kz"><a href="https://medium.com/lucid-archive/how-to-install-nightwatch-js-first-test-with-nightwatch-js-cffd7b96f49f" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">如何安装Nightwatch.js？用Nightwatch.js进行第一次测试</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在下面的文章中，我将重点介绍如何安装Nightwatch.js，你必须知道的内容以及如何进行安装</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">medium.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln js kz"/></div></div></a></div><div class="kw kx gp gr ky kz"><a href="https://medium.com/swlh/software-testing-process-and-levels-of-testing-4274904ce655" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">软件测试过程和测试级别</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">软件测试过程</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">medium.com</p></div></div><div class="li l"><div class="nj l lk ll lm li ln js kz"/></div></div></a></div><div class="kw kx gp gr ky kz"><a href="https://medium.com/swlh/software-testing-and-methodologies-1fc519c98fdf" rel="noopener follow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">软件测试和方法</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在我的软件测试系列中，我将尝试讨论为什么测试是必要的，这些测试是如何执行的，如何…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">medium.com</p></div></div><div class="li l"><div class="nk l lk ll lm li ln js kz"/></div></div></a></div></div></div>    
</body>
</html>