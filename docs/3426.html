<html>
<head>
<title>npm vs Yarn — Choosing the right package manager</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">npm与Yarn —选择正确的包装管理器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/npm-vs-yarn-choosing-the-right-package-manager-a5f04256a93f?source=collection_archive---------0-----------------------#2020-09-28">https://javascript.plainenglish.io/npm-vs-yarn-choosing-the-right-package-manager-a5f04256a93f?source=collection_archive---------0-----------------------#2020-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/52e093252f218d7b5fdb2789a30b8791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wyx59gIWjIYp73KDmHnQQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Image source: <a class="ae kc" href="https://www.ryadel.com/en/yarn-vs-npm-pnpm-2019/" rel="noopener ugc nofollow" target="_blank">https://www.ryadel.com/en/yarn-vs-npm-pnpm-2019/</a></figcaption></figure><p id="c9b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> npm </strong>和<strong class="kf ir"> Yarn </strong>都是优秀的Node.js和Javascript包管理器。但是你有没有想过，在已经有npm的情况下，为什么还要开发Yarn？它是由脸书建造的，用来解决他们在npm中面临的主要问题，例如软件包安装速度较慢，以及npm中的一些安全问题。在本文中，我将比较这两种包管理器，以便您可以决定哪一种更适合您的需要。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="0f83" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">包的并行安装</h1><p id="d2ec" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">安装软件包时，它会执行一组任务。在npm中，安装多个软件包时，它会等待一个软件包完全安装完毕，然后再移动到另一个软件包。即，任务是按包顺序执行的。Yarn并行安装这些任务，从而提高<strong class="kf ir">性能</strong>和<strong class="kf ir">速度</strong>。</p><p id="7ef1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了测试这一点，我使用npm和Yarn安装了<code class="fe ml mm mn mo b">react</code>,我惊讶地看到了结果。时间是:</p><ul class=""><li id="02bd" class="mp mq iq kf b kg kh kk kl ko mr ks ms kw mt la mu mv mw mx bi translated">每分钟3.572秒</li><li id="ee97" class="mp mq iq kf b kg my kk mz ko na ks nb kw nc la mu mv mw mx bi translated">纱线— 1.44秒</li></ul></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="7ea7" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">自动锁定文件生成</h1><p id="4dec" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">npm和Yarn都在<code class="fe ml mm mn mo b">package.json</code>文件中跟踪项目的依赖项及其版本号。每当您安装依赖项时，您可能会注意到依赖项的版本可能会在版本号前以<code class="fe ml mm mn mo b">^</code>开头。这意味着每当我们在另一台机器上安装所有的包，或者手动运行命令来安装时，包管理器会寻找新发布的版本。如果有更新的版本，那么会自动安装，而不是程序包文件中提到的版本。如果你不想自动修改你的包，有两种方法可以避免这种情况，一种是生成一个锁文件，这样每次只安装一个特定的版本，另一种是删除包文件中的<code class="fe ml mm mn mo b">^</code>。</p><p id="b148" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当添加依赖项时，Yarn会自动添加一个<code class="fe ml mm mn mo b">yarn.lock</code>文件。在npm中，<code class="fe ml mm mn mo b">npm shrinkwrap</code>命令也会生成一个锁文件。但是，不同之处在于Yarn总是创建和更新<code class="fe ml mm mn mo b">yarn.lock</code>文件，而npm默认不创建锁文件。只有当<code class="fe ml mm mn mo b">npm-shrinkwrap.json</code>存在时，它才会更新。npm v5.0附带了一个名为lock.json文件的新包，并且真诚地抛弃了npm-shrinkwrap系统。这有效地增强了安装过程和性能，即使它还没有达到纱线的速度水平。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="e26e" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">安全性</h1><p id="6434" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">npm会自动执行一段代码，这段代码允许其他包被包含进来，从而导致安全系统中的几个漏洞。另一方面，Yarn安装那些只来自yarn.lock或package.json文件的文件。因此，它被认为比npm软件包更安全。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="360d" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">纱线vs npm命令</h1><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/5de26e22ba97b4b5ea02c51e6d8d799d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n0lzjjycIBtXhJWhGIb40Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Image from <a class="ae kc" href="https://www.digitalocean.com/community/tutorials/nodejs-npm-yarn-cheatsheet" rel="noopener ugc nofollow" target="_blank">Digital ocean</a></figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="a64d" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">最终概述</strong></h1><p id="8c4d" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">两者都有两套不同的好处和功能，以不同的方式帮助用户。与npm相比，Yarn效率更高。但是，Yarn也要对占用大量硬盘空间负责。Yarn是一个较新的包，人们对Yarn超过npm持怀疑态度，因为它太老了，但是Yarn随着更好的稳定性和安全更新变得越来越受欢迎。还必须注意的是，npm也试图赶上其他包管理器，因为开发人员正在为它工作。</p><p id="c8d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢阅读！</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/787be6c671be8d345dc786dad8729ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s-sOyyG8NoRbKpCG_y4Cmw@2x.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank">Subscribe to Decoded, our official YouTube channel!</a></figcaption></figure></div></div>    
</body>
</html>