<html>
<head>
<title>Deploying Next.js 10 With Vercel CLI and the Vercel GitHub Integration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vercel CLI和Vercel GitHub集成部署Next.js 10</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deploying-next-js-10-with-vercel-cli-and-the-vercel-github-integration-10df5bca50c0?source=collection_archive---------11-----------------------#2020-11-05">https://javascript.plainenglish.io/deploying-next-js-10-with-vercel-cli-and-the-vercel-github-integration-10df5bca50c0?source=collection_archive---------11-----------------------#2020-11-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="io ip gp gr iq ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/142a5a15ddf81e48f3d74e1db8da862e.png" data-original-src="https://miro.medium.com/v2/0*sYMJgj9VXTJV4WRu"/></div></figure><div class=""/><p id="baed" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">回到Vercel还是Zeit，Vercel CLI还是简单的<code class="fe ks kt ku kv b">now</code>的时候，我被它的简单性所震撼。在那个时候，你可以部署contains，我在2018年的黄金比特币阶段进行了计算(是的，这是一种倒退)。</p><p id="e2cb" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在最近的<a class="ae kw" href="https://nextjs.org/conf/stage/n" rel="noopener ugc nofollow" target="_blank"> Next.js大会</a>和<a class="ae kw" href="https://nextjs.org/blog/next-10" rel="noopener ugc nofollow" target="_blank"> Next.js 10 </a>发布之后，我非常想对我部署应用的方式做一些改变。</p><p id="b807" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我仍然在努力解决它，但就目前的情况来看，<strong class="jw iy">我不喜欢违背初衷让Lambda函数与Next.js 9+ </strong>一起工作(是的，有一个无服务器插件，但它不适合我想要的工作流)。</p><p id="64c8" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以，我决定回到Vercel，看看有什么新鲜的东西，并把一些注意力放在Next.js上。</p><p id="22c3" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">今天的帖子将简单回顾一下使用Vercel进行部署的过程。</p><p id="ac65" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">要求是你有一个Vercel和GitHub的账号。</p><h2 id="5ac6" class="kx ky ix bd kz la lb dn lc ld le dp lf kf lg lh li kj lj lk ll kn lm ln lo lp bi translated">使用Vercel CLI部署Next.js 10应用程序</h2><p id="6d32" class="pw-post-body-paragraph ju jv ix jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">我们需要做一些基础工作。从项目基础开始，让我们使用<strong class="jw iy"> create-next-app </strong>来创建一个Next.js 10应用程序，我们将使用将要安装的Vercel CLI来部署它。</p><figure class="lv lw lx ly gt ir"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="49b1" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦我们安装并创建了基本的scaffold，我们将需要使用<code class="fe ks kt ku kv b">vercel login</code>登录到我们的Vercel帐户。</p><p id="1608" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这将提示您输入电子邮件地址。一旦输入完毕，请查看您的电子邮件以验证代码。</p><p id="641c" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这将使您从CLI登录，您就可以开始了！</p><p id="4dc0" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，魔术来了…只要跑<code class="fe ks kt ku kv b">vercel</code>。</p><p id="c900" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">按照提示选择您乐意部署的范围和项目。</p><p id="9ebb" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">提示会给你一个URL来检查，这样你就可以看到部署的进度。</p><figure class="lv lw lx ly gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/54ed66d9ed2131fbcbad1457f03a17dc.png" data-original-src="https://miro.medium.com/v2/0*vtCopBKT7fXCKis8"/></div></figure><p id="0e76" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦项目完成，它将为您提供一个特定项目的链接。对我来说，那个链接就是<a class="ae kw" href="https://hello-vercel-cli-deployment.vercel.app" rel="noopener ugc nofollow" target="_blank">https://hello-vercel-CLI-deployment . vercel . app</a>。</p><p id="591c" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您前往该链接，您将看到基本的Next.js 10登录页面！</p><figure class="lv lw lx ly gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/9a42f84e7f1069ae4264a3b4009ab8e6.png" data-original-src="https://miro.medium.com/v2/0*Jnkh1ayNLErKUSAN"/></div></figure><p id="9735" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">哇，还是和两年前一样简单。</p><h2 id="d1a7" class="kx ky ix bd kz la lb dn lc ld le dp lf kf lg lh li kj lj lk ll kn lm ln lo lp bi translated">使用GitHub部署</h2><p id="a5d1" class="pw-post-body-paragraph ju jv ix jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">如果我们现在转到您的<a class="ae kw" href="https://vercel.com/dashboard" rel="noopener ugc nofollow" target="_blank"> Vercel仪表板</a>，您将看到项目带有一个连接Git存储库的选项。</p><figure class="lv lw lx ly gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/17ad28b473fdef36235c3598053a40ac.png" data-original-src="https://miro.medium.com/v2/0*Fb4YwU6j9eHpH41N"/></div></figure><p id="9b29" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了连接这个，你需要确保你的新回购已经在GitHub上了。</p><p id="25f0" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果您使用的是<a class="ae kw" href="https://github.com/cli/cli" rel="noopener ugc nofollow" target="_blank"> GitHub CLI </a>，您可以运行类似下面的命令来创建一个repo(在这里是public)并推送存储库。</p><figure class="lv lw lx ly gt ir"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="3cad" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">回到仪表板，我们可以选择<strong class="jw iy">连接到Git存储库</strong>，并按照提示添加我们新创建的<strong class="jw iy">hello-vercel-CLI-deployment</strong>存储库。</p><blockquote class="mb mc md"><p id="6f20" class="ju jv me jw b jx jy jz ka kb kc kd ke mf kg kh ki mg kk kl km mh ko kp kq kr ij bi translated">值得注意的是，默认情况下，Vercel将在<code class="fe ks kt ku kv b">main</code>分支上进行部署。</p></blockquote><p id="dec3" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这个阶段，我将返回回购，对主页<code class="fe ks kt ku kv b">pages/index.js</code>做一些小的调整，保存，提交到Git，然后推送到remote。</p><p id="3b8a" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦推送，连接的Git repo会自动触发新的部署！</p><figure class="lv lw lx ly gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/63860622754037ed3c9dca62a0ed800b.png" data-original-src="https://miro.medium.com/v2/0*ecJTcW4JHzpuDlab"/></div></figure><p id="71ce" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可以跟随仪表板，但一旦完成，你会看到一个新的网站预览和最终网站。</p><figure class="lv lw lx ly gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/a770052b9f922653a2f34ac5bd8edf8e.png" data-original-src="https://miro.medium.com/v2/0*gRVyRsO6_Qcq0Yjg"/></div></figure><figure class="lv lw lx ly gt ir gh gi paragraph-image"><div class="ab gu cl is"><img src="../Images/3deb1b6f1f25f4ad01fae4885abb0748.png" data-original-src="https://miro.medium.com/v2/0*P6VOlD6OtFzm4MPV"/></div></figure><p id="b33e" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">恭喜，加快项目和部署的第一步已经完成！</p><h2 id="7fb2" class="kx ky ix bd kz la lb dn lc ld le dp lf kf lg lh li kj lj lk ll kn lm ln lo lp bi translated">包扎</h2><p id="f6fb" class="pw-post-body-paragraph ju jv ix jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">太棒了，所以我们设法使用Vercel CLI部署了Next.js 10应用程序的基础，并连接GitHub来自动触发对分支的更改。</p><p id="1c3a" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这篇博客之后，我将发布一些关于Next.js 10新特性的帖子，对它们进行更深入的研究，并将所有示例部署到Vercel网站上。</p><h2 id="af4b" class="kx ky ix bd kz la lb dn lc ld le dp lf kf lg lh li kj lj lk ll kn lm ln lo lp bi translated">资源</h2><ol class=""><li id="f530" class="mi mj ix jw b jx lq kb lr kf mk kj ml kn mm kr mn mo mp mq bi translated"><a class="ae kw" href="https://github.com/cli/cli" rel="noopener ugc nofollow" target="_blank"> GitHub CLI </a></li><li id="2715" class="mi mj ix jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated"><a class="ae kw" href="https://vercel.com/dashboard" rel="noopener ugc nofollow" target="_blank"> Vercel仪表盘</a></li><li id="3876" class="mi mj ix jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated"><a class="ae kw" href="https://nextjs.org/conf/stage/n" rel="noopener ugc nofollow" target="_blank"> Next.js发布会</a></li><li id="6804" class="mi mj ix jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated"><a class="ae kw" href="https://nextjs.org/blog/next-10" rel="noopener ugc nofollow" target="_blank"> Next.js 10 </a></li><li id="0bfe" class="mi mj ix jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated"><a class="ae kw" href="https://hello-vercel-cli-deployment.vercel.app" rel="noopener ugc nofollow" target="_blank">现场部署</a></li><li id="0e64" class="mi mj ix jw b jx mr kb ms kf mt kj mu kn mv kr mn mo mp mq bi translated"><a class="ae kw" href="https://github.com/okeeffed/hello-vercel-cli-deployment" rel="noopener ugc nofollow" target="_blank">最终代码— GitHub </a></li></ol><p id="6721" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="me">图像来源:</em> <a class="ae kw" href="https://unsplash.com/@drew_beamer" rel="noopener ugc nofollow" target="_blank"> <em class="me">德鲁·比默</em> </a></p><p id="1c6b" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="me">原贴于我的</em> <a class="ae kw" href="https://blog.dennisokeeffe.com/blog/2020-11-05-deploying-with-vercel-cli/" rel="noopener ugc nofollow" target="_blank"> <em class="me">博客</em> </a> <em class="me">。</em></p></div></div>    
</body>
</html>