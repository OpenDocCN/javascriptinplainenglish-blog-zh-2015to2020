<html>
<head>
<title>Fake APIs for your UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为你的用户界面伪造API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/fake-apis-for-your-ui-til-you-make-it-b6a2da89fdaa?source=collection_archive---------5-----------------------#2019-11-21">https://javascript.plainenglish.io/fake-apis-for-your-ui-til-you-make-it-b6a2da89fdaa?source=collection_archive---------5-----------------------#2019-11-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2140" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">('直到你成功！)</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/0d3b1df0bbe63131bc5706d077f3a02c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*kUSTaUSLKvg-AYq38enKGw.jpeg"/></div></figure><p id="7eb6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">很多时候我们只是想快速开始开发一个UI原型，没有太多的依赖。</p><p id="a7cc" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">但事实是，对于一个可用的现实世界的组件，我们经常需要获取一些数据，并让UI处理它，然后呈现一些东西。</p><p id="fa1a" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">然后我们要么:<br/>——写一些快速的后端代码(用像express，koa，happy等后端框架。)<br/>有几个API，routes返回一些哑数据或者数据库中的数据。<br/> -从互联网上研究和利用一个假的API服务。</p><p id="d5ba" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">对于选项1</strong>——编写我们自己的后端。我们要花很多时间用:<br/> -哑数据，分页支持来创建后端API。<br/> -符合标准、合适的API接口。通常，这将导致从最初的想法分心，我们将有更少的时间来实现UI(这可能是我们偶尔放弃宠物项目的原因)</p><p id="3693" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">对于选项2 </strong> —利用来自互联网的假冒API服务:<br/>—需要互联网连接。<br/> -依靠他们的稳定性。<br/> -它们可能会有突破性的变化，你必须相应地调整你的代码。<br/> -添加依赖关系—几年后它们还会存在吗？</p><p id="b387" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">但是有一种更好的方法可以做到这一点……</strong></p><p id="28a9" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果我们有一种简单的方法在本地启动我们的伪API，并准备好一些虚拟数据供UI使用，会怎么样？</p><p id="23f6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在让我们探索一个名为<strong class="km io"> API的命令行工具！(api-now) </strong>。<br/>只需在终端中键入<strong class="km io"> $ npx api-now </strong>，它就会启动一个api服务器，在HTTPS的支持下提供JSON、JS文件或faker数据！</p><p id="e463" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这为我们节省了大量修补后端的时间，所以我们可以专注于我们漂亮的UI原型，直到我们有时间投资后端设置。</p><p id="7509" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">API-现在</strong>有许多有用的特性，如:<br/> -开箱即用的默认数据集:todos、用户、帖子、评论(使用faker)。<br/> - HTTPS支持(带密钥、证书文件)。<br/> -可以取一个. json或者。js文件。<br/> -可以提供静态目录(例如/dist、/public等。)—这可以替代http-server或SimpleHTTPServer。<br/>-API支持分页(_page，_limit)。<br/> - /echo路由以json的形式返回响应参数。<br/>-/文件路径服务于任何文件类型(包括图片)。<br/>-/登录路由(POST)用一个伪JWT令牌响应(使用jsonwebtoken)。<br/> - /todos route返回待办事项列表(遵循TodoMVC规范)。<br/> - /image/random提供一个目录中的随机图像文件。<br/>-/头像/随机服务一个随机头像形象。<br/>-/自然/随机服务一个随机的自然图像。</p><p id="ca30" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要尝试它，请准备好您的节点(谁不准备呢？)并运行这个命令行<strong class="km io"> $ npx api-now </strong>。就是这样！您现在可以尝试(从另一个终端):</p><pre class="kd ke kf kg gt lg lh li lj aw lk bi"><span id="b0a9" class="ll lm in lh b gy ln lo l lp lq"><br/>$ curl <a class="ae lr" href="http://localhost:3003/todos" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/todos</a><br/>$ curl <a class="ae lr" href="http://localhost:3003/users?_page=1&amp;_limit=5" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/users?_page=1&amp;_limit=5</a> (others: /posts /comments)</span><span id="ecbd" class="ll lm in lh b gy ls lo l lp lq">Other Useful Routes:<br/>$ curl <a class="ae lr" href="http://localhost:3003/echo?any=value" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/echo?any=value</a><br/>$ curl <a class="ae lr" href="http://localhost:3003/file?path=YourFilePath" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/file?path=YourFilePath</a><br/>$ curl <a class="ae lr" href="http://localhost:3003/image/random?path=YourDirPath" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/image/random?path=YourDirPath</a><br/>$ curl <a class="ae lr" href="http://localhost:3003/avatar/random" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/avatar/random</a><br/>$ curl <a class="ae lr" href="http://localhost:3003/nature/random" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/nature/random</a><br/>$ curl -X POST <a class="ae lr" href="http://localhost:3003/login" rel="noopener ugc nofollow" target="_blank">http://localhost:3003/login</a> -H 'Content-Type: application/json' -d '{"username": "test"}'</span></pre><p id="cead" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">下面是一个使用api-now作为UI样板的示例项目:<br/><a class="ae lr" href="https://github.com/ngduc/parcelui" rel="noopener ugc nofollow" target="_blank">https://github.com/ngduc/parcelui</a></p><p id="3e9b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在你有更多的时间来享受修补你的UI项目的乐趣了！:)</p><p id="f6fd" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">链接:</strong><br/><a class="ae lr" href="https://github.com/ngduc/api-now" rel="noopener ugc nofollow" target="_blank">https://github.com/ngduc/api-now</a></p></div></div>    
</body>
</html>