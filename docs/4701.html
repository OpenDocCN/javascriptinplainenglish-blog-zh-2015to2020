<html>
<head>
<title>Using Amazon SES with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Node.js使用Amazon SES</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-amazon-ses-with-node-js-to-send-those-otp-emails-1d2dc8da6c30?source=collection_archive---------7-----------------------#2020-12-31">https://javascript.plainenglish.io/using-amazon-ses-with-node-js-to-send-those-otp-emails-1d2dc8da6c30?source=collection_archive---------7-----------------------#2020-12-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/410209358f0393ee4614860404ef698c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*70pv5XSjRQX7Aub62XFgEw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">AWS-SES banner (URL: <a class="ae jz" href="https://aws.amazon.com/ses/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/ses/</a>) (for the folks too lazy to read, the git URL is at the end of the post!)</figcaption></figure><h2 id="d2a2" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">亚马逊SES是什么？</h2><p id="14a3" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">顾名思义，它是用来收发电子邮件的。我们将在本文中讨论发送它的一部分。</p><p id="aedb" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">曾经有一段时间，我们花费了大量的时间和资源来设置我们的SMTP服务器，以便向新注册我们网站的用户发送一封祝贺邮件。AWS的SES让这一切变得简单(相对而言)。</p></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="c317" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated"><strong class="ak">好处</strong></h1><ol class=""><li id="9371" class="mu mv in ky b kz la ld le kj mw kn mx kr my lq mz na nb nc bi translated">节省了资源，没有开发人员在设置SMTP服务器上浪费时间，该服务器仅在用户忘记其帐户的密码时使用。</li><li id="6802" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">没有数百行代码来调用您的SMTP服务器。</li><li id="3b4b" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated"><em class="ni">快速简单！</em></li></ol></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="1299" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated">步伐</h1><ol class=""><li id="2f04" class="mu mv in ky b kz la ld le kj mw kn mx kr my lq mz na nb nc bi translated">设置SES/验证电子邮件</li><li id="09eb" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">设置凭据</li><li id="b9bd" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">设置您的电子邮件应用程序。</li><li id="2ab9" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">走出沙盒。</li><li id="b38e" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">使用自己的域名<em class="ni">(可选)</em></li></ol></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="1a91" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated">设置SES/验证您的电子邮件</h1><ol class=""><li id="fbaf" class="mu mv in ky b kz la ld le kj mw kn mx kr my lq mz na nb nc bi translated">在您的AWS帐户上设置SES。</li></ol><p id="0649" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io"> i. </strong>登录您在<a class="ae jz" href="https://aws.amazon.com" rel="noopener ugc nofollow" target="_blank">aws.amazon.com</a>的AWS账户，如果您还没有，请创建一个。</p><p id="df7c" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io">二。</strong>在您首选的AWS地区(通常是离您或您的用户群最近的地区)搜索简单的电子邮件服务</p><figure class="nk nl nm nn gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/1ae91ab80df2a945e30273e720a772cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*VAOMMhcYitPir3B58caqsQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">SES</figcaption></figure><p id="5410" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">→三。在SES主页上，单击左侧边栏中的“<strong class="ky io">电子邮件地址”</strong>选项。</p><p id="67dc" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">添加您要用于发送电子邮件的电子邮件，您将收到来自<code class="fe no np nq nr b">no-reply-aws@amazon.com</code>的电子邮件。要验证该电子邮件，请点击邮件中的URL进行验证。(您经过验证的电子邮件地址将被用作您使用AWS-SES发送的电子邮件的“发件人”地址)。</p><div class="nk nl nm nn gt ab cb"><figure class="ns jo nt nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/b3f33e7bab5f8ba655afd5d84cec7346.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*fXnmO8FAkurVHQRt7q_Z7w.png"/></div></figure><figure class="ns jo ny nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/00c4ec71e7e757cbbadd676bf503b797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*CcGKbR7XD8DN5FXgE-lnLQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk nz di oa ob">Verify An Email Address</figcaption></figure></div></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="18c7" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated">设置凭据</h1><p id="ce2d" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">为了允许AWS-SDK代表您发送电子邮件，我们需要创建凭据。</p><p id="975f" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io">一、</strong>在AWS控制台右上角，打开账户菜单，点击<code class="fe no np nq nr b">‘My Security Credentials’</code>。在打开的页面上，转到<code class="fe no np nq nr b">Access keys (access key ID and secret access key)</code>，点击“创建新的访问密钥”。</p><figure class="nk nl nm nn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oc"><img src="../Images/13628ae567b5f245f6da696f8e212de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r6V8O7qG7ERWiQVTLbnSjg.png"/></div></div></figure><p id="2986" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io">二。</strong>下载密钥文件或保存访问密钥ID和密码。</p><p id="0153" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io">三。我们需要在我们的机器中设置这些凭证，以供AWS-SDK使用。</strong></p><ul class=""><li id="ecac" class="mu mv in ky b kz lr ld ls kj od kn oe kr of lq og na nb nc bi translated">在您的用户主目录中，创建一个名为<code class="fe no np nq nr b">.aws</code>的文件夹</li><li id="1846" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq og na nb nc bi translated">创建一个名为<code class="fe no np nq nr b">credentials</code>的文件</li><li id="4995" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq og na nb nc bi translated">将访问密钥和密码粘贴到文件中。(我们在上一步中创建的那个):</li></ul><p id="4918" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><code class="fe no np nq nr b">[default]<br/>aws_access_key_id=AKISQJEUHDSBQNDKO<br/>aws_secret_access_key=456789ijhVFGTYHji987yTGFR%TY&amp;^YTGHJH</code></p><p id="3ba3" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">您的新凭证文件将如下所示👆</p><p id="5ec5" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">放心吧！这些都是假证件，✌️</p><p id="c1c7" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><code class="fe no np nq nr b">[default]</code>:是凭证对的标签。我们可以在同一个文件中保存多个凭证，并使用标签来区分。如果您的代码中没有指定任何内容，AWS-SDK将使用带有<code class="fe no np nq nr b">default</code>标记的凭证。</p></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="2799" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated">设置您的电子邮件应用程序</h1><ol class=""><li id="8316" class="mu mv in ky b kz la ld le kj mw kn mx kr my lq mz na nb nc bi translated">用文件夹中的<code class="fe no np nq nr b">npm init -y</code>或<code class="fe no np nq nr b">npm init</code>初始化Node.js应用程序，并输入所有需要的细节。</li></ol><figure class="nk nl nm nn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oh"><img src="../Images/447bc3e9528954b520f71cc4c61c7e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xlNtJrpoQnuWKRlYjKMgqA.png"/></div></div></figure><p id="a2e1" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">2.创建我们在package.json中提到的名为<code class="fe no np nq nr b">index.js</code>的主文件，这个文件是在<code class="fe no np nq nr b">npm init</code>的帮助下创建的。</p><p id="29a0" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">3.安装代表我们调用电子邮件服务的AWS-SDK。在命令行中写入<code class="fe no np nq nr b">yarn add aws-sdk</code>或<code class="fe no np nq nr b">npm install aws-sdk --save</code>。</p><p id="a262" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">4.在index.js (main)文件中导入<code class="fe no np nq nr b">aws-sdk</code>。</p><p id="ceda" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><code class="fe no np nq nr b">const AWS = require(‘aws-sdk’);</code></p><p id="9cfd" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">5.为您的AWS- SES服务设置区域。(比如我在N. Virginia地区验证邮箱)→ (us-east-1)。</p><p id="2c53" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><code class="fe no np nq nr b">AWS.config.update({ region: ‘us-east-1’ });</code></p><p id="d396" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">6.设置AWS-SDK要使用的凭据。</p><p id="496d" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><code class="fe no np nq nr b">var credentials = new AWS.SharedIniFileCredentials({profile: ‘work-account’}); AWS.config.credentials = credentials;</code></p><p id="6c1b" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">在我们的例子中，我们使用默认标签的凭证。因此，我们跳过上述步骤。</p><p id="728b" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">7.在params对象中设置你的消息，发件人地址，收件人地址，主题等，看起来应该像这样👇</p><pre class="nk nl nm nn gt oi nr oj ok aw ol bi"><span id="d807" class="ka kb in nr b gy om on l oo op">let params = {</span><span id="fdab" class="ka kb in nr b gy oq on l oo op">Destination: {</span><span id="a52c" class="ka kb in nr b gy oq on l oo op">/* required */</span><span id="18e9" class="ka kb in nr b gy oq on l oo op">ToAddresses: [</span><span id="d646" class="ka kb in nr b gy oq on l oo op">email,</span><span id="c886" class="ka kb in nr b gy oq on l oo op">/* more items */</span><span id="b241" class="ka kb in nr b gy oq on l oo op">]</span><span id="9660" class="ka kb in nr b gy oq on l oo op">},</span><span id="696f" class="ka kb in nr b gy oq on l oo op">Message: {</span><span id="cc4a" class="ka kb in nr b gy oq on l oo op">/* required */</span><span id="23a3" class="ka kb in nr b gy oq on l oo op">Body: {</span><span id="74e8" class="ka kb in nr b gy oq on l oo op">/* required */</span><span id="b791" class="ka kb in nr b gy oq on l oo op">Html: {</span><span id="6abe" class="ka kb in nr b gy oq on l oo op">Charset: "UTF-8",</span><span id="357b" class="ka kb in nr b gy oq on l oo op">Data: `&lt;h3&gt;Hi ${name}!&lt;/h3&gt;&lt;br/&gt;</span><span id="ea69" class="ka kb in nr b gy oq on l oo op">&lt;p&gt;Your OTP for Something Something Service Hub is:&lt;em&gt; ${otp}&lt;/em&gt;&lt;/p&gt;&lt;br/&gt;</span><span id="0b54" class="ka kb in nr b gy oq on l oo op">&lt;p&gt;Regards,&lt;br/&gt;</span><span id="9848" class="ka kb in nr b gy oq on l oo op">Something Something Service Hub Team&lt;/p&gt;`</span><span id="62ea" class="ka kb in nr b gy oq on l oo op">},</span><span id="c395" class="ka kb in nr b gy oq on l oo op">Text: {</span><span id="995e" class="ka kb in nr b gy oq on l oo op">Charset: "UTF-8",</span><span id="acae" class="ka kb in nr b gy oq on l oo op">Data: `Hi  ${name}!</span><span id="060c" class="ka kb in nr b gy oq on l oo op">Your Login OTP is ${otp}`</span><span id="2108" class="ka kb in nr b gy oq on l oo op">}</span><span id="23b0" class="ka kb in nr b gy oq on l oo op">},</span><span id="2d77" class="ka kb in nr b gy oq on l oo op">Subject: {</span><span id="8c27" class="ka kb in nr b gy oq on l oo op">Charset: 'UTF-8',</span><span id="a464" class="ka kb in nr b gy oq on l oo op">Data: `${otp} is the  OTP for Something Something Service Hub!`</span><span id="3324" class="ka kb in nr b gy oq on l oo op">}</span><span id="ab32" class="ka kb in nr b gy oq on l oo op">},</span><span id="6a1d" class="ka kb in nr b gy oq on l oo op">Source: fromEmail,</span><span id="840d" class="ka kb in nr b gy oq on l oo op">/* required */</span><span id="8208" class="ka kb in nr b gy oq on l oo op">ReplyToAddresses: [</span><span id="dc67" class="ka kb in nr b gy oq on l oo op">fromEmail,</span><span id="d34c" class="ka kb in nr b gy oq on l oo op">/* more items */</span><span id="bd7c" class="ka kb in nr b gy oq on l oo op">],</span><span id="8377" class="ka kb in nr b gy oq on l oo op">};</span></pre><p id="313c" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">我们可以在正文中编写HTML或文本，HTML在两者中具有更高的优先级。</p><p id="5393" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">8.使用AWS调用SES服务。SES打包并传递参数。</p><p id="5621" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><code class="fe no np nq nr b">var sendPromise = new AWS.SES({apiVersion: ‘2010–12–01’}).sendEmail(params).promise();</code></p><p id="7776" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">9.捕捉回应。</p><pre class="nk nl nm nn gt oi nr oj ok aw ol bi"><span id="3f46" class="ka kb in nr b gy om on l oo op">sendPromise.then(</span><span id="9eea" class="ka kb in nr b gy oq on l oo op">function (data) {</span><span id="8c2e" class="ka kb in nr b gy oq on l oo op">console.log(data.MessageId);</span><span id="4aac" class="ka kb in nr b gy oq on l oo op">}).catch(</span><span id="cde5" class="ka kb in nr b gy oq on l oo op">function (err) {</span><span id="4d30" class="ka kb in nr b gy oq on l oo op">console.error(err, err.stack);</span><span id="b409" class="ka kb in nr b gy oq on l oo op">});</span></pre></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="57ad" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated"><strong class="ak">问题！！</strong></h1><p id="1b57" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">耶！我知道我之前没说。虽然我们已经正确地做了每件事，但是有一个问题我们没有谈论。SES仅允许您向经过验证的电子邮件帐户发送电子邮件。意味着什么？嗯…我验证了我们的电子邮件，我们可以向那个地址发送尽可能多的电子邮件，但不能发送到其他地方。</p><h1 id="4ed2" class="md kb in bd kc me or mg kf mh os mj ki mk ot mm km mn ou mp kq mq ov ms ku mt bi translated">解决方案？？</h1><p id="94ff" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">SES为我们分配了一个沙盒电子邮件帐户服务，该服务只将电子邮件发送到我们验证过的电子邮件地址。但是为什么呢？我只需要一个电子邮件服务来生成一个登录动态口令并发送它。</p><blockquote class="ow ox oy"><p id="7802" class="kw kx ni ky b kz lr lb lc ld ls lf lg oz lt li lj pa lu ll lm pb lv lo lp lq ig bi translated"><strong class="ky io">权力越大责任越大——来自</strong> <a class="pc pd ep" href="https://medium.com/u/1a99b354e672?source=post_page-----1d2dc8da6c30--------------------------------" rel="noopener" target="_blank"> <strong class="ky io">漫威漫画</strong> </a> <strong class="ky io">的某人。</strong></p></blockquote><figure class="nk nl nm nn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pe"><img src="../Images/302481b07406af0da55a71a0f877de14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UEkvBanOW_nwlVAyHLfdVQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">SES — sandbox</figcaption></figure><p id="1f2e" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">为什么会这样？嗯……你所需要做的就是记住你的Gmail邮箱中的未读邮件数量，因为你收到的垃圾邮件越来越多。AWS不希望人们将其用作垃圾邮件生成器。那么，应该怎么做呢？</p></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="fa68" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated">走出沙盒。</h1><ol class=""><li id="55e0" class="mu mv in ky b kz la ld le kj mw kn mx kr my lq mz na nb nc bi translated">在SES控制台中，转到左侧菜单上的“发送统计数据”。</li></ol><p id="4418" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">2.你会看到你有一个沙盒账户，上面的<code class="fe no np nq nr b">info-box</code>也提到了这一点。点击<em class="ni">编辑您的账户详情</em>。</p><p id="d952" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">3.填写所需的详细信息、您的用例等。</p><figure class="nk nl nm nn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pf"><img src="../Images/f62b9654e1a086c08cf75db67b6983f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A83FOiq2YX_FPjMrOJ380w.png"/></div></div></figure><p id="41e6" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">4.一旦您填写了所有的细节，提交您的申请进行审查，等待几个小时的团队响应和批准您的请求，您就可以开始了。</p><p id="3b54" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">5.但是等等！不急！我们知道我们得到了批准，但这并不意味着我们可以用它来发送任何类型的电子邮件。SES有一个名为“<em class="ni">声誉仪表板</em>”的仪表板，可以跟踪所有与你的电子邮件发送和投诉相关的统计数据。一定要小心，避免产生任何垃圾邮件。</p><div class="nk nl nm nn gt ab cb"><figure class="ns jo pg nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/bb18f0ce7f0bca45325994bcc1df85fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*9GbbdLdvAO6JEgISQbB7sQ.png"/></div></figure><figure class="ns jo ph nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/dd7da35e8a32579f7ad4f6c6c9d3dab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*H2Z8n1fhlsTjBIieW3UVcg.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk pi di pj ob">Reputation Dashboard and Production access.</figcaption></figure></div><p id="a596" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">6.现在，您可以向您的应用程序用户发送电子邮件。</p></div><div class="ab cl lw lx hr ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ig ih ii ij ik"><h1 id="bb59" class="md kb in bd kc me mf mg kf mh mi mj ki mk ml mm km mn mo mp kq mq mr ms ku mt bi translated">问题？</h1><p id="81c5" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">另一个问题！谁会相信一封来自某个随机且非常常见的域名Gmail的OTP电子邮件呢？雅虎邮箱？等等？</p><h1 id="06c0" class="md kb in bd kc me or mg kf mh os mj ki mk ot mm km mn ou mp kq mq ov ms ku mt bi translated">使用自己的域名<em class="pk">(可选)</em></h1><ol class=""><li id="285c" class="mu mv in ky b kz la ld le kj mw kn mx kr my lq mz na nb nc bi translated">使用亚马逊S3从<a class="ae jz" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-register.html" rel="noopener ugc nofollow" target="_blank">亚马逊注册表</a>购买域名。</li><li id="80c9" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">现在返回AWS-SES，从左侧菜单中点击'<em class="ni">域</em>'。</li><li id="d963" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">单击“验证新域”，按照步骤操作。</li><li id="e22a" class="mu mv in ky b kz nd ld ne kj nf kn ng kr nh lq mz na nb nc bi translated">完成了。</li></ol><p id="37c8" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">现在你可以在你的应用程序中写任何带有<code class="fe no np nq nr b">@yourdomain.com</code>的电子邮件地址。</p><p id="51ce" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">你可以在github.com/psharneja<a class="ae jz" href="https://github.com/psharneja/aws-ses-gist" rel="noopener ugc nofollow" target="_blank">查看代码库。</a></p><p id="4e1e" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">注意:<a class="ae jz" href="https://aws.amazon.com/ses/getting-started/" rel="noopener ugc nofollow" target="_blank">使用AWS-SDK并不是使用SES服务</a>的唯一方式。SES支持<a class="ae jz" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-smtp.html" rel="noopener ugc nofollow" target="_blank"> SMTP </a>选项以及<a class="ae jz" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/using-ses-api-examples.html" rel="noopener ugc nofollow" target="_blank"> REST </a>。</p><p id="a8eb" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">我们使用共享凭证进行身份验证。AWS给了我们很多其他的选择。你可以在<a class="ae jz" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-concepts-credentials.html" rel="noopener ugc nofollow" target="_blank"> docs.aws </a>查看。</p><p id="e1cf" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">您可以将<a class="ae jz" href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/SES.html#sendEmail-property" rel="noopener ugc nofollow" target="_blank">抄送&amp;密件抄送地址添加到您的电子邮件</a>中。也可以用回调代替承诺。</p><p id="31ba" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">下次吧！再见！</p></div></div>    
</body>
</html>