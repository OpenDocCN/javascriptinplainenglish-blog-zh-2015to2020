<html>
<head>
<title>Dynamic Tab based application using Angular and Angular Material</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用角度和角度材料的基于动态标签的应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/dynamic-tab-based-application-using-angular-material-9f9da7de5732?source=collection_archive---------0-----------------------#2019-11-22">https://javascript.plainenglish.io/dynamic-tab-based-application-using-angular-material-9f9da7de5732?source=collection_archive---------0-----------------------#2019-11-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5a667bcb9f2d2abfc76d768c198d8f96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9m3PUCJjSrpQaywO9vBC0w.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@max_duz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Max Duzij</a> on <a class="ae jz" href="https://unsplash.com/s/photos/code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f35d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">今天，我们将开发一个基于标签的应用程序，使用角和角材料。</p><p id="2ce5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> Angular Material </strong>是一个面向Angular开发者的UI组件库。Angular Material components有助于构建有吸引力的、一致的和功能性的网页和web应用程序，同时遵守现代web设计原则，如浏览器便携性、设备独立性和优雅降级。它有助于创建更快、更漂亮、响应更快的网站。它的灵感来自谷歌的材料设计。</p><p id="549f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在让我们从头开始构建应用程序。</p><h1 id="19b0" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">使用角度命令生成一个基本的角度框架</strong></h1><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5f8c" class="mf kz in mb b gy mg mh l mi mj">//Installs Angular CLI globally<br/><strong class="mb io">npm install -g @angular/cli</strong></span><span id="cccb" class="mf kz in mb b gy mk mh l mi mj">//Generates an angular "tab-demo-app" app <br/><strong class="mb io">ng new tab-demo-app</strong></span><span id="fed4" class="mf kz in mb b gy mk mh l mi mj">//Directory changed to the new app generated<br/><strong class="mb io">cd tab-demo-app</strong></span><span id="16f7" class="mf kz in mb b gy mk mh l mi mj">//<!-- -->Installs Angular Material, the <a class="ae jz" href="https://material.angular.io/cdk/categories" rel="noopener ugc nofollow" target="_blank">Component Dev Kit (CDK)</a>, <a class="ae jz" href="https://angular.io/guide/animations" rel="noopener ugc nofollow" target="_blank">Angular Animations</a> and will ask you some questions to determine which features to include.<br/><strong class="mb io">ng add @angular/material</strong></span></pre><h1 id="2c34" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">开发</strong></h1><p id="cfd7" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mn kn ko kp mo kr ks kt mp kv kw kx ig bi translated">我们将从创建TabService开始，它将用于添加新选项卡、删除选项卡以及将选项卡数据传递给组件。</p><p id="5eaf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每当tab数组的长度发生变化时，这些信息就会通过BehaviorSubject <strong class="kc io"> tabSub与组件共享。</strong>主题<strong class="kc io"> tabSub </strong>将更改后的标签数组传递给订阅了该数组的组件。下面添加了相同的代码:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="d6ed" class="mf kz in mb b gy mg mh l mi mj">                         <strong class="mb io">//tab.service.ts</strong></span><span id="ef08" class="mf kz in mb b gy mk mh l mi mj">import { Injectable } from "@angular/core";</span><span id="a875" class="mf kz in mb b gy mk mh l mi mj">import { Tab } from "./tab.model";</span><span id="129a" class="mf kz in mb b gy mk mh l mi mj">import { Comp1Component } from "./components/comp1.component";</span><span id="87fc" class="mf kz in mb b gy mk mh l mi mj">import { Comp2Component } from "./components/comp2.component";</span><span id="7146" class="mf kz in mb b gy mk mh l mi mj">import { BehaviorSubject } from "rxjs";<br/></span><span id="c3e5" class="mf kz in mb b gy mk mh l mi mj">@Injectable()</span><span id="e1a6" class="mf kz in mb b gy mk mh l mi mj">export class TabService {</span><span id="3cc6" class="mf kz in mb b gy mk mh l mi mj">public tabs: Tab[] = [</span><span id="6d6b" class="mf kz in mb b gy mk mh l mi mj">new Tab(Comp1Component, "Comp1 View", { parent: "AppComponent" }),</span><span id="cf12" class="mf kz in mb b gy mk mh l mi mj">new Tab(Comp2Component, "Comp2 View", { parent: "AppComponent" })</span><span id="70cc" class="mf kz in mb b gy mk mh l mi mj">];</span><span id="f9a2" class="mf kz in mb b gy mk mh l mi mj">public tabSub = new BehaviorSubject&lt;Tab[]&gt;(this.tabs);</span><span id="535b" class="mf kz in mb b gy mk mh l mi mj">public removeTab(index: number) {</span><span id="a260" class="mf kz in mb b gy mk mh l mi mj">this.tabs.splice(index, 1);</span><span id="ee4d" class="mf kz in mb b gy mk mh l mi mj">if (this.tabs.length &gt; 0) {</span><span id="d2e2" class="mf kz in mb b gy mk mh l mi mj">this.tabs[this.tabs.length - 1].active = true;</span><span id="f066" class="mf kz in mb b gy mk mh l mi mj">}</span><span id="a22a" class="mf kz in mb b gy mk mh l mi mj">this.tabSub.next(this.tabs);</span><span id="d6b7" class="mf kz in mb b gy mk mh l mi mj">}</span><span id="f626" class="mf kz in mb b gy mk mh l mi mj">public addTab(tab: Tab) {</span><span id="184d" class="mf kz in mb b gy mk mh l mi mj">for (let i = 0; i &lt; this.tabs.length; i++) {</span><span id="247a" class="mf kz in mb b gy mk mh l mi mj">if (this.tabs[i].active === true) {</span><span id="ad62" class="mf kz in mb b gy mk mh l mi mj">this.tabs[i].active = false;</span><span id="34a6" class="mf kz in mb b gy mk mh l mi mj">}}</span><span id="adff" class="mf kz in mb b gy mk mh l mi mj">tab.id = this.tabs.length + 1;</span><span id="e39d" class="mf kz in mb b gy mk mh l mi mj">tab.active = true;</span><span id="53b7" class="mf kz in mb b gy mk mh l mi mj">this.tabs.push(tab);</span><span id="3b81" class="mf kz in mb b gy mk mh l mi mj">this.tabSub.next(this.tabs);</span><span id="5753" class="mf kz in mb b gy mk mh l mi mj">}}</span></pre><p id="4bc7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，让我们转移到app.component.html。我在这里使用了有角度的材料标签。要使用材料选项卡元素，我们需要将MatTabsModule导入到<strong class="kc io"> AppModule。</strong>在模板中，我们使用<strong class="kc io"> ngFor </strong>指令来迭代tabs数组，以生成多个选项卡。</p><p id="b6de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">selectedIndex(<mat-tab-group>的输入属性)属性被设置为<strong class="kc io"> selectedTab </strong>变量。设置了索引(selectedIndex的值)的选项卡在浏览器中处于活动状态。</mat-tab-group></p><p id="408c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> selectedTabChange </strong>是当活动选项卡改变时触发的事件。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="64fb" class="mf kz in mb b gy mg mh l mi mj">                        <strong class="mb io">//app.component.html</strong></span><span id="ab55" class="mf kz in mb b gy mk mh l mi mj">&lt;div class="container-fluid"&gt;</span><span id="3849" class="mf kz in mb b gy mk mh l mi mj">&lt;h1&gt;Tab Demo Application&lt;/h1&gt;</span><span id="1d61" class="mf kz in mb b gy mk mh l mi mj">&lt;button mat-stroked-button (click)="addNewTab()"&gt;Add new tab&lt;/button&gt;</span><span id="db77" class="mf kz in mb b gy mk mh l mi mj">&lt;mat-tab-group</span><span id="bca9" class="mf kz in mb b gy mk mh l mi mj">class="main-tab-group mt-2"</span><span id="9e25" class="mf kz in mb b gy mk mh l mi mj">[selectedIndex]="selectedTab"</span><span id="8891" class="mf kz in mb b gy mk mh l mi mj">(selectedTabChange)="tabChanged($event)"&gt;</span><span id="8d0b" class="mf kz in mb b gy mk mh l mi mj">&lt;mat-tab *ngFor="let tab of tabs; let tabIndex = index"&gt;</span><span id="46f8" class="mf kz in mb b gy mk mh l mi mj">&lt;ng-template mat-tab-label&gt;{{ tab.title }}</span><span id="e7af" class="mf kz in mb b gy mk mh l mi mj">&lt;i class="material-icons" (click)="removeTab(tabIndex)"&gt;close&lt;/i&gt;</span><span id="f556" class="mf kz in mb b gy mk mh l mi mj">&lt;/ng-template&gt;</span><span id="5b15" class="mf kz in mb b gy mk mh l mi mj">&lt;div&gt;</span><span id="cfeb" class="mf kz in mb b gy mk mh l mi mj">&lt;app-tab-content [tab]="tab"&gt;&lt;/app-tab-content&gt;</span><span id="1805" class="mf kz in mb b gy mk mh l mi mj">&lt;/div&gt;</span><span id="ebf9" class="mf kz in mb b gy mk mh l mi mj">&lt;/mat-tab&gt;</span><span id="a35f" class="mf kz in mb b gy mk mh l mi mj">&lt;/mat-tab-group&gt;</span><span id="c541" class="mf kz in mb b gy mk mh l mi mj">&lt;/div&gt;</span></pre><p id="a9db" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">AppComponent是为TabService中的选项卡订阅主题的组件。它有各种方法，像<strong class="kc io"> addTab() </strong>，<strong class="kc io"> removeTab() </strong>这些方法进一步调用TabService方法来改变tabs数组。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="da0d" class="mf kz in mb b gy mg mh l mi mj">                    <strong class="mb io">  //app.component.ts</strong></span><span id="1030" class="mf kz in mb b gy mk mh l mi mj">import { Component, OnInit } from "@angular/core";</span><span id="8b7a" class="mf kz in mb b gy mk mh l mi mj">import { TabService } from "./tab.service";</span><span id="2550" class="mf kz in mb b gy mk mh l mi mj">import { Tab } from "./tab.model";</span><span id="2ba7" class="mf kz in mb b gy mk mh l mi mj">import { Comp1Component } from "./components/comp1.component";</span><span id="48f1" class="mf kz in mb b gy mk mh l mi mj">@Component({</span><span id="e38d" class="mf kz in mb b gy mk mh l mi mj">selector: "app-root",</span><span id="bdc3" class="mf kz in mb b gy mk mh l mi mj">templateUrl: "./app.component.html",</span><span id="09b3" class="mf kz in mb b gy mk mh l mi mj">styleUrls: ["./app.component.css"]</span><span id="a245" class="mf kz in mb b gy mk mh l mi mj">})</span><span id="d798" class="mf kz in mb b gy mk mh l mi mj">export class AppComponent implements OnInit {</span><span id="d525" class="mf kz in mb b gy mk mh l mi mj">tabs = new Array&lt;Tab&gt;();</span><span id="e94e" class="mf kz in mb b gy mk mh l mi mj">selectedTab: number;</span><span id="ef99" class="mf kz in mb b gy mk mh l mi mj">constructor(private tabService: TabService) {}</span><span id="2873" class="mf kz in mb b gy mk mh l mi mj">ngOnInit() {</span><span id="b896" class="mf kz in mb b gy mk mh l mi mj">this.tabService.tabSub.subscribe(tabs =&gt; {</span><span id="1167" class="mf kz in mb b gy mk mh l mi mj">this.tabs = tabs;</span><span id="84ca" class="mf kz in mb b gy mk mh l mi mj">this.selectedTab = tabs.findIndex(tab =&gt; tab.active);</span><span id="6c6d" class="mf kz in mb b gy mk mh l mi mj">});}</span><span id="a53b" class="mf kz in mb b gy mk mh l mi mj">tabChanged(event) {</span><span id="b7c7" class="mf kz in mb b gy mk mh l mi mj">console.log("tab changed");</span><span id="514d" class="mf kz in mb b gy mk mh l mi mj">}</span><span id="1b1f" class="mf kz in mb b gy mk mh l mi mj">addNewTab() {</span><span id="4dbc" class="mf kz in mb b gy mk mh l mi mj">this.tabService.addTab(</span><span id="5044" class="mf kz in mb b gy mk mh l mi mj">new Tab(Comp1Component, "Comp1 View", { parent: "AppComponent" })</span><span id="63ab" class="mf kz in mb b gy mk mh l mi mj">);}</span><span id="64a6" class="mf kz in mb b gy mk mh l mi mj">removeTab(index: number): void {</span><span id="5cba" class="mf kz in mb b gy mk mh l mi mj">this.tabService.removeTab(index);</span><span id="10cd" class="mf kz in mb b gy mk mh l mi mj">}}</span></pre><p id="fde9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">AppModule是根模块，所有组件和指令都在其中声明。它进一步导入MatTabsModule ,该模块向属于该AppModule的组件提供与标签相关的指令。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="7c80" class="mf kz in mb b gy mg mh l mi mj">                        <strong class="mb io">//app.module.ts</strong></span><span id="c608" class="mf kz in mb b gy mk mh l mi mj">import { BrowserModule } from "@angular/platform-browser";</span><span id="910f" class="mf kz in mb b gy mk mh l mi mj">import { NgModule } from "@angular/core";</span><span id="ddcc" class="mf kz in mb b gy mk mh l mi mj">import { BrowserAnimationsModule } from "@angular/platform-browser/animations";</span><span id="3156" class="mf kz in mb b gy mk mh l mi mj">import { MatTabsModule, MatButtonModule } from "@angular/material";</span><span id="e0d7" class="mf kz in mb b gy mk mh l mi mj">import { AppComponent } from "./app.component";</span><span id="16b6" class="mf kz in mb b gy mk mh l mi mj">import { TabContentComponent } from "./tab-content.component";</span><span id="6375" class="mf kz in mb b gy mk mh l mi mj">import { ContentContainerDirective } from "./content-container.directive";</span><span id="9013" class="mf kz in mb b gy mk mh l mi mj">import { TabService } from "./tab.service";</span><span id="a05f" class="mf kz in mb b gy mk mh l mi mj">import { Comp1Component } from "./components/comp1.component";</span><span id="b2b1" class="mf kz in mb b gy mk mh l mi mj">import { Comp2Component } from "./components/comp2.component";</span><span id="eb74" class="mf kz in mb b gy mk mh l mi mj">@NgModule({</span><span id="4806" class="mf kz in mb b gy mk mh l mi mj">declarations: [</span><span id="77ad" class="mf kz in mb b gy mk mh l mi mj">AppComponent,</span><span id="5890" class="mf kz in mb b gy mk mh l mi mj">TabContentComponent,</span><span id="103c" class="mf kz in mb b gy mk mh l mi mj">ContentContainerDirective,</span><span id="df2f" class="mf kz in mb b gy mk mh l mi mj">Comp1Component,</span><span id="12e8" class="mf kz in mb b gy mk mh l mi mj">Comp2Component</span><span id="68b6" class="mf kz in mb b gy mk mh l mi mj">],</span><span id="afdf" class="mf kz in mb b gy mk mh l mi mj">imports: [</span><span id="6362" class="mf kz in mb b gy mk mh l mi mj">BrowserModule,</span><span id="73a7" class="mf kz in mb b gy mk mh l mi mj">BrowserAnimationsModule,</span><span id="1976" class="mf kz in mb b gy mk mh l mi mj">MatTabsModule,</span><span id="11bb" class="mf kz in mb b gy mk mh l mi mj">MatButtonModule</span><span id="fd19" class="mf kz in mb b gy mk mh l mi mj">],</span><span id="56d5" class="mf kz in mb b gy mk mh l mi mj">providers: [TabService],</span><span id="1ec4" class="mf kz in mb b gy mk mh l mi mj">bootstrap: [AppComponent],</span><span id="ccc2" class="mf kz in mb b gy mk mh l mi mj">entryComponents: [Comp1Component, Comp2Component]</span><span id="a8cd" class="mf kz in mb b gy mk mh l mi mj">})</span><span id="5475" class="mf kz in mb b gy mk mh l mi mj">export class AppModule {}</span></pre><p id="3f58" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面的组件模板提供了动态加载视图的容器。在这里，<strong class="kc io">ContentContainerDirective</strong>注入<code class="fe mq mr ms mb b"><a class="ae jz" href="https://angular.io/api/core/ViewContainerRef" rel="noopener ugc nofollow" target="_blank">ViewContainerRef</a></code>来访问元素的视图容器，该元素将托管动态添加的组件。ng模板是我们添加指令的地方</p><p id="a0d2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">进一步基于传递给输入对象<strong class="kc io">标签</strong>的组件，使用<strong class="kc io">组件工厂解析器</strong>来解析组件工厂。然后用<strong class="kc io">组件工厂</strong>创建被传递组件的实例。</p><p id="5e9f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用ViewContainerRef引用，我们通过使用<strong class="kc io"> createComponent() </strong>方法创建组件视图，并将<strong class="kc io"> ComponentFactory </strong>传递给它<strong class="kc io">。</strong></p><p id="5bf4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> createComponent() </strong>方法返回一个对已加载组件的引用。然后，我们可以通过分配给组件的属性或调用其方法来使用该引用与组件进行交互。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="eba4" class="mf kz in mb b gy mg mh l mi mj">                  <strong class="mb io"> //tab-content.component.ts</strong></span><span id="a43a" class="mf kz in mb b gy mk mh l mi mj">import {</span><span id="e988" class="mf kz in mb b gy mk mh l mi mj">Component,</span><span id="c23d" class="mf kz in mb b gy mk mh l mi mj">Input,</span><span id="ba4f" class="mf kz in mb b gy mk mh l mi mj">ComponentFactoryResolver,</span><span id="53f2" class="mf kz in mb b gy mk mh l mi mj">ViewChild,</span><span id="85f6" class="mf kz in mb b gy mk mh l mi mj">OnInit</span><span id="595e" class="mf kz in mb b gy mk mh l mi mj">} from "@angular/core";</span><span id="eaad" class="mf kz in mb b gy mk mh l mi mj">import { ContentContainerDirective } from "./content-container.directive";</span><span id="c9c4" class="mf kz in mb b gy mk mh l mi mj">import { SkeletonComponent } from "./skeleton.component";</span><span id="415a" class="mf kz in mb b gy mk mh l mi mj">import { Tab } from "./tab.model";</span><span id="aa1c" class="mf kz in mb b gy mk mh l mi mj">@Component({</span><span id="2630" class="mf kz in mb b gy mk mh l mi mj">selector: "app-tab-content",</span><span id="7cb1" class="mf kz in mb b gy mk mh l mi mj">template: "&lt;ng-template content-container&gt;&lt;/ng-template&gt;"</span><span id="9e63" class="mf kz in mb b gy mk mh l mi mj">})</span><span id="a673" class="mf kz in mb b gy mk mh l mi mj">export class TabContentComponent implements OnInit {</span><span id="d0a5" class="mf kz in mb b gy mk mh l mi mj">@Input() tab;</span><span id="269d" class="mf kz in mb b gy mk mh l mi mj">@ViewChild(ContentContainerDirective, { static: true })</span><span id="14bc" class="mf kz in mb b gy mk mh l mi mj">contentContainer: ContentContainerDirective;</span><span id="b833" class="mf kz in mb b gy mk mh l mi mj">constructor(private componentFactoryResolver: ComponentFactoryResolver) {}</span><span id="6ffe" class="mf kz in mb b gy mk mh l mi mj">ngOnInit() {</span><span id="af0b" class="mf kz in mb b gy mk mh l mi mj">const tab: Tab = this.tab;<br/>const componentFactory = this.componentFactoryResolver.resolveComponentFactory(tab.component;</span><span id="9ba3" class="mf kz in mb b gy mk mh l mi mj">const viewContainerRef = this.contentContainer.viewContainerRef;</span><span id="c665" class="mf kz in mb b gy mk mh l mi mj">const componentRef = viewContainerRef.createComponent(componentFactory);</span><span id="4f67" class="mf kz in mb b gy mk mh l mi mj">(componentRef.instance as SkeletonComponent).data = tab.tabData;</span><span id="bd42" class="mf kz in mb b gy mk mh l mi mj">}}</span></pre><p id="ea5e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">ContentContainerDirective</strong>是锚指令，它定义了我们可以注入组件视图的点。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="cb5e" class="mf kz in mb b gy mg mh l mi mj">                <strong class="mb io">//content-container.directive.ts</strong></span><span id="3471" class="mf kz in mb b gy mk mh l mi mj">import { Directive, ViewContainerRef } from '@angular/core';</span><span id="f741" class="mf kz in mb b gy mk mh l mi mj">@Directive({</span><span id="ff87" class="mf kz in mb b gy mk mh l mi mj">selector: "[content-container]"</span><span id="f6a1" class="mf kz in mb b gy mk mh l mi mj">})</span><span id="43e6" class="mf kz in mb b gy mk mh l mi mj">export class ContentContainerDirective {</span><span id="8a59" class="mf kz in mb b gy mk mh l mi mj">constructor(public viewContainerRef: ViewContainerRef) { }</span><span id="64b3" class="mf kz in mb b gy mk mh l mi mj">}</span></pre><p id="26b1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> Comp1Component </strong>和<strong class="kc io"> Comp2Component </strong>是将被动态创建的两个组件，是AppModule中<strong class="kc io"> entryComponents </strong>数组的一部分。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a026" class="mf kz in mb b gy mg mh l mi mj">                    <strong class="mb io">//comp1.component.ts</strong></span><span id="43ce" class="mf kz in mb b gy mk mh l mi mj">import { Component, Input } from "@angular/core";</span><span id="4270" class="mf kz in mb b gy mk mh l mi mj">@Component({</span><span id="5985" class="mf kz in mb b gy mk mh l mi mj">template: "&lt;div&gt; &lt;p&gt;I am comp1 loaded by {{data.parent}}&lt;p&gt;&lt;/div&gt;"</span><span id="cd12" class="mf kz in mb b gy mk mh l mi mj">})</span><span id="0fb7" class="mf kz in mb b gy mk mh l mi mj">export class Comp1Component {</span><span id="1538" class="mf kz in mb b gy mk mh l mi mj">@Input() data;</span><span id="4f0a" class="mf kz in mb b gy mk mh l mi mj">}</span><span id="aebf" class="mf kz in mb b gy mk mh l mi mj"><strong class="mb io">                     //comp2.component.ts</strong></span><span id="e571" class="mf kz in mb b gy mk mh l mi mj">import { Component, Input } from "@angular/core";</span><span id="664b" class="mf kz in mb b gy mk mh l mi mj">@Component({</span><span id="dd39" class="mf kz in mb b gy mk mh l mi mj">template: "&lt;div&gt; &lt;p&gt;I am comp2 loaded by {{data.parent}}&lt;p&gt;&lt;/div&gt;"</span><span id="8777" class="mf kz in mb b gy mk mh l mi mj">})</span><span id="aec0" class="mf kz in mb b gy mk mh l mi mj">export class Comp2Component {</span><span id="58db" class="mf kz in mb b gy mk mh l mi mj">@Input() data;</span><span id="5869" class="mf kz in mb b gy mk mh l mi mj">}</span></pre><p id="fa45" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是保存选项卡数据的选项卡模型类。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="e776" class="mf kz in mb b gy mg mh l mi mj"><strong class="mb io">                         //tab.model.ts</strong></span><span id="14f1" class="mf kz in mb b gy mk mh l mi mj">import { Type } from '@angular/core';</span><span id="6136" class="mf kz in mb b gy mk mh l mi mj">export class Tab {</span><span id="ee35" class="mf kz in mb b gy mk mh l mi mj">public id: number;</span><span id="4d52" class="mf kz in mb b gy mk mh l mi mj">public title: string;</span><span id="0f26" class="mf kz in mb b gy mk mh l mi mj">public tabData: any;</span><span id="a62f" class="mf kz in mb b gy mk mh l mi mj">public active: boolean;</span><span id="b7ae" class="mf kz in mb b gy mk mh l mi mj">public component: Type&lt;any&gt;;</span><span id="b814" class="mf kz in mb b gy mk mh l mi mj">constructor(component: Type&lt;any&gt;, title: string, tabData: any) {</span><span id="7538" class="mf kz in mb b gy mk mh l mi mj">this.tabData = tabData;</span><span id="4e1f" class="mf kz in mb b gy mk mh l mi mj">this.component = component;</span><span id="e9ce" class="mf kz in mb b gy mk mh l mi mj">this.title = title;</span><span id="ddeb" class="mf kz in mb b gy mk mh l mi mj">}</span><span id="5b08" class="mf kz in mb b gy mk mh l mi mj">}</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/793809020d8547bf851abd5511b18716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*Xydp8JV1P2-cA32OFhM20g.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Application Demo in Browser</figcaption></figure><p id="8945" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以在下面提到的回购链接中找到相同的完整代码:</p><div class="mu mv gp gr mw mx"><a href="https://github.com/Deepak2985/dynamic-tab-angular" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">Deepak 2985/动态标签-角度</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">此项目是使用Angular CLI版本8.3.18生成的。为开发服务器运行ng serve。导航到…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">github.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jt mx"/></div></div></a></div><p id="0b46" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">参考文献:</strong></p><div class="mu mv gp gr mw mx"><a href="https://angular.io/guide/dynamic-component-loader" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">有角的</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">Angular是一个构建移动和桌面web应用程序的平台。加入数百万开发者的社区…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">angular.io</p></div></div></div></a></div><div class="mu mv gp gr mw mx"><a href="https://material.angular.io/components/tabs/overview" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">角状材料</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">用于移动和桌面Angular web应用程序的UI组件基础结构和材料设计组件。</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">材料.角度. io</p></div></div><div class="ng l"><div class="nm l ni nj nk ng nl jt mx"/></div></div></a></div><p id="44cc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是我目前所有的。感谢您的阅读。… :)</p></div></div>    
</body>
</html>