<html>
<head>
<title>I Wrote the Same App in Pascal and AlpineJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我用Pascal和AlpineJS写了同样的应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/i-wrote-the-same-app-in-pascal-and-alpinejs-305844b68930?source=collection_archive---------4-----------------------#2020-03-04">https://javascript.plainenglish.io/i-wrote-the-same-app-in-pascal-and-alpinejs-305844b68930?source=collection_archive---------4-----------------------#2020-03-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="940e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">因为还有谁会</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/80d34ece1569df131ad1382ea91330e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z2TiTqfloS7lGnFF.jpg"/></div></div></figure><p id="51f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">AlpineJS正在迅速获得关注，我想看看使用它是什么感觉。为了有个比较的对象，我用AlpineJS和Pascal开发了同一个app(没错，这不是错别字)。</p><h1 id="909d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">什么是AlpineJS？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/6d9fe6dfc458e7421b928253b677f1c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*vG9OPCgOPS514_nv"/></div></figure><p id="aa4c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">AlpineJS是一个最小的声明式和反应式UI框架。它开销很低，速度很快，体积很小，非常适合嵌入式或轻量级应用。如果你以前没有听说过AlpineJS，我建议你先看看这篇文章。</p><div class="mh mi gp gr mj mk"><a href="https://medium.com/better-programming/when-react-is-too-much-alpinejs-will-do-the-trick-c165a2da4701" rel="noopener follow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd ir gy z fp mp fr fs mq fu fw ip bi translated">当反应过度时，AlpineJS会起作用</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">如果你对React感到不知所措，读读这个</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">medium.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my kp mk"/></div></div></a></div><h1 id="4910" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">帕斯卡是什么？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/4281b97f456ad95bcfcefb8540d3cb76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*I1CeM840fIPnA0Ux"/></div></figure><p id="af8c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Pascal是一种命令式、过程式编程语言，于50年前的1970年首次推出。它最流行的实现是<a class="ae mg" href="https://en.wikipedia.org/wiki/Turbo_Pascal" rel="noopener ugc nofollow" target="_blank"> Turbo Pascal </a>和<a class="ae mg" href="https://en.wikipedia.org/wiki/Delphi_(software)" rel="noopener ugc nofollow" target="_blank"> Delphi </a>。它被用来开发驱动程序、操作系统和桌面应用程序(如Photoshop)。现在，您可能会认为用Pascal开发web应用程序并将其与用JavaScript编写的应用程序进行比较是不明智的，您将是绝对正确的。在本文中，我想对比AlpineJS和一般反应式编程的一些特点，并将它们与一种古老的命令式语言进行比较，这就容易多了。而且，做起来很好玩。</p><h1 id="3384" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">最终结果</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/4ce5809153adacae2ff6676714940e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/0*-je84hNROJFa6bMt"/></div></figure><p id="c8b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将开发一个简单的TODO应用程序，允许您将任务添加到列表中，并将它们标记为已完成。我试图让事情尽可能简单，因为Pascal和AlpineJS都没有考虑复杂的web应用程序。对了，你能猜到上面截图显示的是哪个吗？</p><h1 id="b0b1" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">Pascal实现</h1><p id="ef54" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">为此，我使用了Pascal - &gt; ES2015编译器<a class="ae mg" href="https://wiki.freepascal.org/pas2js" rel="noopener ugc nofollow" target="_blank"> pas2js </a>。它从Pascal源代码生成正确的JS代码，为JS/Pascal互操作提供库，并公开浏览器API。我不会深入讨论实现细节，因为这篇文章不是Pascal教程，而且我不认为你想学习它。下面是源代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="5460" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ni nj nk nl b">index.html</code>有加载<code class="fe ni nj nk nl b">Todo.js</code>的网页的源代码。<code class="fe ni nj nk nl b">Todo.js</code>是编制的<code class="fe ni nj nk nl b">Todo.pas</code>。我还使用了<a class="ae mg" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap 4 </a>来简化造型。要查看它的运行，复制<a class="ae mg" href="https://github.com/r3dm1ke/todo-app-pas2js" rel="noopener ugc nofollow" target="_blank">回购</a>或查看<a class="ae mg" href="https://r3dm1ke.github.io/todo-app-pas2js/" rel="noopener ugc nofollow" target="_blank">现场</a>版本。</p><p id="30db" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我写的Pascal代码非常不理想，几乎没有优化。但是，它确实有类型安全。此外，与<a class="ae mg" href="https://medium.com/javascript-in-plain-english/7-really-good-reasons-not-to-use-typescript-166af597c466" rel="noopener">类型脚本</a>不同，类型安全在编译时和<em class="nm">运行时得到保证。</em></p><h1 id="975c" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">AlpineJS实现</h1><p id="5148" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">下面是代码清单:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="6c1b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以看到，AlpineJS让我们直接在HTML中定义业务逻辑。此外，没有编译/传输阶段，因为没有使用特殊的语法。AlpineJS所做的只是向HTML元素添加13个自定义属性和5个全局变量。要看到它的运行，克隆<a class="ae mg" href="https://github.com/r3dm1ke/todo-app-alpinejs" rel="noopener ugc nofollow" target="_blank">回购</a>或查看<a class="ae mg" href="https://r3dm1ke.github.io/todo-app-alpinejs/" rel="noopener ugc nofollow" target="_blank">现场</a>版本。</p><p id="c7b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以在代码中看到的一些属性有<code class="fe ni nj nk nl b">x-data</code>、<code class="fe ni nj nk nl b">x-model</code>、<code class="fe ni nj nk nl b">@click</code>、<code class="fe ni nj nk nl b">x-text</code>、<code class="fe ni nj nk nl b">x-for</code>和<code class="fe ni nj nk nl b">x-bind</code>。对于那些使用<a class="ae mg" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">角尺</a>和/或<a class="ae mg" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank">角尺</a>的人来说，这应该看起来很熟悉。更多信息，可以参考<a class="ae mg" href="https://github.com/alpinejs/alpine/" rel="noopener ugc nofollow" target="_blank"> AlpineJS </a> docs，真的很短。</p><h1 id="4e08" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">我学到了什么</h1><p id="0cad" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">帕斯卡是所有问题的解决方案。开玩笑的。我真的很喜欢AlpineJS，并开始真正欣赏反应式/声明式编程，因为它们确实比命令式/过程式解决方案更好地解决了UI问题。然而，这并不意味着它是一个万能的工具。总会有同时使用两者的情况，一个好的软件开发人员应该能够区分两者。</p><p id="a14b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其次，我意识到这确实帮助我刷新了我的JavaScript技能。我不得不在没有任何API文档的情况下用一种翻译成JavaScript的语言编码，我不得不深入挖掘<code class="fe ni nj nk nl b">pas2js</code>源代码，并将源代码与翻译进行比较。</p><p id="8740" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可能还会惊讶地发现Pascal版本更快。Pascal版本的加载时间大约为270毫秒，AlpineJS版本的加载时间大约为350毫秒。有效负载大小也是7KB，所以我猜AlpineJS在幕后做了更多的工作。</p><h1 id="1909" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结束语</h1><p id="109e" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">感谢您的阅读，希望您对这篇文章感兴趣。如果你想让我更详细地解释Pascal实现或者建议另一种古老/深奥的编程语言，请在评论中告诉我。</p><h1 id="bc88" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">资源</h1><ul class=""><li id="e4b8" class="nn no iq kt b ku nb kx nc la np le nq li nr lm ns nt nu nv bi translated"><a class="ae mg" href="https://medium.com/better-programming/when-react-is-too-much-alpinejs-will-do-the-trick-c165a2da4701" rel="noopener">阿尔卑斯山简介</a></li><li id="f540" class="nn no iq kt b ku nw kx nx la ny le nz li oa lm ns nt nu nv bi translated"><a class="ae mg" href="https://github.com/alpinejs/alpine/" rel="noopener ugc nofollow" target="_blank"> AlpineJS回购</a></li><li id="f6c9" class="nn no iq kt b ku nw kx nx la ny le nz li oa lm ns nt nu nv bi translated"><a class="ae mg" href="https://wiki.freepascal.org/pas2js" rel="noopener ugc nofollow" target="_blank"> pas2js文档</a></li><li id="52a3" class="nn no iq kt b ku nw kx nx la ny le nz li oa lm ns nt nu nv bi translated"><a class="ae mg" href="https://github.com/r3dm1ke/todo-app-pas2js" rel="noopener ugc nofollow" target="_blank"> Pascal版本回购</a></li><li id="3f7a" class="nn no iq kt b ku nw kx nx la ny le nz li oa lm ns nt nu nv bi translated"><a class="ae mg" href="https://github.com/r3dm1ke/todo-app-alpinejs" rel="noopener ugc nofollow" target="_blank"> AlpineJS版本回购</a></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="http://eepurl.com/gYiA29"><div class="gh gi ob"><img src="../Images/446049aa060bbaea15a64e1a907b1030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*zWeFS3E1gbkEuBmpbvm6Rg.jpeg"/></div></a></figure></div></div>    
</body>
</html>