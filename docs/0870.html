<html>
<head>
<title>Creating a reusable ‘Like’ button component in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中创建可重用的“类似”按钮组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-a-reusable-like-button-component-in-react-8028d17c024c?source=collection_archive---------3-----------------------#2019-12-26">https://javascript.plainenglish.io/creating-a-reusable-like-button-component-in-react-8028d17c024c?source=collection_archive---------3-----------------------#2019-12-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/d187b2d939634c6a6c4ef48fd82740dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JbrFkKsEnIaREiOk.png"/></div></div></figure><div class=""/><figure class="gl gn jz ka kb is gh gi paragraph-image"><div class="gh gi jy"><img src="../Images/8abd1d9617b6364c28db2efba785a0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/1*NGbNSPj5osPWPgYul4Rlww.gif"/></div></figure></div><div class="ab cl kc kd hu ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ij ik il im in"><p id="a506" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">这是一个分步指南，说明如何在React中创建一个可用作“类似”或计数器按钮的组件。</p><ol class=""><li id="6bc1" class="lh li jb kl b km kn kq kr ku lj ky lk lc ll lg lm ln lo lp bi translated">创建呈现按钮的类组件:</li></ol><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="5e12" class="lz ma jb lv b gy mb mc l md me">class LikeButton extends React.Component {</span><span id="e9e1" class="lz ma jb lv b gy mf mc l md me">render() {<br/>	<br/>	  return &lt;button&gt;A button!&lt;/button&gt;<br/>  <!-- -->}</span><span id="6db7" class="lz ma jb lv b gy mf mc l md me">}</span></pre><p id="7ea4" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">很简单！</p><p id="3533" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">2.为“喜欢”设置从0开始的初始状态，并更新按钮以显示当前状态。</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="68eb" class="lz ma jb lv b gy mb mc l md me">class LikeButton extends React.Component {</span><span id="b212" class="lz ma jb lv b gy mf mc l md me">state = {<br/>    likes: 0<br/>  };</span><span id="b802" class="lz ma jb lv b gy mf mc l md me">render() {<br/>	<br/>	  return &lt;button&gt;Likes: {this.state.likes} &lt;/button&gt;<br/>  }<br/>}</span></pre><p id="b685" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">3.创建一个点击处理程序，在每次点击按钮时增加喜欢的次数。</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="cd07" class="lz ma jb lv b gy mb mc l md me">addLike = () =&gt; {<br/>    let newCount = this.state.likes + 1;<br/>      this.setState({<br/>      likes: newCount<br/>    });<br/>  };</span></pre><p id="124f" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">更新按钮以使用点击处理程序:<code class="fe mg mh mi lv b">return &lt;button onClick={this.addLike}&gt;Likes: {this.state.likes} &lt;/button&gt;</code></p><p id="01e6" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">4.如果您要向多个项目(照片库或物品列表)添加一个按钮，并希望分别计算每个项目的“喜欢”程度，请执行以下附加步骤:</p><ul class=""><li id="714e" class="lh li jb kl b km kn kq kr ku lj ky lk lc ll lg mj ln lo lp bi translated">确保您的索引/图库/列表中的每个项目在其父html元素(div、li等)中都有一个唯一的键——即<code class="fe mg mh mi lv b">key={item.id}</code></li><li id="ca51" class="lh li jb kl b km mk kq ml ku mm ky mn lc mo lg mj ln lo lp bi translated">在渲染按钮组件时，请将该id作为道具传入——T2</li><li id="d33e" class="lh li jb kl b km mk kq ml ku mm ky mn lc mo lg mj ln lo lp bi translated">将id添加到按钮— <code class="fe mg mh mi lv b">&lt;button onClick={this.addLike} id={this.props.itemId}&gt;Likes: {this.state.likes} &lt;/button&gt;</code></li></ul><p id="e03f" class="pw-post-body-paragraph kj kk jb kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg ij bi translated">你就完了！参见本<a class="ae mp" href="https://codepen.io/rachelhawa/pen/VwwdNQz" rel="noopener ugc nofollow" target="_blank">代码本</a>中增加样式的工作示例。</p></div></div>    
</body>
</html>