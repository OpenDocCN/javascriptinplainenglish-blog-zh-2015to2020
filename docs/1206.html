<html>
<head>
<title>Writing elegant React code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写优雅的React代码</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-elegance-of-react-1aa393a7d0f4?source=collection_archive---------5-----------------------#2020-02-12">https://javascript.plainenglish.io/the-elegance-of-react-1aa393a7d0f4?source=collection_archive---------5-----------------------#2020-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="608d" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">作为一名React开发人员，我们需要知道如何让我们的代码更简单、更易读。今天我会给你一些关于react的提示和技巧，帮助你优雅地编写代码。这只是React上的基本优雅，我会试着写更多关于这个神奇的库的帖子。</p><p id="40f3" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">Pd:这是一篇关于如何在React上有一个好的代码的文章，如果你感兴趣，我会给你一些有更多信息的文章。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/8926944f12e975fe1ddb92718175559c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zz3hf7QkTJM6Q5FPT64Qww.jpeg"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk">SEUNGWON HONG</figcaption></figure><p id="fed7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">我们已经知道，成为一名优秀的程序员会有一点困难，如果你不知道任何关于JavaScript的好的实践，困难会更大。因此，在这篇短文中，我们将讨论React和一些我们需要保持的良好实践，<strong class="jt ir">让我们开始吧！</strong></p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="541c" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">索引</h1><ol class=""><li id="5a0f" class="mn mo iq jt b ju mp jy mq lf mr lg ms lh mt ko mu mv mw mx bi translated">纯组件或组件</li><li id="cc3d" class="mn mo iq jt b ju my jy mz lf na lg nb lh nc ko mu mv mw mx bi translated">为什么我们需要在React上使用析构？</li><li id="a932" class="mn mo iq jt b ju my jy mz lf na lg nb lh nc ko mu mv mw mx bi translated">学习正确使用setState方法。</li></ol><h1 id="bcb6" class="lp lq iq bd lr ls nd lu lv lw ne ly lz ma nf mc md me ng mg mh mi nh mk ml mm bi translated">纯组件或组件</h1><p id="1436" class="pw-post-body-paragraph jq jr iq jt b ju mp jw jx jy mq ka kb lf ni ke kf lg nj ki kj lh nk km kn ko ij bi translated">当我们使用一个类组件时，我们有两种不同的选择:使用一个<strong class="jt ir">纯组件</strong>或<strong class="jt ir">组件</strong>那么，<strong class="jt ir"> </strong>有什么不同呢？</p><p id="96de" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如果我们在<strong class="jt ir"> React </strong>文档中对生命周期进行研究，我们会发现我们有一个名为s <strong class="jt ir"> houldComponentUpdate </strong>的方法，这里有一个例子:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nl"><img src="../Images/7fc7fac3b999840e615cc06fcdf032df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tgBBQ2mgrzu5smpZc3g1eQ.png"/></div></div></figure><p id="5955" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">因此，这个函数将在下一个属性值和你的组件的实际属性值之间进行比较(记住<strong class="jt ir"> React是异步的</strong>),所以，如果这个函数返回true，你的组件将会用新的属性值重新渲染。</p><p id="a353" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">最大的区别在于你是否使用了<strong class="jt ir"> React。PureComponent </strong>你不需要编写这个方法，因为React知道它需要自己进行比较，但是，如果你真的需要使用这个方法，你需要使用<strong class="jt ir"> React。组件</strong>。</p><blockquote class="jn jo jp"><p id="8152" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">是的，在这里你可以了解更多关于React的生命周期👋</p></blockquote><h1 id="9b60" class="lp lq iq bd lr ls nd lu lv lw ne ly lz ma nf mc md me ng mg mh mi nh mk ml mm bi translated">为什么我们需要在React上使用析构？</h1><p id="2414" class="pw-post-body-paragraph jq jr iq jt b ju mp jw jx jy mq ka kb lf ni ke kf lg nj ki kj lh nk km kn ko ij bi translated">在ES6中，我们有析构功能，如果你不知道析构是如何工作的，我们可以使用Mozilla   <em class="js"> </em>的始终可靠的<a class="ae nm" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" rel="noopener ugc nofollow" target="_blank"> <em class="js"> MDN来搜索它，以了解它是如何工作的。</em></a></p><p id="1d50" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">通过析构，我们可以更容易地提取数组或对象内部的信息，因此我们可以通过观察这两幅图像的不同来解释析构:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nn"><img src="../Images/31b618e3205920df57a4266862f17815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RW0I9ryGWcYpBDzN-Bo2zA.png"/></div></div></figure><p id="beba" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如你所见，我正试图用正常的方法得到一条龙来得到数组中的一个元素，没什么特别的</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nn"><img src="../Images/28af89f34a7f81b6cdd5f692c25cf8e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-5aHahMeORl7UfHFlOfWA.png"/></div></div></figure><p id="58b2" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">所以，这就是毁灭。通过析构，我们可以提取数组或对象内部的一些值或属性。</p><h2 id="8caa" class="no lq iq bd lr np nq dn lv nr ns dp lz lf nt nu md lg nv nw mh lh nx ny ml nz bi translated">反应时析构</h2><p id="6cd9" class="pw-post-body-paragraph jq jr iq jt b ju mp jw jx jy mq ka kb lf ni ke kf lg nj ki kj lh nk km kn ko ij bi translated">当我们使用<strong class="jt ir"> React </strong>时，有时我们需要创建许多道具，我们有两个选择，第一个是使用<strong class="jt ir"> this.props.propName </strong>(如果我们使用的是类组件)或一个简单的参数叫做<strong class="jt ir"> props </strong>(在功能组件中)并使用析构。</p><p id="1753" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">我将展示两个例子，一个没有析构，另一个有析构</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oa"><img src="../Images/712ac0ebbfe24fc1cdc7d0c6222427fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4S0iQiJdaVPkxPRtIjZCA.png"/></div></div></figure><p id="d566" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如果你不需要很多道具，你可以使用它，但是，如果你需要创造很多道具，你需要遵循的最好的方法就是解构</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oa"><img src="../Images/c31664e80742811f7d231785b40c3903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BIJeAjcxLipGVBpC2RypCg.png"/></div></div></figure><p id="c89f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">正如你所看到的，我们使用析构来创建一些我们将要使用的道具，这样更容易阅读和保存，你也可以在函数组件中使用它。</p><p id="4e7d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">这里有一些例子来说明区别，但是使用函数组件，有时我们需要很多道具，所以当我们使用钩子时，了解更多的析构是至关重要的。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ob"><img src="../Images/a93052bf6bb1365d31435d95e435dd1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m7dkauyRlSOiT9tgzRXvYw.png"/></div></div></figure><p id="def2" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">当我们使用函数组件时，我们需要创建一个名为<strong class="jt ir"> props </strong>的参数来创建属性，但是我们可以使用析构来简化它</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oc"><img src="../Images/de9d0983dbaba1f14a183aa255361d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yxSnmb921AgxyM8V-XKqnA.png"/></div></div></figure><p id="113c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">记住，一个函数组件将接收一个对象作为参数，所以我们可以使用析构来创建新的属性，而不用使用正常的方法。</p></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><h1 id="051d" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">学习正确使用setState方法</h1><p id="973d" class="pw-post-body-paragraph jq jr iq jt b ju mp jw jx jy mq ka kb lf ni ke kf lg nj ki kj lh nk km kn ko ij bi translated">首先，我们需要知道<strong class="jt ir"> React组件</strong>是如何工作的。实际上，我们知道我们在<strong class="jt ir">上使用的每个组件都反应</strong>它就像一个纯函数，这意味着相同的道具会给我们相同的结果。</p><p id="909a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如果你记得我说过<strong class="jt ir"> React </strong>是基于函数式编程范例编写的，所以我们不能直接改变组件的状态。</p><p id="4d2a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">因此，理解<strong class="jt ir"> setState </strong>是如何工作的，这是我们需要一直保持的，例如:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi od"><img src="../Images/fb0aa64ff69ed3bf4c881746d42a3cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQDi-2_3Gr9FvudqGMxoUg.png"/></div></div></figure><p id="1b1b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">让我解释一下这段代码，我正在尝试更改<strong class="jt ir"> isHappy </strong>的实际值，正如你所看到的，我没有尝试直接更改它，这将返回一个带有新值的新状态。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi oe"><img src="../Images/e5bb36609aa7a81dc6a667aa0589da70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zYOC6kgWUskXP29sATQmVw.png"/></div></div></figure><p id="7f0f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如何避免这种情况？正如我们所知，setState有一个回调函数，所以我们可以用它来获取<strong class="jt ir"> inputValue </strong>的实际值。</p><p id="dc84" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如果你对回调一无所知，那就是<a class="ae nm" href="https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced" rel="noopener" target="_blank"> <strong class="jt ir"> <em class="js">“只是一个在另一个函数之后执行的函数”</em> </strong> </a> <em class="js">。</em>因此，我们需要在更改后生成控制台日志，这将为我们提供<strong class="jt ir"> inputValue </strong>的实际值:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi of"><img src="../Images/dfe30fe58b8741aeaa11e2c7e15e783a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0326IWhOP5HEcFn7oA5raA.png"/></div></div></figure><p id="9bac" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">现在，我们可以使用setState回调来显示<strong class="jt ir"> inputValue </strong>的实际值。</p><p id="d5fc" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如果您想采取比控制台日志更多的操作，您可以创建一个新的作用域。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi of"><img src="../Images/0e0f346f0feb5ffe93856f0ada70bfc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zfm919Js-wXbW0og5iepmg.png"/></div></div></figure><p id="af4d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">有时候你需要对不同的道具使用相同的功能。所以，我们可以创建动态键。</p><blockquote class="jn jo jp"><p id="288b" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated"><a class="ae nm" href="https://medium.com/@lcriswell/destructuring-props-in-react-b1c295005ce0" rel="noopener">可以在这里了解更多信息</a> ✌️</p></blockquote></div><div class="ab cl li lj hu lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ij ik il im in"><blockquote class="og"><p id="cf0f" class="oh oi iq bd oj ok ol om on oo op ko dk translated">“给我一些掌声，如果这有助于你。嘿，我有另外一篇文章，也许你会感兴趣</p></blockquote><div class="oq or os ot ou ov"><a href="https://medium.com/javascript-in-plain-english/tips-from-a-junior-front-end-developer-aa0080781367" rel="noopener follow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd ir gy z fp pa fr fs pb fu fw ip bi translated">初级前端开发人员的建议</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">当你开始从事web开发时，你必须掌握的所有东西。</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">medium.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj kz ov"/></div></div></a></div><div class="pk pl gp gr pm ov"><a href="https://medium.com/@lcriswell/destructuring-props-in-react-b1c295005ce0" rel="noopener follow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd ir gy z fp pa fr fs pb fu fw ip bi translated">在React中解构道具</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">当我第一次学习用JavaScript进行析构时，我很犹豫要不要把它整合到我的React应用程序中。我发现…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">medium.com</p></div></div></div></a></div><div class="pk pl gp gr pm ov"><a href="https://reactjs.org/docs/react-component.html#setstate" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd ir gy z fp pa fr fs pb fu fw ip bi translated">做出反应。成分-反应</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">该页面包含React组件类定义的详细API参考。它假设您熟悉…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">reactjs.org</p></div></div><div class="pe l"><div class="pn l pg ph pi pe pj kz ov"/></div></div></a></div></div></div>    
</body>
</html>