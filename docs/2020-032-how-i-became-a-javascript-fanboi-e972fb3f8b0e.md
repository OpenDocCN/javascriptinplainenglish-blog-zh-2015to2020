# 我是如何成为一名 JavaScript 粉丝的

> 原文：<https://javascript.plainenglish.io/2020-032-how-i-became-a-javascript-fanboi-e972fb3f8b0e?source=collection_archive---------13----------------------->

## 接受这个现实，这个小小的语言有很多优点

![](img/29e5ebf90b41abf27d7dc178cdf7e596.png)

JavaScript Fanboi, courtesy the author

对我来说，过去几年非常富有成效。我把这一切都归功于这样一个事实:我最终接受了 JavaScript 的日益成熟。它不再是一种玩具语言了。

作为一名拥有数十年专业经验的软件开发人员，我使用过很多语言。自然，我对他们每个人都有自己的看法。

也许不可避免的是，随着我超越语法，开始掌握每种语言的*格式塔*——它们表达问题解决方案的天生能力，这些观点已经发生了变化。

JavaScript 就是一个恰当的例子，我最初完全弄错了。

在分享我的故事之前，请允许我提一下我一直在做的项目，作为我个人的见证和证明，看看今天的 JavaScript 能做些什么:

*   一个用于新型降价的[编译器](https://bluephrase.com/)，是 HTML 的完全无损表达。
*   一个静态的 [HTTP/2 web 服务器](https://rwserve.readwritetools.com/)，类似于 Apache 或 nginx，专门为 JavaScript 后端构建，具有压缩、缓存、内容协商和 CORS。
*   电子[桌面应用](https://hub.readwritetools.com/desktop.blue)用于声明性模板和内容创作。
*   [DOM 组件](https://domcomponents.com/components.blue)使用 W3C 定制元素和 shadow DOM。
*   [动态插件](https://readwritestack.com/plugins.blue)用于在没有中间件的情况下处理 HTTP 请求/响应周期。
*   用于构建更好软件的 CLI 工具。

一个接一个地来看，我们可能会耸耸肩，但是总的来看，可能性的范围对于一种语言来说是一个令人印象深刻的壮举。

# 语言

我曾经认为是适合脚本的玩具语言，现在我认为是通用计算的一流语言。

从一开始到现在，这种转变是巨大的。最初，它被设计成一种特定领域的语言，允许浏览器操纵 HTML。但它已经转变成一种通用语言，可用于服务器、台式机、手机、嵌入式控制器和微型片上系统设备。

从孤立的角度考虑，这种语言不再遭受全球性的可变污染。相反，它允许在各种各样的上下文中命名和使用变量，而不会发生冲突:

*   *简单函数*，其中函数只能访问其参数和其局部定义的变量。
*   *函数中的函数*(闭包)，允许内部函数完全访问外部函数的变量。
*   *用作参数*(回调)，其中回调由接收函数调用以代表它执行工作。
*   *对象方法*，其中该函数可以完全访问其基于类的对象的所有属性。
*   *绑定函数*，其中栈的`"this"`指针被覆盖，保证独立于调用者的上下文。
*   *命名空间函数*(一个类的静态函数)，其中函数作为一个简单函数，只能通过它的类名来访问。
*   *可迭代函数*(生成器)，其中变量从一次调用到下一次调用都保持它们的状态。

并考虑内置数据类型的简单性及其看似无限的取值范围。

*   地图、集合、数组和对象对非常大的集合有很大的支持，很少有应用程序会在耗尽计算机的虚拟内存限制之前遇到瓶颈。
*   数值可以大到 9 007 199 254 740 991，精确到 0.000 000 000 000 000 01。内置的数学对象拥有全套的三角函数和对数函数，允许该语言应用于严重的数字问题。
*   `BigInt`对象允许对任意大的值执行整数运算。
*   `ArrayBuffer`和`TypedArray`允许在逐字节的基础上直接访问堆，使得图像操作成为可能。
*   文字值可以用二进制(`0b1111`)和八进制(`0o17`)以及更常见的十进制(`015`)和十六进制(`0xF`)形式表示。
*   位运算完全可用:AND、OR、XOR、NOT、左移、有符号右移和零填充右移。

从组织上来说，这种语言允许将事物分成对象、类和模块，允许将大问题分解成可管理的部分。

代码执行是非抢占式的，允许开发人员确定地知道任何函数都将从开始到结束不间断地运行，使开发人员不必担心其他函数可能会更改其正在处理的数据。

当调度长时间运行的任务时，开发人员可以使用带有`async/await`的承诺来模拟并发性，同时保留 JavaScript 的非抢占式模型带来的保证。在浏览器之外进行开发时，Node.js 具有工作线程，如果需要，可以使用这些工作线程同时访问多个 CPU。

总而言之，现在的可能性远远超过了 1995 年时的水平。

# 社区

我们把这种愉快的状态归功于标准委员会、编译器制造商、软件包发行商和库开发者的辛勤工作。

有些人可能不知道“JavaScript”这个名字不是这种语言的正式名称:它是 ECMAScript。这种语言的正式标准是由总部位于瑞士的 Ecma International 发布的 ECMA-262 规范定义的。

Ecma 国际的技术委员会 TC39 是该标准充满活力的一面。这个小组定期开会决定向语言中添加什么新特性，使用什么精确的语法，以及使用什么算法来实现这些特性。自 2015 年以来，我们目睹了新功能的闪电战，这要归功于在该委员会工作的技术奇才——来自世界上许多最大的科技公司。

但是规范只是第一步。正是解析器、解释器和编译器使我们能够使用这些新特性。V8 实时编译器是业界的宠儿，因此谷歌团队如此高性能的引擎值得称赞。但是我们不能安全地使用一个新的 JavaScript 特性，除非每个浏览器都有它，所以在 SpiderMonkey (Mozilla)、JavaScriptCore (Apple)和 Chakra (Microsoft Edge Legacy)上的工作也必须得到承认。

然后是库和框架开发人员，他们为我们提供了许多现成的解决方案:数据库连接、SMTP 邮件、WebSockets 和数据可视化等等；再加上使软件开发工艺更好的优秀工具:美化器、linters、验证器和测试器。

最后，还有 NPM。我能说什么呢？这是任何语言有史以来最受欢迎的软件包管理器之一。说 NPM 为 JavaScript 的成功做出了贡献是一种保守的说法。

底线很简单:JavaScript 社区很强大。

# 从怀疑者到粉丝

我的第一个不起眼的 JavaScript 函数是在 1999 年部署到产品中的。这是一个用于搜索引擎优化(SEO)的`onClick`函数，我称之为`nomojo`，因为它阻止了 Google PageRank 向外部超链接发送果汁。在那个时候，`onClick`的训练师相当先进

不久之后，新生的文档对象模型(DOM)的 JavaScript 接口开始出现在浏览器中。这是一件棘手的事情，由于供应商的不妥协和相互指责而变得复杂。我工作的一个常规部分是为事件监听器和 AJAX 之类的基本东西编写和维护我自己的兼容层。这是一项乏味的工作:在每一个浏览器、每一个操作系统组合上测试每一个变化。

像当时的大多数开发人员一样，我对 JavaScript 或 DOM 的价值没有信心。但是慢慢地，部分由于 jQuery 作为兼容层几乎被普遍采用，DOM 编程摆脱了它的小众地位，成为了主流。

然而，当默认情况下每个变量都是全局变量时，很难认真对待这种语言。直到 2012 年`strict`模式被广泛使用，开发人员才可以使用`var`安全地本地化他们的变量。

然而，就在 2014 年，我拒绝了与 JavaScript 合作的提议。社区还没有就如何模块化达成一致，所以竞相将像模块这样基本的东西移植到用户世界的语言*上的努力让我们看起来都很愚蠢。*

但 2015 年是 JavaScript 的分水岭。那是 TC39 最新一批特性登陆浏览器的一年。它标志着一个新时代的开始。此后的每一年，社区(TC39 委员会、编译器制造商和浏览器供应商)都以势不可挡的方式推出新特性。

对我来说，这是不祥之兆:2015 年，我注册了域名 [ecmascript.engineer](https://ecmascript.engineer/?utm_term=HowIBecameAJavaScriptFanboi) ，并开始将其作为我的专业投资组合门户。

快进到 2020 年。今年 1 月，当微软使用基于 Chromium WebKit 的引擎部署其旗舰产品 Edge 浏览器时，剩下的关键部分之一终于变得可用。[在*can use*网站上，通过脚本标签](https://caniuse.com/es6-module)的 JavaScript 模块在所有主流浏览器上都亮起了绿灯，表明`import`和`export`不需要 transpiler 也可以运行。

有了这个最新的拼图，我成了一个自认的 JavaScript 爱好者。

最后，请允许我带着一个离别的想法离开，并鼓励所有希望找到下一个伟大编程语言的人。给你一个提示:它就在你面前，而且不会很快消失。