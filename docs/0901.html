<html>
<head>
<title>Introducing the JavaScript Window Object — featurePolicy, plugins, scripts, and scrollingElement</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript窗口对象简介—功能策略、插件、脚本和滚动元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introducing-the-javascript-window-object-featurepolicy-plugins-scripts-and-scrollingelement-1ff765ea3a12?source=collection_archive---------4-----------------------#2019-12-31">https://javascript.plainenglish.io/introducing-the-javascript-window-object-featurepolicy-plugins-scripts-and-scrollingelement-1ff765ea3a12?source=collection_archive---------4-----------------------#2019-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn js jt ju jv gh gi paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gh gi jr"><img src="../Images/d55f5efe4f3eb21b2d7409b60ab6319b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BR2Ht6Fk-MX41ez0"/></div></div><figcaption class="kc kd gj gh gi ke kf bd b be z dk">Photo by <a class="ae kg" href="https://unsplash.com/@garethharper?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Gareth Harper</a> on <a class="ae kg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2ad0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">window</code>对象是一个全局对象，具有与当前DOM文档相关的属性，即浏览器选项卡中的内容。</p><p id="e9ce" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在本文中，我们将研究一下<code class="fe jn jo jp jq b">featurePolicy</code>、<code class="fe jn jo jp jq b">plugins</code>、<code class="fe jn jo jp jq b">scripts</code>和<code class="fe jn jo jp jq b">scrollingElement</code>属性。</p><h1 id="dd16" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">窗口.文档.插件</h1><p id="a362" class="pw-post-body-paragraph kh ki iq kj b kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la mh lc ld le ij bi translated"><code class="fe jn jo jp jq b">plugins</code>属性是一个只读属性，它返回一个HTMLCollection对象，该对象包含文档的一个或多个<code class="fe jn jo jp jq b">embed</code>元素。</p><p id="117d" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">HTMLCollection是一个类似数组的对象，它包含我们视频的<code class="fe jn jo jp jq b">embed</code>元素。</p><p id="22a4" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">HTMLCollection对象有一个<code class="fe jn jo jp jq b">item</code>方法，让我们通过索引获取HTMLCollection对象中的DOM元素。此外，由于它是一个类似数组的对象，我们可以在<code class="fe jn jo jp jq b">for...of</code>循环中使用它。例如，如果我们在HTML代码中嵌入了以下视频:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="62ba" class="mq lg iq jq b gy mr ms l mt mu">&lt;embed type="video/webm" src="<a class="ae kg" href="https://sample-videos.com/video123/mp4/240/big_buck_bunny_240p_30mb.mp4" rel="noopener ugc nofollow" target="_blank">https://sample-videos.com/video123/mp4/240/big_buck_bunny_240p_30mb.mp4</a>" width="250" height="200"&gt;</span><span id="ab8d" class="mq lg iq jq b gy mv ms l mt mu">&lt;embed type="video/webm" src="<a class="ae kg" href="https://media.w3.org/2010/05/sintel/trailer.mp4" rel="noopener ugc nofollow" target="_blank">https://media.w3.org/2010/05/sintel/trailer.mp4</a>" width="250" height="200"&gt;</span></pre><p id="29c7" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后我们可以用<code class="fe jn jo jp jq b">for...of</code>遍历它们，就像我们处理下面的代码一样:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="5cd2" class="mq lg iq jq b gy mr ms l mt mu">for (const embed of document.plugins) {<br/>  console.log(embed);<br/>}</span></pre><p id="2c6b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">如果我们运行上面的代码，我们将获得web页面中的<code class="fe jn jo jp jq b">embed</code>元素。我们还可以获得<code class="fe jn jo jp jq b">embed</code>元素的属性，如以下代码所示:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="c97c" class="mq lg iq jq b gy mr ms l mt mu">for (const embed of document.plugins) {<br/>  const {<br/>    height,<br/>    src,<br/>    type,<br/>    width<br/>  } = embed;<br/>  console.log(height, src, type, width);<br/>}</span></pre><p id="055f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后我们在我们的<code class="fe jn jo jp jq b">console.log</code>输出中取回属性值:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="d200" class="mq lg iq jq b gy mr ms l mt mu">200 <a class="ae kg" href="https://sample-videos.com/video123/mp4/240/big_buck_bunny_240p_30mb.mp4" rel="noopener ugc nofollow" target="_blank">https://sample-videos.com/video123/mp4/240/big_buck_bunny_240p_30mb.mp4</a> video/webm 250</span><span id="a559" class="mq lg iq jq b gy mv ms l mt mu">200 <a class="ae kg" href="https://media.w3.org/2010/05/sintel/trailer.mp4" rel="noopener ugc nofollow" target="_blank">https://media.w3.org/2010/05/sintel/trailer.mp4</a> video/webm 250</span></pre><p id="18f2" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我们可以用HTMLCollection对象可用的<code class="fe jn jo jp jq b">item</code>方法通过索引获取元素来替换<code class="fe jn jo jp jq b">for...of</code>:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="f7c6" class="mq lg iq jq b gy mr ms l mt mu">console.log(document.embeds);<br/>for (let i = 0; i &lt; document.plugins.length; i++) {<br/>  const {<br/>    height,<br/>    src,<br/>    type,<br/>    width<br/>  } = document.plugins.item(i);<br/>  console.log(height, src, type, width);<br/>}</span></pre><p id="9b8c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后我们应该得到与上一个例子相同的<code class="fe jn jo jp jq b">console.log</code>输出。如果没有<code class="fe jn jo jp jq b">embed</code>元素，则返回<code class="fe jn jo jp jq b">null</code>。</p><h1 id="6037" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">window . document . feature策略</h1><p id="ee32" class="pw-post-body-paragraph kh ki iq kj b kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la mh lc ld le ij bi translated"><code class="fe jn jo jp jq b">featurePolicy</code>是一个只读属性，它返回<code class="fe jn jo jp jq b">FeaturePolicy</code>对象，让我们检查应用于特定文档的特性策略。</p><p id="8b88" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">FeaturePolicy</code>对象有一些方法。<code class="fe jn jo jp jq b">allowsFeature</code>方法让我们检查单个功能是否打开。如果在特定上下文中启用，它将返回一个布尔值<code class="fe jn jo jp jq b">true</code>，否则返回<code class="fe jn jo jp jq b">false</code>。例如，如果我们想检查<code class="fe jn jo jp jq b">geolocation</code>是否在我们特定的浏览器选项卡中启用，我们可以写:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="bae8" class="mq lg iq jq b gy mr ms l mt mu">const policy = document.featurePolicy;<br/>console.log(policy.allowsFeature('geolocation'));</span></pre><p id="0552" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">它还将原始URL的第二个可选参数作为一个字符串，这样我们就可以检查某个特性是否可以在各种网站上使用。例如，我们可以写:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="b779" class="mq lg iq jq b gy mr ms l mt mu">const policy = document.featurePolicy;<br/>console.log(policy.allowsFeature('geolocation', '<a class="ae kg" href="https://jsfiddle.net/'" rel="noopener ugc nofollow" target="_blank">https://jsfiddle.net/'</a>));</span></pre><p id="ab01" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">features</code>方法以字符串数组的形式返回浏览器用户代理支持的特性列表。列出的功能在当前上下文中可能是允许的，也可能是不允许的，因为浏览器中设置的权限阻止了这些功能的使用。例如，我们可以写:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="6f7b" class="mq lg iq jq b gy mr ms l mt mu">const policy = document.featurePolicy;<br/>console.log(policy.features());</span></pre><p id="51dd" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后，我们应该会得到浏览器中可以启用的功能的完整列表。例如，在Chrome中，我们得到:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="bfef" class="mq lg iq jq b gy mr ms l mt mu">["geolocation", "midi", "focus-without-user-activation", "camera", "usb", "fullscreen", "vr", "magnetometer", "picture-in-picture", "accelerometer", "autoplay", "document-domain", "encrypted-media", "ambient-light-sensor", "gyroscope", "payment", "sync-xhr", "microphone"]</span></pre><p id="4a15" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">allowedFeatures</code>方法以字符串数组的形式返回允许在当前浏览器上下文中运行的所有特性的指令名列表。它应该是由<code class="fe jn jo jp jq b">features</code>方法返回的特征的子集。例如，我们可以这样写:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="231f" class="mq lg iq jq b gy mr ms l mt mu">const policy = document.featurePolicy;<br/>console.log(policy.allowedFeatures());</span></pre><p id="709d" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">那么我们应该得到这样的结果:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="24c9" class="mq lg iq jq b gy mr ms l mt mu">["geolocation", "midi", "camera", "fullscreen", "picture-in-picture", "document-domain", "encrypted-media", "payment", "sync-xhr", "microphone"]</span></pre><p id="1b0e" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">从<code class="fe jn jo jp jq b">console.log</code>输出。</p><p id="a1b4" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">getAllowlistForFeature</code>方法让我们获得特定特性的允许列表。它有一个参数，是这个特性的字符串，我们希望得到允许使用你传入的特性的域。</p><p id="d890" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，我们可以将从<code class="fe jn jo jp jq b">allowedFeatures</code>方法返回的特性列表中的一个特性作为<code class="fe jn jo jp jq b">getAllowListForFeature</code>方法的参数，如下面的代码所示:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="0161" class="mq lg iq jq b gy mr ms l mt mu">const policy = document.featurePolicy;<br/>console.log(policy.getAllowlistForFeature('geolocation'));</span></pre><p id="8e3c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">那么我们应该得到这样的结果:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="444b" class="mq lg iq jq b gy mr ms l mt mu">["<a class="ae kg" href="https://fiddle.jshell.net" rel="noopener ugc nofollow" target="_blank">https://fiddle.jshell.net</a>"]</span></pre><p id="fb31" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">作为<code class="fe jn jo jp jq b">console.log</code>输出返回。如果我们将返回数组中的域传递给<code class="fe jn jo jp jq b">allowedFeature</code>方法的第二个参数，那么它应该返回<code class="fe jn jo jp jq b">true</code>。例如，如果我们有:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="b8f7" class="mq lg iq jq b gy mr ms l mt mu">const policy = document.featurePolicy;<br/>console.log(policy.allowsFeature('geolocation', '<a class="ae kg" href="https://fiddle.jshell.net'" rel="noopener ugc nofollow" target="_blank">https://fiddle.jshell.net'</a>));</span></pre><p id="d871" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">那么上面的<code class="fe jn jo jp jq b">console.log</code>应该会返回<code class="fe jn jo jp jq b">true</code>。</p><figure class="mi mj mk ml gt jv gh gi paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gh gi mw"><img src="../Images/aee28d3c0ddb1a6e2a4ab2e3e36e6bb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CRY53a3NP8syL9O-"/></div></div><figcaption class="kc kd gj gh gi ke kf bd b be z dk">Photo by <a class="ae kg" href="https://unsplash.com/@jimo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">James Barnett</a> on <a class="ae kg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7728" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">窗口.文档.脚本</h1><p id="c8ad" class="pw-post-body-paragraph kh ki iq kj b kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la mh lc ld le ij bi translated"><code class="fe jn jo jp jq b">scripts</code>属性是一个只读属性，它返回一个HTMLCollection对象以及文档的脚本列表。</p><p id="9e85" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">HTMLCollection对象是一个类似数组的对象，我们可以用<code class="fe jn jo jp jq b">for...of</code>循环遍历它，或者用spread操作符将其转换为数组。</p><p id="d726" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，如果我们的HTML文档中有下面的<code class="fe jn jo jp jq b">script</code>标签:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="95a3" class="mq lg iq jq b gy mr ms l mt mu">&lt;script src="<a class="ae kg" href="https://code.jquery.com/jquery-3.3.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.3.1.slim.min.js</a>" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"&gt;&lt;/script&gt;</span><span id="a1e5" class="mq lg iq jq b gy mv ms l mt mu">&lt;script src="<a class="ae kg" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js</a>" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"&gt;&lt;/script&gt;</span><span id="ce7b" class="mq lg iq jq b gy mv ms l mt mu">&lt;script src="<a class="ae kg" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js</a>" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"&gt;&lt;/script&gt;</span></pre><p id="d7b5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后我们可以在下面的代码中循环类似的内容:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="0e92" class="mq lg iq jq b gy mr ms l mt mu">for (const script of document.scripts) {<br/>  console.log(script);<br/>}</span></pre><p id="5825" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这应该会让我们回到:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="d8d6" class="mq lg iq jq b gy mr ms l mt mu">(index):33 &lt;script src=​"https:​/​/​code.jquery.com/​jquery-3.3.1.slim.min.js" integrity=​"sha384-q8i/​X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin=​"anonymous"&gt;​&lt;/script&gt;​</span><span id="f3ed" class="mq lg iq jq b gy mv ms l mt mu">&lt;script src=​"https:​/​/​cdnjs.cloudflare.com/​ajax/​libs/​popper.js/​1.14.7/​umd/​popper.min.js" integrity=​"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin=​"anonymous"&gt;​&lt;/script&gt;​</span><span id="c5cd" class="mq lg iq jq b gy mv ms l mt mu">&lt;script src=​"https:​/​/​stackpath.bootstrapcdn.com/​bootstrap/​4.3.1/​js/​bootstrap.min.js" integrity=​"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/​nJGzIxFDsf4x0xIM+B07jRM" crossorigin=​"anonymous"&gt;​&lt;/script&gt;​</span></pre><p id="d82c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">从<code class="fe jn jo jp jq b">console.log</code>输出。我们还可以使用HTMLCollection对象的<code class="fe jn jo jp jq b">item</code>方法通过索引获取每个链接。为此，我们可以编写以下代码:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="95e1" class="mq lg iq jq b gy mr ms l mt mu">for (let i = 0; i &lt; document.scripts.length; i++) {<br/>  console.log(document.scripts.item(i));<br/>}</span></pre><p id="d9b2" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">两个循环应该以相同的方式输出链接。我们还可以通过属性链接直接获取链接的属性，如下面的代码所示:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="5d27" class="mq lg iq jq b gy mr ms l mt mu">for (const script of document.scripts) {<br/>  const {<br/>    src,<br/>    integrity<br/>  } = script;<br/>  console.log(src, integrity);<br/>}</span></pre><p id="4565" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后，我们从<code class="fe jn jo jp jq b">console.log</code>语句中得到类似下面的内容:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="03a0" class="mq lg iq jq b gy mr ms l mt mu"><a class="ae kg" href="https://code.jquery.com/jquery-3.3.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.3.1.slim.min.js</a> sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo</span><span id="1ade" class="mq lg iq jq b gy mv ms l mt mu"><a class="ae kg" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js</a> sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1</span><span id="08d1" class="mq lg iq jq b gy mv ms l mt mu"><a class="ae kg" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js</a> sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM</span></pre><h1 id="7164" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">window . document . scrolling element</h1><p id="7a68" class="pw-post-body-paragraph kh ki iq kj b kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la mh lc ld le ij bi translated"><code class="fe jn jo jp jq b">scrollingElement</code>属性是一个只读属性，返回滚动元素的<code class="fe jn jo jp jq b">Element</code>对象。在标准模式下，这应该是文档或<code class="fe jn jo jp jq b">document.documentElement</code>对象的根元素。</p><p id="9b24" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="b000" class="mq lg iq jq b gy mr ms l mt mu">console.log(document.scrollingElement);</span></pre><p id="53b2" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">然后我们应该得到如下输出所示的<code class="fe jn jo jp jq b">html</code>元素:</p><pre class="mi mj mk ml gt mm jq mn mo aw mp bi"><span id="5caa" class="mq lg iq jq b gy mr ms l mt mu">&lt;html&gt;&lt;head&gt;<br/>  &lt;meta http-equiv="content-type" content="text/html; charset=UTF-8"&gt;<br/>  &lt;title&gt;&lt;/title&gt;<br/>  &lt;meta http-equiv="content-type" content="text/html; charset=UTF-8"&gt;<br/>  &lt;meta name="robots" content="noindex, nofollow"&gt;<br/>  &lt;meta name="googlebot" content="noindex, nofollow"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;</span><span id="afff" class="mq lg iq jq b gy mv ms l mt mu">&lt;script type="text/javascript" src="/js/lib/dummy.js"&gt;&lt;/script&gt;</span><span id="e9a2" class="mq lg iq jq b gy mv ms l mt mu">&lt;link rel="stylesheet" type="text/css" href="/css/result-light.css"&gt;</span><span id="10d8" class="mq lg iq jq b gy mv ms l mt mu">&lt;style id="compiled-css" type="text/css"&gt;<br/>      <br/>  &lt;/style&gt;</span><span id="02af" class="mq lg iq jq b gy mv ms l mt mu">&lt;!-- TODO: Missing CoffeeScript 2 --&gt;</span><span id="5de1" class="mq lg iq jq b gy mv ms l mt mu">&lt;script type="text/javascript"&gt;//&lt;![CDATA[</span><span id="a8cc" class="mq lg iq jq b gy mv ms l mt mu">window.onload=function(){<br/>      <br/>console.log(document.scrollingElement);</span><span id="ea54" class="mq lg iq jq b gy mv ms l mt mu">}</span><span id="a05a" class="mq lg iq jq b gy mv ms l mt mu">//]]&gt;&lt;/script&gt;</span><span id="42b6" class="mq lg iq jq b gy mv ms l mt mu">&lt;/head&gt;<br/>&lt;body&gt;</span><span id="ddfd" class="mq lg iq jq b gy mv ms l mt mu">&lt;script&gt;<br/>    // tell the embed parent frame the height of the content<br/>    if (window.parent &amp;&amp; window.parent.parent){<br/>      window.parent.parent.postMessage(["resultsFrame", {<br/>        height: document.body.getBoundingClientRect().height,<br/>        slug: ""<br/>      }], "*")<br/>    }</span><span id="d14e" class="mq lg iq jq b gy mv ms l mt mu">// always overwrite window.name, in case users try to set it manually<br/>    window.name = "result"<br/>  &lt;/script&gt;</span><span id="30bd" class="mq lg iq jq b gy mv ms l mt mu">&lt;/body&gt;&lt;/html&gt;</span></pre><p id="f5f8" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">有了<code class="fe jn jo jp jq b">document</code>对象，我们就有了一些方便的属性，可以通过使用它的方便属性来获取文档中的元素。<code class="fe jn jo jp jq b">document.plugins </code>对于获取文档的<code class="fe jn jo jp jq b">embed</code>元素很方便。</p><p id="7380" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">document.featurePolicy</code>让我们知道浏览器中有哪些功能以及启用了哪些功能。功能包括地理定位、虚拟现实等。</p><p id="7b5f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">属性为我们获取文档的所有标签。它返回一个HTMLCollection，在这里我们可以通过使用属性名作为元素的属性来获取元素的属性，从而在我们的代码中获取属性值。</p><p id="c857" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><code class="fe jn jo jp jq b">scrollingElement</code>让我们得到<code class="fe jn jo jp jq b">Element</code>对象，该对象滚动标准模式下应该是<code class="fe jn jo jp jq b">documentElement</code>的元素。</p></div></div>    
</body>
</html>