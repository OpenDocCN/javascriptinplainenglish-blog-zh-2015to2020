<html>
<head>
<title>Vue Router 4–Programmatic Navigation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue路由器4–程序导航</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-router-4-programmatic-navigation-c142fa88180e?source=collection_archive---------14-----------------------#2020-12-16">https://javascript.plainenglish.io/vue-router-4-programmatic-navigation-c142fa88180e?source=collection_archive---------14-----------------------#2020-12-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e4c750ba72e7b962f1b2aad8962b013e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iznyc9-KRtlRout0"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="07fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue Router 4处于测试阶段，可能会有变化。</p><p id="637d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了轻松地构建一个单页面应用程序，我们需要添加路由，以便将URL映射到呈现的组件。</p><p id="0ba0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何使用Vue路由器4与Vue 3。</p><h1 id="75a7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">程序导航</h1><p id="4ec4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Vue Router 4有计划地浏览路线。</p><p id="20ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5cb0" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;script src="https://unpkg.com/vue-router@4.0.0-beta.7/dist/vue-router.global.js"&gt;&lt;/script&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;<br/>        &lt;router-link to="/foo"&gt;Foo&lt;/router-link&gt;<br/>        &lt;a href="#" @click.stop="go"&gt;Bar&lt;/a&gt;<br/>      &lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const Foo = {<br/>        template: "&lt;div&gt;foo&lt;/div&gt;"<br/>      };</span><span id="7f8c" class="mn lc iq mj b gy ms mp l mq mr">      const Bar = {<br/>        template: "&lt;div&gt;bar&lt;/div&gt;"<br/>      };<br/>      const routes = [<br/>        { path: "/foo", component: Foo },<br/>        { path: "/bar", component: Bar }<br/>      ];</span><span id="0d9b" class="mn lc iq mj b gy ms mp l mq mr">      const router = VueRouter.createRouter({<br/>        history: VueRouter.createWebHistory(),<br/>        routes<br/>      });</span><span id="c791" class="mn lc iq mj b gy ms mp l mq mr">      const app = Vue.createApp({<br/>        methods: {<br/>          go() {<br/>            this.$router.push("bar");<br/>          }<br/>        }<br/>      });<br/>      app.use(router);<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="34ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个<code class="fe mt mu mv mj b">a</code>元素要转到<code class="fe mt mu mv mj b">bar</code>路线。</p><p id="24ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<code class="fe mt mu mv mj b">stop</code>修改器添加到<code class="fe mt mu mv mj b">@click</code>以防止传播。</p><p id="c012" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在root Vue实例中，我们有<code class="fe mt mu mv mj b">this.$router.push</code>方法来到达给定的路线。</p><p id="114a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="93d9" class="mn lc iq mj b gy mo mp l mq mr">this.$router.push({ path: "bar" });</span></pre><p id="47a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以对命名路由这样做:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5b16" class="mn lc iq mj b gy mo mp l mq mr">router.push({ name: 'bar', params: { id: '123' } })</span></pre><p id="474b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6cac" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;script src="https://unpkg.com/vue-router@4.0.0-beta.7/dist/vue-router.global.js"&gt;&lt;/script&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;<br/>        &lt;router-link to="/foo"&gt;Foo&lt;/router-link&gt;<br/>        &lt;a href="#" @click.stop="go"&gt;Bar&lt;/a&gt;<br/>      &lt;/p&gt;<br/>      &lt;p&gt;{{ $router.currentRoute.value.params.id }}&lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const Foo = {<br/>        template: "&lt;div&gt;foo&lt;/div&gt;"<br/>      };</span><span id="e006" class="mn lc iq mj b gy ms mp l mq mr">      const Bar = {<br/>        template: "&lt;div&gt;bar&lt;/div&gt;"<br/>      };<br/>      const routes = [<br/>        { path: "/foo", component: Foo },<br/>        { path: "/bar/:id", component: Bar, name: "bar" }<br/>      ];</span><span id="9d2c" class="mn lc iq mj b gy ms mp l mq mr">      const router = VueRouter.createRouter({<br/>        history: VueRouter.createWebHistory(),<br/>        routes<br/>      });</span><span id="4d56" class="mn lc iq mj b gy ms mp l mq mr">      const app = Vue.createApp({<br/>        methods: {<br/>          go() {<br/>            this.$router.push({ name: "bar", params: { id: "123" }       });<br/>          }<br/>        }<br/>      });<br/>      app.use(router);<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="6cf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了<code class="fe mt mu mv mj b">:id</code> URL参数占位符，并为其添加了<code class="fe mt mu mv mj b">name</code>属性。</p><p id="9001" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以用<code class="fe mt mu mv mj b">name</code>值代替路径调用<code class="fe mt mu mv mj b">push</code>。</p><p id="e38f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">URL参数在<code class="fe mt mu mv mj b">id</code>属性中。</p><h1 id="8c96" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe mt mu mv mj b">$router.replace(location, onComplete?, onAbort?)</code></h1><p id="50c6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe mt mu mv mj b">$router.replace</code>方法与<code class="fe mt mu mv mj b">$router.push</code>相似，只是它覆盖了之前的历史记录条目。</p><p id="054b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将<code class="fe mt mu mv mj b">replace</code>道具添加到<code class="fe mt mu mv mj b">router-link</code>中，如下所示:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="472f" class="mn lc iq mj b gy mo mp l mq mr">&lt;router-link :to="..." replace&gt;</span></pre><p id="d7cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这与以下内容相同:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d886" class="mn lc iq mj b gy mo mp l mq mr">router.replace(...)</span></pre><h1 id="bc17" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe mt mu mv mj b">$router.go(n)</code></h1><p id="e8c7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe mt mu mv mj b">$router.go</code>方法接受一个整数，并让我们在浏览器历史中前进或后退给定的步数。</p><p id="e255" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">负整数意味着我们在后退。</p><p id="5e70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e9bb" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;script src="https://unpkg.com/vue-router@4.0.0-beta.7/dist/vue-router.global.js"&gt;&lt;/script&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;p&gt;<br/>        &lt;router-link to="/foo"&gt;Foo&lt;/router-link&gt;<br/>        &lt;router-link to="/bar"&gt;Bar&lt;/router-link&gt;<br/>        &lt;a href="#" @click.stop="goBack"&gt;Back&lt;/a&gt;<br/>      &lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const Foo = {<br/>        template: "&lt;div&gt;foo&lt;/div&gt;"<br/>      };</span><span id="bfc9" class="mn lc iq mj b gy ms mp l mq mr">      const Bar = {<br/>        template: "&lt;div&gt;bar&lt;/div&gt;"<br/>      };<br/>      const routes = [<br/>        { path: "/foo", component: Foo },<br/>        { path: "/bar", component: Bar }<br/>      ];</span><span id="3c7f" class="mn lc iq mj b gy ms mp l mq mr">      const router = VueRouter.createRouter({<br/>        history: VueRouter.createWebHistory(),<br/>        routes<br/>      });</span><span id="361c" class="mn lc iq mj b gy ms mp l mq mr">      const app = Vue.createApp({<br/>        methods: {<br/>          goBack() {<br/>            this.$router.go(-1);<br/>          }<br/>        }<br/>      });<br/>      app.use(router);<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="9877" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有带<code class="fe mt mu mv mj b">this.$router.go</code>调用的<code class="fe mt mu mv mj b">goBack</code>方法来返回到先前的路线。</p><p id="ae63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该方法的约定遵循历史API。</p><h1 id="d608" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="fc02" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用Vue Router 4以编程方式导航到不同的路由，它与Vue 3一起工作。</p><p id="c380" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>