<html>
<head>
<title>When to choose SQL and NoSQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">何时选择SQL和NoSQL</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/when-to-choose-sql-and-nosql-ef60468bb853?source=collection_archive---------4-----------------------#2019-11-01">https://javascript.plainenglish.io/when-to-choose-sql-and-nosql-ef60468bb853?source=collection_archive---------4-----------------------#2019-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/8d79d688f4f72f2c0d4bcdb437b98040.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*XXg6DHtL3we3cWecmTgaow.jpeg"/></div></figure><p id="62fb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果有人问你为什么选择NoSQL数据库而不是SQL，你可以参考下面的建议，这些建议描述了在分布式系统架构中，你应该何时以及为什么选择这样的数据库。这不是两者之间的比较，但最重要的是在您的应用中何时选择一个</p><h1 id="e88a" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">SQL:</h1><p id="31c9" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">主要部分是我们可以与具有相同属性的不同表建立关系，并且可以进行规范化。当您的应用程序需要大量更新和删除记录时，这个数据库非常有用。选择RDBMS的理由很少，比如数据一致性(ACID)和读取优化。</p><h2 id="d2a7" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">1.插入是昂贵的</h2><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mh"><img src="../Images/72a06d42578dfc8e5770982ecd542f5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TkDo4FliMFltyVWdqDbsbg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">A person table in a SQL database</figcaption></figure><p id="c3b8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，无论何时在SQL数据库中执行插入操作，都需要通过移动指针将数据一个接一个地插入到上面的列中，并且还需要借助连接<strong class="jw ir">将地址表中的数据映射到人员表，这是一个开销很大的操作。</strong></p><h2 id="16dd" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">2.模式不容易改变</h2><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/733e75c11de2ed710ad1a5638603af02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*7KittX4rokFKag9Uj-YkCg.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">to insert another column we need to add locks to maintain consistency</figcaption></figure><p id="2c02" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">假设在上表中，如果您想要插入另一列或类似rating的属性，您需要添加一个称为“锁”的东西来保持一致性，这在SQL数据库中也是一个开销很大的操作。</p><h2 id="f4c7" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">3.不是为规模而建</h2><p id="b742" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">大多数SQL数据库不是为水平扩展而构建的，扩展SQL数据库是很困难的。因此，使用该数据库的大多数用户仍然有一组用户，但不建议在大型分布式系统中使用。</p><h2 id="7692" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">4.阅读优化</h2><p id="1267" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">SQL数据库是读优化的，这意味着如果你想找到在你的公司工作的不到30岁的人的年龄，你只需要移动你的指针到表中的年龄列，然后做一个最小的操作来找到计数。</p><h2 id="f14d" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">5.数据一致性</h2><p id="7fe0" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">数据一致性总是维护者，因为它们给了我们酸性属性。ACID总是有保证的，这就是为什么交易系统使用这个数据库进行金融交易</p><h2 id="0119" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">6.连接很容易构建:</h2><p id="3fda" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">SQL数据库是为内部连接、外部连接、左外部连接等连接而构建的。如上图所示，两个表之间的关系禁止外键和主键关联。</p><h1 id="744b" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">NoSQL:</h1><p id="d55e" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">这个数据库系统已经被许多大公司用作他们的主要数据库。数据以JSON格式存储，而不是以表格形式存储。每个JSON对象都是一个由ObjectID作为主键表示的文档。上面的表格模式将在NoSQL重写为一个文档，它将包含:</p><pre class="mi mj mk ml gt mv mw mx my aw mz bi"><span id="1113" class="lv kt iq mw b gy na nb l nc nd">{<br/>"key":111,<br/>"name":"Raj",<br/>"age":30,<br/>"address":{<br/>   "city":"BNG",<br/>   "country":"IND"<br/>},<br/>"role:"SDE2"<br/>}</span></pre><h2 id="0a3b" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">1.插入更便宜</h2><p id="3723" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">整行都变成了一个文档，它将保存上面每一列的键绑定。这里，我们将不会与地址表有任何外键关系，而整个地址键对象将只像JSON嵌套一样在父对象中保存数据。因为地区列没有数据，所以我们甚至没有存储数据。</p><p id="9508" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，当您发送请求或插入数据时，上面的整个JSON对象将会在一次插入中被放入数据库。每当你从NoSQL拉出一排时，你实际上是拉出了整个物体<strong class="jw ir">,这更便宜。</strong></p><h2 id="8137" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">2.模式很容易改变</h2><pre class="mi mj mk ml gt mv mw mx my aw mz bi"><span id="a5df" class="lv kt iq mw b gy na nb l nc nd">{<br/>"key":111,<br/>"name":"Raj",<br/>"age":30,<br/>"address":{<br/>   "city":"BNG",<br/>   "country":"IND"<br/>},<br/>"rating:"A"<br/>}</span></pre><p id="4f40" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在上面的JSON文档中，如果您想像在SQL中那样插入评级属性，我们可以很容易地插入，而不考虑其他文档。我们可以立即添加。将保持一致性，不需要对文档进行其他更改。</p><h2 id="28ad" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">3.按比例制造</h2><p id="deaf" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">大多数NoSQL数据库都是用水平分区构建的(什么是水平分区？).由于大多数用户希望使用NoSQL数据库，他们倾向于扩展他们的应用程序，因此可用性优先于一致性。</p><h2 id="8b67" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">4.未优化读取</h2><p id="4ecd" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">NoSQL数据库没有经过阅读优化，这意味着如果您想找到在您公司工作的年龄在30岁以下的人，数据库会将每个文档返回给您，之后您将需要执行一些昂贵的操作来获取返回值。</p><h2 id="b4f2" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">5.无数据一致性</h2><p id="6d1e" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">NoSQL数据库不保留数据库的ACID属性，这就是为什么金融交易是不可能的，因为如果ACID和数据的一致性得不到维护，使用它们就没有意义。</p><h2 id="3e8c" class="lv kt iq bd ku lw lx dn ky ly lz dp lc kf ma mb lg kj mc md lk kn me mf lo mg bi translated">6.连接很难构建</h2><p id="7f27" class="pw-post-body-paragraph ju jv iq jw b jx lq jz ka kb lr kd ke kf ls kh ki kj lt kl km kn lu kp kq kr ij bi translated">在NoSQL数据库中没有联接的概念，这意味着如果您将两个表中的地址字段相关联，那么您需要转到每个文档并在这两个表中找到地址，然后使用返回的结果合并它们，最终得到您的结果。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><p id="f843" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">谢谢你的阅读！如果您有任何问题，请随时联系rajrock38@gmail.com，在<a class="ae nl" href="https://www.linkedin.com/in/rajdeepcoder/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系，或者在<a class="ae nl" href="https://medium.com/@rajrock38" rel="noopener">media</a>和<a class="ae nl" href="https://twitter.com/rajrock38" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我。</p><p id="4762" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你觉得这篇文章很有帮助，如果你给它一些掌声，它会有很大的意义👏并分享以帮助他人找到它！请在下面自由发表评论。</p></div></div>    
</body>
</html>