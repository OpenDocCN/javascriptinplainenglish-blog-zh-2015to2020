<html>
<head>
<title>Let’s extend console.log()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们扩展console.log()</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-extend-console-log-8641bda035c3?source=collection_archive---------0-----------------------#2018-08-23">https://javascript.plainenglish.io/lets-extend-console-log-8641bda035c3?source=collection_archive---------0-----------------------#2018-08-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7f3d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">向控制台添加新功能，加速您的开发工作流程</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b5f5a42d685734090fc87a58f6b95bce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKS0_1rGg2MZO_lbYJrxeA.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><p id="b619" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><code class="fe lr ls lt lu b">console</code>对象让你可以访问浏览器的控制台。它允许您输出帮助调试代码的字符串、数组和对象。<code class="fe lr ls lt lu b">console</code>是<code class="fe lr ls lt lu b">window</code>对象的一部分，由<a class="ae lv" href="https://www.w3schools.com/js/js_window.asp" rel="noopener ugc nofollow" target="_blank">浏览器对象模型(BOM) </a>提供。</p><p id="5236" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">使用console.log有两种方法:</p><ol class=""><li id="9826" class="lw lx in kx b ky kz lb lc le ly li lz lm ma lq mb mc md me bi translated"><code class="fe lr ls lt lu b">window.console.log('hello')</code></li><li id="233f" class="lw lx in kx b ky mf lb mg le mh li mi lm mj lq mb mc md me bi translated"><code class="fe lr ls lt lu b">console.log('hello again')</code></li></ol></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h1 id="912f" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">让我们延伸一下。为什么？</h1><p id="755f" class="pw-post-body-paragraph kv kw in kx b ky nc jo la lb nd jr ld le ne lg lh li nf lk ll lm ng lo lp lq ig bi translated">您可能需要一种简单的方法来:</p><ul class=""><li id="c894" class="lw lx in kx b ky kz lb lc le ly li lz lm ma lq nh mc md me bi translated">使用标志启用/禁用记录，例如<code class="fe lr ls lt lu b">DEBUG = true</code></li><li id="3840" class="lw lx in kx b ky mf lb mg le mh li mi lm mj lq nh mc md me bi translated">为日志消息添加通用字符串前缀，以标识消息来源，例如<code class="fe lr ls lt lu b">$ 23.07.2018 / 11:48:02 Hello!</code></li><li id="5844" class="lw lx in kx b ky mf lb mg le mh li mi lm mj lq nh mc md me bi translated">较短的日志语法，例如<code class="fe lr ls lt lu b">log("Hello!")</code></li><li id="2fbe" class="lw lx in kx b ky mf lb mg le mh li mi lm mj lq nh mc md me bi translated">等等。</li></ul></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><p id="bbf2" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">例如<strong class="kx io">我们想在消息前添加当前日期:</strong></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><ul class=""><li id="d2cc" class="lw lx in kx b ky kz lb lc le ly li lz lm ma lq nh mc md me bi translated">当前日期:</li></ul><pre class="kd ke kf kg gt nk lu nl nm aw nn bi"><span id="3270" class="no ml in lu b gy np nq l nr ns">var LOG_PREFIX = new Date().getDate() + '.' + new Date().getMonth() + '.' + new Date().getFullYear() + ' / ' + new Date().getHours() + ':' + new Date().getMinutes() + ':' + new Date().getSeconds();</span></pre><ul class=""><li id="3bcb" class="lw lx in kx b ky kz lb lc le ly li lz lm ma lq nh mc md me bi translated">保存对象引用</li></ul><pre class="kd ke kf kg gt nk lu nl nm aw nn bi"><span id="b1e4" class="no ml in lu b gy np nq l nr ns">var log = console.log;</span></pre><ul class=""><li id="8dfb" class="lw lx in kx b ky kz lb lc le ly li lz lm ma lq nh mc md me bi translated">重写<strong class="kx io">日志</strong>方法</li></ul><pre class="kd ke kf kg gt nk lu nl nm aw nn bi"><span id="cadf" class="no ml in lu b gy np nq l nr ns"><strong class="lu io">console.log</strong> = function(){     <br/>   <br/>   var args = Array.from(arguments); // ES5</span><span id="78e4" class="no ml in lu b gy nt nq l nr ns">args.unshift(LOG_PREFIX + ": ");<br/>   <br/>   <strong class="lu io">log.apply(console, args);</strong></span><span id="e4f2" class="no ml in lu b gy nt nq l nr ns">}</span></pre><ol class=""><li id="3716" class="lw lx in kx b ky kz lb lc le ly li lz lm ma lq mb mc md me bi translated"><strong class="kx io">array . from(arguments)</strong>—将参数转换为普通数组。<code class="fe lr ls lt lu b">arguments</code>对象不是<code class="fe lr ls lt lu b">Array</code>。它类似于一个<code class="fe lr ls lt lu b">Array</code>，但是除了<code class="fe lr ls lt lu b">length</code>之外没有任何<code class="fe lr ls lt lu b">Array</code>属性。也可以使用:<strong class="kx io">array . prototype . slice . call(arguments)；</strong></li><li id="3433" class="lw lx in kx b ky mf lb mg le mh li mi lm mj lq mb mc md me bi translated"><strong class="kx io">args . un shift(LOG _ PREFIX+":)</strong>-前置日志前缀日志字符串。</li><li id="57c1" class="lw lx in kx b ky mf lb mg le mh li mi lm mj lq mb mc md me bi translated"><strong class="kx io"> log.apply(console，args)</strong>—<code class="fe lr ls lt lu b">apply</code>的第一个参数是<code class="fe lr ls lt lu b">this</code>将引用的参数。要模拟对<code class="fe lr ls lt lu b">console.log()</code>的调用，你必须传递<code class="fe lr ls lt lu b">console</code>、<strong class="kx io">、<em class="nu">而不是函数本身</em>、</strong></li></ol></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h1 id="9317" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">较短的日志语法</h1><p id="03d0" class="pw-post-body-paragraph kv kw in kx b ky nc jo la lb nd jr ld le ne lg lh li nf lk ll lm ng lo lp lq ig bi translated">您可能希望修改日志消息并使用较短的日志语法:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="cf9f" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">精确模拟<code class="fe lr ls lt lu b">console.log</code>行为的最基本的日志包装，例如，缩短日志语法，如下所示，它应用了调用<code class="fe lr ls lt lu b">console.log</code>时提供给<code class="fe lr ls lt lu b">log</code>的参数。</p><pre class="kd ke kf kg gt nk lu nl nm aw nn bi"><span id="8915" class="no ml in lu b gy np nq l nr ns">var log = function(){<br/>    console.log.apply(console, arguments);<br/>}</span></pre><p id="2149" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">您可以做一些简单的事情，比如添加一个<code class="fe lr ls lt lu b">DEBUG</code>标志来启用/禁用日志记录:</p><pre class="kd ke kf kg gt nk lu nl nm aw nn bi"><span id="203a" class="no ml in lu b gy np nq l nr ns">var DEBUG=true;</span><span id="ca8e" class="no ml in lu b gy nt nq l nr ns">var log = function(){<br/>    if(DEBUG){<br/>        console.log.apply(console, arguments);<br/>    }<br/>}</span></pre></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="ab gu cl nv"><img src="../Images/9d9154a4566ec3f663b7350d8b0fac28.png" data-original-src="https://miro.medium.com/v2/1*5m-Ty6IjvNBHM0vRBEiVDw.gif"/></div></figure><h1 id="60d7" class="mk ml in bd mm mn nw mp mq mr nx mt mu jt ny ju mw jw nz jx my jz oa ka na nb bi translated">参考资料:</h1><div class="ob oc gp gr od oe"><a href="https://medium.freecodecamp.org/how-to-get-the-most-out-of-the-javascript-console-b57ca9db3e6d" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd io gy z fp oj fr fs ok fu fw im bi translated">如何充分利用JavaScript控制台</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">JavaScript中最基本的调试工具之一是console.log()。该控制台附带了其他几个有用的…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.freecodecamp.org</p></div></div><div class="on l"><div class="oo l op oq or on os km oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd io gy z fp oj fr fs ok fu fw im bi translated">参数对象</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">arguments对象是一个类似数组的对象，对应于传递给函数的参数。</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">developer.mozilla.org</p></div></div><div class="on l"><div class="ot l op oq or on os km oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd io gy z fp oj fr fs ok fu fw im bi translated">Function.prototype.apply()</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">apply()方法使用给定的this值调用一个函数，参数以数组(或类似数组的…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">developer.mozilla.org</p></div></div><div class="on l"><div class="ou l op oq or on os km oe"/></div></div></a></div></div></div>    
</body>
</html>