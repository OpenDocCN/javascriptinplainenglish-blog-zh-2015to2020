<html>
<head>
<title>A 3 minute crash course in Async/Await in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个3分钟的JavaScript异步/等待速成班</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/async-await-functions-in-3-minutes-f9e274ce723c?source=collection_archive---------10-----------------------#2020-03-16">https://javascript.plainenglish.io/async-await-functions-in-3-minutes-f9e274ce723c?source=collection_archive---------10-----------------------#2020-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f83a65cb29b9033d38c7a0f8b076521f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ou-mmDu_P_R2z9fe"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@goran_ivos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Goran Ivos</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3d82" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">先决条件</h1><p id="3d2c" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">为了让我在几分钟内解释如何编写async/await函数，您需要很好地理解JavaScript的异步特性以及如何使用承诺。这里的目标受众是那些习惯于承诺的开发人员，他们已经准备好通过使用async/await来提升他们的代码。或者只是重构他们的代码以获得更整洁的外观。已经有大量关于promises和async/await的深入文章，所以我就长话短说。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="8f50" class="kd ke iq bd kf kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la bi translated">为什么使用Async/Await？</h1><p id="01bb" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在我看来，Promises和Async/Await都很好。无论你选择哪种方法，结果都是一样的。我也更喜欢async/await的原因是因为它使代码更干净，更容易阅读，尤其是当你有多个链接的时候。当我写代码时，可读性和可维护性总是在我的脑海中浮现。你的同事会欣赏你干净的代码，即使他们从来没有提到过！</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="2948" class="kd ke iq bd kf kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la bi translated"><strong class="ak">需要记住的关键事项</strong></h1><ul class=""><li id="0092" class="ml mm iq ld b le lf li lj lm mn lq mo lu mp ly mq mr ms mt bi translated">Async/Await只不过是承诺周围的语法糖</li><li id="12f2" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">异步函数是返回承诺的函数</li><li id="578d" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">Await只能在标记为<strong class="ld ir"> <em class="mz"> async </em> </strong>的函数中使用</li><li id="fe35" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated">使用带有异步函数的<strong class="ld ir"> try/catch </strong>来捕捉异常</li></ul></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="ad96" class="kd ke iq bd kf kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la bi translated">通过例子学习</h1><p id="cd75" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">对我个人来说，最好的学习方法之一就是通过例子。这就是为什么我将使我的解释简短。我还打算让我的例子简单易懂。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="8b0c" class="na ke iq bd kf nb nc dn kj nd ne dp kn lm nf ng kr lq nh ni kv lu nj nk kz nl bi translated">使用Axios的简单HTTP请求</h2><p id="1629" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">让我们来看一个使用promises从jsonplaceholder获取帖子的简单函数。</p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="552d" class="pw-post-body-paragraph lb lc iq ld b le ns lg lh li nt lk ll lm nu lo lp lq nv ls lt lu nw lw lx ly ij bi translated">我们可以像这样使用async/await重写它:</p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="3ecb" class="na ke iq bd kf nb nc dn kj nd ne dp kn lm nf ng kr lq nh ni kv lu nj nk kz nl bi translated">一个更真实的HTTP请求示例</h2><p id="017f" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">这是我最近参与的一个项目的片段。Superagent是类似于Axios的轻量级http库。<em class="mz"> getCustomer </em>函数正在发出HTTP请求并设置授权头。一旦我收到响应，我就在我的数据变量中设置它们(我在这个项目中使用Vue.js作为前端框架)。</p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="47c3" class="pw-post-body-paragraph lb lc iq ld b le ns lg lh li nt lk ll lm nu lo lp lq nv ls lt lu nw lw lx ly ij bi translated">现在让我们重写这个代码以使用异步/等待:</p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="174f" class="na ke iq bd kf nb nc dn kj nd ne dp kn lm nf ng kr lq nh ni kv lu nj nk kz nl bi translated"><strong class="ak">异步/等待一个简单的MongoDB请求</strong></h2><p id="28fe" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">下面是一个用Mongoose使用promises对MongoDB进行数据库调用的例子。</p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="7d23" class="pw-post-body-paragraph lb lc iq ld b le ns lg lh li nt lk ll lm nu lo lp lq nv ls lt lu nw lw lx ly ij bi translated">异步/等待！</p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="6ed5" class="kd ke iq bd kf kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la bi translated">结论</h1><p id="f381" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我在这里的意图是保持文章简短和甜蜜。人们可以用作参考或指南的东西。如前所述，如果您正在寻找关于Promises和Async/Await内部工作方式的更深入的解释，有大量关于这个主题的资源。</p><p id="38cb" class="pw-post-body-paragraph lb lc iq ld b le ns lg lh li nt lk ll lm nu lo lp lq nv ls lt lu nw lw lx ly ij bi translated">我在业余时间写这些文章是为了娱乐。如果你喜欢这篇文章，请在下面留下你的喜欢和评论！可以关注我上 <a class="ae kc" href="https://medium.com/@this.kevinluu" rel="noopener"> <em class="mz">中</em> </a> <em class="mz">和</em> <a class="ae kc" href="https://twitter.com/kluu_10" rel="noopener ugc nofollow" target="_blank"> <em class="mz">推特</em> </a> <em class="mz">。感谢支持！</em></p></div></div>    
</body>
</html>