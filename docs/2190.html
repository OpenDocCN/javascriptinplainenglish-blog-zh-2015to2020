<html>
<head>
<title>Create a Theme switching app in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中创建一个主题切换应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-theme-switching-app-in-react-d848da151455?source=collection_archive---------3-----------------------#2020-05-28">https://javascript.plainenglish.io/create-a-theme-switching-app-in-react-d848da151455?source=collection_archive---------3-----------------------#2020-05-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="025f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">学习如何动态地改变你网站的主题</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0d5d302c09262965dd64d1208fdbf4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tQEyF5o3QXNq56PM"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@mylifeasaryan_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aryan Dhiman</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cc74" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本文中，我们将创建一个React应用程序，允许我们更改应用程序的主题。</p><h2 id="936d" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">我们开始吧</h2><p id="0870" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">使用<code class="fe mn mo mp mq b">create-react-app</code>创建一个新项目</p><pre class="kd ke kf kg gt mr mq ms mt aw mu bi"><span id="2a1e" class="lp lq in mq b gy mv mw l mx my">create-react-app theme-switcher</span></pre><p id="1d8b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">项目创建完成后，删除<code class="fe mn mo mp mq b">src</code>文件夹中的所有文件，在<code class="fe mn mo mp mq b">src</code>文件夹中创建<code class="fe mn mo mp mq b">index.js,</code> <code class="fe mn mo mp mq b">App.js</code>和<code class="fe mn mo mp mq b">styles.css</code>文件。同样，在<code class="fe mn mo mp mq b">src</code>文件夹中创建<code class="fe mn mo mp mq b">components</code>和<code class="fe mn mo mp mq b">utils</code>文件夹。</p><p id="6cae" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">安装<code class="fe mn mo mp mq b">react-select</code>包，我们将使用它来显示下拉选项</p><pre class="kd ke kf kg gt mr mq ms mt aw mu bi"><span id="5da0" class="lp lq in mq b gy mv mw l mx my">yarn add react-select@3.1.0</span></pre><p id="0465" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">utils</code>文件夹中创建一个新文件<code class="fe mn mo mp mq b">themes.js</code>，内容如下</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">themes.js</figcaption></figure><p id="6dc4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这里，我们定义了应用程序所需的所有定制主题</p><p id="092f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">components</code>文件夹中创建一个新文件<code class="fe mn mo mp mq b">Dropdown.js</code>,内容如下</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Dropdown.js</figcaption></figure><p id="ed35" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里，我们使用来自<code class="fe mn mo mp mq b">themes.js</code>的主题名称创建一个下拉列表</p><p id="4894" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">components</code>文件夹中创建一个新文件<code class="fe mn mo mp mq b">Header.js</code>,内容如下</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Header.js</figcaption></figure><p id="5a64" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里，我们只显示先前创建的下拉列表，并在从下拉列表中选择任何值时调用处理程序。</p><p id="88e8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">components</code>文件夹中创建一个新文件<code class="fe mn mo mp mq b">Main.js</code>，内容如下</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Main.js</figcaption></figure><p id="b47a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里，我们添加了需要显示的页面的虚拟文本内容。</p><p id="9fa4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">src/App.js</code>内增加以下内容</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">App.js</figcaption></figure><p id="20d1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里，我们在主div中添加了一个<code class="fe mn mo mp mq b">ref</code>,这样我们就可以改变主div的样式。</p><pre class="kd ke kf kg gt mr mq ms mt aw mu bi"><span id="63ca" class="lp lq in mq b gy mv mw l mx my">&lt;div ref={refCallback} className="main-section"&gt;</span></pre><p id="daea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以每当我们从下拉菜单中选择任何一个主题，就会调用<code class="fe mn mo mp mq b">App.js</code>中的<code class="fe mn mo mp mq b">handleChange</code>处理程序，在这里我们用<code class="fe mn mo mp mq b">utils/themes.js</code>中匹配的主题对象来设置主题状态。</p><p id="ffa9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，如果选择红色主题，主题状态将包含来自<code class="fe mn mo mp mq b">themes.js</code>的红色对象值</p><pre class="kd ke kf kg gt mr mq ms mt aw mu bi"><span id="f94b" class="lp lq in mq b gy mv mw l mx my">{<br/> 'background-color': '#dc6868',<br/> 'color': '#a50b0b',<br/> 'font-family': "'Courier New', Courier, monospace"<br/>}</span></pre><p id="70e5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">refCallback</code>处理程序中，我们采用为特定主题定义的样式，并使用DOM的<code class="fe mn mo mp mq b">setProperty</code>方法为分配了<code class="fe mn mo mp mq b">ref</code>的节点添加样式。</p><pre class="kd ke kf kg gt mr mq ms mt aw mu bi"><span id="f054" class="lp lq in mq b gy mv mw l mx my">node.style.setProperty('css-property', 'property-value', 'important');</span></pre><p id="36be" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">第三个参数将<code class="fe mn mo mp mq b">!important</code>添加到每个属性中，因此即使我们为div定义了单独的CSS样式，应用于该div的样式也不会受到影响。</p><p id="2d1c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">src/styles.css</code>内增加以下内容</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">styles.css</figcaption></figure><p id="31d5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<code class="fe mn mo mp mq b">src/index.js</code>内添加以下内容</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">index.js</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nb"><img src="../Images/2de7dcccc336527d8a95b8c8f99cfde7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9V6u9gauWBMKiBPFMQTQg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Initial Screen</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/35f2a8e862b22b1849b9f6bf147c5b44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vDKlaZEU8KeI-6IaLP7L3w.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Red Theme</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nd"><img src="../Images/a9a7d7dc7becc0b43a17aba725db0246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MNxd5X_XYMSKE6rWjMmmPg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">White Theme</figcaption></figure><p id="d10c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以在这里<a class="ae ks" href="https://github.com/myogeshchavan97/theme-switcher" rel="noopener ugc nofollow" target="_blank">找到这篇文章的完整源代码</a>，在这里找到现场演示<a class="ae ks" href="https://theme-switcher.now.sh/" rel="noopener ugc nofollow" target="_blank"/></p><p id="6522" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">看看我最近出版的<a class="ae ks" href="https://master-redux.yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank">掌握Redux </a>课程。</p><p id="93cf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本课程中，您将构建3个应用程序以及一个点餐应用程序，您将了解:</p><ul class=""><li id="cfeb" class="ne nf in kv b kw kx kz la lc ng lg nh lk ni lo nj nk nl nm bi translated">基本和高级冗余</li><li id="dec4" class="ne nf in kv b kw nn kz no lc np lg nq lk nr lo nj nk nl nm bi translated">如何管理数组和对象的复杂状态</li><li id="7f48" class="ne nf in kv b kw nn kz no lc np lg nq lk nr lo nj nk nl nm bi translated">如何使用多个减速器管理复杂的冗余状态</li><li id="c2ce" class="ne nf in kv b kw nn kz no lc np lg nq lk nr lo nj nk nl nm bi translated">如何调试Redux应用程序</li><li id="c3a5" class="ne nf in kv b kw nn kz no lc np lg nq lk nr lo nj nk nl nm bi translated">如何在React中使用Redux使用react-redux库让你的app反应性。</li><li id="b66f" class="ne nf in kv b kw nn kz no lc np lg nq lk nr lo nj nk nl nm bi translated">如何使用redux-thunk库处理异步API调用等等</li></ul><p id="70ab" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，我们将从头开始构建一个完整的<a class="ae ks" href="https://www.youtube.com/watch?v=2zaPDfCKAvM" rel="noopener ugc nofollow" target="_blank">订餐应用</a>，集成stripe以接受支付，并将其部署到生产中。</p><p id="3de7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">别忘了订阅我的每周简讯，里面有惊人的技巧、诀窍和文章，直接在这里的收件箱</strong> <a class="ae ks" href="https://yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">中订阅。</strong>T15】</a></p></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h2 id="759d" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">进一步阅读</h2><div class="nz oa gp gr ob oc"><a href="https://bit.cloud/blog/theming-react-apps-with-styled-components-and-bit-l7epurug" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd io gy z fp oh fr fs oi fu fw im bi translated">使用风格化组件和位对React应用程序进行主题化</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">作为UI开发人员，我们经常希望将表示与交互分开，这样我们就可以应用相同的CSS…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">比特云</p></div></div><div class="ol l"><div class="om l on oo op ol oq km oc"/></div></div></a></div></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><p id="c131" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="or">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="or">plain English . io</em></strong></a><em class="or">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="or">免费周报</em> </strong> </a> <em class="or">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="or">Twitter</em></strong></a><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="or">LinkedIn</em></strong></a><em class="or"/><a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="or">YouTube</em></strong></a><em class="or"/><a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="or">不和</em> </strong> </a> <em class="or">。对增长黑客感兴趣？检查</em> <a class="ae ks" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="or">电路</em> </strong> </a> <em class="or">。</em></p></div></div>    
</body>
</html>