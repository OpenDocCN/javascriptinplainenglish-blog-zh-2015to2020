<html>
<head>
<title>Stop Writing Bad Console Logs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止写入错误的控制台日志</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/upgrade-your-javascript-debugging-with-these-tips-8eecbc1c4312?source=collection_archive---------5-----------------------#2020-12-22">https://javascript.plainenglish.io/upgrade-your-javascript-debugging-with-these-tips-8eecbc1c4312?source=collection_archive---------5-----------------------#2020-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="940b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">调试不仅仅是console.log()。就像字符串、数组和对象有方法一样，console也有！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/697cdfd0d57ccb0a2eb234bea96b8043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*by3qK5-fSPNaxOBOEdmKsA.png"/></div></div></figure><p id="44f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在JavaScript中调试任何东西的最简单的方法之一是使用<code class="fe ln lo lp lq b">console.log</code>记录东西。但是控制台提供了许多其他方法，可以帮助您更好地调试<strong class="kt ir">、更智能地调试</strong>和<strong class="kt ir">。</strong></p><p id="1ab7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们开始吧！</p><h1 id="d662" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">1.用console.log()停止这样做</h1><p id="ce0a" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">假设我们有一个名为<code class="fe ln lo lp lq b">name</code>的变量，我们希望将它记录在控制台中。我们经常发现自己写下这样的话:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="b0fc" class="ms ls iq lq b gy mt mu l mv mw">console.log('name', name)</span></pre><p id="f79e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从ES2015开始，每当我们想要注销这样的东西时，我们都可以使用对象速记符号。这意味着我们可以这样写:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="ed64" class="ms ls iq lq b gy mt mu l mv mw">console.log({name})</span></pre><p id="2ff2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将输出同样的东西。</p><h1 id="289f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">2.记录多个项目的更好方法</h1><p id="0b44" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">想象一个场景，当您有一堆需要登录到控制台的对象时。</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="204c" class="ms ls iq lq b gy mt mu l mv mw">const sunil = { name: "Sunil", member: true, id: 134323 };<br/>const ilaria = { name: "Ilaria", member: false, id: 489348};</span></pre><p id="6552" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们把<code class="fe ln lo lp lq b">console.log()</code>这些单独拿出来，就像这样:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="bb89" class="ms ls iq lq b gy mt mu l mv mw">console.log(sunil)<br/>console.log(ilaria)</span></pre><p id="b681" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将是缓慢而乏味的，并且不会在记录的数据旁边显示变量名。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/824f6e6dc99f71cb309a6b1ca826d656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*seqk9XxZLzvETawCGgnPlQ.png"/></div></div></figure><p id="2a0a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">相反，我们可以使用我们的好朋友从第一个例子！</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="2d2e" class="ms ls iq lq b gy mt mu l mv mw">console.log({sunil, ilaria})</span></pre><p id="dd94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将给我们一个更好的格式，更快的解决方案来记录多个项目，并在每个项目旁边显示变量名！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/787a2ed2d5560dbdbd52749332c4c4fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A8tJIxx2i3uLh_ggbp2krw.png"/></div></div></figure><h1 id="7f82" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">3.可以用表格的时候为什么要用线条？</h1><p id="cd11" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">我们可以更进一步，将所有这些放在一个表格中，使其更具可读性。每当你有具有共同属性的对象或对象数组时，使用<code class="fe ln lo lp lq b">console.table()</code>。这里我们可以使用<code class="fe ln lo lp lq b">console.table({ foo, bar})</code>，控制台显示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/529cd6e1d8c61540f47a4277b6356e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SDZ5ldahXOkaSJf9ZeV_ig.png"/></div></div></figure><h1 id="5d26" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">4.分组日志</h1><p id="4548" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">当你记录许多不同的事情，并且想要将相关的细节分组或嵌套在一起的时候，这是非常有用的。</p><p id="f666" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">也许您正在几个不同的函数中记录信息，并且您想要一种方法来清楚地标记信息来自哪个函数。</p><p id="1ccb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，如果您正在记录用户的详细信息:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="38d5" class="ms ls iq lq b gy mt mu l mv mw">console.group('User Details');<br/>console.log('name: Sunil Sandhu');<br/>console.log('position: Software Developer');<br/>console.groupEnd();</span><span id="66ef" class="ms ls iq lq b gy na mu l mv mw">console.group('Account');<br/>console.log('Member Type: Premium Member');<br/>console.log('Member Since: 2018');<br/>console.log('Expiry Date: 20/12/2022');<br/>console.groupEnd();</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/065947645542f5642eeafc9d1f33f212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06UZ6RQY-z32amrzXCMNuQ.png"/></div></div></figure><p id="81de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果需要，您甚至可以将组嵌套在其他组中:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="9498" class="ms ls iq lq b gy mt mu l mv mw">console.group('User Details');<br/>console.log('name: Sunil Sandhu');<br/>console.log('position: Software Developer');</span><span id="4f8e" class="ms ls iq lq b gy na mu l mv mw">console.group('Account');<br/>console.log('Member Type: Premium Member');<br/>console.log('Member Since: 2018');<br/>console.log('Expiry Date: 20/12/2022');<br/>console.groupEnd();<br/>console.groupEnd();</span><span id="6b52" class="ms ls iq lq b gy na mu l mv mw">// notice that we have two groupEnd() calls at the end as we want to nest 'Account' inside of 'User Details'</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/0eb6f3687198033b24653516535a1a44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9CMjRUFudmUcNDiz82CDUQ.png"/></div></div></figure><h1 id="0293" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">5.更好的警告</h1><p id="b6a7" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">想要增加某些被记录的信息的可见性吗？<code class="fe ln lo lp lq b">console.warn()</code>将以黄色背景显示信息:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="a82a" class="ms ls iq lq b gy mt mu l mv mw">console.warn('This function will be deprecated in the next release')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/38e0e3b8f899d289de98ed6bfba31376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7nHzzCwSumqiA0Dux9ZgzA.png"/></div></div></figure><h1 id="2a30" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">6.更好的错误记录</h1><p id="b7ac" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">也许您想更进一步，每当您收到那些可怕的红色控制台日志时，使用相同类型的日志记录。你可以这样做:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="fa5b" class="ms ls iq lq b gy mt mu l mv mw">console.error('Your code is broken, go back and fix it!')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/167f5630178f7a207a15c57f5a7a0f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3tlFNe2V1LIIUcwOYpNsQ.png"/></div></div></figure><h1 id="a10d" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">7.自定义控制台样式</h1><p id="f70a" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">带上你的CSS技能，开始在控制台中使用它们吧！</p><p id="7ac8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以使用<code class="fe ln lo lp lq b">%c</code>指令为任何日志语句添加样式。</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="ecca" class="ms ls iq lq b gy mt mu l mv mw">console.log('%c React ', <br/>            'color: white; background-color: #61dbfb', <br/>            'Have fun using React!');</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/4ddb2a87d9d7b623b333de034bedef73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zupb5xu-VNGHWv9c26_Skw.png"/></div></div></figure><h1 id="4fbe" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">8.计时你的函数的速度</h1><p id="a099" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">有没有好奇过某个特定函数的运行速度？你可以这样写:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="d1ae" class="ms ls iq lq b gy mt mu l mv mw">let i = 0;<br/>console.time("While loop");<br/>while (i &lt; 100000) {<br/>  i++;<br/>}<br/>console.timeEnd("While loop");</span><span id="f837" class="ms ls iq lq b gy na mu l mv mw">console.time("For loop");<br/>for (i = 0; i &lt; 100000; i++) {<br/>  // For Loop<br/>}<br/>console.timeEnd("For loop");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/7bab64e55d5648abed5b2c76a01d260f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2qk4P3ybye0IGidExQ6YA.png"/></div></div></figure><p id="f470" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">值得记住的是，你在这里看到的速度不是一成不变的。换句话说，它可以让你知道在那个确切的时刻两者之间哪个更快，但是其他因素也会影响它，例如它运行的计算机，当时正在执行的其他事情等等。事实上，如果我们再运行5次，我们会看到不同的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/5f3f9951d6536585da0772edf7d795a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*56t5_2PkAHtCm5fLB-31nQ.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/d0890828c92070fc5d70a9c185434c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWSb2RB_MvL7r1aX27T10Q.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/77940330107be86001fcdbbae1f42563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3G-qduApNsaAew9ReVHjA.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/80a41fc1e5e5bc991003b7bfca154eec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V3dmcv9HO8Za7-dfjbUAFg.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/5d8909b53559c2dbd2d6e08311885570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7reWfRgkQjTY5ioTZpsa0Q.png"/></div></div></figure><p id="0a18" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有趣的是，我们的for循环比while循环快5倍。</p><h1 id="7141" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">9.更好的堆栈跟踪</h1><p id="3550" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated"><code class="fe ln lo lp lq b">console.trace()</code>向控制台输出堆栈跟踪，并显示代码如何在某一点结束。当试图调试可能在许多不同地方进行调用的复杂代码时，这真的很方便。虽然下面不是“复杂代码”的例子，但它至少解释了这是如何工作的:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="d317" class="ms ls iq lq b gy mt mu l mv mw">const sunil = {name: "Sunil", member: true, id: 134323};</span><span id="2600" class="ms ls iq lq b gy na mu l mv mw">function getName(person) {<br/>    console.trace()<br/>    return person.name;<br/>}</span><span id="0b1b" class="ms ls iq lq b gy na mu l mv mw">function sayHi(person) {<br/>    let _name = getName(person)<br/>    return `Hi ${_name}`<br/>}</span></pre><p id="a040" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">console.trace()</code>将返回这个:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/57a577fec43f960401a8cb0c92196d93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WFnL69NiGnhy9EGi584mKg.png"/></div></div></figure><p id="bc75" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以点击那些蓝色的链接，它会把我们带到那个<code class="fe ln lo lp lq b">console.trace()</code>在我们的代码中被制造的时刻。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/3cbfdf314afd8142038d86ac81e143d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aYqGBVAxh9c78fF5xQZ6Qg.png"/></div></div></figure><h1 id="772b" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">我们做到了！🎉</h1><p id="433d" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">将大大改善您的控制台登录体验的9个技巧。使用控制台进行调试还有其他方法吗？我很想听听他们的故事！</p><p id="de4f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae nk" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">订阅我的YouTube频道</strong> </a> <strong class="kt ir">获取更多类似内容！</strong></p><p id="7dae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nl">最初发表于</em><a class="ae nk" href="https://sunilsandhu.com/blog/how-performant-are-arrays-and-objects-in-javascript" rel="noopener ugc nofollow" target="_blank"><em class="nl">sunilsandhu.com</em></a></p></div></div>    
</body>
</html>