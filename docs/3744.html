<html>
<head>
<title>Tinder Style Movie Night Picker with VueJs, Vuetify, VuexFire, and Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">火绒风格的电影夜采摘与VueJs，Vuetify，VuexFire，和Firebase</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/tinder-style-movie-night-picker-with-vuejs-vuetify-vuexfire-and-firebase-part-1-app-setup-4f08840eef11?source=collection_archive---------11-----------------------#2020-10-21">https://javascript.plainenglish.io/tinder-style-movie-night-picker-with-vuejs-vuetify-vuexfire-and-firebase-part-1-app-setup-4f08840eef11?source=collection_archive---------11-----------------------#2020-10-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d1d7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第1部分—应用程序设置</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d3adde4aa4d9d650d9b51c76609dc0d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2UewX_ZplVIp2QySQpTftw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by <a class="ae kv" href="https://pixabay.com/photos/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=918655" rel="noopener ugc nofollow" target="_blank">Free-Photos</a> from <a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=918655" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="4a69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">前几天，我在Twitter上看到一条有趣的推文，说应该有一个像Tinder这样的应用程序，但不是为了电影。这不是一个连接应用程序，而是为那些在看什么电影上有困难的夫妇准备的。每个人都会根据他们看电影的感觉向左或向右滑动。然后他们可以浏览比赛，找到一部令人愉快的电影。</p><p id="8164" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我认为这是一个很棒的想法，我完全可以理解。因此，在这个系列中，我们将使用<a class="ae kv" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> VueJs </a>、<a class="ae kv" href="https://vuetifyjs.com/en/" rel="noopener ugc nofollow" target="_blank"> Vuetify </a>、<a class="ae kv" href="https://github.com/vuejs/vuefire" rel="noopener ugc nofollow" target="_blank"> VueFire </a>和<a class="ae kv" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>来构建它。因为它将是一个网络应用程序，而不是滑动，我们将有拇指向上和向下按钮。那么，让我们开始吧。</p><h1 id="3d0d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Vue项目设置</h1><h2 id="d5b1" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">Vue CLI</h2><p id="3b14" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">为了创建我们的项目，我们将使用<a class="ae kv" href="https://cli.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue CLI </a>。要安装它，请打开终端并运行以下命令:</p><pre class="kg kh ki kj gt nb nc nd ne aw nf bi"><span id="bc7b" class="mk lt iq nc b gy ng nh l ni nj">npm install -g @vue/cli</span></pre><h2 id="2e9f" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">创建Vue项目</h2><p id="3f95" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">现在我们已经安装了CLI，让我们创建项目。打开终端，进入您选择的目录，并运行以下命令:</p><pre class="kg kh ki kj gt nb nc nd ne aw nf bi"><span id="3cdb" class="mk lt iq nc b gy ng nh l ni nj">vue create movie-night-picker</span></pre><p id="9c03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后选择“手动选择功能”并选择以下选项:</p><ul class=""><li id="2d07" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr np nq nr ns bi translated">巴比伦式的城市</li><li id="e6e1" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">路由器</li><li id="feec" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">Vuex</li><li id="a8d3" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">棉绒格式器</li></ul><p id="f66f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，选择以下问题:</p><ul class=""><li id="39af" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr np nq nr ns bi translated">对路由器使用历史模式？<strong class="ky ir"> Y </strong></li><li id="4e4d" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">选择短绒/格式器配置:<strong class="ky ir">ESLint+beauty</strong></li><li id="a19b" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">挑选附加皮棉特性:<strong class="ky ir">皮棉保存时</strong></li><li id="a273" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">你更喜欢把Babel，PostCSS，ESLint等的配置放在哪里？？<strong class="ky ir">在专用配置文件中</strong></li><li id="cc25" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">将此存储为未来项目的预置？<strong class="ky ir">由你决定。我选择N. </strong></li></ul><h2 id="56a9" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">添加虚拟化</h2><p id="2f3f" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">项目创建后，cd进入根目录(cd movie-night-picker)并运行以下命令，选择<strong class="ky ir">默认</strong>预置:</p><pre class="kg kh ki kj gt nb nc nd ne aw nf bi"><span id="5b18" class="mk lt iq nc b gy ng nh l ni nj">vue add vuetify</span></pre><h2 id="7f89" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">添加项目依赖关系</h2><p id="74fd" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">既然我们已经在正确的目录中，让我们安装项目依赖项。在当前终端中，运行以下命令:</p><pre class="kg kh ki kj gt nb nc nd ne aw nf bi"><span id="9149" class="mk lt iq nc b gy ng nh l ni nj">npm install vuexfire firebase axios</span></pre><h1 id="b3a5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Firebase设置</h1><p id="2570" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">为了发布我们的功能，向我们的数据库添加用户，并使用身份验证，我们将不得不建立一个Firebase项目。因此，前往<a class="ae kv" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/</a>创建一个帐户，然后点击“转到控制台”。接下来，点击“添加项目”按钮，给它起你喜欢的名字。单击其他选项，选择默认值。</p><h2 id="4dc0" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">Firestore</h2><p id="0d77" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">接下来，单击左侧菜单中的“云Firestore”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/eb472d757383bab31d864f783d2d329a.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/0*5kFX_Z7EbM4rTdSt.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Cloud Firestore</figcaption></figure><h2 id="1e85" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">云Firestore</h2><p id="49d6" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">然后，在屏幕顶部单击“创建数据库”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/437afb6eda93b8b44feec72cdd2d1ca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GYkaC6HQRbrpW1TX.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Firestore Database Creation</figcaption></figure><p id="19f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们将实现身份验证，所以选择在生产模式下启动，并选择默认的服务器位置。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/97c2375938876a18aa7e1d07a33e6ee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*c7eYT53hwH29ax9PAKTZ-w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Firestore Production Mode</figcaption></figure><h2 id="5e68" class="mk lt iq bd lu ml mm dn ly mn mo dp mc lf mp mq me lj mr ms mg ln mt mu mi mv bi translated">云Firestore规则</h2><p id="5376" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">供应Firestore后，让我们设置一些Firestore规则。为此，请单击Firestore下的规则选项卡。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/35925b7c833ef492d8abd160627c8398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1BP1Q0f-AjVSjTYT3ag7Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Firestore Rules</figcaption></figure><p id="f552" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们要添加的唯一规则是用户已经过身份验证。为此，选择所有内容和规则，并用以下内容替换:</p><pre class="kg kh ki kj gt nb nc nd ne aw nf bi"><span id="26d3" class="mk lt iq nc b gy ng nh l ni nj">rules_version = '2';<br/>service cloud.firestore {<br/>  match /databases/{database}/documents {<br/>    match /{document=**} {<br/>      allow read, write: if request.auth != null;<br/>    }<br/>  }<br/>}</span></pre><p id="9670" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将确保用户在能够读取或写入任何内容之前登录。</p><p id="dfb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="oc">警告这将允许任何经过身份验证的用户读写任何文档。</em> </strong> <em class="oc">在发布到生产之前，我建议你也做一个基于用户id的规则。请查看</em> <a class="ae kv" href="https://firebase.google.com/docs/firestore/security/get-started" rel="noopener ugc nofollow" target="_blank"> <em class="oc">他们的文档</em> </a> <em class="oc">。</em></p><h1 id="317f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">向Vue添加Firebase</h1><p id="2dc0" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">现在，在Firebase项目的主页上，您会看到一个web图标。点击它，给你的应用起一个昵称，然后点击注册按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/40b187fe8f790728d8a9dd89ff76b178.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VJ3QozUySlAxf-Rx.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Firebase Web Setup</figcaption></figure><p id="dfa3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，您将看到一些配置代码。在<script>标签里面复制一切。&lt;/root&gt;</script></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/07f60717d9f1c7c6b57bddcc1a1ea8b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AntEd_Kp8QCqHZ1N.png"/></div></div></figure><p id="367e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">回到Vue项目，在src/main.js中添加以下代码:</p><pre class="kg kh ki kj gt nb nc nd ne aw nf bi"><span id="9c55" class="mk lt iq nc b gy ng nh l ni nj">import firebase from 'firebase/app'<br/>import 'firebase/firestore'</span><span id="403b" class="mk lt iq nc b gy of nh l ni nj"><em class="oc">import</em> { firestorePlugin } <em class="oc">from</em> 'vuefire'<br/><em class="oc">Vue.use</em>(firestorePlugin)</span><span id="5d69" class="mk lt iq nc b gy of nh l ni nj">//Paste in your firebase config we copied from the last step<br/>var firebaseConfig = {  <br/>  apiKey: '&lt;your-api-key&gt;',<br/>  authDomain: '&lt;your-auth-domain&gt;',<br/>  databaseURL: '&lt;your-database-url&gt;',<br/>  projectId: '&lt;your-cloud-firestore-project&gt;',<br/>  storageBucket: '&lt;your-storage-bucket&gt;',<br/>  messagingSenderId: '&lt;your-sender-id&gt;',<br/>  appId: '&lt;your-app-id&gt;',<br/>  measurementId: '&lt;your-measurement-id&gt;'<br/>};</span><span id="423e" class="mk lt iq nc b gy of nh l ni nj"><em class="oc">firebase.initializeApp</em>(firebaseConfig);</span><span id="136d" class="mk lt iq nc b gy of nh l ni nj"><em class="oc">export </em>const<em class="oc"> db </em>=<em class="oc"> firebase.firestore</em>();</span><span id="4d10" class="mk lt iq nc b gy of nh l ni nj">// Export types that exists in Firestore<br/>// This is not always necessary, but it's used in other examples<br/>const { Timestamp, GeoPoint } = firebase.firestore<br/>export { Timestamp, GeoPoint }</span></pre><h1 id="3853" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">项目清理</h1><p id="1ead" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">现在Firebase已经添加到Vue项目中，我们只需要在开始编码之前做一些项目清理工作。在src/App.vue中，我们将使用Vuetify添加的<em class="oc"> &lt; v-app-bar &gt; </em>，将其移动到自己的组件中，并删除其中的所有内容，并添加一个带有我们的应用标题的h2。</p><p id="b685" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在components文件夹中创建一个名为“ui”的新文件夹。然后，在名为AppBar.vue的文件夹中创建一个文件，将AppBar复制并粘贴到该文件中，并将<em class="oc"> &lt; v-app-bar &gt; </em>中的所有内容替换为标题为“电影夜摘者”的h2。您的文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">AppBar.vue</figcaption></figure><p id="78ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在App.vue内部，导入AppBar.vue文件，将其注册为组件，并将其添加到模板中。然后，删除HelloWorld组件并删除它在src/components/HelloWorld.vue中的文件。</p><p id="82de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后在App.vue模板中的<em class="oc"> &lt; v-main &gt; </em>标签内添加一个<em class="oc"> &lt; v-container &gt; </em>标签。然后在<em class="oc"> &lt; v容器&gt; </em>标签内添加<em class="oc"> &lt;路由器-视图&gt; </em>标签。v-container标签将在页面两侧增加一些空白，而router-view标签是显示路由器组件的地方。</p><p id="b62e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的App.vue文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">App.vue</figcaption></figure><p id="05e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以做的最后一件事是删除位于src/views/About.vue中的About.vue文件。这应该结束了我们项目的清理工作，我们可以开始编写我们应用程序的功能了。</p><h1 id="4289" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">视频教程</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oi oh l"/></div></figure><h1 id="db1e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="7212" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">概括地说，我们创建了我们的Vue项目，添加了Vuetify，添加了Firebase，并做了一些清理工作。现在我们可以开始编写电影《夜盗》的功能了。在<a class="ae kv" href="https://medium.com/javascript-in-plain-english/tinder-style-movie-night-picker-with-vuejs-vuetify-vuefire-and-firebase-part-2-authentication-6969c27cdad0" rel="noopener">第2部分</a>中，我们将关注使用Firebase Auth设置认证。</p></div></div>    
</body>
</html>