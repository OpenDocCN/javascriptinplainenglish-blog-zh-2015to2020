<html>
<head>
<title>Simple Async Search Bar with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有JavaScript的简单异步搜索栏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/simple-async-search-bar-with-javascript-13652c90485e?source=collection_archive---------1-----------------------#2019-11-02">https://javascript.plainenglish.io/simple-async-search-bar-with-javascript-13652c90485e?source=collection_archive---------1-----------------------#2019-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3e8980d5f7ffc46aa9c532177b04cc4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HXXhRaGckbNiHO8z.jpg"/></div></div></figure><p id="09e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个如何建立搜索栏的快速指南。我将使用50个州的列表，作为一个例子，呈现为一个无序列表。但是，通过更改变量和标签，您可以对应用程序的任何内容或任何部分使用相同的搜索。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kw"><img src="../Images/3c9864561cc7fba5c5f11b98fa6107c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6U6-qxwhkTtGSUs4.gif"/></div></div></figure><p id="a385" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先看一下样本HTML。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="3740" class="lg lh iq lc b gy li lj l lk ll">&lt;ul id="stateList"&gt;<br/>  &lt;li&gt;Alabama&lt;/li&gt;<br/>  &lt;li&gt;Alaska&lt;/li&gt;<br/>  &lt;li&gt;Arizona&lt;/li&gt;<br/>  &lt;li&gt;Arkansas&lt;/li&gt;<br/>  &lt;li&gt;California&lt;/li&gt;<br/>  &lt;li&gt;Colorado&lt;/li&gt;<br/>  &lt;li&gt;Connecticut&lt;/li&gt;<br/>  &lt;li&gt;Delaware&lt;/li&gt;<br/>  &lt;li&gt;Florida&lt;/li&gt;<br/>  &lt;li&gt;Georgia&lt;/li&gt;<br/>  &lt;li&gt;Hawaii&lt;/li&gt;<br/>  &lt;li&gt;Idaho&lt;/li&gt;<br/>  &lt;li&gt;Illinois&lt;/li&gt;<br/>  &lt;li&gt;Indiana&lt;/li&gt;<br/>  &lt;li&gt;Iowa&lt;/li&gt;<br/>  &lt;li&gt;Kansas&lt;/li&gt;<br/>  &lt;li&gt;Kentucky&lt;/li&gt;<br/>  &lt;li&gt;Louisiana&lt;/li&gt;<br/>  &lt;li&gt;Maine&lt;/li&gt;<br/>  &lt;li&gt;Maryland&lt;/li&gt;<br/>  &lt;li&gt;Massachusetts&lt;/li&gt;<br/>  &lt;li&gt;Michigan&lt;/li&gt;<br/>  &lt;li&gt;Minnesota&lt;/li&gt;<br/>  &lt;li&gt;Mississippi&lt;/li&gt;<br/>  &lt;li&gt;Missouri&lt;/li&gt;<br/>  &lt;li&gt;Montana&lt;/li&gt;<br/>  &lt;li&gt;Nebraska&lt;/li&gt;<br/>  &lt;li&gt;Nevada&lt;/li&gt;<br/>  &lt;li&gt;New Hampshire&lt;/li&gt;<br/>  &lt;li&gt;New Jersey&lt;/li&gt;<br/>  &lt;li&gt;New Mexico&lt;/li&gt;<br/>  &lt;li&gt;New York&lt;/li&gt;<br/>  &lt;li&gt;North Carolina&lt;/li&gt;<br/>  &lt;li&gt;North Dakota&lt;/li&gt;<br/>  &lt;li&gt;Ohio&lt;/li&gt;<br/>  &lt;li&gt;Oklahoma&lt;/li&gt;<br/>  &lt;li&gt;Oregon&lt;/li&gt;<br/>  &lt;li&gt;Pennsylvania&lt;/li&gt;<br/>  &lt;li&gt;Rhode Island&lt;/li&gt;<br/>  &lt;li&gt;South Carolina&lt;/li&gt;<br/>  &lt;li&gt;South Dakota&lt;/li&gt;<br/>  &lt;li&gt;Tennessee&lt;/li&gt;<br/>  &lt;li&gt;Texas&lt;/li&gt;<br/>  &lt;li&gt;Utah&lt;/li&gt;<br/>  &lt;li&gt;Vermont&lt;/li&gt;<br/>  &lt;li&gt;Virginia&lt;/li&gt;<br/>  &lt;li&gt;Washington&lt;/li&gt;<br/>  &lt;li&gt;West Virginia&lt;/li&gt;<br/>  &lt;li&gt;Wisconsin&lt;/li&gt;<br/>  &lt;li&gt;Wyoming&lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="3579" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为搜索栏添加的第一件事是…搜索栏。</p><p id="c0fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lm ln lo lc b">&lt;input type="text" placeholder="Search"&gt;</code></p><p id="5c7b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要给它添加一个id，这样我们就可以用JavaScript来识别它。</p><p id="71ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lm ln lo lc b">&lt;input type="text" id="myInput" placeholder="Search"&gt;</code></p><p id="0e02" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还需要添加一个事件监听器，并调用我们的JavaScript函数(即将推出！)有几个是可行的——我将使用onKeyUp，它在用户键入一些内容后被触发。</p><p id="31e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lm ln lo lc b">&lt;input type="text" id="myInput" onkeyup="mySearchFunction()" placeholder="Search"&gt;</code></p><p id="8707" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们把JavaScript放在一起。在我们搜索栏的HTML中，调用了一个函数——让我们来构建它。为了让它运行起来，下面是编写代码的步骤:</p><ol class=""><li id="24e6" class="lp lq iq ka b kb kc kf kg kj lr kn ls kr lt kv lu lv lw lx bi translated">声明变量、用户输入(在搜索框中输入的内容、过滤器(因此我们可以忽略大小写)、列表、列表中的每一项。</li><li id="f233" class="lp lq iq ka b kb ly kf lz kj ma kn mb kr mc kv lu lv lw lx bi translated">像对待数组一样对待我们的列表——使用索引遍历每个条目，将内部文本或内部html与输入进行比较。</li><li id="20ec" class="lp lq iq ka b kb ly kf lz kj ma kn mb kr mc kv lu lv lw lx bi translated">显示匹配的列表项，如果不匹配，则不显示任何内容。</li></ol><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a7ed" class="lg lh iq lc b gy li lj l lk ll">function mySearchFunction() {<br/>  var input, filter, ul, li, item, i, txtValue;<br/>  input = document.getElementById("myInput");<br/>  filter = input.value.toUpperCase();<br/>  ul = document.getElementById("stateList");<br/>  li = ul.getElementsByTagName("li");  for (i = 0; i &lt; li.length; i++) {<br/>    item = li[i];<br/>    txtValue = item.textContent || item.innerText;<br/>    if (txtValue.toUpperCase().indexOf(filter) &gt; -1) {<br/>      li[i].style.display = "";<br/>    } else {<br/>      li[i].style.display = "none";<br/>    }<br/>  }<br/>}</span></pre><p id="3e8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一个<a class="ae md" href="https://codepen.io/rachelhawa/pen/vYBjQMY" rel="noopener ugc nofollow" target="_blank">代码笔</a>来看看这是怎么回事。</p></div></div>    
</body>
</html>