<html>
<head>
<title>How to Create a JavaScript Network Graph</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建JavaScript网络图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-javascript-network-graph-b40e6f10928c?source=collection_archive---------2-----------------------#2020-07-22">https://javascript.plainenglish.io/how-to-create-javascript-network-graph-b40e6f10928c?source=collection_archive---------2-----------------------#2020-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a7e276e39faec98c7cec6ca99f4d79c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NeXi5QNOPoXb9OsnZ9bTTg.png"/></div></div></figure><p id="23b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://www.anychart.com/chartopedia/chart-type/network-graph/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">网络图</strong> </a>是一种特殊的、非常有趣的数据可视化形式。与更传统的图表类型如<a class="ae kw" href="https://www.anychart.com/chartopedia/chart-type/bar-chart/" rel="noopener ugc nofollow" target="_blank">条形图</a>或<a class="ae kw" href="https://www.anychart.com/chartopedia/chart-type/pie-chart/" rel="noopener ugc nofollow" target="_blank">饼图</a>不同，网络图不仅仅是可视化数字数据。在这些图表中，您将每个对象表示为一个点，称为节点，将对象之间的连接表示为一条线，称为链接或边。在这里，我们不关注用我们通常习惯的精度来表示对象。相反，我们试图发现网络或网络部分中的关系，而不太担心单个节点。</p><p id="2a11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我将通过<strong class="ka ir">指导你如何使用JavaScript </strong> (HTML5)开发一个交互式网络图。受本·苏林斯创作的一个有趣的可视化作品<a class="ae kw" href="https://bensullins.com/every-game-thrones-battle-visualized/" rel="noopener ugc nofollow" target="_blank">的启发，我决定收集过去十年最大的电视连续剧</a><a class="ae kw" href="https://en.wikipedia.org/wiki/Game_of_Thrones" rel="noopener ugc nofollow" target="_blank">权力的游戏</a>的数据。这是一个史诗般的幻想故事，围绕着各种派系似的房子。所以在本教程中，我将<strong class="ka ir">通过展示谁攻击了谁来可视化《权力的游戏》世界中的关系</strong>。跟着我，这将是一次很酷的冒险！</p><h1 id="ff33" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">要制作的网络图</h1><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/a04dfb6dbb273a4d54c119873e09df75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZYPNmIa2ChUP_WHj.gif"/></div></div></figure><h1 id="8d64" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">从头开始构建JS网络图</h1><p id="d4fe" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">基本上，要构建一个基于JS的网络图，我们需要遵循与任何JavaScript图表相同的四个步骤:</p><ul class=""><li id="39bd" class="mf mg iq ka b kb kc kf kg kj mh kn mi kr mj kv mk ml mm mn bi translated">创建一个HTML页面。</li><li id="19ea" class="mf mg iq ka b kb mo kf mp kj mq kn mr kr ms kv mk ml mm mn bi translated">添加必要的脚本。</li><li id="ab56" class="mf mg iq ka b kb mo kf mp kj mq kn mr kr ms kv mk ml mm mn bi translated">加载将被可视化的数据。</li><li id="88f8" class="mf mg iq ka b kb mo kf mp kj mq kn mr kr ms kv mk ml mm mn bi translated">画图表。</li></ul><h2 id="5b9f" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">1.创建HTML页面</h2><p id="c79a" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">构建网络图的第一步是建立一个HTML页面。这包括为图表创建一个基本的HTML模板，以及添加必要的CSS规则。</p><p id="a5b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里我们还为HTML页面添加了一个标题，并创建了一个div来包含图表。</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="1cd2" class="mt ky iq ng b gy nk nl l nm nn">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Network Graph&lt;/title&gt;<br/>    &lt;style&gt;<br/>      html, body, #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="ng ir"><em class="no">      // The chart code goes here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="f649" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我已经设置了CSS来使容器div填充整个页面。当然，您可能希望根据您的用例来改变这一点。</p><h2 id="bb98" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">2.添加必要的脚本</h2><p id="f36f" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">第二步是添加所有必要的脚本。我们将使用<a class="ae kw" href="https://www.anychart.com" rel="noopener ugc nofollow" target="_blank"> AnyChart JS Charts </a>，这是一个非常易于使用且功能强大的JavaScript图表库。我个人非常喜欢AnyChart，因为它对初学者和专业人士都非常有用。它可以让您快速地构建数据可视化的原型，并真正有助于加快整个开发过程。</p><p id="a6c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了充分利用AnyChart库，我们需要添加其专用的<a class="ae kw" href="https://docs.anychart.com/Quick_Start/Modules" rel="noopener ugc nofollow" target="_blank">模块</a>。在本教程中，我们将使用其中的三个。绘制我们的网络图需要核心和图形模块，数据适配器模块将帮助我们导入《权力的游戏》的JSON数据(稍后将详细介绍)。</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="4f64" class="mt ky iq ng b gy nk nl l nm nn">&lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;</span><span id="4b6f" class="mt ky iq ng b gy np nl l nm nn">&lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-graph.min.js"&gt;&lt;/script&gt;</span><span id="e8a0" class="mt ky iq ng b gy np nl l nm nn">&lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;</span></pre><p id="d59b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将这些脚本添加到代码的开头。</p><h2 id="0f8a" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">3.加载我们将要可视化的数据</h2><p id="9a0d" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">如前所述，我们将使用的数据基于《权力的游戏》。我发现了一个很棒的数据集，<a class="ae kw" href="https://github.com/chrisalbon/war_of_the_five_kings_dataset" rel="noopener ugc nofollow" target="_blank">五王之战</a>。数据最初来源于<a class="ae kw" href="http://awoiaf.westeros.org/index.php/War_of_the_Five_Kings" rel="noopener ugc nofollow" target="_blank">一个火与冰的维基</a>，一个致力于《权力的游戏》的维基。然后，维基媒体基金会机器学习主任、数据科学家克里斯·阿尔邦(Chris Albon)对其进行了清理。为了这个JS网络图教程，我自己做了进一步的处理；你可以在JSON的这里找到结果<a class="ae kw" href="https://static.anychart.com/git-storage/word-press/data/network-graph-tutorial/data.json" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="cf24" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">事实是，AnyChart希望您的网络图数据采用特定的格式。它需要一个包含节点数组和边数组的JSON对象。每个节点都需要一个“id”。边需要一个“从”和“到”，分别是每个连接的源和目标。</p><p id="3e20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">像这样:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="39ae" class="mt ky iq ng b gy nk nl l nm nn">nodes: [{ "id": "Lannister" }]<br/>edges: [{ "from": "Lannister", "to": "Tully" }]</span></pre><p id="581a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们需要导入我们的数据。为JavaScript数据可视化加载数据有时会很痛苦。但是使用AnyChart，<a class="ae kw" href="https://docs.anychart.com/Working_with_Data/Overview" rel="noopener ugc nofollow" target="_blank">处理数据</a>真的非常简单。利用正确的函数，您可以轻松导入CSV、JSON、XML，甚至Google电子表格！</p><p id="be07" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里，我们的数据是JSON格式的，所以我们需要下面的函数:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="6929" class="mt ky iq ng b gy nk nl l nm nn">anychart.data.loadJsonFile('https://static.anychart.com/git-storage/word-press/data/network-graph-tutorial/data.json', function (data) {<br/><strong class="ng ir"><em class="no">  // The chart code goes here.<br/></em></strong>})</span></pre><p id="766a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我们希望只有在数据成功加载后才绘制图表，所以我们将在这个函数中放置绘制图表的代码。</p><h2 id="b06f" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">4.绘制图表</h2><p id="fe0e" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">第四步也是最后一步是绘制图表。在这里，我们命令从我们的数据创建一个图表，设置图表标题，然后使用这些非常简单的函数可视化我们的图形:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="432f" class="mt ky iq ng b gy nk nl l nm nn"><strong class="ng ir"><em class="no">// create a chart from the loaded data<br/></em></strong>var chart = anychart.graph(data);</span><span id="bac9" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">// set the title<br/></em></strong>chart.title("Network Graph showing the battles in Game of Thrones");</span><span id="9175" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">// draw the chart</em></strong><em class="no"><br/></em>chart.container("container").draw();</span></pre><p id="c6cb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就是结果:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/e8b5e0e114f54307ee5e93e3037ca6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PEaT4WuvISF9t_06kubq1w.png"/></div></div></figure><blockquote class="nr ns nt"><p id="0168" class="jy jz no ka b kb kc kd ke kf kg kh ki nu kk kl km nv ko kp kq nw ks kt ku kv ij bi translated">在<a class="ae kw" href="https://playground.anychart.com/GyGRrCsT" rel="noopener ugc nofollow" target="_blank"> AnyChart Playground </a>或<a class="ae kw" href="https://codepen.io/waydeherman/pen/vYLJygE" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上查看这个带有完整HTML/CSS/JS代码的网络图示例。</p></blockquote><p id="86d1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">也许没有我们基于D3.js的灵感在美学上给人留下深刻印象，但我们稍后会谈到这一点。花些时间悬停在节点上，或许可以拖动它们。有多神奇？通过这四个简单的步骤和几行JavaScript代码，我们创建了这个相当强大的交互式网络图。</p><p id="98b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完整代码如下，查看一下:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="e62b" class="mt ky iq ng b gy nk nl l nm nn">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-graph.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html, body, #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/>      anychart.onDocumentReady(function () {<br/>        anychart.data.loadJsonFile("https://static.anychart.com/git-storage/word-press/data/network-graph-tutorial/data.json", function (data) {<br/><strong class="ng ir"><em class="no">          // create a chart from the loaded data<br/></em></strong>          var chart = anychart.graph(data);<br/><strong class="ng ir"><em class="no">          // set the title<br/></em></strong>          chart.title("Network Graph showing the battles in Game of Thrones");<br/><strong class="ng ir"><em class="no">          // draw the chart<br/></em></strong>          chart.container("container").draw();<br/>        });<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="a655" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">自定义网络图外观</h1><p id="016f" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">尽管我们目前的设想令人印象深刻，但我们可以做得更好。好多了。所有像样的JS图表库都允许您使用它们的API定制您构建的图表。作为数据可视化开发人员，利用这些定制来更好地讲述您的数据故事是一项关键技能。有些定制是美学上的，比如改变元素的大小或颜色，有些是功能上的，比如改变工具提示。</p><p id="0f62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面，我将演示一些可用于网络图的定制技术。</p><h2 id="9dd0" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">更改迭代步骤</h2><p id="c36e" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">网络图是用一种反复尝试改进其布局的算法绘制的。随着每次迭代，该算法根据误差度量进一步优化一个步骤。这意味着迭代次数越多越好。然而，有时算法对优化布局的想法和你(以及你的用户)对优化布局的想法可能会有很大的不同。通过改变迭代次数，我们可以得到适合我们需要的不同布局。</p><p id="b7ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">添加下面的代码，你会看到如果你只使用10次迭代会发生什么，默认是500次。</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="1e04" class="mt ky iq ng b gy nk nl l nm nn"><strong class="ng ir"><em class="no">// set the iteration step<br/></em></strong>chart.layout().iterationCount(10);</span></pre><p id="4cdd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这只是一个简单的演示。让我们跳过这个变化，看看如何做一些关于JS网络图可视化的有趣的事情。</p><h2 id="6e8c" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">自定义节点(基本):</h2><p id="327f" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">我们可以自定义每个节点的大小、填充和笔画，并为每个状态设置不同的规则。我所说的状态是指默认节点、悬停节点或选定节点。JavaScript网络图中的颜色可以像设置CSS颜色一样设置，这里我们将使用十六进制代码。</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="43c7" class="mt ky iq ng b gy nk nl l nm nn"><strong class="ng ir"><em class="no">// set the size of nodes<br/></em></strong>nodes.normal().height(30);<br/>nodes.hovered().height(45);<br/>nodes.selected().height(45);</span><span id="dcc1" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">// set the fill of nodes<br/></em></strong>nodes.normal().fill("#ffa000");<br/>nodes.hovered().fill("white");<br/>nodes.selected().fill("#ffa000");<br/> <br/><strong class="ng ir"><em class="no">// set the stroke of nodes<br/></em></strong>nodes.normal().stroke(null);<br/>nodes.hovered().stroke("#333333", 3);<br/>nodes.selected().stroke("#333333", 3);</span></pre><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/5bfe45893551b3a65c56de4c00011101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_QoMJHOpeHLVwa-ViX-Ig.png"/></div></div></figure><blockquote class="nr ns nt"><p id="5f89" class="jy jz no ka b kb kc kd ke kf kg kh ki nu kk kl km nv ko kp kq nw ks kt ku kv ij bi translated">在<a class="ae kw" href="https://playground.anychart.com/YySiLKVy/" rel="noopener ugc nofollow" target="_blank"> AnyChart Playground </a>或<a class="ae kw" href="https://codepen.io/waydeherman/pen/qBbVOVE" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上查看这个带有完整HTML/CSS/JS代码的网络图示例。</p></blockquote><h2 id="31c2" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">自定义节点(高级):</h2><p id="dc7a" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">就我个人而言，我最喜欢的网络图美学变化是用图像代替节点图标。在这里，我们可以用图像替换维斯特洛的大房子(我们的节点)。在我们的JSON中，通过将图像的文件路径添加到每个节点的对象中，可以很容易地做到这一点。例如:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="c99b" class="mt ky iq ng b gy nk nl l nm nn">{id: "Example",<br/>  fill: {<br/>    src: "example_url"<br/>  }<br/>},</span></pre><p id="4c41" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我已经做了这个修改，更新后的文件可以在<a class="ae kw" href="https://static.anychart.com/git-storage/word-press/data/network-graph-tutorial/data_images.json" rel="noopener ugc nofollow" target="_blank">这里</a>找到。通过使用包含图像的JSON，我们得到了下图:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/08cffea1d1f0dca31318417c6a5422d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bUdLne5LQRFkvOjUaAbzDw.png"/></div></div></figure><blockquote class="nr ns nt"><p id="7ab8" class="jy jz no ka b kb kc kd ke kf kg kh ki nu kk kl km nv ko kp kq nw ks kt ku kv ij bi translated">在<a class="ae kw" href="https://playground.anychart.com/y209YF9m/" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>或<a class="ae kw" href="https://codepen.io/waydeherman/pen/xxZPwpx" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上看到这个带有完整HTML/CSS/JS代码的网络图示例。</p></blockquote><p id="da2c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">多酷啊。这比以前吸引人多了。</p><h2 id="2b08" class="mt ky iq bd kz mu mv dn ld mw mx dp lh kj my mz ll kn na nb lp kr nc nd lt ne bi translated">节点标签</h2><p id="fe48" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">不是所有人都知道每个房子的横幅，并且必须悬停在每个节点上以查看它属于哪个节点会非常痛苦。为了解决这个问题，我们可以标记每个节点。这可以通过下面的代码轻松完成:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="391f" class="mt ky iq ng b gy nk nl l nm nn"><strong class="ng ir"><em class="no">// enable the labels of nodes<br/></em></strong>chart.nodes().labels().enabled(true);<br/> <br/><strong class="ng ir"><em class="no">// configure the labels of nodes<br/></em></strong>chart.nodes().labels().format("{%id}");<br/>chart.nodes().labels().fontSize(12);<br/>chart.nodes().labels().fontWeight(600);</span></pre><p id="f44b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这导致了:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/1f499a6bcce8d999c1c556c41179fbfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KdPwRXE0g_WpFgz0kosofQ.png"/></div></div></figure><blockquote class="nr ns nt"><p id="c904" class="jy jz no ka b kb kc kd ke kf kg kh ki nu kk kl km nv ko kp kq nw ks kt ku kv ij bi translated">在<a class="ae kw" href="https://playground.anychart.com/Bm0Yttoh/" rel="noopener ugc nofollow" target="_blank"> AnyChart Playground </a>或<a class="ae kw" href="https://codepen.io/waydeherman/pen/NWxwGyY" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上查看这个带有完整HTML/CSS/JS代码的网络图示例。</p></blockquote><p id="4ace" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了方便起见，下面是这个(本教程的最终版本)交互式JavaScript网络图的完整代码，它可视化了关于《权力的游戏》战斗的数据:</p><pre class="lw lx ly lz gt nf ng nh ni aw nj bi"><span id="d18d" class="mt ky iq ng b gy nk nl l nm nn">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-graph.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html, body, #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="c00a" class="mt ky iq ng b gy np nl l nm nn">anychart.onDocumentReady(function () {<br/>  anychart.data.loadJsonFile("https://static.anychart.com/git-storage/word-press/data/network-graph-tutorial/data_images.json", function (data) {</span><span id="8911" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // create a chart from the loaded data<br/>    </em></strong>var chart = anychart.graph(data);</span><span id="f535" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // set the title<br/>    </em></strong>chart.title("Network Graph showing the battles in Game of Thrones");</span><span id="3141" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // access nodes<br/>    </em></strong>var nodes = chart.nodes();</span><span id="351e" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // set the size of nodes<br/>    </em></strong>nodes.normal().height(30);<br/>    nodes.hovered().height(45);<br/>    nodes.selected().height(45);</span><span id="ddcb" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // set the stroke of nodes</em></strong><br/>    nodes.normal().stroke(null);<br/>    nodes.hovered().stroke("#333333", 3);<br/>    nodes.selected().stroke("#333333", 3);</span><span id="bb32" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // enable the labels of nodes<br/>    </em></strong>chart.nodes().labels().enabled(true);</span><span id="59f6" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // configure the labels of nodes<br/>    </em></strong>chart.nodes().labels().format("{%id}");<br/>    chart.nodes().labels().fontSize(12);<br/>    chart.nodes().labels().fontWeight(600);</span><span id="459f" class="mt ky iq ng b gy np nl l nm nn"><strong class="ng ir"><em class="no">    // draw the chart<br/>    </em></strong>chart.container("container").draw();</span><span id="4c7d" class="mt ky iq ng b gy np nl l nm nn">  });<br/>});</span><span id="1580" class="mt ky iq ng b gy np nl l nm nn">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="0b0c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="6615" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">就像这样，我们有一个很棒的可视化工具来解开这个网络中的复杂关系。在本教程中，我已经展示了建立和运行JS网络图是多么的快速和简单，以及我们如何再多一点点努力，通过一些选择上的调整，让我们的图表变得生动起来。</p><p id="efa1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">老实说，你可以做出更多的改变。访问<a class="ae kw" href="https://www.anychart.com/products/anychart/gallery/Network_Graph/" rel="noopener ugc nofollow" target="_blank">网络图图库</a>获取更多灵感，同时查看这份内容丰富的<a class="ae kw" href="https://docs.anychart.com/Basic_Charts/Network_Graph" rel="noopener ugc nofollow" target="_blank">网络图文档</a>并在<a class="ae kw" href="https://docs.anychart.com" rel="noopener ugc nofollow" target="_blank"> AnyChart文档</a>中寻找关于如何进一步改进该图表以及如何实施的想法。</p><p id="8e82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果这个教程激起了你对基于该剧的图表的兴趣，看看这个令人敬畏的《权力的游戏》32个数据可视化列表。</p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><p id="0d8b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="no">原载于2020年7月22日</em><a class="ae kw" href="https://www.anychart.com/blog/2020/07/22/network-graph-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="no">【https://www.anychart.com】</em></a><em class="no">。作者韦德·赫尔曼。</em></p><h1 id="348b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">简单英语的JavaScript</h1><p id="6f30" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="ka ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>