<html>
<head>
<title>Algorithms 101: Find the Difference between Two Arrays in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">算法101:找出JavaScript中两个数组的区别</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/algorithms-101-find-the-difference-between-two-arrays-in-javascript-c19f12dee103?source=collection_archive---------1-----------------------#2019-11-20">https://javascript.plainenglish.io/algorithms-101-find-the-difference-between-two-arrays-in-javascript-c19f12dee103?source=collection_archive---------1-----------------------#2019-11-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8961" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">诺布。算法#23，一个定制的，快速的方法来找出两个数组的不同</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/56937e786efc87eedb65b48625a217d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*PLT3-86yDAs3vXlgsBOsjg.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">difference between two arrays in red, image from Wikipedia</figcaption></figure><p id="66d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">今天来自LeetCode的挑战是<a class="ae ln" href="https://leetcode.com/problems/find-all-numbers-disappeared-in-an-array/" rel="noopener ugc nofollow" target="_blank">找到数组中所有消失的数字。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lo"><img src="../Images/6606eb294369352a2446565239826a1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMIW4xySK4OlK4aLulrfAQ.png"/></div></div></figure><h1 id="c4e0" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">强力</h1><p id="ca8a" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">我们的输入包括一个带有缺失数字的实际数组。我们希望将该数组与相同长度的数组进行比较，其中没有遗漏数字。所以如果给我们<code class="fe mq mr ms mt b">[4,3,2,7,8,2,3,1]</code>，我们想比较它<code class="fe mq mr ms mt b">[1,2,3,4,5,6,7,8].</code></p><p id="9c4f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">进行比较的一种方法是生成没有遗漏数字的数组。我们可以用Array.keys来做这件事(这里是<a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/keys" rel="noopener ugc nofollow" target="_blank"> MDN文档</a>)。</p><p id="2d16" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是如何工作的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mu"><img src="../Images/b1e42e79da2937925dcdbfad7c4dc66a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rG18ft4wtstO4gMR7l3IQ.png"/></div></div></figure><p id="2881" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意你可以使用<strong class="kt ir">。slice(index) </strong>返回从作为参数传入的索引开始的所有元素。</p><p id="14cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的代码中，我们可以像这样使用这些概念:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mv"><img src="../Images/b2e4eccb248cd798ef935f7447e5d4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hHypkQsPUYKID8-ThYi84w.png"/></div></div></figure><p id="13d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们可以使用JavaScript的。filter()比较两者:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mw"><img src="../Images/68959f02dda0fee1fe01d49d33238ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eh_jCMKinlwtpt5n-z21tw.png"/></div></div></figure><p id="f04b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在第3行，我们要求返回所有Nums中那些不包含在nums中的数字的值。</p><p id="1fec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这种方法可行，但速度很慢。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi my"><img src="../Images/a384fbe82f4a67631c516ac97c3253db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7EOBHYdMEs2bhNwSNjExwg.png"/></div></div></figure><p id="0e2b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">交换出去。includes的indexOf()没有太大的区别:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mz"><img src="../Images/497c939ec0dae39b8c8c2ff73db04901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zI5N2tiwCEbbJVbk0GZgjg.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi na"><img src="../Images/16a0576bda93528d82286eaa38db1b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GhxOi2dGhxYZ2Mqia3Xl_Q.png"/></div></div></figure><h1 id="6711" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">我们需要一种新的方法！</h1><p id="0b98" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">LeetCode上有上百万种解决方案——我一直在寻找一种对像我这样的新手来说既高效又容易理解的解决方案。我发现一个很棒的是LeetCode的<a class="ae ln" href="https://leetcode.com/ashotovich1990" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mx">ashotovich 1990</em></strong></a><strong class="kt ir"><em class="mx">。</em> </strong></p><p id="a83f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">先解释概念最简单。然后我们将继续构建代码。他是这样解决问题的:</p><h2 id="3365" class="nb lu iq bd lv nc nd dn lz ne nf dp md la ng nh mf le ni nj mh li nk nl mj nm bi translated"><strong class="ak">设置</strong></h2><p id="ef58" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">建立一个长度正确的比较数组，其中所有的值都是假的。如果你的输入是<code class="fe mq mr ms mt b">[1,2,2]</code>，你的比较数组将是<code class="fe mq mr ms mt b">[false, false, false]</code>。</p><h2 id="89cd" class="nb lu iq bd lv nc nd dn lz ne nf dp md la ng nh mf le ni nj mh li nk nl mj nm bi translated"><strong class="ak">第一循环</strong></h2><p id="4bac" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">遍历输入数组，修改比较数组，如下所示(后面会解释)。</p><pre class="kg kh ki kj gt nn mt no np aw nq bi"><span id="fd06" class="nb lu iq mt b gy nr ns l nt nu">input array:                               [  1  ,   2   ,   2   ]</span><span id="d37a" class="nb lu iq mt b gy nv ns l nt nu">comparison array before loop:              [false, false , false ]</span><span id="e115" class="nb lu iq mt b gy nv ns l nt nu">comparison array after loop:               [ true , true , false ]</span></pre><h2 id="85e5" class="nb lu iq bd lv nc nd dn lz ne nf dp md la ng nh mf le ni nj mh li nk nl mj nm bi translated"><strong class="ak">第二循环</strong></h2><p id="9ac3" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">遍历修改后的比较数组。当你找到<code class="fe mq mr ms mt b">false</code>时，抓取它的索引并加1来确定缺少的数字的值。</p><pre class="kg kh ki kj gt nn mt no np aw nq bi"><span id="ae9c" class="nb lu iq mt b gy nr ns l nt nu">comparison array after loop:               [ true , true , false ]</span><span id="5fc7" class="nb lu iq mt b gy nv ns l nt nu">indices =&gt;                                     0   ,   1  ,   2</span><span id="427a" class="nb lu iq mt b gy nv ns l nt nu">missing number = index of false + 1                           3</span></pre><p id="04fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，将每个缺失的数字推入一个响应数组并返回响应。</p><h1 id="ca5a" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">构建我们的解决方案</h1><p id="73d1" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">首先，让我们建立一个名为<code class="fe mq mr ms mt b">missing</code>的空数组。我们将用它来收集我们丢失的号码。(Noobs:你会经常看到这个名为<code class="fe mq mr ms mt b">res</code>的数组，是<code class="fe mq mr ms mt b">response</code>的简称。我更喜欢用更有语义的名字)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nw"><img src="../Images/6c1ebbcc57eb97a62d95e1d61512e195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EljdolZZ8BHv3onUB-o-vw.png"/></div></div></figure><h2 id="c9c9" class="nb lu iq bd lv nc nd dn lz ne nf dp md la ng nh mf le ni nj mh li nk nl mj nm bi translated">步骤1，设置比较数组</h2><p id="64b9" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">让我们使用JavaScript的<strong class="kt ir">来设置我们的比较数组。fill() </strong>。下面是设置新阵列的工作原理。(也可以用它来覆盖现有数组的值。<a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill" rel="noopener ugc nofollow" target="_blank"> MDN文档此处</a>)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nx"><img src="../Images/1c44bd8f017f1c20fe763447f54f0cc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ya_lVKqWjjZ6lEdLHxvbNg.png"/></div></div></figure><p id="67e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下面的代码中，我们将比较数组保存为<code class="fe mq mr ms mt b">seen</code>。我们开始时将所有的值都设置为false，以表明我们还没有从输入数组中“看到”任何数字。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi ny"><img src="../Images/f799403a88e5e59c6c3cb41d205bae31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f6GNftejh_B5i7SA71F6nw.png"/></div></div></figure><h2 id="4a3e" class="nb lu iq bd lv nc nd dn lz ne nf dp md la ng nh mf le ni nj mh li nk nl mj nm bi translated">第二步，我们的第一个循环。将“seen”中的适当值更改为true。</h2><pre class="kg kh ki kj gt nn mt no np aw nq bi"><span id="3543" class="nb lu iq mt b gy nr ns l nt nu">let nums = [1,2,2]<br/>//seen = [false, false, false]</span><span id="5770" class="nb lu iq mt b gy nv ns l nt nu">for (let i = 0; i &lt; nums.length; i++) {<br/>        seen[nums[i]-1] = true;<br/>    };</span></pre><p id="fb74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们打开它。我们正在循环我们的输入数组，<code class="fe mq mr ms mt b">nums.</code>我们正在检查每个<code class="fe mq mr ms mt b">nums[i]</code>处的值，减去1，然后将同一个索引<code class="fe mq mr ms mt b">seen</code>处的值改为等于<code class="fe mq mr ms mt b">true.</code></p><p id="a065" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果这让你困惑，你并不孤单。使用上述输入，以下是<code class="fe mq mr ms mt b">seen</code>在每次循环后的演变:</p><pre class="kg kh ki kj gt nn mt no np aw nq bi"><span id="95bf" class="nb lu iq mt b gy nr ns l nt nu">let nums = [1,2,2]<br/>seen = [false, false, false]</span><span id="7445" class="nb lu iq mt b gy nv ns l nt nu">seen[nums[i]-1] = true;</span><span id="e16f" class="nb lu iq mt b gy nv ns l nt nu"><br/>loop 1, i = 0:<br/>      seen[nums[0] - 1]<br/>  =&gt;  nums[0] = 1<br/>  =&gt;  seen[1 - 1] <br/>  =&gt;  seen[0] = true </span><span id="686b" class="nb lu iq mt b gy nv ns l nt nu">seen =&gt; [true, false, false]<br/></span><span id="2fce" class="nb lu iq mt b gy nv ns l nt nu">loop 2, i = 1:<br/>      seen[nums[1] - 1]<br/>  =&gt;  nums[1] = 2<br/>  =&gt;  seen[2 - 1] <br/>  =&gt;  seen[1] = true</span><span id="984b" class="nb lu iq mt b gy nv ns l nt nu">seen =&gt; [true, true, false]<br/></span><span id="e8be" class="nb lu iq mt b gy nv ns l nt nu">loop 3, i = 3:<br/>      seen[nums[3] - 1] <br/>  =&gt;  nums[2] = 2<br/>  =&gt;  seen[2 - 1] <br/>  =&gt;  seen[1] = true</span><span id="27e4" class="nb lu iq mt b gy nv ns l nt nu">seen =&gt; [true, true, false]</span></pre><p id="93b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们目前的代码是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nz"><img src="../Images/7db77d785b903a1d5aa6deb846b4563b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4hlimngFHv-n3TcRy4rMGw.png"/></div></div></figure><h2 id="4985" class="nb lu iq bd lv nc nd dn lz ne nf dp md la ng nh mf le ni nj mh li nk nl mj nm bi translated">第三步。我们的第二个循环。</h2><p id="b77e" class="pw-post-body-paragraph kr ks iq kt b ku ml jr kw kx mm ju kz la mn lc ld le mo lg lh li mp lk ll lm ij bi translated">在这里我们循环通过<code class="fe mq mr ms mt b">seen</code>，寻找<code class="fe mq mr ms mt b">false</code>的值。</p><pre class="kg kh ki kj gt nn mt no np aw nq bi"><span id="0ea9" class="nb lu iq mt b gy nr ns l nt nu">1.  for (let i = 0; i &lt; seen.length; i++) {<br/>2.         if (!seen[i]){<br/>3.           missing.push(i+1);<br/>4.   };</span></pre><p id="087a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在第2行，seen[i]是我们正在循环的当前项目。当我们写<code class="fe mq mr ms mt b">if(!seen[i])</code>时，我们是说，如果当前项的值为假(继续到第3行)。</p><p id="736a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在第3行，我们在索引号上加1以获得缺失数字的值，并将该数字放入缺失数组中。</p><p id="c986" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是最终代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi oa"><img src="../Images/99a43eece34928c53b568ed2c3e62db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2JN9EM9F-CcUb1AX6n-jRw.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">Thank you Ashotovich1990!</figcaption></figure><p id="d0e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这对内存来说不太好，但对速度来说很好！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi ob"><img src="../Images/b05c92322cdf83c6456fb952eb8c228b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_PUIOXenfdIEj74-b3Z1zw.png"/></div></div></figure><p id="2f2d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以在PythonTutor.com上看到实时执行的代码，也可以在repl.it:</p><p id="6e7b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://repl.it/@Joan_IndianaInd/missing-numbers-in-array" rel="noopener ugc nofollow" target="_blank">https://repl.it/@Joan_IndianaInd/missing-numbers-in-array</a></p><p id="9d3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">版权所有琼·印第安纳·琳斯2019 </strong></p><p id="b52d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mx">接下来:</em> <a class="ae ln" href="https://medium.com/@joanrigdon/algorithms-101-product-and-sum-of-digits-in-javascript-2c09925ac11a" rel="noopener"> <em class="mx">算法101、#24:算法中位数的积与和——两种解法</em> </a></p><p id="fc20" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mx">以防你错过:</em> <a class="ae ln" href="https://medium.com/javascript-in-plain-english/algorithms-101-rotate-array-in-javascript-three-solutions-260fbc923b64" rel="noopener"> <em class="mx">算法101、# 22:JavaScript中的旋转数组——三解</em> </a></p></div></div>    
</body>
</html>