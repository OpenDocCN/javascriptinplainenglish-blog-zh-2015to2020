<html>
<head>
<title>Building a pagination component in React with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React with TypeScript中构建分页组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-pagination-component-in-react-with-typescript-2e7f7b62b35d?source=collection_archive---------0-----------------------#2020-07-15">https://javascript.plainenglish.io/building-a-pagination-component-in-react-with-typescript-2e7f7b62b35d?source=collection_archive---------0-----------------------#2020-07-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="58a3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在react with TypeScript中创建分页组件</h2></div><p id="359e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我将介绍如何在react with TypeScript中创建分页组件。目的是使它尽可能通用。它将是一个表示组件，也称为“哑组件”，因为它只显示带有样式的html(没有状态或逻辑)。</p><p id="28bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像往常一样，我的目标是能够在10分钟之内让它工作。我将使用React TypeScript构建它，并使用带有Sass的CSS模块。我开始非常喜欢它，因为它允许将样式本地化到您的组件，所以我不必担心应用程序中的命名。为了测试，我将jest与酶一起使用。</p><h2 id="742b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">它应该如何工作？</h2><p id="6394" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">作为参考，我们将使用Airbnb的分页组件。你可以在下图中看到它是如何工作的。这些是主要特征:</p><ul class=""><li id="a6dd" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated">它总是显示第一页和最后一页。</li><li id="1310" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">它总是显示至少3个连续的页面，通常是你所在的页面，上一页在左边，下一页在右边。在第一页的情况下，显示前3页，在最后一页显示最后3页。</li><li id="4d55" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">它使用3个点作为第一页和上一页之间的分隔符。在下一页和最后一页之间。</li><li id="a081" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated">除非在第一页，否则会出现上一页指示器。除非在最后一页，否则会出现下一页指示器。</li></ul><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/9d725daca031e215b9992fb20ef034df.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*_bGC_NZ8bbPze4s_iokvnA.png"/></div></figure><h2 id="8f19" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">建筑物</h2><p id="ca73" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">最好的方法可能是从最常见的案例开始，然后从那里改进。极端数字可能具有更复杂的逻辑，所以最好从中间数字开始。例如5到8。为了使组件尽可能通用，我们将使用一个回调，这样我们可以处理父组件中的转换。</p><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mv"><img src="../Images/720d54ece12fdef6ab982ffef315d8e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*ZdDSNAVzlwjo84BZ4DRfKQ.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Component Tree Diagram</figcaption></figure><p id="b72a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分页组件使用的属性有:</p><ul class=""><li id="3a6f" class="lz ma iq kh b ki kj kl km ko mb ks mc kw md la me mf mg mh bi translated"><code class="fe ne nf ng nh b">page</code>:我们所在的页码。</li><li id="a732" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe ne nf ng nh b">totalPages</code>:总页数。</li><li id="8ec1" class="lz ma iq kh b ki mi kl mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe ne nf ng nh b">handlePagination</code>:处理分页变化的回调函数。</li></ul><p id="9084" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以让我们开始吧！首先，我要分享所有的造型，让它更容易。你可以随意更新它。</p><pre class="mo mp mq mr gt ni nh nj nk aw nl bi"><span id="1cff" class="lb lc iq nh b gy nm nn l no np">// pagination.module.scss</span><span id="ccdf" class="lb lc iq nh b gy nq nn l no np"><a class="ae nr" href="http://twitter.com/import" rel="noopener ugc nofollow" target="_blank">@import</a> 'src/styles/colours.scss';<br/>// Colour variables used: $primary, $white</span><span id="c7ae" class="lb lc iq nh b gy nq nn l no np">.paginationWrapper {<br/>  padding: 2rem 0;<br/>  display: flex;<br/>  justify-content: center;<br/>}</span><span id="7c7a" class="lb lc iq nh b gy nq nn l no np">.separator {<br/>  width: 1rem;<br/>  margin: 0 0.25rem;<br/>}</span><span id="6a1b" class="lb lc iq nh b gy nq nn l no np">.pageItem {<br/>  background: transparent;<br/>  border: none;<br/>  height: 2rem;<br/>  width: 2rem;<br/>  margin: 0 0.25rem;<br/>  border-radius: 50%;<br/>  font-weight: 600;<br/>  color: $primary;</span><span id="b3cb" class="lb lc iq nh b gy nq nn l no np">&amp;:hover {<br/>    text-decoration: underline;<br/>  }</span><span id="2d0b" class="lb lc iq nh b gy nq nn l no np">&amp;:focus {<br/>    outline: 0;<br/>  }<br/>}</span><span id="0bac" class="lb lc iq nh b gy nq nn l no np">.active {<br/>  background-color: $primary;<br/>  color: $white;<br/>}</span><span id="fcd2" class="lb lc iq nh b gy nq nn l no np">.sides {<br/>  box-shadow: transparent 0px 0px 0px 1px, transparent 0px 0px 0px 4px, rgba(0, 0, 0, 0.18) 0px 2px 4px;</span><span id="c197" class="lb lc iq nh b gy nq nn l no np">&amp;:hover {<br/>    text-decoration: none;<br/>    box-shadow: transparent 0px 0px 0px 1px, transparent 0px 0px 0px 4px, rgba(0, 0, 0, 0.12) 0px 6px 16px;<br/>  }<br/>}</span></pre><p id="ebcd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了有一个工作原型，而不是消耗一个API，你可以使用这个<code class="fe ne nf ng nh b">pagination container</code></p><pre class="mo mp mq mr gt ni nh nj nk aw nl bi"><span id="cd62" class="lb lc iq nh b gy nm nn l no np">import React, { useState } from 'react';</span><span id="2f6d" class="lb lc iq nh b gy nq nn l no np">import { Pagination } from './pagination';</span><span id="d9eb" class="lb lc iq nh b gy nq nn l no np">export const PaginationContainer = () =&gt; {<br/>  const [page, setPage] = useState(1);<br/>  const totalPages = 15;<br/>  const handlePages = (updatePage: number) =&gt; setPage(updatePage);</span><span id="c0db" class="lb lc iq nh b gy nq nn l no np">return (<br/>    &lt;div className="container"&gt;<br/>      &lt;Pagination<br/>        page={page}<br/>        totalPages={totalPages}<br/>        handlePagination={handlePages}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="3130" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个非常简单的方法，初始化页面为1，总共15页，回调函数会更新状态。</p><p id="b375" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于组件，第一步是显示用户所在的页面、旁边的页面、表示还有更多页面的点、第一页和最后一页以及上一页和下一页的边。</p><pre class="mo mp mq mr gt ni nh nj nk aw nl bi"><span id="df31" class="lb lc iq nh b gy nm nn l no np">import React from 'react';<br/>import classNames from 'classnames';</span><span id="74fa" class="lb lc iq nh b gy nq nn l no np">import styles from './pagination.module.scss';</span><span id="4665" class="lb lc iq nh b gy nq nn l no np">export interface Props {<br/>  page: number;<br/>  totalPages: number;<br/>  handlePagination: (page: number) =&gt; void;<br/>}</span><span id="c458" class="lb lc iq nh b gy nq nn l no np">export const PaginationComponent: React.FC&lt;Props&gt; = ({<br/>  page,<br/>  totalPages,<br/>  handlePagination,<br/>}) =&gt; {<br/>  return (<br/>    &lt;div className={styles.pagination}&gt;<br/>      &lt;div className={styles.paginationWrapper}&gt;<br/>        &lt;button<br/>          onClick={() =&gt; handlePagination(page - 1)}<br/>          type="button"<br/>          className={classNames([styles.pageItem, styles.sides].join(' '))}<br/>        &gt;<br/>          &amp;lt;<br/>        &lt;/button&gt;</span><span id="a970" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(1)}<br/>          type="button"<br/>          className={classNames(styles.pageItem)}<br/>        &gt;<br/>          {1}<br/>        &lt;/button&gt;</span><span id="f2bf" class="lb lc iq nh b gy nq nn l no np">        &lt;div className={styles.separator}&gt;...&lt;/div&gt;</span><span id="0dad" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(page - 1)}<br/>          type="button"<br/>          className={styles.pageItem}<br/>        &gt;<br/>          {page - 1}<br/>        &lt;/button&gt;</span><span id="f9b4" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(page)}<br/>          type="button"<br/>          className={[styles.pageItem, styles.active].join(' ')}<br/>        &gt;<br/>          {page}<br/>        &lt;/button&gt;</span><span id="c309" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(page + 1)}<br/>          type="button"<br/>          className={styles.pageItem}<br/>        &gt;<br/>          {page + 1}<br/>        &lt;/button&gt;</span><span id="3f50" class="lb lc iq nh b gy nq nn l no np">&lt;div className={styles.separator}&gt;...&lt;/div&gt;</span><span id="f50f" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(totalPages)}<br/>          type="button"<br/>          className={classNames(styles.pageItem, {<br/>            [styles.active]: page === totalPages,<br/>          })}<br/>        &gt;<br/>          {totalPages}<br/>        &lt;/button&gt;</span><span id="8cdc" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(page + 1)}<br/>          type="button"<br/>          className={[styles.pageItem, styles.sides].join(' ')}<br/>        &gt;<br/>          &amp;gt;<br/>        &lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span><span id="6520" class="lb lc iq nh b gy nq nn l no np">export const Pagination = PaginationComponent;</span></pre><p id="0034" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了这个组件，它在开头和结尾看起来会非常奇怪，但是在中间的页面上会很棒。</p><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/7635f4cdc5155355b0e61963fd21e45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*vgvCJ9ZdCfKrBE2PrlahiA.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Page 5 good view</figcaption></figure><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/0388bce4fd201a650aa40091cba01461.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*W7cqNQmcVLeDTcbHO3ZmmA.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Page 1 looks awful</figcaption></figure><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/95f5701a727e6ce97e0da9d2b8b112ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*LcMc4EsPSxVjflpFx2Jp7g.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Last page looks badly</figcaption></figure><p id="3235" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了解决这个问题，我们只需要一些基于特定案例的逻辑显示。</p><pre class="mo mp mq mr gt ni nh nj nk aw nl bi"><span id="099a" class="lb lc iq nh b gy nm nn l no np">import React from 'react';<br/>import classNames from 'classnames';</span><span id="4a7c" class="lb lc iq nh b gy nq nn l no np">import styles from './pagination.module.scss';</span><span id="b252" class="lb lc iq nh b gy nq nn l no np">export interface Props {<br/>  page: number;<br/>  totalPages: number;<br/>  handlePagination: (page: number) =&gt; void;<br/>}</span><span id="f51f" class="lb lc iq nh b gy nq nn l no np">export const PaginationComponent: React.FC&lt;Props&gt; = ({<br/>  page,<br/>  totalPages,<br/>  handlePagination,<br/>}) =&gt; {<br/>  return (<br/>    &lt;div className={styles.pagination}&gt;<br/>      &lt;div className={styles.paginationWrapper}&gt;<br/>        {page !== 1 &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page - 1)}<br/>            type="button"<br/>            className={classNames([styles.pageItem, styles.sides].join(' '))}<br/>          &gt;<br/>            &amp;lt;<br/>          &lt;/button&gt;<br/>        )}</span><span id="9cd7" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(1)}<br/>          type="button"<br/>          className={classNames(styles.pageItem, {<br/>            [styles.active]: page === 1,<br/>          })}<br/>        &gt;<br/>          {1}<br/>        &lt;/button&gt;</span><span id="80dc" class="lb lc iq nh b gy nq nn l no np">        {page &gt; 3 &amp;&amp; &lt;div className={styles.separator}&gt;...&lt;/div&gt;}</span><span id="dbcf" class="lb lc iq nh b gy nq nn l no np">        {page === totalPages &amp;&amp; totalPages &gt; 3 &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page - 2)}<br/>            type="button"<br/>            className={styles.pageItem}<br/>          &gt;<br/>            {page - 2}<br/>          &lt;/button&gt;<br/>        )}</span><span id="c43e" class="lb lc iq nh b gy nq nn l no np">        {page &gt; 2 &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page - 1)}<br/>            type="button"<br/>            className={styles.pageItem}<br/>          &gt;<br/>            {page - 1}<br/>          &lt;/button&gt;<br/>        )}</span><span id="c3c8" class="lb lc iq nh b gy nq nn l no np">        {page !== 1 &amp;&amp; page !== totalPages &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page)}<br/>            type="button"<br/>            className={[styles.pageItem, styles.active].join(' ')}<br/>          &gt;<br/>            {page}<br/>          &lt;/button&gt;<br/>        )}</span><span id="caec" class="lb lc iq nh b gy nq nn l no np">        {page &lt; totalPages - 1 &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page + 1)}<br/>            type="button"<br/>            className={styles.pageItem}<br/>          &gt;<br/>            {page + 1}<br/>          &lt;/button&gt;<br/>        )}</span><span id="347d" class="lb lc iq nh b gy nq nn l no np">        {page === 1 &amp;&amp; totalPages &gt; 3 &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page + 2)}<br/>            type="button"<br/>            className={styles.pageItem}<br/>          &gt;<br/>            {page + 2}<br/>          &lt;/button&gt;<br/>        )}</span><span id="afc5" class="lb lc iq nh b gy nq nn l no np">        {page &lt; totalPages - 2 &amp;&amp; &lt;div className={styles.separator}&gt;...&lt;/div&gt;}</span><span id="07a8" class="lb lc iq nh b gy nq nn l no np">        &lt;button<br/>          onClick={() =&gt; handlePagination(totalPages)}<br/>          type="button"<br/>          className={classNames(styles.pageItem, {<br/>            [styles.active]: page === totalPages,<br/>          })}<br/>        &gt;<br/>          {totalPages}<br/>        &lt;/button&gt;</span><span id="fe09" class="lb lc iq nh b gy nq nn l no np">        {page !== totalPages &amp;&amp; (<br/>          &lt;button<br/>            onClick={() =&gt; handlePagination(page + 1)}<br/>            type="button"<br/>            className={[styles.pageItem, styles.sides].join(' ')}<br/>          &gt;<br/>            &amp;gt;<br/>          &lt;/button&gt;<br/>        )}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span><span id="d6bb" class="lb lc iq nh b gy nq nn l no np">export const Pagination = PaginationComponent;</span></pre><p id="c568" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">多亏了这些更新，我们将能够看到该组件在所有情况下都可以工作</p><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/0477a5d18860c082283e7172b3d1a8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*7U2G2LmL_knS1GV2s_x8zQ.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Initial values</figcaption></figure><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/32bfab1eaae39db2ef17c6415f707aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*KyttabMGilnHksylBYe0Xw.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Middle values</figcaption></figure><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/04de718e17ea9ae6d018dcc3595db216.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*ryxNMVDrSamcMrOyGogUqQ.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">End values</figcaption></figure><p id="fa20" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是具有显示逻辑的组件。现在，是时候测试它了！</p><h2 id="c2d0" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">测试</h2><p id="fc3f" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">为了测试它，我认为最好的选择是结合快照测试和点击一些按钮来触发<code class="fe ne nf ng nh b">handlePagination</code></p><p id="0357" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们添加了如此多的逻辑，我们将需要至少3个场景:一个具有初始值1，另一个具有中间值，另一个具有最大值。</p><pre class="mo mp mq mr gt ni nh nj nk aw nl bi"><span id="e6c0" class="lb lc iq nh b gy nm nn l no np">import React from 'react';<br/>import { mount } from 'enzyme';</span><span id="2411" class="lb lc iq nh b gy nq nn l no np">import { Pagination, Props } from '../pagination';</span><span id="0cde" class="lb lc iq nh b gy nq nn l no np">describe('&lt;Pagination /&gt;', () =&gt; {<br/>  it('renders the component from the beginning', () =&gt; {<br/>    const mockProps: Props = {<br/>      page: 1,<br/>      totalPages: 5,<br/>      handlePagination: jest.fn(),<br/>    };<br/>    const wrapper = mount(&lt;Pagination {...mockProps} /&gt;);</span><span id="1f9f" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(0).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(1);</span><span id="224c" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(1).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(2);</span><span id="6271" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(2).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(3);</span><span id="a532" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(3).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(5);</span><span id="83f9" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(4).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(2);</span><span id="6620" class="lb lc iq nh b gy nq nn l no np">    expect(wrapper.render()).toMatchSnapshot();<br/>  });</span><span id="df51" class="lb lc iq nh b gy nq nn l no np">it('renders the component from the end', () =&gt; {<br/>    const mockProps: Props = {<br/>      page: 5,<br/>      totalPages: 5,<br/>      handlePagination: jest.fn(),<br/>    };<br/>    const wrapper = mount(&lt;Pagination {...mockProps} /&gt;);</span><span id="6cf0" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(0).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(4);</span><span id="6fc4" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(1).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(1);</span><span id="6c46" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(2).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(3);</span><span id="2114" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(3).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(4);</span><span id="ffc8" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(4).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(5);</span><span id="8f3b" class="lb lc iq nh b gy nq nn l no np">expect(wrapper.render()).toMatchSnapshot();<br/>  });</span><span id="dcf3" class="lb lc iq nh b gy nq nn l no np">it('renders the component from the middle', () =&gt; {<br/>    const mockProps: Props = {<br/>      page: 3,<br/>      totalPages: 5,<br/>      handlePagination: jest.fn(),<br/>    };<br/>    const wrapper = mount(&lt;Pagination {...mockProps} /&gt;);</span><span id="c50f" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(0).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(2);</span><span id="48f2" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(1).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(1);</span><span id="faad" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(2).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(2);</span><span id="15c0" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(3).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(3);</span><span id="8204" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(4).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(4);</span><span id="96a2" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(5).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(5);</span><span id="d885" class="lb lc iq nh b gy nq nn l no np">    wrapper.find('button').at(6).simulate('click');<br/>    expect(mockProps.handlePagination).toBeCalledWith(4);</span><span id="fd33" class="lb lc iq nh b gy nq nn l no np">    expect(wrapper.render()).toMatchSnapshot();<br/>  });<br/>});</span></pre><p id="38f3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们就可以对所有组件进行正确的测试！！</p><figure class="mo mp mq mr gt ms gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi ny"><img src="../Images/65e7ffbb78a4350088d5fd6ebd3c99e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*esR4E9dTA6oie6WVzJTCDw.png"/></div></div></figure><h2 id="0cad" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">丰富</h2><p id="86af" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">一如既往，可能还有改进的空间。如果您有任何想法或建议，请在下面发表评论。</p></div></div>    
</body>
</html>