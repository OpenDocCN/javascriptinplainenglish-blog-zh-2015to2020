<html>
<head>
<title>How to get rid of your messy code.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何摆脱混乱的代码？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-rid-of-your-messy-code-getting-rid-of-frequent-if-statements-28d1e43b5053?source=collection_archive---------5-----------------------#2019-09-11">https://javascript.plainenglish.io/how-to-get-rid-of-your-messy-code-getting-rid-of-frequent-if-statements-28d1e43b5053?source=collection_archive---------5-----------------------#2019-09-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c9ed" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">摆脱频繁的if语句</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e3ec5097396a759a60f3217ec4d288aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rRy0Ut9Sk1mDUkGuQdBBXQ.jpeg"/></div></div></figure><p id="34e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">在本文中，我将展示我是如何改变我混乱的代码的，这些代码有很多<br/>“if语句”和长时间不需要的“转换用例”</em></p><p id="8aae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您开始为某种解决方案编写一个想法时，因为您只想看看它是否会工作——而且速度很快。你的代码可能有点臭。大多数时候，不是“一点点”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><p id="cee9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一开始还不错，但你必须清理干净。</p><p id="2089" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将举一个活生生的例子，它是从下图中的一个讨厌的代码中修改出来的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lq"><img src="../Images/29d735bc5ca7d7b8a962f13dad2deebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ovS1z_5ef6qMFZHJxV9MLA.png"/></div></div></figure><p id="32c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面图像中的代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lr"><img src="../Images/b5c0f008b45af1f748a3839abad2bfc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uSrncUpaeSnbeZjnKiQAqg.png"/></div></div></figure><p id="f331" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">该代码是将阿拉伯语名称转换为英语名称的包的代码</em> <a class="ae ls" href="https://www.npmjs.com/package/arabic-name-to-en" rel="noopener ugc nofollow" target="_blank"> <em class="ln">链接</em> </a></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="d13c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，有很多if语句决定将其一扫而光。<br/>我们可以通过为所有您想检查的案例设置JSON对象，</p><p id="8fbf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">假设我们想检查第一个字母是“م”，第二个字母是“ح”还是“خ”,我们可以说。</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="f814" class="mf mg iq mb b gy mh mi l mj mk">if(firstLetter == "م" &amp;&amp; secondLetter == "ح" || secondLetter == "خ")<br/>  return "u";</span></pre><p id="1da1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一切都会好的。但是。如果我们想增加更多的病例呢？它在一行中看起来很糟糕，在多行if语句中看起来也很糟糕。</p><h2 id="0c32" class="mf mg iq bd ml mm mn dn mo mp mq dp mr la ms mt mu le mv mw mx li my mz na nb bi translated">这看起来太糟糕了！</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc lp l"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">Don’t do that, please</figcaption></figure><h1 id="400b" class="nh mg iq bd ml ni nj nk mo nl nm nn mr jw no jx mu jz np ka mx kc nq kd na nr bi translated">解决方案是:</h1><p id="cc73" class="pw-post-body-paragraph kr ks iq kt b ku ns jr kw kx nt ju kz la nu lc ld le nv lg lh li nw lk ll lm ij bi translated">我的方法是创建一个对象，它的第一个字母作为键，值也是一个对象，它的键是第二个字母，值是返回值</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="576a" class="mf mg iq mb b gy mh mi l mj mk">let obj = { <em class="ln">k:<br/>   </em>{ <em class="ln">m:</em> “a” }, { <em class="ln">r:</em> “b” }<br/>};</span></pre><p id="3634" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我重新解释一下这里发生的事情，所以“k”是第一个字母，<br/>如果“k”后面的第二个字母是“m”，返回值将是“a”。<br/>如果“k”后面的第二个字母是“r”，则返回应为“b”。</p><p id="4f5d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这张桌子会让它更清晰。:)</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx lp l"/></div></figure><p id="643b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，如果您注意到，到目前为止，我们没有返回或检查任何内容，那么就开始吧。</p><p id="628f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该函数必须检查obj是否有一个等于第一个字母的键。然后它将检查是否有一个对象属于obj[firstLetter]并具有关键字“secondLetter”。然后我们必须返回第二个对象的值</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="b950" class="mf mg iq mb b gy mh mi l mj mk">if(obj[firstLetter] != undefined  &amp;&amp; obj[firstLetter][secondLetter])<br/>   retuen obj[firstLetter][secondLetter]</span></pre><p id="4991" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是。有更好的方式来写它，对吗？班轮呢如果。</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="8292" class="mf mg iq mb b gy mh mi l mj mk">res = obj[firstLetter] != undefined ? :<br/>         obj[firstLetter][secondLetter] ?<br/>           obj[firstLetter][secondLetter]<br/>           :""<br/>        :""</span></pre><p id="08dd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，在这种情况下，我们可以根据需要添加任意多个案例，代码将一如既往地保持有序。</p><h1 id="d381" class="nh mg iq bd ml ni nj nk mo nl nm nn mr jw no jx mu jz np ka mx kc nq kd na nr bi translated">如何让它变得更好:</h1><p id="ee96" class="pw-post-body-paragraph kr ks iq kt b ku ns jr kw kx nt ju kz la nu lc ld le nv lg lh li nw lk ll lm ij bi translated">我们可以向对象添加另一个属性，就像我们想要使用的操作一样。</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="0613" class="mf mg iq mb b gy mh mi l mj mk">let obj = { <em class="ln">k:<br/>   </em>{ <em class="ln">m:</em> “a”, action: "slice" },<br/>   { <em class="ln">r:</em> “b”, action: "" }<br/>};</span></pre><p id="2404" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，如果你创建了一个路由器的行动，它将更加可怕。</p><p id="e55f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，代码都是干净的！！！！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny lp l"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">AND NOW THE CODE IS ALL CLEAN !!!!</figcaption></figure><h1 id="2538" class="nh mg iq bd ml ni nj nk mo nl nm nn mr jw no jx mu jz np ka mx kc nq kd na nr bi translated">您可以检查旧代码:</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/b2a109eac45f7760c7bba00591aa6ede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBSMI68oAt9PGKBLQC1mKg.png"/></div></div></figure><h1 id="3e06" class="nh mg iq bd ml ni nj nk mo nl nm nn mr jw no jx mu jz np ka mx kc nq kd na nr bi translated">还有新密码！</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/d45849a49ace3b136db3e405160d5ae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*078Uyf6zQYxAEk6jLE3leQ.png"/></div></div></figure><p id="d7fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用此链接查找代码<a class="ae ls" href="https://github.com/hamdongunner/arabic-names-to-en" rel="noopener ugc nofollow" target="_blank">https://github.com/hamdongunner/arabic-names-to-en</a></p><p id="5d99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">啊，还有，如果你在下面的函数上面加上一个描述，你可能还想使用一个技巧。这将有助于解释，并清楚每当有人悬停该函数时，它实际上会做什么</p><pre class="kg kh ki kj gt ma mb mc md aw me bi"><span id="a528" class="mf mg iq mb b gy mh mi l mj mk"><em class="ln">/**</em></span><span id="bd09" class="mf mg iq mb b gy ob mi l mj mk"><em class="ln">* Some Letters depends on the coming next one to add some extra letters in between</em></span><span id="d7a8" class="mf mg iq mb b gy ob mi l mj mk"><em class="ln">* @param {string} letter</em></span><span id="fde8" class="mf mg iq mb b gy ob mi l mj mk"><em class="ln">* @param {string} nextLetter</em></span><span id="9bfd" class="mf mg iq mb b gy ob mi l mj mk"><em class="ln">* @example</em></span><span id="bfa7" class="mf mg iq mb b gy ob mi l mj mk"><em class="ln">* checkNextLetter('م', 'ح') =&gt; 'muh'</em></span><span id="5281" class="mf mg iq mb b gy ob mi l mj mk"><em class="ln">*/</em></span></pre><p id="03b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">检查它:)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/2c2ee246a39a139cab6d9d83189e66ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4K63_xF-lMKzp2vXMz52bg.png"/></div></div></figure><p id="aa01" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在所有这些之后，我相信我们都可以得到一个更好、更容易理解的代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lp l"/></div></figure><p id="dcff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">再见！</p></div></div>    
</body>
</html>