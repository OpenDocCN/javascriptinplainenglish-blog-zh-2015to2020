<html>
<head>
<title>Deploy Your Next.js App on GitHub Pages Using the GitHub Action</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitHub操作在GitHub页面上部署Next.js应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deploy-your-next-js-app-on-github-pages-using-the-github-action-525271137409?source=collection_archive---------1-----------------------#2020-10-21">https://javascript.plainenglish.io/deploy-your-next-js-app-on-github-pages-using-the-github-action-525271137409?source=collection_archive---------1-----------------------#2020-10-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/911d4ceb266e41fcdc2125070690cd0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FqZK6rDyF1jIHJ15NrBxoQ.png"/></div></div></figure><h2 id="85ae" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">快速小结</h2><p id="3e9e" class="pw-post-body-paragraph kr ks in kt b ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll ig bi translated">我在Github页面上使用next.js开发我的投资组合，我在部署项目时遇到了一些问题。所以我决定写博客来帮助别人。</p><h2 id="7f6d" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">链接</strong></h2><p id="2ddf" class="pw-post-body-paragraph kr ks in kt b ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll ig bi translated">投资组合:<a class="ae lm" href="https://naveenda.github.io/" rel="noopener ugc nofollow" target="_blank">https://naveenda.github.io/</a></p><p id="0707" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">源代码:【https://github.com/NaveenDA/naveenda.github.io T21】</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ls"><img src="../Images/54138dfae215f69d6186bb985cd0fd3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HcnNrTo_ln9v5oj8b3FpQw.png"/></div></div></figure><h2 id="2b06" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">让我们开始这个项目吧</h2><ol class=""><li id="ad04" class="lx ly in kt b ku kv ky kz ke lz ki ma km mb ll mc md me mf bi translated">创建一个包含您的Github用户名和<code class="fe mg mh mi mj b">.github.io</code>的Github repo。<br/>比如我的GitHub用户名是NaveenDA，我的回购名是<code class="fe mg mh mi mj b">naveenda.github.io</code></li></ol><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/2e0b365d90bc7572c0093ae5af667316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w2ZW6JK0ji674-uGJiUuxQ.png"/></div></div></figure><p id="2b2c" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">2.转到repo的设置，向下滚动到Github页面部分。选择<code class="fe mg mh mi mj b">gh-pages</code>作为分支，选择<code class="fe mg mh mi mj b">root</code>作为文件夹，然后点击保存按钮。</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ml"><img src="../Images/6f08cd2a4827b0e57fb0c950435ddb89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rq9O45ziVrzd60pL3cfpVw.png"/></div></div></figure><p id="24f8" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">3.使用以下命令在您的本地计算机上克隆此存储库</p><pre class="lt lu lv lw gt mm mj mn mo aw mp bi"><span id="fe93" class="jv jw in mj b gy mq mr l ms mt">git clone <!-- -->https://github.com/yourname/yourname.github.io.git</span></pre><p id="9d86" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">5.使用<code class="fe mg mh mi mj b">create-next-app</code>创建next.js app</p><pre class="lt lu lv lw gt mm mj mn mo aw mp bi"><span id="f6fe" class="jv jw in mj b gy mq mr l ms mt">npx create-next-app src</span></pre><p id="b264" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">它将创建一个<code class="fe mg mh mi mj b">src</code>目录并生成所需的文件夹。</p><p id="48a2" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">6.转到<code class="fe mg mh mi mj b">src</code>目录并运行这个命令<code class="fe mg mh mi mj b">npm run dev</code>，它将在<code class="fe mg mh mi mj b">http://localhost:3000</code>上运行我们的应用程序</p><p id="183e" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">现在你可以看到这一页。</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/c21f9b344ec2391716888fe690e9bdaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9nxgeiikzTMiv_SlUHdIQ.png"/></div></div></figure><p id="e04f" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">我们将部署此页面。</p><p id="8318" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">7.提交此代码并推送到服务器。</p><pre class="lt lu lv lw gt mm mj mn mo aw mp bi"><span id="6e2b" class="jv jw in mj b gy mq mr l ms mt">git add .<br/>git commit -m "Initial Project Setup"<br/>git push</span></pre><p id="c797" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">8.现在，每当我们在主分支上推一些东西并部署构建<code class="fe mg mh mi mj b">github-pages</code>时，我们都需要创建下一个构建。因此我们将使用<a class="ae lm" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank"> Github动作</a></p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/5327649b6a8b977287d3438e8443c525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ua8no7bRY1OVbtslNn9TbA.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk"><a class="ae lm" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank">https://github.com/features/actions</a></figcaption></figure><p id="8742" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">9.在您的repo根目录中创建<code class="fe mg mh mi mj b">.github</code>目录</p><p id="2d93" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">10.在<code class="fe mg mh mi mj b">.github</code>目录下创建<code class="fe mg mh mi mj b">workflows</code>目录，并创建文件<code class="fe mg mh mi mj b">intergrate.yml</code></p><p id="3580" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">11.将此代码粘贴到<code class="fe mg mh mi mj b">intergrate.yml</code>文件中。</p><figure class="lt lu lv lw gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="acee" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">12.提交此代码并推送到服务器</p><pre class="lt lu lv lw gt mm mj mn mo aw mp bi"><span id="02c5" class="jv jw in mj b gy mq mr l ms mt">git add .<br/>git commit -m "Add github Actions"<br/>git push</span></pre><p id="1565" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">13.转到Github repo中的action选项卡，现在你可以看到正在运行的Github操作。</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/2b2df1b071b615c7d93d903c0dfa5556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rsj8pIDuYf5DJBLqqOc3lQ.png"/></div></div></figure><p id="3e0c" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">14.现在转到网址<code class="fe mg mh mi mj b">https://username.github.io</code></p><p id="8ac5" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">15.现在看到一些404错误</p><p id="360c" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">16.出于某种原因(我不知道)，Github服务器将<code class="fe mg mh mi mj b">_next</code>目录内的一个文件作为404响应。为了解决这个问题，我们需要一个CDN来服务静态文件。所以我们打算静态地使用<a class="ae lm" href="https://statically.io/" rel="noopener ugc nofollow" target="_blank"/></p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/a7aef39e56803a33355dbbf95060035e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLmKkvWBS9dS49-Mot1Nkw.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk"><a class="ae lm" href="https://statically.io/" rel="noopener ugc nofollow" target="_blank">https://statically.io/</a></figcaption></figure><p id="29fc" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">17.在我们的<code class="fe mg mh mi mj b">src</code>目录中创建一个名为<code class="fe mg mh mi mj b">next.config.js</code>的文件，粘贴这段代码并用我的替换你的repo URL。</p><figure class="lt lu lv lw gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="6095" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">18.现在提交这段代码并推送到服务器</p><pre class="lt lu lv lw gt mm mj mn mo aw mp bi"><span id="739f" class="jv jw in mj b gy mq mr l ms mt">git add .<br/>git commit -m "Add CDN"<br/>git push</span></pre><p id="4bc7" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">等到Github动作完成部署，然后导航到URL<a class="ae lm" href="https://username.github.io" rel="noopener ugc nofollow" target="_blank">https://username . Github . io</a></p><p id="03ae" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated">19.我开玩笑的，没有第19步。我们做到了！</p></div><div class="ab cl ne nf hr ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ig ih ii ij ik"><p id="7c94" class="pw-post-body-paragraph kr ks in kt b ku ln kw kx ky lo la lb ke lp ld le ki lq lg lh km lr lj lk ll ig bi translated"><strong class="kt io">感谢您的阅读！</strong>如果你喜欢这篇文章，可以考虑<a class="ae lm" href="https://twitter.com/NaveenDA_" rel="noopener ugc nofollow" target="_blank">在Twitter上关注我</a>，并与你的开发者朋友分享这篇文章🐋😀</p></div></div>    
</body>
</html>