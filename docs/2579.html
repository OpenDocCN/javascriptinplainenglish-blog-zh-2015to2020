<html>
<head>
<title>Displaying Time in a Vue App with Vue-Moment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Vue-矩在Vue应用程序中显示时间</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/displaying-time-with-vue-moment-635ce1e57db5?source=collection_archive---------8-----------------------#2020-07-06">https://javascript.plainenglish.io/displaying-time-with-vue-moment-635ce1e57db5?source=collection_archive---------8-----------------------#2020-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3f98a28e96081f0da0c2135f0dd00093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fkK-k1F6decVHeCE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mbenna?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Benna</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2067" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用程序框架，我们可以用它来开发交互式前端应用程序。</p><p id="cf74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一个简单的Vue包，它用Vue-矩包在模板中显示时间。</p><h1 id="6a12" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">vue-矩</h1><p id="b8b9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vue矩为我们提供了许多过滤器来显示时间。</p><p id="c1be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们首先通过运行以下命令安装它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1f9d" class="mn lc iq mj b gy mo mp l mq mr">npm i vue-moment</span></pre><p id="2374" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过书写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e6f7" class="mn lc iq mj b gy mo mp l mq mr">import Vue from "vue";<br/>import App from "./App.vue";</span><span id="fea1" class="mn lc iq mj b gy ms mp l mq mr">Vue.config.productionTip = false;</span><span id="0191" class="mn lc iq mj b gy ms mp l mq mr">Vue.use(require("vue-moment"));</span><span id="efba" class="mn lc iq mj b gy ms mp l mq mr">new Vue({<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="837f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下内容来使用内置过滤器:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2a70" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date() | moment("dddd, MMMM Do YYYY") }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="40a8" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="0759" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只需要使用<code class="fe mt mu mv mj b">moment</code>过滤器，就可以得到显示的日期。</p><p id="0b57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以传递选项，根据一个以上的模式来解析日期。</p><p id="9e53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7db1" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ [ '01.01.20', ["MM.DD.YY", "MM-DD-YY", "MM-DD-YYYY"] ] | moment("dddd, MMMM Do YYYY") }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="a02c" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="4f0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于我们的日期字符串与第一个模式匹配，因此将使用过滤器对其进行解析和格式化。</p><p id="9ca2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用它来计算从现在开始的时间。</p><p id="5914" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="545a" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date(2020, 10, 1) | moment("from", "now") }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="414b" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="803d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到一个字符串，像是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="709a" class="mn lc iq mj b gy mo mp l mq mr">in 5 months</span></pre><p id="4ac1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示在屏幕上。</p><p id="e710" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">moment(“from”, “now”)</code>代码计算从现在到该日期的时间。</p><p id="014f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写<code class="fe mt mu mv mj b">moment(“from”)</code>来分类。</p><p id="106f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们还可以通过以下方式计算给定日期的日期:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4dda" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date(2020, 10, 1) | moment("from", "1990-01-01") }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="52fc" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="c248" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2708" class="mn lc iq mj b gy mo mp l mq mr">in 31 years</span></pre><p id="69b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示。</p><p id="24cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了在时间跨度中隐藏“in”或“ago ”,我们可以输入<code class="fe mt mu mv mj b">true</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="12df" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date(2020, 10, 1) | moment("from", "1990-01-01", true) }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="eadb" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="e66d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们得到了:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a7f2" class="mn lc iq mj b gy mo mp l mq mr">31 years</span></pre><p id="47a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在屏幕上。</p><p id="a9e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还可以显示日历日期。</p><p id="1867" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f2f0" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date(2020, 10, 1) | moment("calendar") }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="16c8" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="b78a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2a8f" class="mn lc iq mj b gy mo mp l mq mr">11/01/2020</span></pre><p id="00f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以显示从日期派生的内容。</p><p id="04b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1d0c" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date() | moment('add', '6 days', 'calendar', null, { nextWeek: '[Happens in a week]' }) }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c871" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="aafb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在当前日期基础上再增加6天。</p><p id="b0e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们会在下周用<code class="fe mt mu mv mj b">'Happens in a week'</code>替换任何一个日期。</p><p id="202b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，这就是我们得到的。</p><p id="9608" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用<code class="fe mt mu mv mj b">subtract</code>减去天数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="65f6" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ new Date() | moment("subtract", "6 hours") }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c893" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="8260" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们还可以通过<code class="fe mt mu mv mj b">duration</code>过滤器显示持续时间:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7219" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ 3600000 | duration('humanize') }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="6fc2" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="fb15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以是ISO8601格式的字符串。包含数字和单位的数字或数组。</p><p id="8e8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们也可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="42ec" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ [30, 'days'] | duration('humanize', true) }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="630b" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="5a9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它采用了<code class="fe mt mu mv mj b">'humanize'</code>以外的选项，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0038" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ [30, 'days'] | duration('asDays') }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="b396" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="4279" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将多个过滤器链接在一起。</p><p id="7b79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3ab4" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;span&gt;{{ [7, 'minutes'] | duration('subtract', 120000) | duration('humanize', true) }}&lt;/span&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="8f4f" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="fc9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们从5分钟减去120000毫秒，并以人性化的形式显示出来。</p><p id="637a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们显示<code class="fe mt mu mv mj b">in 5 minutes</code>。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/f2bd278332ae6f172c25f38ab0d048f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*59kTs8RQv6BOZJJg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jmacca88?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">John Mccann</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bea1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="588e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">vue-moment包允许我们以各种方式显示时间跨度。</p><p id="971d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以直接从内置的过滤器计算时间。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还支持多种格式的时间和日期格式。</p><h2 id="6e8e" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语中的JavaScript</h2><p id="1431" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四个出版物和一个YouTube频道吗？全部在<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">找到。io </strong> </a>和<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>