<html>
<head>
<title>How to approach React tasks, two mindsets.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对待React任务，两种心态。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-approach-react-tasks-a95f8c7b38ec?source=collection_archive---------1-----------------------#2019-06-06">https://javascript.plainenglish.io/how-to-approach-react-tasks-a95f8c7b38ec?source=collection_archive---------1-----------------------#2019-06-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/63ae79a186ed45d285e698d4128d908f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5KV3Z7P6b8K8YXs6_DgaSQ.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="d726" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">将您的任务一分为二:状态管理和状态呈现。</h2></div><h1 id="cb1a" class="kq kr jb bd ks kt ku kv kw kx ky kz la kh lb ki lc kk ld kl le kn lf ko lg lh bi translated">您应该将任务至少分成两部分:状态管理和状态呈现。</h1><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi li"><img src="../Images/1ce5365801a66f590e47a6b43f315b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wYTXBRvs0ohnH1aDTXSvLQ.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">My playing with Google Drawings :)</figcaption></figure><p id="1d15" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">你可以把它想象成解决任务时使用的不同的帽子。我不是处于<strong class="lt jc">状态管理模式</strong>就是<strong class="lt jc">状态渲染模式</strong>。</p><h1 id="005d" class="kq kr jb bd ks kt ku kv kw kx ky kz la kh lb ki lc kk ld kl le kn lf ko lg lh bi translated">状态管理</h1><p id="4a3f" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">其中一个拆分就是<em class="ms">状态管理</em>。我不是说只有反应状态。当谈到Redux状态时，我应用了同样的方法。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mt"><img src="../Images/81cb46a19a204f01a486f924776b9163.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*KatmCTwAZvMVjoAm9updzA.jpeg"/></div></div></figure><p id="ccec" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">在这一部分，我只考虑更新状态。大多数情况下，您需要等待某个事件来执行更新。</p><p id="6981" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">一个事件可以是一个onClick，从一个API获取…</p><p id="451d" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">在这一点上，只考虑状态。我希望事件触发后的状态是什么样的？我需要做些什么来实现它？我需要哪些行动？减速器应该做什么？</p><p id="4c26" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">我还没有考虑它在用户界面上会是什么样子。只有国家。</p><p id="6053" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">我用Redux Dev Tools之类的工具或者打印状态或道具来检查输出。</p><blockquote class="mu mv mw"><p id="c84f" class="lr ls ms lt b lu lv kc lw lx ly kf lz mx mb mc md my mf mg mh mz mj mk ml mm ij bi translated">专注于处理事件和更新状态。</p></blockquote><h1 id="d9ed" class="kq kr jb bd ks kt ku kv kw kx ky kz la kh lb ki lc kk ld kl le kn lf ko lg lh bi translated">状态渲染</h1><p id="057e" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">现在是一些反应魔法的时候了。用户界面应该是怎样的状态？我们要不要加一个勾号？变色？</p><p id="7b9d" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">这是我关注所有UI相关任务的地方。这里好的一点是，我假设国家正常运转。我不处理事件或状态更新。</p><p id="7e63" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">这种心态下的大部分任务都是由JSX完成的。在render方法中，您可以根据组件的状态或属性来渲染一个或另一个组件。也许你创造了新的功能组件。</p><blockquote class="mu mv mw"><p id="1a68" class="lr ls ms lt b lu lv kc lw lx ly kf lz mx mb mc md my mf mg mh mz mj mk ml mm ij bi translated">专注于呈现该状态的UI。</p></blockquote><h1 id="4548" class="kq kr jb bd ks kt ku kv kw kx ky kz la kh lb ki lc kk ld kl le kn lf ko lg lh bi translated">应该先走哪种模式？</h1><p id="8d30" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">你以何种模式开始并不重要。有些任务更适合从<em class="ms">状态管理</em>开始，而其他任务更适合从<em class="ms">状态渲染</em>开始。</p><p id="644d" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">如果我从<em class="ms">状态渲染</em>开始，我可能会硬编码我想要的状态，并确保它正确渲染。然后，我进入<em class="ms">状态管理</em>模式，尝试处理事件并更新状态。</p><h1 id="b929" class="kq kr jb bd ks kt ku kv kw kx ky kz la kh lb ki lc kk ld kl le kn lf ko lg lh bi translated">待办事项应用程序</h1><p id="d975" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">让我们用一个例子来看看这种方法。</p><figure class="lj lk ll lm gt is gh gi paragraph-image"><div class="gh gi na"><img src="../Images/611de64189960fd1ff70cbe55478eb1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*v-P4XnRKqfEqM6kifJBQTw.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Image from <a class="ae nb" href="http://todomvc.com/" rel="noopener ugc nofollow" target="_blank">http://todomvc.com/</a></figcaption></figure><p id="ecc5" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated"><strong class="lt jc">用户故事:</strong>允许用户在点击左侧圆圈图标时将任务设置为已完成。</p><h2 id="10e7" class="nc kr jb bd ks nd ne dn kw nf ng dp la ma nh ni lc me nj nk le mi nl nm lg nn bi translated">状态管理</h2><p id="819d" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">假设这是我们在Redux中的当前状态:</p><pre class="lj lk ll lm gt no np nq nr aw ns bi"><span id="a24f" class="nc kr jb np b gy nt nu l nv nw">{<br/>  1: {<br/>    id: 1,<br/>    content: 'redesign website',<br/>  },<br/>  2: {<br/>    id: 2,<br/>    content: 'do some nerdy stuff',<br/>  }<br/>}</span></pre><p id="bf9d" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">点击圈子后的状态应该是怎样的？</p><p id="41f7" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">在<em class="ms"> todo </em>对象中添加一个名为<code class="fe nx ny nz np b">completed</code>的新属性怎么样？这可能是最初的<code class="fe nx ny nz np b">false</code>，然后点击后的<code class="fe nx ny nz np b">true</code>。</p><p id="9329" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">这意味着国家需要从:</p><pre class="lj lk ll lm gt no np nq nr aw ns bi"><span id="8503" class="nc kr jb np b gy nt nu l nv nw">{<br/>  1: {<br/>    id: 1,<br/>    content: 'redesign website', <br/>    completed: false,<br/>  },<br/>  2: {<br/>    id: 2,<br/>    content: 'do some nerdy stuff',<br/>    completed: false,<br/>  }<br/>}</span></pre><p id="bc2c" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">收件人:</p><pre class="lj lk ll lm gt no np nq nr aw ns bi"><span id="ff94" class="nc kr jb np b gy nt nu l nv nw">{<br/>  1: {<br/>    id: 1,<br/>    content: 'redesign website', <br/>    completed: false,<br/>  },<br/>  2: {<br/>    id: 2,<br/>    content: 'do some nerdy stuff',<br/>    completed: true, // assume we click on this one<br/>  }<br/>}</span></pre><p id="1835" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">一旦我们知道我们必须做什么，我们就着手去做。现在还不要考虑这会如何影响用户界面。</p><p id="e9ff" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">在这种心态下，你的任务就是完成状态更新。</p><p id="13b4" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">你可以安装Redux Dev工具来检查你是否已经完成了它，或者只是在你渲染它的时候<code class="fe nx ny nz np b">console.log</code>todo列表。</p><h2 id="01eb" class="nc kr jb bd ks nd ne dn kw nf ng dp la ma nh ni lc me nj nk le mi nl nm lg nn bi translated">状态渲染</h2><p id="1577" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">这部分更令人愉快。您将在页面中看到您的更改。</p><p id="7631" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">在这一部分中，您假设(因为您刚刚已经这样做了)状态将会相应地改变，并关注于使JSX适应新的状态。</p><p id="b5e4" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">当<code class="fe nx ny nz np b">completed</code>属性为<code class="fe nx ny nz np b">true</code>时，您可以创建一个新的css类并添加它。</p><pre class="lj lk ll lm gt no np nq nr aw ns bi"><span id="a5db" class="nc kr jb np b gy nt nu l nv nw">&lt;li className={ todo.completed ? 'completed' : 'not-completed' }&gt;<br/>  { todo.content }<br/>&lt;/li&gt;</span></pre><p id="9974" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">这是一个过于简单的例子，但足以抓住它的要点。</p><p id="407c" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">在实际应用中，您可能需要更改多个组件，并在此模式下创建新的组件。</p><blockquote class="mu mv mw"><p id="fb43" class="lr ls ms lt b lu lv kc lw lx ly kf lz mx mb mc md my mf mg mh mz mj mk ml mm ij bi translated">不要忘记确保你的应用程序在所有可能的状态下都能正确呈现。</p></blockquote><h1 id="df9c" class="kq kr jb bd ks kt ku kv kw kx ky kz la kh lb ki lc kk ld kl le kn lf ko lg lh bi translated">结论</h1><p id="1d39" class="pw-post-body-paragraph lr ls jb lt b lu mn kc lw lx mo kf lz ma mp mc md me mq mg mh mi mr mk ml mm ij bi translated">发展是艰难的。解决问题和完成任务有时会让人不知所措。特别适合初学者。通过把你的任务分成更小的任务，你减少了认知负荷，使它更容易实现。</p><p id="9912" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">用这两种不同的心态来划分React任务对我帮助很大。希望对你也有帮助。</p><p id="8b0e" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">欢迎评论，分享你将任务分成小任务的模式或技巧。我很乐意听到更多的方法。</p><p id="59a8" class="pw-post-body-paragraph lr ls jb lt b lu lv kc lw lx ly kf lz ma mb mc md me mf mg mh mi mj mk ml mm ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>