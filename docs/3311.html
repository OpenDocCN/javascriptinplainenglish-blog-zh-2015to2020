<html>
<head>
<title>Top React Hooks — Input Handling and Utilities</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Top React挂钩—输入处理和实用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-input-handling-and-utilities-3d6bb383f592?source=collection_archive---------12-----------------------#2020-09-17">https://javascript.plainenglish.io/top-react-hooks-input-handling-and-utilities-3d6bb383f592?source=collection_archive---------12-----------------------#2020-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cbb3bf6adbe4556638953dadea89cf42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lrPVriM6T0OI8Hbg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mercantile?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Clark Street Mercantile</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6914" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="e208" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">坩埚</h1><p id="358c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">熔炉有很多钩子，我们可以在React应用程序中使用。</p><p id="566e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个有许多挂钩的实用程序库。</p><p id="6638" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="aac9" class="mn lc iq mj b gy mo mp l mq mr">npm install @withvoid/melting-pot --save</span></pre><p id="0eb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c64d" class="mn lc iq mj b gy mo mp l mq mr">yarn add @withvoid/melting-pot</span></pre><p id="1ed7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="03c2" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useActive } from "@withvoid/melting-pot";</span><span id="0e91" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const { active, bind } = useActive();</span><span id="5b1e" class="mn lc iq mj b gy ms mp l mq mr">  const styles = {<br/>    emphasis: {<br/>      backgroundColor: active ? "yellow" : "red",<br/>      color: active ? "black" : "white",<br/>      padding: 5,<br/>      width: 55,<br/>      textAlign: "center"<br/>    }<br/>  };</span><span id="aa7a" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div {...bind}&gt;<br/>      &lt;span style={styles.emphasis}&gt;{active ? "red" : "white"}&lt;/span&gt;<br/>      &lt;p&gt;{active.toString()}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="f074" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe mt mu mv mj b">bind</code>对象扩展到外部div，让我们观察内部的项目是否是活动的。</p><p id="6f51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们单击它时，就会显示出<code class="fe mt mu mv mj b">emphasis</code>属性中的样式。</p><p id="51aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们点击外部div时,<code class="fe mt mu mv mj b">active</code>状态会改变。</p><p id="db21" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们单击外部div时，它是活动的。</p><p id="3e2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还提供了<code class="fe mt mu mv mj b">useDidMount</code>钩子来代替React中的<code class="fe mt mu mv mj b">componentDidMount</code>方法。</p><p id="8e9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d59e" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useDidMount } from "@withvoid/melting-pot";</span><span id="7228" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  useDidMount(() =&gt; {<br/>    console.log("hello world");<br/>  });</span><span id="b945" class="mn lc iq mj b gy ms mp l mq mr">  return &lt;div /&gt;;<br/>}</span></pre><p id="1e4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是把我们想运行的东西放到<code class="fe mt mu mv mj b">useDidMount</code>回调函数中来运行它。</p><p id="a4d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">useFormField</code>钩子让我们可以轻松处理表单值。</p><p id="a85b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2b9d" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useFormField } from "@withvoid/melting-pot";</span><span id="b08d" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const form = {<br/>    name: useFormField(),<br/>    age: useFormField()<br/>  };</span><span id="6e8e" class="mn lc iq mj b gy ms mp l mq mr">  const onSubmit = event =&gt; {<br/>    event.preventDefault();<br/>    if (!onValidate()) {<br/>      return;<br/>    }<br/>    alert("Success");<br/>    onReset();<br/>  };</span><span id="7511" class="mn lc iq mj b gy ms mp l mq mr">  const onReset = () =&gt; Object.values(form).map(({ reset }) =&gt; reset());</span><span id="ebc8" class="mn lc iq mj b gy ms mp l mq mr">  const onValidate = () =&gt; {<br/>    let isValid = true;<br/>    Object.values(form).map(({ isEmpty, validate }) =&gt; {<br/>      validate();<br/>      if (isEmpty) {<br/>        isValid = false;<br/>      }<br/>    });<br/>    return isValid;<br/>  };</span><span id="1c2d" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;form onSubmit={onSubmit}&gt;<br/>        &lt;div&gt;<br/>          &lt;label htmlFor="name"&gt;Name&lt;/label&gt;<br/>          &lt;input id="name" {...form.name.bind} placeholder="name" /&gt;<br/>          {form.name.isValid &amp;&amp; &lt;p&gt;Name is required*&lt;/p&gt;}<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>          &lt;label htmlFor="age"&gt;Age&lt;/label&gt;<br/>          &lt;input id="age" {...form.age.bind} type="number" placeholder="age" /&gt;<br/>          {form.age.isValid &amp;&amp; &lt;p&gt;Age is required*&lt;/p&gt;}<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>          &lt;button type="submit"&gt;Submit&lt;/button&gt;<br/>          &lt;button type="button" onClick={onReset}&gt;<br/>            Reset<br/>          &lt;/button&gt;<br/>        &lt;/div&gt;<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="426b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建带有<code class="fe mt mu mv mj b">name</code>和<code class="fe mt mu mv mj b">age</code>字段的表单。</p><p id="58e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe mt mu mv mj b">form.name.bind</code>和<code class="fe mt mu mv mj b">form.age.bind</code>属性中的所有内容传递给输入，让我们处理表单值。</p><p id="efa1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用每个字段的<code class="fe mt mu mv mj b">isValid</code>属性来检查有效性。</p><p id="3caa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">onReset</code>函数获取所有的表单字段，并对它们调用<code class="fe mt mu mv mj b">reset</code>。</p><p id="98f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个表单字段中还有一个<code class="fe mt mu mv mj b">validate</code>方法来验证它们。</p><p id="bf8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">isEmpty</code>检查是否为空。</p><p id="4901" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些都是由<code class="fe mt mu mv mj b">useFormField</code>挂钩提供的。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/d506feff2a00f5f095cfb75a1324f5ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XioZ2bJpgQcM4ySd"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@wideshot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Anders Wideskott</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="fc93" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="1b25" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">熔炉库让我们可以做很多本来要自己写的事情。</p><h2 id="069f" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="4904" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>