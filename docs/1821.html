<html>
<head>
<title>Creating Siri commands with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js创建Siri命令</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-siri-commands-with-node-js-6ea66ca990f?source=collection_archive---------7-----------------------#2020-04-26">https://javascript.plainenglish.io/creating-siri-commands-with-node-js-6ea66ca990f?source=collection_archive---------7-----------------------#2020-04-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dbef6cc181b7189d8bbca8d3417d6207.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V7lNj6UtES7ALPSKCthTJg.png"/></div></div></figure><p id="ab95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我们已经有几次使用了Siri快捷方式。但我仍然发现它们在没有任何第三方阻止的情况下相当有限。那么我们能用香草块做什么呢？</p><p id="5b16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">实际上，你被HTTP请求<strong class="ka ir">卡住了</strong>😔。但是别担心，我的伙伴戴夫。我用JavaScript找到了一些解决方案💡！(实际上只有两个解决方案，但它们很棒)</p><p id="5173" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我的解决方案中，我将展示不同的想法，并简要概述，然后我会给你一些例子！抱歉，没有代码😦。但是别担心，我开发了一个应用程序，你可以在最后查看！</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="3569" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Siri快捷方式+ NodeJS服务器</h1><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c27831b4b7910ef852566498e17cc90d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NUDymnYNtVS99cxUEOTK-w.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">NodeJS</figcaption></figure><p id="cf0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有了这个解决方案，你可以做很多东西！是的，我知道你基本上是在创建一个API，但是等等。</p><p id="2742" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的机器上运行着一个NodeJS服务器(显然带有ExpressJS)。你可以读取/编辑你的文件，控制你的电脑，调用其他API，触发一些网络钩子，等等。</p><p id="50a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你想创造更奇特的东西吗？你可以添加一个电子图形用户界面。</p><p id="5b17" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">唯一的限制是你的能力，你的创造力，你喝的☕咖啡的数量，以及你能找到的NPM模块。</p><h2 id="e4b9" class="mj le iq bd lf mk ml dn lj mm mn dp ln kj mo mp lr kn mq mr lv kr ms mt lz mu bi translated"><strong class="ak">我给你举几个例子:</strong></h2><ul class=""><li id="2d43" class="mv mw iq ka b kb mx kf my kj mz kn na kr nb kv nc nd ne nf bi translated">可以关闭/暂停/重启电脑的快捷方式。如果你想更进一步，你可以把它添加到一个自动或例行程序中，在你睡觉时关闭你的电脑😴。</li></ul><p id="5778" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这个例子，我推荐使用<code class="fe ng nh ni nj b">spawn</code>,并可能使它成为一个服务。有几个NPM模块可以让你的代码成为服务。</p><ul class=""><li id="de52" class="mv mw iq ka b kb kc kf kg kj nk kn nl kr nm kv nc nd ne nf bi translated">打开您正在设备上阅读的网站的快捷方式。有点像DIY Handoff。顺便说一下，这个例子只对Windows和Linux有用。如果你在苹果电脑上做，你只是在浪费时间。</li><li id="b158" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">准备工作区的快捷方式。你知道媒体在一个窗口，也许YouTube/网飞在另一个窗口开始你的一天。然后唤醒您最喜欢的代码编辑器，让您的Spotify播放列表在您准备工作时随时播放。</li></ul><p id="1d45" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这两个例子，我将使用NPM模块<code class="fe ng nh ni nj b">open</code>并添加一个带有<code class="fe ng nh ni nj b">electron</code>的GUI来制作不同类型的屏幕。比如DIY移交的历史屏幕和workspace应用程序的设置屏幕。</p><ul class=""><li id="3eba" class="mv mw iq ka b kb kc kf kg kj nk kn nl kr nm kv nc nd ne nf bi translated">显示猫图片的快捷方式🐈在你的桌面上！(或者可能是独角鲸)</li></ul><p id="fe0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个例子中发挥创造性。</p><p id="257f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看，你可以用NodeJS服务器创建很多东西！</p><h2 id="edbb" class="mj le iq bd lf mk ml dn lj mm mn dp ln kj mo mp lr kn mq mr lv kr ms mt lz mu bi translated"><strong class="ak">利弊:</strong></h2><ul class=""><li id="dfda" class="mv mw iq ka b kb mx kf my kj mz kn na kr nb kv nc nd ne nf bi translated">实际上你可以创造任何东西！</li><li id="2f07" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">你可以使用任何你想要的模块！</li><li id="3293" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">你没有任何限制！</li><li id="7fca" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">但是如果你的应用不在云服务器上，你基本上需要你的电脑运行(但是如果你的应用需要你的电脑上的东西，这不是问题)</li><li id="c174" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">如果你不能从互联网访问你的NodeJS服务器，你将不得不从同一个网络运行你的快捷方式。😱</li><li id="4411" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">如果你绑定到你的本地网络，你的电脑有一个动态的IP地址，你需要在每次改变的时候更新你的快捷方式中使用的IP地址。</li><li id="ed01" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">如果你分享你的快捷方式，用户很可能需要修改一些东西。</li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="7240" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Siri快捷键+ WebHooks</h1><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6cee714e410c64bb284ef2acaaddb59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XF8w-HWgbjxp1M7etpi50A.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">WebHooks</figcaption></figure><p id="aa33" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这种解决方案在某些情况下是可行的，但有更多的限制。对于这个解决方案，首先你创建一些无服务器的功能(又名WebHooks)并把它们托管在一个云服务中(比如在ZEIT Now或Firebase中🔥).然后你创建一个快捷方式，向你的WebHook发出一个HTTP请求，它可以给你一些东西(get)，或者发送一些东西(POST)，或者两者都有。很简单。</p><p id="b471" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这意味着您创建的快捷方式将主要用于检索/编辑某种数据或切换外部操作。但是你仍然可以得到一些有用的快捷方式。</p><p id="5983" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，通过使用WebHooks，您可以将工作负载留给外部服务器，这对于第二层自动化来说是非常棒的。</p><p id="0b8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以这里列出了一些你可以赋予你的网页钩子的功能！</p><h2 id="2f63" class="mj le iq bd lf mk ml dn lj mm mn dp ln kj mo mp lr kn mq mr lv kr ms mt lz mu bi translated"><strong class="ak">功能:</strong></h2><ul class=""><li id="a49f" class="mv mw iq ka b kb mx kf my kj mz kn na kr nb kv nc nd ne nf bi translated">获取数据(天气、交通、状态等)的快捷方式。)</li><li id="d2f9" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">设置数据(笔记、链接、数据库等)的快捷方式。)</li><li id="a91f" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">切换外部操作的快捷方式(询问优步，在你的社交网络上发布消息，控制设备)</li><li id="6b24" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">控制智能家居的快捷方式(如果您的设备与HomeKit兼容，请不要浪费时间)</li></ul><h2 id="dcba" class="mj le iq bd lf mk ml dn lj mm mn dp ln kj mo mp lr kn mq mr lv kr ms mt lz mu bi translated"><strong class="ak">利弊:</strong></h2><ul class=""><li id="0f46" class="mv mw iq ka b kb mx kf my kj mz kn na kr nb kv nc nd ne nf bi translated">你不需要一直开着电脑，就能获得一些令人惊叹的应用。</li><li id="349c" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">对于第二平面应用程序来说太棒了。</li><li id="5141" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">如果你想让人们使用你的快捷方式。他们只需要快捷方式，因为你的网页挂钩使用公共网址，这意味着用户不必改变网址。简单。(但是，如果您正在处理私人数据，请添加某种身份验证)</li><li id="4d94" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nc nd ne nf bi translated">您被限制使用API，并且您可能会遇到您的云提供商的一些限制。</li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="8aeb" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Siri快捷方式提示和知识</h1><p id="6fb1" class="pw-post-body-paragraph jy jz iq ka b kb mx kd ke kf my kh ki kj ns kl km kn nt kp kq kr nu kt ku kv ij bi translated">但是在你开始创建你的应用之前，让我给你一些有用的提示和知识。</p><ol class=""><li id="cf91" class="mv mw iq ka b kb kc kf kg kj nk kn nl kr nm kv nv nd ne nf bi translated">遗憾的是，没有任何第三方块，就不能有全局变量。</li><li id="86b8" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nv nd ne nf bi translated">如果你需要发送一个<strong class="ka ir">推送通知</strong>或者将来会发送一些东西你就不能有快捷监听了。你需要像IFTTT这样的服务。</li><li id="50c2" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nv nd ne nf bi translated">如果你需要加密什么，那就忘了它吧。</li><li id="b702" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nv nd ne nf bi translated">但是您可以创建一个安全的连接，因为有一个块可以生成不同类型的散列。</li><li id="5509" class="mv mw iq ka b kb nn kf no kj np kn nq kr nr kv nv nd ne nf bi translated">注意你的快捷键是如何解释变量/输入的。有时它会给你带来麻烦。</li></ol><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/9aed9131ada5d2d2b412d01a2b5d1280.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*Yf6GWWGLlw_9yeG-aB8nvA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">Siri Shortcuts Variable Settings</figcaption></figure><p id="697c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">6.如果你手边有一个iPad，在里面创建你的快捷方式。我保证编码会简单十倍。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="cd65" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="8532" class="pw-post-body-paragraph jy jz iq ka b kb mx kd ke kf my kh ki kj ns kl km kn nt kp kq kr nu kt ku kv ij bi translated">如果你有时间，并且想在不查看第三方应用程序的情况下有更多的选择(这通常是很贵的)，那么尝试编写一个解决方案添加到你的快捷方式中可能是一个好主意。有了节点和快捷方式，你将⚡提高你的生产力，你将有更多的工具在你的腰带上。</p><p id="4fd6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在Siri快捷键唯一的限制就是你的想象力。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="1abb" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><strong class="ak">现实生活中的例子</strong></h1><p id="e6c6" class="pw-post-body-paragraph jy jz iq ka b kb mx kd ke kf my kh ki kj ns kl km kn nt kp kq kr nu kt ku kv ij bi translated">我保证我有一个例子，你可以回顾并作为灵感。这是一个电子应用程序，只需扫描一个代码，就可以将图像/文件共享到你的电脑上。请随意查看👍🏻。</p><p id="c09d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae nx" href="https://github.com/DJCarlosValdez/PhaserSync" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> PhaserSync服务器</strong> </a></p><p id="1720" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae nx" href="https://www.icloud.com/shortcuts/9cbbbb02099d4b51adcaa86f5f616c07" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">同步发送照片快捷方式</strong> </a></p><p id="fb44" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae nx" href="https://www.icloud.com/shortcuts/241a0551bd16490a98513b598922968e" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> PhaserSync发送文件快捷方式</strong> </a></p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="c8ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读！希望对你有用。</p><p id="50bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">卡洛斯</p></div></div>    
</body>
</html>