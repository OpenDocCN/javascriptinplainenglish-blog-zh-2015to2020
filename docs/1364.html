<html>
<head>
<title>How to use the new Nullish Coalescing operator in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用新的Nullish合并操作符</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nullish-coalescing-operator-for-javascript-8f502b970ba8?source=collection_archive---------2-----------------------#2020-03-07">https://javascript.plainenglish.io/nullish-coalescing-operator-for-javascript-8f502b970ba8?source=collection_archive---------2-----------------------#2020-03-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f096" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简明、有用的JavaScript课程——让它变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6b424bcba20ddd192d8c6cd0e1e1026f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LeYBjLHr6kmYIoSx-aHdDA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image of two monitors with code in their screens</figcaption></figure><p id="2a71" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">无效合并运算符"？?"添加一个新的短路运算符，当其左侧操作数为空或未定义时，返回其右侧操作数，否则返回其左侧操作数。</p><p id="a27b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">他目前的阶段是第4阶段，这意味着该添加已经准备好包含在正式的ECMAScript标准中。</p><p id="e59f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它可以在Chrome或Firefox等最新版本中运行。</p><p id="2bdc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是一个简单的用例</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="d977" class="lx ly iq lt b gy lz ma l mb mc">const team = null ?? 'A team';<br/>console.log(team);<br/>//A team</span></pre><h2 id="8b7d" class="lx ly iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">零融合算子动机</h2><p id="d28f" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">你肯定知道其他的短路操作符，比如“&amp;&amp;”或者“||”这些运算符用于处理“真”和“假”值。但是，首先，JavaScript中的“假”或“真”值是什么？</p><p id="b196" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">虚假值:</p><ul class=""><li id="5a0a" class="mz na iq kx b ky kz lb lc le nb li nc lm nd lq ne nf ng nh bi translated">布尔假</li><li id="a88c" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">空值</li><li id="6670" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">不明确的</li><li id="40b2" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">数字0</li><li id="12da" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">号码NaN</li><li id="fb0e" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">BigInt 0n</li><li id="c73a" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">空字符串""</li></ul><p id="3ef8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">真实值:</p><p id="7fea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除先前值外的所有值。</p><p id="80cf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">“&amp;&amp;”和“||”运算符的问题是因为他对真和假的定义导致了错误。这些运算符适用于空值或未定义的值，但是许多假值可能会产生意外的结果。</p><p id="4343" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本例中，我希望在处理响应时，我们将变量“enableAudio”的值赋为零。相反，它将默认值设置为1，因为响应的零值被解释为假值。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="5164" class="lx ly iq lt b gy lz ma l mb mc">const response = {<br/>     enableAudio : 0<br/>}</span><span id="ebee" class="lx ly iq lt b gy nn ma l mb mc">const enableAudio = response.enableAudio <strong class="lt ir">||</strong> 1;<br/>enableAudio<br/><strong class="lt ir">//1</strong></span></pre><p id="c1c1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">零化凝聚算子？?"</strong>的行为与运算符“||”非常相似，除了<strong class="kx ir">在计算运算符时不使用“真值”。相反，它使用“nullish”的定义，</strong>，这意味着该值严格等于null或未定义。</p><p id="8a94" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在下面的示例中，变量“enableAudio”的值为零，并且使用了nullish合并运算符“？?"<strong class="kx ir"> </strong>这是一个非空值。因此，表达式计算到左侧。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="3518" class="lx ly iq lt b gy lz ma l mb mc">const response = {<br/>     enableAudio : 0<br/>}</span><span id="7b80" class="lx ly iq lt b gy nn ma l mb mc">const enableAudio = response.enableAudio <strong class="lt ir">??</strong> 1;<br/>enableAudio<br/><strong class="lt ir">//0</strong></span></pre><p id="5791" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用运算符“||”时，如果第一个操作数为真，则计算第一个操作数。否则，它计算为第二个。使用nullish合并运算符时，如果第一个运算符为falsy但不是Nullish，则计算第二个操作数。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="bdc3" class="lx ly iq lt b gy lz ma l mb mc">console.log(false || true);//true<br/>console.log(false ?? true);//false</span></pre><p id="4dd3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里，零被评估为一个假值；因此，该表达式使用“||运算符计算右边的值但是，使用Nullish合并运算符，零不为空。因此，表达式的计算结果是左边的值。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="80cc" class="lx ly iq lt b gy lz ma l mb mc">console.log(0 || 1); //1<br/>console.log(0 ?? 1); //0</span></pre><p id="d6e6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在下一个示例中，如果您使用运算符“||”对其求值，您获得的结果是右边的值，因为空字符串是一个假值。相反，使用Nullish合并运算符，空字符串不为null，因此表达式的计算结果是左边的值。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="5708" class="lx ly iq lt b gy lz ma l mb mc">console.log('' || 'Hello!');//Hello      <br/>console.log('' ?? 'Hello');//''</span></pre><p id="8339" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">总之，运算符“||”将值处理为falsy或truthy，而运算符“？?"将值作为nullish处理。这意味着使用运算符“||”时，如果第一个操作数是未定义的、null、0、false、NaN或空字符串，则使用运算符“|”计算第二个操作数。?"如果第一个操作数为空或未定义，则计算第二个操作数。</p><h2 id="0542" class="lx ly iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">结论</h2><p id="afa2" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">使用运算符“||”计算表达式时，隐藏了大量错误，如果使用新的nullish合并运算符“|”，就可以避免这些错误。?"此外，您还可以防止许多代码样板。</p><p id="9865" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望这有助于您了解无效合并运算符"？?"，谢谢你读我。</p></div></div>    
</body>
</html>