<html>
<head>
<title>Weird Parts of JavaScript — Comparisons and Arithmetic</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript奇怪的部分——比较和算术</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/weird-parts-of-javascript-comparisons-and-arithmetic-df98e5d1053e?source=collection_archive---------13-----------------------#2020-05-06">https://javascript.plainenglish.io/weird-parts-of-javascript-comparisons-and-arithmetic-df98e5d1053e?source=collection_archive---------13-----------------------#2020-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8fd1925af5e64401be1565f9080cb465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G2wTBZCVN2vKDeYE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@museumsvictoria?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Museums Victoria</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fd03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种编程语言，由于它的过去，它有很多奇怪的行为。它未经询问就对我们正在做的事情做了许多假设。</p><p id="c59b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看JavaScript比较和奇怪的算术运算的奇怪部分。</p><h1 id="0390" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">比较3个数字</h1><p id="9052" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们有一连串的比较运算符，它们总是很奇怪。</p><p id="97cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有<code class="fe me mf mg mh b">1 &lt; 2 &lt; 3</code>，它返回<code class="fe me mf mg mh b">true</code>。但是如果我们有<code class="fe me mf mg mh b">3 &gt; 2 &gt; 1</code>，它返回<code class="fe me mf mg mh b">false</code>。这很奇怪，尽管它看起来应该是<code class="fe me mf mg mh b">true</code>。</p><p id="3d63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为它们都是从左向右解释的。因此，如果我们有<code class="fe me mf mg mh b">1 &lt; 2 &lt; 3</code>，那么它被解释为<code class="fe me mf mg mh b">true &lt; 3</code>，因为1小于2。然后<code class="fe me mf mg mh b">true</code>被强制为1，所以解释为<code class="fe me mf mg mh b">1 &lt; 3</code>。</p><p id="196c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们有了表达式<code class="fe me mf mg mh b">1 &lt; 2 &lt; 3</code>返回<code class="fe me mf mg mh b">true</code>。</p><p id="ace9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，如果我们有表达式<code class="fe me mf mg mh b">3 &gt; 2 &gt; 1</code>。然后再一次从左向右解读。因此，我们得到比<code class="fe me mf mg mh b">3 &gt; 2</code>返回<code class="fe me mf mg mh b">true</code>，因为3大于2。然后表达式<code class="fe me mf mg mh b">true</code>被强制为1。</p><p id="2dd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们得到<code class="fe me mf mg mh b">1 &gt; 1</code>，它返回<code class="fe me mf mg mh b">false</code>。</p><p id="477c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了避免这样的意外结果，我们应该避免以这种方式链接比较操作符。</p><h1 id="dc19" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">有趣的算术</h1><p id="d1b4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript的算术运算符几乎可以应用于一个对象。唯一的问题是，我们会得到奇怪的结果，这些结果可能是我们不期望或不想要的。</p><p id="759e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有<code class="fe me mf mg mh b">1 — 1</code>，我们会得到预期的0。如果我们有<code class="fe me mf mg mh b">1 + 1</code>，我们得到2，这也是我们所期望的。</p><p id="cadc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们用算术运算混合不同数据类型的操作数，事情会变得很奇怪。</p><p id="2f71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有<code class="fe me mf mg mh b">'1' — 1</code>，我们得到0。这是因为字符串表示1在被<code class="fe me mf mg mh b">-</code>操作符使用之前会自动转换成一个数字。</p><p id="3a2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果我们有<code class="fe me mf mg mh b">‘1’ + 1</code>，我们得到<code class="fe me mf mg mh b">'11'</code>，因为<code class="fe me mf mg mh b">+</code>符号被认为是字符串连接操作符，而不是加法操作符。因此，数字1被转换为1的字符串表示形式并连接在一起。</p><p id="41a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们尝试对对象和数组使用<code class="fe me mf mg mh b">+</code>操作符，我们会得到更多意想不到的结果。</p><p id="2e06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，<code class="fe me mf mg mh b">[] + []</code>返回一个空字符串。出于某种原因，JavaScript强制空数组为空字符串并将它们连接在一起。</p><p id="8ea6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，<code class="fe me mf mg mh b">{} + []</code>返回0。第一个表达式被解释为空块，而不是空对象。因此，它实际上相当于<code class="fe me mf mg mh b">+[]</code>，然后被解释为<code class="fe me mf mg mh b">Number([])</code>。</p><p id="5e91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后解读为<code class="fe me mf mg mh b">Number([].toString())</code>。然后我们得到<code class="fe me mf mg mh b">Number('')</code>，它返回0。</p><p id="42bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">表达式<code class="fe me mf mg mh b">[] + {}</code>返回<code class="fe me mf mg mh b">‘[object Object]’</code>，因为现在它们都被解释为字符串。</p><p id="e394" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">空数组被转换为空字符串，现在<code class="fe me mf mg mh b">{}</code>被解释为空对象，所以当我们将它转换为字符串时，它被转换为<code class="fe me mf mg mh b">‘[object Object]’</code>。</p><p id="9a6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到<code class="fe me mf mg mh b">'' + ‘[object Object]’</code>，也就是<code class="fe me mf mg mh b">‘[object Object]’</code>。</p><p id="d798" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其他奇怪的表达式包括<code class="fe me mf mg mh b">‘222’ — -’110'</code>，它返回数字332，因为它们都被转换为数字。字符串<code class="fe me mf mg mh b">'222'</code>被转换成一个数字。</p><p id="86fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有了<code class="fe me mf mg mh b">-</code>符号，然后我们有了一元<code class="fe me mf mg mh b">-</code>操作符，它将字符串<code class="fe me mf mg mh b">'110'</code>转换为<code class="fe me mf mg mh b">-110</code>。</p><p id="2a4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以表达式解释为<code class="fe me mf mg mh b">222 + 110</code>，是332。</p><p id="585e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于二元<code class="fe me mf mg mh b">+</code>运算，以下是可能性及其假设运算的列表:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3eb1" class="mq lc iq mh b gy mr ms l mt mu">Number  + Number  =&gt; addition<br/>Boolean + Number  =&gt; addition<br/>Boolean + Boolean =&gt; addition<br/>Number  + String  =&gt; concatenation<br/>String  + Boolean =&gt; concatenation<br/>String  + String  =&gt; concatenation</span></pre><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/c8a0cb7d0d7a825b6652408b31cb0b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pb7AisZubH192CWc"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@stephenbroome?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stephen Broome</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bb1e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7277" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在JavaScript中，比较操作链总是从左到右进行解释。所以我们可能会得到意想不到的结果，如果我们有一个链在一起。</p><p id="b23f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于JavaScript的类型强制，如果我们试图使用<code class="fe me mf mg mh b">+</code>操作符将2个值合并为1，我们会得到意想不到的有趣结果。</p><p id="32d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript解释器对我们试图组合的内容做了很多假设，并以他们自己的方式进行转换，因为我们试图用<code class="fe me mf mg mh b">+</code>操作符进行组合。</p><p id="ba78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为<code class="fe me mf mg mh b">+</code>操作符可以是加法和连接操作符。</p><h2 id="460b" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated"><strong class="ak">简明英语团队的笔记</strong></h2><p id="7aa4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四种出版物吗？给他们一个follow来表达爱意:<a class="ae kc" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="kf ir">JavaScript in Plain English</strong></a><a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a><a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a><a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p><p id="6aef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们总是有兴趣帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div></div>    
</body>
</html>