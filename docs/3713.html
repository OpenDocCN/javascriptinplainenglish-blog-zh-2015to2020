<html>
<head>
<title>Vue 3 — Directive Shorthands and Arguments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3 —指令缩写和参数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-3-directive-shorthands-and-arguments-7da5fba2dfa7?source=collection_archive---------14-----------------------#2020-10-19">https://javascript.plainenglish.io/vue-3-directive-shorthands-and-arguments-7da5fba2dfa7?source=collection_archive---------14-----------------------#2020-10-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bd99cc40f48bef2c2a28f4aa1e380fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pTYQHo3H2S0AIZnY"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@officestock?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sebastian Herrmann</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bd5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue 3处于测试阶段，可能会有变化。</p><p id="d5d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue 3是Vue前端框架的最新版本。</p><p id="1584" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它建立在Vue 2的普及性和易用性之上。</p><p id="577f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究指令的动态参数。</p><h1 id="e09d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">动态参数</h1><p id="8a1b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vue 3指令可以接受动态参数。</p><p id="c35b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="04a5" class="mn lc iq mj b gy mo mp l mq mr">&lt;a v-bind:[attributeName]="url"&gt; ... &lt;/a&gt;</span></pre><p id="3617" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="12dc" class="mn lc iq mj b gy mo mp l mq mr">&lt;a v-on:[eventName]="doSomething"&gt; ... &lt;/a&gt;</span></pre><p id="0de1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将一个参数传递给一个指令。</p><p id="436c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这适用于任何指令，包括我们创建的指令。</p><h1 id="a89e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">修饰语</h1><p id="fe27" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们也可以在指令中传递修饰符。</p><p id="84b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，<code class="fe ms mt mu mj b">v-on</code>指令可以为某个事件接受一个修饰符。</p><p id="64ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="33b5" class="mn lc iq mj b gy mo mp l mq mr">&lt;form v-on:submit.prevent="onSubmit"&gt;...&lt;/form&gt;</span></pre><p id="5412" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们调用<code class="fe ms mt mu mj b">onSubmit</code>处理程序中的<code class="fe ms mt mu mj b">event.preventDefault</code>。</p><p id="2344" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这让我们能够阻止默认行为的发生。</p><p id="ae01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5e4b" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue@next" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue@next</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;form v-on:submit.prevent="onSubmit"&gt;<br/>        &lt;input v-model="name" /&gt;<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const vm = Vue.createApp({<br/>        data() {<br/>          return {<br/>            name: ""<br/>          };<br/>        },<br/>        methods: {<br/>          onSubmit() {<br/>            console.log(this.name);<br/>          }<br/>        }<br/>      }).mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="17c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe ms mt mu mj b">v-on:submit:prevent</code>指令创建一个表单，在一个指令中使用<code class="fe ms mt mu mj b">event.preventDefault</code>方法运行<code class="fe ms mt mu mj b">onSubmit</code>方法。</p><h1 id="e5c4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">人手不足</h1><p id="ded0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以把<code class="fe ms mt mu mj b">v-bind</code>缩短为<code class="fe ms mt mu mj b">:</code>。</p><p id="d200" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d7b1" class="mn lc iq mj b gy mo mp l mq mr">&lt;a :href="url"&gt; ... &lt;/a&gt;</span></pre><p id="85e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而不是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f5a7" class="mn lc iq mj b gy mo mp l mq mr">&lt;a v-bind:href="url"&gt; ... &lt;/a&gt;</span></pre><p id="c581" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用速记来传递一个论点:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3e39" class="mn lc iq mj b gy mo mp l mq mr">&lt;a :[key]="url"&gt; ... &lt;/a&gt;</span></pre><p id="69c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="de26" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;a :href="url"&gt;link&lt;/a&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const vm = Vue.createApp({<br/>        data() {<br/>          return {<br/>            url: "http://example.com"<br/>          };<br/>        }<br/>      }).mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="22c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">v-on</code>也有自己的速记。</p><p id="45ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而不是写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="104b" class="mn lc iq mj b gy mo mp l mq mr">&lt;a v-on:click="doSomething"&gt; ... &lt;/a&gt;</span></pre><p id="e0ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4e87" class="mn lc iq mj b gy mo mp l mq mr">&lt;a @click="doSomething"&gt; ... &lt;/a&gt;</span></pre><p id="4214" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">简称。</p><p id="51b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想要一个动态事件，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cbdd" class="mn lc iq mj b gy mo mp l mq mr">&lt;a @[event]="doSomething"&gt; ... &lt;/a&gt;</span></pre><p id="92b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9098" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;button @click="toggle"&gt;toggle&lt;/button&gt;<br/>      &lt;p&gt;{{on}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const vm = Vue.createApp({<br/>        data() {<br/>          return {<br/>            on: true<br/>          };<br/>        },<br/>        methods: {<br/>          toggle() {<br/>            this.on = !this.on;<br/>          }<br/>        }<br/>      }).mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="b9ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向我们的按钮添加一个点击监听器。</p><h1 id="25f8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">警告</h1><p id="a88f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">动态值有一些限制。</p><p id="b70b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">方括号内的内容必须返回一个字符串或<code class="fe ms mt mu mj b">null</code>。</p><p id="a62d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">null</code>可用于解除捆绑。</p><p id="3b55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">任何其他值都将触发警告。</p><p id="885d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">某些字符在HTML中是无效的，所以我们不能将它们作为动态参数的值。</p><p id="2218" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们不能有带引号的名字。</p><p id="a918" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">类似于:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b423" class="mn lc iq mj b gy mo mp l mq mr">&lt;a v-bind:['foo ' + bar]="value"&gt; ... &lt;/a&gt;</span></pre><p id="4770" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">行不通。</p><p id="09d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也应该避免用大写字母命名键，因为浏览器会将它们转换成小写字母。</p><h1 id="eb61" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">JavaScript表达式</h1><p id="39e7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">模板表达式是沙箱，所以我们不能在模板表达式中使用全局变量。</p><p id="0f62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它只能从白名单中访问全局变量列表。</p><p id="3e94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">白名单位于<a class="ae kc" href="https://github.com/vuejs/vue-next/blob/master/packages/shared/src/globalsWhitelist.ts#L3" rel="noopener ugc nofollow" target="_blank">https://github . com/vue js/vue-next/blob/master/packages/shared/src/globalswhitelist . ts # L3</a>。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/432d1fdc00c8d908ca5bf07d719114f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m36uYCxiMWTLBond"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@emilianovittoriosi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Emiliano Vittoriosi</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="e34e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="c32e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vue指令可以接受动态参数。</p><p id="55d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用各种简写来代替一些指令。</p><p id="cc30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>