<html>
<head>
<title>How to Add Form Validation to Your React App with Redux Form</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Redux Form向React应用程序添加表单验证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-form-validation-to-your-react-app-with-redux-form-42d6ccc85305?source=collection_archive---------0-----------------------#2019-12-10">https://javascript.plainenglish.io/how-to-add-form-validation-to-your-react-app-with-redux-form-42d6ccc85305?source=collection_archive---------0-----------------------#2019-12-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d348" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">表单验证是web应用程序中经常需要的功能。React没有自带表单验证，因为它应该是一个视图库，为开发人员提供代码结构。幸运的是，开发人员已经提出了许多表单验证解决方案。其中一个是Redux Form，位于<a class="ae kl" href="https://redux-form.com/8.2.2/" rel="noopener ugc nofollow" target="_blank">https://redux-form.com/8.2.2/</a>。</p><p id="b829" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">顾名思义，Redux Form使用Redux来存储表单数据。它需要自己的reducer来存储表单数据。您编写的表单组件连接到内置的reducer来存储数据。如果您想获得初始数据，您可以将数据加载到您的Redux存储中，然后Redux Form可以检索它。</p><p id="b267" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">表单值检查和表单验证错误由您提供。你可以在需要的时候从商店获取表单值。通过将我们的定制组件传递到Redux Form提供的<code class="fe km kn ko kp b">Field</code>组件中，可以很容易地定制表单输入组件。</p><p id="5116" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将编写一个地址簿应用程序来说明使用Redux Form进行表单验证。我们需要有一个Redux存储来存储表单数据，编辑时选择的联系人数据，以及联系人列表。首先，我们将通过运行<code class="fe km kn ko kp b">npx create-react-app address-book</code>来创建应用程序，从而运行Create React App。</p><p id="0e27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行之后，我们添加自己的库。我们需要Axios进行HTTP请求，React Bootstrap进行样式化，React Redux和Redux进行状态管理，React Router进行路由，当然还有Redux Form进行表单验证。</p><p id="c91e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们通过运行以下命令来安装它们:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="c12b" class="ky kz iq kp b gy la lb l lc ld">npm i axios react-bootstrap react-redux react-router-fom redux redux-form</span></pre><p id="afca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装好库后，我们就可以开始编写应用程序了。我们在<code class="fe km kn ko kp b">src</code>文件夹中创建所有文件，除非另有说明。首先，我们在<code class="fe km kn ko kp b">src</code>文件夹中创建<code class="fe km kn ko kp b">actionCreators.js</code>，并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="c966" class="ky kz iq kp b gy la lb l lc ld">import { SET_CONTACTS, LOAD } from "./actions";</span><span id="57f9" class="ky kz iq kp b gy le lb l lc ld">const setContacts = contacts =&gt; {<br/>  return {<br/>    type: SET_CONTACTS,<br/>    payload: contacts<br/>  };<br/>};</span><span id="2cea" class="ky kz iq kp b gy le lb l lc ld">const setCurrentContact = contact =&gt; {<br/>  return {<br/>    type: LOAD,<br/>    data: contact<br/>  };<br/>};</span><span id="e2de" class="ky kz iq kp b gy le lb l lc ld">export { setContacts, setCurrentContact };</span></pre><p id="5145" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些是我们分派给Redux存储的动作和负载。<code class="fe km kn ko kp b">setContacts</code>用于设置联系人列表，<code class="fe km kn ko kp b">setCurrentContact</code>用于加载联系人进行编辑。</p><p id="09c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们创建<code class="fe km kn ko kp b">actions.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="25d6" class="ky kz iq kp b gy la lb l lc ld">const SET_CONTACTS = "SET_CONTACTS";<br/>const LOAD = "LOAD";</span><span id="00b6" class="ky kz iq kp b gy le lb l lc ld">export { SET_CONTACTS, LOAD };</span></pre><p id="ff41" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些是我们的商店配送行动的行动类型的常数。接下来在<code class="fe km kn ko kp b">App.js</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="3a09" class="ky kz iq kp b gy la lb l lc ld">import React from "react";<br/>import { Router, Route, Link } from "react-router-dom";<br/>import HomePage from "./HomePage";<br/>import { createBrowserHistory as createHistory } from "history";<br/>import Navbar from "react-bootstrap/Navbar";<br/>import Nav from "react-bootstrap/Nav";<br/>import "./App.css";<br/>const history = createHistory();</span><span id="5d8a" class="ky kz iq kp b gy le lb l lc ld">function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Router history={history}&gt;<br/>        &lt;Navbar bg="primary" expand="lg" variant="dark"&gt;<br/>          &lt;Navbar.Brand href="#home"&gt;Address Book App&lt;/Navbar.Brand&gt;<br/>          &lt;Navbar.Toggle aria-controls="basic-navbar-nav" /&gt;<br/>          &lt;Navbar.Collapse id="basic-navbar-nav"&gt;<br/>            &lt;Nav className="mr-auto"&gt;<br/>              &lt;Nav.Link href="/"&gt;Home&lt;/Nav.Link&gt;<br/>            &lt;/Nav&gt;<br/>          &lt;/Navbar.Collapse&gt;<br/>        &lt;/Navbar&gt;<br/>        &lt;Route path="/" exact component={HomePage} /&gt;<br/>      &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="6e52" class="ky kz iq kp b gy le lb l lc ld">export default App;</span></pre><p id="0ef6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将React Bootstrap <code class="fe km kn ko kp b">Navbar</code>组件添加到页面顶部。我们还为将要创建的主页添加了React路由器路由。</p><p id="4b29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们创建<code class="fe km kn ko kp b">ContactForm.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="a7b3" class="ky kz iq kp b gy la lb l lc ld">import React from "react";<br/>import Form from "react-bootstrap/Form";<br/>import Button from "react-bootstrap/Button";<br/>import PropTypes from "prop-types";<br/>import { addContact, editContact, getContacts } from "./requests";<br/>import { connect } from "react-redux";<br/>import { setContacts, setCurrentContact } from "./actionCreators";<br/>import { Field, reduxForm } from "redux-form";<br/>import { renderInputField } from "./RenderInputField";<br/>import { renderCountryField } from "./RenderCountryField";<br/>import { getFormValues, isInvalid } from "redux-form";</span><span id="1868" class="ky kz iq kp b gy le lb l lc ld">const validate = values =&gt; {<br/>  const errors = {};<br/>  if (!values.firstName) {<br/>    errors.firstName = "Required";<br/>  }<br/>  if (!values.lastName) {<br/>    errors.lastName = "Required";<br/>  }<br/>  if (!values.city) {<br/>    errors.city = "Required";<br/>  }<br/>  if (!values.address) {<br/>    errors.address = "Required";<br/>  }<br/>  if (!values.region) {<br/>    errors.region = "Required";<br/>  }<br/>  if (!values.postalCode) {<br/>    errors.postalCode = "Required";<br/>  } else {<br/>    if (<br/>      (values.country == "United States" &amp;&amp;<br/>        !/^[0-9]{5}(?:-[0-9]{4})?$/.test(values.postalCode)) ||<br/>      (values.country == "Canada" &amp;&amp;<br/>        !/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/.test(values.postalCode))<br/>    ) {<br/>      errors.postalCode = "Invalid postal code";<br/>    }<br/>  }</span><span id="d687" class="ky kz iq kp b gy le lb l lc ld">if (!values.phone) {<br/>    errors.phone = "Required";<br/>  } else {<br/>    if (<br/>      (values.country == "United States" || values.country == "Canada") &amp;&amp;<br/>      !/^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(values.phone)<br/>    ) {<br/>      errors.phone = "Invalid phone";<br/>    }<br/>  }</span><span id="b29d" class="ky kz iq kp b gy le lb l lc ld">if (!/[^@]+@[^\.]+\..+/.test(values.email)) {<br/>    errors.email = "Invalid email";<br/>  }<br/>  if (Number.isNaN(+values.age) || values.age &lt; 0 || values.age &gt; 200) {<br/>    errors.age = "Age must be between 0 and 200";<br/>  }<br/>  if (!values.country) {<br/>    errors.country = "Required";<br/>  }<br/>  return errors;<br/>};</span><span id="7e23" class="ky kz iq kp b gy le lb l lc ld">function ContactForm({<br/>  edit,<br/>  onSave,<br/>  setContacts,<br/>  contact,<br/>  onCancelAdd,<br/>  onCancelEdit,<br/>  invalid,<br/>  values,<br/>  currentContact,<br/>  ...props<br/>}) {<br/>  const handleSubmit = async event =&gt; {<br/>    if (invalid) {<br/>      return;<br/>    }<br/>    if (!edit) {<br/>      await addContact(values);<br/>    } else {<br/>      await editContact(values);<br/>    }<br/>    const response = await getContacts();<br/>    setContacts(response.data);<br/>    onSave();<br/>  };</span><span id="0568" class="ky kz iq kp b gy le lb l lc ld">return (<br/>    &lt;div className="form"&gt;<br/>      &lt;Form noValidate onSubmit={props.handleSubmit(handleSubmit.bind(this))}&gt;<br/>        &lt;Field<br/>          name="firstName"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="First Name"<br/>        /&gt;</span><span id="5cdd" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="lastName"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="Last Name"<br/>        /&gt;</span><span id="6064" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="address"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="Address"<br/>        /&gt;</span><span id="4d81" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="city"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="City"<br/>        /&gt;</span><span id="be07" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="region"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="Region"<br/>        /&gt;</span><span id="4053" class="ky kz iq kp b gy le lb l lc ld">&lt;Field name="country" component={renderCountryField} label="Country" /&gt;</span><span id="ddb6" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="postalCode"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="Postal Code"<br/>        /&gt;</span><span id="d058" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="phone"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="Phone"<br/>        /&gt;</span><span id="e640" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="email"<br/>          type="email"<br/>          component={renderInputField}<br/>          label="Email"<br/>        /&gt;</span><span id="d855" class="ky kz iq kp b gy le lb l lc ld">&lt;Field<br/>          name="age"<br/>          type="text"<br/>          component={renderInputField}<br/>          label="Age"<br/>        /&gt;</span><span id="e711" class="ky kz iq kp b gy le lb l lc ld">&lt;Button type="submit" style={{ marginRight: "10px" }}&gt;<br/>          Save<br/>        &lt;/Button&gt;<br/>        &lt;Button type="button" onClick={edit ? onCancelEdit : onCancelAdd}&gt;<br/>          Cancel<br/>        &lt;/Button&gt;<br/>      &lt;/Form&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="9a23" class="ky kz iq kp b gy le lb l lc ld">ContactForm.propTypes = {<br/>  edit: PropTypes.bool,<br/>  onSave: PropTypes.func,<br/>  onCancelAdd: PropTypes.func,<br/>  onCancelEdit: PropTypes.func,<br/>  contact: PropTypes.object<br/>};</span><span id="970b" class="ky kz iq kp b gy le lb l lc ld">const mapStateToProps = state =&gt; {<br/>  return {<br/>    contacts: state.contacts<br/>  };<br/>};</span><span id="fb98" class="ky kz iq kp b gy le lb l lc ld">const mapDispatchToProps = dispatch =&gt; ({<br/>  setContacts: contacts =&gt; dispatch(setContacts(contacts))<br/>});</span><span id="c4ee" class="ky kz iq kp b gy le lb l lc ld">ContactForm = connect(state =&gt; ({<br/>  values: getFormValues("syncValidation")(state),<br/>  invalid: isInvalid("syncValidation")(state)<br/>}))(ContactForm);</span><span id="93e0" class="ky kz iq kp b gy le lb l lc ld">ContactForm = connect(<br/>  mapStateToProps,<br/>  mapDispatchToProps<br/>)(ContactForm);</span><span id="8abc" class="ky kz iq kp b gy le lb l lc ld">ContactForm = reduxForm({<br/>  form: "syncValidation",<br/>  validate,<br/>  enableReinitialize: true<br/>})(ContactForm);</span><span id="bade" class="ky kz iq kp b gy le lb l lc ld">ContactForm = connect(state =&gt; {<br/>  return {<br/>    initialValues: state.currentContact.data<br/>  };<br/>})(ContactForm);</span><span id="5556" class="ky kz iq kp b gy le lb l lc ld">export default ContactForm;</span></pre><p id="3ffe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是用于编辑和添加我们的联系人的表单。我们在这里大量使用重叠形式。<code class="fe km kn ko kp b">Form</code>组件由React Bootstrap提供。<code class="fe km kn ko kp b">Field</code>组件来自Redux表单。我们将自定义输入字段组件传入字段的<code class="fe km kn ko kp b">component</code>道具，以及输入的<code class="fe km kn ko kp b">name</code>、<code class="fe km kn ko kp b">type</code>和<code class="fe km kn ko kp b">label</code>。我们将在我们的定制字段组件<code class="fe km kn ko kp b">renderInputField</code>和<code class="fe km kn ko kp b">renderCountryField</code>中使用它们。</p><p id="c13f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">Form</code>组件的<code class="fe km kn ko kp b">onSubmit</code> prop中，我们将自己的<code class="fe km kn ko kp b">handleSubmit</code>函数与<code class="fe km kn ko kp b">props</code>中提供的Redux Form的<code class="fe km kn ko kp b">handleSubmit</code>函数包装在一起，这样我们就可以使用自己的表单提交处理程序，而不是Redux Form的<code class="fe km kn ko kp b">handleSubmit</code>函数来处理表单提交。</p><p id="1674" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们的<code class="fe km kn ko kp b">handleSubmit</code>函数中，我们通过从道具中获取<code class="fe km kn ko kp b">invalid</code>道具来检查表单的有效性。验证规则在代码顶部的<code class="fe km kn ko kp b">validate</code>函数中，我们将它传递给代码底部的<code class="fe km kn ko kp b">reduxForm</code>函数。在<code class="fe km kn ko kp b">validate</code>函数中，我们在<code class="fe km kn ko kp b">values</code>参数中获取表单输入值，并用每个字段的错误信息设置<code class="fe km kn ko kp b">errors</code>对象。在这个函数中，我们可以很容易地检查依赖于其他字段的有效性。</p><p id="667e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦表单被检查为有效，其中<code class="fe km kn ko kp b">invalid</code>是<code class="fe km kn ko kp b">false</code>，那么我们通过传递从Redux表单的<code class="fe km kn ko kp b">connect</code>函数得到的<code class="fe km kn ko kp b">value</code>属性来调用<code class="fe km kn ko kp b">addContact</code>或<code class="fe km kn ko kp b">editContact</code>，这取决于我们是否在添加并保存数据。然后我们从<code class="fe km kn ko kp b">mapDispatchToProps</code>调用<code class="fe km kn ko kp b">getContacts</code>和<code class="fe km kn ko kp b">setContacts</code>来用后端最新的联系人条目更新我们的Redux存储。然后调用从我们将创建的<code class="fe km kn ko kp b">HomePage.js</code>传入的<code class="fe km kn ko kp b">onSave</code>来关闭模态。</p><p id="d6ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe km kn ko kp b">invalid</code>和<code class="fe km kn ko kp b">values</code>道具是通过运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="445c" class="ky kz iq kp b gy la lb l lc ld">ContactForm = connect(state =&gt; ({<br/>  values: getFormValues("syncValidation")(state),<br/>  invalid: isInvalid("syncValidation")(state)<br/>}))(ContactForm);</span></pre><p id="5f6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此区块:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="5e54" class="ky kz iq kp b gy la lb l lc ld">ContactForm = reduxForm({<br/>  form: "syncValidation",<br/>  validate,<br/>  enableReinitialize: true<br/>})(ContactForm);</span></pre><p id="8ba3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该组件为我们提供了Redux Form的表单验证功能，并且通过运行以下命令从我们的存储中检索编辑表单的初始值:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="cd37" class="ky kz iq kp b gy la lb l lc ld">ContactForm = connect(state =&gt; {<br/>  return {<br/>    initialValues: state.currentContact.data<br/>  };<br/>})(ContactForm);</span></pre><p id="c57a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，创建<code class="fe km kn ko kp b">exports.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="6fdf" class="ky kz iq kp b gy la lb l lc ld">export const COUNTRIES = [<br/>  "Afghanistan",<br/>  "Albania",<br/>  "Algeria",<br/>  "Andorra",<br/>  "Angola",<br/>  "Anguilla",<br/>  "Antigua &amp;amp; Barbuda",<br/>  "Argentina",<br/>  "Armenia",<br/>  "Aruba",<br/>  "Australia",<br/>  "Austria",<br/>  "Azerbaijan",<br/>  "Bahamas",<br/>  "Bahrain",<br/>  "Bangladesh",<br/>  "Barbados",<br/>  "Belarus",<br/>  "Belgium",<br/>  "Belize",<br/>  "Benin",<br/>  "Bermuda",<br/>  "Bhutan",<br/>  "Bolivia",<br/>  "Bosnia &amp;amp; Herzegovina",<br/>  "Botswana",<br/>  "Brazil",<br/>  "British Virgin Islands",<br/>  "Brunei",<br/>  "Bulgaria",<br/>  "Burkina Faso",<br/>  "Burundi",<br/>  "Cambodia",<br/>  "Cameroon",<br/>  "Canada",<br/>  "Cape Verde",<br/>  "Cayman Islands",<br/>  "Chad",<br/>  "Chile",<br/>  "China",<br/>  "Colombia",<br/>  "Congo",<br/>  "Cook Islands",<br/>  "Costa Rica",<br/>  "Cote D Ivoire",<br/>  "Croatia",<br/>  "Cruise Ship",<br/>  "Cuba",<br/>  "Cyprus",<br/>  "Czech Republic",<br/>  "Denmark",<br/>  "Djibouti",<br/>  "Dominica",<br/>  "Dominican Republic",<br/>  "Ecuador",<br/>  "Egypt",<br/>  "El Salvador",<br/>  "Equatorial Guinea",<br/>  "Estonia",<br/>  "Ethiopia",<br/>  "Falkland Islands",<br/>  "Faroe Islands",<br/>  "Fiji",<br/>  "Finland",<br/>  "France",<br/>  "French Polynesia",<br/>  "French West Indies",<br/>  "Gabon",<br/>  "Gambia",<br/>  "Georgia",<br/>  "Germany",<br/>  "Ghana",<br/>  "Gibraltar",<br/>  "Greece",<br/>  "Greenland",<br/>  "Grenada",<br/>  "Guam",<br/>  "Guatemala",<br/>  "Guernsey",<br/>  "Guinea",<br/>  "Guinea Bissau",<br/>  "Guyana",<br/>  "Haiti",<br/>  "Honduras",<br/>  "Hong Kong",<br/>  "Hungary",<br/>  "Iceland",<br/>  "India",<br/>  "Indonesia",<br/>  "Iran",<br/>  "Iraq",<br/>  "Ireland",<br/>  "Isle of Man",<br/>  "Israel",<br/>  "Italy",<br/>  "Jamaica",<br/>  "Japan",<br/>  "Jersey",<br/>  "Jordan",<br/>  "Kazakhstan",<br/>  "Kenya",<br/>  "Kuwait",<br/>  "Kyrgyz Republic",<br/>  "Laos",<br/>  "Latvia",<br/>  "Lebanon",<br/>  "Lesotho",<br/>  "Liberia",<br/>  "Libya",<br/>  "Liechtenstein",<br/>  "Lithuania",<br/>  "Luxembourg",<br/>  "Macau",<br/>  "Macedonia",<br/>  "Madagascar",<br/>  "Malawi",<br/>  "Malaysia",<br/>  "Maldives",<br/>  "Mali",<br/>  "Malta",<br/>  "Mauritania",<br/>  "Mauritius",<br/>  "Mexico",<br/>  "Moldova",<br/>  "Monaco",<br/>  "Mongolia",<br/>  "Montenegro",<br/>  "Montserrat",<br/>  "Morocco",<br/>  "Mozambique",<br/>  "Namibia",<br/>  "Nepal",<br/>  "Netherlands",<br/>  "Netherlands Antilles",<br/>  "New Caledonia",<br/>  "New Zealand",<br/>  "Nicaragua",<br/>  "Niger",<br/>  "Nigeria",<br/>  "Norway",<br/>  "Oman",<br/>  "Pakistan",<br/>  "Palestine",<br/>  "Panama",<br/>  "Papua New Guinea",<br/>  "Paraguay",<br/>  "Peru",<br/>  "Philippines",<br/>  "Poland",<br/>  "Portugal",<br/>  "Puerto Rico",<br/>  "Qatar",<br/>  "Reunion",<br/>  "Romania",<br/>  "Russia",<br/>  "Rwanda",<br/>  "Saint Pierre &amp;amp; Miquelon",<br/>  "Samoa",<br/>  "San Marino",<br/>  "Satellite",<br/>  "Saudi Arabia",<br/>  "Senegal",<br/>  "Serbia",<br/>  "Seychelles",<br/>  "Sierra Leone",<br/>  "Singapore",<br/>  "Slovakia",<br/>  "Slovenia",<br/>  "South Africa",<br/>  "South Korea",<br/>  "Spain",<br/>  "Sri Lanka",<br/>  "St Kitts &amp;amp; Nevis",<br/>  "St Lucia",<br/>  "St Vincent",<br/>  "St. Lucia",<br/>  "Sudan",<br/>  "Suriname",<br/>  "Swaziland",<br/>  "Sweden",<br/>  "Switzerland",<br/>  "Syria",<br/>  "Taiwan",<br/>  "Tajikistan",<br/>  "Tanzania",<br/>  "Thailand",<br/>  "Timor L'Este",<br/>  "Togo",<br/>  "Tonga",<br/>  "Trinidad &amp;amp; Tobago",<br/>  "Tunisia",<br/>  "Turkey",<br/>  "Turkmenistan",<br/>  "Turks &amp;amp; Caicos",<br/>  "Uganda",<br/>  "Ukraine",<br/>  "United Arab Emirates",<br/>  "United Kingdom",<br/>  "United States",<br/>  "United States Minor Outlying Islands",<br/>  "Uruguay",<br/>  "Uzbekistan",<br/>  "Venezuela",<br/>  "Vietnam",<br/>  "Virgin Islands (US)",<br/>  "Yemen",<br/>  "Zambia",<br/>  "Zimbabwe"<br/>];</span></pre><p id="d19b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们在国家字段下拉列表中得到一系列国家。</p><p id="52df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">HomePage.css</code>中，我们添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="454d" class="ky kz iq kp b gy la lb l lc ld">.home-page {<br/>    padding: 20px;<br/>}</span></pre><p id="08c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">给我们的页面加些填充。</p><p id="9f36" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们创建<code class="fe km kn ko kp b">HomePage.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="a7db" class="ky kz iq kp b gy la lb l lc ld">import React from "react";<br/>import { useState, useEffect } from "react";<br/>import Table from "react-bootstrap/Table";<br/>import ButtonToolbar from "react-bootstrap/ButtonToolbar";<br/>import Button from "react-bootstrap/Button";<br/>import Modal from "react-bootstrap/Modal";<br/>import ContactForm from "./ContactForm";<br/>import "./HomePage.css";<br/>import { connect } from "react-redux";<br/>import { getContacts, deleteContact } from "./requests";<br/>import { setCurrentContact } from "./actionCreators";</span><span id="2ec9" class="ky kz iq kp b gy le lb l lc ld">function HomePage({ setCurrentContact }) {<br/>  const [openAddModal, setOpenAddModal] = useState(false);<br/>  const [openEditModal, setOpenEditModal] = useState(false);<br/>  const [initialized, setInitialized] = useState(false);<br/>  const [selectedContact, setSelectedContact] = useState({});<br/>  const [contacts, setContacts] = useState([]);</span><span id="2a91" class="ky kz iq kp b gy le lb l lc ld">  const openModal = () =&gt; {<br/>    setOpenAddModal(true);<br/>  };</span><span id="4d2f" class="ky kz iq kp b gy le lb l lc ld">  const closeModal = () =&gt; {<br/>    setOpenAddModal(false);<br/>    setOpenEditModal(false);<br/>    getData();<br/>  };</span><span id="bc0b" class="ky kz iq kp b gy le lb l lc ld">  const cancelAddModal = () =&gt; {<br/>    setOpenAddModal(false);<br/>  };</span><span id="48a8" class="ky kz iq kp b gy le lb l lc ld">  const editContact = contact =&gt; {<br/>    setSelectedContact(contact);<br/>    setCurrentContact(contact);<br/>    setOpenEditModal(true);<br/>  };</span><span id="495f" class="ky kz iq kp b gy le lb l lc ld">  const cancelEditModal = () =&gt; {<br/>    setOpenEditModal(false);<br/>  };</span><span id="9f9f" class="ky kz iq kp b gy le lb l lc ld">  const getData = async () =&gt; {<br/>    const response = await getContacts();<br/>    setContacts(response.data);<br/>    setInitialized(true);<br/>  };</span><span id="6850" class="ky kz iq kp b gy le lb l lc ld">  const deleteSelectedContact = async id =&gt; {<br/>    await deleteContact(id);<br/>    getData();<br/>  };</span><span id="682c" class="ky kz iq kp b gy le lb l lc ld">  useEffect(() =&gt; {<br/>    if (!initialized) {<br/>      getData();<br/>    }<br/>  });</span><span id="2edd" class="ky kz iq kp b gy le lb l lc ld">  return (<br/>    &lt;div className="home-page"&gt;<br/>      &lt;h1&gt;Contacts&lt;/h1&gt;<br/>      &lt;Modal show={openAddModal} onHide={closeModal}&gt;<br/>        &lt;Modal.Header closeButton&gt;<br/>          &lt;Modal.Title&gt;Add Contact&lt;/Modal.Title&gt;<br/>        &lt;/Modal.Header&gt;<br/>        &lt;Modal.Body&gt;<br/>          &lt;ContactForm<br/>            edit={false}<br/>            onSave={closeModal.bind(this)}<br/>            onCancelAdd={cancelAddModal}<br/>          /&gt;<br/>        &lt;/Modal.Body&gt;<br/>      &lt;/Modal&gt;</span><span id="2815" class="ky kz iq kp b gy le lb l lc ld">      &lt;Modal show={openEditModal} onHide={closeModal}&gt;<br/>        &lt;Modal.Header closeButton&gt;<br/>          &lt;Modal.Title&gt;Edit Contact&lt;/Modal.Title&gt;<br/>        &lt;/Modal.Header&gt;<br/>        &lt;Modal.Body&gt;<br/>          &lt;ContactForm<br/>            edit={true}<br/>            onSave={closeModal.bind(this)}<br/>            contact={selectedContact}<br/>            onCancelEdit={cancelEditModal}<br/>          /&gt;<br/>        &lt;/Modal.Body&gt;<br/>      &lt;/Modal&gt;<br/>      &lt;ButtonToolbar onClick={openModal}&gt;<br/>        &lt;Button variant="outline-primary"&gt;Add Contact&lt;/Button&gt;<br/>      &lt;/ButtonToolbar&gt;<br/>      &lt;br /&gt;<br/>      &lt;div className="table-responsive"&gt;<br/>        &lt;Table striped bordered hover&gt;<br/>          &lt;thead&gt;<br/>            &lt;tr&gt;<br/>              &lt;th&gt;First Name&lt;/th&gt;<br/>              &lt;th&gt;Last Name&lt;/th&gt;<br/>              &lt;th&gt;Address&lt;/th&gt;<br/>              &lt;th&gt;City&lt;/th&gt;<br/>              &lt;th&gt;Country&lt;/th&gt;<br/>              &lt;th&gt;Postal Code&lt;/th&gt;<br/>              &lt;th&gt;Phone&lt;/th&gt;<br/>              &lt;th&gt;Email&lt;/th&gt;<br/>              &lt;th&gt;Age&lt;/th&gt;<br/>              &lt;th&gt;Edit&lt;/th&gt;<br/>              &lt;th&gt;Delete&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>          &lt;/thead&gt;<br/>          &lt;tbody&gt;<br/>            {contacts.map(c =&gt; (<br/>              &lt;tr key={c.id}&gt;<br/>                &lt;td&gt;{c.firstName}&lt;/td&gt;<br/>                &lt;td&gt;{c.lastName}&lt;/td&gt;<br/>                &lt;td&gt;{c.address}&lt;/td&gt;<br/>                &lt;td&gt;{c.city}&lt;/td&gt;<br/>                &lt;td&gt;{c.country}&lt;/td&gt;<br/>                &lt;td&gt;{c.postalCode}&lt;/td&gt;<br/>                &lt;td&gt;{c.phone}&lt;/td&gt;<br/>                &lt;td&gt;{c.email}&lt;/td&gt;<br/>                &lt;td&gt;{c.age}&lt;/td&gt;<br/>                &lt;td&gt;<br/>                  &lt;Button<br/>                    variant="outline-primary"<br/>                    onClick={editContact.bind(this, c)}<br/>                  &gt;<br/>                    Edit<br/>                  &lt;/Button&gt;<br/>                &lt;/td&gt;<br/>                &lt;td&gt;<br/>                  &lt;Button<br/>                    variant="outline-primary"<br/>                    onClick={deleteSelectedContact.bind(this, c.id)}<br/>                  &gt;<br/>                    Delete<br/>                  &lt;/Button&gt;<br/>                &lt;/td&gt;<br/>              &lt;/tr&gt;<br/>            ))}<br/>          &lt;/tbody&gt;<br/>        &lt;/Table&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="5e6a" class="ky kz iq kp b gy le lb l lc ld">const mapStateToProps = state =&gt; {<br/>  return {<br/>    contacts: state.contacts<br/>  };<br/>};</span><span id="6870" class="ky kz iq kp b gy le lb l lc ld">const mapDispatchToProps = dispatch =&gt; ({<br/>  setCurrentContact: contact =&gt; dispatch(setCurrentContact(contact))<br/>});</span><span id="0c63" class="ky kz iq kp b gy le lb l lc ld">export default connect(<br/>  mapStateToProps,<br/>  mapDispatchToProps<br/>)(HomePage);</span></pre><p id="fdb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我们应用程序的主页。我们有一个打开模态的按钮和一个显示地址簿条目的表格。此外，我们还有用<code class="fe km kn ko kp b">openModal</code>、<code class="fe km kn ko kp b">closeModal</code>、<code class="fe km kn ko kp b">cancelAddModal</code>和<code class="fe km kn ko kp b">cancelEditModal</code>功能打开和关闭模态的功能。我们有一个用于添加的模块和一个用于编辑联系人的模块，它们打开相同的表单。当使用<code class="fe km kn ko kp b">editContact</code>函数打开编辑模式时，运行由<code class="fe km kn ko kp b">mapDispatchToProps</code>函数通过props提供的<code class="fe km kn ko kp b">setCurrentContact</code>，设置正在编辑的当前触点，以便可以像我们所做的那样通过调用<code class="fe km kn ko kp b">connect</code>函数为我们的<code class="fe km kn ko kp b">ContactForm</code>组件的<code class="fe km kn ko kp b">initialValues</code>检索它。我们有编辑和删除按钮分别调用<code class="fe km kn ko kp b">editContact</code>和<code class="fe km kn ko kp b">deleteSelectedContact</code>。</p><p id="622b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">index.js</code>中，将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="936c" class="ky kz iq kp b gy la lb l lc ld">import React from "react";<br/>import ReactDOM from "react-dom";<br/>import "./index.css";<br/>import App from "./App";<br/>import * as serviceWorker from "./serviceWorker";<br/>import { createStore, combineReducers } from "redux";<br/>import { reducer as formReducer } from "redux-form";<br/>import { Provider } from "react-redux";<br/>import { contactsReducer, currentContactReducer } from "./reducers";</span><span id="ad2f" class="ky kz iq kp b gy le lb l lc ld">const rootReducer = combineReducers({<br/>  form: formReducer,<br/>  contacts: contactsReducer,<br/>  currentContact: currentContactReducer<br/>});</span><span id="6f74" class="ky kz iq kp b gy le lb l lc ld">const store = createStore(rootReducer);</span><span id="8c3c" class="ky kz iq kp b gy le lb l lc ld">ReactDOM.render(<br/>  &lt;Provider store={store}&gt;<br/>    &lt;App /&gt;<br/>  &lt;/Provider&gt;,<br/>  document.getElementById("root")<br/>);</span><span id="f2da" class="ky kz iq kp b gy le lb l lc ld">// If you want your app to work offline and load faster, you can change<br/>// unregister() to register() below. Note this comes with some pitfalls.<br/>// Learn more about service workers: <a class="ae kl" href="https://bit.ly/CRA-PWA" rel="noopener ugc nofollow" target="_blank">https://bit.ly/CRA-PWA</a><br/>serviceWorker.unregister();</span></pre><p id="d1c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注入我们的Redux商店，使其在我们的应用程序中可用。</p><p id="9ae0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后创建<code class="fe km kn ko kp b">reducers.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="9e85" class="ky kz iq kp b gy la lb l lc ld">import { SET_CONTACTS, LOAD } from "./actions";</span><span id="ab89" class="ky kz iq kp b gy le lb l lc ld">function contactsReducer(state = {}, action) {<br/>  switch (action.type) {<br/>    case SET_CONTACTS:<br/>      state = JSON.parse(JSON.stringify(action.payload));<br/>      return state;<br/>    default:<br/>      return state;<br/>  }<br/>}</span><span id="7767" class="ky kz iq kp b gy le lb l lc ld">function currentContactReducer(state = {}, action) {<br/>  switch (action.type) {<br/>    case LOAD:<br/>      return {<br/>        data: action.data<br/>      };<br/>    default:<br/>      return state;<br/>  }<br/>}</span><span id="b39d" class="ky kz iq kp b gy le lb l lc ld">export { contactsReducer, currentContactReducer };</span></pre><p id="9814" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">来制造我们之前提到的两个减速器。</p><p id="232f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，创建<code class="fe km kn ko kp b">RenderCountryField.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="2aae" class="ky kz iq kp b gy la lb l lc ld">import React from "react";<br/>import Form from "react-bootstrap/Form";<br/>import Col from "react-bootstrap/Col";<br/>import { COUNTRIES } from "./exports";</span><span id="16c2" class="ky kz iq kp b gy le lb l lc ld">export const renderCountryField = ({<br/>  input,<br/>  label,<br/>  type,<br/>  meta: { touched, error, warning }<br/>}) =&gt; (<br/>  &lt;Form.Row&gt;<br/>    &lt;Form.Group as={Col} md="12" controlId="country"&gt;<br/>      &lt;Form.Label&gt;{label}&lt;/Form.Label&gt;<br/>      &lt;Form.Control<br/>        as="select"<br/>        type={type}<br/>        placeholder={label}<br/>        {...input}<br/>        isInvalid={touched &amp;&amp; error}<br/>      &gt;<br/>        {COUNTRIES.map(c =&gt; (<br/>          &lt;option key={c} value={c}&gt;<br/>            {c}<br/>          &lt;/option&gt;<br/>        ))}<br/>      &lt;/Form.Control&gt;<br/>      &lt;Form.Control.Feedback type="invalid"&gt;<br/>        {touched &amp;&amp; error}<br/>      &lt;/Form.Control.Feedback&gt;<br/>    &lt;/Form.Group&gt;<br/>  &lt;/Form.Row&gt;<br/>);</span></pre><p id="c257" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建带有表单验证的国家下拉列表，我们将它传递到<code class="fe km kn ko kp b">ContactForm.js</code>中<code class="fe km kn ko kp b">Field</code>组件的<code class="fe km kn ko kp b">component</code>属性中。</p><p id="8071" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来创建<code class="fe km kn ko kp b">RenderInputField.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="2cce" class="ky kz iq kp b gy la lb l lc ld">import React from "react";<br/>import Form from "react-bootstrap/Form";<br/>import Col from "react-bootstrap/Col";</span><span id="5c2a" class="ky kz iq kp b gy le lb l lc ld">export const renderInputField = ({<br/>  input,<br/>  label,<br/>  type,<br/>  meta: { touched, error, warning }<br/>}) =&gt; (<br/>  &lt;Form.Row&gt;<br/>    &lt;Form.Group as={Col} md="12"&gt;<br/>      &lt;Form.Label&gt;{label}&lt;/Form.Label&gt;<br/>      &lt;Form.Control<br/>        type={type}<br/>        placeholder={label}<br/>        {...input}<br/>        isInvalid={touched &amp;&amp; error}<br/>      /&gt;<br/>      &lt;Form.Control.Feedback type="invalid"&gt;<br/>        {touched &amp;&amp;<br/>          ((error &amp;&amp; &lt;span&gt;{error}&lt;/span&gt;) ||<br/>            (warning &amp;&amp; &lt;span&gt;{warning}&lt;/span&gt;))}<br/>      &lt;/Form.Control.Feedback&gt;<br/>    &lt;/Form.Group&gt;<br/>  &lt;/Form.Row&gt;<br/>);</span></pre><p id="647a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为我们的联系表单创建文本输入。</p><p id="be2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">两个输入都使用React Bootstrap的<code class="fe km kn ko kp b">Form</code>组件。</p><p id="2e6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，创建<code class="fe km kn ko kp b">requests.js</code>并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="c811" class="ky kz iq kp b gy la lb l lc ld">const APIURL = '<a class="ae kl" href="http://localhost:3000'" rel="noopener ugc nofollow" target="_blank">http://localhost:3000'</a>;<br/>const axios = require('axios');<br/>export const getContacts = () =&gt; axios.get(`${APIURL}/contacts`);</span><span id="42b4" class="ky kz iq kp b gy le lb l lc ld">export const addContact = (data) =&gt; axios.post(`${APIURL}/contacts`, data);</span><span id="a8f8" class="ky kz iq kp b gy le lb l lc ld">export const editContact = (data) =&gt; axios.put(`${APIURL}/contacts/${data.id}`, data);</span><span id="f2f5" class="ky kz iq kp b gy le lb l lc ld">export const deleteContact = (id) =&gt; axios.delete(`${APIURL}/contacts/${id}`);</span></pre><p id="98f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建向我们的后端发出HTTP请求的函数，以保存我们的联系数据。</p><p id="aeed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，在<code class="fe km kn ko kp b">index.html</code>中，将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="f40d" class="ky kz iq kp b gy la lb l lc ld">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;<br/>    &lt;meta name="theme-color" content="#000000" /&gt;<br/>    &lt;meta<br/>      name="description"<br/>      content="Web site created using create-react-app"<br/>    /&gt;<br/>    &lt;link rel="apple-touch-icon" href="logo192.png" /&gt;<br/>    &lt;!--<br/>      manifest.json provides metadata used when your web app is installed on a<br/>      user's mobile device or desktop. See <a class="ae kl" href="https://developers.google.com/web/fundamentals/web-app-manifest/" rel="noopener ugc nofollow" target="_blank">https://developers.google.com/web/fundamentals/web-app-manifest/</a><br/>    --&gt;<br/>    &lt;link rel="manifest" href="%PUBLIC_URL%/manifest.json" /&gt;<br/>    &lt;!--<br/>      Notice the use of %PUBLIC_URL% in the tags above.<br/>      It will be replaced with the URL of the `public` folder during the build.<br/>      Only files inside the `public` folder can be referenced from the HTML.</span><span id="5775" class="ky kz iq kp b gy le lb l lc ld">Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will<br/>      work correctly both with client-side routing and a non-root public URL.<br/>      Learn how to configure a non-root public URL by running `npm run build`.<br/>    --&gt;<br/>    &lt;title&gt;React Address Book App&lt;/title&gt;<br/>    &lt;link<br/>      rel="stylesheet"<br/>      href="<a class="ae kl" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css</a>"<br/>      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"<br/>      crossorigin="anonymous"<br/>    /&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;<br/>    &lt;div id="root"&gt;&lt;/div&gt;<br/>    &lt;!--<br/>      This HTML file is a template.<br/>      If you open it directly in the browser, you will see an empty page.</span><span id="392c" class="ky kz iq kp b gy le lb l lc ld">You can add webfonts, meta tags, or analytics to this file.<br/>      The build step will place the bundled scripts into the &lt;body&gt; tag.</span><span id="fba8" class="ky kz iq kp b gy le lb l lc ld">To begin the development, run `npm start` or `yarn start`.<br/>      To create a production bundle, use `npm run build` or `yarn build`.<br/>    --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="3597" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更改我们的应用程序标题并添加我们的引导CSS。</p><p id="20ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们可以通过在Windows上运行<code class="fe km kn ko kp b">set PORT=3001 &amp;&amp; react-scripts start</code>或在Linux上运行<code class="fe km kn ko kp b">PORT=3006 react-scripts start</code>来运行应用程序。</p><p id="d142" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了启动后端，我们首先通过运行<code class="fe km kn ko kp b">npm i json-server</code>来安装<code class="fe km kn ko kp b">json-server</code>包。然后，转到我们的项目文件夹并运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="9c31" class="ky kz iq kp b gy la lb l lc ld">json-server --watch db.json</span></pre><p id="e100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">db.json</code>中，将文本改为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="d789" class="ky kz iq kp b gy la lb l lc ld">{<br/>  "contacts": [<br/>  ]<br/>}</span></pre><p id="45ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们有了定义在可用的<code class="fe km kn ko kp b">requests.js</code>中的<code class="fe km kn ko kp b">contacts</code>端点。</p><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/f0189119955e2e23d8ca9a28cc9761f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LFb2MFrfNtkOUItdGkWZWg.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/751d2681035b39a9bbd8da8b261ec55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpQnx7nTcBYOKO3CinOc8w.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/9d3348846e2374867d8616963dcd66e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSZB0BkJjmLplax7WILf7A.png"/></div></div></figure></div></div>    
</body>
</html>