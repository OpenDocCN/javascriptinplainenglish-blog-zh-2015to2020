<html>
<head>
<title>Canvas API frameworks in Plain English</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用简单的英语描述画布API框架</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-canvas-in-plain-english-da6c95bb2bb5?source=collection_archive---------2-----------------------#2020-08-15">https://javascript.plainenglish.io/the-canvas-in-plain-english-da6c95bb2bb5?source=collection_archive---------2-----------------------#2020-08-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2ec4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">和一个叫做ZIM的简单英语框架</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/742c5a3753240622a6e1e5c4abff2b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eg2FjNk1KCdR6_EFip4aTg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://codepen.io/zimjs/pen/MWwzJwd" rel="noopener ugc nofollow" target="_blank">Hello Worlds!</a></figcaption></figure><p id="7dda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">任何使用单词<strong class="ky ir"> <em class="ls">上下文</em> </strong>的代码都可以被简化。这意味着，canvas作为一种用JavaScript以HTML制作游戏、艺术、应用程序、可视化等内容的开源方式，其最初的几行代码是一个粗略的开始:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="2117" class="ly lz iq lu b gy ma mb l mc md">var c = document.getElementById("myCanvas");<br/>var ctx = c.getContext("2d");<br/>ctx.beginPath();<br/>ctx.arc(95, 50, 40, 0, 2 * Math.PI);<br/>ctx.stroke();</span></pre><p id="68b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">非常感谢getContext("2d") </em></p><p id="5111" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可能使用画布的艺术家和设计师会回避这些词——我知道我做到了！还有，没人想用<code class="fe me mf mg lu b">document.getElementById()</code>来访问一个对象！这就是jQuery凭借其<code class="fe me mf mg lu b">$(selector)</code>变得如此受欢迎的主要原因。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="ea70" class="mo lz iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">画布框架</h1><p id="e0b6" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">进入画布框架，让你的生活更轻松。另请参见◎ <a class="ae kv" href="https://medium.com/@zim_67337/your-guide-to-selecting-a-javascript-canvas-library-or-framework-3584f4512a30" rel="noopener">选择JavaScript画布库或框架的指南</a>。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h2 id="c769" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">p5js</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/2f76e10fa06d3d8fab79cc251a296ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mly0cX3HfDmAdd4UJt44Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://p5js.org/" rel="noopener ugc nofollow" target="_blank">P5js port of Processing</a></figcaption></figure><p id="1e19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://p5js.org/" rel="noopener ugc nofollow" target="_blank"> p5js框架</a>(最初在Java中的处理端口)提供了一个在开始时运行的setup函数和一个以帧速率循环的draw函数。在这种情况下，您可以将circle代码放入设置中。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="6199" class="ly lz iq lu b gy ma mb l mc md">function setup() {<br/>  createCanvas(500, 500);<br/>}</span><span id="5809" class="ly lz iq lu b gy nw mb l mc md">function draw() {<br/>  background(220);<br/>  fill(204, 101, 192, 127);<br/>  stroke(127, 63, 120);<br/>  circle(100, 100, 50);<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/2bcb7498337b94d70010ab963da92a05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvvlUF5t1tdJty-bMwNTyg.png"/></div></div></figure><p id="ad80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">这很简单</em> <strong class="ky ir"> <em class="ls">但是</em> </strong> <em class="ls">它避免了传统的JavaScript事件结构。我喜欢JavaScript事件的多功能性——能够打开和关闭事物，从一个场景到另一个场景，等等。我们需要事件来处理组件和其他交互。P5js的“草图”很好，但对于一般的交互媒体来说并不是最佳选择，请参见◎ </em> <a class="ae kv" href="https://medium.com/@zim_67337/your-guide-to-when-to-use-a-javascript-canvas-library-or-framework-efb30d526797" rel="noopener"> <em class="ls">《何时使用JavaScript画布库或框架指南》</em> </a> <em class="ls">。</em></p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h2 id="781b" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">齐姆</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/14f12941fa2ec202fe407d930057417e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lTaKlIfVEDT13Wj_z1tXwA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://zimjs.com" rel="noopener ugc nofollow" target="_blank">ZIM JavaScript Canvas Framework</a></figcaption></figure><p id="f9ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过<a class="ae kv" href="https://zimjs.com" rel="noopener ugc nofollow" target="_blank"> ZIM JavaScript Canvas框架</a>，保持了传统的JavaScript事件结构，但做了如下调整:</p><p id="4b57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls"> addEventListener()已替换为on() </em></p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="8be6" class="ly lz iq lu b gy ma mb l mc md">const frame = new Frame("fit", 500, 500, light);<br/>frame.on("ready", app);</span><span id="a148" class="ly lz iq lu b gy nw mb l mc md">function app() {<br/>    const stage = frame.stage;<br/>    new Circle(50, pink, purple).loc(100,100);  <br/>    stage.update();<br/>}</span></pre><p id="ce30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">“适合”将缩放画布以适合浏览器窗口。可以使用ZIM或传统HTML颜色字符串和十六进制颜色中的浅色、粉色和紫色样本颜色。我们可以为事件函数使用函数文字或箭头函数。舞台是我们展示东西的地方。loc()方法将自动添加到stage中，但是可以选择任何容器作为下一个参数。手动添加stage.update()有助于节省移动设备上的电池，只要有需要绘制的更改，就应该调用它。如果我们需要一个绘制循环，我们使用JavaScript </em> <code class="fe me mf mg lu b"><em class="ls">requestAnimationFrame()</em></code> <em class="ls">。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/f40eaea81ff0574bd6fc2b14dffacf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*tPaaKmTBNyLyMFG2JNwdPA.png"/></div></figure></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="3ce4" class="mo lz iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">方便</h1><p id="fa79" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">ZIM提供了许多便利，让从孩子到专业人士的每个人都能更容易地编写代码。更多详情，请参见<a class="ae kv" href="https://medium.com/@zim_67337/conveniences-when-coding-on-the-canvas-f6b0b8dd981d" rel="noopener">在画布上编码的便利指南</a>。</p><p id="e21b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从“简单英语”的角度来看，让我们谈谈ZIM版本2中推出的ZIM DUO，它是一种我们可以使用传统格式的参数或作为单个参数的方法，单个参数是具有与参数名称匹配的属性的对象文字{ }。</p><p id="1a5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这称为配置对象。</p><p id="9657" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是上面使用配置对象的代码示例:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="5599" class="ly lz iq lu b gy ma mb l mc md">const frame = new Frame({<br/>  scaling:"fit", <br/>  width:500, <br/>  height:500, <br/>  color:light<br/>});<br/>frame.on("ready", app);</span><span id="0e8d" class="ly lz iq lu b gy nw mb l mc md">function app() {<br/>    const stage = frame.stage;</span><span id="ba19" class="ly lz iq lu b gy nw mb l mc md">    new Circle({radius:50, color:pink, borderColor:purple})<br/>        .loc(100,100);<br/>  <br/>    stage.update();<br/>}</span></pre><p id="4b62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，很容易看出参数是什么。由您决定用哪种方式提供参数。有时看到参数是好的，但有时这意味着更多的代码。在其他时候，配置对象的代码更少。例如:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="49bd" class="ly lz iq lu b gy ma mb l mc md">new Rectangle(null,null,red,null,null,20).center();<br/>// a corner of 20<br/>new Rectangle({color:red, corner:20}).center();</span></pre><p id="3136" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要把<code class="fe me mf mg lu b">null</code>(或者<code class="fe me mf mg lu b">undefined</code>)作为参数占位符。对于传统的参数，我们必须跟踪有多少个空值以及以什么顺序放置参数，而对于配置对象，顺序并不重要。组件和其他方法通常有许多参数，所以ZIM多是非常方便的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/3dbb544b8078941bb0bc642e9512eb7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_7vVB_i_SJ9U6IawiOrvlw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://zimjs.com/docs.html?item=Button" rel="noopener ugc nofollow" target="_blank">ZIM Docs</a> showing parameters for Button</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/bfa3818b8f871d72dc46ed234a75f3e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A7caAj-D2AZFmulO.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A sideways glance at further canvas conveniences</figcaption></figure></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="ee20" class="mo lz iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">让我们编码</h1><p id="a57a" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">让我们一起做一点编码。更完整的介绍可以在◎ <a class="ae kv" href="https://medium.com/@zim_67337/your-guide-to-coding-creativity-on-the-canvas-ada0996298f6" rel="noopener">你在画布上编码创造力的指南</a>中找到。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/b60e4793e912c436fd0b5327985e5cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1B3HIixwvGnTpdjh.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">◎ <a class="ae kv" href="https://medium.com/@zim_67337/your-guide-to-coding-creativity-on-the-canvas-ada0996298f6" rel="noopener">Your Guide to Coding Creativity on the Canvas</a></figcaption></figure><h2 id="566e" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">第一步</h2><p id="618e" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">我们有一个针对ZIM孩子的在线编辑器，当我们尝试新事物时，重新像孩子一样思考并不是一件坏事。请和我们一起探索。如果你去<a class="ae kv" href="https://zimjs.org/kids/slate.html" rel="noopener ugc nofollow" target="_blank">在线编辑器</a> <a class="ae kv" href="https://zimjs.org/kids/slate.html" rel="noopener ugc nofollow" target="_blank">，</a>键入或粘贴这段代码并按下TEST，你会从这篇文章中得到更多:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="afbe" class="ly lz iq lu b gy ma mb l mc md">new Rectangle(200,300,white)<br/>    .center()<br/>    .drag();</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/5eacd2a273554f47d25ff3813b9831cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DgGfYNGB9xsmid-2Rdnf9w.png"/></div></div></figure><p id="7cae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">背景中的条纹只是儿童网站的背景。默认情况下，编辑器中还有框架代码和stage.update()。请注意，我们使用链接，这允许我们在每个方法返回对象时将方法串在一起。这是ZIM的一个便利特性，特别是添加了短链方法，我们将在下面看到。</p><h2 id="bac8" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">第二步</h2><p id="3b69" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">让我们假设矩形是一张我们希望能够扔进垃圾桶的纸。将代码调整为以下内容。注意短链接方法<code class="fe me mf mg lu b">sca()</code>用于缩放，<code class="fe me mf mg lu b">rot()</code>用于旋转，<code class="fe me mf mg lu b">pos()</code>用于位置。这些也可以设置为属性，如<code class="fe me mf mg lu b">scaleX</code>、<code class="fe me mf mg lu b">scaleY</code>、<code class="fe me mf mg lu b">rotation</code>、<code class="fe me mf mg lu b">x</code>和<code class="fe me mf mg lu b">y</code>，但是短链接方法非常方便！例如，如果我们接下来不需要引用这些对象，我们甚至不必将它们赋给变量。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="0548" class="ly lz iq lu b gy ma mb l mc md">const paper = new Rectangle(200,300,white)<br/>    .center()<br/>    .drag();<br/>    <br/>const trash = new Flare({thickness:100})<br/>    .sca(.7)<br/>    .rot(-90)<br/>    .pos(50,50,RIGHT,BOTTOM);<br/></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/e4ac33e3e80a37b828cb39d042336ae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHIA0hLeSp38VhMH8OGQ7g.png"/></div></div></figure><p id="1de8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">耀斑是ZIM独有的一种不寻常的形状，它让你可以做出像这个垃圾桶一样向外耀斑的形状。这没什么大不了的，但是下图中的形状是用火焰做成的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/3370b98f88cd2baf1a607e98bfe00a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wi_UkDRLZ3fouz8OEuWJyQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://zimjs.com/ten/flare.html" rel="noopener ugc nofollow" target="_blank">ZIM Flare shape</a></figcaption></figure><h2 id="4f4a" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">第三步</h2><p id="b9be" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">我们需要弄清楚我们是否把纸扔进了垃圾桶，如果是，就把纸扔掉。我们将在<code class="fe me mf mg lu b">pressup</code>事件中测试这一点。添加以下代码。这次我们使用一个箭头函数来指定事件发生时要调用的函数。移除纸张后，请注意stage.update()。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="c6c5" class="ly lz iq lu b gy ma mb l mc md">paper.on("pressup", ()=&gt;{<br/>    if (paper.hitTestBounds(trash)) {<br/>        paper.removeFrom();<br/>        stage.update();<br/>    }   <br/>});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/2d7ce91ce137846c96844bd30b330faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wplzUNwX068rJRSFfu6v2w.png"/></div></div></figure><h2 id="4e42" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">第四步</h2><p id="b1fb" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">让我们在移除纸张时添加一个发射器。发射器对于奖励和效果来说很棒。添加暂停启动的发射器代码，然后我们在扔出纸时喷射发射器(我们不再需要stage.update()，因为发射器为我们做了这些):</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="5d36" class="ly lz iq lu b gy ma mb l mc md">const emitter = new Emitter({startPaused:true});</span><span id="243d" class="ly lz iq lu b gy nw mb l mc md">paper.on("pressup", ()=&gt;{<br/>    if (paper.hitTestBounds(trash)) {<br/>        paper.removeFrom();<br/>        emitter.loc(paper).spurt(15);<br/>    }   <br/>});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/2880c9bd1b9578b2b55594efcf2ff5ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5C27qY-O7VBBnPTXoNAHEw.png"/></div></div></figure><p id="42d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">发射器位于纸张的注册点。</p><p id="a92f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">配准点是对象中对象被定位的地方。它也是对象缩放和旋转的点。</em></p><p id="e855" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过代码调整来演示注册点:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="7965" class="ly lz iq lu b gy ma mb l mc md">new Grid({percent:false});</span><span id="aeef" class="ly lz iq lu b gy nw mb l mc md">const paper = new Rectangle(200,300,white)<br/>    .loc(300,300)<br/>    .outline()<br/>    .drag();</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/38f31421ceb6cddcc7a9a96514239044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mR0Axe72KuvJJAe46GQFfQ.png"/></div></div></figure><p id="8d84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">纸的左上角有一个红色的圆。这意味着注册点位于矩形和矩形对象(如按钮和图片)的左上角。(注册点位于圆形对象(如圆形和表盘)的中心。)纸张位于300，300，这意味着对象被放置，因此其配准点位于300，300。</p><p id="7548" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们去掉网格，看看旋转矩形会发生什么:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="0fcd" class="ly lz iq lu b gy ma mb l mc md">const paper = new Rectangle(200,300,white)<br/>    .loc(300,300)<br/>    .outline()<br/>    .rot(45)<br/>    .drag();</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/160b5246fb9cf7d2ac173adc0f1042e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WjuYBU9f1F_wXyiCt15Ew.png"/></div></div></figure><p id="8d60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">纸张围绕其注册点旋转。(Scale的工作原理是一样的。)大纲()就像是时间的快照。它停留在制造时的位置。如果在旋转后绘制轮廓，那么轮廓将随矩形一起旋转。</p><p id="809e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用regX和regY属性或reg(x，y)短链方法来更改注册点，但是我们经常希望将注册点放在中心，所以我们可以只使用centerReg()。试试这个:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="843b" class="ly lz iq lu b gy ma mb l mc md">const paper = new Rectangle(200,300,white)<br/>    .centerReg()<br/>    .loc(300,300)<br/>    .outline()<br/>    .rot(45)<br/>    .drag();</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/ad74e8446f9306597ceeb7bdfb376a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_UKNeSWN1i0YgSyLL0lwA.png"/></div></div></figure><p id="dc1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">红色的圆圈现在在矩形的中间。纸张围绕其中心旋转，这通常更适合动画。纸张已经向左上方移动，因为在对象内部调整了注册点。报名点还在300，300。</p><h2 id="c95c" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">第五步</h2><p id="48b2" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">如果我们想让发射器出现在纸的中心，那么我们只需要<code class="fe me mf mg lu b">centerReg()</code>纸，而不是<code class="fe me mf mg lu b">center()</code>纸。调整代码。现在，当你扔掉纸的时候，发射器就在纸的中心。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="94a1" class="ly lz iq lu b gy ma mb l mc md">const paper = new Rectangle(200,300,white)<br/>    .centerReg()<br/>    .drag();</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/840005a962629b73a92359e480773265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T88oWpQycxm4o6BJ8Ggl5g.png"/></div></div></figure><h2 id="a578" class="ly lz iq bd mp nk nl dn mt nm nn dp mx lf no np mz lj nq nr nb ln ns nt nd nu bi translated">第六步</h2><p id="d83f" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">作为最后一步，如果纸没有被扔掉，我们将动画纸回到中心。调整pressup事件函数中的代码。以下是最终代码:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="c94e" class="ly lz iq lu b gy ma mb l mc md">const paper = new Rectangle(200,300,white)<br/>    .centerReg()<br/>    .drag();<br/>    <br/>const trash = new Flare({thickness:100})<br/>    .sca(.7)<br/>    .rot(-90)<br/>    .pos(50,50,RIGHT,BOTTOM);<br/>    <br/>const emitter = new Emitter({startPaused:true});</span><span id="8552" class="ly lz iq lu b gy nw mb l mc md">paper.on("pressup", ()=&gt;{<br/>    if (paper.hitTestBounds(trash)) {<br/>        paper.removeFrom();<br/>        emitter.loc(paper).spurt(15);<br/>    } else {<br/>        paper.animate({<br/>            props:{x:stageW/2, y:stageH/2, rotation:"360"},<br/>            time:.5<br/>        });<br/>    } <br/>});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/4075a87c22b5f8908d2ae22b4b107a4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lLrpgi7CzYffMs8lrP5uNA.png"/></div></div></figure><p id="0d60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">旋转用引号括起来，因为它是相对旋转。所以从当前旋转360度。如果我们使用360度，第一次它会动画到360度，但是第二次，它已经是360度了。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="5cf4" class="mo lz iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">动画</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="1313" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个介绍ZIM的视频的最后，我们开始展示ZIM与其他框架的比较。ZIM一直是美国的一半或更大。原因是我们尽可能努力使用简单的英语。</p><p id="a406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，这是动画:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="4293" class="ly lz iq lu b gy ma mb l mc md">new Circle(50,red).center().animate({<br/>    props:{x:100, y:100, scale:0},<br/>    time:1,<br/>    loop:true,<br/>    rewind:true<br/>});</span></pre><p id="32f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在HTML和CSS中这是一团糟。首先，没有圆形，所以您必须对div应用边框半径。呃。然后，您将在关键帧的单独位置应用变换，这不包括旧的浏览器修复。基本上，ZIM是动画代码大小的25%和38%。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="b7c4" class="ly lz iq lu b gy ma mb l mc md">&lt;style&gt;<br/>    #circle {<br/>        width:100px;<br/>        height:100px;<br/>        border-radius:50px;<br/>        position:absolute;<br/>        left:300px;<br/>        top:300px;<br/>        background-color:red;<br/>        animation-name: myCircle;<br/>        animation-duration: 1s;<br/>        animation-iteration-count: infinite;<br/>        animation-direction: alternate;<br/>    }<br/>    <a class="ae kv" href="http://twitter.com/keyframes" rel="noopener ugc nofollow" target="_blank">@keyframes</a> myCircle {<br/>        to {left:100px; top: 100px; transform:scale(0, 0);}<br/>    }<br/>&lt;/style&gt;<br/>&lt;div id=circle&gt;&lt;/div&gt;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/f1e37e11d87a38427eb8d8e77d83e15c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-0Z_fPPMD10qarcQNJ8bSg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://zimjs.com/animation/" rel="noopener ugc nofollow" target="_blank">ZIM animate()basic settings</a></figcaption></figure><p id="62c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，你可以使用GSAP，这是一个很好的Tween引擎。ZIM和GSAP有非常相似的动画特征。GSAP被非最佳补间对象链接。在大多数情况下，链接到正在制作动画的对象更容易，因为我们可以展平动画命令，以便与ZIM二人组技术配合使用。如果需要的话，ZIM也可以通过拖动路径来制作动画，并且路径是用户可编辑的。参见<a class="ae kv" href="https://zimjs.com/intro.html" rel="noopener ugc nofollow" target="_blank"> ZIM简介</a>中的例子。和<a class="ae kv" href="https://zimjs.com/nio/" rel="noopener ugc nofollow" target="_blank"> ZIM NIO </a>(第9版)站点，以获取高级示例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/4401ec3cf90e5cff06138a18c59cbe80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*lmNXM_d6vfa5AfVTGGLpuA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://zimjs.com/intro.html" rel="noopener ugc nofollow" target="_blank">ZIM Intro</a> animate along a user editable path</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/cd2a8c6fe52d104886bf44a0baa7339d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpAJ7FIgHHgWcqfCIMv8OA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://zimjs.com/nio/" rel="noopener ugc nofollow" target="_blank">ZIM NIO</a> site for advanced path animations</figcaption></figure></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="6801" class="mo lz iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">结论</h1><p id="6033" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">我们已经在本文中演示了简单明了的单词可以在代码中使用。这使得画布上的编码也成为学习代码的好地方。以下是一些进一步的资源:<a class="ae kv" href="https://zimjs.org/skool" rel="noopener ugc nofollow" target="_blank">ZIM·斯库尔</a>、<a class="ae kv" href="https://zimjs.org/kids" rel="noopener ugc nofollow" target="_blank"> ZIM的孩子</a>和<a class="ae kv" href="https://zimjs.org/learnjavascript.html" rel="noopener ugc nofollow" target="_blank">用创造性编码编写JavaScript】视频系列。</a></p><p id="1514" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其他人同意简单、清晰的代码是正确的做法:</p><p id="195f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">用这么少的代码创造美丽的互动从未如此容易过— </em> Iestyn Jones，eChalk电子学习的创始人。</p><p id="ab95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls"> ZIM让创建非常视觉化的项目变得容易，但仍然保留了可转移技能的传统编码结构——</em>Rex van der Spuy，HTML5和JavaScript基础游戏设计的作者</p><p id="f27c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">当我向开发者ZIM展示时，他们说他们从未发现过如此简单易学和易于使用的平台</em>——在ZIM游戏上有超过200万次播放的Ami韩亚CloseAppGame。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="4541" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想探索更多关于在画布上编码的知识，欢迎访问◎ <a class="ae kv" href="https://medium.com/@zim_67337/your-guide-to-coding-creativity-on-the-canvas-ada0996298f6" rel="noopener">你的在画布上编码创意指南</a>。</p><p id="7a2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">万事如意！抽象博士。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/7aaed0e95d44436b9aa7cf9b9a0a777c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/0*YRovpknXVKkgj22N.png"/></div></figure><p id="28da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">在推特上关注我们在</em> <a class="ae kv" href="https://twitter.com/zimlearn" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> ZIM学习</em> </a> <em class="ls">这里是</em> <a class="ae kv" href="https://www.youtube.com/zimlearn" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> ZIM在YouTube上学习</em> </a> <em class="ls">！</em></p></div></div>    
</body>
</html>