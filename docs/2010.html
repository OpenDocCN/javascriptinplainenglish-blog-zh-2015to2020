<html>
<head>
<title>Solutions to Common JavaScript Number Problems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">常见JavaScript数字问题的解决方案</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/solutions-to-common-javascript-number-problems-fd61debc584f?source=collection_archive---------4-----------------------#2020-05-12">https://javascript.plainenglish.io/solutions-to-common-javascript-number-problems-fd61debc584f?source=collection_archive---------4-----------------------#2020-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/57e70e30363026967382466a284fdc43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZTAlEpp4iLHJs8T_"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jim_bread?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jim Bread</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="eb48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们经常需要用JavaScript来处理数字。</p><p id="a860" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将探讨JavaScript中数字常见问题的解决方案。</p><h1 id="c985" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">舍入数字</h1><p id="9cfe" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用数字的<code class="fe me mf mg mh b">toFixed</code>方法将其四舍五入到给定的小数位数。</p><p id="f3a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要一个参数，即舍入一个数字的小数位数。如果它没有参数，那么我们根据舍入数字的通常数学规则将数字舍入到最接近的整数。</p><p id="f6da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在转换它所调用的具有给定小数位数的数字后，它返回一个具有给定小数位数的新数字。</p><p id="65c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以使用<code class="fe me mf mg mh b">toFixed</code>方法对数字进行舍入，如下所示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dee3" class="mq lc iq mh b gy mr ms l mt mu">const n1 = (21.1).toFixed();<br/>const n2 = (21.6).toFixed();</span></pre><p id="72ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe me mf mg mh b">n1</code>是21，<code class="fe me mf mg mh b">n2</code>是22，正如我们所料。</p><p id="f91f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要将一个数字四舍五入到指定的小数位数，我们可以将一个参数传递给<code class="fe me mf mg mh b">toFixed</code>方法，如下所示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9b91" class="mq lc iq mh b gy mr ms l mt mu">const n1 = (21.1).toFixed(3);<br/>const n2 = (21.6).toFixed(2);</span></pre><p id="1c28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们得到<code class="fe me mf mg mh b">n1</code>是21.100<code class="fe me mf mg mh b">n2</code>是21.60。</p><p id="7c31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参数可以在0到100之间。</p><p id="780e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有一种<code class="fe me mf mg mh b">Math.round</code>方法，它总是将一个数字四舍五入到最接近的整数。</p><p id="393e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它采用一个参数和我们想要舍入的数字，并返回舍入后的数字。</p><p id="27ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b204" class="mq lc iq mh b gy mr ms l mt mu">const n = Math.round(0.8);</span></pre><p id="d7a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">n</code>就是1。</p><h1 id="a562" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">格式化要在给定区域显示的数字</h1><p id="805e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">toLocaleString</code>方法返回一个根据给定区域设置格式化的字符串。</p><p id="6cda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果没有传递区域设置字符串，那么它将根据设备操作系统中设置的区域设置的约定进行格式化。</p><p id="85f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们按如下方式调用它，并且我们计算机的语言环境设置为美国英语:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e1fd" class="mq lc iq mh b gy mr ms l mt mu">const str = (21.1).toLocaleString();</span></pre><p id="7b2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们得到的<code class="fe me mf mg mh b">str</code>就是<code class="fe me mf mg mh b">'21.1'</code>。</p><p id="b1b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，如果我们将类似于<code class="fe me mf mg mh b">'fr'</code>的区域设置字符串传递给方法，如下所示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f3f4" class="mq lc iq mh b gy mr ms l mt mu">const str = (21.1).toLocaleString('fr');</span></pre><p id="23b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">str</code>就是<code class="fe me mf mg mh b">21,1</code>。</p><p id="bdea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还支持任何地区的扩展代码。所以我们可以传入类似下面的代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4cd0" class="mq lc iq mh b gy mr ms l mt mu">const str = (21.1).toLocaleString('zh-Hans-CN-u-nu-hanidec');</span></pre><p id="d795" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传递了<code class="fe me mf mg mh b">nu</code>扩展键来指定我们返回一个中文十进制格式的字符串，所以<code class="fe me mf mg mh b">str</code>的值是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e868" class="mq lc iq mh b gy mr ms l mt mu">二一.一</span></pre><h1 id="224b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将数字转换为指数记数法</h1><p id="469e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以调用数字的<code class="fe me mf mg mh b">toExponential</code>实例方法来返回一个字符串，该字符串将数字格式化为指数符号。</p><p id="bb25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它采用一个可选参数，该参数是一个整数，用于指定小数点后的位数。</p><p id="a920" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3f3b" class="mq lc iq mh b gy mr ms l mt mu">const str = (21.1).toExponential();</span></pre><p id="ce5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到<code class="fe me mf mg mh b">str</code>是<code class="fe me mf mg mh b">‘2.11e+1'</code>。</p><p id="fd1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以传递小数点后要包含的位数，如下所示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="18c5" class="mq lc iq mh b gy mr ms l mt mu">const str = (21.1).toExponential(3);</span></pre><p id="d7fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">str</code>就是<code class="fe me mf mg mh b">'2.110e+1'</code>。如果我们传入的位数小于数字的原始位数，就不会这样。精度只会降低。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/3eb9bbd4d11f70e399f4bcb741267749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UoIf58PPQ_d6mnmJ"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sandym10?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sandy Millar</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="d600" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将数字转换为指定的小数位数</h1><p id="5042" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以调用number实例的<code class="fe me mf mg mh b">toPrecision</code>方法，用参数中指定的给定小数位数返回原始数字的字符串表示。</p><p id="6449" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传递给参数的数字必须是0到100之间的整数。</p><p id="254f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下代码来调用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2231" class="mq lc iq mh b gy mr ms l mt mu">let num = 5.356789;<br/>console.log(num.toPrecision())    <br/>console.log(num.toPrecision(5))   <br/>console.log(num.toPrecision(2))   <br/>console.log(num.toPrecision(1))</span></pre><p id="ce9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们忽略了数字的个数，那么它返回一个保留原始数字的小数位数的字符串。</p><p id="cc6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此第一个控制台日志记录了5.356789。如果我们指定了要保留的位数，那么该方法会将数字截断为指定的位数，并将其作为字符串返回。</p><p id="9a72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，其他3个日志记录了以下输出:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dba0" class="mq lc iq mh b gy mr ms l mt mu">5.3568<br/>5.4<br/>5</span></pre><h1 id="708d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6c63" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">Math.round</code>方法对数字进行舍入，将任意数字舍入到最接近的整数。</p><p id="48ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以调用<code class="fe me mf mg mh b">toFixed</code>方法将一个数字四舍五入到指定的小数位数。</p><p id="21a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">toLocaleString</code>方法返回一个字符串，其中的数字被格式化为给定的语言环境。</p><p id="1fa1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">toExponential</code>方法返回一个以指数记数法表示给定数字的字符串。</p><p id="db30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，<code class="fe me mf mg mh b">toPrecision</code>方法返回一个数字的字符串表示，该数字被截断到指定的小数位数。</p><h2 id="b34e" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated"><strong class="ak">简明英语团队的笔记</strong></h2><p id="9484" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四种出版物吗？给他们一个follow来表达爱意:<a class="ae kc" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="kf ir">JavaScript in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p><p id="7a22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们总是有兴趣帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div></div>    
</body>
</html>