<html>
<head>
<title>JavaScript Algorithm: Convert HTML Entities</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:转换HTML实体</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-algorithm-convert-html-entities-99719d8ca118?source=collection_archive---------3-----------------------#2020-04-16">https://javascript.plainenglish.io/javascript-algorithm-convert-html-entities-99719d8ca118?source=collection_archive---------3-----------------------#2020-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="71ef" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">编写一个函数，将选定数量的字符转换成相应的HTML实体。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/91772eb16ec6eb4b223ca9a2d04ec570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyBmAcWm38zhWrJJ-OT6Ig.png"/></div></div></figure><p id="fc74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">今天我们将编写一个名为<code class="fe ln lo lp lq b">convertHTML</code>的函数，它将接受一个字符串(<code class="fe ln lo lp lq b">str</code>)作为参数。</p><p id="d26d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您将得到一个包含以下字符之一的字符串:<code class="fe ln lo lp lq b">&amp;</code>、<code class="fe ln lo lp lq b">&lt;</code>、<code class="fe ln lo lp lq b">&gt;</code>、<code class="fe ln lo lp lq b">"</code>(双引号)和<code class="fe ln lo lp lq b">'</code>(撇号)。该函数的目标是返回包含这些字符的字符串，但是是在它们对应的HTML实体中。</p><p id="d9e0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以在网上找到与这些字符相对应的HTML实体的列表<a class="ae lr" href="https://dev.w3.org/html5/html-author/charref" rel="noopener ugc nofollow" target="_blank">,但是这里有一个我们将用于该功能的字符的快速列表:</a></p><p id="0bb6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">&amp;</code> → <code class="fe ln lo lp lq b">&amp;amp;</code></p><p id="8934" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">&lt;</code> → <code class="fe ln lo lp lq b">&amp;lt;</code></p><p id="691a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">&gt;</code> → <code class="fe ln lo lp lq b">&amp;gt;</code></p><p id="57d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">“</code> → <code class="fe ln lo lp lq b">&amp;quot;</code></p><p id="ac41" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">‘</code> → <code class="fe ln lo lp lq b">&amp;apos;</code></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="0ff5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">示例:</p><pre class="kg kh ki kj gt lz lq ma mb aw mc bi"><span id="ecdf" class="md me iq lq b gy mf mg l mh mi">let str = "Dolce &amp; Gabbana";</span><span id="d5fe" class="md me iq lq b gy mj mg l mh mi">// output: "Dolce &amp;amp; Gabbana"</span><span id="e5e4" class="md me iq lq b gy mj mg l mh mi">let str = "Hamburgers &lt; Pizza &lt; Tacos"</span><span id="a2b2" class="md me iq lq b gy mj mg l mh mi">// output: "Hamburgers &amp;lt; Pizza &amp;lt; Tacos"</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="67ed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于这个函数，我们将结合使用正则表达式和<code class="fe ln lo lp lq b">replace()</code>方法。</p><p id="d998" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们将创建一个正则表达式模式，它将匹配任何字符<code class="fe ln lo lp lq b">&amp;</code>、<code class="fe ln lo lp lq b">&lt;</code>、<code class="fe ln lo lp lq b">&gt;</code>、<code class="fe ln lo lp lq b">"</code>和<code class="fe ln lo lp lq b">'</code>。我们将该模式分配给一个名为<code class="fe ln lo lp lq b">regex</code>的变量。</p><pre class="kg kh ki kj gt lz lq ma mb aw mc bi"><span id="04e9" class="md me iq lq b gy mf mg l mh mi">let regex = /[&amp;|&lt;|&gt;|"|']/g;</span></pre><p id="5b11" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将在字符串输入上使用<code class="fe ln lo lp lq b">replace()</code>方法。我们将编写一个函数，而不是在参数中编写一个替换字符串。</p><p id="b9e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该函数将获取与正则表达式模式匹配的每个字符，并根据该字符指定要返回的HTML实体。</p><pre class="kg kh ki kj gt lz lq ma mb aw mc bi"><span id="dc01" class="md me iq lq b gy mf mg l mh mi">let htmlString = str.replace(regex, function(match) {<br/>    if (match === "&amp;") {<br/>        return "&amp;amp;";<br/>    } else if (match === "&lt;") {<br/>        return "&amp;lt;"<br/>    } else if (match === "&gt;") {<br/>        return "&amp;gt;";<br/>    } else if (match === '"') {<br/>        return "&amp;quot;";<br/>    } else {<br/>        return "&amp;apos;";<br/>    }<br/>});</span></pre><p id="9064" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的函数中，我们创建了一系列if语句来检查传递到函数中的每个字符，并返回其对应的HTML实体。</p><p id="25af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将新的字符串赋给<code class="fe ln lo lp lq b">htmlString</code>并返回它。</p><pre class="kg kh ki kj gt lz lq ma mb aw mc bi"><span id="8ed3" class="md me iq lq b gy mf mg l mh mi">return htmlString;</span></pre><p id="0dea" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们的代码到此结束。下面是该函数的其余部分:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="90d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您发现这个算法很有帮助，请查看我的其他JavaScript算法解决方案文章:</p><div class="mm mn gp gr mo mp"><a href="https://medium.com/@endubueze00/javascript-algorithm-hex-to-decimal-3400f3742d1e" rel="noopener follow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">JavaScript算法:十六进制到十进制</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">写一个将十六进制数转换成十进制数的函数。</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">medium.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd kp mp"/></div></div></a></div><div class="mm mn gp gr mo mp"><a href="https://medium.com/swlh/javascript-algorithm-sorted-union-9e316654561f" rel="noopener follow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">JavaScript算法:排序联合</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">我们编写一个函数，它将返回从两个或更多其他数组中获取的唯一值的数组。</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">medium.com</p></div></div><div class="my l"><div class="ne l na nb nc my nd kp mp"/></div></div></a></div><div class="mm mn gp gr mo mp"><a href="https://levelup.gitconnected.com/javascript-algorithm-search-and-replace-6895e17ccfd7" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">JavaScript算法:搜索和替换</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">我们编写了一个函数，可以对字符串执行简单的搜索和替换操作。</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="my l"><div class="nf l na nb nc my nd kp mp"/></div></div></a></div><h2 id="8d2d" class="md me iq bd ng nh ni dn nj nk nl dp nm la nn no np le nq nr ns li nt nu nv nw bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="4873" class="pw-post-body-paragraph kr ks iq kt b ku nx jr kw kx ny ju kz la nz lc ld le oa lg lh li ob lk ll lm ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae lr" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kt ir">AI in Plain English</strong></a><a class="ae lr" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kt ir">UX in Plain English</strong></a><a class="ae lr" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kt ir">Python in Plain English</strong></a><strong class="kt ir"/>——谢谢，继续学习！</p><p id="dcbe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae lr" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">submissions @ plain English . io</strong></a><strong class="kt ir"/>，并附上您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>