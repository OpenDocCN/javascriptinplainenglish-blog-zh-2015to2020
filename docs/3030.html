<html>
<head>
<title>Simple Markdown Parser with JavaScript and Regular Expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有JavaScript和正则表达式的简单Markdown解析器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/simple-markdown-parser-with-javascript-and-regular-expressions-f0c8d53449a4?source=collection_archive---------3-----------------------#2020-08-21">https://javascript.plainenglish.io/simple-markdown-parser-with-javascript-and-regular-expressions-f0c8d53449a4?source=collection_archive---------3-----------------------#2020-08-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b8da" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本文中，您将学习构建一个Markdown解析器，它可以用JavaScript和正则表达式编译成HTML</h2></div><p id="a1a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Markdown是一种类似HTML的标记语言。编写博客、自述文件和文档在开发人员中非常流行。一些支持富文本的流行网站，如Reddit、GitHub、concept等，允许你写Markdown。我用Markdown把我的博客从Markdown文件转换成HTML网页。降价很简单，但非常强大。在这篇博客中，我将讲述如何构建一个简单的Markdown解析器，使用正则表达式用JavaScript将Markdown转换成HTML。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/1b22da5a6f1df8a9d586e32ac35ca40d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VOEpFCS1odu2lNcEfMQfpQ.png"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Markdown Parser</figcaption></figure><h1 id="14cf" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">降价文本看起来是什么样的</h1><p id="2905" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">如果你打开一个markdown文件，你会看到下面的语法。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Markdown text example</figcaption></figure><p id="c5dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从这张<a class="ae mm" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" rel="noopener ugc nofollow" target="_blank">降价备忘单</a>中了解更多信息。</p><h1 id="e9a3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">正则表达式</h1><p id="4bf8" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">正则表达式是一个字符序列，它帮助我们捕捉文本中的模式。我们可以用它来验证用户输入，查找和替换文本，是的，你猜对了，构建我们的Markdown解析器。😉</p><p id="6249" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不同的语言有不同的方式来表示正则表达式。下面是JavaScript是如何实现的。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Markdown example in JavaScript</figcaption></figure><p id="394b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们到达那个部分时，我将解释我们在解析器中使用的模式。但是，如果你想了解更多关于正则表达式的内容，请访问<a class="ae mm" href="https://javascript.info/regular-expressions" rel="noopener ugc nofollow" target="_blank"> https://javascript.info </a>。</p><h1 id="9aae" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">降价分析器</h1><p id="750f" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">我打算构建的Markdown解析器是一个将Markdown文本作为输入并返回HTML的函数。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Markdown parser function</figcaption></figure><p id="411a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，我们想在<code class="fe mn mo mp mq b">markdownText</code>中找到某个模式，并执行替换操作。</p><h1 id="9fbf" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">字符串替换功能</h1><p id="89e6" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">我们的Markdown解析器很简单。它从作为<code class="fe mn mo mp mq b">markdownText</code>参数传递给函数的Markdown字符串中捕获一个模式，并用某个HTML模式替换它。</p><p id="5242" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是字符串替换函数的工作原理。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Working of replace function</figcaption></figure><p id="d64d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mr">注意:这里的</em> <strong class="kh ir"> <em class="mr"> i标志表示不区分大小写</em> </strong> <em class="mr">和</em> <strong class="kh ir"> <em class="mr"> g标志表示全局</em> </strong> <em class="mr">，这意味着它匹配字符串上的所有模式，而不仅仅是第一个匹配。</em></p><h1 id="ac07" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">在正则表达式中捕获组</h1><p id="1213" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">正则表达式允许我们捕获文本模式，并使用类似索引的东西引用它们。我们可以在替换操作中使用该索引。为了表示一个组，我们可以简单地用圆括号<code class="fe mn mo mp mq b">()</code>把它括起来。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Capturing groups in Regular Expression</figcaption></figure><p id="1804" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，我们将开始的hello存储在一个组中。然后，在我们的替换操作中，可以使用<strong class="kh ir"> $1 </strong>引用该组。</p><h1 id="c4f1" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">回到解析器</h1><p id="7ac2" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">现在，我们想解析Markdown文本并用HTML替换它。</p><p id="e65a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是我们将在解析器中使用的正则表达式及其解释。</p><p id="54ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">标题</strong> <br/> <strong class="kh ir"> </strong>对于标题，我们需要一个以散列(es)开头的字符串，并捕获这些字符之后的所有内容。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">RegEx for h3</figcaption></figure><p id="4a74" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里第一个克拉<code class="fe mn mo mp mq b">^</code>代表行开始，m标志代表多行和通过做。*我们正在捕捉那里存在的一切(字母、数字、特殊字符)。</p><p id="b7dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> Blockquote </strong> <br/>对于Blockquote，我们想要一个以<code class="fe mn mo mp mq b">&gt;</code>开头的行，并捕获该字符之后的所有内容。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Blockquote RegEx</figcaption></figure><p id="7010" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意:\ &gt;代表转义&gt;字符。这意味着，不要把&gt;当作特殊正则表达式字符的一部分，而是当作文本本身的一部分。</p><p id="ded9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">加粗文本</strong> <br/>对于加粗文本，我们要捕捉两个星号之间的文本。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">RegEx for Bold text</figcaption></figure><p id="0ee6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">斜体文本</strong> <br/>对于斜体文本，我们要捕捉一个星号之间的文本。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">RegEx for Italics</figcaption></figure><p id="abc1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">图像、链接和换行符</strong></p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">RegEx for Image, Link and Line break</figcaption></figure><h1 id="6c31" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">把所有的都组装起来</h1><p id="5a54" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">至此，您可能已经掌握了理解这些概念所需的所有背景知识。让我们把到目前为止我们所学的所有东西整合起来，构建解析器。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="646b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">测试解析器的时间到了。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Testing the parser</figcaption></figure><p id="d732" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">应打印:</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Output</figcaption></figure><p id="ed81" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的Markdown解析器现在已经完成。它没有涵盖Markdown支持的所有内容。尝试实现它们，并通过twitter与我分享解决方案。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="df3e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mr">原载于</em><a class="ae mm" href="https://www.bigomega.dev/markdown-parser" rel="noopener ugc nofollow" target="_blank"><em class="mr">https://www . big omega . dev</em></a><em class="mr">。</em></p></div></div>    
</body>
</html>