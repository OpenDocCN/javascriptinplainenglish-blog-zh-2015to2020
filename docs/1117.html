<html>
<head>
<title>A Detailed Look at filter(), map(), and reduce() in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">详细了解JavaScript中的filter()、map()和reduce()</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/take-a-good-look-at-filter-map-and-reduce-in-javascript-18d72f483ada?source=collection_archive---------6-----------------------#2020-01-31">https://javascript.plainenglish.io/take-a-good-look-at-filter-map-and-reduce-in-javascript-18d72f483ada?source=collection_archive---------6-----------------------#2020-01-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6bda" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">深入了解JavaScript中的filter()、map()和reduce()方法。</h2></div></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><p id="2daa" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">在JavaScript中，我们将这三个方法作为Array.prototype 方法的一部分，但是它们之间有什么区别，它们到底是做什么的？所以，让我们深入了解一下吧！</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/f56e1e362ba7d983f8dda609070bc0a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wi_z1ghVqydGQRTM"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Photo by <a class="ae lw" href="https://unsplash.com/@m47h4r?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mazhar Zandsalimi</a> on <a class="ae lw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="68a4" class="lx ly in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">1.所以让我们从filter()方法开始:</h1><p id="3435" class="pw-post-body-paragraph kj kk in kl b km mp jo ko kp mq jr kr ks mr ku kv kw ms ky kz la mt lc ld le ig bi translated">filter()方法应用于一个数组，然后创建一个新数组，在新数组上，它根据我们提供的函数过滤第一个数组。例如，让我们假设我们有一个名为<em class="lf"> oldArray </em>的数组，它包含一些元素，我们只想保留其中的一些特定成员，并将它们存储在一个名为<em class="lf"> newArray的新数组中，这样</em>我们就可以使用filter()方法来实现这个目的:</p><pre class="lh li lj lk gt mu mv mw bn mx my bi"><span id="cbbd" class="mz ly in mv b be na nb l nc nd">//ES5<br/>var oldArray = [10, 20, 30, 40, 50];<br/>var newArray = oldArray.filter(function(number){<br/>    return number &gt; 35<br/>});<br/>console.log(newArray) // [40, 50];</span></pre><p id="6f29" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">我们也可以在<strong class="kl io"> ES6 </strong>中使用箭头功能，如下所示:</p><pre class="lh li lj lk gt mu mv mw bn mx my bi"><span id="7c82" class="mz ly in mv b be na nb l nc nd">// ES6<br/>const oldArray = [10, 20, 30, 40, 50];<br/>const newArray = oldArray.filter(number=&gt; number &gt; 35);<br/>console.log(newArray); // [40, 50]</span></pre><p id="4d2d" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">请记住，你也可以在这里定义并调用一个函数</p><p id="eae2" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">过滤方法有两个基本要素:</p><ul class=""><li id="ec98" class="ne nf in kl b km kn kp kq ks ng kw nh la ni le nj nk nl nm bi translated">它<strong class="kl io">创建了一个新的数组，</strong>，所以如果我们记录上面的<em class="lf">旧数组</em>，我们仍然有原来的数组。</li><li id="eaba" class="ne nf in kl b km nn kp no ks np kw nq la nr le nj nk nl nm bi translated">我们传递给filter方法的函数实际上抛出了一个<strong class="kl io"> True/False，</strong>所以这个元素是否会成为newArray的一部分。</li></ul><p id="dda6" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated"><em class="lf">filter()方法主要用于当我们拥有完整的数据，并且我们只想显示我们想要的一组特定项目时；例如，我们有一个书店中所有书籍的列表，我们想只显示物理书。</em></p></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="7aa5" class="lx ly in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">2.map()方法:</h1><p id="82d2" class="pw-post-body-paragraph kj kk in kl b km mp jo ko kp mq jr kr ks mr ku kv kw ms ky kz la mt lc ld le ig bi translated">这个方法得到一个数组，然后<strong class="kl io">按照函数的意愿转换</strong>该数组的元素，然后创建一个新的数组并将它们全部存储在新的数组中。假设我们有一个数字数组，出于某种原因，我们想把它的所有元素都加倍；我们可以使用<em class="lf"> forEach </em>循环来获取所有元素，然后将它们加倍，<strong class="kl io">但是</strong>我们也可以使用<strong class="kl io">map()方法</strong>。</p><p id="2e59" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">因此，让我们重新检查旧数组，看看如何使用map()方法:</p><pre class="lh li lj lk gt mu mv mw bn mx my bi"><span id="d0e8" class="mz ly in mv b be na nb l nc nd">//ES5<br/>var oldArray = [10, 20, 30, 40, 50];<br/>var newArray = oldArray.map(function(number){<br/>    return number * 2<br/>});<br/>console.log(newArray) // [20, 40, 60, 80, 100];<br/>//ES6<br/>const oldArray = [10, 20, 30, 40, 50];<br/>const newArray = oldArray.map(number =&gt; number * 2);<br/>console.log(newArray) // [20, 40, 60, 80, 100];</span></pre><p id="ab1f" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">与forEach相比，map()方法的重要之处在于，forEach循环<strong class="kl io">实际上并不</strong>返回任何东西，而且<strong class="kl io">还会改变原始数组。</strong>相比之下<strong class="kl io">，</strong>map()方法<strong class="kl io">创建一个新数组。</strong></p></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="1530" class="lx ly in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">3.reduce()方法:</h1><p id="ed58" class="pw-post-body-paragraph kj kk in kl b km mp jo ko kp mq jr kr ks mr ku kv kw ms ky kz la mt lc ld le ig bi translated">reduce()方法获得一个数组，<strong class="kl io">将它简化为一个值</strong>。例如，假设我们有一个数字数组，我们想得到数字的总数，我们可以创建一个新变量并将其设置为零，通过使用For循环，我们可以将数组中的每个元素添加到我们刚刚创建的变量中。或者我们可以只提供一个<strong class="kl io">缩减器函数</strong>给<em class="lf"> reduce()方法</em>，如下所示:</p><pre class="lh li lj lk gt mu mv mw bn mx my bi"><span id="a80e" class="mz ly in mv b be na nb l nc nd">//ES5<br/>var myArray = [1, 2, 3, 4];<br/>var reducedAmount = myArray.reduce(function(total, currentValue){<br/>    return total + currentValue<br/>});<br/>console.log(reducedAmount); // 10<br/>//ES6<br/>const myArray = [1, 2, 3, 4];<br/>const reducedAmount = myArray.reduce(<br/>  (accumulator, currentValue) =&gt; accumulator + currentValue);<br/>console.log(reducedAmount); // 10<br/>//here we have reduced myArray to a single number value</span></pre></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ns"><img src="../Images/2261076f7712b0c07b5a77bd9feee2af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WXAeMOpfQINDuTPa"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Photo by <a class="ae lw" href="https://unsplash.com/@afgprogrammer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mohammad Rahmani</a> on <a class="ae lw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="38e4" class="lx ly in bd lz ma nt mc md me nu mg mh jt nv ju mj jw nw jx ml jz nx ka mn mo bi translated">如何像专业人士一样使用reduce()方法:</h1><p id="b67c" class="pw-post-body-paragraph kj kk in kl b km mp jo ko kp mq jr kr ks mr ku kv kw ms ky kz la mt lc ld le ig bi translated">我们提到reduce()获取一个数组并将其简化为单个值，但是要记住这个<strong class="kl io">值</strong>也可以是一个<em class="lf">对象</em>或者一个新的<em class="lf">数组</em>。我们还可以为这个值设置一个初始数量，然后减少一个数组，并将其与默认值一起存储。例如，假设我们有一个数组。我们想把它简化成一个新的数组<em class="lf">(如前所述，我们可以把一个数组简化成一个值，这个值也可以是一个数组)。</em></p><p id="bca8" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">我们还想在新数组中添加一些<strong class="kl io">不在<em class="lf">旧数组</em>中的</strong>元素，这样我们就可以简单地传递一个包含我们想要的元素的数组，然后将<em class="lf">旧数组</em>归入其中。我知道这听起来可能有点不清楚，所以让我们看看它的代码。在前面的例子中，我们得到了一个数组元素的总量，但是现在我们想把总量加到我们想要的一个<strong class="kl io">初始值</strong>上，这时我们可以把另一个<em class="lf">参数</em>传递给reduce()方法，这是<code class="fe ny nz oa mv b">accumulator</code>的开始状态，如下面的代码所示，我们把10作为第二个参数。</p><pre class="lh li lj lk gt mu mv mw bn mx my bi"><span id="bb32" class="mz ly in mv b be na nb l nc nd">const oldArray = [1, 2, 3, 4];<br/>let sum = oldArray.reduce((accumulator,currentValue) =&gt; {<br/> return accumulator + currentValue;<br/>},10); <br/>console.log(sum); // 20 ((1+2+3+4)+10)</span></pre><h2 id="2e7a" class="ob ly in bd lz oc od dn md oe of dp mh ks og oh mj kw oi oj ml la ok ol mn om bi translated">reducer函数有四个参数:</h2><ul class=""><li id="bf4d" class="ne nf in kl b km mp kp mq ks on kw oo la op le nj nk nl nm bi translated"><code class="fe ny nz oa mv b">accumulator</code></li><li id="789a" class="ne nf in kl b km nn kp no ks np kw nq la nr le nj nk nl nm bi translated"><code class="fe ny nz oa mv b">currentValue</code></li><li id="8c60" class="ne nf in kl b km nn kp no ks np kw nq la nr le nj nk nl nm bi translated"><code class="fe ny nz oa mv b">currentIndex</code></li><li id="8994" class="ne nf in kl b km nn kp no ks np kw nq la nr le nj nk nl nm bi translated"><code class="fe ny nz oa mv b">array</code></li></ul><p id="b5c3" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">因此，让我们跳到另一个例子中来看看它们的作用:假设我们有一个数字数组，并想求出该数组的平均值。事实上，我们也可以使用for循环，但是让我们看看如何使用reduce方法来实现这一点:</p><pre class="lh li lj lk gt mu mv mw bn mx my bi"><span id="14aa" class="mz ly in mv b be na nb l nc nd">const numArray = [10, 20, 30];<br/>const average = numArray.reduce(<br/>  (accumulator, currentValue, currentIndex, array) =&gt; {<br/>    accumulator += currentValue;<br/>    return currentIndex === array.length - 1 ? <br/>      accumulator / array.length : accumulator<br/>  }<br/>}); <br/>// we have not provided an initial value<br/>console.log(average); // 20</span></pre><p id="7a27" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated"><strong class="kl io">请记住</strong>如果没有提供<em class="lf">初始值</em>，reduce方法将从索引<strong class="kl io"> 1 </strong>开始执行其回调函数，并跳过第一个索引。但是如果提供了<em class="lf">初始值</em>，它将从索引<strong class="kl io"> 0 </strong>开始。如果数组为空并且没有提供<em class="lf">初始值</em>，将抛出<em class="lf">类型错误</em>。</p><p id="5fcb" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">对于最后一个技巧，不要同时使用map()方法和filter()方法，您可以只使用reduce()方法来完成这项工作，因为这种方法遍历数组<strong class="kl io">一次</strong>而不是两次。</p></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="5e58" class="lx ly in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">分享给你的朋友！拍手声👏最多50次。</h1><p id="0adc" class="pw-post-body-paragraph kj kk in kl b km mp jo ko kp mq jr kr ks mr ku kv kw ms ky kz la mt lc ld le ig bi translated">请不要犹豫与我分享你的想法和主意。你可以在Twitter上找到我，或者通过访问我的作品集在其他社交媒体上找到我。</p><div class="oq or gp gr os ot"><a href="https://www.hmousavi.dev/" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd io gy z fp oy fr fs oz fu fw im bi translated">侯赛因穆萨维-软件开发人员</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">你好。👋🏻发现侯赛因穆萨维的空间，找出我的作品。请随时与我联系，还有更多！</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">www.hmousavi.dev</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph lq ot"/></div></div></a></div><p id="039f" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated"><strong class="kl io">从我这里读更多:</strong></p><div class="oq or gp gr os ot"><a href="https://itnext.io/a-complete-guide-to-the-api-first-approach-ecd796dd0f10" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd io gy z fp oy fr fs oz fu fw im bi translated">API-优先方法完全指南</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">在您的软件开发生涯中，开发应用程序可能采用的许多方法之一是…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">itnext.io</p></div></div><div class="pc l"><div class="pi l pe pf pg pc ph lq ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://medium.com/codex/multiple-interceptors-in-angular-e0880b2f7d91" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd io gy z fp oy fr fs oz fu fw im bi translated">多截击机在角</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">Angular提供的一个令人惊奇的特性是拦截器，但是拦截器能做什么，我们能不能…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pj l pe pf pg pc ph lq ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://medium.com/angular-in-depth/husky-6-lint-prettier-eslint-and-commitlint-for-javascript-project-d7174d44735a" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd io gy z fp oy fr fs oz fu fw im bi translated">用于JavaScript项目的husky 6 Lint(appellite+eslint)和commitlint</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">编程是一项团队工作，所以我们必须确保我们的代码库是干净的，对团队中的每个人都是可用的…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pk l pe pf pg pc ph lq ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://medium.com/angular-in-depth/angular-forms-reactive-form-including-angular-material-and-custom-validator-9ef324cc3b08" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd io gy z fp oy fr fs oz fu fw im bi translated">角形(反应式)包括角形材料和自定义验证器</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">表单是每个角度项目的主要部分，在这篇文章中，我们想实现一个反应式的角度表单，带有一个…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pl l pe pf pg pc ph lq ot"/></div></div></a></div><div class="oq or gp gr os ot"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-implement-dark-light-themes-in-a-next-js-app-using-context-hook-tailwindcss-336558dd4579"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd io gy z fp oy fr fs oz fu fw im bi translated">如何使用上下文挂钩在Next.js应用程序中实现暗/亮主题</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">初始化一个Next.js应用程序，然后使用上下文钩子和TailwindCSS实现暗/亮主题切换</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pc l"><div class="pm l pe pf pg pc ph lq ot"/></div></div></a></div></div></div>    
</body>
</html>