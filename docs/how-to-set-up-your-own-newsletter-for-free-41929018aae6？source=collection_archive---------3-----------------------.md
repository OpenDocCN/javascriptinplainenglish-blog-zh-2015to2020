# å¦‚ä½•å…è´¹å»ºç«‹è‡ªå·±çš„ç®€è®¯

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/how-to-set-up-your-own-newsletter-for-free-41929018aae6?source=collection_archive---------3----------------------->

## å¦‚ä½•ä½¿ç”¨ Mailchimp API åˆ›å»ºæ–°é—»ç®€æŠ¥ web åº”ç”¨ç¨‹åºã€‚

![](img/105935e639ab9f9739fa6448f2577c79.png)

This will be our final result!

**ç®€è®¯**æ˜¯ä¸€ç§å¼ºå¤§çš„è¥é”€å·¥å…·ï¼Œç”¨äºæ¨å¹¿äº§å“ã€æ–‡ç« ï¼Œæˆ–è€…ä»…ä»…æ˜¯ä¸ºä½ çš„ç½‘ç«™å¸å¼•æµé‡ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•å…è´¹æ„å»ºä¸€ä¸ª**æ—¶äº‹é€šè®¯ web åº”ç”¨ç¨‹åº**ï¼å¦‚æœä½ å¡ä½äº†ï¼Œä¸è¦æ‹…å¿ƒï¼æˆ‘å°†åœ¨æ¯ä¸€èŠ‚çš„ç»“å°¾ä¸ºæ‚¨æä¾›å®Œæ•´çš„ä»£ç ã€‚

# åœ¨å¼€å§‹ä¹‹å‰

æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†ç”±ä¸€ä¸ª**æ³¨å†Œé¡µé¢**ç»„æˆï¼Œè¯¥é¡µé¢å°†é€šè¿‡ **API è¿æ¥åˆ° **Mailchimp** çš„æœåŠ¡å™¨ã€‚**å¯¹äºé‚£äº›ä¸ç†Ÿæ‚‰çš„è¯»è€…æ¥è¯´ï¼Œ **Mailchimp** æ˜¯ä¸€ä¸ªè¥é”€è‡ªåŠ¨åŒ–å¹³å°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç”µå­é‚®ä»¶è¥é”€æœåŠ¡ã€‚è¦åˆ›å»ºå¸æˆ·ï¼Œè¯·å¯¼èˆªè‡³ [Mailchimp çš„æ³¨å†Œé¡µé¢](https://login.mailchimp.com/signup/?_ga=2.116435270.1923161586.1604583088-1161210855.1603366693)ï¼Œç„¶åç‚¹å‡»*å…è´¹æ³¨å†Œã€‚*

è¯´å¤Ÿäº†â€¦è®©æˆ‘ä»¬ç¼–ç å§ï¼

# è®¾ç½®æ³¨å†Œé¡µé¢

## 1.ä¸ºäº†ä¾¿äºå¼€å‘ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬åœ°æ‰˜ç®¡æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº:

*   æ‰“å¼€å‘½ä»¤è¡Œï¼Œå¹¶`cd`åˆ°æ‚¨æƒ³è¦åˆ›å»ºè¿™ä¸ªæ–°é¡¹ç›®çš„åœ°æ–¹(ä¾‹å¦‚`cd Desktop/`)ã€‚
*   åˆ›å»ºä¸€ä¸ªåä¸º`Newsletter`çš„æ–°æ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªæ–°çš„`app.js`ï¼Œä¸€ä¸ª`signup.html`ï¼Œä¸€ä¸ª`success.html`å’Œä¸€ä¸ª`failure.html`ã€‚

![](img/f2114797a84ed35fa6bea0fc36bc7230.png)

Hyper terminal.

*   åˆå§‹åŒ–`npm`(ç”¨æ ‡å‡†é€‰é¡¹åˆå§‹åŒ–`npm init -y`ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜)ã€‚

![](img/525f6d30b45ffa6f700903822a3a84f1.png)

Hyper terminal.

*   å®‰è£…*ä¸»ä½“è§£æå™¨*å’Œ *express* npm æ¨¡å—ã€‚

![](img/f677888274c96867a642a38b00c67fe5.png)

Hyper terminal.

*   ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€é¡¹ç›®ã€‚
*   å‘`app.js`ä¸­çš„é¡¹ç›®è¯·æ±‚ npm æ¨¡å—ã€‚
*   åˆ›å»ºä¸€ä¸ªæ–°çš„ express åº”ç”¨ç¨‹åºï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºç›‘å¬ç«¯å£ 8080ã€‚

ğŸš¨å¦‚æœä½ ä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆï¼Œä¸€å®šè¦çœ‹çœ‹æˆ‘ä»¥å‰å†™çš„å…³äºå¦‚ä½• [***å»ºç«‹æœ¬åœ° Web æœåŠ¡å™¨***](https://medium.com/javascript-in-plain-english/how-to-build-a-simple-web-server-using-node-js-and-express-b945b22fe9bb) ***çš„æ–‡ç« ã€‚***

## 2.ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºæˆ‘ä»¬çš„**æ³¨å†Œé¡µé¢**ã€‚**ä¸ºäº†ç®€å•èµ·è§**ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªéå¸¸æµè¡Œçš„ HTMLã€CSS å’Œ JS åº“:[**Bootstrap**](https://getbootstrap.com/)**ã€‚**

*   è®¿é—®[https://getbootstrap.com/docs/4.5/examples/sign-in/](https://getbootstrap.com/docs/4.5/examples/sign-in/)å¹¶ä½¿ç”¨`ctrl + U`æ‰“å¼€ä¸€ä¸ªå¸¦æœ‰ç«™ç‚¹**æºä»£ç **çš„çª—å£ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ Macï¼ŒåŒæ ·çš„å¿«æ·é”®æ˜¯`Command + Option + U`ã€‚

![](img/dac6ce729716c98964f846b88963e9fb.png)

Bootstrap sign-in example source code.

*   å¤åˆ¶ç²˜è´´åˆ°æˆ‘ä»¬çš„`signup.html`é‡Œã€‚
*   ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»å°† **Bootstrap** æ•´åˆåˆ°æˆ‘ä»¬çš„ç½‘ç«™ä¸­ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æŠ“å–[bootstrap CDN](https://getbootstrap.com/docs/4.3/getting-started/introduction/)å¹¶å°†å…¶ç²˜è´´åˆ°`signup.html`ä¸­ï¼Œæ›¿æ¢ä¸¤ä¸ªæ³¨é‡Š ***<ä¹‹é—´çš„ä»£ç éƒ¨åˆ†ï¼â€”å¼•å¯¼æ ¸å¿ƒ CSS â†’*** å’Œ ***<ï¼â€” Favicons â†’ã€‚***

![](img/4054a1211361d221d8cfc397697789df.png)

*   æˆ‘ä»¬è¿˜å¿…é¡»æ·»åŠ è‡ªå®šä¹‰çš„ CSS æ¨¡æ¿ã€‚ä½ å¯ä»¥åœ¨ ***<åé¢æ‰¾åˆ° CSS ä»£ç ï¼â€”é€šè¿‡åœ¨ç«™ç‚¹çš„**æºä»£ç **ä¸­ç‚¹å‡» [signin.css](https://getbootstrap.com/docs/4.5/examples/sign-in/signin.css) ï¼Œä¸ºè¯¥æ¨¡æ¿å®šåˆ¶æ ·å¼â†’*** ã€‚

![](img/2092db9859cbfd53239858314d55ea04.png)

*   åˆ›å»ºä¸€ä¸ªåä¸º`style.css`çš„æ–°æ–‡æ¡£ï¼Œå¹¶å°†ä»£ç ç²˜è´´åˆ°é‚£é‡Œã€‚
*   å°†`signup.html`é“¾æ¥åˆ°`style.css`æ–‡æ¡£ã€‚
*   è®©æˆ‘ä»¬ç°åœ¨ä¸ªæ€§åŒ–æˆ‘ä»¬çš„ç½‘ç«™æ”¹å˜æ ‡é¢˜ï¼Œä¸€äº›å†…å®¹å’Œæ ‡å¿—ã€‚

## 3.æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¿…é¡»è®¾ç½®åˆ°æ³¨å†Œé¡µé¢çš„â€œè·å–è·¯çº¿â€:

*   ä½¿ç”¨`app.get`å¹¶æŒ‡å®šè·¯çº¿(åœ¨æœ¬ä¾‹ä¸­ä¸ºå›å®¶è·¯çº¿â€œ/â€)
*   ç”¨ req å’Œ res æ·»åŠ å›è°ƒå‡½æ•°ï¼Œå®šä¹‰å“åº”:`res.sendFile(_dirname + â€œ/signup.html")`ã€‚
*   åˆ›å»ºä¸€ä¸ªåä¸º *public* çš„æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ªåä¸º *CSS* çš„æ–°æ–‡ä»¶å¤¹ï¼Œå¹¶å°†`style.css`æ–‡æ¡£æ”¾åœ¨é‚£é‡Œã€‚ä¸ºäº†å°†æ‰€æœ‰é™æ€æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œåœ¨ *public* æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º images çš„æ–‡ä»¶å¤¹ã€‚

![](img/73f7c5d11e8116f3746c47a5a33f57b9.png)

*   å°†`app.use(express.static('public'))`æ·»åŠ åˆ°`app.js`æ–‡ä»¶ä¸­ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨å°†èƒ½å¤Ÿæä¾›é™æ€æ–‡ä»¶(å¦‚æˆ‘ä»¬çš„ CSS æˆ–å›¾åƒ)ã€‚

**4ã€‚ç°åœ¨æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ Body Parser ä»æˆ‘ä»¬çš„æ³¨å†Œè¡¨å•ä¸­è·å–æ•°æ®ã€‚**

*   å°†`app.use(bodyParser.urlencoded({extended:true}));`æ·»åŠ åˆ°`app.js`æ–‡ä»¶ä¸­ã€‚
*   ä½¿ç”¨ body-parser åˆ›å»º post è·¯ç”±ï¼Œå°†è¿™äº›æ•°æ®å‘é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨:

```
app.post("/", function (req, res) {
const firstName = req.body.fName;
const lastName = req.body.lName;
const email = req.body.email;
})
```

å¦‚æœæ‚¨å¡ä½äº†ï¼Œå¯ä»¥ä»è¿™é‡Œå¤åˆ¶ç²˜è´´å®Œæ•´çš„`signup.html` ã€`style.css`æ–‡ä»¶:

`signup.html`

style.css

**5ã€‚ç»ˆäºåˆ°äº†åŠ å…¥æˆ‘ä»¬çš„ API çš„æ—¶å€™äº†ã€‚**

*   é¦–å…ˆï¼Œæˆ‘ä»¬å¯¼èˆªåˆ°[https://us2.admin.mailchimp.com/account/api/](https://us2.admin.mailchimp.com/account/api/)å¹¶ç‚¹å‡» ***åˆ›å»ºé”®*** ç”Ÿæˆä¸€ä¸ªæ–°çš„ API é”®ã€‚æˆ‘ä»¬ä»¥åä¼šéœ€è¦è¿™ä¸ª API å¯†é’¥ã€‚
*   å‰å¾€[https://mailchimp.com/](https://mailchimp.com/developer/)ç‚¹å‡»ã€è§‚ä¼—è®¾ç½®ã€‘æŒ‰é’®ï¼ŒæŸ¥æ‰¾æ‚¨çš„è§‚ä¼—æ ‡è¯†ã€‚

![](img/46946b1693858c68840a2d76ce0675d4.png)

*   ä¸€æ—¦æˆ‘ä»¬æœ‰äº† API å¯†é’¥å’Œæ‚¨çš„å—ä¼— IDï¼Œæˆ‘ä»¬å°±å¿…é¡»å®‰è£… **Mailchimp NPM è½¯ä»¶åŒ…**å¹¶è¦æ±‚å®ƒ:

`npm install @mailchimp/mailchimp_marketing`

`const mailchimp = require("@mailchimp/mailchimp_marketing");`

*   ä½¿ç”¨åˆšåˆšåˆ›å»ºçš„ const `mailchimp`ï¼Œè®¾ç½®å®ƒçš„ **API é”®**(ä½ ä¹‹å‰å¾—åˆ°çš„)ï¼Œä»¥åŠå®ƒçš„**æœåŠ¡å™¨ä»£ç ã€‚**

```
mailchimp.setConfig({
 apiKey:"YOUR API KEY",
 server: "SERVER CODE"
})
```

*   ä¸ºå—ä¼—åˆ—è¡¨æ ‡è¯†å®šä¹‰ä¸€ä¸ªå˜é‡ã€‚

`const listID = "YOUR AUDIENCE LIST ID";`

*   æ ¹æ®ç”¨æˆ·è¾“å…¥(å§“åã€å§“æ°å’Œç”µå­é‚®ä»¶)åˆ›å»ºä¸€ä¸ª JSON å¯¹è±¡ã€‚
*   åˆ¶ä½œ`async function`ã€‚
*   è¿è¡Œè¯¥åŠŸèƒ½ã€‚
*   åˆ›å»ºå¹¶è‡ªå®šä¹‰**success.html**å’Œ**failure.html**æ–‡ä»¶ã€‚
*   å¦‚æœå‡ºç°é”™è¯¯ï¼Œå°†ç”¨æˆ·é‡å®šå‘è‡³****success.html**æ–‡ä»¶å¦åˆ™é‡å®šå‘è‡³**failure.html**æ–‡ä»¶ã€‚**

**`app.js`æ–‡ä»¶çš„å…¨éƒ¨ä»£ç :**

**app.js**

**æ‚¨å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­é”®å…¥`nodemon app.js`åœ¨æœ¬åœ°æµ‹è¯•æ‚¨çš„ç½‘é¡µã€‚**

## **è¿™å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆçš„ç»“æœ:**

**![](img/30287e74625da45906bb1ad269fa54b1.png)**

**å¤ªå¥½äº†ã€‚**

**ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å¯¼èˆªåˆ°[https://mailchimp.com/](https://mailchimp.com/developer/)å¹¶ç‚¹å‡» ***è§‚ä¼—*** æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸåœ°å°†è®¢æˆ·æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼**

**![](img/ee1a14e94c4ed97ace92c2b100f92d9c.png)**

****è¿›ä¸€æ­¥é˜…è¯»****

**[](https://circuit.ooo/blog/the-key-ingredient-behind-high-newsletter-open-rates) [## é«˜æ—¶äº‹é€šè®¯å¼€æ”¾ç‡èƒŒåçš„å…³é”®å› ç´ 

### åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæˆ‘ä»¬é•¿è¾¾ 9 ä¸ªæœˆçš„æ—¶äº‹é€šè®¯ã€Šç®€æ˜è‹±è¯­çš„æœ€åä¸€å‘¨ã€‹æ˜¯å¦‚ä½•ä¸€ç›´â€¦

ç”µè·¯](https://circuit.ooo/blog/the-key-ingredient-behind-high-newsletter-open-rates) 

*æ›´å†…å®¹äº* [*æ™®é€šè‹±è¯­*](https://plainenglish.io/) *ã€‚æ³¨å†Œæˆ‘ä»¬çš„* [*å…è´¹å‘¨æŠ¥*](http://newsletter.plainenglish.io/) *ã€‚åœ¨* [*æ¨ç‰¹*](https://twitter.com/inPlainEngHQ)[*é¢†è‹±*](https://www.linkedin.com/company/inplainenglish/)*[*YouTube*](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*å’Œ [*ä¸å’Œ*](https://discord.gg/GtDtUAvyhW) *ä¸Šè·Ÿéšæˆ‘ä»¬ã€‚å¯¹å¢é•¿é»‘å®¢æ„Ÿå…´è¶£ï¼ŸæŸ¥çœ‹* [*ç”µè·¯*](https://circuit.ooo/) *ã€‚*****