<html>
<head>
<title>Accessing Data from Cookies and Forms using Express &amp; Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Express &amp; Node.js从Cookies和表单中访问数据</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/accessing-data-from-cookies-and-forms-using-express-node-js-c140c9f59f6d?source=collection_archive---------4-----------------------#2020-10-24">https://javascript.plainenglish.io/accessing-data-from-cookies-and-forms-using-express-node-js-c140c9f59f6d?source=collection_archive---------4-----------------------#2020-10-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="1570" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">使用Node.js了解Express</h2><div class=""/><div class=""><h2 id="1260" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">了解如何通过Cookies和表单从请求对象获取数据</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/0b54b28e6f8dd169748bacbd01dbfb00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ImNJHBdpWms9yx2AutaVLg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@thecreative_exchange" rel="noopener ugc nofollow" target="_blank">The Creative Exchange</a> on Unsplash.</figcaption></figure><p id="e8fe" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于有兴趣将node用作web服务器或者将WebSockets与Express结合使用的开发人员。这篇文章一定会对你有益。</p><p id="6e12" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> <em class="mb"> Express.js </em> </strong> <em class="mb">，或简称为</em> <strong class="lh ja"> <em class="mb"> Express </em> </strong> <em class="mb">，是一个后端web应用框架，为</em><a class="ae le" href="https://en.wikipedia.org/wiki/Node.js" rel="noopener ugc nofollow" target="_blank"><em class="mb">node . js</em></a><em class="mb">，在MIT许可下作为免费开源软件发布。它是为构建web应用程序和API而设计的。它被称为Node.js的</em> <a class="ae le" href="https://en.wikipedia.org/wiki/De_facto_standard" rel="noopener ugc nofollow" target="_blank"> <em class="mb">事实上的标准</em> </a> <em class="mb">服务器框架——Wikipedia.org</em></p><h1 id="f790" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated"><strong class="ak">初始设置</strong></h1><ol class=""><li id="0cf0" class="mu mv iq lh b li mw ll mx lo my ls mz lw na ma nb nc nd ne bi translated">使用<strong class="lh ja"> npm init </strong>命令为应用程序创建一个<strong class="lh ja"> package.json </strong>文件，要了解更多关于NPM package . JSON的规范，你可以去这个<a class="ae le" href="https://docs.npmjs.com/files/package.json" rel="noopener ugc nofollow" target="_blank">链接</a>，否则按回车键保留默认配置。</li></ol><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="9284" class="nk md iq ng b gy nl nm l nn no"> <strong class="ng ja">npm init</strong></span></pre><p id="7c52" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2.安装<a class="ae le" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">Express</em></strong></a>并通过运行以下命令将其添加到依赖列表中:</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="4d49" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">npm install express -- save</strong></span></pre><p id="5ecf" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">3.安装<a class="ae le" href="https://nodemon.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">node mon</em></strong></a>，这是一个实用程序，它会监视您在源文件中所做的更改，并会自动为您重启服务器。这在开发过程中很有帮助，所以每当您添加一些更改时，您不需要不断重启服务器。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="e48f" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">npm install nodemon -- save</strong></span></pre><p id="cfa9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">4.安装<a class="ae le" href="https://helmetjs.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> <em class="mb">头盔</em></strong></a>——这是一个Express中间件web框架。通过适当地提供HTTP头，Helmet可以帮助保护Express应用程序免受各种已知漏洞的影响。头盔由11个较小的中间件函数组成，这些函数设置与安全相关的HTTP请求头。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="042e" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">npm install helmet -- save</strong></span></pre><p id="a0f1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">5.为了能够从cookie中获取信息，你需要安装一个cookie解析器<strong class="lh ja">。</strong><a class="ae le" href="http://expressjs.com/en/resources/middleware/cookie-parser.html" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">cookie-parser</em></strong></a>是一个Express中间件函数，负责解析Cookie头，并将Cookie数据公开为<em class="mb"> response.cookie </em>。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="ea86" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">npm install cookie-parser -- save</strong></span></pre><p id="64e5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">6.对于你的模板，你需要安装EJS。<a class="ae le" href="https://ejs.co/" rel="noopener ugc nofollow" target="_blank"> EJS </a>是一种简单的模板语言，可以让你用普通的Javascript生成HTML标记。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="d155" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">npm install ejs -- save</strong></span></pre><p id="f1cc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">7.在根目录下添加<strong class="lh ja"> <em class="mb"> index.js </em> </strong>文件。这个文件与您在生成package.json时指定为<em class="mb">入口点</em>的文件相同。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="6c51" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">touch index.js</strong></span></pre><p id="02b3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">8.配置<strong class="lh ja"> <em class="mb"> package.json </em> </strong>。如果您想更改您在package.json中指定为入口点的文件名，您可以在<em class="mb">脚本</em>部分中指定它。为了能够在运行应用程序时使用<strong class="lh ja"> <em class="mb"> Nodemon </em> </strong>，您需要将start命令的属性更改为:</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="39c6" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">“start”: “nodemon index.js”</strong></span></pre><h1 id="dd15" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">目录结构</h1><p id="e764" class="pw-post-body-paragraph lf lg iq lh b li mw ka lk ll mx kd ln lo np lq lr ls nq lu lv lw nr ly lz ma ij bi translated">Express是一个非个人化的web框架，因此，只要你提供正确的脚本路径，文件夹结构将不仅仅影响应用程序的运行。在这个项目中，因为它只是一个简单的应用程序，将描述如何从表单和cookies中访问数据，我们将使用下面的文件夹结构，但如果你想要一个详细和完整的脚手架，你可能想使用<a class="ae le" href="http://expressjs.com/en/starter/generator.html" rel="noopener ugc nofollow" target="_blank"> Express generator </a>代替。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="9352" class="nk md iq ng b gy nl nm l nn no">.<br/>├── public<br/>│   └── stylesheets<br/>│       └── styles.css<br/>├── views<br/>│   ├── login.ejs<br/>│   └── welcome.ejs<br/>├── index.js<br/>├── package.json<br/>└── README.md</span></pre><h1 id="6dfe" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">在主文件中</h1><p id="7d74" class="pw-post-body-paragraph lf lg iq lh b li mw ka lk ll mx kd ln lo np lq lr ls nq lu lv lw nr ly lz ma ij bi translated">现在您已经完成了应用程序的设置，我们将开始在<em class="mb"> index.js </em>文件中添加所需的脚本。我们将一行一行地检查代码，我将尝试添加一个详细的解释，说明代码的作用和用途。</p><p id="3ac0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">下面的代码显示了如何在一个常量中赋值express，并声明了另一个常量<em class="mb"> app </em>，以便我们稍后可以调用Express。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="2946" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">const express = require(‘express’);<br/>const app = express();</strong></span></pre><p id="bda6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然后，您必须指定您将使用的端口，该端口应该是1000及以上，以便它的工作。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="b930" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">const port = 3000;<br/>app.listen(port);</strong></span></pre><p id="0b9d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Express有一个内置的中间件函数，你需要添加它来指定你的静态文件的位置——<strong class="lh ja">path。由于它是内置的，你可能会注意到我们在初始设置时不需要安装它。只要把它存储在一个变量中就可以使用了。</strong></p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="7ef2" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">const path = require(‘path’);</strong></span></pre><p id="ab8a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为安全连接添加中间件<strong class="lh ja"> <em class="mb">头盔</em> </strong>也是习惯和标准。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="4b24" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">const helmet = require(‘helmet’);<br/>app.use(helmet());</strong></span></pre><p id="545a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你必须调用<a class="ae le" href="https://expressjs.com/en/4x/api.html#express.json" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">express . json()</em></strong></a>—这是Express中内置的中间件功能，它使用JSON有效负载解析传入的请求，并基于<em class="mb">主体解析器</em>。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="c2a7" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">app.use(express.json());</strong></span></pre><p id="e176" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">以及<a class="ae le" href="https://expressjs.com/en/4x/api.html#express.urlencoded" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">express . urlencoded(</em></strong></a><strong class="lh ja"><em class="mb">)</em></strong>—它解析<em class="mb"> urlencoded </em>主体，并且只查看<em class="mb">内容类型</em>与<em class="mb">类型</em>选项匹配的请求。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="3bcf" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">app.use(express.urlencoded());</strong></span></pre><p id="ffb0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了在应用程序中添加和使用静态文件，我们需要使用Express内置中间件—<a class="ae le" href="https://expressjs.com/en/4x/api.html#express.static" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">Express . static()</em></strong></a>，它接受根参数，即您将放置所有静态资产的文件夹名称。在这个应用程序中，我们将把它们放在<strong class="lh ja"> public </strong>文件夹中。</p><p id="e04f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果找不到该文件，它将执行回调中的<strong class="lh ja"> <em class="mb"> next() </em> </strong>参数，然后移动到下一个中间件来执行，允许回退和堆栈，而不是显示404响应。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="4a9a" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">app.use(express.static(‘public’));</strong></span></pre><p id="4969" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然后我们需要定义使用哪个javascript模板，还有其他可用的JS模板如<a class="ae le" href="https://pugjs.org/api/getting-started.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> <em class="mb">帕格</em> </strong> </a> <em class="mb">，</em> <a class="ae le" href="https://handlebarsjs.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> <em class="mb">车把</em> </strong> </a> <em class="mb">，</em><em class="mb"/><a class="ae le" href="https://mustache.github.io/" rel="noopener ugc nofollow" target="_blank"><em class="mb">小胡子</em>  </a> <em class="mb">。</em>但是，在这个应用中，我们将使用EJS。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="86fd" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">app.use(‘view engine’, ‘ejs’);<br/>app.use(‘views’, path.join(__dirname, ‘views’));</strong></span></pre><p id="165e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在根页面上，您现在只需显示<em class="mb">‘健全性检查’</em>文本。以确保我们的配置和我们编写的代码运行良好。我们将重点关注<em class="mb">登录</em>页面，因此无需在此页面呈现详细信息。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="71d9" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">app.get(‘/’, (response, request, next) =&gt; {<br/>    app.send(‘Sanity check’);<br/>});</strong></span></pre><p id="5c49" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们现在已经完成了初始设置，您可以使用下面的命令在您的本地机器上运行它:</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="dde8" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">npm start</strong></span></pre><p id="f83e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然后在浏览器中导航到<a class="ae le" href="https://localhost:3000" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja">https://localhost:3000</strong></a><strong class="lh ja"/>。您应该能够看到与下面截图相同的页面:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ns"><img src="../Images/1953d65a912cd3c3a0f9cb00a1d08c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*scuKj8DTBOM_tchU44DumA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">View to the root page.</figcaption></figure><h1 id="a3a7" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">构建表单模板</h1><p id="fbeb" class="pw-post-body-paragraph lf lg iq lh b li mw ka lk ll mx kd ln lo np lq lr ls nq lu lv lw nr ly lz ma ij bi translated">本文的重点是指导你如何从表单和Cookie中获取数据，所以不要浪费太多时间设计模板。你可以参考我在这个<a class="ae le" href="https://github.com/foobearer/Express-Form-and-Cookies/blob/main/public/stylesheets/styles.css" rel="noopener ugc nofollow" target="_blank">文件</a>中写的CSS，并将其复制到<strong class="lh ja"><em class="mb">/public/style sheet</em></strong><em class="mb"/>文件夹中的styles.css中。</p><p id="11c7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于模板，您需要创建一个新文件<em class="mb"> login.ejs </em>，然后将其放在<strong class="lh ja"> /views </strong>文件夹中，并添加以下代码:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/cee8826561f784af82620e5797f213af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHR9t5RKkjcDy6TS-2rxpw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">login.ejs page template.</figcaption></figure><p id="62bf" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了让我们在浏览器上看到上面的模板，我们必须创建一个get请求，如下所示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/5131e192a0b766faeccb29c03e48978d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c47XPbT2IB1vgolE_l4t2Q.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">index.js — adding get a request to display the login.ejs page.</figcaption></figure><p id="1a72" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">太好了，现在您可以导航到浏览器并进入登录页面。<a class="ae le" href="http://localhost:3000/login" rel="noopener ugc nofollow" target="_blank">https://localhost:3000/log in</a>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/073d916ee071734919018bc265817d30.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*D4yj3yPQyqvD6MTSExZu3g.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">login page view.</figcaption></figure><h1 id="eba6" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">从cookie中获取数据</h1><p id="5d8e" class="pw-post-body-paragraph lf lg iq lh b li mw ka lk ll mx kd ln lo np lq lr ls nq lu lv lw nr ly lz ma ij bi translated">如果您返回并检查我们上面创建的登录表单，您将看到在表单标记的<strong class="lh ja"> <em class="mb"> action </em> </strong>属性下，我们添加了一个<strong class="lh ja"><em class="mb">/process _ log in</em></strong>路径，该路径将执行我们放在POST请求中的代码。按照下面的图像:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/7819aba6ecdf5e1ce617d8d27554f1ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iprrmCOITYaueQ4zkYzxQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">index.js — post method to get data from the form and to save that inside a cookie.</figcaption></figure><p id="7ee0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当您按下页面上的登录按钮时，您在表单中提供的用户名和密码将被转发到请求主体。</p><p id="b513" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们可以用它来验证我们是将用户重定向到欢迎页面还是返回到登录页面。</p><p id="bfe1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在上面的代码中，要将这些数据保存到cookie中，我们只需添加:</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="a7ff" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">response.cookie('username', username);</strong></span></pre><p id="41c8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了确保它正常工作，检查页面并导航到<strong class="lh ja"> <em class="mb">应用</em> </strong>选项卡，然后单击侧边栏上的cookies:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nx"><img src="../Images/0f22b752055f3ee53646570a83ea0a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZmj-6wVTt1rTkUEtThDcQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Checking the data saved inside Cookies.</figcaption></figure><p id="3294" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一旦您的用户凭证与<em class="mb"> userdetails </em>对象中的凭证相匹配，您将被重定向到<em class="mb"> welcome </em>页面:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ny"><img src="../Images/6d56a5c865d058194ec10db1725b4da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgO--5ieXXId-BY_Xy2UqA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Welcome page view — https://localhost:3000/welcome:.</figcaption></figure><h1 id="70e1" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">从Cookies中删除数据</h1><p id="ef0a" class="pw-post-body-paragraph lf lg iq lh b li mw ka lk ll mx kd ln lo np lq lr ls nq lu lv lw nr ly lz ma ij bi translated">删除cookie里面保存的数据非常简单。您只需要在下面添加这段代码。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="f725" class="nk md iq ng b gy nl nm l nn no"><strong class="ng ja">response.clearCookie('username');</strong></span></pre><p id="6c37" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最后一部分是添加注销的代码片段。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/11335f18a4595c5ec9747fac00545807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MUe3g77M33dQhaKuI2BPZw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">index.js — logout GET method.</figcaption></figure><p id="4066" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你热衷于学习并且想要获得这个应用程序的完整副本，你可以在我的GitHub帐户中克隆这个<a class="ae le" href="https://github.com/foobearer/Express-Form-and-Cookies" rel="noopener ugc nofollow" target="_blank">库</a>。✌🏻😉</p><p id="43e9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你觉得这篇文章有帮助吗？别忘了在评论区留下一些反馈。</p><h2 id="05d6" class="nk md iq bd me nz oa dn mi ob oc dp mm lo od oe mo ls of og mq lw oh oi ms iw bi translated">参考资料:</h2><p id="ce93" class="pw-post-body-paragraph lf lg iq lh b li mw ka lk ll mx kd ln lo np lq lr ls nq lu lv lw nr ly lz ma ij bi translated"><a class="ae le" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank">快递</a></p><p id="04fa" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" href="https://helmetjs.github.io/" rel="noopener ugc nofollow" target="_blank">头盔</a></p><p id="5225" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" href="https://docs.npmjs.com/files/package.json" rel="noopener ugc nofollow" target="_blank">NPM package . JSON规范</a></p></div></div>    
</body>
</html>