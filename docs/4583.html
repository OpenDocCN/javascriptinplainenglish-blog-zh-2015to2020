<html>
<head>
<title>How To Use Data Attributes In JavaScript, CSS + HTML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript，CSS + HTML中使用数据属性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/quick-guide-to-using-data-attributes-f1f2c3161d5f?source=collection_archive---------1-----------------------#2020-12-22">https://javascript.plainenglish.io/quick-guide-to-using-data-attributes-f1f2c3161d5f?source=collection_archive---------1-----------------------#2020-12-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9c71" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在DOM上存储附加信息的聪明方法</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/c5618d1b4e79f24ed191ac7fa2bc109c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwh4ElgPDfTIF0AfGxrdxQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by Franki Chamaki via Upsplash</figcaption></figure><p id="309f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这篇文章是在JavaScript中使用数据属性的简短快速的指南——当我开始自己的JavaScript之旅时，我希望我知道更多。</p><h2 id="40e5" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">什么是数据属性？</h2><p id="f8b0" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">数据属性实际上是HTML属性，允许您为HTML元素创建和分配定制的数据点。它们可以通过HMTL、CSS和JavaScript访问，这使它们成为存储可能不太适合<code class="fe mm mn mo mp b">class</code>列表或<code class="fe mm mn mo mp b">id</code>的信息的强大选择。毕竟，我们应该致力于保留<code class="fe mm mn mo mp b">class</code>和<code class="fe mm mn mo mp b">id</code>属性用于样式化目的，否则，事情会很快变得非常混乱。</p><h2 id="032b" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">HTML中的数据属性</h2><p id="cba0" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">识别HTML中的数据属性非常容易，只需在HTML元素标签中查找任何带有<code class="fe mm mn mo mp b">data-something</code>的内容。在这种情况下，<code class="fe mm mn mo mp b">something</code>可以是您想要的任何东西，尽管最好的做法是将其命名为表达式，以便您和使用您代码的其他程序员可以很容易地分辨出该数据属性中存储的是什么类型的信息。要在HTML中创建一个数据属性，只需以<code class="fe mm mn mo mp b">data-</code>开始属性，并选择一个对您有意义的名称。您需要使用赋值操作符<code class="fe mm mn mo mp b">=</code>，将数据属性值设置为<code class="fe mm mn mo mp b">string</code>。如果您的数据属性需要两个或更多的单词，只需在每个单词之间添加一个破折号。例如，如果我想创建一个名为“trainer id”的数据属性，我会在所需的HTML元素中将它写成<code class="fe mm mn mo mp b">data-trainer-id</code>。</p><p id="4be1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在下面的代码中，我们可以看到这个硬编码到HTML中的例子。我决定给无序列表中的不同<code class="fe mm mn mo mp b">li</code>添加数据属性，这样我就可以关联每个口袋妖怪的训练师id。通过这样做，我可以很容易地检索关于什么口袋妖怪属于什么训练者的信息，并根据需要快速应用JavaScript或CSS更改。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mq"><img src="../Images/68b8552f5b4c13064b2afc80d1be9389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAp4ZPiZBTKfjmXegxXB1w.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Screenshot of Chrome devTools showing the data attributes associated with each li element</figcaption></figure><p id="a841" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">数据属性不会出现在您的浏览器中，因此不必担心我们的用户是否会看到它。</p><h2 id="4f21" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">用JavaScript创建数据集</h2><p id="0d2b" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">虽然您可以在HTML中硬编码数据属性，但最好是在JavaScript中创建它们，以便值保持动态。下面是作为<code class="fe mm mn mo mp b">button</code>元素的一部分创建的数据属性的屏幕截图。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/5a85292fc52f6d51693d1e5f639d239c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K8m-Y82HcBgqdh5JG-Fx3A.png"/></div></div></figure><p id="8c72" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">快速分析以上代码中发生的情况，了解更多上下文:</p><ul class=""><li id="aa83" class="ms mt in ku b kv kw ky kz lb mu lf mv lj mw ln mx my mz na bi translated">函数<code class="fe mm mn mo mp b">renderPokemon()</code>接受一个<code class="fe mm mn mo mp b">data</code>参数，在本例中是一个对象数组。</li><li id="0d2e" class="ms mt in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">该函数然后应用<code class="fe mm mn mo mp b">.forEach()</code>方法迭代<code class="fe mm mn mo mp b">data</code>数组中的每个对象。</li><li id="717b" class="ms mt in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">在每次迭代中，我们都要创建一个<code class="fe mm mn mo mp b">li</code>元素，用该元素的<code class="fe mm mn mo mp b">nickname</code>和<code class="fe mm mn mo mp b">species</code>属性填充它，同时创建一个<code class="fe mm mn mo mp b">button</code>，它的数据属性指向该元素的<code class="fe mm mn mo mp b">id</code>。在这种情况下，数据属性被称为<code class="fe mm mn mo mp b">data-pokemon-id</code>。</li></ul><p id="bdc3" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">**Phew***好，回到数据属性…</p><p id="fef1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在这种情况下，我们仍然为数据属性硬编码HTML代码，但是动态地应用该属性的值。在我们的JavaScript文件中这样做可以让我们对数据属性有更多的控制、通用性和可用性。但是，我们可以做得更好……</p><h2 id="d0d2" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">在JavaScript中使用数据属性</h2><p id="d4e5" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">我们实际上可以在JavaScript中使用点符号来创建和分配数据属性，只需要稍微改变一下语法。当使用JavaScript时，我们现在使用<code class="fe mm mn mo mp b">dataset</code>代替<code class="fe mm mn mo mp b">data-</code>，当创建一个包含多个单词的数据属性时，我们切换到camel case<code class="fe mm mn mo mp b">thisIsCamelCase</code>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ng"><img src="../Images/35f16dada15e1a9c22472968105489f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C4q8fJhZUul7fqgUlFdIQQ.png"/></div></div></figure><p id="8521" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在上面的代码中，我们保持了简单，并为<code class="fe mm mn mo mp b">trainerDiv</code>元素分配了<code class="fe mm mn mo mp b">id</code>的数据属性。这是通过使用点符号<code class="fe mm mn mo mp b">.dataset</code>来完成的，后跟属性的期望名称。如果我们想用点符号来创建或分配一个包含多个单词的数据属性，比如“培训师id”，那么它应该是这样的:<code class="fe mm mn mo mp b">trainerDiv.dataset.trainerId</code>。HTML中的结果看起来就像我们的第一个例子，我们将数据属性硬编码到元素标签中。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nh"><img src="../Images/04897931ce51f389222c4fac0e08e2f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uN7cZxxNGjR4wcBr31NHCg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Screenshot shows the creation of a new element, newLi, and a new data attribute called “trainer id”</figcaption></figure><p id="71a3" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">一旦我的<code class="fe mm mn mo mp b">newLi</code>被添加到DOM中，我就可以使用传统的DOM遍历技术来搜索该节点，比如<code class="fe mm mn mo mp b">.querySelector()</code> …</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ni"><img src="../Images/345ea678c5171bfe0d52580da21de12a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44pizS2bD9aeCZ_Yu0GynA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Used .querySElector to find the data attribute we just set.</figcaption></figure><p id="ad68" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">或者，如果我们已经有了元素，我们可以再次使用点符号来检查它的数据属性！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ca"><img src="../Images/541beabc3109c45a0b924cb5b3bb838a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DMuC86eTwIRQnQCQQS06pQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The console returns the <a class="ae nj" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMStringMap" rel="noopener ugc nofollow" target="_blank">DOMStringMap</a> object where data attributes are stored in JavaScript.</figcaption></figure><p id="1b30" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">不用担心上面截图中的<code class="fe mm mn mo mp b">DOMStringMap</code>，那只是用于HTML.dataset属性的界面(也就是我们从<code class="fe mm mn mo mp b">DOMStringMap</code>中得到<code class="fe mm mn mo mp b">.dataset</code>)。</p><h2 id="faf2" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">CSS中的数据属性</h2><p id="9c49" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">最后，由于数据属性只是普通的HTML属性，我们也可以在CSS中使用这些数据属性。例如，我们可以将具有<code class="fe mm mn mo mp b">data-trainer-id = "8"</code>和<code class="fe mm mn mo mp b">data-trainer-id = "12"</code>的<code class="fe mm mn mo mp b">li</code>元素作为目标，根据教练的id应用风格变化。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nk"><img src="../Images/fe7e2b86440ab15fd385750746122b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RyQGQCfTHrjvnlCmP014yw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">CSS targeting data attributes of specific values for style changes.</figcaption></figure><h2 id="b90d" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">结论</h2><p id="05c4" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">TLDR；数据属性是存储不适合/不应该出现在HTML元素的<code class="fe mm mn mo mp b">id</code>或<code class="fe mm mn mo mp b">class</code>属性中的额外数据的好方法。可以使用以下语法在HTML或JavaScript中创建和分配数据属性:</p><ul class=""><li id="7cc6" class="ms mt in ku b kv kw ky kz lb mu lf mv lj mw ln mx my mz na bi translated">HTML: <code class="fe mm mn mo mp b">data-some-name = "value"</code>(使用破折号)</li><li id="22a0" class="ms mt in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">JavaScript: <code class="fe mm mn mo mp b">element.dataset.someName = "value"</code>(使用。数据集和骆驼箱)</li></ul><p id="cba9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">数据属性可以通过点符号或使用DOM遍历技术来访问，如<code class="fe mm mn mo mp b">.querySelector()</code>:</p><ul class=""><li id="27f1" class="ms mt in ku b kv kw ky kz lb mu lf mv lj mw ln mx my mz na bi translated"><code class="fe mm mn mo mp b">element.dataset</code></li><li id="2353" class="ms mt in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated"><code class="fe mm mn mo mp b">element.querySelector('[data-some-name = "value"]')</code>和<code class="fe mm mn mo mp b">value</code>是您正在寻找的实际值(例如，9，“蓬松度”等。)</li></ul><p id="d69c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">CSS也可以使用数据属性来应用样式更改。</p></div></div>    
</body>
</html>