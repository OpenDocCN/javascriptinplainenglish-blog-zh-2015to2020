<html>
<head>
<title>The Quickest Way to Develop Models and Controllers for your App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为您的应用开发模型和控制器的最快方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-quickest-way-to-develop-models-and-controllers-cec8273b2522?source=collection_archive---------15-----------------------#2020-12-29">https://javascript.plainenglish.io/the-quickest-way-to-develop-models-and-controllers-cec8273b2522?source=collection_archive---------15-----------------------#2020-12-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="55be" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">以及项目的任何其他模板、类或代码单元</h2></div><p id="b3cd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们用NodeJS创建一个有用的工具。</p><p id="3c1d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我开始之前，你可能已经注意到我在Windows 10上编码，所以我的一些步骤可能会与Linux或iOS略有不同。此外，名称<strong class="kh ir">模块</strong>和<strong class="kh ir">包</strong>可以互换使用，在上下文中大致表示相同的意思。</p><p id="0f6e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在本文中，我将解释如何构建您自己的模块框架，我们将设计和构建该框架来帮助您生成后端层，如模型和控制器以及中间层类。即使您需要快速生成视图(例如HTML页面或部分视图等。)这个工具也可以帮你做这件事——因为我们可以内置它。</p><p id="5c75" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们甚至会通过展示如何为它设计一个菜单来提供一个额外的cookie，这样对于经验较少的程序员来说它非常容易使用，他们不必通过自己单独的命令来生成模型或控制器，而是可以遵循一个易于使用的菜单。</p><h1 id="51b8" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated"><strong class="ak">属地</strong></h1><p id="68c7" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">是的，我们可以同意最好的工具或模块依赖于其他人，通常工程师喜欢在开源项目中互相帮助，但是在我们的指南中，我们只使用一个依赖项，因为这是我们唯一需要的，那就是<a class="ae ly" href="https://www.npmjs.com/package/commander" rel="noopener ugc nofollow" target="_blank">Commander</a>——查看这里了解更多信息。</p><p id="753d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看我在NPM上的一个名为randomusernames的模块，看看它依赖于什么。</p><div class="lz ma gp gr mb mc"><a href="https://www.npmjs.com/package/randomusernames" rel="noopener  ugc nofollow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">随机用户名</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">获得一个随机的用户名，可用于任何类型的应用程序</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">www.npmjs.com</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq mr mc"/></div></div></a></div><p id="b618" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的模块中，如果您查看“dependency”选项卡，您会看到我的randomusernames模块依赖于另一个名为unique-random-array的模块，在该模块中，它也有一个依赖项，您会看到它是unique-random模块。</p><p id="0077" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么，为什么这种情况会在模块中频繁发生呢？底线是谁想重新发明轮子！</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/a76dafd1feb7bc55774ec0215a4af854.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*atl2FQbQ__3SHZJdi5QNuQ.gif"/></div><figcaption class="mz na gj gh gi nb nc bd b be z dk">Don’t reinvent the wheel</figcaption></figure><h1 id="b2a1" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated"><strong class="ak">为什么自动生成模型和控制器等文件？</strong></h1><p id="ba64" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">在强类型语言中，如TS或Java，有时手工创建许多模型和控制器是非常耗时的。是的，IDE可能会为您设置一些开始，但项目总是增长，并且编写一个又一个模型或一个又一个接口，很容易疲劳并出错，特别是在为每个节点或数据列键入类型时。这就是generators的优势所在，我希望这将加快你的团队的开发时间，因为手动创建上述内容花费的时间更少，而不管正在哪个层上工作或者项目处于哪个阶段。</p><p id="a446" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的目标是给出好的真实世界的例子，但是你可以随意调整每个代码样本来满足你的喜好。让我们开始吧，任何问题，比如通常请在下面随意评论。</p><h1 id="b080" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated"><strong class="ak">构建</strong></h1><p id="1a0a" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">我们有一个名为Commander的主要依赖项，因此我们将在全球范围内安装它—</p><ol class=""><li id="044d" class="nd ne iq kh b ki kj kl km ko nf ks ng kw nh la ni nj nk nl bi translated">设置VS代码—打开VS代码，然后打开(视图&gt;资源管理器)。文件&gt;打开文件夹&gt;通过点击新文件夹&gt;然后选择文件夹来创建新文件夹。</li><li id="53b9" class="nd ne iq kh b ki nm kl nn ko no ks np kw nq la ni nj nk nl bi translated">安装commander——在VS代码终端中输入下面的命令，然后按enter键。点击此处了解详情&gt;<a class="ae ly" href="https://www.npmjs.com/package/commander" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/commander</a></li></ol><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="d30d" class="nw lc iq ns b gy nx ny l nz oa">npm install commander</span></pre><h1 id="2c31" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">3.<strong class="ak">设计和逻辑</strong> —创建3个文件</h1><p id="0094" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">然后，在我们刚刚创建的同一个目录中，你需要创建第一个目录——这是<strong class="kh ir"> controllersController.js </strong>，它的代码如下。复制粘贴并保存。</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="f3eb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">controllerGenerator.js</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="4dc3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">控制器Temp.js</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="c5ee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.现在，通过运行以下命令在本地测试CLI</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="0dd4" class="nw lc iq ns b gy nx ny l nz oa">node controllersGenerator.js</span></pre><p id="cd87" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.在当前目录中，将会创建一个名为controller.js的新文件。如果你再次运行第4步，那么新的文件将继续创建，前缀为controller +一个随机生成的字符串，如so controller 4 nd 0 MST等。如下图所示:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/3c450d1d34294d936b26f3271a61b511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L7pMCRdtujkvpepPPF7fGQ.png"/></div></div></figure><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/189d9dae09850c7dc82a3e0e892771a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4cssoKzRbT7QHdwRO5cUw.png"/></div></div></figure><p id="717c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，让我们做同样的事情，创建一个CLI来生成模型。同样，我们需要3个文件，所以将它们添加到同一个目录中，每个文件都有自己的代码和名称，如下所示:</p><p id="c8ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">modelsController.js</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="ff43" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">模型生成器. js</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="6c26" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">模型温度</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="b51c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您现在通过运行来测试模型的生成</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="a0a2" class="nw lc iq ns b gy nx ny l nz oa">node run modelGenerator.js </span></pre><p id="7775" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后将生成一个新的模型文件。在随后的运行中，它们将继续生成，并带有前缀model +随机生成的字符串，如so model 4 nd 0 MST等。</p><p id="3036" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 6。打包，打包，然后发布到NPM </strong></p><p id="5e24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们的工具在本地工作，让我们把它打包成包(模块),这样我们就可以把它推到NPM，然后我们可以在另一个项目中使用它，也可以让全世界的人在他们自己的项目中安装和使用它。</p><p id="b0bf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在继续下一步之前，您需要一个NPM帐户，如果您还没有，请在此<a class="ae ly" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> NPM </a>注册。</p><p id="be6b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.1通过键入以下命令从命令行登录到<a class="ae ly" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> NPM </a></p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="45f3" class="nw lc iq ns b gy nx ny l nz oa">npm login</span></pre><p id="e6a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.2在提示符下，输入您的用户名、密码和电子邮件地址，然后按回车键。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi oi"><img src="../Images/59987c96f95f57c4dab60f6fdc1be47f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O-NgU_X8f3RY2pXikLtPOQ.png"/></div></div></figure><p id="cb13" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.3如果成功，您将会看到一条消息，说明<strong class="kh ir">以kidkode的身份登录</strong><a class="ae ly" href="https://registry.npmjs.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir">https://registry.npmjs.org/</strong></a><strong class="kh ir"/>，其中<strong class="kh ir"> kidkode </strong>将被替换为您自己的用户名。</p><p id="ecd4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.4接下来，您希望在同一个开发目录中为您的模块的已发布版本创建一个新的文件夹，因此运行下面的命令—使用您认为合适的任何名称—在我们的示例中，我们选择了下面的modecontrollerCLI:</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="a3aa" class="nw lc iq ns b gy nx ny l nz oa">md modelcontrollerCLI</span></pre><p id="ca14" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.5导航到新创建的目录</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="8712" class="nw lc iq ns b gy nx ny l nz oa">cd modelcontrollerCLI</span></pre><p id="c07e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.6通过在终端中运行以下命令，为软件包创建一个新的NPM软件包文件</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="13b0" class="nw lc iq ns b gy nx ny l nz oa">npm init</span></pre><p id="2bc1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.7构建和发布到NPM的时间:</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="bc44" class="nw lc iq ns b gy nx ny l nz oa">npm publish</span></pre><p id="e7dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果操作正确，您将看到这样的响应，最后一行是您的包名和版本号，在图像中我们有一个指向它的箭头:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi oj"><img src="../Images/b0dd00d1530f94150f9096bc60a3ed58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zqt9uy1aKTFLDa3epWP5vg.png"/></div></div></figure><p id="f788" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你的模块现在可以在npmjs.org上使用，就像我的一样，如下所示，名为backendrcli:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi ok"><img src="../Images/e33ad70f02584d1c4f51b385a237da72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YTUSm0n9fiberAB96v6n3w.png"/></div></div></figure><p id="1c8a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，您可以像安装任何其他公共软件包一样，使用以下命令来安装该软件包:</p><pre class="mt mu mv mw gt nr ns nt nu aw nv bi"><span id="b1dc" class="nw lc iq ns b gy nx ny l nz oa">npm install backendrcli</span></pre><h1 id="5213" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated"><strong class="ak">添加菜单</strong></h1><p id="7d4d" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">因此，我们已经通过命令<strong class="kh ir">节点运行controllerGenerator.js </strong>或<strong class="kh ir">节点运行modelGenerator.js </strong>运行了CLI，但是添加一个菜单如何，这样我们就可以将生成工具和最终用户完全分开？为此，我们可以添加一个菜单，如下所示:</p><ol class=""><li id="9575" class="nd ne iq kh b ki kj kl km ko nf ks ng kw nh la ni nj nk nl bi translated">在同一个项目目录中创建新的Index.js文件，并添加以下代码</li></ol><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="ab6e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们有了一个强大的发电机控制系统，只有领导或高级工程师应该维护，但团队中的其他人也可以使用，无需太多的编码经验。</p><p id="e8bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将确保开发团队的标准始终得到遵守，因为团队从现在开始可以使用该工具来生成新的类和文件。</p><p id="9cb1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里有一个视频，介绍了如何通过CLI菜单使用上的工具。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi ol"><img src="../Images/699d41d86f61310aac38e782560e133a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LJ4YXERP_hceJHONS0A-rQ.gif"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk">How to automate model and controller and API testing via a generator tool</figcaption></figure><p id="b81b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望你喜欢，所以请鼓掌和分享！</p></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><h1 id="3d5b" class="lb lc iq bd ld le ot lg lh li ou lk ll jw ov jx ln jz ow ka lp kc ox kd lr ls bi translated">简单的WEB开发指南</h1><p id="74ed" class="pw-post-body-paragraph kf kg iq kh b ki lt jr kk kl lu ju kn ko lv kq kr ks lw ku kv kw lx ky kz la ij bi translated">如果你目前正在转行，想成为一名全栈开发人员，那么你会喜欢我的新电子书— <a class="ae ly" href="https://gumroad.com/l/vfUou" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> NO BS:让我快速成为一名Web开发人员</strong> </a></p></div></div>    
</body>
</html>