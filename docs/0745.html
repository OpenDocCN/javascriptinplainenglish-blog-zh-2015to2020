<html>
<head>
<title>This Is How I Created A Countdown Timer App In React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这就是我如何在React中创建了一个倒计时应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/this-is-how-i-created-a-countdown-timer-app-in-react-3644afbaabf6?source=collection_archive---------5-----------------------#2019-12-04">https://javascript.plainenglish.io/this-is-how-i-created-a-countdown-timer-app-in-react-3644afbaabf6?source=collection_archive---------5-----------------------#2019-12-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c3ef" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">创建一个简单好看的倒计时应用程序</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b9ee20f2dd2abb2628637ba55fce691c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0iaUKiioBO-HCagYvFkBxA.gif"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Countdown Timer</figcaption></figure><p id="d619" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">被称为<strong class="ku io">黑色星期五销售</strong>的年度最大销售刚刚结束，你可能已经收到数百封电子邮件，显示在udemy、Pluralsight等网站上购买任何课程或在有限时间内购买任何订阅的倒计时定时器。</p><p id="f073" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在本文中，我们将实际构建一个真正的倒计时应用程序，如上图所示</p><p id="bc83" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">所以让我们开始吧！</p><ol class=""><li id="0cf3" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated">使用创建新的React应用程序</li></ol><pre class="kd ke kf kg gt lx ly lz ma aw mb bi"><span id="1570" class="mc md in ly b gy me mf l mg mh"><br/> create-react-app countdown_timer</span></pre><p id="2f29" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果您没有安装<code class="fe mi mj mk ly b">create-react-app</code>,请使用</p><pre class="kd ke kf kg gt lx ly lz ma aw mb bi"><span id="021f" class="mc md in ly b gy me mf l mg mh">npm install create-react-app -g</span></pre><p id="60ac" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">2.现在像Visual Studio代码一样，在您最喜欢的IDE中打开<code class="fe mi mj mk ly b">countdown_timer</code>目录</p><p id="e248" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">3.删除<code class="fe mi mj mk ly b">src</code>文件夹中除<code class="fe mi mj mk ly b">index.js</code>以外的所有文件</p><p id="99ca" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">4.在<code class="fe mi mj mk ly b">index.js</code>中增加以下内容</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="92bb" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">5.我们将使用<code class="fe mi mj mk ly b">react-bootstrap</code>进行基本的CSS样式设计。我们也将编写自己的CSS。</p><p id="9af9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">6.从终端导航到<code class="fe mi mj mk ly b">countdown_timer</code>目录并安装软件包</p><pre class="kd ke kf kg gt lx ly lz ma aw mb bi"><span id="6628" class="mc md in ly b gy me mf l mg mh">npm install bootstrap@4.4.1 react-bootstrap@1.0.0-beta.16</span></pre><p id="5a15" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">7.注意，<code class="fe mi mj mk ly b">react-bootstrap</code>也需要<code class="fe mi mj mk ly b">bootstrap</code>用于基本的CSS，所以我们也添加了它</p><p id="e51d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">8.现在您的<code class="fe mi mj mk ly b">package.json</code>将拥有如下所示的依赖项部分</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mn"><img src="../Images/6678ffa8170d5f2d3d074fea6e04c72c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Vh5eDwI6jh8tgk5zCIvFg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">package.json dependencies</figcaption></figure><p id="2153" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">9.为了选择日期和时间，我们将使用<code class="fe mi mj mk ly b">react-datetime-picker</code>库。它非常容易使用，也非常强大。选择日期时，您可以使用键盘箭头键设置所有日期和时间字段。</p><p id="ae15" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">你可以在<a class="ae mo" href="https://www.npmjs.com/package/react-datetime-picker" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/react-datetime-picker</a>找到所有可用的选项和相关文档</p><p id="186a" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">10.安装<code class="fe mi mj mk ly b">react-datetime-picker</code>包</p><pre class="kd ke kf kg gt lx ly lz ma aw mb bi"><span id="406d" class="mc md in ly b gy me mf l mg mh">npm install react-datetime-picker@2.8.0</span></pre><p id="3164" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">11.在<code class="fe mi mj mk ly b">src</code>文件夹中创建两个新文件，文件名分别为<code class="fe mi mj mk ly b">Timer.js</code>和<code class="fe mi mj mk ly b">styles.css</code></p><p id="aa8f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">12.在<code class="fe mi mj mk ly b">styles.css</code>中增加以下内容</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="23b0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">13.在<code class="fe mi mj mk ly b">Timer.js</code>中增加以下内容</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="bd3a" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">14.现在通过从终端运行<code class="fe mi mj mk ly b">npm start</code>命令来运行应用程序</p><p id="81f4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">15.让我们了解一下<code class="fe mi mj mk ly b">Timer.js</code>中发生了什么</p><ul class=""><li id="861f" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln mp lu lv lw bi translated">在<code class="fe mi mj mk ly b">render</code>方法中，我们添加了一个选择结束日期的表单和一个启动计时器的按钮</li><li id="46f0" class="lo lp in ku b kv mq ky mr lb ms lf mt lj mu ln mp lu lv lw bi translated">在那下面，我们正在显示倒数计时器部分</li><li id="1f38" class="lo lp in ku b kv mq ky mr lb ms lf mt lj mu ln mp lu lv lw bi translated">当我们点击<code class="fe mi mj mk ly b">“Begin Countdown”</code>按钮时，我们正在调用<code class="fe mi mj mk ly b">calculateCountdown</code>函数，该函数获取当前日期时间和结束日期时间，并找出两个日期之间的差异。</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/33a37fb20c318cc576a43cf9e5059c0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S7JGV-5imelqYPOmmFS1pQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Countdown Start Button</figcaption></figure><ul class=""><li id="3750" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln mp lu lv lw bi translated">在<code class="fe mi mj mk ly b">calculateCountdown</code>方法中，对于<code class="fe mi mj mk ly b">setState</code>方法，我们用计算出的值更新日、小时、分钟和秒，一旦状态被更新，我们在1秒(1000毫秒)的延迟后使用<code class="fe mi mj mk ly b">setTimeout</code>再次调用<code class="fe mi mj mk ly b">calculateCountdown</code>函数</li><li id="5bb8" class="lo lp in ku b kv mq ky mr lb ms lf mt lj mu ln mp lu lv lw bi translated">一旦组件被卸载(我们在<code class="fe mi mj mk ly b">componentWillUnmount</code>方法中正在做),删除所有添加的事件处理程序并清除组件中的超时或间隔总是一个好的做法。</li></ul><p id="b70d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这就对了！我们已经创建了一个简单好看的倒计时应用程序。</p><p id="d029" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">Github源代码:<a class="ae mo" href="https://github.com/myogeshchavan97/countdown_timer" rel="noopener ugc nofollow" target="_blank">https://github.com/myogeshchavan97/countdown_timer</a></p><p id="15d1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现场演示:<a class="ae mo" href="https://codesandbox.io/s/hopeful-sea-2l3ls" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/hopeful-sea-2l3ls</a></p><p id="cda0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">今天到此为止。我希望您在构建这个应用程序时学到了很多东西。</p><p id="c10e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">别忘了直接在你的收件箱</strong> <a class="ae mo" href="https://yogeshchavan.dev" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io">这里</strong> </a> <strong class="ku io">订阅我的每周简讯，里面有惊人的技巧、窍门和文章。</strong></p></div></div>    
</body>
</html>