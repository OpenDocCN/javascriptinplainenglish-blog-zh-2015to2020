# next . js——我这辈子你都去哪了？

> 原文：<https://javascript.plainenglish.io/next-js-where-have-you-been-all-my-life-1dedba2d2431?source=collection_archive---------3----------------------->

## Next.js 如何让我在生产中编写 React。

![](img/020ce2f0d911c9a0f7da12a7420d1ded.png)

我几乎放弃了。我的 React SPA 对代码来说很棒，但也完全没用。我花了几个月的时间学习 React，又花了几个月的时间说服团队升级我们的 Jquery 驱动的前端 React，所有这些都是为了性能、更好的代码可重用性和未来检验。

我们是一个在线新闻门户网站，所以我用 React 开发的网站或多或少是一个博客。这能有多难？一些路线，获取一些 API，瞧！没那么快。我把我闪亮的新原型的网址分享给了脸书——什么也没出现，没有特色图片，没有合适的标题。

我意识到脸书只会废弃服务器端渲染的 meta 标签。此时我唯一能使用的魔法是预渲染器。这使得我们的构建部署流程、缓存策略和成本计算变得复杂。还有，Lighthouse 也没打出好成绩。我心碎了。

幸运的是，我有更多的时间。我们没有升级我们的直播网站。暂时不谈这个。我继续寻求解决方案。我的新目标是:

1.  动态页面—带有服务器端呈现的元标签
2.  页面加载后对交互性做出反应
3.  灯塔得分超过 80%
4.  简单的构建和部署流程
5.  易于本地开发

在我谷歌“服务器端渲染反应”后不久，我发现了 Next.js。

这里有一个很好的教程，作者是布拉德·特拉弗斯

# 📃动态页面

是的。像任何其他服务器端呈现的站点一样。但是你用 React 构建组件。Next.js 在产品中融合了组件，所以你的 HTML 已经准备好了，而不是在浏览器需要执行的包中。这对于 SEO、社交媒体共享和缓存来说非常好。另外，Next.js 与 Express 配合得很好。所以我可以在同一个代码库中编写我的 API 和做其他更多“类似服务器”的事情！

# 💫互动反应

Next.js 可以很容易地确定哪些组件应该呈现在服务器端，哪些应该在浏览器中运行。`componentDidMount`中的所有代码仍然在浏览器中运行，你很少需要担心这一点。使用的 React 包也不是特定于 Next.js 的，所以您可以获得所有最新的好东西，比如 React 钩子！

# ⚡️表演

在编译过程中使用了很多好的魔法。Next.js 生成的页面速度惊人。我从来没有在我的任何页面上看到过低于 85%的灯塔评分。许多现代性能最佳实践都是现成的，不需要任何配置。你也可以通过使用 Next.js 提供的组件来加载另一个页面，而不需要重新加载浏览器，当你构建你的项目时，Next.js 可以把没有服务器端逻辑的页面变成静态页面！

# 🔧构建和部署

这里没什么复杂的！仅仅`npm run build`几秒钟后，你的生产文件夹就准备好了，然后运行`npm start`。Next.js 的创建者还提供了一个受欢迎的服务，名为 [Zeit](https://zeit.co/) ，它为 Next.js 项目进行无服务器部署。

# 💻地方发展

这在当今非常普遍，但极其重要。Express 和 React 可以在一个本地服务器上运行。热重装工作起来像一个魔咒，节省了大量的时间。就是管用！

总之，我喜欢 Next.js，我鼓励你尝试一下！

[](https://nextjs.org/) [## next . js-React 框架

### 生产级反应可扩展的应用。世界领先的公司使用 Next.js 构建服务器渲染的…

nextjs.org](https://nextjs.org/)