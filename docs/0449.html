<html>
<head>
<title>Zero Configure your React-Typescript App With Parcel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Zero使用Parcel配置您的React-Typescript应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/zero-configure-your-react-typescript-app-with-parcel-302688739758?source=collection_archive---------3-----------------------#2019-10-17">https://javascript.plainenglish.io/zero-configure-your-react-typescript-app-with-parcel-302688739758?source=collection_archive---------3-----------------------#2019-10-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/01a121c7839cab1d390e26df4001dd94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*usHvSH46AG_1qBRUowkxhw.png"/></div></div></figure><figure class="jz ka kb kc gt jr gh gi paragraph-image"><a href="https://www.webtips.dev/zero-configure-your-react-typescript-app-with-parcel"><div class="gh gi jy"><img src="../Images/c19cb3069af1beba3c93258d9fcfe139.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*-PVzecNs3s4ZbJsdsgIsGA.png"/></div></a></figure><p id="9738" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从头开始设置一个新项目时，在开始发布特性之前进行所有必要的配置可能需要几天甚至几周的时间。</p><p id="b02f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在你能够实现最终用户实际看到的东西之前，设置传输器、编译器、预处理器等等是一个漫长的步骤。为了加速重复的任务和过程，我们引入了一些工具。</p><p id="d3c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在早期，我们有任务执行人。首先，我们咕哝了一声，然后咕噜咕噜地叫了起来。现在我们有像Webpack和Rollup这样的捆扎机。如果我们想在应用程序中配置每一步，它们有自己的位置，并且是很好的工具。但是如果我们没有呢？如果我们正在进行一个概念验证，或者正在进行一个小项目，并且希望尽可能快地启动，该怎么办？</p><p id="3580" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">幸运的是，有一个解决方案。<a class="ae lb" href="https://parceljs.org/" rel="noopener ugc nofollow" target="_blank">package</a>为我们提供零配置设置。也就是说，Parcel没有配置文件，不像Webpack有一个<code class="fe lc ld le lf b">webpack.config</code>或者Gulp有一个<code class="fe lc ld le lf b">gulpfile</code>。这也意味着我们能做的定制量是有限的。但毕竟，这是我们所追求的，所以让我们开始设置一个支持Typescript的React项目。出于完整性的需要，让我们也添加Sass，因为它不会花费任何额外的努力。</p></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="218a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">定义依赖关系</h1><p id="5b47" class="pw-post-body-paragraph kd ke iq kf b kg ml ki kj kk mm km kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">首先，让我们从<code class="fe lc ld le lf b">npm i parcel-bundler</code>拉进包裹开始，看看我们的<code class="fe lc ld le lf b">package.json</code>文件。在这个阶段，我的项目设置看起来是这样的:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/4b408b339e11c424e307689db5a651d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TmN6mJ8nOrsEBnWdANadNg.png"/></div></div></figure><p id="dcee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个阶段，我们所拥有的是<code class="fe lc ld le lf b">package.json</code>文件，只有一个依赖项——包裹本身。我们不必担心其他包，因为包会为我们处理依赖关系。</p><p id="63f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如您在浏览器中看到的，我创建了一个公共文件夹并将<code class="fe lc ld le lf b">index.html</code>文件放在那里。我还添加了一个启动脚本，它使用<code class="fe lc ld le lf b">parcel</code>命令来启动一个使用我们的索引文件的开发服务器。<code class="fe lc ld le lf b">--open</code>标志告诉Parcel一旦服务器启动就在浏览器中打开它。</p></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="cf1a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">创建条目文件</h1><p id="c350" class="pw-post-body-paragraph kd ke iq kf b kg ml ki kj kk mm km kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">对于<code class="fe lc ld le lf b">index.html</code>，我们只需要包括最少的:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="aa24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们使用React，并且整个应用程序将在客户端呈现，所以我们可以为用户提供一个容器和一条消息，以防JavaScript被禁用。</p><p id="aaf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我在public文件夹之外的一个单独的目录中添加了一个指向条目文件的script标记。这将负责渲染应用程序。确保给它一个扩展名<code class="fe lc ld le lf b">tsx</code>,告诉package我们想使用TypeScript。为了简单起见，该文件的内容仅由13行代码组成:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="f87a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一切就绪后，尝试用<code class="fe lc ld le lf b">npm run start</code>运行启动脚本，这是我们在<code class="fe lc ld le lf b">package.json</code>文件中定义的。package将开始读取您的<code class="fe lc ld le lf b">index.html</code>文件，并将看到我们有一个对<code class="fe lc ld le lf b">index.tsx</code>的引用，因此它将开始自动下载TypeScript。</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/0560aff3e055b3a0178f618565f6cf0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*vIfAZdaHnLjcZnL-IXOhOQ.png"/></div></figure><p id="9af0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦完成，它将开始读取<code class="fe lc ld le lf b">index.tsx</code>文件，并将看到我们已经导入了React和React-dom。如果检测到缺少依赖项，它还会为它们启动安装过程。一旦所有东西都安装好了，您应该看到您的服务器启动并运行了。如果构建后出现任何错误，请尝试重新运行<code class="fe lc ld le lf b">npm run start</code>。</p><p id="2d55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">启动服务器后，Parcel还会创建一些额外的文件夹:<code class="fe lc ld le lf b">dist</code>和<code class="fe lc ld le lf b">.cache</code>，这意味着您的文件夹结构应该如下所示:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/afbc89b4de412e19880044d862d2a27f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cwTmJwOZeX3yn0rDWq4SVg.png"/></div></div></figure><p id="9a47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们的项目中没有可供TypeScript检查的类型，我们还缺少相关的配置文件。为了引导你的应用，你可以使用这些模板用于<code class="fe lc ld le lf b">tsconfig.json</code>和<code class="fe lc ld le lf b">tslint.json</code>，并根据你自己的喜好修改它们:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="72d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">如果你想了解更多关于你可以使用的选项，你可以参考</em> <a class="ae lb" href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" rel="noopener ugc nofollow" target="_blank"> <em class="mv">文档</em> </a> <em class="mv">，内容相当广泛。</em></p></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="5b10" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">设置Sass</h1><p id="d0f8" class="pw-post-body-paragraph kd ke iq kf b kg ml ki kj kk mm km kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">要为项目引入Sass，我们所要做的就是创建一个<code class="fe lc ld le lf b">.scss</code>文件，并将其导入我们的应用程序组件:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/3cd0f4fe135e07ce6d1be80ae05eed2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zuBt5RnSa2n-Ls06YryzlQ.png"/></div></div></figure><p id="7d92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们开始修改<code class="fe lc ld le lf b">index.scss</code>，Parcel将检测到我们缺少sass包，因此它将为我们把它拉下来。借助css动画的魔力，打开浏览器，您将看到您的应用程序正在呈现:</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/a34e1585ac468dd58b41664dda7e39f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*q4mrQdXvgGPpuby4cvzTPw.gif"/></div></div></figure></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="ca00" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">构建项目</h1><p id="d1c4" class="pw-post-body-paragraph kd ke iq kf b kg ml ki kj kk mm km kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">剩下要做的就是构建项目，这样我们就可以部署它了。为此，我们可以用一个额外的脚本来扩展<code class="fe lc ld le lf b">package.json</code>文件，这样我们就有了以下内容:</p><figure class="jz ka kb kc gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="9ce6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">构建项目就像在我们的入口文件上调用<code class="fe lc ld le lf b">parcel build</code>一样简单。我们也可以传入可选的标志。对于这个设置，我想跳过源地图，所以我传入了<code class="fe lc ld le lf b">--no-source-maps</code>标志。</p><p id="437a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">有关CLI标志选项的完整列表，请参考其</em> <a class="ae lb" href="https://parceljs.org/cli.html" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> CLI文档</em> </a> <em class="mv">。</em></p><p id="a5be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可能还注意到，我从每个依赖项的版本号前面移除了插入符号。这将确保每次我们的项目被拆除，我们运行<code class="fe lc ld le lf b">npm i</code>来设置一切，我们将总是有相同的精确版本。这样，如果一个依赖项被更新，它不会破坏我们的代码库。</p><p id="768a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您现在运行<code class="fe lc ld le lf b">npm run build</code>，它将构建项目并填充<code class="fe lc ld le lf b">dist</code>文件夹。</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/d832bd49a6b564f50456702353a5ff3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*uQbAZyrtHR5AtFYkey_zvA.png"/></div></figure></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><h1 id="4546" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">外卖食品</h1><p id="3d47" class="pw-post-body-paragraph kd ke iq kf b kg ml ki kj kk mm km kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">没有配置文件，我们仍然有一个项目设置了适当的技术堆栈。package自动为我们拉入所需的依赖项，并在其核心中处理模块绑定、传输和开箱即用的预处理，而无需向开发人员公开任何配置文件。由于没有太多的配置选项，文档<a class="ae lb" href="https://parceljs.org/getting_started.html" rel="noopener ugc nofollow" target="_blank">很容易理解，所以如果你碰巧有一个错误，你很可能找到它的解决方案。</a></p><p id="a92f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对其他打包者有利，每个硬币都有两面，包裹也不例外。如果您需要根据自己的需求定制捆绑和构建流程，那么包裹不是最佳选择。独自处理所有这些也意味着它将经常进行猜测。处理包裹时，请留意它拉进的包裹。如果您正在使用自己的定制i18n实现，并且它在您的文件中找到了对它的引用，那么它可能想要从npm中取出一个对您的项目来说不必要的i18n包。</p><p id="5bba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">包裹是一个很好的工具，对于那些希望切入正题并立即开始送货的人来说。如果你记住在使用它的时候要注意什么，它会很好地为你服务。🥂</p><figure class="jz ka kb kc gt jr gh gi paragraph-image"><a href="https://medium.com/@ferencalmasi/membership"><div class="gh gi mz"><img src="../Images/e66c4cd6d9849ac0bd245f3fc39b65c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hZ9xuLqLkbqUG65sgVB3gg.png"/></div></a></figure></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><figure class="jz ka kb kc gt jr gh gi paragraph-image"><a href="https://www.webtips.dev/"><div class="gh gi jy"><img src="../Images/b0d8e0a0c2689a59aa62a677429b83b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*_QOx8lB1bc1rVmMjWQ3Yfw.png"/></div></a></figure></div></div>    
</body>
</html>