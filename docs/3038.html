<html>
<head>
<title>Learn Mercurial revision-control basics in 10 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在10分钟内学习Mercurial版本控制基础知识</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/learn-mercurial-revision-control-basics-in-10-minutes-if-you-know-git-4466bd9d1fa9?source=collection_archive---------5-----------------------#2020-08-22">https://javascript.plainenglish.io/learn-mercurial-revision-control-basics-in-10-minutes-if-you-know-git-4466bd9d1fa9?source=collection_archive---------5-----------------------#2020-08-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="76db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你正在使用<code class="fe ki kj kk kl b">git</code>作为<strong class="jm io">版本控制</strong>工具，你可以轻而易举地学习<code class="fe ki kj kk kl b">Mercurial</code>的基础知识。我想知道他们的座右铭(<strong class="jm io">工作更容易，工作更快</strong>)是真是假，我决定用<code class="fe ki kj kk kl b">mercurial</code>做基本的版本控制动作，只要用<code class="fe ki kj kk kl b">--help</code>就行了，效果非常好！</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/ccbafc587d766184cad4248a3b56886d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9JLc7vh0laFir4-ey_wn-w.png"/></div></div></figure><h2 id="bd3a" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">装置</h2><p id="210b" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">不需要任何解释:<code class="fe ki kj kk kl b">sudo apt install hg</code>。</p><p id="d44d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您正在使用其他操作系统，这个<a class="ae lw" href="https://www.mercurial-scm.org/downloads" rel="noopener ugc nofollow" target="_blank">链接</a>可能会对您有所帮助。</p><p id="b7a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果一切顺利，你可以看到使用<code class="fe ki kj kk kl b">hg --version</code>的版本</p><h2 id="8362" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">配置汞</h2><p id="06fa" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">安装完成后，我们需要使用以下命令添加一个用户(就像Git一样):</p><pre class="kn ko kp kq gt lx kl ly lz aw ma bi"><span id="c873" class="ky kz in kl b gy mb mc l md me">hg config --edit</span></pre><p id="62b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在配置文件中填入用户名，你就可以开始使用Mercurial了:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mf"><img src="../Images/29bbf6277c1f7d0b434172aef4dc87be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X-timAE7mesNykuGd2N8oQ.png"/></div></div></figure><h2 id="b8cb" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">初始化存储库</h2><p id="b907" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">使用这个命令:<code class="fe ki kj kk kl b">hg init</code>。</p><p id="4aaf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在你在<code class="fe ki kj kk kl b">default</code>分支上，类似于git中的<code class="fe ki kj kk kl b">master</code>。</p><p id="87aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想确定使用这个命令:<code class="fe ki kj kk kl b">hg branch</code>，它会显示给你:<code class="fe ki kj kk kl b">default</code></p><h2 id="f0f7" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">创建一个文件并提交该文件</h2><p id="7449" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">您可以在文件夹中创建您的文件，或者在Linux或Mac OS中使用此命令:<code class="fe ki kj kk kl b">touch myFirstFile.js</code>。</p><p id="bd7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这份文件没有被追踪。我们可以使用<code class="fe ki kj kk kl b">Add</code>命令让mercurial跟踪这个文件:<code class="fe ki kj kk kl b">hg add ./myFirstFile.js</code>。</p><p id="e872" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建另一个文件，但不要添加该文件。例如<code class="fe ki kj kk kl b">touch secondFile.js</code> <br/>类似于<code class="fe ki kj kk kl b">git status</code>我们可以在这里使用<code class="fe ki kj kk kl b">hg status</code>，结果将是这样的:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mg"><img src="../Images/304fe48b66967d78a26420a6425a9b3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggvp4BxgwLNRPN63GvO5Og.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk">Result of hg status</figcaption></figure><p id="0961" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们添加的第一个文件用大写字母A显示(我假设它的意思是添加！)而第二个文件(是我们创建的，但没有添加)显示为一个问号。</p><p id="8e53" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要提交文件，我们必须使用:<code class="fe ki kj kk kl b">hg commit --message "my first commit message"</code>。现在，如果您再次使用:<code class="fe ki kj kk kl b">hg status</code>，您可以看到该文件已经消失。</p><p id="3f81" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">问题</strong> : <em class="ml">如何才能看到自己之前的提交</em>？<br/> <strong class="jm io">回答</strong>:跟你在Git上做的一模一样</p><p id="3e4f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ki kj kk kl b">hg log</code>会给你一个提交的简要历史。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mm"><img src="../Images/7a91756ea0f2aaee680c626f7a79b338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uf-TN-rPck9aa80TdkY3FQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk">hg log result</figcaption></figure><p id="efab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ki kj kk kl b">changeset</code>类似于Git提交散列。</p><h2 id="e006" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">创建一个分支并将其合并到default</h2><p id="a2d5" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">首先检查你是否在默认分支:<code class="fe ki kj kk kl b">hg branch</code>结果应该是<code class="fe ki kj kk kl b">default</code>。</p><p id="8687" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建分支:<code class="fe ki kj kk kl b">hg branch branchName</code>。</p><p id="025e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在Git中，你需要一个<code class="fe ki kj kk kl b">-b</code>选项来创建并检查到那个分支<code class="fe ki kj kk kl b">branch -b branchName</code>，但是在这里你不需要一个选项，在创建一个分支之后，你当前的分支就是你刚刚创建的。现在<code class="fe ki kj kk kl b">hg branch</code>的结果应该就是你的分店名称了。</p><p id="d86d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">切换分支:</strong> <br/>只需使用此命令:<code class="fe ki kj kk kl b">hg update branchName</code>。</p><p id="6c3e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们在这个分支中创建一个文件，并提交该文件。</p><pre class="kn ko kp kq gt lx kl ly lz aw ma bi"><span id="582a" class="ky kz in kl b gy mb mc l md me">touch thirdFile.js<br/>hg add thirdFile.js<br/>hg commit thirdFile.js</span></pre><p id="ec2c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们想将我们的分支合并到默认分支。首先，我们需要改变我们当前的分支:<code class="fe ki kj kk kl b">hg update default</code>。其次，我们需要合并我们的分支:<code class="fe ki kj kk kl b">hg merge -r myBranchName</code>。为什么是<code class="fe ki kj kk kl b">-r</code>？<code class="fe ki kj kk kl b">-r</code>表示修改。</p><p id="d0a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">合并后Mercurial显示一条消息:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mm"><img src="../Images/edaf7eacd1a27ce3e7de7686389747ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mLPLTUekX8eT2VdUsqdusw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk">Mercurial merge message</figcaption></figure><p id="796d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的分公司名字是<code class="fe ki kj kk kl b">dev</code>。我的分支中有一个名为<code class="fe ki kj kk kl b">thirdFile.js</code>的文件，在merge命令之后，当我使用<code class="fe ki kj kk kl b">hg status</code>查看我的工作目录文件时，它的开头有一个大写的M(我假设这意味着Merge？！).<br/>消息清楚地表明我必须提交这个合并:</p><pre class="kn ko kp kq gt lx kl ly lz aw ma bi"><span id="41b8" class="ky kz in kl b gy mb mc l md me">hg commit --message "merge branch"</span></pre><p id="bbb4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在<em class="ml">默认</em>分支被更新，它包含了我们的<code class="fe ki kj kk kl b">thirdFile.js</code>。</p><h2 id="8dcb" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">克隆远程存储库</h2><p id="5e05" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">Mercurial有一个测试存储库，您可以使用以下命令轻松地克隆它:</p><pre class="kn ko kp kq gt lx kl ly lz aw ma bi"><span id="9d18" class="ky kz in kl b gy mb mc l md me">hg clone <a class="ae lw" href="https://www.mercurial-scm.org/repo/hello" rel="noopener ugc nofollow" target="_blank">https://www.mercurial-scm.org/repo/hello</a></span></pre><p id="6447" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">推和拉基本上与<code class="fe ki kj kk kl b">git</code>相同，我将单独写一篇关于它们的文章。</p><p id="d105" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在你知道了！现在你有希望对使用Mercurial更有信心了！:)</p></div></div>    
</body>
</html>