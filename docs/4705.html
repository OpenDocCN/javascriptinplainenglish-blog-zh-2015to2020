<html>
<head>
<title>Introduction To Priority Queues In JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中优先级队列的介绍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introduction-to-priority-queues-in-javascript-30cfc49b01ee?source=collection_archive---------11-----------------------#2020-12-31">https://javascript.plainenglish.io/introduction-to-priority-queues-in-javascript-30cfc49b01ee?source=collection_archive---------11-----------------------#2020-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d36c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript数据结构系列的第8部分</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e8f5c0e3f27b0e43d45b4c564e7485e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_as0Oy_h8XHpzu6J"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@adriendlf?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Adrien Delforge</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3645" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解优先级队列，并使用JavaScript构建一个优先级队列。如果您不熟悉二进制堆，我建议您先看看下面关于如何创建二进制堆的文章。本文和我们的优先级队列实现就是建立在这一知识之上的。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/javascript-in-plain-english/how-to-create-a-binary-heap-in-javascript-e1e6f6446ff9" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">如何用JavaScript创建二进制堆</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">JavaScript数据结构系列的第7部分</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="7226" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">什么是优先级队列？</h1><p id="058d" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">根据维基百科的说法，优先级队列是一种抽象数据类型，类似于常规队列或堆栈数据结构，其中每个元素都有一个与之相关联的“优先级”。这是什么意思？基本上，数据结构中的每个元素都有一个优先级，优先级最高的元素最先被服务。</p><p id="c8cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，当您扫描大量数据并且需要报告最高优先级的项目时，优先级队列会很有用。优先级队列的另一个常见用途是在图形搜索算法中，比如<a class="ae kv" href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm" rel="noopener ugc nofollow" target="_blank">吉克斯特拉的算法</a>。一个真实的例子是在医院里。假设一个病人带着一个需要立即治疗的重伤来了。这个病人将比另一个有小剪纸的病人或另一个有轻微头痛的病人有更高的优先权。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="bd7b" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">实现优先级队列</h1><p id="7710" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">有几种方法可以实现优先级队列。最常见的是使用二进制堆。我们将更详细地讨论这个实现，但在此之前，让我们先来看看一个使用list的简单实现。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="19f6" class="nt ms iq np b gy nu nv l nw nx">[{priority: 1}, {priority: 3}, {priority: 4}, {priority: 2}]</span></pre><p id="6273" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用一个列表或数组来存储我们的优先级队列。上面的例子向我们展示了一个包含4个项目的列表，每个项目都有不同的优先级。这个实现的问题是，每当我们想要返回具有最高优先级的元素时，我们每次都需要遍历整个列表。随着数据集的增长，这可能会变得非常昂贵。这个问题的解决方案是使用二进制堆来实现我们的优先级队列。通过使用二进制堆，我们将把用于插入和移除的大O保持为O(log n)。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="fd15" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">使用二进制堆的优先级队列</h1><p id="a797" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">为了用JavaScript构建我们的优先级队列，我们将首先创建一个优先级队列类和一个节点类。我们的优先级队列类将类似于我们在上一篇文章中创建的二进制堆类，只有一个属性被初始化为空数组。我们的节点类将接受两个参数，一个表示节点的值，一个表示优先级。</p><pre class="kg kh ki kj gt no np nq nr aw ns bi"><span id="1d15" class="nt ms iq np b gy nu nv l nw nx">class PriorityQueue {<br/>  constructor() {<br/>    this.values = [];<br/>  }<br/>}</span><span id="9086" class="nt ms iq np b gy ny nv l nw nx">class Node {<br/>  constructor(value, priority) {<br/>    this.value = value;<br/>    this.priority = priority;<br/>  }<br/>}</span></pre><p id="cd3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将向优先级队列类添加入队(插入节点)和出列(移除节点)方法。这类似于我们在二进制堆中的实现，除了一些细微的变化。</p><ol class=""><li id="821d" class="nz oa iq ky b kz la lc ld lf ob lj oc ln od lr oe of og oh bi translated">我们将方法的名称从insert和extract max改为enqueue和dequeue。</li><li id="c50e" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">在我们的enqueue方法中，我们创建了一个具有值和优先级属性的新节点。</li><li id="fd3d" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">我们不是像在二进制堆中那样比较值，而是比较优先级。</li><li id="d5ff" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">我们将使用最小二进制堆而不是最大二进制堆，所以我们将改变一些操作符。因此，优先级值越低，优先级越高。</li></ol><h2 id="5091" class="nt ms iq bd mt on oo dn mx op oq dp nb lf or os nd lj ot ou nf ln ov ow nh ox bi translated">实现排队</h2><p id="2527" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">首先，我们将创建一个带有值和优先级参数的新节点，并将该节点放入值数组中。然后我们将开始我们的冒泡效应，比较节点的优先级，直到我们的节点在二进制堆中的正确位置。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Implementing the enqueue method</figcaption></figure><h2 id="b724" class="nt ms iq bd mt on oo dn mx op oq dp nb lf or os nd lj ot ou nf ln ov ow nh ox bi translated">实现出列</h2><p id="d837" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">dequeue方法将返回具有最高优先级的节点，但是我们也需要保持我们的堆处于正确的顺序。因此，我们将把值数组中的最后一个节点设置为新的头部，并使用向下冒泡效果。这将比较每个节点的优先级，直到它处于正确的位置。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Implementing the dequeue method</figcaption></figure><p id="7251" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以使用我们的优先级队列类以及入队和出队方法。记住，当我们调用enqueue方法时，我们需要传递两个参数，一个值和一个优先级。当我们调用dequeue方法时，它将返回具有最高优先级的元素(在我们的例子中，它将是具有最低优先级值的元素，因为我们使用的是min二进制堆)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="bda6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！请继续关注下一篇文章，我们将研究散列表。</p><p id="c998" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">想要更多吗？查看下面的文章，了解使用JavaScript的深度优先搜索和广度优先搜索。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/javascript-in-plain-english/tree-traversal-with-javascript-29b57d61d486" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">用JavaScript遍历树</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">JavaScript数据结构系列的第6部分</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="pa l mg mh mi me mj kp lv"/></div></div></a></div></div></div>    
</body>
</html>