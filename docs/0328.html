<html>
<head>
<title>Algorithms 101: Goat Latin in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">算法101:JavaScript中的山羊拉丁语</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/algorithms-101-goat-latin-in-javascript-d388cc29dc73?source=collection_archive---------4-----------------------#2019-09-19">https://javascript.plainenglish.io/algorithms-101-goat-latin-in-javascript-d388cc29dc73?source=collection_archive---------4-----------------------#2019-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4827" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">noob诉LeetCode，第5集—字符串操作</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/b3b095b2cd766c6b79a98609777e9b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fNV3o6IyxfMoDF_xsWR2zg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Latine loqui quod non realiter</figcaption></figure><p id="516a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天来自LeetCode的挑战:把一个字符串翻译成‘山羊拉丁语’。以下是说明:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lb"><img src="../Images/020164c2e5062ea26b8ed0e51758dd72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gxIr_8xq1ywH4GHTNjwSnw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">this tape will now self-destruct ….</figcaption></figure><p id="0d02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我知道我必须循环阅读句子中的每个单词，然后翻译它。我也知道我需要一个地方来存放我翻译的单词。所以我设置一个变量结果等于一个空字符串:</p><p id="5387" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lc ld le lf b">let result = ""</code></p><p id="5908" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我为迭代做好了准备。首先，我将输入字符串<code class="fe lc ld le lf b">S</code>分割成一个单词数组。</p><pre class="km kn ko kp gt lg lf lh li aw lj bi"><span id="095f" class="lk ll iq lf b gy lm ln l lo lp">let sentence = S.split(‘ ‘)<br/> for (let i = 0; i &lt; sentence.length; i++) {<br/> // translate each word<br/>}</span></pre><h1 id="c994" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">怎么翻译？</h1><p id="bb94" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">首先，我把问题分解成更小的问题:</p><p id="1374" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于每个单词:</p><ol class=""><li id="a4d6" class="ms mt iq jp b jq jr ju jv jy mu kc mv kg mw kk mx my mz na bi translated">弄清楚它是以元音还是辅音开头</li><li id="4851" class="ms mt iq jp b jq nb ju nc jy nd kc ne kg nf kk mx my mz na bi translated">如果它以辅音开头，就跟着辅音</li></ol><p id="d9d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，对于所有单词，包括我们刚才操作的辅音:</p><p id="1ac7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.添加“马”</p><p id="f072" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.根据翻译单词在句子中的位置，在单词的末尾加上一个“a”。</p><h1 id="b156" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">第一步。它是以元音还是辅音开头的？</h1><p id="f203" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">不要问，“这个单词的第一个字母是元音还是辅音？”让我们换一种方式问同样的问题:“元音列表包括单词的第一个字母吗？”</p><p id="d807" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，我们需要一个元音列表:</p><p id="dc54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lc ld le lf b">let vowels = [“a”, “e”, “i”, “o”, “u”]</code></p><h2 id="66be" class="lk ll iq bd lr ng nh dn lv ni nj dp lz jy nk nl md kc nm nn mh kg no np ml nq bi translated">命名您的变量</h2><p id="3f10" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">我使用split()方法将字符串转换成单词数组。虽然让代码尽可能短很诱人，但是记住，你总是可以在以后重构。当你还在解决一个问题时，用有意义的名字声明变量会很有帮助。对于这个挑战，我为<em class="nr">单词</em>和<em class="nr">首字母</em>声明了变量:</p><pre class="km kn ko kp gt lg lf lh li aw lj bi"><span id="cd02" class="lk ll iq lf b gy lm ln l lo lp">let sentence = S.split(‘ ‘)<br/>for (let i = 0; i &lt; sentence.length; i++) {<br/>   let word = sentence[i].split(‘’)<br/>   let firstLetter = word[0]<br/>  //translate<br/>}</span></pre><p id="9c92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们检查一下我们的第一个字母是否是辅音:</p><pre class="km kn ko kp gt lg lf lh li aw lj bi"><span id="a0db" class="lk ll iq lf b gy lm ln l lo lp">if (!vowels.includes(firstLetter.toLowerCase())){<br/> // follow consonants rule<br/>}</span></pre><p id="b9d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们打开它。没有了<code class="fe lc ld le lf b">!</code>，或者“bang”又名“逻辑非”运算符，我们正在检查我们的第一个字母是否是元音字母。用它，我们检查它是否是一个元音<em class="nr">而不是</em>，在这种情况下，它是一个辅音。</p><p id="9de1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nr">注意</em>:由于我们的元音列表都是小写的，我们在<em class="nr">的第一个字母</em>上调用toLowerCase()，所以如果结果是一个大写的元音，我们仍然会将其识别为一个元音。</p><h1 id="90a4" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">第二步。辅音规则。让我们拼接！</h1><p id="6726" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">如果一个单词是以辅音开头的，我们需要把它去掉，加到末尾。</p><p id="bbb0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ns" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noopener ugc nofollow" target="_blank"> JavaScript的splice()方法</a>在这里很好用。<code class="fe lc ld le lf b">word.splice(0,1) </code>说，‘进入单词数组，从元素0(数组的第一个元素)开始，去掉一个元素，返回剩下的’。</p><p id="0d81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，<code class="fe lc ld le lf b">[“G”, “o”, “a”, “t”].splice(0,1)</code>返回:<code class="fe lc ld le lf b">[“o”, “a”, “t”]</code>，<code class="fe lc ld le lf b">[“G”, “o”, “a”, “t”].splice(2,2)</code>返回:<code class="fe lc ld le lf b">[“G”, “o”]</code></p><p id="df75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在去掉第一个字母后，我们需要将它添加到单词的末尾。我们可以使用push()。</p><p id="4062" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lc ld le lf b">word.push(firstLetter)</code></p><h1 id="87ba" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">第三步。所有单词的规则</h1><p id="5ddb" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">现在我们已经实现了辅音规则，我们需要实现所有单词的规则:添加“ma”和正确数量的“a”</p><p id="cbd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以用<a class="ae ns" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" rel="noopener ugc nofollow" target="_blank"> push() </a>加上“马”。</p><p id="96f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lc ld le lf b">word.push(“ma”)</code></p><p id="fe05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，我们的代码是这样的:</p><pre class="km kn ko kp gt lg lf lh li aw lj bi"><span id="7839" class="lk ll iq lf b gy lm ln l lo lp">const toGoatLatin = function(S) {<br/>    let result = ""<br/>    let vowels =  ["a", "e", "i", "o", "u"]<br/>    let sentence = S.split(' ')<br/>    <br/>    for (let i = 0; i &lt; sentence.length; i++) {     <br/>       let word = sentence[i].split('') <br/>       let firstLetter = word[0]<br/>       <br/>       if (!vowels.includes(firstLetter)){<br/>           word.splice(0,1)<br/>           word.push(firstLetter)<br/>       }</span><span id="3b6a" class="lk ll iq lf b gy nt ln l lo lp">//now that we're done with the consonant rule, here's the rule we follow for all words:<br/>       <br/>       word.push("ma")<br/>       // figure out how to add "a"'s<br/>       //add translated word to results string<br/>    }</span><span id="8ed9" class="lk ll iq lf b gy nt ln l lo lp">return result<br/>};</span></pre><h1 id="edc6" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">关于那些a…</h1><p id="4b75" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">要添加正确数量的“a ”,我们需要弄清楚两件事:</p><ol class=""><li id="f489" class="ms mt iq jp b jq jr ju jv jy mu kc mv kg mw kk mx my mz na bi translated">“a”的正确数字是多少？</li><li id="4458" class="ms mt iq jp b jq nb ju nc jy nd kc ne kg nf kk mx my mz na bi translated">我们如何把这个数字加到单词的末尾？</li></ol><p id="323c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们再看一下说明:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nu"><img src="../Images/b0f4bf1ecfe93a135948935ccc5cb66d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ESAm_1z0LiSzI_5MF3DqhQ.png"/></div></div></figure><p id="9643" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">记住，我们是这样定义word: <code class="fe lc ld le lf b">let word = sentence[i].split(‘’) </code>的，所以这个单词的索引被嵌入到它的定义中。</p><p id="e6f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果一个单词在句子中是第一个，它的索引是0，它得到一个“a”。如果是第二个，它的索引为1，得到2个a，所以它应该总是得到index + 1个a。</p><p id="a32c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了正确的数字，我们如何把这个数字加到字符串的末尾呢？我们可以使用…</p><h1 id="649c" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">重复()</h1><p id="22e4" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">a。例如，重复(3)给了我们“aaa”</p><p id="f35b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先我尝试了这个:<code class="fe lc ld le lf b">word.push("a".repeat(i+1))</code>，但是它返回了一个错误:<code class="fe lc ld le lf b">Uncaught TypeError: word.push is not a function at &lt;anonymous&gt;</code></p><p id="f75b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我试着将多余的“a”存储在它们自己的变量中:</p><pre class="km kn ko kp gt lg lf lh li aw lj bi"><span id="ee95" class="lk ll iq lf b gy lm ln l lo lp">let addon = ("a").repeat(i + 1)<br/>word.push(addon)</span></pre><p id="a45b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成功了！</p><p id="05d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我将翻译的单词添加到结果字符串中:</p><p id="8893" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lc ld le lf b">result += word.join(‘’) + ‘ ‘</code></p><p id="703e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ns" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" rel="noopener ugc nofollow" target="_blank"> join() </a>将数组的每个元素放入一个字符串中。</p><h1 id="9114" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated"><strong class="ak">第四步:返回结果</strong></h1><p id="bb78" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">此时，我们已经翻译了每个单词，并将其添加到结果字符串中。现在我们只需要返回结果。</p><p id="8917" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是<code class="fe lc ld le lf b">return result</code>并没有达到预期效果:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nv"><img src="../Images/5e24f6a7b0bacc7f3c5623602d868642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RVZhAbzNKP-0I9H7m6smSg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">yup, that’s an extra space at the end</figcaption></figure><h1 id="bcc7" class="lq ll iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">子字符串()</h1><p id="2d12" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">为了去掉末尾的空格，我使用了<a class="ae ns" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substring" rel="noopener ugc nofollow" target="_blank"> substring() </a>方法，它有两个参数，起始索引和结束索引。</p><p id="6f26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lc ld le lf b">return result.substring(0, result.length — 1) </code>删除最后一个空格。这是整个函数:</p><pre class="km kn ko kp gt lg lf lh li aw lj bi"><span id="2221" class="lk ll iq lf b gy lm ln l lo lp">const toGoatLatin = function(S) {<br/>    let result = ""<br/>    let sentence = S.split(' ')<br/>    for (let i = 0; i &lt; sentence.length; i++) {  <br/>       <br/>       let vowels =  ["a", "e", "i", "o", "u"]<br/>       let word = sentence[i].split('') <br/>       let firstLetter = word[0]<br/>       <br/>       if (!vowels.includes(firstLetter.toLowerCase())){<br/>           word.splice(0,1)<br/>           word.push(firstLetter)<br/>       }<br/>       <br/>       word.push("ma")<br/>       let addon = ("a").repeat(i + 1)<br/>       word.push(addon)<br/>       result += word.join('') + ' '<br/>    }</span><span id="1df5" class="lk ll iq lf b gy nt ln l lo lp">return result.substring(0, result.length - 1)<br/>};</span></pre><p id="6809" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然没有惊人的快，但比大多数都要快:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nw"><img src="../Images/4073527ec55f5cae5956980eecbb58ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4Cw7xjmsVPWuHs9k1OlBg.png"/></div></div></figure><p id="9bae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nr">接下来:</em> <a class="ae ns" href="https://medium.com/javascript-in-plain-english/algorithms-101-convert-roman-numerals-to-integers-in-javascript-d3aba86a43d4" rel="noopener"> <em class="nr">算法101、#6:将JavaScript </em>中的罗马数字转换成整数T5】</a></p><p id="e706" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ns" href="https://medium.com/@joanrigdon/algorithms-101-climbing-stairs-in-javascript-c8dec14cb2f6" rel="noopener"> <em class="nr">以防你错过:算法101，#4:在JavaScript中爬楼梯/ noob重新学习斐波那契数列</em> </a></p><p id="384d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">版权所有琼·印第安纳·琳斯2019</p></div></div>    
</body>
</html>