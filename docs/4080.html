<html>
<head>
<title>Angular Version 11 Is Out!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角版11出来了！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-version-11-is-out-a-comprehensive-look-and-why-you-might-want-update-your-projects-5db652ce110c?source=collection_archive---------2-----------------------#2020-11-15">https://javascript.plainenglish.io/angular-version-11-is-out-a-comprehensive-look-and-why-you-might-want-update-your-projects-5db652ce110c?source=collection_archive---------2-----------------------#2020-11-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a970" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">让我们仔细分析一下新特性</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b54f0fdb4bfeef0c0552f8b66062c00e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssGFBtVB3y2rNyhAuxGYQg.jpeg"/></div></div></figure><p id="609b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">angular的第11个版本已经发布，我们有一些有趣的更新要看看。在这篇短文中，我将带您了解您需要了解的最重要的新特性，并指出为什么您可能希望或不希望更新您的项目。</p><p id="8f3e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我先警告一下，如果您还没有将angular cli版本更新到最新的v11，您可能无法使用<code class="fe lk ll lm ln b">ng new</code>创建新的angular项目。要解决这个问题，只需运行:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="e4cc" class="ls lt in ln b gy lu lv l lw lx">npm install -g @angular/cli@latest</span></pre><p id="1d2f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这将使你运行最新版本的angular cli，你现在应该可以创建新的项目了，这个问题似乎源于angular中默认的林挺系统的死亡，我稍后会谈到这一点。现在我们来谈谈特性！🎉</p><h2 id="abe1" class="ls lt in bd ly lz ma dn mb mc md dp me kx mf mg mh lb mi mj mk lf ml mm mn mo bi translated">更好的命令行格式</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mp"><img src="../Images/1d0e83bcea08f6f4b0ad2ed6908e5a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VRPSqRys9KAeTHZJK_NqiA.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Version 11 Command-Line Compile Output</figcaption></figure><p id="6714" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这是一个大问题。在angular中工作的开发人员通常花更多的时间在命令行上，而不是react上，这是因为受人喜爱的<code class="fe lk ll lm ln b">ng cli</code>,所以angular 11在这方面做了一些重大改进。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/4f34f3cd9c365a6db885c9e8028e0140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjaetT0FsOFLWVcy1jnBxA.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">The Old CLI 😒😒</figcaption></figure><p id="6e51" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，您将得到一些整洁的表格，以便对您编译的组件进行排序，从而允许您在文件之间进行快速的大小比较。在新cli的许多其他地方也可以看到这种表结构。就个人而言，我会更新这个功能。</p><h2 id="49cc" class="ls lt in bd ly lz ma dn mb mc md dp me kx mf mg mh lb mi mj mk lf ml mm mn mo bi translated">自动字体内联</h2><p id="a659" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">这很可能是angular的这个版本中最大的改进，尽管围绕它是否有帮助还有一些争论。</p><p id="0402" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Angular现在下载项目中使用的字体，并将它们添加到构建文件中。请注意，这仅发生在为生产而构建时，这可以通过使用:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="26c6" class="ls lt in ln b gy lu lv l lw lx">ng build --prod</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi na"><img src="../Images/c7b1a9154edb2509886c7f96042c7c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eA4_2ZxSaAXHCYTPMCZPng.jpeg"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Comparing fonts before and after compilation</figcaption></figure><p id="0c0a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">点击上面的图片，看看angular对从<a class="ae nb" href="http://fonts.google.com" rel="noopener ugc nofollow" target="_blank"> fonts.google </a>导入字体Roboto的代码所做的修改。</p><p id="49a6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我认为这是一个非常令人印象深刻的特性，并且对angular程序的加载时间增加了一点点改进。</p><p id="496a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">警告::</strong>当您将旧的angular项目更新到CLI v11时，此功能可能会导致某些字体出现问题。您可以通过将下面的代码添加到package.json文件中来为您的项目关闭它，从而解决这个问题:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="5da6" class="ls lt in ln b gy lu lv l lw lx">"optimization": { <br/>  "scripts": true,<br/>  "styles": false,<br/>  "fonts": true<br/>}</span></pre><p id="2504" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果问题仍然存在，您可能需要检查这个<a class="ae nb" href="https://github.com/angular/angular-cli/issues/19350" rel="noopener ugc nofollow" target="_blank">问题</a>。</p><h2 id="5942" class="ls lt in bd ly lz ma dn mb mc md dp me kx mf mg mh lb mi mj mk lf ml mm mn mo bi translated">热模块重装</h2><p id="f7a4" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">热模块重载现在允许angular 11在你编辑代码时刷新页面内容，而无需刷新网站。这肯定是有角度的试图赶上反应，但它肯定是一个受欢迎的变化，为小的开发时间，它会节省你。</p><p id="bc16" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">默认情况下，这个特性是禁用，但幸运的是，可以通过运行以下命令在angular v11项目中轻松启用:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="1245" class="ls lt in ln b gy lu lv l lw lx">ng serve --hmr -o</span></pre><p id="efb7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这是我现在在我的网站上更新一个组件时看到的，漂亮</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/fac4030e254613fb041447ac772a7a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/1*h0wh9btYjXBeiBrQ6jQCXQ.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">With HMR enabled</figcaption></figure><p id="aa8d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">希望angular决定在未来做一些工作，让我们在导入新组件时不需要手动重启编译过程。</p><p id="3081" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是大的变化，我现在将谈论你是否应该更新你的项目到新的版本。</p><h2 id="36c3" class="ls lt in bd ly lz ma dn mb mc md dp me kx mf mg mh lb mi mj mk lf ml mm mn mo bi translated">你应该在新项目中完全使用v11</h2><p id="187b" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">当使用早于v11的Angular CLI版本创建新项目时，您可能会得到一个与不推荐使用TSLint相关的错误。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi gj"><img src="../Images/ac072fcf04770a1616065eebd9c25472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZxYmLN5_9V7bKtae73LEFQ.png"/></div></div></figure><p id="2462" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该问题似乎与npm有关。到目前为止，我找到的解决方法是将主<code class="fe lk ll lm ln b">ng</code>包管理器改为yarn，而不是npm。您可以使用以下命令:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="694d" class="ls lt in ln b gy lu lv l lw lx">ng config -g cli.packageManager yarn</span></pre><p id="a3cf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果你真的想使用旧版本的angular，你可以这样做，或者升级到最新版本。下次你想创建一个新的angular应用程序时，你可能想突出显示这一部分，不过我会建议新应用程序使用最新版本的CLI。</p><blockquote class="nd"><p id="829c" class="ne nf in bd ng nh ni nj nk nl nm lj dk translated">嘿，想找一个好的远程web开发者？我有空！😊在namusanganicho@gmail.com或推特上给我喊一声</p></blockquote><figure class="nn no np nq nr kh"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h2 id="b3c2" class="ls lt in bd ly lz ma dn mb mc md dp me kx mf mg mh lb mi mj mk lf ml mm mn mo bi translated">您应该将旧项目更新到Angular V11吗</h2><p id="b8ab" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">对于已经有Angular v10或更早版本的项目的人来说，有一些事情需要考虑更新，特别是对于大型项目；</p><ul class=""><li id="73e5" class="nu nv in kq b kr ks ku kv kx nw lb nx lf ny lj nz oa ob oc bi translated"><strong class="kq io">自动字体内联</strong> →如果您在项目中使用内联字体，请放心，Angular可以在您为生产构建时做出突破性的改变，因为它具有新的字体内联功能。该功能旨在通过优化项目中的外部字体来缩短加载时间。问题是浏览器通常会缓存普通字体，所以如果你的程序使用普通字体，比如Roboto，Helvetica等，这可能不会对你的程序有很大影响。这些很有可能已经被缓存在用户的浏览器中。如果你还在考虑更新这个功能，我建议只有在你的应用程序中使用了很多罕见的字体时才这么做。</li><li id="15bc" class="nu nv in kq b kr od ku oe kx of lb og lf oh lj nz oa ob oc bi translated"><strong class="kq io"> Webpack 5支持→ </strong>这是angular v11中的另一个功能，可能对使用基于angular的大型应用程序的人有用。特别是Web Pack中的<strong class="kq io">树摇动</strong>特性，该特性允许构建过程自动删除代码中未使用的部分，如方法，并将总体上减少生产构建的大小。如果这是你一直在努力解决的问题，你肯定会想进一步了解这个更新。查看此<a class="ae nb" href="https://webpack.js.org/guides/tree-shaking/" rel="noopener ugc nofollow" target="_blank">链接</a>了解更多信息。</li></ul><p id="0604" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您需要将Webpack 5添加到您的package.config中的resolutions中，并作为您的包管理器切换到yarn，这样才能工作。</p><p id="e856" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我建议在一个单独的项目中进行测试，在实际应用程序中进行测试之前，先感受一下这些变化会如何影响项目的构建。</p><ul class=""><li id="ab2a" class="nu nv in kq b kr ks ku kv kx nw lb nx lf ny lj nz oa ob oc bi translated">老实说，我们都知道这一天即将到来。对于那些仍在为传统的Internet Explorer版本开发应用程序的人来说，末日到了。对于11之前的版本，Angular 11中的支持已被删除。<em class="oi">(明白了吗？</em> <em class="oi"> ) </em>反正，是啊，发生了。老实说，我甚至不知道有移动IE，但它也失去了支持。因此，对于仍然瞄准这些平台的两个开发者来说，你肯定不想更新。或者你想更新并停止支持这些浏览器。</li></ul><p id="6cef" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，我不认为ng V11对我正在更新的项目有足够的改变，所以我不会更新任何已经运行的项目。不过我会在所有新项目中使用新版本。</p><p id="673a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">非常感谢你看了这篇文章，让我知道你对评论中的变化有什么想法，你会更新吗？为什么？暂时干杯。🤗</p></div></div>    
</body>
</html>