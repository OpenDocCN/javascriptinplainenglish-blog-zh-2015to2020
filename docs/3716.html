<html>
<head>
<title>Simple Array Operations with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript进行简单的数组操作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/simple-array-operations-with-javascript-1ecdf2e57a82?source=collection_archive---------17-----------------------#2020-10-19">https://javascript.plainenglish.io/simple-array-operations-with-javascript-1ecdf2e57a82?source=collection_archive---------17-----------------------#2020-10-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="94df" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过使用本机数组辅助函数简化JavaScript中的集合操作</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5461567ff29bc60cf4f855e580962495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6dzjc3Wvyn0eDBCy3kxADQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Made by the author in <a class="ae kv" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank">Canva</a></figcaption></figure><p id="1831" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript提供了许多数组助手函数，可以处理数组操作的大部分繁重工作。在本文中，我将通过几个这样的操作的例子来演示它们是如何帮助简化代码编写的。</p><p id="27a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将在本文中讨论的函数包括<code class="fe ls lt lu lv b">.map()</code>、<code class="fe ls lt lu lv b">.filter()</code>、<code class="fe ls lt lu lv b">.reduce()</code>、<code class="fe ls lt lu lv b">.some()</code>和<code class="fe ls lt lu lv b">.find()</code>。我使用这些强大的函数已经有好几年了，我甚至都不记得我最后一次写标准的<code class="fe ls lt lu lv b">for</code>循环来处理数组是什么时候了。一旦你掌握了如何使用它们，你就不会回头了。</p><p id="2f5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于其中的每一个，我都将使用示例来演示与更传统的方法相比，这如何简化代码。让我们开始吧！</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="b4d7" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">。map()和。过滤器()</h1><p id="4979" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我们先通过实例介绍<code class="fe ls lt lu lv b">.map() and</code> <code class="fe ls lt lu lv b">.filter()</code>。当我开始用Redux开发我的第一个React应用程序时，我真正开始大量使用它们。</p><p id="9fb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你熟悉Redux，你会意识到它背后的思想是存储在Redux中的数据是不可变的。换句话说，您总是在创建新的数组或对象，而不是改变现有的数据。这种创建新引用而不是改变现有引用的想法是不变性的关键。</p><p id="8730" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些数组函数很方便，因为在<code class="fe ls lt lu lv b">.map()</code>和<code class="fe ls lt lu lv b">.filter()</code>的情况下，它们总是返回对新数组的引用。这使得检测应用程序中的变化变得简单。</p><p id="b7cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，如果您有一个数组引用作为React应用程序中某个挂钩的依赖项，那么很容易检测到何时重新运行该挂钩，因为您只在数组引用更改为新数组时激活它，而不是尝试检测添加、删除等。</p><p id="e389" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们开始看例子之前，我们将创建一个包含少量对象的数组，这样我们就有一个集合可以处理了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="9b65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们从执行一个简单的操作开始。比方说，我们希望将所有的id放入一个数组中。这是使用<code class="fe ls lt lu lv b">for</code>循环时的样子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="cd40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们创建一个数组，然后循环遍历这些值，并将所有的id放入该数组，以获得id列表。我们可以通过使用<code class="fe ls lt lu lv b">.map()</code>来简化这个操作</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="fc79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这给了我们和以前一样的结果，但是我们不需要创建一个变量然后赋值，我们可以在一个步骤中完成。我们可以进一步简化。我们可以在我们写的箭头函数中使用隐式返回。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="fdff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nc">即与</em> <code class="fe ls lt lu lv b"><em class="nc">.map()</em></code> <em class="nc">基本概念相同。它用于创建一个数组，原始集合中的每一项都有一个结果。</em></p><p id="be92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们的下一个例子，我们将使用与<code class="fe ls lt lu lv b">.map() </code>不同的<code class="fe ls lt lu lv b">.filter()</code>，它将返回一个新的数组，但是它不会为原始集合中的每一项都有一个条目，除非该数组中的所有项都满足<code class="fe ls lt lu lv b">.filter()</code>的条件。</p><p id="3441" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想要得到一个已经登录并且登录超过50次的所有人的列表。首先，我们将通过一个<code class="fe ls lt lu lv b">for</code>循环来实现。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="efcc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">和我们之前做的非常相似。我们创建一个新数组来保存结果，然后遍历集合，将满足条件的结果添加到新数组中。</p><p id="b414" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就像之前一样，让我们展示如何使用<code class="fe ls lt lu lv b">.filter()</code>将这两个步骤合并成一个步骤</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="1d4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结合使用<code class="fe ls lt lu lv b">.filter()</code>和<code class="fe ls lt lu lv b">.map()</code>可以使它们更加有用。因为每个操作的返回都是一个新的数组，所以如果需要一次应用多个操作，将它们链接在一起非常简单。</p><p id="702d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以将第一个示例与第二个示例结合起来，获得每个处于活动状态且登录次数超过50次的用户的id。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="25bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以看到这是多么有用，因为在将每个对象映射到id之前，我们将列表过滤为我们感兴趣的对象。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="6512" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">。减少()</h1><p id="774b" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我记得几年前的一次面试，面试官让我解释如何使用<code class="fe ls lt lu lv b">.reduce()</code>。当时，我毫无头绪，但面试官热情地告诉了我。我引用他的原话“reduce是所有阵列操作中的老大”。现在我很熟悉了，我完全同意这种观点。</p><p id="343c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与。reduce()你可以把一个集合转换成一个单独的对象。比方说，我们想要为每个用户id创建一个带有键的对象，这样我们就可以使用它轻松地查找用户。</p><p id="cabb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看一个例子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="6bb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的例子中<code class="fe ls lt lu lv b">acc</code>是累加器对象。我们用<code class="fe ls lt lu lv b">{}</code>初始化累加器，所以一开始它只是一个空对象。在每次迭代中，通过集合，我们使用扩展操作符(<code class="fe ls lt lu lv b">…acc</code>)来“扩展”累加器中已经存在的所有键/值，然后添加当前id作为键，添加当前用户对象作为值。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="20d4" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">。一些()和。查找()</h1><p id="64ce" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我们要复习的最后几个例子包括<code class="fe ls lt lu lv b">.some()</code>和<code class="fe ls lt lu lv b">.find()</code>。如果我需要在一个数组中寻找一个值，我发现自己经常会同时使用这两种操作。</p><p id="bdb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用<code class="fe ls lt lu lv b">.some()</code>来找出数组中的任何对象是否满足我们的条件。假设我们想看看列表中是否有活跃用户。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="e8df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将返回一个布尔值，表明是否至少有一个对象符合我们的标准。<code class="fe ls lt lu lv b">.find()</code>很相似。唯一不同的是。find()将找到满足我们条件的第一个对象，然后返回该对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="577e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nc">我一直在寻找编写JavaScript的更好方法，所以如果你不熟悉本文中的数组操作，我希望这有助于澄清你的理解。感谢阅读！</em></p><p id="5f44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="ky ir">！</strong></p></div></div>    
</body>
</html>