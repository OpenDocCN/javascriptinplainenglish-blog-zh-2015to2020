<html>
<head>
<title>How to detect properties of an object in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中检测对象的属性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-detect-properties-of-an-object-in-javascript-754cae0dbe97?source=collection_archive---------5-----------------------#2020-03-08">https://javascript.plainenglish.io/how-to-detect-properties-of-an-object-in-javascript-754cae0dbe97?source=collection_archive---------5-----------------------#2020-03-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3757" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">新的开发者经常错误地检测一个属性是否存在</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b74544c5800042d54cfeddbca219d369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bAqopUPrwGknRqrX"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Max Nelson</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b7ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">参考<a class="ae kv" href="https://medium.com/javascript-in-plain-english/the-3-ways-to-create-a-javascript-object-33406794e9e5" rel="noopener">我之前的帖子</a>，因为属性和方法可以随时添加，所以有时候需要检查对象中是否存在属性或方法。</p><h2 id="d561" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">错误的方式</h2><p id="a3dc" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">有些开发商就像下面的例子一样去检查一个楼盘是否存在，这是一种不可靠的方式。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="3322" class="ls lt iq mr b gy mv mw l mx my">// check if age property exists<br/>if (person.age) {<br/>    // do something with age<br/>}</span></pre><p id="21d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种方法的问题是我们不知道类型如何影响结果，因为“if条件”可能计算为true、false、truthy(对象、非空字符串、非零数字或true)、false (null、未定义、0、false、NaN或空字符串)。</p><p id="263b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，对象属性可能是这些假值中的一个，“if条件”可能会产生假阴性。在这种情况下，如果(person.age)为0，即使该属性存在，也不会满足If条件。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="be7f" class="ls lt iq mr b gy mv mw l mx my">person.age = 0</span><span id="63c9" class="ls lt iq mr b gy mz mw l mx my">// There is nothing done, always false</span><span id="4338" class="ls lt iq mr b gy mz mw l mx my">if (person.age) {<br/>    // do something with age</span><span id="7a91" class="ls lt iq mr b gy mz mw l mx my">}</span></pre><h2 id="6dd1" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">更可靠的方法</h2><p id="cf90" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们可以使用in操作符来测试一个属性的存在。in运算符在特定对象中查找具有给定名称的属性，如果找到，则返回true。</p><blockquote class="na"><p id="aee5" class="nb nc iq bd nd ne nf ng nh ni nj lr dk translated">请记住，in操作符检查自己的属性和原型属性。</p></blockquote><p id="2cf3" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">例如，当它用于检查person对象中的某些属性时，会发生以下情况。</p><ul class=""><li id="efa0" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated">查看<em class="ny">姓名</em>属性</li></ul><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="669a" class="ls lt iq mr b gy mv mw l mx my">console.log("name" in person)<br/>// &lt;&lt; true</span></pre><ul class=""><li id="f90f" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated">检查<em class="ny">年龄</em>属性(在本例中，<em class="ny">年龄</em>属性不存在)</li></ul><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="052b" class="ls lt iq mr b gy mv mw l mx my">console.log (“age” in person) </span><span id="eb1b" class="ls lt iq mr b gy mz mw l mx my">// &lt;&lt; false</span></pre><h2 id="b318" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">其他方式</h2><p id="eef9" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在大多数情况下，In运算符是最好的方法。但在某些情况下，您可能希望仅在某个属性是自己的属性时才检查该属性是否存在。</p><p id="2342" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<em class="ny"> hasOwnProperty() </em>方法，它返回一个布尔值，表明对象是否将指定的属性作为自己的属性。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="6948" class="ls lt iq mr b gy mv mw l mx my">console.log(person.hasOwnProperty("name"))<br/>&lt;&lt; true</span></pre><p id="40c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过toString()方法，是所有对象上都存在的原型属性。</p><ul class=""><li id="8951" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated">in运算符返回true</li></ul><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9c0e" class="ls lt iq mr b gy mv mw l mx my">console.log(“toString” in person)</span><span id="8505" class="ls lt iq mr b gy mz mw l mx my">&lt;&lt; true</span></pre><ul class=""><li id="42a2" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated">hasOwnProperty()方法返回false</li></ul><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="f0e9" class="ls lt iq mr b gy mv mw l mx my">console.log(person.hasOwnProperty(“toString”))</span><span id="4421" class="ls lt iq mr b gy mz mw l mx my">&lt;&lt; false</span></pre><h2 id="8df7" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">如何在JavaScript中测试一个方法的存在？</h2><p id="f733" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这太容易了！请记住，方法只是引用函数的属性，所以您可以用同样的方式来做。比如看到go方法存在，输出为真。</p><blockquote class="na"><p id="a7cc" class="nb nc iq bd nd ne nf ng nh ni nj lr dk translated">请记住，方法只是属性。</p></blockquote><pre class="nz oa ob oc od mq mr ms mt aw mu bi"><span id="70b1" class="ls lt iq mr b gy mv mw l mx my">console.log("go" in person)<br/>// true</span></pre><p id="575a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它是关于如何在JavaScript中检测一个对象的属性。感谢阅读！</p><p id="5402" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要忘记👏跟着走。</p></div></div>    
</body>
</html>