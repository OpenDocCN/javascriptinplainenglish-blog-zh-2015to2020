<html>
<head>
<title>JavaScript Basics — Generators and the Web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript基础—生成器和网络</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-basics-generators-and-the-web-f30f0a1d2602?source=collection_archive---------9-----------------------#2020-06-16">https://javascript.plainenglish.io/javascript-basics-generators-and-the-web-f30f0a1d2602?source=collection_archive---------9-----------------------#2020-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2ffebef1eb69c735b2a76a70e4457ebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4sCtuC_oN7wsfqoa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@epan5?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Krzysztof Niewolny</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4df8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是世界上最流行的编程语言之一。为了有效地使用它，我们必须了解它的基本知识。</p><p id="c189" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何定义和使用生成器和web通信。</p><h1 id="77c8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">发电机</h1><p id="e9ac" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">生成器函数让我们创建可以暂停和恢复的函数。</p><p id="2001" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它由关键字<code class="fe me mf mg mh b">functuion*</code>表示。</p><p id="d1ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a701" class="mq lc iq mh b gy mr ms l mt mu">function* random() {<br/>  while (true) {<br/>    yield Math.random();<br/>  }<br/>}</span></pre><p id="db4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们定义了一个<code class="fe me mf mg mh b">random</code>函数，只要我们调用它，它就会不断生成随机数。</p><p id="d22c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">yield</code>运行时暂停。</p><p id="55cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以有一个无限循环，因为只有当我们显式运行返回的生成器时，循环才会运行。</p><p id="2a70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d5e6" class="mq lc iq mh b gy mr ms l mt mu">const ran = random();<br/>console.log(ran.next());<br/>console.log(ran.next());</span></pre><p id="9078" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们会得到这样的结果:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d09d" class="mq lc iq mh b gy mr ms l mt mu">{value: 0.6168149388512836, done: false}<br/>{value: 0.7733643240483823, done: false}</span></pre><p id="7799" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用了我们的生成器函数，并调用了返回的生成器<code class="fe me mf mg mh b">ran</code>上的<code class="fe me mf mg mh b">next</code>。</p><p id="fb92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以创建一个迭代器对象来顺序返回一个数字数组。</p><p id="454f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="41f9" class="mq lc iq mh b gy mr ms l mt mu">const obj = {<br/>  *[Symbol.iterator]() {<br/>    const arr = [1, 2, 3];<br/>    for (const a of arr) {<br/>      yield a;<br/>    }<br/>  }<br/>}</span></pre><p id="8730" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">Symbol.iterator</code>方法，这是一个生成函数，它产生<code class="fe me mf mg mh b">arr</code>的每一项。</p><p id="8aba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行<code class="fe me mf mg mh b">yield</code>时暂停。</p><p id="05a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过运行以下命令将它与for-of循环一起使用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5ba8" class="mq lc iq mh b gy mr ms l mt mu">for (const o of obj) {<br/>  console.log(o);<br/>}</span></pre><p id="3a86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">async</code>功能是一种特殊类型的发生器。</p><p id="3d17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当它被召唤时，它产生一个承诺，这个承诺被解决或拒绝。</p><p id="7e4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当它产生或等待一个承诺时，承诺的结果或异常值就是<code class="fe me mf mg mh b">await</code>表达式的结果。</p><h1 id="f987" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">事件循环</h1><p id="ebc9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">异步程序是一部分一部分运行的。</p><p id="f873" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每一部分都可以启动一些动作，并在动作完成或失败时调度要运行的代码。</p><p id="e91b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">程序闲置在这两部分之间。</p><p id="121f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">异步操作发生在它自己的调用堆栈上。</p><p id="03b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是为什么我们需要承诺来管理异步动作，以便它们一个接一个地运行。</p><h1 id="0301" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">JavaScript和浏览器</h1><p id="73a7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript用于构建几乎所有的浏览器应用。</p><p id="1593" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器用户使用HTTP协议与互联网通信。</p><p id="8f48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">HTTP代表超文本传输协议。</p><p id="b5aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每当我们在浏览器中运行一些东西时，我们就发出一个HTTP请求。</p><p id="98f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们让他们下载网页，向服务器发送数据，等等。</p><p id="f55c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">传输控制协议(TCP)是互联网的通用协议。</p><p id="4633" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它通过让一台计算机监听数据，一台计算机发送数据，让计算机相互通信。</p><p id="d2f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个侦听器都有一个与之关联的端口号。</p><p id="28a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想发送电子邮件，我们使用SMTP协议，通过端口25进行通信。</p><p id="9243" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个双向通信管道。一段数据可以从一台计算机流向另一台计算机。</p><h1 id="bc42" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">网络</h1><p id="9dcb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">浏览器通过万维网(简称web)进行通信。</p><p id="4740" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过把我们的电脑放在互联网上并监听80端口来进行网络交流，这样我们就可以通过HTTP进行交流。</p><p id="4050" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以向<code class="fe me mf mg mh b">http://example.com</code>发出请求，这是一个告诉我们向哪里发出请求的URL。</p><p id="d4c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">URL只是一段固定格式的文本，让我们找到我们需要的资源。</p><p id="1b3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">URL首先有协议，即<code class="fe me mf mg mh b">http</code>，然后是服务器名，即<code class="fe me mf mg mh b">example.com</code>。</p><p id="9743" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也可以有路径，像<code class="fe me mf mg mh b">http://example.com/foo.html</code>。<code class="fe me mf mg mh b">foo.html</code>是URL中的路径。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/cde23fdd1f22ed2b0e69561927cc1167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6umJM0_m08hbuexf"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@artnok?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nicolas Picard</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ab92" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">超文本标记语言</h1><p id="6ad6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">HTML代表超文本标记语言。</p><p id="aa87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是存储网页的文档格式。</p><p id="20ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它包含文本和标签，我们可以用它们来构建文本。</p><p id="e3f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用它来描述链接、段落、标题等等。</p><p id="8608" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6726" class="mq lc iq mh b gy mr ms l mt mu">&lt;!doctype html&gt;<br/>&lt;html&gt;</span><span id="d829" class="mq lc iq mh b gy mw ms l mt mu">  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;hello&lt;/title&gt;<br/>  &lt;/head&gt;</span><span id="3257" class="mq lc iq mh b gy mw ms l mt mu">  &lt;body&gt;<br/>    &lt;h1&gt;Hello&lt;/h1&gt;<br/>    &lt;p&gt;Read my work<br/>      &lt;a href="http://example.com"&gt;here&lt;/a&gt;.&lt;/p&gt;<br/>  &lt;/body&gt;</span><span id="f560" class="mq lc iq mh b gy mw ms l mt mu">&lt;/html&gt;</span></pre><p id="69af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有HTML文档都以<code class="fe me mf mg mh b">&lt;!doctype html&gt;</code>开头，表示这是一个HTML文档。</p><p id="8559" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，他们有一些元数据如标题的<code class="fe me mf mg mh b">head</code>标签和额外元数据的<code class="fe me mf mg mh b">meta</code>标签。</p><p id="abf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">body</code>标签有主要内容。</p><p id="2211" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有标题标签，如用于段落的<code class="fe me mf mg mh b">h1</code>和<code class="fe me mf mg mh b">p</code>标签，以及用于其他页面链接的<code class="fe me mf mg mh b">a</code>标签。</p><p id="86a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用JavaScript动态改变HTML。</p><h1 id="4bce" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="54db" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建生成器来创建可以暂停和恢复的函数。</p><p id="56f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript对于创建web应用程序很有用。它们通过HTTP进行通信，HTTP通过TCP进行通信。</p><h2 id="a294" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="42df" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>