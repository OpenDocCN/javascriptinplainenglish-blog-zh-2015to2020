<html>
<head>
<title>Introduction to Vue.js Render Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js渲染函数简介</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introduction-to-vue-js-render-functions-8b5976e6c389?source=collection_archive---------3-----------------------#2020-04-10">https://javascript.plainenglish.io/introduction-to-vue-js-render-functions-8b5976e6c389?source=collection_archive---------3-----------------------#2020-04-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/29ee69c226429cceb396952696a60ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eUuOVWkkjojl6F0B"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@bill_bokeh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Paul Dufour</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1713" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用程序框架，我们可以用它来开发交互式前端应用程序。</p><p id="a715" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何定义和使用Vue.js渲染函数。</p><h1 id="392c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">基础</h1><p id="c4b2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以定义并使用渲染函数来以编程方式显示Vue应用程序中的元素。</p><p id="e37d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个可以从使用渲染函数中受益的例子是有很多<code class="fe me mf mg mh b">v-if</code>情况的组件。</p><p id="127b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们想用一个组件显示不同大小的标题，我们可以定义以下组件:</p><p id="0f46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c45f" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("variable-heading", {<br/>  template: "#variable-heading-template",<br/>  props: {<br/>    size: {<br/>      type: Number,<br/>      required: true<br/>    }<br/>  }<br/>});</span><span id="57fa" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="b4e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="604e" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;script type="text/x-template" id="variable-heading-template"&gt;<br/>      &lt;h1 v-if="size === 1"&gt;<br/>        &lt;slot&gt;&lt;/slot&gt;<br/>      &lt;/h1&gt;<br/>      &lt;h2 v-else-if="size === 2"&gt;<br/>        &lt;slot&gt;&lt;/slot&gt;<br/>      &lt;/h2&gt;<br/>      &lt;h3 v-else-if="size === 3"&gt;<br/>        &lt;slot&gt;&lt;/slot&gt;<br/>      &lt;/h3&gt;<br/>      &lt;h4 v-else-if="size === 4"&gt;<br/>        &lt;slot&gt;&lt;/slot&gt;<br/>      &lt;/h4&gt;<br/>      &lt;h5 v-else-if="size === 5"&gt;<br/>        &lt;slot&gt;&lt;/slot&gt;<br/>      &lt;/h5&gt;<br/>      &lt;h6 v-else-if="size === 6"&gt;<br/>        &lt;slot&gt;&lt;/slot&gt;<br/>      &lt;/h6&gt;<br/>    &lt;/script&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;variable-heading :size="1"&gt;foo&lt;/variable-heading&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="d7b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码通过将<code class="fe me mf mg mh b">size</code>值作为道具传递给<code class="fe me mf mg mh b">variable-heading</code>组件，然后组件模板中的<code class="fe me mf mg mh b">v-if</code>将根据<code class="fe me mf mg mh b">size</code>道具的值决定显示哪个元素。</p><p id="e523" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它很长，有重复的<code class="fe me mf mg mh b">slot</code>元素。</p><p id="31a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用渲染函数将上面的代码简化为:</p><p id="9903" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9842" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("variable-heading", {<br/>  props: {<br/>    size: {<br/>      type: Number,<br/>      required: true<br/>    }<br/>  },<br/>  render(createElement) {<br/>    return createElement(`h${this.size}`, this.$slots.default);<br/>  }<br/>});</span><span id="246a" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="4325" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="de7a" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;variable-heading :size="1"&gt;foo&lt;/variable-heading&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c4e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码是通过在我们的<code class="fe me mf mg mh b">variable-heading</code>组件中添加<code class="fe me mf mg mh b">render</code>方法来工作的，该组件通过调用<code class="fe me mf mg mh b">createElement</code>函数返回一个虚拟DOM节点，简称VNode，其中标签名作为第一个参数，子HTML节点作为第二个参数。</p><p id="5a92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虚拟DOM节点告诉Vue在屏幕上呈现什么，屏幕将变成一个真实的DOM节点。</p><p id="5b11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">this.$slot.default</code>在<code class="fe me mf mg mh b">variable-heading</code>的开始和结束标签之间传递子HTML节点。</p><h1 id="e31e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">节点、树和虚拟DOM</h1><p id="97f2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">HTML代码通过呈现称为DOM树的动态元素树来动态呈现。文档对象模型的DOM标准，它将HTML结构抽象成一棵树。</p><p id="71fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一棵树有节点，一些像文本和HTML节点这样的节点会显示在浏览器的屏幕上。</p><p id="9f2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue为我们操纵和渲染DOM树，这样我们就不用自己动手了。</p><p id="dbb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以创建一个具有如下渲染功能的组件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="043f" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("variable-heading", {<br/>  data() {<br/>    return { msg: "hi" };<br/>  },<br/>  render(createElement) {<br/>    return createElement("p", this.msg);<br/>  }<br/>});</span></pre><h1 id="faf5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">createElement参数</h1><p id="25f3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">createElement</code>需要几个论点。</p><p id="63aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是HTML标记名、组件选项或异步函数，它解析为前面提到的两种项目之一。这是必需的。</p><p id="4c9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是一个对象，其数据对应于我们要添加到模板中的属性。这是一个可选的论点。</p><p id="fbe4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第三个也是最后一个参数是使用<code class="fe me mf mg mh b">createElement</code>构建的子节点的字符串或数组。这也是可选的。</p><h1 id="0af7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数据对象</h1><p id="9101" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">数据对象有许多属性，可以控制所创建的VNode的属性、类、事件处理程序和内联样式。</p><p id="6abc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是可用的属性:</p><h2 id="4281" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">班级</h2><p id="73da" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">它是一个具有类名的对象，我们希望将这些类名包含在我们呈现的HTML元素的<code class="fe me mf mg mh b">class</code>属性中。</p><p id="0ecd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d793" class="mq lc iq mh b gy mr ms l mt mu">class: {<br/>  foo: true,<br/>  bar: false<br/>}</span></pre><p id="330c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">foo</code>类包含在<code class="fe me mf mg mh b">class</code>属性中，而<code class="fe me mf mg mh b">bar</code>没有。</p><h2 id="55a0" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">风格</h2><p id="b71e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">一个包含我们想要包含的样式的对象。例如，我们可以这样写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3873" class="mq lc iq mh b gy mr ms l mt mu">style: {<br/>  color: 'yello',<br/>  fontSize: '12px'<br/>},</span></pre><p id="b43b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，上面的样式将包含在呈现的元素中。</p><h2 id="6269" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">属性</h2><p id="5426" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">attrs</code>对象具有我们想要包含在rendred HTML元素中的属性和值。例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="be93" class="mq lc iq mh b gy mr ms l mt mu">attrs: {<br/>  id: 'foo'<br/>}</span></pre><p id="38f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们呈现的HTML元素将具有ID <code class="fe me mf mg mh b">foo</code>。</p><h2 id="7cd3" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">小道具</h2><p id="5366" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">props</code>对象拥有组件的道具和相应的值。例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8497" class="mq lc iq mh b gy mr ms l mt mu">props: {<br/>  foo: 'bar'<br/>}</span></pre><p id="b717" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以传入值为<code class="fe me mf mg mh b">'bar'</code>的<code class="fe me mf mg mh b">foo</code>道具。</p><h2 id="66aa" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">东普罗普斯</h2><p id="f8a7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">对象拥有我们想要传入的DOM属性。例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5b9d" class="mq lc iq mh b gy mr ms l mt mu">domProps: {<br/>  innerHTML: 'foo'<br/>}</span></pre><p id="b91f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们呈现的HTML元素内部有文本<code class="fe me mf mg mh b">foo</code>。</p><h2 id="dd57" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">在</h2><p id="7796" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用<code class="fe me mf mg mh b">on</code>对象，我们可以为呈现的HTML元素设置事件处理程序。它用于监听通过<code class="fe me mf mg mh b">$emit</code>发出的事件。</p><p id="27d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3f1e" class="mq lc iq mh b gy mr ms l mt mu">on: {<br/>  click: this.clickHandler<br/>}</span></pre><p id="5486" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">收听Vue点击事件。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/c90bcd1e9492e1a6b79633fbe8a5ad01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Nbngdb5SvojNeH5A"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@bkotynski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Bethany Legg</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="b257" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">纳提翁</h2><p id="05f2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">nativeOn</code>对象监听本地浏览器事件。它和<code class="fe me mf mg mh b">on</code>有相同的对象，只是我们有本地事件处理程序，而不是Vue事件处理程序。</p><h2 id="5198" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">指令</h2><p id="b2a7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以传入<code class="fe me mf mg mh b">directives</code>数组来传入一个或多个带有值、参数、修饰符等的指令。</p><p id="de2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="904a" class="mq lc iq mh b gy mr ms l mt mu">directives: [<br/>  {<br/>    name: 'custom-directive',<br/>    value: '2',<br/>    expression: '1 + 1',<br/>    arg: 'foo',<br/>    modifiers: {<br/>      bar: true<br/>    }<br/>  }<br/>],</span></pre><p id="91ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以将带有修饰符、参数、值和表达式的<code class="fe me mf mg mh b">custom-directive</code>指令应用到VNode中。</p><h2 id="8be2" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">范围插槽和插槽</h2><p id="2c14" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过将指令设置为一个返回元素的函数来将槽传递到指令中。</p><p id="de5b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于作用域槽，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1bc2" class="mq lc iq mh b gy mr ms l mt mu">scopedSlots: {<br/>  default: props =&gt; createElement('span', props.text)<br/>}</span></pre><p id="a26a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于插槽，我们可以将值设置为插槽的名称。</p><h2 id="2594" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">其他特殊的顶级属性</h2><p id="49eb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">key</code>获取键，<code class="fe me mf mg mh b">ref</code>获取字符串引用名，<code class="fe me mf mg mh b">refInFor</code>是一个布尔值，如果同一个<code class="fe me mf mg mh b">ref</code>名应用于多个元素，则该布尔值为<code class="fe me mf mg mh b">true</code>。</p><h1 id="4bcf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">完整示例</h1><p id="4472" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以设置上面的属性，如下例所示:</p><p id="3d14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4b4b" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("anchor-text-block", {<br/>  render(createElement) {<br/>    const [slot] = this.$slots.default;<br/>    const headingId = slot.text.toLowerCase().replace(/ /g, "-");</span><span id="613e" class="mq lc iq mh b gy mv ms l mt mu">return createElement("div", [<br/>      createElement(<br/>        "a",<br/>        {<br/>          attrs: {<br/>            name: headingId,<br/>            href: `#${headingId}`<br/>          }<br/>        },<br/>        this.$slots.default<br/>      ),<br/>      createElement(<br/>        "p",<br/>        {<br/>          style: {<br/>            color: "green",<br/>            fontSize: this.fontSize<br/>          }<br/>        },<br/>        this.paragraphText<br/>      )<br/>    ]);<br/>  },<br/>  props: {<br/>    fontSize: {<br/>      type: Number,<br/>      required: true<br/>    },<br/>    paragraphText: {<br/>      type: String,<br/>      required: true<br/>    }<br/>  }<br/>});</span><span id="a9a8" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="b5da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4bdf" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;anchor-text-block paragraph-text="foo" :font-size="12"<br/>        &gt;link&lt;/anchor-text-block<br/>      &gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="76f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们创建了一个<code class="fe me mf mg mh b">anchor-text-block</code>组件，它支持<code class="fe me mf mg mh b">paragraph-text</code>和<code class="fe me mf mg mh b">font-size</code>，如组件代码中的<code class="fe me mf mg mh b">props</code>属性所示。</p><p id="d9f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">模板中的kebab case自动映射到JavaScript代码中的camelCase。</p><p id="e5f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">render</code>方法中，我们调用了<code class="fe me mf mg mh b">createElement</code>，它创建了一个<code class="fe me mf mg mh b">div</code>，然后在第二个参数中，我们创建了一个包含<code class="fe me mf mg mh b">a</code>和<code class="fe me mf mg mh b">p</code>元素的数组。这是我们传递两个道具的地方。</p><p id="928d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还将<code class="fe me mf mg mh b">attrs</code>属性设置为<code class="fe me mf mg mh b">#link</code>，因为我们将<code class="fe me mf mg mh b">link</code>作为槽的内部文本，因为这是我们在开始和结束标记之间添加的内容。</p><p id="c104" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">p</code>元素中，我们设置道具的<code class="fe me mf mg mh b">fontSize</code>样式，并将颜色设置为绿色。</p><h1 id="412b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="1966" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">render</code>函数来创建比我们通常的组件更灵活的组件。</p><p id="073b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以拥有组件通常拥有的一切，比如事件处理程序、指令、样式、属性、嵌套元素和组件等等。</p><h2 id="8ac2" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">JavaScript用简单的英语写的一个注释:</h2><p id="ce08" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p></div></div>    
</body>
</html>