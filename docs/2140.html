<html>
<head>
<title>JavaScript Best Practices — Strings and Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践—字符串和函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-best-practices-strings-and-functions-1dc905de6a55?source=collection_archive---------6-----------------------#2020-05-23">https://javascript.plainenglish.io/javascript-best-practices-strings-and-functions-1dc905de6a55?source=collection_archive---------6-----------------------#2020-05-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/38ffeca7f389a9f48401b318bb700247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3XpXvI2YX9B9Bksh"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@szutsi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Gábor Szűts</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="407b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="98e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究使用模板字符串和定义函数的最佳方式。</p><h1 id="f453" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用模板字符串</h1><p id="6ed2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该尽可能使用模板字符串。使用它们有很多好处。</p><p id="0b1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将JavaScript表达式放在字符串中，我们可以保存单引号和双引号来引用字符串中的文本。</p><p id="7a84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，它还可以用来创建多行字符串，因为我们可以通过键入来添加换行符，而不是显式地添加额外的换行符。</p><p id="ae43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用模板字符串:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2d81" class="mn lc iq mj b gy mo mp l mq mr">const name = 'jane';<br/>const greeting = `Hi, ${name}`;</span></pre><p id="a9e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有一个模板字符串，其中插入了表达式<code class="fe ms mt mu mj b">name</code>。我们通过使用<code class="fe ms mt mu mj b">${}</code>作为插值表达式的分隔符来实现这一点。</p><p id="8929" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">插值分隔符和表达式本身之间没有任何空格。</p><p id="c3ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个间距很好，因为我们已经有了分隔符将表达式与字符串的其余部分分开，所以我们不需要在表达式和分隔符之间有更多的间距。</p><p id="7888" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以如下创建一个多行字符串:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9c05" class="mn lc iq mj b gy mo mp l mq mr">const name = 'jane';<br/>const greeting = `Hi, <br/>${name}`;</span></pre><p id="c1ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ba84" class="mn lc iq mj b gy mo mp l mq mr">Hi, <br/>jane</span></pre><p id="4a14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe ms mt mu mj b">greeting</code>的价值。</p><p id="7444" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所看到的，我们所要做的就是输入一个额外的换行符。我们不必键入转义的换行符来创建换行符。</p><p id="33b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">模板字符串由反斜杠分隔，因此我们可以使用单引号和双引号来引用字符串中的文本。</p><h1 id="a219" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用函数表达式代替函数声明</h1><p id="22b4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在JavaScript中，有两种方法来定义函数。一个是函数表达式，另一个是函数声明。</p><p id="a1f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数声明定义如下:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fa62" class="mn lc iq mj b gy mo mp l mq mr">function foo() {<br/>  // ...<br/>}</span></pre><p id="e50a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有名为<code class="fe ms mt mu mj b">foo</code>的<code class="fe ms mt mu mj b">function</code>关键字，但我们没有将它赋给变量。</p><p id="2488" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数声明被放在顶部，这样它们就可以在我们代码的任何地方被引用。</p><p id="570a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数表达式是通过创建一个函数，然后将它赋给一个变量来定义的。</p><p id="19c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以创建如下函数表达式:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fd60" class="mn lc iq mj b gy mo mp l mq mr">const bar = function() {<br/>  // ...<br/>}</span><span id="d050" class="mn lc iq mj b gy mv mp l mq mr">const baz = () =&gt; {<br/>  //...<br/>}</span></pre><p id="012c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们定义了传统函数和箭头函数，并将它们分别赋给了一个变量。</p><p id="6ace" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些没有被提升，所以它们只能在被定义后被引用。</p><p id="dcc1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数表达式更好，因为我们不必担心当我们必须考虑提升时出现的混乱。</p><p id="4d93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">提升不利于可读性，因为提升后的函数可以在代码中的任何地方被引用。</p><p id="e869" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数表达式也适用于所有类型的函数，而不仅仅是传统函数。</p><p id="e008" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以在函数中放一个名字，但是这不是很有用，因为在它被赋值给变量后，我们不能用名字来引用它。</p><p id="73c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下代码:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6e97" class="mn lc iq mj b gy mo mp l mq mr">const bar = function foo() {<br/>  // ...<br/>}</span></pre><p id="3753" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们要调用函数为<code class="fe ms mt mu mj b">bar</code>而不是<code class="fe ms mt mu mj b">foo</code>。因此，这个额外的名字并不那么有用。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/804d137cae3ed1bf4a475b469d1abfad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YxbwVzFvQx4iVPoc"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@davidclode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">David Clode</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="99f2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将立即调用的函数表达式用括号括起来</h1><p id="bd0a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">立即调用的函数表达式(IIFEs)是定义后立即运行的函数。</p><p id="37f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在过去，它们对于封装数据很有用，但现在它对于创建异步函数并立即调用它们仍然很有用。</p><p id="495f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该把生活用括号括起来，以确保每个人都知道这是一种生活。</p><p id="c396" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下创建一个异步生命:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="410d" class="mn lc iq mj b gy mo mp l mq mr">((async () =&gt; {<br/>  const foo = await Promise.resolve(1);<br/>  console.log(foo);<br/>})())</span></pre><p id="20b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们将异步函数放在括号中，这样我们就可以用左括号和右括号立即调用它。</p><p id="e19f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们把整个表达式用括号括起来，这样每个人都知道它会立即运行。</p><h1 id="7443" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="3d47" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们创建字符串，我们应该使用模板字符串。它们允许我们在字符串中插入表达式，并释放单引号和双引号来引用文本。</p><p id="1fa2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该将函数定义为函数表达式，而不是函数声明，这样我们只能在它们被定义后调用它们。这样，阅读起来就容易多了，因为流程实际上是按顺序进行的。</p><p id="0d02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">生活应该用括号括起来，这样我们都知道它是一种生活。</p><h2 id="5011" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简明英语笔记</h2><p id="1019" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？你可以在我们的主页<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> plainenglish.io </strong> </a>上找到所有这些——关注我们的出版物并<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">来表达你的爱吧！</strong></p></div></div>    
</body>
</html>