<html>
<head>
<title>React Native Notifications with Server-Sent Events</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨æœåŠ¡å™¨å‘é€çš„äº‹ä»¶å¯¹æœ¬æœºé€šçŸ¥åšå‡ºååº”</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/react-native-local-notifications-with-server-sent-events-e1df2d2e3ffa?source=collection_archive---------1-----------------------#2019-11-29">https://javascript.plainenglish.io/react-native-local-notifications-with-server-sent-events-e1df2d2e3ffa?source=collection_archive---------1-----------------------#2019-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/b25584777acf274b9d5c7609b19e9561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dM95nEifsdQjKfVbQSrI0A.png"/></div></div></figure><div class=""/><ol class=""><li id="4b7f" class="jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><em class="kq">ä¸ºä»€ä¹ˆï¼Ÿä»€ä¹ˆï¼Ÿç­‰å¾…..ä½ åœ¨è¯´ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</em></li><li id="531c" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl km kn ko kp bi translated"><em class="kq">åœ¨Express Node.jsæœåŠ¡å™¨ä¸Šè®¾ç½®æœåŠ¡å™¨å‘é€çš„äº‹ä»¶</em></li><li id="9435" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl km kn ko kp bi translated"><em class="kq">åœ¨Reactæœ¬åœ°åº”ç”¨ä¸­ç›‘å¬æœåŠ¡å™¨å‘é€çš„äº‹ä»¶</em></li></ol></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="23b7" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><em class="mb"> 1ã€‚ä¸ºä»€ä¹ˆï¼Ÿä»€ä¹ˆï¼Ÿç­‰å¾…..ä½ åœ¨è¯´ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</em></h1><p id="642c" class="pw-post-body-paragraph mc md jb ka b kb me mf mg kd mh mi mj kf mk ml mm kh mn mo mp kj mq mr ms kl ij bi translated">æˆ‘æƒ³ä¸ºæˆ‘çš„Reactæœ¬æœºåº”ç”¨ç¨‹åºæä¾›ä¸€äº›é€šçŸ¥ï¼Œä½†æˆ‘è®¤ä¸ºæ¨é€é€šçŸ¥çœ‹èµ·æ¥éå¸¸å¤æ‚ï¼Œæ²¡æœ‰æ˜ç¡®çš„æ–¹æ³•æ¥è§£é‡Šå¦‚ä½•åšï¼Œä¸èµæˆä½¿ç”¨çš„åº“ç­‰ã€‚<em class="kq">(ç°åœ¨æˆ‘æ›´æ¸…æ¥šäº†ï¼Œå› ä¸º</em> <a class="ae mt" href="https://medium.com/swlh/rn-push-notifications-a-complete-guide-front-back-8c238fc81d28" rel="noopener"> <em class="kq">æˆ‘èŠ±äº†å¾ˆå¤šæ—¶é—´æŒ–æ˜è¿™ä¸ªä¸»é¢˜</em> </a> <em class="kq"> ) </em></p><p id="7ea9" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">æ‰€ä»¥æˆ‘æŒºéƒé—·çš„ï¼Œå› ä¸ºæˆ‘åœ¨appé‡Œå»ºäº†èŠå¤©ï¼Œæ²¡æœ‰æ¨é€é€šçŸ¥çš„èŠå¤©ä¸ç®—èŠå¤©ã€‚</p><p id="47c9" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">æ²¡æœ‰æ¨é€é€šçŸ¥çš„èŠå¤©ä¸ç®—èŠå¤©ï¼ŸçœŸçš„å—ï¼Ÿ</p><p id="710a" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">ç„¶åæˆ‘æ„è¯†åˆ°:æˆ‘çœŸçš„éœ€è¦æ¨é€é€šçŸ¥å—ï¼Ÿæˆ‘ä¸ªäººä¸€ç‚¹éƒ½ä¸å–œæ¬¢ä»–ä»¬ã€‚å¯¹æˆ‘è‡ªå·±æ¥è¯´ï¼Œæˆ‘æŠŠæˆ‘æ‰€æœ‰çš„èŠå¤©è½¯ä»¶(Messengerï¼ŒWhatsAppï¼Œç­‰ç­‰)å’Œé‚®ä»¶éƒ½å…³æ‰äº†ã€‚æˆ‘åªä¸ºæˆ‘çš„çŸ­ä¿¡ä¿ç•™å®ƒä»¬ï¼Œå› ä¸ºæˆ‘åªæ¥æ”¶æˆ‘å¦»å­çš„çŸ­ä¿¡ï¼Œä¸ºäº†æˆ‘çš„å©šå§»ï¼Œæœ€å¥½ä¸ºæˆ‘å¦»å­ä¿ç•™æ¨é€é€šçŸ¥â€¦</p><p id="0aea" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">æ‰€ä»¥æˆ‘æ”¹å˜äº†æˆ‘çš„åº”ç”¨ç¨‹åºçš„è§„æ ¼:ä¸¥æ ¼æ¥è¯´ï¼Œæˆ‘æƒ³è¦çš„ä¸æ˜¯æ¨é€é€šçŸ¥ã€‚æˆ‘æƒ³è¦çš„æ˜¯:</p><ul class=""><li id="a761" class="jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl mx kn ko kp bi translated">å½“æˆ‘çš„åº”ç”¨ç¨‹åºåœ¨åå°æ—¶ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿâ€”â€”å› ä¸ºè¿™æ˜¯æ¨é€é€šçŸ¥çš„åŒºåŸŸï¼Œæˆ‘ç°åœ¨æ²¡æœ‰èƒ½åŠ›è®¾ç½®å®ƒä»¬ã€‚æˆ‘ä¸æƒ³è¦ä»–ä»¬ï¼Œæ›´é‡è¦çš„æ˜¯ã€‚æ˜¯çš„ï¼Œå°±æ˜¯è¿™æ ·:ä¸æ˜¯æˆ‘<em class="kq">ä¸èƒ½</em>å®ç°å®ƒä»¬ï¼Œè€Œæ˜¯æˆ‘<em class="kq">ä¸æƒ³</em>å®ç°å®ƒä»¬ã€‚ç”šè‡³æ›´å¥½ã€‚</li><li id="0a01" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">å½“æˆ‘çš„åº”ç”¨ç¨‹åºä»åå°è½¬åˆ°å‰å°æ—¶ï¼Œæˆ–è€…å½“å®ƒä»å¤´å¼€å§‹æ‰“å¼€æ—¶ï¼Œä»¥æŸç§é€šçŸ¥çš„å½¢å¼æ˜¾ç¤ºæ–°æ¶ˆæ¯ã€‚è¿™å¾ˆç®€å•ï¼Œåªéœ€ä»æˆ‘çš„æœåŠ¡å™¨ä¸Šè·å–:é—®é¢˜ç”šè‡³åœ¨æ‹¥æœ‰å®ƒä¹‹å‰å°±å·²ç»è§£å†³äº†ã€‚</li><li id="472a" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">å½“æˆ‘çš„åº”ç”¨ç¨‹åºåœ¨å‰å°æ—¶ï¼Œå¦‚æœæœ‰å…¶ä»–ç”¨æˆ·çš„æ–°æ¶ˆæ¯ï¼Œå°±ä»ä»–ä»¬é‚£é‡Œè·å–ã€‚ä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œè¿™æ„å‘³ç€:<strong class="ka jc">æˆ‘éœ€è¦åº”ç”¨ç¨‹åºç›‘å¬æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœåŠ¡å™¨åœ¨éœ€è¦æ—¶å‘é€æ•°æ®</strong>ã€‚</li></ul><p id="4b42" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">é‚£æ˜¯æˆ‘åœ¨æœ‹å‹Googleä¸ŠæŒ–çš„ï¼Œæˆ‘å‘ç°äº†ç¥å¥‡çš„ä¸œè¥¿:<strong class="ka jc">æœåŠ¡å™¨å‘é€äº‹ä»¶</strong>ï¼Œä¹Ÿå«<strong class="ka jc"> SSEã€‚</strong>æˆ‘å«ä»–ä»¬å¤ªå¤šSSEäº†ï¼Œæˆ‘éƒ½å¿˜äº†å•è¯çš„æ„æ€äº†ï¼Œæˆ‘ä¹Ÿç»å¸¸å«æŠ€æœ¯æœåŠ¡å™¨- <em class="kq">ç«¯</em>äº‹ä»¶ï¼Œä¸è¿‡åæ­£ã€‚</p><p id="53e1" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">ä½ çŒœæ€ä¹ˆç€:æˆ‘èŠ±äº†2åˆ°3ä¸ªå°æ—¶åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­è®¾ç½®è¿™ä¸ªï¼Œæ—¶é—´åŒ…æ‹¬è°·æ­Œæœç´¢ã€ç¼–ç éƒ¨åˆ†ã€ç¼–ç éƒ¨åˆ†çš„å¤±è´¥å’Œæœ€åçš„æˆåŠŸï¼Œå…¶ä¸­æ¨é€é€šçŸ¥èŠ±äº†æˆ‘è‡³å°‘15ä¸ªå°æ—¶ã€‚</p><p id="f720" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">æ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="1bdb" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><em class="mb"> 2ã€‚åœ¨Express Node.jsæœåŠ¡å™¨ä¸Šè®¾ç½®æœåŠ¡å™¨å‘é€çš„äº‹ä»¶</em></h1><p id="7f64" class="pw-post-body-paragraph mc md jb ka b kb me mf mg kd mh mi mj kf mk ml mm kh mn mo mp kj mq mr ms kl ij bi translated">å—¯ï¼Œæ²¡æœ‰æ¯”åœ¨é‚£é‡Œæ”¾ä¸€æ®µä»£ç ï¼ŒåŠ ä¸Šæ³¨é‡Šæ›´å¥½çš„è§£é‡Šäº†ã€‚</p><p id="3aeb" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">åªæ˜¯ç»™ä½ ä¸ªèƒŒæ™¯:æˆ‘çš„Node.js appæ˜¯ç”¨Express 4.16.4æ„å»ºçš„ã€‚</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="9942" class="nh le jb nd b gy ni nj l nk nl">const { getUserId } = require('../handlers/getUserId');</span><span id="847f" class="nh le jb nd b gy nm nj l nk nl">const SSE_RESPONSE_HEADER = {<br/>  'Connection': 'keep-alive',<br/>  'Content-Type': 'text/event-stream',<br/>  'Cache-Control': 'no-cache',<br/>  'X-Accel-Buffering': 'no'<br/>};</span><span id="a4ee" class="nh le jb nd b gy nm nj l nk nl"><em class="kq">// We can't store our streams in database as they are response objects with javascript functions included</em></span><span id="b522" class="nh le jb nd b gy nm nj l nk nl">global.usersStreams = {}</span><span id="2796" class="nh le jb nd b gy nm nj l nk nl"><br/>exports.setupStream = (req, res, next) =&gt; {</span><span id="0d2c" class="nh le jb nd b gy nm nj l nk nl">  let userId = getUserId(req);<br/>  if (!userId) {<br/>    next({ message: 'stream.no-user' })<br/>    return;<br/>  }</span><span id="f071" class="nh le jb nd b gy nm nj l nk nl">  <em class="kq">// Store this connection</em><br/>  global.usersStreams[userId] = {<br/>    res,<br/>    lastInteraction: null,<br/>  }</span><span id="87da" class="nh le jb nd b gy nm nj l nk nl"><em class="kq">  // Writes response header</em><br/>  res.writeHead(200, SSE_RESPONSE_HEADER);<br/></span><span id="4192" class="nh le jb nd b gy nm nj l nk nl"><em class="kq">  // Note: Heatbeat for avoidance of client's request timeout of first time (30 sec, can be fine tuned)</em><br/>  res.write(`data: ${JSON.stringify({type: 'heartbeat' })}\n\n`);<br/>  global.usersStreams[userId].lastInteraction = Date.now()<br/></span><span id="0788" class="nh le jb nd b gy nm nj l nk nl"><em class="kq">// Interval loop</em><br/>  const maxInterval = 55000;<br/>  const interval = 3000;<br/>  let intervalId = setInterval(function() {<br/>    if (!global.usersStreams[userId]) return;<br/>    if (Date.now() - global.usersStreams[userId].lastInteraction &lt; maxInterval) return;<br/>    res.write(`data: ${JSON.stringify({type: 'heartbeat'})}\n\n`);<br/>    global.usersStreams[userId].lastInteraction = Date.now()<br/>  }, interval);</span><span id="277c" class="nh le jb nd b gy nm nj l nk nl">function cleanConnection() {<br/>  let userId = getUserId(req);<br/>  clearInterval(intervalId);<br/>  delete global.usersStreams[userId];<br/>}</span><span id="833a" class="nh le jb nd b gy nm nj l nk nl">req.on("close", cleanConnection);</span><span id="de52" class="nh le jb nd b gy nm nj l nk nl">req.on("end", cleanConnection);</span><span id="ffe5" class="nh le jb nd b gy nm nj l nk nl">};</span><span id="8fa8" class="nh le jb nd b gy nm nj l nk nl">exports.sendStream = async (userId, data) =&gt; {</span><span id="a98b" class="nh le jb nd b gy nm nj l nk nl">if (!userId) return;<br/>  if (!global.usersStreams[userId]) return;<br/>  if (!data) return;</span><span id="aee3" class="nh le jb nd b gy nm nj l nk nl">const { res } = global.usersStreams[userId];</span><span id="03bd" class="nh le jb nd b gy nm nj l nk nl">res.write(`data: ${JSON.stringify(data)}\n\n`);<br/>  global.usersStreams[userId].lastInteraction = Date.now();</span><span id="b4d8" class="nh le jb nd b gy nm nj l nk nl">};</span></pre><p id="4702" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">ä¸Šé¢çš„ä»£ç è¿è¡Œè‰¯å¥½ï¼Œå¦‚æœæˆ‘å‚è€ƒä¸€äº›ä¸“å®¶çš„è¯<a class="ae mt" href="https://stackoverflow.com/a/58823176/5225096" rel="noopener ugc nofollow" target="_blank">è¿˜ä¸é”™ï¼Œä½†æˆ‘ç¡®ä¿¡å®ƒåº”è¯¥å¾—åˆ°æ”¹è¿›ï¼Œæˆ‘å¾ˆå¥½å¥‡ä½ å¯¹æ­¤æœ‰ä»€ä¹ˆçœ‹æ³•ã€‚</a></p><p id="0df1" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">æ‰€ä»¥è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹é‡è¦çš„äº‹æƒ…:</p><ul class=""><li id="de87" class="jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl mx kn ko kp bi translated">ä¸€ä¸ª<code class="fe nn no np nd b">keep-alive</code>è¿æ¥éœ€è¦è¢«åˆºæ¿€ä»¥ä¿æŒæ´»è·ƒã€‚å¯ä»¥åœ¨ä¸»é¢˜ä¸Šæ‰¾åˆ°ä¸€äº›<a class="ae mt" href="https://contourline.wordpress.com/2011/03/30/preventing-server-timeout-in-node-js/" rel="noopener ugc nofollow" target="_blank">åšå®¢å¸–å­</a>ä»¥äº†è§£åº”è¯¥å¤šé•¿æ—¶é—´åˆºæ¿€ä¸€æ¬¡ï¼Œå¹¶ä¸”ä¼¼ä¹å¯¹äºNode.jsï¼Œè¿æ¥åœ¨2åˆ†é’Ÿè¶…æ—¶åå…³é—­ã€‚æˆ‘æ²¡æœ‰å‘ç°ä»»ä½•ç²¾ç¡®çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘è®¾ç½®äº†ä¸€ä¸ª55ç§’çš„è¶…æ—¶(ä»£ç ä¸­çš„<code class="fe nn no np nd b">maxInterval</code>),å®ƒå·¥ä½œäº†ã€‚</li><li id="17bf" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">æ³¨æ„ä½ éœ€è¦å‚¨å­˜çš„æ˜¯<code class="fe nn no np nd b">response</code>ï¼Œè€Œä¸æ˜¯<code class="fe nn no np nd b">request</code>ã€‚è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨<code class="fe nn no np nd b">response.write</code>ã€‚ä¸æ˜¯<code class="fe nn no np nd b">request.write</code>ã€‚</li><li id="5590" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">å“åº”å¯¹è±¡ä¸èƒ½å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œå› ä¸ºå®ƒä¸èƒ½åºåˆ—åŒ–å’Œé‡æ–°è†¨èƒ€ï¼Œæ‰€ä»¥å®ƒéœ€è¦å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚ä¸éœ€è¦<code class="fe nn no np nd b">global</code>å˜é‡æ˜¯å› ä¸ºä½ ä¸åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒã€‚</li></ul><p id="5b28" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">ç°åœ¨è¦å†™çš„å†…å®¹æµ(<code class="fe nn no np nd b">===</code>ä½ å‘é€çš„)ï¼Œæˆ‘èŠ±äº†ä¸€äº›æ—¶é—´æ¥ç†è§£å¦‚ä½•ç»„ç»‡å®ƒã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ åªçœ‹åˆ°<code class="fe nn no np nd b"><strong class="ka jc">res.write('data:</strong> some bullshit<strong class="ka jc">\n\n')</strong></code>çš„åŸå› ï¼Œå› ä¸ºæˆ‘åœ¨ä¸€ä¸ªæœˆå‰å†™äº†ä»£ç ï¼Œæˆ‘è¿˜æ²¡æœ‰æƒ³å‡ºå¦‚ä½•ä½¿äº‹æƒ…æ­£å¸¸è¿›è¡Œã€‚ç°åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æƒ³è§£å¼€è¿™ä¸ªè°œï¼Œæˆ‘åšåˆ°äº†ï¼ä»¥ä¸‹æ˜¯æˆ‘äº†è§£åˆ°çš„æƒ…å†µï¼Œä»¥åŠè§„æ ¼è¯´æ˜ä¸­æåˆ°çš„å†…å®¹:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="6bc5" class="nh le jb nd b gy ni nj l nk nl">res.write('id: 12345\n')<br/>res.write(':lines starting with : are comments and will be ignored')<br/>res.write('event: message\n')<br/>res.write('retry: 5000\n')<br/>res.write(`data: ${JSON.stringify(anyDataObject)}\n\n`) </span></pre><ul class=""><li id="e99c" class="jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl mx kn ko kp bi translated">æ­£å¦‚<code class="fe nn no np nd b">Content-Type: text/event-stream</code>å‘Šè¯‰æˆ‘ä»¬çš„ï¼Œæˆ‘ä»¬çš„æµåªæœ‰æ–‡æœ¬ã€‚è¿™ä¹Ÿæ„å‘³ç€å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åŒ–JSONã€‚æ‰€ä»¥è®©æˆ‘ä»¬æŠŠæˆ‘ä»¬æ­£åœ¨å‘é€çš„æ–‡æœ¬ç§°ä¸º:<strong class="ka jc">æ–‡æœ¬</strong>ï¼Œè¿™æ ·æˆ‘ä»¬å®é™…ä¸Šå°±åšäº†<code class="fe nn no np nd b">res.write(TEXT)</code></li><li id="1064" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">a <code class="fe nn no np nd b">response</code>ç­‰çœ‹äº†<code class="fe nn no np nd b">\n\n</code>æ‰çŸ¥é“å†…å®¹å·²ç»å†™å®Œäº†ï¼Œå¯ä»¥å‘é€äº†ã€‚</li><li id="f589" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">ä¸€æ¬¡å¯ä»¥å‘é€å¤šæ¡æ–‡æœ¬:éœ€è¦ç”¨<code class="fe nn no np nd b">\n</code>å°†å®ƒä»¬åˆ†å¼€</li><li id="8e3a" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">ä»¥<code class="fe nn no np nd b">:</code>å¼€å¤´çš„è¡Œå°†è¢«è§†ä¸ºæ³¨é‡Šï¼Œå°†è¢«çœç•¥ã€‚</li><li id="0326" class="jy jz jb ka b kb kr kd ks kf kt kh ku kj kv kl mx kn ko kp bi translated">å¦‚æœä¸€è¡Œä¸æ˜¯ä»¥<code class="fe nn no np nd b">:</code>å¼€å§‹ï¼Œè€Œæ˜¯åŒ…å«åœ¨ä¸­é—´ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥è¢«è§£é‡Šä¸ºä¸€ä¸ªå­—æ®µ/å€¼è¡Œï¼Œåªæœ‰å››ä¸ªå¯ç”¨å­—æ®µ</li></ul><p id="d909" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated"><strong class="ka jc">äº‹ä»¶:</strong>äº‹ä»¶çš„ç±»å‹ã€‚å®ƒå°†å…è®¸æ‚¨å¯¹ä¸åŒçš„å†…å®¹ä½¿ç”¨ç›¸åŒçš„æµã€‚<strong class="ka jc">å®¢æˆ·å¯ä»¥å†³å®šåªâ€œå¬â€ä¸€ç§ç±»å‹çš„äº‹ä»¶</strong>ï¼Œæˆ–è€…å¯¹æ¯ç§äº‹ä»¶ç±»å‹åšå‡ºä¸åŒçš„è§£é‡Šã€‚</p><p id="99ec" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated"><strong class="ka jc">æ•°æ®:</strong>æ¶ˆæ¯çš„æ•°æ®å­—æ®µã€‚ä½ å¯ä»¥æŠŠè¿ç»­çš„â€œæ•°æ®â€çº¿ã€‚</p><p id="506a" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated"><strong class="ka jc"> ID </strong>:æ¯ä¸ªäº‹ä»¶æµçš„IDã€‚æœ‰åŠ©äºè·Ÿè¸ªä¸¢å¤±çš„é‚®ä»¶ã€‚</p><p id="2e8e" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated"><strong class="ka jc">é‡è¯•:</strong>è¿™æ˜¯ä¸€ä¸ªæˆ‘è¿˜ä¸ä¼šä½¿ç”¨çš„å­—æ®µï¼Œå› ä¸ºæˆ‘ä¸æ˜ç™½ä¸ºä»€ä¹ˆæˆ‘ä¼šéœ€è¦å®ƒï¼Œä½†æ˜¯ä¸ºäº†æ‚¨çš„ä¿¡æ¯<a class="ae mt" href="https://apifriends.com/api-streaming/server-sent-events/" rel="noopener ugc nofollow" target="_blank">æˆ‘æ‰¾åˆ°äº†è¿™ä¸ªè§£é‡Š</a>:</p><blockquote class="nq nr ns"><p id="9b8e" class="mc md kq ka b kb kc mf mg kd ke mi mj nt mu ml mm nu mv mo mp nv mw mr ms kl ij bi translated">æ‰€æœ‰è¿æ¥ä¸¢å¤±åï¼Œæµè§ˆå™¨å°è¯•æ–°è¿æ¥ä¹‹å‰æ‰€ç”¨çš„æ—¶é—´(æ¯«ç§’)ã€‚é‡æ–°è¿æ¥è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œé»˜è®¤è®¾ç½®ä¸º3ç§’ã€‚åœ¨è¿™ä¸ªé‡æ–°è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œæœ€åæ”¶åˆ°çš„IDå°†è‡ªåŠ¨å‘é€åˆ°æœåŠ¡å™¨â€¦ â€¦è¿™éœ€è¦ä½ è‡ªå·±ç”¨Websocketsæˆ–é•¿è½®è¯¢æ¥ç¼–ç ã€‚</p></blockquote><p id="5e5e" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">åç«¯å°±æ˜¯è¿™æ ·ã€‚å¾ˆç®€å•ï¼Œå¯¹å§ï¼Ÿ</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="1aff" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><em class="mb"> 3ã€‚åœ¨Reactæœ¬åœ°åº”ç”¨ä¸­ç›‘å¬æœåŠ¡å™¨å‘é€çš„äº‹ä»¶</em></h1><p id="03d4" class="pw-post-body-paragraph mc md jb ka b kb me mf mg kd mh mi mj kf mk ml mm kh mn mo mp kj mq mr ms kl ij bi translated">è¿™ä¸€éƒ¨åˆ†ä¹Ÿå¾ˆç®€å•:æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ª<a class="ae mt" href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource" rel="noopener ugc nofollow" target="_blank">äº‹ä»¶æº</a>ã€‚æˆ‘<a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source" rel="noopener ugc nofollow" target="_blank">çœ‹åˆ°</a> <code class="fe nn no np nd b"><a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source" rel="noopener ugc nofollow" target="_blank">react-native-event-source </a></code> <a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source" rel="noopener ugc nofollow" target="_blank"> lib </a>åœ¨ä¸ºReact Nativeåšè¿™ä¸ªå·¥ä½œ(å…¶å®åªæ˜¯JSï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åœ¨React Nativeä¹‹å¤–ä½¿ç”¨)ï¼Œä½†æ˜¯åœ¨æˆ‘çš„ä»£ç é‡Œæ²¡æœ‰ç”¨ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚æ‰€ä»¥æˆ‘æ‰€åšçš„æ˜¯åœ¨æˆ‘çš„ä»£ç ä¸­æ®‹é…·åœ°å¤åˆ¶ç²˜è´´<code class="fe nn no np nd b"><a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/master/index.js" rel="noopener ugc nofollow" target="_blank">RNEventSource</a></code> <a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/master/index.js" rel="noopener ugc nofollow" target="_blank">ç±»ä»£ç </a>ï¼Œä»¥åŠ<code class="fe nn no np nd b"><a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/master/EventSource.js" rel="noopener ugc nofollow" target="_blank">EventSource polyfill</a></code> <a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/master/EventSource.js" rel="noopener ugc nofollow" target="_blank">å’Œ</a>:ç„¶åå®ƒåœ¨æˆ‘çš„ä»£ç ä¸­å·¥ä½œå¾—éå¸¸å¥½ã€‚</p><p id="486d" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">è¿™å°±æ˜¯äº†ï¼</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="a05a" class="nh le jb nd b gy ni nj l nk nl">import React from 'react';<br/>import { AppState } from 'react-native';<br/>import { BACKEND } from '../api';<br/>import RNEventSource from '../event-source';</span><span id="6970" class="nh le jb nd b gy nm nj l nk nl">class Notifications extends React.Component {<br/>  state = {<br/>    appState: AppState.currentState,<br/>  };</span><span id="0ee1" class="nh le jb nd b gy nm nj l nk nl">  componentDidMount() {<br/>    AppState.addEventListener('change', this._handleAppStateChange);<br/>    this.startStream();<br/>  }</span><span id="bf1a" class="nh le jb nd b gy nm nj l nk nl">  _handleAppStateChange = async nextAppState =&gt; {<br/>    const { appState } = this.state;<br/>    const inactive = /inactive|background/;<br/>    const active = /active/;<br/>    if (appState.match(inactive) &amp;&amp; nextAppState.match(active)) {<br/>      this.startStream();<br/>    }<br/>    if (appState.match(active) &amp;&amp; nextAppState.match(inactive)) {<br/>      this.endStream();<br/>    }<br/>    this.setState({ appState: nextAppState });<br/>  };</span><span id="4a74" class="nh le jb nd b gy nm nj l nk nl">  requestStreamWithBackend = userId =&gt; {<br/>    return new RNEventSource(`${BACKEND}/stream/${userId}`);<br/>  }<br/>  <br/>  startStream = () =&gt; {<br/>    if (this.streamStarted) return;<br/>    try {<br/>      const { userId, catchServerSideEventRequested } = this.props;<br/>      this.eventSource = this.requestStreamWithBackend(userId);<br/>      this.eventSource.addEventListener('message', message =&gt; {<br/>        catchServerSideEventRequested(message);<br/>      });<br/>      this.streamStarted = true;<br/>    } catch (e) {<br/>      console.log('startstream error', e);<br/>    }<br/>  };</span><span id="a20d" class="nh le jb nd b gy nm nj l nk nl">  endStream = () =&gt; {<br/>    if (!this.eventSource) return;<br/>    this.eventSource.removeAllListeners();<br/>    this.eventSource.close();<br/>    this.streamStarted = false;<br/>  };</span><span id="2078" class="nh le jb nd b gy nm nj l nk nl">  componentWillUnmount() {<br/>    this.endStream();<br/>  }</span><span id="b20c" class="nh le jb nd b gy nm nj l nk nl">  render() {<br/>    return null;<br/>  }<br/>}</span><span id="5eb5" class="nh le jb nd b gy nm nj l nk nl">export default Notifications;</span></pre><p id="a60b" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">çœ‹ç€è¿™æ®µä»£ç ï¼Œæ‚¨å¯èƒ½ä¼šæƒ³:å¦‚æœæˆ‘ä¸€ç›´åœ¨æ¸²æŸ“<code class="fe nn no np nd b">null</code>ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦ä½¿ç”¨Reactç»„ä»¶ï¼Ÿé¦–å…ˆï¼Œæˆ‘åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­è®¾ç½®äº†<code class="fe nn no np nd b">redux</code>å’Œ<code class="fe nn no np nd b">redux-saga</code>ï¼Œä½†æ˜¯æˆ‘å¯¹<code class="fe nn no np nd b">redux-saga</code>çš„<code class="fe nn no np nd b">channel</code>è®¾ç½®ä¸å¤ªé€‚åº”ï¼Œè¿™æ˜¯æˆ‘å®Œæˆè¿™é¡¹å·¥ä½œæ‰€éœ€è¦çš„ã€‚ç¬¬äºŒæ˜¯<code class="fe nn no np nd b">React.Component</code>ç”Ÿå‘½å‘¨æœŸå®é™…ä¸Šéå¸¸é€‚åˆå¤„ç†æµçš„æ‰“å¼€/é‡å¯/å…³é—­å¾ªç¯:æ˜“äºç¼–å†™ï¼Œæ˜“äºç†è§£â€¦â€¦å¯¹æˆ‘æ¥è¯´éå¸¸å®Œç¾ã€‚ç¬¬ä¸‰:æˆ‘å®é™…ä¸Šæœ€ç»ˆåœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºäº†é€šçŸ¥ï¼Œè¿™æ˜¯æˆ‘åœ¨æœ€ç»ˆä»£ç ä¸­å‘ˆç°çš„â€¦</p><p id="bf41" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">åæ­£é‚£é‡Œæ²¡ä»€ä¹ˆéš¾æ‡‚çš„ã€‚</p><p id="f84b" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">ä½†æ˜¯æœ‰ä¸€ä»¶äº‹æˆ‘èŠ±äº†å¤ªå¤šæ—¶é—´æ‰æ˜ç™½:<code class="fe nn no np nd b">res.write('event: an-event-type\n')</code>å’Œ<code class="fe nn no np nd b">this.eventSource.addEventListener('message', ...)</code>ä¹‹é—´çš„å…³ç³»ã€‚æ¯æ¬¡æˆ‘åœ¨æˆ‘çš„åç«¯è®¾ç½®ä¸€ä¸ªäº‹ä»¶â€”â€”æ¯”å¦‚<code class="fe nn no np nd b">chat-message</code>æˆ–<code class="fe nn no np nd b">test</code>æˆ–<code class="fe nn no np nd b">prout</code>(è¿™æ˜¯æˆ‘åœ¨æµ‹è¯•æ—¶ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªè¯)â€”â€”æˆ‘åœ¨æˆ‘çš„å‰ç«¯çœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ã€‚ç›´åˆ°<a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/98b8730621f4ffeca865354ed7d2d22a8795a6bd/EventSource.js#L108" rel="noopener ugc nofollow" target="_blank">æˆ‘åœ¨</a> <code class="fe nn no np nd b"><a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/98b8730621f4ffeca865354ed7d2d22a8795a6bd/EventSource.js#L108" rel="noopener ugc nofollow" target="_blank">EventSource</a></code> <a class="ae mt" href="https://github.com/jordanbyron/react-native-event-source/blob/98b8730621f4ffeca865354ed7d2d22a8795a6bd/EventSource.js#L108" rel="noopener ugc nofollow" target="_blank"> polyfill </a>ä¸­æŒ–æ˜å‘ç°:</p><pre class="my mz na nb gt nc nd ne nf aw ng bi"><span id="bbe7" class="nh le jb nd b gy ni nj l nk nl">eventsource.dispatchEvent(eventType || 'message', event);</span></pre><p id="08dd" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">è¿™æ„å‘³ç€è¦ç”¨<code class="fe nn no np nd b">res.write('event: chat-message\n')</code>æ¥æ”¶æµï¼Œéœ€è¦è®¾ç½®<code class="fe nn no np nd b">this.eventSource.addEventListener('chat-message', ...)</code>ã€‚</p><p id="2f79" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">å½“ä½ çŸ¥é“æ—¶ï¼Œè¿™å¬èµ·æ¥å¯èƒ½å¾ˆæ„šè ¢â€”â€”å¯¹æˆ‘æ¥è¯´ç¡®å®å¦‚æ­¤ï¼Œä½†æˆ‘å¯ä»¥å‘Šè¯‰ä½ :æˆ‘èŠ±äº†å‡ ä¸ªå°æ—¶è¯•å›¾äº†è§£é”™è¯¯æ˜¯æ¥è‡ªåç«¯ï¼Œè¿˜æ˜¯æ¥è‡ªå‰ç«¯ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆâ€¦</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="a2e0" class="ld le jb bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">ç»“è®º</h1><p id="9237" class="pw-post-body-paragraph mc md jb ka b kb me mf mg kd mh mi mj kf mk ml mm kh mn mo mp kj mq mr ms kl ij bi translated">è¿™ç¯‡æ–‡ç« åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘è®¤ä¸ºå®ƒç›¸å½“ç›´æˆªäº†å½“ï¼Œä½†è¯·å‘Šè¯‰æˆ‘æ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒä»¥ä½¿å®ƒå˜å¾—æ›´å¥½ã€‚</p><p id="3182" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">æœ€åä¸€ä»¶äº‹ï¼Œå›åˆ°ä¸æ¨é€é€šçŸ¥çš„æ¯”è¾ƒ:æˆ‘ä»¬åˆšåˆšåœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº<strong class="ka jc">ä¸­è®¾ç½®çš„æ˜¯</strong>æ¨é€é€šçŸ¥ç³»ç»Ÿï¼Œä½†åªæœ‰å½“åº”ç”¨ç¨‹åºåœ¨å‰å°æ—¶ã€‚è€ŒApple for iOSæˆ–Google for Androidå¤„ç†çš„æ¨é€é€šçŸ¥ç³»ç»Ÿå¯èƒ½å¹¶æ²¡æœ‰ä¸¥æ ¼ä½¿ç”¨SSEï¼Œä½†æˆ‘çŒœå®ƒæ˜¯ä¸€ç§éµå¾ªç›¸åŒåŸç†çš„æŠ€æœ¯:<strong class="ka jc">ä»»ä½•æ¨é€é€šçŸ¥éƒ½éœ€è¦æœåŠ¡å™¨å‘é€ä¸€ä¸ªæµç»™æ­£åœ¨ç›‘å¬æœåŠ¡å™¨çš„è½¯ä»¶ã€‚</strong>å¯¹äºè‹¹æœ/è°·æ­Œæ¨é€é€šçŸ¥ï¼Œæ˜¯è‹¹æœ/è°·æ­ŒæœåŠ¡å™¨é€šè¿‡æŸç§<em class="kq">(æˆ‘ä¸çŸ¥é“)</em>æ–¹æ³•<em class="kq"> </em>å‘é€é€šçŸ¥åˆ°iOS/Androidè½¯ä»¶ï¼Œç›‘å¬ä»–ä»¬çš„æœåŠ¡å™¨ã€‚å¯¹äºæˆ‘ä»¬çš„æœ¬åœ°é€šçŸ¥ï¼Œæ˜¯æˆ‘ä»¬é€šè¿‡æœåŠ¡å™¨å‘é€çš„äº‹ä»¶å‘æˆ‘ä»¬çš„åº”ç”¨è½¯ä»¶å‘é€é€šçŸ¥ã€‚</p><p id="c1ae" class="pw-post-body-paragraph mc md jb ka b kb kc mf mg kd ke mi mj kf mu ml mm kh mv mo mp kj mw mr ms kl ij bi translated">å¥³å£«ä»¬ï¼Œå…ˆç”Ÿä»¬ï¼Œå¥³å£«ä»¬ï¼Œå…ˆç”Ÿä»¬ï¼Œå¹²æ¯</p><h1 id="9199" class="ld le jb bd lf lg nw li lj lk nx lm ln lo ny lq lr ls nz lu lv lw oa ly lz ma bi">ğŸ»</h1><h1 id="da0d" class="ld le jb bd lf lg nw li lj lk nx lm ln lo ny lq lr ls nz lu lv lw oa ly lz ma bi translated">å‚è€ƒ</h1><figure class="my mz na nb gt is"><div class="bz fp l di"><div class="ob oc l"/></div></figure><div class="ip iq gp gr ir od"><a href="https://www.html5rocks.com/en/tutorials/eventsource/basics/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jc gy z fp oi fr fs oj fu fw ja bi translated">ä½¿ç”¨æœåŠ¡å™¨å‘é€çš„äº‹ä»¶æµæ›´æ–°- HTML5 Rocks</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">å¦‚æœæ‚¨æ— æ„ä¸­çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œå¹¶å¯¹â€œæœåŠ¡å™¨å‘é€äº‹ä»¶(SSEs)åˆ°åº•æ˜¯ä»€ä¹ˆâ€æ„Ÿåˆ°ç–‘æƒ‘ï¼Œæˆ‘ä¸ä¼šæ„Ÿåˆ°æƒŠè®¶â€¦</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">www.html5rocks.com</p></div></div><div class="om l"><div class="on l oo op oq om or ix od"/></div></div></a></div><div class="ip iq gp gr ir od"><a href="https://apifriends.com/api-streaming/server-sent-events/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jc gy z fp oi fr fs oj fu fw ja bi translated">ç”¨ç”¨ä¾‹è§£é‡ŠæœåŠ¡å™¨å‘é€çš„äº‹ä»¶</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">åœ¨è¿‡å»å‡ ä¸ªæœˆä¸è®¸å¤šå¼€å‘äººå‘˜è®¨è®ºåï¼Œæˆ‘æ„è¯†åˆ°ä»–ä»¬ä¸­çš„å¾ˆå¤§ä¸€éƒ¨åˆ†â€¦</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">apifriends.com</p></div></div><div class="om l"><div class="os l oo op oq om or ix od"/></div></div></a></div><div class="ip iq gp gr ir od"><a href="https://jasonbutz.info/2018/08/server-sent-events-with-node/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jc gy z fp oi fr fs oj fu fw ja bi translated">æœåŠ¡å™¨å‘é€çš„å¸¦æœ‰èŠ‚ç‚¹çš„äº‹ä»¶</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">æœåŠ¡å™¨å‘é€äº‹ä»¶(SSEs)å…è®¸ä»æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å•å‘é€šä¿¡ã€‚ä»–ä»¬å¯ä»¥éå¸¸æœ‰ç”¨çš„ä¸œè¥¿â€¦</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">jasonbutz.info</p></div></div><div class="om l"><div class="ot l oo op oq om or ix od"/></div></div></a></div><div class="ip iq gp gr ir od"><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jc gy z fp oi fr fs oj fu fw ja bi translated">äº‹ä»¶æº</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">EventSourceæ¥å£æ˜¯webå†…å®¹ä¸æœåŠ¡å™¨å‘é€çš„äº‹ä»¶çš„æ¥å£ã€‚EventSourceå®ä¾‹æ‰“å¼€ä¸€ä¸ªæŒä¹…çš„â€¦</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">developer.mozilla.org</p></div></div><div class="om l"><div class="ou l oo op oq om or ix od"/></div></div></a></div><div class="ip iq gp gr ir od"><a href="https://github.com/jordanbyron/react-native-event-source" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jc gy z fp oi fr fs oj fu fw ja bi translated">çº¦æ—¦æ‹œä¼¦/ååº”-æœ¬åœ°-äº‹ä»¶-æ¥æº</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">Reactæœ¬æœºåº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨å‘é€äº‹ä»¶ï¼åŸºäº@remyçš„EventSource polyfillã€‚åœ¨æ‚¨çš„â€¦ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">github.com</p></div></div><div class="om l"><div class="ov l oo op oq om or ix od"/></div></div></a></div><div class="ip iq gp gr ir od"><a href="https://www.w3.org/TR/2009/WD-eventsource-20090421/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd jc gy z fp oi fr fs oj fu fw ja bi translated">æœåŠ¡å™¨å‘é€çš„äº‹ä»¶</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">è¯¥è§„èŒƒå®šä¹‰äº†ä¸€ä¸ªAPIï¼Œç”¨äºæ‰“å¼€HTTPè¿æ¥ï¼Œä»¥ä¾¿ä»æœåŠ¡å™¨æ¥æ”¶æ¨é€é€šçŸ¥â€¦</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">www.w3.org</p></div></div></div></a></div></div></div>    
</body>
</html>