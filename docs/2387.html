<html>
<head>
<title>JavaScript Basics — Higher-Order Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript基础——高阶函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-basics-higher-order-functions-bf793924880?source=collection_archive---------5-----------------------#2020-06-19">https://javascript.plainenglish.io/javascript-basics-higher-order-functions-bf793924880?source=collection_archive---------5-----------------------#2020-06-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0caf8cc1367518b28f468411d2d5999d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UbKICJp3POoxZxWi"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@cantusamator?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eva Waardenburg Photography</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ceea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是世界上最流行的编程语言之一。为了有效地使用它，我们必须了解它的基本知识。</p><p id="c189" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究高阶函数。</p><h1 id="d3b8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">高阶函数</h1><p id="f7bf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">高阶函数是以其他函数作为参数或返回一个函数的函数。</p><p id="52d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这在JavaScript中是可能的，因为函数是常规对象，所以它们可以作为参数接受并返回。</p><p id="c672" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写一个高阶函数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="71bc" class="mn lc iq mj b gy mo mp l mq mr">const foo = (fn) =&gt; {<br/>  //...<br/>  fn();<br/>  //...<br/>}</span></pre><p id="f418" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用了一个作为参数传递给另一个函数的函数。</p><p id="bbaf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以在函数中返回一个函数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f455" class="mn lc iq mj b gy mo mp l mq mr">const foo = () =&gt; {<br/>  //...    <br/>  return (a, b) =&gt; {<br/>    //...<br/>  }<br/>}</span></pre><p id="1169" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们处理重复的函数调用时，这给了我们灵活性。</p><h1 id="9ea3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">抽象重复</h1><p id="8f72" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">高阶函数为我们抽象重复代码提供了很好的方法。</p><p id="3ea0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过使用高阶函数来缩短重复代码，使它们更加灵活。</p><p id="9294" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不使用如下循环:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3bf9" class="mn lc iq mj b gy mo mp l mq mr">const results = [];<br/>for (const a of arr) {<br/>  if (a % 2 === 0) {<br/>    results.push(a);<br/>  }<br/>}</span></pre><p id="d2e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用高阶函数来创建一个更一般的循环，它可以接受任何条件:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d36c" class="mn lc iq mj b gy mo mp l mq mr">const filter = (arr, predicate) =&gt; {<br/>  const results = [];<br/>  for (const a of arr) {<br/>    if (predicate(a)) {<br/>      results.push(a);<br/>    }<br/>  }<br/>  return results;<br/>}</span></pre><p id="c3ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">predicate</code>是检查<code class="fe ms mt mu mj b">a</code>是否满足某些条件的函数。</p><p id="5b0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以使用同一个循环来检查不同的条件，以便用我们正在寻找的条件返回一个数组。</p><p id="650c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dde7" class="mn lc iq mj b gy mo mp l mq mr">const arr = filter([1, 2, 3], a =&gt; a % 2 === 0);</span></pre><p id="5bae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是高阶函数有用的原因。</p><p id="87b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们把它们当作论点，想怎么叫就怎么叫。</p><h1 id="a6d9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用地图转换</h1><p id="d9e3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用与上面例子相同的原理创建我们自己的<code class="fe ms mt mu mj b">map</code>函数。</p><p id="d8f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8084" class="mn lc iq mj b gy mo mp l mq mr">const map = (arr, fn) =&gt; {<br/>  const results = [];<br/>  for (const a of arr) {<br/>    results.push(fn(a));<br/>  }<br/>  return results;<br/>}</span></pre><p id="b26a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的函数中，我们在数组的每个条目上调用<code class="fe ms mt mu mj b">fn</code>,并将结果推入一个新的数组。</p><p id="f17c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们返回结果数组。</p><p id="c659" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们做到了这一点，我们可以这样称呼它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e876" class="mn lc iq mj b gy mo mp l mq mr">const arr = map([1, 2, 3], a =&gt; a ** 2);</span></pre><p id="7eab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并得到<code class="fe ms mt mu mj b">arr</code>的<code class="fe ms mt mu mj b">[1, 4, 9]</code>。</p><h1 id="c5d9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用Reduce组合数组数据</h1><p id="5cb7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">同样，我们可以使用高阶函数将数组的条目组合成一个结果。</p><p id="6796" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="304c" class="mn lc iq mj b gy mo mp l mq mr">const reduce = (arr, combine, start) =&gt; {<br/>  let result = start;<br/>  for (const a of arr) {<br/>    result = combine(result, a);<br/>  }<br/>  return result;<br/>}</span></pre><p id="fca3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们使用了<code class="fe ms mt mu mj b">reduce</code>函数来设置初始值。</p><p id="02ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们遍历数组来调用传入的<code class="fe ms mt mu mj b">combine</code>函数。</p><p id="3dbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且我们将组合结果设置为<code class="fe ms mt mu mj b">result</code>。</p><p id="41f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用它来组合数组整体，如下所示:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9f3f" class="mn lc iq mj b gy mo mp l mq mr">const result = reduce([1, 2, 3], (total, a) =&gt; total + a, 0);</span></pre><p id="d73e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">result</code>就是6，因为我们传入了一个函数来将累积的条目和数组相加。</p><h1 id="f3b6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构成函数</h1><p id="8cd3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">高阶函数的好处是我们可以合成它们。</p><p id="ad53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都是返回结果的纯函数。</p><p id="4cff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以把它们连接起来。</p><p id="1a03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以将<code class="fe ms mt mu mj b">map</code>和<code class="fe ms mt mu mj b">reduce</code>链接在一起，然后调用它们:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d69d" class="mn lc iq mj b gy mo mp l mq mr">const mapped = map([1, 2, 3], a =&gt; a ** 2)<br/>const result = reduce(mapped, (total, a) =&gt; total + a, 0);</span></pre><p id="cf99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe ms mt mu mj b">result</code>是14，因为我们平方了<code class="fe ms mt mu mj b">[1, 2, 3]</code>的条目，然后将它们加在一起。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/fd69458344b8e303880927da00f20dcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ESNFh1LuBd1m5HHx"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sergeebee?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">sergee bee</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="b67c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="abce" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在JavaScript中，高阶函数是一个强大的特性，我们可以用它来减少编写重复代码时的重复。</p><p id="c9d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过创建一个函数来抽象重复的动作，这个函数允许我们把做重复工作的函数作为一个参数传入。</p><p id="bf7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">高阶函数之所以存在，是因为它们像其他任何东西一样是常规对象。</p><h2 id="21db" class="mn lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="dc91" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四种出版物吗？通过<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> plainenglish.io </strong> </a>找到他们——通过关注我们的出版物和<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">来表达爱意吧！</strong></p></div></div>    
</body>
</html>