<html>
<head>
<title>Getting Started With Next.js + Storybook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js + Storybook入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/next-js-storybook-3f8e5a8dab3d?source=collection_archive---------0-----------------------#2020-12-02">https://javascript.plainenglish.io/next-js-storybook-3f8e5a8dab3d?source=collection_archive---------0-----------------------#2020-12-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d319fe61676011b98a7c3c7007f82441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dN5gmFhB_iZuFh_S08RvQw.jpeg"/></div></div></figure><p id="9a21" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最近，我开始寻求让Next.js (v10)与Storybook一起工作。起初这似乎很简单，但事实证明这是一项艰巨的任务。一旦我让它工作了，我决定写下这篇文章，希望能帮助下一个想知道这条路的可怜的傻瓜。</p><h1 id="5ffa" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">何必呢？</h1><p id="9191" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">好问题。应该是你的第一个问题。故事书可能并不总是对你的项目有意义。在一个没有很多组件的小网站或应用上工作？也许不值得你浪费时间。用全组件系统搭建大型网站？那好吧，我想这是值得的。故事书有几个好处:</p><ol class=""><li id="8c1c" class="lw lx in jx b jy jz kc kd kg ly kk lz ko ma ks mb mc md me bi translated">为您的组件生成文档，这有助于您的开发团队之间的知识共享</li><li id="b81f" class="lw lx in jx b jy mf kc mg kg mh kk mi ko mj ks mb mc md me bi translated">允许更容易地测试边缘场景——如果这个组件没有图像，应用了替换主题并且缺少标题，会发生什么？</li><li id="6117" class="lw lx in jx b jy mf kc mg kg mh kk mi ko mj ks mb mc md me bi translated">可以与内容管理者和设计者共享，这样他们就可以试验他们可用的组件库。</li></ol><h1 id="3800" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">辅导的</h1><p id="022f" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">请注意，在本教程中，我假设您已经启动并运行了一个现有的Next.js项目。如果没有，请从遍历Next.js文档开始。</p><h2 id="eaa1" class="mk ku in bd kv ml mm dn kz mn mo dp ld kg mp mq lh kk mr ms ll ko mt mu lp mv bi translated">在您的项目中安装故事书</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="cf32" class="mk ku in nb b gy nf ng l nh ni">npx sb init </span></pre><h2 id="076d" class="mk ku in bd kv ml mm dn kz mn mo dp ld kg mp mq lh kk mr ms ll ko mt mu lp mv bi translated">安装您最终需要的依赖项</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="e237" class="mk ku in nb b gy nf ng l nh ni">yarn add @storybook/preset-scss babel-loader css-loader file-loader sass-loader style-loader chromatic -D</span></pre><h2 id="eb62" class="mk ku in bd kv ml mm dn kz mn mo dp ld kg mp mq lh kk mr ms ll ko mt mu lp mv bi translated">编辑。storybook/main.js</h2><p id="c376" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">您的main.js文件可能看起来有点不同，但会非常接近。我的是为我的项目定制的:SCSS模块，SVGR，我选择将我的故事包含在组件目录中。</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="2516" class="mk ku in bd kv ml mm dn kz mn mo dp ld kg mp mq lh kk mr ms ll ko mt mu lp mv bi translated">编辑/。故事书/preview.js</h2><p id="b5bd" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在这个文件中，您只需要确保您正在导入需要所有组件都可以访问的全局样式。此外，这一点很重要，我为next/image添加了一个覆盖。这是Storybook处理新的下一个图像组件所必需的。它基本上只是在我们所有的故事中用一个有反应的图像代替了那个组件。效果很好！</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="6d19" class="mk ku in bd kv ml mm dn kz mn mo dp ld kg mp mq lh kk mr ms ll ko mt mu lp mv bi translated">创造一些故事</h2><p id="e3a9" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">最后，为您的一个组件创建一个<code class="fe nl nm nn nb b">stories</code>文件。如果您还记得，我的main.js正在寻找扩展名为<code class="fe nl nm nn nb b">stories.js</code>并且位于我的<code class="fe nl nm nn nb b">components</code>目录中的故事。这对你来说可能有点不同，但你已经明白了。下面是一个非常简单的例子，它创建了两个实例—打开和关闭:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="07b0" class="mk ku in bd kv ml mm dn kz mn mo dp ld kg mp mq lh kk mr ms ll ko mt mu lp mv bi translated">部署您的故事书</h2><p id="3cc4" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">这里有几个选项:</p><ol class=""><li id="8a27" class="lw lx in jx b jy jz kc kd kg ly kk lz ko ma ks mb mc md me bi translated">运行<code class="fe nl nm nn nb b">yarn build-storybook</code>并将故事书静态目录上传到任何服务器</li><li id="6ffa" class="lw lx in jx b jy mf kc mg kg mh kk mi ko mj ks mb mc md me bi translated">将你的故事书部署到Chromatic——这是一个故事书服务，提供了大量很酷的功能，包括一个叫做UI Review的东西，它可以对你的组件进行截图，并提醒用户发生变化。半音阶很酷，但是对它的解释还需要一个帖子。</li></ol><h1 id="218b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结束语</h1><p id="231c" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我希望这个快速教程对你有所帮助。我知道，如果我在走下一条. js + Storybook之路之前就有了它，我会节省很多工作。一旦你学会了所有这些，我想你会爱上故事书的。祝你好运！</p></div></div>    
</body>
</html>