<html>
<head>
<title>JavaScript best practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-best-practices-with-my-experiences-6d16e371f669?source=collection_archive---------1-----------------------#2020-08-16">https://javascript.plainenglish.io/javascript-best-practices-with-my-experiences-6d16e371f669?source=collection_archive---------1-----------------------#2020-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="19ac" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">深度JavaScript</h2><div class=""/><div class=""><h2 id="d686" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">JavaScript编程的注意事项(根据我的经验)</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/1f7013560844ca30fb32d222feff2676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9HuAONjDNRQgPdKi"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@nesabymakers?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">NESA by Makers</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5451" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这些是我认为可以提高代码质量和清晰度的JavaScript最佳实践。</p><h1 id="befb" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">句法</h1><h2 id="56e3" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated"><strong class="ak">使用2个空格</strong>进行缩进</h2><p id="243a" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">最近几年，缩进已经从你的空格变成了两个空格。例如，两个空格，不长，没有制表符——由Google、npm、Node.js、Idiomatic、Felix使用。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="34ef" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请记住，不要使用制表符缩进，因为应用程序和操作系统之间显示的制表符是如此不同。</p><h2 id="8405" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">除了避免转义，我对字符串使用单引号</h2><p id="c8d2" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">您已经看到了用于在JavaScript中编写字符串的<code class="fe nl nm nn no b">'single quotes'</code>和<code class="fe nl nm nn no b">"double quotes"</code>。</p><pre class="kp kq kr ks gt np no nq nr aw ns bi"><span id="8c50" class="mt mc iq no b gy nt nu l nv nw">'abc' === "abc"</span></pre><p id="4e89" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">但是我更喜欢用单引号来避免转义。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="f6b4" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我在关键字之后和左括号之前添加了一个空格</h2><p id="01bc" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">在书面英语中，左括号后和右括号前没有空格。我也将这种方法应用于JavaScript。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="0194" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">关键字<code class="fe nl nm nn no b">function</code>后面有一个空格。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="ab80" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于匿名函数，我也加一个空格如下。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="5c7e" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我在逗号后面加空格</h2><p id="6e7f" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">逗号没有意义，但是它们帮助我们理解句子的结构，从而理解句子的意思。在逗号后面加一个空格。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="9a12" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我将else语句和它们的花括号放在同一行</h2><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="44d9" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我把条件运算符放在括号里</h2><p id="1fb8" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">这有助于阅读。括号对于执行是无用的。但是对执行没用并不意味着对阅读代码没用。如果读起来更有意义，你应该把它们留下。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="ce42" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">变量</h1><h2 id="4805" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我每行声明一个变量</h2><p id="eaa2" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">不要用一个声明来声明多个变量。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="503d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我在每行声明一个变量，因为删除、插入和重新排列行很简单，而且行会自动正确缩进。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="c2a8" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">不要在两个不同的块中两次声明同一个变量</h2><p id="b3e3" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">我不这样做。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="f4e1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">应该这样写。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="b2bf" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我用一个<code class="fe nl nm nn no b">/* global */</code>注释声明浏览器是全局的</h2><p id="3d30" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">例外情况有:<code class="fe nl nm nn no b">window</code>、<code class="fe nl nm nn no b">document</code>和<code class="fe nl nm nn no b">navigator</code>。</p><pre class="kp kq kr ks gt np no nq nr aw ns bi"><span id="d9a2" class="mt mc iq no b gy nt nu l nv nw">/* global<br/>ADSAFE, report, jslint<br/>*/</span></pre><h1 id="8de9" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">使用对象的规则</h1><h2 id="5958" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">构造函数名必须以大写字母开头</h2><p id="3ac1" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">构造函数名应该以大写字母开头，如下所示。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="0f02" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">创建实例时，我总是使用构造函数和关键字<code class="fe nl nm nn no b">‘new'</code></h2><p id="164e" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">使用构造函数是很重要的，因为它可以防止你忘记在<code class="fe nl nm nn no b">strict mode</code>中实例化<code class="fe nl nm nn no b">new</code>操作符。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="23dc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这也有助于我的代码更好地融入JavaScript主流，并且更有可能在框架之间移植。</p><p id="73e5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果构造函数没有参数，我还是会写括号。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="3a88" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我在私有属性的名字前加了一个下划线</h2><p id="340a" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">如果你希望一个对象的私有数据是完全安全的，你必须使用闭包，但是这使得代码变得更加复杂。=和slowers，所以我更喜欢为私有属性添加下划线。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="6c0a" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">其他规则</h1><h2 id="73c7" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我总是用<code class="fe nl nm nn no b">===</code>代替<code class="fe nl nm nn no b">==</code></h2><p id="424a" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated"><code class="fe nl nm nn no b">===</code>操作符不会进行转换，所以如果两个值不相同，type <code class="fe nl nm nn no b">===</code>将简单地返回false。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="06b3" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我总是使用类型强制</h2><p id="f298" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">通过Boolean、Number、String()和Object()将值强制转换为类型。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="8fa0" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">停止使用关键字<code class="fe nl nm nn no b">this</code>作为隐式参数</h2><p id="d338" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">我不使用关键字<code class="fe nl nm nn no b">this</code>作为隐式参数来保持面向对象和功能机制的分离。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="7bad" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我通过关键字in和hasOwnProperty()函数检查属性的存在</h2><p id="9a14" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">这比用<code class="fe nl nm nn no b">undefined</code>比较一个属性或检查真实性更安全。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="aaf8" class="mt mc iq bd md mu mv dn mh mw mx dp ml lo my mz mn ls na nb mp lw nc nd mr iw bi translated">我总是允许快速失败</h2><p id="6535" class="pw-post-body-paragraph lf lg iq lh b li ne ka lk ll nf kd ln lo ng lq lr ls nh lu lv lw ni ly lz ma ij bi translated">最后，如果可以的话，最好快速失败，不要无声无息地失败</p><p id="f661" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">有用吧？</p></div></div>    
</body>
</html>