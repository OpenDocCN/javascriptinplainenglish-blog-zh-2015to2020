<html>
<head>
<title>Cocktail Recipe Mobile App with Ionic and Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Ionic和Vue 3的鸡尾酒配方移动应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/cocktail-recipe-mobile-app-with-ionic-and-vue-3-8a06008d4a13?source=collection_archive---------8-----------------------#2020-12-01">https://javascript.plainenglish.io/cocktail-recipe-mobile-app-with-ionic-and-vue-3-8a06008d4a13?source=collection_archive---------8-----------------------#2020-12-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bfec" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第2部分—按配料标签搜索</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7b727c474e7f3d5ca09a628faa421eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IdFviW-ztoJDrFVM6iSPyw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by <a class="ae kv" href="https://pixabay.com/photos/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1149171" rel="noopener ugc nofollow" target="_blank">Free-Photos</a> from <a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1149171" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="2529" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://medium.com/javascript-in-plain-english/cocktail-recipe-mobile-app-with-ionic-and-vue-3-4a28986453f6" rel="noopener">第1部分</a>中，我们设置了我们的应用程序，并完成了我们的第一个选项卡，当应用程序加载时，它会加载一个随机鸡尾酒。现在，我们将使用按成分搜索的功能。当用户点击“按成分搜索”标签时，我们将加载一个成分列表。当他们点击一种成分时，我们将显示含有该成分的饮料列表。最后，如果他们点击一种饮料，我们将显示该饮料的详细信息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/34079b2e0c549ebbd5da8a68e5e9eb0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/1*UA61v0EVVdvEX5RhtTbSBw.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Search By Ingredient Demo</figcaption></figure><h1 id="9b53" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">选项卡图标和名称</h1><p id="95e1" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们要做的第一件事是改变标签图标和名称。为此，请转到src/views/Tabs.vue。用pint图标替换导入中的椭圆图标，在setup方法中返回它，然后在模板中替换它，同时更改选项卡名称。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="3ac2" class="mv lu iq mr b gy mw mx l my mz"><em class="na">//script<br/>import</em> { <strong class="mr ir">pint </strong>, square, shuffle } <em class="na">from</em> 'ionicons/icons';</span><span id="f627" class="mv lu iq mr b gy nb mx l my mz"><em class="na">setup</em>() {<br/> <em class="na">return</em> {<br/>  <strong class="mr ir">pint,</strong><br/>  square,<br/>  shuffle,<br/> }<br/>}</span><span id="df9c" class="mv lu iq mr b gy nb mx l my mz">//template<br/>&lt;ion-tab-button <em class="na">tab</em>="tab2" <em class="na">href</em>="/tabs/tab2"&gt;<br/> &lt;ion-icon :<em class="na">icon</em>="<strong class="mr ir">pint</strong>" /&gt;<br/> &lt;ion-label&gt;<strong class="mr ir">By Ingredient</strong>&lt;/ion-label&gt;<br/>&lt;/ion-tab-button&gt;</span></pre><h1 id="90cc" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">配料清单</h1><p id="e4ef" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">为了获得配料列表，我们将使用配料列表端点(【https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list】<a class="ae kv" href="https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list" rel="noopener ugc nofollow" target="_blank">)。要实现这一点，请访问src/views/Tab2。我们需要在脚本标签的顶部从vue和axios导入reactive:</a></p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0bea" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> {reactive} <em class="na">from</em> "vue";<br/>import axios from "axios"</span></pre><p id="9ecd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了将用户从我们的配料列表导航到包含该配料的饮料页面，我们还需要在脚本标记的顶部导入路由器:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="e034" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> { useRouter } <em class="na">from</em> 'vue-router';</span></pre><p id="bd05" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将在新的导入下为API结果添加一个接口:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="ec63" class="mv lu iq mr b gy mw mx l my mz">interface Ingredient {<br/> strIngredient1: string;<br/>}</span></pre><p id="76e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将添加路由器和一些状态:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="f552" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> router </em>=<em class="na"> useRouter</em>();</span><span id="05b7" class="mv lu iq mr b gy nb mx l my mz">const<em class="na"> state </em>=<em class="na"> reactive</em>({<br/> <em class="na">lstIngredients</em>: [] <em class="na">as Ingredient</em>[],<br/> l<em class="na">oading</em>:<em class="na"> false<br/></em>});</span></pre><p id="3dfe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将在设置中创建一个方法，并使用axios来获取我们的配料列表。API没有按字母顺序显示我们的结果。因此，如果我们得到一个成功的响应，我们将对结果进行排序。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="d208" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> fetchIngredients </em>=<em class="na"> async </em>()<em class="na"> </em>=&gt;<em class="na"> </em>{<br/> <em class="na">state.loading </em>=<em class="na"> true</em>;<br/> const<em class="na"> res </em>=<em class="na"> await axios.get</em>(<br/>  "https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list"<br/> );</span><span id="cbeb" class="mv lu iq mr b gy nb mx l my mz"> if<em class="na"> </em>(<em class="na">res.data</em>)<em class="na"> </em>{<br/>  <em class="na">state.lstIngredients </em>=<em class="na"> res.data?.drinks</em>;<br/>  <em class="na">state.lstIngredients.sort</em>(function(<em class="na">a</em>,<em class="na"> b</em>)<em class="na"> </em>{<br/>   <em class="na">return a.strIngredient1.localeCompare</em>(<em class="na">b.strIngredient1</em>);<br/>  });<br/>}</span><span id="2e0b" class="mv lu iq mr b gy nb mx l my mz"><em class="na"> state.loading </em>=<em class="na"> false</em>;<br/>};</span></pre><p id="6043" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了获得每种成分的图像，我们将创建另一种方法，因为我们需要进行一些数据操作:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="1c46" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> ingredientImage </em>=<em class="na"> </em>(<em class="na">ingredient</em>:<em class="na"> string</em>)<em class="na"> </em>=&gt;<em class="na"> </em>{<br/> <em class="na">return<br/>  </em>`<em class="na">https://www.thecocktaildb.com/images/ingredients/</em>${<em class="na">encodeURI</em>(<br/>   <em class="na">ingredient<br/>   </em>)}<em class="na">-Small.png</em>`;<br/>};</span></pre><p id="7d5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在setup方法中，我们需要做的最后一件事是调用fetchIngredients方法并返回模板的所有内容:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="2ccc" class="mv lu iq mr b gy mw mx l my mz"><em class="na">fetchIngredients</em>();</span><span id="04fa" class="mv lu iq mr b gy nb mx l my mz"><em class="na">return</em> {<br/> router,<br/> state,<br/> ingredientImage,<br/>};</span></pre><p id="1c8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在模板中，我们将根据我们的装载状态显示一个装载器或我们的配料列表。当有人点击某个配料时，我们会将他们重定向到我们即将创建的页面。最终文件应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h1 id="9b3a" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">按成分分类的饮料</h1><p id="52b6" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">接下来，我们需要根据配料视图制作饮料。这将非常类似于我们的Tab2页面。它将由包含用户在Tab2上选择的成分的饮料离子列表组成。</p><p id="922c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要创建这个页面，请转到src/views并创建一个名为DrinksByIngredient.vue的新文件。确保在脚本标签中设置lang="ts "。</p><h2 id="a54b" class="mv lu iq bd lv ne nf dn lz ng nh dp md lf ni nj mf lj nk nl mh ln nm nn mj no bi translated">路由器</h2><p id="6e1c" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在，我们将前往src/router/index.ts。在路由器内部，我们将按成分视图为我们的饮料创建一条新路线。注意，我们向我们的路线添加了一个<em class="na">:成分</em>参数，这样我们就可以将它传递到我们的新视图中。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="79c0" class="mv lu iq mr b gy mw mx l my mz">{<br/> <em class="na">path</em>:<em class="na"> </em>'/drinks-by-ingredient/:ingredient',<br/> <em class="na">component</em>:<em class="na"> </em>()<em class="na"> </em>=&gt;<em class="na"> </em>import('@/views/DrinksByIngredient.vue')<br/>}</span></pre><h2 id="6690" class="mv lu iq bd lv ne nf dn lz ng nh dp md lf ni nj mf lj nk nl mh ln nm nn mj no bi translated">视角</h2><p id="7806" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在回到我们新创建的视图，在脚本标签的顶部导入以下内容:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="2fd8" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> { reactive } <em class="na">from</em> "vue";<br/><em class="na">import</em> { useRoute, useRouter } <em class="na">from</em> "vue-router";<br/><em class="na">import</em> axios <em class="na">from</em> "axios";</span></pre><p id="f022" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将创建一个接口，用于我们将从饮料成分API调用中获取的结果:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="3ca2" class="mv lu iq mr b gy mw mx l my mz">interface Drink {<br/> strDrink: string;<br/> strDrinkThumb: string;<br/> idDrink: string;<br/>}</span></pre><p id="a7c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在脚本标签export default中，创建setup方法来保存我们的逻辑。我们要做的第一件事是通过调用从vue导入的useRoute方法来访问路由。有了路线后，我们就可以拿到选定的配料:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="753f" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> router </em>=<em class="na"> useRouter</em>();<br/>const<em class="na"> route </em>=<em class="na"> useRoute</em>();<br/>const<em class="na"> ingredient </em>=<em class="na"> route.params.ingredient as string</em>;</span></pre><p id="9417" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将创建状态来保存数据:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="26df" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> state </em>=<em class="na"> reactive</em>({<br/> <em class="na">lstDrinks</em>:<em class="na"> </em>[]<em class="na"> as Drink</em>[],<br/> <em class="na">loading</em>:<em class="na"> false</em>,<br/>});</span></pre><p id="efbb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将创建一个方法来调用API并获取我们的饮料:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="8258" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> fetchDrinksByIngredients </em>=<em class="na"> async </em>(<em class="na">ingredient</em>:<em class="na"> string</em>)<em class="na"> </em>=&gt;<em class="na"> </em>{<br/> <em class="na">state.loading </em>=<em class="na"> true</em>;<br/> const<em class="na"> res </em>=<em class="na"> await axios.get</em>(<br/>  `<em class="na">https://www.thecocktaildb.com/api/json/v1/1/filter.php<br/>   i=</em>${<em class="na">encodeURI</em>(<em class="na">ingredient</em>)}`<br/> );</span><span id="16ee" class="mv lu iq mr b gy nb mx l my mz"> if<em class="na"> </em>(<em class="na">res.data</em>)<em class="na"> </em>{<br/>  <em class="na">state.lstDrinks </em>=<em class="na"> res.data?.drinks</em>;<br/> }<br/> <br/> <em class="na">state.loading </em>=<em class="na"> false</em>;<br/>};</span></pre><p id="1f56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们要做的最后一件事是在加载时调用我们的方法，并返回我们的路由器、成分和状态，以便模板可以访问它:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="b89e" class="mv lu iq mr b gy mw mx l my mz"><em class="na">fetchDrinksByIngredients</em>(ingredient);</span><span id="348b" class="mv lu iq mr b gy nb mx l my mz"><em class="na">return</em> {<br/> router<br/> ingredient,<br/> state,<br/>};</span></pre><p id="8a4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在模板中，我们将根据加载状态显示加载程序或内容。我们还将为每种饮料准备一份<em class="na">离子清单</em>和一个<em class="na">离子项目</em>。每个项目都有一个图像和饮料的名称。我们将在标题中添加一个后退按钮用于导航。当有人点击饮料时，我们会将他们发送到我们将在下一步创建的饮料页面。</p><p id="8620" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的已完成饮料bing redient视图将如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h1 id="45e2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">饮料景观</h1><p id="2350" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们需要的最后一件事是当有人点击特定饮料时的饮料视图。因此，转到src/views并创建一个名为Drink.vue的新文件。确保在脚本标签中设置lang="ts "。</p><h2 id="2daa" class="mv lu iq bd lv ne nf dn lz ng nh dp md lf ni nj mf lj nk nl mh ln nm nn mj no bi translated">路由器</h2><p id="711f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">接下来，我们需要将这个视图添加到路由器中。回到src/router/index.ts并添加以下路由:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="5413" class="mv lu iq mr b gy mw mx l my mz">{<br/> <em class="na">path</em>:<em class="na"> </em>'/drink/:id',<br/> <em class="na">component</em>:<em class="na"> </em>()<em class="na"> </em>=&gt;<em class="na"> </em>import('@/views/Drink.vue')<br/>}</span></pre><h2 id="9f79" class="mv lu iq bd lv ne nf dn lz ng nh dp md lf ni nj mf lj nk nl mh ln nm nn mj no bi translated">饮料景观</h2><p id="7474" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在回到我们的饮料视图，我们将导入一些依赖项，我们将在脚本标签的顶部使用:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="b4d6" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> { reactive } <em class="na">from</em> "vue";<br/><em class="na">import</em> { useRoute } <em class="na">from</em> "vue-router";<br/><em class="na">import</em> axios <em class="na">from</em> "axios";</span></pre><p id="f5b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还将创建一个用于API调用的接口:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="4681" class="mv lu iq mr b gy mw mx l my mz">interface Drink {<br/> idDrink: string;<br/> strDrink: string;<br/> strDrinkAlternate: string;<br/> strDrinkES: string;<br/> strDrinkDE: string;<br/> strDrinkFR: string;<br/> "strDrinkZH-HANS": string;<br/> "strDrinkZH-HANT": string;<br/> strTags: string;<br/> strVideo: string;<br/> strCategory: string;<br/> strIBA: string;<br/> strAlcoholic: string;<br/> strGlass: string;<br/> strInstructions: string;<br/> strInstructionsES: string;<br/> strInstructionsDE: string;<br/> strInstructionsFR: string;<br/> "strInstructionsZH-HANS": string;<br/> "strInstructionsZH-HANT": string;<br/> strDrinkThumb: string;<br/> strIngredient1: string;<br/> strIngredient2: string;<br/> strIngredient3: string;<br/> strIngredient4: string;<br/> strIngredient5: string;<br/> strIngredient6: string;<br/> strIngredient7: string;<br/> strIngredient8: string;<br/> strIngredient9: string;<br/> strIngredient10: string;<br/> strIngredient11: string;<br/> strIngredient12: string;<br/> strIngredient13: string;<br/> strIngredient14: string;<br/> strIngredient15: string;<br/> strMeasure1: string;<br/> strMeasure2: string;<br/> strMeasure3: string;<br/> strMeasure4: string;<br/> strMeasure5: string;<br/> strMeasure6: string;<br/> strMeasure7: string;<br/> strMeasure8: string;<br/> strMeasure9: string;<br/> strMeasure10: string;<br/> strMeasure11: string;<br/> strMeasure12: string;<br/> strMeasure13: string;<br/> strMeasure14: string;<br/> strMeasure15: string;<br/> strCreativeCommonsConfirmed: string;<br/> dateModified: string;<br/>}</span></pre><p id="4c1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在我们的设置文件中，我们将使用导入的getRoute获取路由，并获得路由的id:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="c916" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> route </em>=<em class="na"> useRoute</em>();<br/>const<em class="na"> drinkId </em>=<em class="na"> route.params.id as string</em>;</span></pre><p id="458f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将添加我们的状态:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="ff35" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> state </em>=<em class="na"> reactive</em>({<br/> <em class="na">drink</em>:<em class="na"> </em>{}<em class="na"> as Drink</em>,<br/> <em class="na">loading</em>:<em class="na"> false</em>,<br/>});</span></pre><p id="8593" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将创建一个方法，通过id获取饮料:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="eec5" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> fetchDrinkById </em>=<em class="na"> async </em>(<em class="na">drinkId</em>:<em class="na"> string</em>)<em class="na"> </em>=&gt;<em class="na"> </em>{<br/> <em class="na">state.loading </em>=<em class="na"> true</em>;<br/> <br/> const<em class="na"> res </em>=<em class="na"> await axios.get</em>(<br/> `<em class="na">https://www.thecocktaildb.com/api/json/v1/1/lookup.phpi=</em>${<em class="na">drinkId}</em>`);</span><span id="e912" class="mv lu iq mr b gy nb mx l my mz"> if<em class="na"> </em>(<em class="na">res.data</em>)<em class="na"> </em>{<br/>  <em class="na">state.drink </em>=<em class="na"> res.data?.drinks</em>[0];<br/> }<br/> <br/> <em class="na">state.loading </em>=<em class="na"> false</em>;<br/>};</span></pre><p id="086c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们将在页面加载时调用我们的方法，并将我们的状态返回给模板:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9c50" class="mv lu iq mr b gy mw mx l my mz"><em class="na">fetchDrinkById</em>(drinkId);</span><span id="de9c" class="mv lu iq mr b gy nb mx l my mz"><em class="na">return</em> {<br/> state,<br/>};</span></pre><h1 id="5cb2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">饮料卡组件</h1><p id="39a9" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">由于显示饮料的卡片与我们在Tab1中使用的卡片完全相同，我们将把它重构为一个组件。为此，请转到src/components并创建一个名为DrinkCard.vue的新文件，然后将Tab1中离子卡内的所有内容复制并粘贴到新创建文件的模板中。</p><p id="641c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在脚本标签export default中，添加一个名为drink的新道具，并将其类型设置为Object。你还需要导入相应的离子成分。完成后，您的文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">DrinkCard.vue</figcaption></figure><h1 id="16e2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">表1视图</h1><p id="3949" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">回到Tab1，您需要导入DrinkCard组件，并在模板中用它替换该卡。确保将state.randomCocktail作为DrinkCard上的饮料道具进行传递。您的文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Tab1.vue</figcaption></figure><h1 id="71dc" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">饮料景观</h1><p id="a9ff" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在回到饮料选项卡，我们需要做的就是导入DrinkCard并传递我们的state.drink作为它的饮料道具。您的最终文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Drink.vue</figcaption></figure><h1 id="b0d5" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">视频教程</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Video Tutorial</figcaption></figure><h1 id="dd37" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">结论</h1><p id="d09f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在第1部分中，我们完成了随机鸡尾酒标签。现在，我们刚刚完成了“饮料成分”选项卡。在第三部分中，我们将实现一个自由形式的搜索来包装我们的应用。所以，一定要关注我，当那篇文章掉下来的时候你会收到通知。</p></div></div>    
</body>
</html>