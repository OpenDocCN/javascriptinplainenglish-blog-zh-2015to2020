<html>
<head>
<title>Why using props makes React App powerful and more flexible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么使用道具会让React App变得更强大、更灵活</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-using-props-makes-react-app-powerful-and-more-flexible-24bde40dd9ee?source=collection_archive---------5-----------------------#2020-05-31">https://javascript.plainenglish.io/why-using-props-makes-react-app-powerful-and-more-flexible-24bde40dd9ee?source=collection_archive---------5-----------------------#2020-05-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="44d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解React中使用道具的力量</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c84a29d92ab0ff6d475f2fd6f2e219c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_awGxWqVx9ZZP3C8"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@tma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tianyi Ma</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4ebd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看到如何通过传递道具使组件更加灵活。</p><h2 id="b36c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">我们开始吧</h2><p id="3c41" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">假设，我们有一个对象数组，每个对象都包含要显示的标签和内容</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="7294" class="ls lt iq mr b gy mv mw l mx my">const data = [<br/>  { label: 'Home', content: &lt;HomePage /&gt; },<br/>  { label: 'Contact', content: &lt;ContactPage /&gt; },<br/>  { label: 'About', content: &lt;AboutPage /&gt; }<br/>];</span></pre><p id="3552" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有一个接受该数组的<code class="fe mz na nb mr b">Main</code>组件，它将显示基于该数据的导航和内容。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0db5" class="ls lt iq mr b gy mv mw l mx my">&lt;Main data={data} /&gt;</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Main.js</figcaption></figure><p id="0d9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，我们有<code class="fe mz na nb mr b">renderNav</code>和<code class="fe mz na nb mr b">renderContent</code>函数来显示数据，基于哪个导航菜单被点击，我们显示与该菜单相关的内容。</p><p id="dff3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">演示:<a class="ae kv" href="https://codesandbox.io/s/initial-code-9oc42" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/initial-code-9oc42</a></p><p id="b5eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">预告:<a class="ae kv" href="https://9oc42.csb.app/" rel="noopener ugc nofollow" target="_blank">https://9oc42.csb.app/</a></p><p id="c994" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以找到Github的源代码，直到这里<a class="ae kv" href="https://github.com/myogeshchavan97/flexible-app/tree/initial-code" rel="noopener ugc nofollow" target="_blank">这里</a></p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><p id="04c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们想在页面的底部而不是顶部显示导航怎么办？</p><p id="bd8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们如何做到这一点？</p><p id="b65d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以传递一个属性来标识顶部或底部，基于这个属性值，我们可以显示导航。</p><p id="2389" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在React中，这段代码</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="8b0a" class="ls lt iq mr b gy mv mw l mx my">render() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;div&gt;Header&lt;/div&gt;<br/>      &lt;div&gt;Content&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="e38e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与下面的代码相同</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="6d65" class="ls lt iq mr b gy mv mw l mx my">render() {<br/>  return [ &lt;div&gt;Header&lt;/div&gt;, &lt;div&gt;Content&lt;/div&gt; ];<br/>}</span></pre><p id="7187" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们可以在一个数组中对JSX进行分组，react会显示出来。</p><p id="20a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以在这里使用相同的技术，在页面的顶部或底部显示导航。</p><p id="a962" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe mz na nb mr b">Main.js</code>中，我们可以改变渲染方法代码如下</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Main.js</figcaption></figure><p id="5331" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于<code class="fe mz na nb mr b">Main</code>组件，我们可以将道具作为</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="ed6a" class="ls lt iq mr b gy mv mw l mx my">&lt;Main data={data} showOnTop={true} /&gt;</span></pre><p id="4271" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将在顶部显示导航，如果我们通过<code class="fe mz na nb mr b">showOnTop</code>为假，导航将在底部显示。</p><p id="cc10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">演示:<a class="ae kv" href="https://codesandbox.io/s/top-or-bottom-p5zyz" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/top-or-bottom-p5zyz</a></p><p id="832a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">预告:<a class="ae kv" href="https://p5zyz.csb.app/" rel="noopener ugc nofollow" target="_blank">https://p5zyz.csb.app/</a></p><p id="5b3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以找到Github的源代码，直到这里<a class="ae kv" href="https://github.com/myogeshchavan97/flexible-app/tree/top-or-bottom" rel="noopener ugc nofollow" target="_blank">这里</a></p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><p id="1647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们想禁用任何导航，以便它只能由高级用户访问。我们也可以实现它。</p><p id="fd80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们有另一个显示<code class="fe mz na nb mr b">Downloads</code>页面的导航菜单选项。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="5864" class="ls lt iq mr b gy mv mw l mx my">const data = [<br/>  { label: 'Home', content: &lt;HomePage /&gt; },<br/>  { label: 'Contact', content: &lt;ContactPage /&gt; },<br/>  { label: 'Downloads', content: &lt;DownloadsPage /&gt; },<br/>  { label: 'About', content: &lt;AboutPage /&gt; }<br/>];</span></pre><p id="b27a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以有如下的渲染方法</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9448" class="ls lt iq mr b gy mv mw l mx my">render() {<br/>  const isPremiumUser = true;</span><span id="338d" class="ls lt iq mr b gy nl mw l mx my">  return (<br/>    &lt;Main<br/>      data={data}<br/>      showOnTop={true}<br/>      menuToDisable={isPremiumUser ? 'Downloads' : ''}<br/>    /&gt;<br/>  );<br/>}</span></pre><p id="7547" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe mz na nb mr b">Main</code>组件中，我们可以使用<code class="fe mz na nb mr b">menuToDisable</code>道具</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Main.js</figcaption></figure><p id="289b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，从<code class="fe mz na nb mr b">onClick</code>处理程序返回<code class="fe mz na nb mr b">null</code>相当于不添加任何事件处理程序。所以现在，只要改变<code class="fe mz na nb mr b">menuToDisable</code>的值，我们就可以禁用任何导航菜单。</p><p id="eb0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，要禁用关于页面，我们可以使用</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="a56e" class="ls lt iq mr b gy mv mw l mx my">&lt;Main <br/> data={data} <br/> showOnTop={true} <br/> menuToDisable={!isPremiumUser ? <strong class="mr ir">'About'</strong> : ''} <br/>/&gt;</span></pre><p id="a082" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">演示:<a class="ae kv" href="https://codesandbox.io/s/disable-menu-ktj6n" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/disable-menu-ktj6n</a></p><p id="682c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">预告:<a class="ae kv" href="https://ktj6n.csb.app/" rel="noopener ugc nofollow" target="_blank">https://ktj6n.csb.app/</a></p><p id="1222" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里找到本文的完整GitHub源代码，在这里找到现场演示<a class="ae kv" href="https://flexible-app.now.sh/" rel="noopener ugc nofollow" target="_blank"/></p><p id="e12d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天到此为止。我希望你学到了新东西。</p><p id="e610" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">别忘了订阅我的每周时事通讯，里面有惊人的技巧、诀窍和文章，直接在这里的收件箱</strong> <a class="ae kv" href="https://yogeshchavan.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅。</strong> </a></p><h2 id="84b6" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">用简单英语写的便条</strong></h2><p id="b320" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？你可以在我们的主页<a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">plain English . io</strong></a>上找到所有这些——关注我们的出版物并<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅我们的YouTube频道</strong> </a> <strong class="ky ir">来表达你的爱吧！</strong></p></div></div>    
</body>
</html>