<html>
<head>
<title>How to Generate an Array of Random Numbers in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中生成一个随机数数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-generate-an-array-of-random-numbers-in-javascript-f883de667e84?source=collection_archive---------0-----------------------#2020-04-16">https://javascript.plainenglish.io/how-to-generate-an-array-of-random-numbers-in-javascript-f883de667e84?source=collection_archive---------0-----------------------#2020-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="82cf" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在JavaScript中生成一个随机整数数组非常容易。这里有三种方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1db4c3121257fcaea389aa0de4e7050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zTSVjwh9bCcMfuOw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@eprouzet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eric Prouzet</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fdea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi ls translated">在JavaScript中工作时，你可能会发现自己需要一个由随机数组成的数组，比如在测试一个排序算法时。</p><p id="2c82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，在JavaScript中，当学习<a class="ae kv" href="https://medium.com/coding-at-dawn/how-to-sort-an-array-numerically-in-javascript-2b22710e3958" rel="noopener">如何对数组进行数字排序</a>而不是词汇排序时，随机数数组就很有用。</p><p id="a25f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将比较使用内置的<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noopener ugc nofollow" target="_blank">Math.random()</a></code>功能生成数组和具有更多功能的JavaScript库。</p><p id="0c40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我只讨论随机浮点数。对于随机整数，您可以添加一个<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" rel="noopener ugc nofollow" target="_blank">Math.floor()</a></code>调用，正如我在这里讨论的:</p><div class="mf mg gp gr mh mi"><a href="https://medium.com/javascript-in-plain-english/how-to-generate-random-numbers-in-javascript-8bc3987896a7" rel="noopener follow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">如何在JavaScript中生成随机数</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">无论是为了性能测试还是任何其他目的，生成伪随机数有时都是有用的。</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">medium.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw kp mi"/></div></div></a></div></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="9ecd" class="ne nf iq bd ng nh ni nj nk nl nm nn no jw np jx nq jz nr ka ns kc nt kd nu nv bi translated"><code class="fe mb mc md me b">.push()</code>方法</h1><p id="c910" class="pw-post-body-paragraph kw kx iq ky b kz nw jr lb lc nx ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di">U</span>sing<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" rel="noopener ugc nofollow" target="_blank">Array.prototype.push()</a></code>方法将一个项目添加到一个<a class="ae kv" href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)" rel="noopener ugc nofollow" target="_blank">堆栈</a>的末尾，在本例中是一个<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="noopener ugc nofollow" target="_blank">数组</a>(与<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop" rel="noopener ugc nofollow" target="_blank">.pop()</a></code>方法相比)。</p><p id="3018" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，使用一个简单的<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for" rel="noopener ugc nofollow" target="_blank">for</a></code> <a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for" rel="noopener ugc nofollow" target="_blank">循环</a>，我们可以通过将随机浮点数推入一个空数组来生成一个数组:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="e742" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个随机数被推到数组的末尾，产生一个由随机浮点数组成的数组<code class="fe mb mc md me b">ARRAY_LENGTH</code>。</p><p id="645c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用一个<code class="fe mb mc md me b">for</code>循环生成一个随机数数组是解决这个问题最有效的<a class="ae kv" href="https://www.incredible-web.com/blog/performance-of-for-loops-with-javascript/" rel="noopener ugc nofollow" target="_blank">方法，我将在本文后面讨论。</a></p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="3154" class="ne nf iq bd ng nh ni nj nk nl nm nn no jw np jx nq jz nr ka ns kc nt kd nu nv bi translated"><code class="fe mb mc md me b">.map()</code>方法</h1><p id="102e" class="pw-post-body-paragraph kw kx iq ky b kz nw jr lb lc nx ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di">T</span>JavaScript函数式编程<a class="ae kv" href="https://medium.com/javascript-in-plain-english/what-are-javascript-programming-paradigms-3ef0f576dfdb" rel="noopener">的宠儿</a>，<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" rel="noopener ugc nofollow" target="_blank">Array.prototype.map()</a></code>根据给定的<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" rel="noopener ugc nofollow" target="_blank">回调函数</a>返回一个新数组。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="d6ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个替代的等价语法使用<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" rel="noopener ugc nofollow" target="_blank">Function.prototype.apply()</a></code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="ff6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据<a class="ae kv" href="https://jsperf.com/array-from-vs-array-apply-for-random-numbers" rel="noopener ugc nofollow" target="_blank">这些jsperf测试用例</a>，使用<code class="fe mb mc md me b">.apply()</code>会慢50%:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/6ecccfedf8fa6f1747e22a67554a1374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MH9DWMNpwBrz3oOIYFcuA.png"/></div></div></figure><p id="cf8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不同于如何利用<code class="fe mb mc md me b">.apply()</code>比<code class="fe mb mc md me b"><a class="ae kv" href="https://medium.com/coding-at-dawn/how-to-use-the-spread-operator-in-javascript-b9e4a8b06fab" rel="noopener">...</a></code>更快的<a class="ae kv" href="https://medium.com/coding-at-dawn/how-to-use-the-spread-operator-in-javascript-b9e4a8b06fab" rel="noopener">展开算子</a>来寻找<a class="ae kv" href="https://medium.com/coding-at-dawn/the-fastest-way-to-find-minimum-and-maximum-values-in-an-array-in-javascript-2511115f8621" rel="noopener">最大值或最小值的最快方法</a>。</p><p id="cc8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是<code class="fe mb mc md me b">for</code>循环比那个快吗？我添加了另一个测试用例来检查:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/f2b14c140c6e34ee494f6e21af1e7e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oU7BA-dyPjAFXjq6fGjTGQ.png"/></div></div></figure><p id="4433" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，是的，<code class="fe mb mc md me b">for</code>循环要快得多——<code class="fe mb mc md me b">Array.from()</code>是使用基本<code class="fe mb mc md me b">for</code>循环的<code class="fe mb mc md me b">.push()</code>方法的一半速度。</p><p id="e99e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但Chrome仍然可以用最慢的方法在一秒钟内生成超过10，000个由10，000个项目组成的随机数组，所以在生成100万个随机项目之前，性能不会有太大影响。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="b7ef" class="ne nf iq bd ng nh ni nj nk nl nm nn no jw np jx nq jz nr ka ns kc nt kd nu nv bi translated">图书馆方法</h1><p id="a21f" class="pw-post-body-paragraph kw kx iq ky b kz nw jr lb lc nx ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di">如果</span>您需要生成一个随机数数组，而不仅仅是一些基本的浮点数，那么请查看<a class="ae kv" href="https://chancejs.com/" rel="noopener ugc nofollow" target="_blank"> chancejs </a>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="f81d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在你浏览器控制台的<a class="ae kv" href="https://chancejs.com" rel="noopener ugc nofollow" target="_blank">chancejs.com</a>或者<a class="ae kv" href="https://npm.runkit.com/chance" rel="noopener ugc nofollow" target="_blank">吉斯npm库</a>的运行工具包中试用上面的代码样本。</p><p id="40ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意<code class="fe mb mc md me b"><a class="ae kv" href="https://chancejs.com/basics/floating.html" rel="noopener ugc nofollow" target="_blank">chance.floating()</a></code>的行为与<code class="fe mb mc md me b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noopener ugc nofollow" target="_blank">Math.random()</a></code>完全不同，所以你会想要阅读优秀的<a class="ae kv" href="https://chancejs.com/" rel="noopener ugc nofollow" target="_blank">机会文档</a>。</p><p id="ba17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">具体来说，<code class="fe mb mc md me b">chance.floating()</code>将只返回小数点后最多4位数字，并且指定的最小值和最大值包含在内</p><p id="1471" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相比之下，<code class="fe mb mc md me b">Math.random()</code>排除最大值，将返回小数点后16位的数字0 ≤ x &lt; 1。</p><p id="9012" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">chancejs库(<a class="ae kv" href="https://github.com/chancejs/chancejs" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，<a class="ae kv" href="https://www.npmjs.com/package/chance" rel="noopener ugc nofollow" target="_blank"> npm </a>)超级好玩，还有很多其他有用的功能，比如生成随机的电话号码或邮政编码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="da2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">chancejs的另一个优点是，您可以<a class="ae kv" href="https://chancejs.com/usage/seed.html" rel="noopener ugc nofollow" target="_blank">为随机数生成器</a>提供可重复性，比如在生成测试用例时。</p><p id="e22f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无论你选择哪种方法，如果你很享受的话，用JavaScript生成一个充满随机数的数组是不会错的。</p><p id="6d5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编码快乐！😍🔥 👍📈🦄</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="e78e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">德里克·奥斯汀博士是《职业编程:如何在6个月内成为一名成功的6位数程序员 》一书的作者，该书现已在亚马逊上架。</p></div></div>    
</body>
</html>