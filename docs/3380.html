<html>
<head>
<title>Top React Hooks — Hover, Focus, and Array</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶部反应挂钩—悬停、聚焦和阵列</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-hover-focus-and-array-663b0bad5d73?source=collection_archive---------5-----------------------#2020-09-24">https://javascript.plainenglish.io/top-react-hooks-hover-focus-and-array-663b0bad5d73?source=collection_archive---------5-----------------------#2020-09-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3d2de8dac76fcf042d01991a6360e28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_sWgAbdS8LD018hC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@pawelskor?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Paul Skorupskas</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="184c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="9be7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">逃避反应</h1><p id="cf74" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React hookedUp是一个有很多钩子的库，让我们的生活更轻松。</p><p id="99d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e2e2" class="mn lc iq mj b gy mo mp l mq mr">npm install react-hookedup --save</span></pre><p id="cf85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b0f3" class="mn lc iq mj b gy mo mp l mq mr">yarn add react-hookedup</span></pre><p id="266c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useInput</code>钩子让我们用一个钩子来处理值的变化。</p><p id="26c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f3c0" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useInput } from "react-hookedup";</span><span id="a053" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const newTodo = useInput("");</span><span id="1113" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;input {...newTodo.bindToInput} /&gt;<br/>      &lt;input {...newTodo.bind} /&gt;<br/>      &lt;p&gt;{newTodo.value}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="55d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有两个输入。</p><p id="8b91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都使用由<code class="fe ms mt mu mj b">useInput</code>返回的<code class="fe ms mt mu mj b">newTodo</code>对象的属性来让我们处理输入值的变化。</p><p id="d5ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bindToInput</code>将<code class="fe ms mt mu mj b">value</code>和<code class="fe ms mt mu mj b">onChange</code>绑定到具有<code class="fe ms mt mu mj b">e.target.value</code>的输入。</p><p id="49d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bind</code>将<code class="fe ms mt mu mj b">value</code>和<code class="fe ms mt mu mj b">onChange</code>属性绑定到使用<code class="fe ms mt mu mj b">onChange</code>中<code class="fe ms mt mu mj b">e</code>的输入。</p><p id="7add" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有清除输入值的<code class="fe ms mt mu mj b">clear</code>方法。</p><p id="095e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useFocus</code>钩子让我们检测一个元素是否在焦点上。</p><p id="a6c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="98d3" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useFocus } from "react-hookedup";</span><span id="6362" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { focused, bind } = useFocus();</span><span id="d750" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;input {...bind} /&gt;<br/>      &lt;p&gt;{focused ? "focused" : "not focused"}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="70fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useFocus</code>钩子返回一个具有<code class="fe ms mt mu mj b">focused</code>和<code class="fe ms mt mu mj b">bind</code>属性的对象。</p><p id="99ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">bind</code>对象传递到输入中，这样我们可以观察输入的焦点状态。</p><p id="e91e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用<code class="fe ms mt mu mj b">focused</code>属性获得焦点状态。</p><p id="da0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">useHover</code>钩子让我们观察一个元素的悬停状态。</p><p id="af40" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="99a8" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useHover } from "react-hookedup";</span><span id="d425" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { hovered, bind } = useHover();</span><span id="2737" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;{hovered ? "hovered" : "not hovered"}&lt;/p&gt;<br/>      &lt;input {...bind} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="d276" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像使用<code class="fe ms mt mu mj b">useFocus</code>一样，我们将<code class="fe ms mt mu mj b">bind</code>属性传递给输入。</p><p id="e565" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过这种方式，我们可以观察输入是否处于悬停状态。</p><p id="a71b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用<code class="fe ms mt mu mj b">hovered</code>属性得到悬停状态。</p><p id="5f24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">挂钩让我们可以轻松地管理数组状态。</p><p id="c7f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="106d" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useArray } from "react-hookedup";</span><span id="e797" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { add, clear, removeIndex, value } = useArray(["foo", "bar"]);</span><span id="c278" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={() =&gt; add("qux")}&gt;add&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; clear()}&gt;clear&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; removeIndex(value.length - 1)}&gt;<br/>        remove index<br/>      &lt;/button&gt;<br/>      &lt;p&gt;{value.join(", ")}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="7679" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe ms mt mu mj b">useArray</code>钩子返回一个数组作为它的初始值。</p><p id="beda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，它返回一个具有我们可以使用的各种属性的对象。</p><p id="8bd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们将一个项目添加到数组中。</p><p id="cf1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们清空数组。</p><p id="37e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">removeIndex</code>让我们根据索引删除一个项目。</p><p id="7861" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">value</code>有数组的值。</p><p id="163c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还返回<code class="fe ms mt mu mj b">removeById</code>属性，让我们通过ID删除一个项目。</p><p id="8b84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9096" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useArray } from "react-hookedup";</span><span id="4ce3" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { add, clear, removeById, value } = useArray([<br/>    { id: 1, name: "foo" },<br/>    { id: 2, name: "baz" }<br/>  ]);</span><span id="450f" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={() =&gt; add({ id: value.length + 1, name: "qux" })}&gt;<br/>        add<br/>      &lt;/button&gt;<br/>      &lt;button onClick={() =&gt; clear()}&gt;clear&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; removeById(value.length)}&gt;remove by id&lt;/button&gt;<br/>      &lt;p&gt;{value.map(v =&gt; v.name).join(", ")}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="5b22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个数组，其中的条目具有<code class="fe ms mt mu mj b">id</code>属性。</p><p id="3a77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用ID调用<code class="fe ms mt mu mj b">removeById</code>来根据ID移除项目。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/1fd8b958d968289e2f9e3c7e0b61c423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GDyV1xIcg3hsLKZy"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@wideshot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Anders Wideskott</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3f95" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0f60" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React hookedUp有用于跟踪悬停、焦点和数组状态的有用钩子。</p><h2 id="133a" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">用简单英语写的JavaScript</strong></h2><p id="48f4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>