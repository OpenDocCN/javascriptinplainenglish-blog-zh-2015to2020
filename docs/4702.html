<html>
<head>
<title>Getting Started with Styled-Components in Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js中的样式化组件入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/styled-components-in-next-js-9a4e84278bdb?source=collection_archive---------8-----------------------#2020-12-31">https://javascript.plainenglish.io/styled-components-in-next-js-9a4e84278bdb?source=collection_archive---------8-----------------------#2020-12-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e40f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以编写实际的CSS代码来设计组件的样式。它还删除了组件和样式之间的映射。对我来说，它比CSS/SASS/SCSS要好。<a class="ae ki" href="https://styled-components.com/docs/basics" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">风格分量</em> </strong> </a></p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi kk"><img src="../Images/8a440590dbf7c6426ad024d2f6b589a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SC2enMtYkNzBAz26"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk">Photo by <a class="ae ki" href="https://unsplash.com/@synkevych?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Roman Synkevych</a> on <a class="ae ki" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a11f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我正在使用来自<a class="ae ki" href="https://jetlysandita.medium.com/how-to-build-ssr-page-with-next-js-d6cc9a51f63a" rel="noopener">上一篇文章</a>的现有项目。我们将会使口袋妖怪列表变得更加有趣。你可以<a class="ae ki" href="https://github.com/jetlysandita/medium_pokemon" rel="noopener ugc nofollow" target="_blank">在这里</a>克隆并使用branch init。</p><h1 id="34f4" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1.将样式化组件添加到项目中</h1><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="7a55" class="md lb in lz b gy me mf l mg mh">yarn add styled-components</span></pre><h1 id="afce" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">2.制作标题组件</h1><p id="02d4" class="pw-post-body-paragraph jk jl in jm b jn mi jp jq jr mj jt ju jv mk jx jy jz ml kb kc kd mm kf kg kh ig bi translated">标题为例，你可以尝试其他人以后与你的方式。在根目录下创建组件文件夹。在文件夹组件内创建文件夹标题。</p><p id="0b25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建文件<strong class="jm io"> StyledHeader.js </strong>并创建带有样式化组件的组件。</p><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="3ba0" class="md lb in lz b gy me mf l mg mh">import styled from "styled-components";</span><span id="1f3e" class="md lb in lz b gy mn mf l mg mh">const StyledHeader = styled.div`</span><span id="e6a7" class="md lb in lz b gy mn mf l mg mh">padding: 0;</span><span id="f07d" class="md lb in lz b gy mn mf l mg mh">margin: 0;</span><span id="cc10" class="md lb in lz b gy mn mf l mg mh">box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.75);</span><span id="180f" class="md lb in lz b gy mn mf l mg mh">`;</span><span id="30a9" class="md lb in lz b gy mn mf l mg mh">export default StyledHeader;</span></pre><p id="13bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以用你的风格来改变风格。有背景或者别的什么。</p><p id="5413" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为这个文件只用于自定义样式，所以我们需要为一个组件视图创建<strong class="jm io"> index.jsx </strong>文件，就像一个通用的react组件一样。</p><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="7a08" class="md lb in lz b gy me mf l mg mh">import StyledHeader from "./StyledHeader";</span><span id="9d8c" class="md lb in lz b gy mn mf l mg mh">export default function Header() {</span><span id="197f" class="md lb in lz b gy mn mf l mg mh">return (</span><span id="385b" class="md lb in lz b gy mn mf l mg mh">&lt;StyledHeader&gt;</span><span id="51fc" class="md lb in lz b gy mn mf l mg mh">&lt;h1&gt;Pokemon&lt;/h1&gt;</span><span id="e861" class="md lb in lz b gy mn mf l mg mh">&lt;/StyledHeader&gt;</span><span id="2cd5" class="md lb in lz b gy mn mf l mg mh">);</span><span id="9ab4" class="md lb in lz b gy mn mf l mg mh">}</span></pre><p id="f53d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们呈现文件<strong class="jm io"> MainLayout.js </strong>中的header组件</p><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="4dec" class="md lb in lz b gy me mf l mg mh">import Head from "next/head";</span><span id="a03e" class="md lb in lz b gy mn mf l mg mh">import Header from "../components/Header";</span><span id="c82a" class="md lb in lz b gy mn mf l mg mh">export default function MainLayout(props) {</span><span id="1a88" class="md lb in lz b gy mn mf l mg mh">const { children } = props;</span><span id="a730" class="md lb in lz b gy mn mf l mg mh">return (</span><span id="a722" class="md lb in lz b gy mn mf l mg mh">&lt;&gt;</span><span id="4148" class="md lb in lz b gy mn mf l mg mh">&lt;Head&gt;</span><span id="c7c8" class="md lb in lz b gy mn mf l mg mh">&lt;title&gt;Pokemon&lt;/title&gt;</span><span id="e5a3" class="md lb in lz b gy mn mf l mg mh">&lt;/Head&gt;</span><span id="f907" class="md lb in lz b gy mn mf l mg mh">&lt;Header /&gt;</span><span id="5302" class="md lb in lz b gy mn mf l mg mh">&lt;div&gt;{children}&lt;/div&gt;</span><span id="800e" class="md lb in lz b gy mn mf l mg mh">&lt;/&gt;</span><span id="75d8" class="md lb in lz b gy mn mf l mg mh">);</span><span id="2f75" class="md lb in lz b gy mn mf l mg mh">}</span></pre><p id="3002" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是工作但没有风格，为什么？因为默认下一个js SSR。因此，我们必须使样式组件SSR。我们改一下<strong class="jm io"> _document.js </strong>。</p><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="057f" class="md lb in lz b gy me mf l mg mh">import Document, { Html, Head, Main, NextScript } from "next/document";</span><span id="36e5" class="md lb in lz b gy mn mf l mg mh">import { ServerStyleSheet } from "styled-components";</span><span id="7298" class="md lb in lz b gy mn mf l mg mh">const sheet = new ServerStyleSheet();</span><span id="32c5" class="md lb in lz b gy mn mf l mg mh">class MyDocument extends Document {</span><span id="5de0" class="md lb in lz b gy mn mf l mg mh">static async getInitialProps(ctx) {</span><span id="9be4" class="md lb in lz b gy mn mf l mg mh">const sheet = new ServerStyleSheet();</span><span id="b835" class="md lb in lz b gy mn mf l mg mh">const originalRenderPage = ctx.renderPage;</span><span id="5d92" class="md lb in lz b gy mn mf l mg mh">try {</span><span id="104a" class="md lb in lz b gy mn mf l mg mh">ctx.renderPage = () =&gt;</span><span id="8498" class="md lb in lz b gy mn mf l mg mh">originalRenderPage({</span><span id="9cba" class="md lb in lz b gy mn mf l mg mh">// useful for wrapping the whole react tree</span><span id="a56b" class="md lb in lz b gy mn mf l mg mh">enhanceApp: (App) =&gt; (props) =&gt;</span><span id="9e73" class="md lb in lz b gy mn mf l mg mh">sheet.collectStyles(</span><span id="3034" class="md lb in lz b gy mn mf l mg mh">&lt;&gt;</span><span id="e206" class="md lb in lz b gy mn mf l mg mh">&lt;App {...props} /&gt;</span><span id="9e2f" class="md lb in lz b gy mn mf l mg mh">&lt;/&gt;,</span><span id="2b3f" class="md lb in lz b gy mn mf l mg mh">),</span><span id="4a42" class="md lb in lz b gy mn mf l mg mh">// useful for wrapping in a per-page basis</span><span id="6c72" class="md lb in lz b gy mn mf l mg mh">enhanceComponent: (Component) =&gt; Component,</span><span id="cb62" class="md lb in lz b gy mn mf l mg mh">});</span><span id="3e88" class="md lb in lz b gy mn mf l mg mh">// Run the parent `getInitialProps`, it now includes the custom `renderPage`</span><span id="22b1" class="md lb in lz b gy mn mf l mg mh">const initialProps = await Document.getInitialProps(ctx);</span><span id="fe42" class="md lb in lz b gy mn mf l mg mh">return {</span><span id="d18d" class="md lb in lz b gy mn mf l mg mh">...initialProps,</span><span id="2b9e" class="md lb in lz b gy mn mf l mg mh">styles: (</span><span id="c9c0" class="md lb in lz b gy mn mf l mg mh">&lt;&gt;</span><span id="4ffe" class="md lb in lz b gy mn mf l mg mh">{initialProps.styles}</span><span id="67ad" class="md lb in lz b gy mn mf l mg mh">{sheet.getStyleElement()}</span><span id="17ef" class="md lb in lz b gy mn mf l mg mh">&lt;/&gt;</span><span id="2ca1" class="md lb in lz b gy mn mf l mg mh">),</span><span id="b509" class="md lb in lz b gy mn mf l mg mh">};</span><span id="bb4c" class="md lb in lz b gy mn mf l mg mh">} finally {</span><span id="2c1e" class="md lb in lz b gy mn mf l mg mh">sheet.seal();</span><span id="26ae" class="md lb in lz b gy mn mf l mg mh">}</span><span id="f97f" class="md lb in lz b gy mn mf l mg mh">}</span><span id="d3f8" class="md lb in lz b gy mn mf l mg mh">render() {</span><span id="4e94" class="md lb in lz b gy mn mf l mg mh">return (</span><span id="a68e" class="md lb in lz b gy mn mf l mg mh">&lt;Html lang="en"&gt;</span><span id="ac80" class="md lb in lz b gy mn mf l mg mh">&lt;Head /&gt;</span><span id="b7dd" class="md lb in lz b gy mn mf l mg mh">&lt;body&gt;</span><span id="df77" class="md lb in lz b gy mn mf l mg mh">&lt;Main /&gt;</span><span id="07d1" class="md lb in lz b gy mn mf l mg mh">&lt;NextScript /&gt;</span><span id="ef1a" class="md lb in lz b gy mn mf l mg mh">&lt;/body&gt;</span><span id="4f4d" class="md lb in lz b gy mn mf l mg mh">&lt;/Html&gt;</span><span id="4403" class="md lb in lz b gy mn mf l mg mh">);</span><span id="f412" class="md lb in lz b gy mn mf l mg mh">}</span><span id="15d5" class="md lb in lz b gy mn mf l mg mh">}</span><span id="898c" class="md lb in lz b gy mn mf l mg mh">export default MyDocument;</span></pre><p id="6a6d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">重新运行，它的工作。但正文仍有填充或边距。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi mo"><img src="../Images/6aea5406f883b376323816f603acdd65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_Du51XozW9JKuhfHYickw.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk">Image By <a class="ae ki" href="https://jetlysandita.medium.com/" rel="noopener">Jetly Sandita</a></figcaption></figure><h1 id="e75b" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">3.使用样式化组件创建全局样式</h1><p id="c96f" class="pw-post-body-paragraph jk jl in jm b jn mi jp jq jr mj jt ju jv mk jx jy jz ml kb kc kd mm kf kg kh ig bi translated">我们需要改变我们的体型。你可以用下一个js的全局CSS来做这件事，但是它又是CSS/sass，所以不要这样做，让我们用样式化的组件再次改变<strong class="jm io"> _document.js </strong>(这里的<a class="ae ki" href="https://styled-components.com/docs/faqs#note-regarding-css-import-and-createglobalstyle" rel="noopener ugc nofollow" target="_blank">document</a>)。你可以添加其他字体或任何东西。</p><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="ae4c" class="md lb in lz b gy me mf l mg mh">import Document, { Html, Head, Main, NextScript } from "next/document";</span><span id="515e" class="md lb in lz b gy mn mf l mg mh">import { ServerStyleSheet, createGlobalStyle } from "styled-components";</span><span id="ff7d" class="md lb in lz b gy mn mf l mg mh">const GlobalStyle = createGlobalStyle`</span><span id="8b98" class="md lb in lz b gy mn mf l mg mh">body {</span><span id="e83a" class="md lb in lz b gy mn mf l mg mh">padding: 0;</span><span id="7fb5" class="md lb in lz b gy mn mf l mg mh">margin: 0;</span><span id="3c6f" class="md lb in lz b gy mn mf l mg mh">}</span><span id="16f1" class="md lb in lz b gy mn mf l mg mh">`;</span><span id="a8bd" class="md lb in lz b gy mn mf l mg mh">class MyDocument extends Document {</span><span id="5700" class="md lb in lz b gy mn mf l mg mh">static async getInitialProps(ctx) {</span><span id="f840" class="md lb in lz b gy mn mf l mg mh">const sheet = new ServerStyleSheet();</span><span id="cd63" class="md lb in lz b gy mn mf l mg mh">const originalRenderPage = ctx.renderPage;</span><span id="19bb" class="md lb in lz b gy mn mf l mg mh">try {</span><span id="e18a" class="md lb in lz b gy mn mf l mg mh">ctx.renderPage = () =&gt;</span><span id="e7c5" class="md lb in lz b gy mn mf l mg mh">originalRenderPage({</span><span id="4994" class="md lb in lz b gy mn mf l mg mh">// useful for wrapping the whole react tree</span><span id="4b6c" class="md lb in lz b gy mn mf l mg mh">enhanceApp: (App) =&gt; (props) =&gt;</span><span id="956a" class="md lb in lz b gy mn mf l mg mh">sheet.collectStyles(</span><span id="3590" class="md lb in lz b gy mn mf l mg mh">&lt;&gt;</span><span id="7142" class="md lb in lz b gy mn mf l mg mh">&lt;GlobalStyle /&gt;</span><span id="1eba" class="md lb in lz b gy mn mf l mg mh">&lt;App {...props} /&gt;</span><span id="f5c5" class="md lb in lz b gy mn mf l mg mh">&lt;/&gt;,</span><span id="83d0" class="md lb in lz b gy mn mf l mg mh">),</span><span id="1454" class="md lb in lz b gy mn mf l mg mh">// useful for wrapping in a per-page basis</span><span id="c9af" class="md lb in lz b gy mn mf l mg mh">enhanceComponent: (Component) =&gt; Component,</span><span id="feab" class="md lb in lz b gy mn mf l mg mh">});</span><span id="f74b" class="md lb in lz b gy mn mf l mg mh">// Run the parent `getInitialProps`, it now includes the custom `renderPage`</span><span id="01e5" class="md lb in lz b gy mn mf l mg mh">const initialProps = await Document.getInitialProps(ctx);</span><span id="5f9f" class="md lb in lz b gy mn mf l mg mh">return {</span><span id="0692" class="md lb in lz b gy mn mf l mg mh">...initialProps,</span><span id="3671" class="md lb in lz b gy mn mf l mg mh">styles: (</span><span id="0acc" class="md lb in lz b gy mn mf l mg mh">&lt;&gt;</span><span id="21ac" class="md lb in lz b gy mn mf l mg mh">{initialProps.styles}</span><span id="c278" class="md lb in lz b gy mn mf l mg mh">{sheet.getStyleElement()}</span><span id="5abf" class="md lb in lz b gy mn mf l mg mh">&lt;/&gt;</span><span id="c692" class="md lb in lz b gy mn mf l mg mh">),</span><span id="79ae" class="md lb in lz b gy mn mf l mg mh">};</span><span id="85df" class="md lb in lz b gy mn mf l mg mh">} finally {</span><span id="fe60" class="md lb in lz b gy mn mf l mg mh">sheet.seal();</span><span id="8235" class="md lb in lz b gy mn mf l mg mh">}</span><span id="61b8" class="md lb in lz b gy mn mf l mg mh">}</span><span id="385e" class="md lb in lz b gy mn mf l mg mh">render() {</span><span id="e8f6" class="md lb in lz b gy mn mf l mg mh">return (</span><span id="e519" class="md lb in lz b gy mn mf l mg mh">&lt;Html lang="en"&gt;</span><span id="ffdc" class="md lb in lz b gy mn mf l mg mh">&lt;Head /&gt;</span><span id="226d" class="md lb in lz b gy mn mf l mg mh">&lt;body&gt;</span><span id="30f6" class="md lb in lz b gy mn mf l mg mh">&lt;Main /&gt;</span><span id="ebde" class="md lb in lz b gy mn mf l mg mh">&lt;NextScript /&gt;</span><span id="75c9" class="md lb in lz b gy mn mf l mg mh">&lt;/body&gt;</span><span id="f057" class="md lb in lz b gy mn mf l mg mh">&lt;/Html&gt;</span><span id="d0a0" class="md lb in lz b gy mn mf l mg mh">);</span><span id="c410" class="md lb in lz b gy mn mf l mg mh">}</span><span id="eafa" class="md lb in lz b gy mn mf l mg mh">}</span><span id="ac25" class="md lb in lz b gy mn mf l mg mh">export default MyDocument;</span></pre><h1 id="503b" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">4.用道具改变风格</h1><p id="b03a" class="pw-post-body-paragraph jk jl in jm b jn mi jp jq jr mj jt ju jv mk jx jy jz ml kb kc kd mm kf kg kh ig bi translated">样式化组件在样式化时获得道具值。所以我们可以用道具自定义组件样式，就像这样。</p><pre class="kl km kn ko gt ly lz ma mb aw mc bi"><span id="9be3" class="md lb in lz b gy me mf l mg mh">import styled from "styled-components";</span><span id="d5b5" class="md lb in lz b gy mn mf l mg mh">const StyledHeader = styled.div`</span><span id="8c5b" class="md lb in lz b gy mn mf l mg mh">padding: 0;</span><span id="254b" class="md lb in lz b gy mn mf l mg mh">margin: 0;</span><span id="c65a" class="md lb in lz b gy mn mf l mg mh">${(props) =&gt; props.height &amp;&amp; `height: ${props.height}px;`};</span><span id="44c3" class="md lb in lz b gy mn mf l mg mh">box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.75);</span><span id="779d" class="md lb in lz b gy mn mf l mg mh">`;</span><span id="3336" class="md lb in lz b gy mn mf l mg mh">export default StyledHeader;</span><span id="61ea" class="md lb in lz b gy mn mf l mg mh">import StyledHeader from "./StyledHeader";</span><span id="555f" class="md lb in lz b gy mn mf l mg mh">export default function Header({ height }) {</span><span id="8a11" class="md lb in lz b gy mn mf l mg mh">return (</span><span id="e64e" class="md lb in lz b gy mn mf l mg mh">&lt;StyledHeader height={height}&gt;</span><span id="8065" class="md lb in lz b gy mn mf l mg mh">&lt;h1&gt;Pokemon&lt;/h1&gt;</span><span id="19ba" class="md lb in lz b gy mn mf l mg mh">&lt;/StyledHeader&gt;</span><span id="8cd0" class="md lb in lz b gy mn mf l mg mh">);</span><span id="9fe7" class="md lb in lz b gy mn mf l mg mh">}</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi mo"><img src="../Images/662adadda3d6e89f65119edfa96f9485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0JevGiu2YX4xyeprcUH7pA.png"/></div></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk">Image By <a class="ae ki" href="https://jetlysandita.medium.com/" rel="noopener">Jetly Sandita</a></figcaption></figure><p id="1afb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以试试其他类似的东西。试试字体大小或任何你需要的东西，让它看起来更漂亮。</p><p id="8c5d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，我将分享一个主题，并为库组件扩展样式化组件。</p><p id="39e5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ki" href="https://github.com/jetlysandita/medium_pokemon/tree/styled-components" rel="noopener ugc nofollow" target="_blank">在此查看项目</a></p><p id="4124" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你知道任何其他方法，建议或问题，请在下面评论。谢谢:)</p></div></div>    
</body>
</html>