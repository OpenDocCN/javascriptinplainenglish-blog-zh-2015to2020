<html>
<head>
<title>Using TypeScript — Tuples and Enums</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用类型脚本—元组和枚举</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-typescript-tuples-and-enums-f219c3a6072b?source=collection_archive---------2-----------------------#2020-06-18">https://javascript.plainenglish.io/using-typescript-tuples-and-enums-f219c3a6072b?source=collection_archive---------2-----------------------#2020-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/300830628eecbca85dce0c992258b424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4wD9Gj6-Nt3oOY1V"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@danielcgold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dan Gold</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c4b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">TypeScript是JavaScript的自然扩展，在许多项目中取代了JavaScript。</p><p id="cc57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，并不是每个人都知道它实际上是如何工作的。</p><p id="ec06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何在我们的类型脚本代码中定义和使用元组和枚举。</p><h1 id="0c57" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">元组</h1><p id="62f4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">元组是固定长度的数组，每个元素可以有不同的类型。</p><p id="5804" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它是一种特定于TypeScript的数据结构，被转换成常规的JavaScript数组。</p><p id="3f5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样定义它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0e1a" class="mn lc iq mj b gy mo mp l mq mr">let person: [string, number] = ["james", 100];</span></pre><p id="880f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">元组使用方括号定义，其中每个元素的类型用逗号分隔。</p><p id="236c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的例子中，我们定义了一个包含2个元素的元组，其中第一个元素必须是一个字符串，第二个元素必须是一个数字。</p><h1 id="b370" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">处理元组</h1><p id="b30d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">TypeScript强制执行我们可以对数组采取的操作。</p><p id="ae10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将它们与标准的JavaScript特性一起使用，因为它们只是用常规数组实现的。</p><p id="cf38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c8c2" class="mn lc iq mj b gy mo mp l mq mr">const strings: string[] = person.map(e =&gt; e.toString());</span></pre><p id="0d22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们把它上面的<code class="fe ms mt mu mj b">map</code>叫做常规数组。</p><p id="48b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">元组还可以使用其他数组方法和操作。</p><h1 id="f731" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用元组类型</h1><p id="b944" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">元组有一个独特的类型，可以像任何类型一样使用。</p><p id="f0ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着我们可以创建元组数组、带有元组的联合类型以及类型保护来限制元组类型中的值。</p><p id="61b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="118b" class="mn lc iq mj b gy mo mp l mq mr">let person: [string, number] = ["james", 100];<br/>person.forEach(e =&gt; {<br/>  if (typeof e === "number") {<br/>    console.log(`number: ${e}`);<br/>  } else if (typeof e === "string") {<br/>    console.log(`string: ${e}`);<br/>  }<br/>});</span></pre><p id="1da2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用了<code class="fe ms mt mu mj b">forEach</code>方法来遍历条目并显示元组中每个条目的数据类型。</p><p id="f983" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">typeof</code>操作符让我们检查类型并根据每种类型做一些事情。</p><h1 id="ef9f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">枚举</h1><p id="4c61" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">枚举let's已经创建了一个按名称使用的集合。</p><p id="271b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它使代码更容易阅读，并确保一致地使用固定的值集。</p><p id="70fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以如下定义TypeScript枚举:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7400" class="mn lc iq mj b gy mo mp l mq mr">enum Fruit {<br/>  APPLE,<br/>  ORANGE,<br/>  GRAPE<br/>}</span></pre><p id="e990" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了<code class="fe ms mt mu mj b">enum</code>关键字和一堆常量来定义一个枚举。</p><p id="205d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2107" class="mn lc iq mj b gy mo mp l mq mr">const apple = Fruit.APPLE;</span></pre><p id="2482" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认情况下，枚举值将被映射到一个数字，所以<code class="fe ms mt mu mj b">apple</code>将是0，因为<code class="fe ms mt mu mj b">Fruit.APPLE</code>是0。</p><p id="6659" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样地<code class="fe ms mt mu mj b">Fruit.ORANGE</code>是1而<code class="fe ms mt mu mj b">Fruit.GRAPE</code>是2。</p><p id="0ea3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于缺省情况下枚举值是JavaScript <code class="fe ms mt mu mj b">number</code>值，我们可以给一个数字变量赋值:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5091" class="mn lc iq mj b gy mo mp l mq mr">const apple: number = Fruit.APPLE;</span></pre><p id="46e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而且TypeScript编译器不会给我们任何错误。</p><p id="73d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们无法比较不同枚举的值。</p><p id="4819" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们不能写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8eff" class="mn lc iq mj b gy mo mp l mq mr">enum Fruit {<br/>  APPLE,<br/>  ORANGE,<br/>  GRAPE<br/>}</span><span id="c729" class="mn lc iq mj b gy mv mp l mq mr">enum Gender {<br/>  MALE,<br/>  FEMALE<br/>}</span><span id="ad98" class="mn lc iq mj b gy mv mp l mq mr">const apple: number = Fruit[Gender.FEMALE];</span></pre><p id="fd66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以将自己的值赋给一个枚举，因此我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cd2e" class="mn lc iq mj b gy mo mp l mq mr">enum Fruit {<br/>  APPLE,<br/>  ORANGE = 10,<br/>  GRAPE<br/>}</span></pre><p id="092b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">Fruit.ORANGE</code>就是10，<code class="fe ms mt mu mj b">Fruit.GRAPE</code>就是11。</p><p id="d56f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果常数在赋有值的之后，它将从设定值开始递增。</p><h1 id="0b43" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">字符串枚举</h1><p id="1a94" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">默认情况下，TypeScript枚举有数字值。</p><p id="c7ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，我们可以给它分配一个字符串值。</p><p id="c368" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="718d" class="mn lc iq mj b gy mo mp l mq mr">enum Fruit {<br/>  APPLE = "apple",<br/>  ORANGE = "orange",<br/>  GRAPE = "grape"<br/>}</span></pre><p id="69dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们将一个枚举常量设置为一个字符串，我们就必须将它们都设置为一个字符串。</p><p id="e63f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们会得到一个错误。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/71608088e2fa174fac9ce9a7815794cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WoETmWsykge1GpDn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@edgarraw?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Edgar Castrejon</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="79ad" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">枚举的局限性</h1><p id="6066" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">enums有一些限制。</p><p id="5335" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为枚举功能是用TypeScript编译器实现的。</p><p id="2330" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，假设我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cbf6" class="mn lc iq mj b gy mo mp l mq mr">enum Fruit {<br/>  APPLE,<br/>  ORANGE,<br/>  GRAPE<br/>}</span></pre><p id="ae98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写为其赋值:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4331" class="mn lc iq mj b gy mo mp l mq mr">const fruit: Fruit = 100;</span></pre><p id="37d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">TypeScript编译器不会阻止我们为枚举类型的变量赋值。</p><p id="293a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，这不是字符串枚举的问题。</p><p id="7ae6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，<code class="fe ms mt mu mj b">typeof</code>运算符无法区分枚举和数值。</p><p id="84bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c070" class="mn lc iq mj b gy mo mp l mq mr">enum Fruit {<br/>  APPLE,<br/>  ORANGE,<br/>  GRAPE<br/>}</span><span id="b350" class="mn lc iq mj b gy mv mp l mq mr">let fruit: Fruit = Fruit.APPLE;<br/>if (typeof fruit === "number") {<br/>  console.log("fruit is a number");<br/>}</span></pre><p id="a2b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe ms mt mu mj b">'fruit is a number'</code>日志。</p><h1 id="b8cf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0a8c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将元组用作固定长度的数组，并且它们可以包含不同类型的数据。</p><p id="5135" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">元组可以调用数组方法，因为它们是有一些限制的JavaScript数组。</p><p id="23e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">枚举让我们可以在一个保护伞下定义常量值。</p><p id="54e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们可以有字符串或数字值。</p><h2 id="0519" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语中的JavaScript</h2><p id="f5cb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>