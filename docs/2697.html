<html>
<head>
<title>JavaScript Tips — TypeScript Interface Checks, Showing/Hiding Elements, and More</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript提示—类型脚本接口检查、显示/隐藏元素等等</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-tips-typescript-interface-checks-showing-hiding-elements-and-more-b8ebe77a2b8c?source=collection_archive---------6-----------------------#2020-07-15">https://javascript.plainenglish.io/javascript-tips-typescript-interface-checks-showing-hiding-elements-and-more-b8ebe77a2b8c?source=collection_archive---------6-----------------------#2020-07-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f508e0c60e74e5f9ea917e6341dd3cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WMB1tmmrOd-4EHIh"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@redcharlie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">redcharlie</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="be60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，当我们编写JavaScript应用程序时，有一些困难的问题需要解决。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究一些常见JavaScript问题的解决方案。</p><h1 id="16e3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">NPM包装上“at”(@)前缀的含义</h1><p id="8533" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">前缀<code class="fe me mf mg mh b">@</code>意味着这个包是一个作用域包。</p><p id="780f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着带有<code class="fe me mf mg mh b">@</code>前缀的作品是包的名称空间。</p><p id="38ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，<code class="fe me mf mg mh b">@angular/http</code>的名称空间是<code class="fe me mf mg mh b">angular</code>。</p><p id="3149" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">限定范围的包不会出现在公共搜索中。</p><p id="e9a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中许多是作为私有包创建的。</p><h1 id="b092" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用JavaScript编写内联if语句</h1><p id="2b53" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用Javascript中的<code class="fe me mf mg mh b">?</code>来编写内联<code class="fe me mf mg mh b">if</code>语句。</p><p id="a4e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6259" class="mq lc iq mh b gy mr ms l mt mu">(a &lt; b) ? 'bigger' : 'smaller'</span></pre><p id="b29d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">a &lt; b</code>是布尔表达式。</p><p id="cd7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是<code class="fe me mf mg mh b">true</code>，那么我们返回<code class="fe me mf mg mh b">'bigger'</code>。</p><p id="a3e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们返回<code class="fe me mf mg mh b">'smaller'</code>。</p><h1 id="a10a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Typescript进行接口类型检查</h1><p id="5485" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">in</code>操作符检查一个对象是否匹配一个接口。</p><p id="d40a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ad82" class="mq lc iq mh b gy mr ms l mt mu">interface A {<br/>  name: string;<br/>}</span></pre><p id="def4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以创建以下函数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="229d" class="mq lc iq mh b gy mr ms l mt mu">function instanceOfA(object: any): object is A {<br/>  return 'name' in object;<br/>}</span></pre><p id="7e46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们把返回类型设为<code class="fe me mf mg mh b">instanceOfA</code> <code class="fe me mf mg mh b">object is A</code>。这样，我们返回<code class="fe me mf mg mh b">object</code>是否匹配一个接口。</p><p id="2a37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以调用如下函数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e801" class="mq lc iq mh b gy mr ms l mt mu">if (instanceOfA(obj)) {<br/>  //...<br/>}</span></pre><h1 id="8d8b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在JSON中处理换行符</h1><p id="00a7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们的JavaScript对象中有换行符，那么我们需要在JSON字符串中对它们进行转义。</p><p id="ca99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们会得到一个未终止的字符串文字错误。</p><p id="3c5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ec9b" class="mq lc iq mh b gy mr ms l mt mu">const data = '{ "count" : 1, "foo" : "text\n\n" }';</span></pre><p id="ff87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8b94" class="mq lc iq mh b gy mr ms l mt mu">const data = '{ "count" : 1, "foo" : "text\\n\\n" }';</span></pre><h1 id="d314" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建ID为的元素</h1><p id="6886" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过在<code class="fe me mf mg mh b">createElement</code>方法之后使用<code class="fe me mf mg mh b">setAttribute</code>方法来创建一个带有ID的元素。</p><p id="6ece" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="66fe" class="mq lc iq mh b gy mr ms l mt mu">const div = document.createElement('div');<br/>div.setAttribute("id", "foo");</span></pre><h1 id="1f99" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用JavaScript隐藏或显示元素</h1><p id="7624" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要隐藏一个元素，我们可以将元素的<code class="fe me mf mg mh b">style.display</code>属性设置为<code class="fe me mf mg mh b">'none'</code>来隐藏一个元素。</p><p id="109a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e832" class="mq lc iq mh b gy mr ms l mt mu">document.getElementById('foo').style.display = 'none';</span></pre><p id="63be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">隐藏ID为<code class="fe me mf mg mh b">'foo'</code>的元素。</p><p id="c445" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想显示一个元素，我们可以将<code class="fe me mf mg mh b">style.display</code>设置为<code class="fe me mf mg mh b">'block'</code>。</p><p id="3cd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7a93" class="mq lc iq mh b gy mr ms l mt mu">document.getElementById('foo').style.display = 'block';</span></pre><h1 id="7a03" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对于某些文字，instanceof返回false</h1><p id="339b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们使用<code class="fe me mf mg mh b">instanceof</code>来检查原始文字的类型，我们将得到所有原始文字的<code class="fe me mf mg mh b">false</code>。</p><p id="813b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c88e" class="mq lc iq mh b gy mr ms l mt mu">"foo" instanceof String</span></pre><p id="6c3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后那个会返回<code class="fe me mf mg mh b">fale</code>。</p><p id="d18d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，<code class="fe me mf mg mh b">false instanceof Boolean</code>也返回<code class="fe me mf mg mh b">false</code>。</p><p id="fe9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了检查原始文字的类型，我们应该使用<code class="fe me mf mg mh b">typeof</code>操作符。</p><p id="fc67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b7b2" class="mq lc iq mh b gy mr ms l mt mu">typeof str === 'string'</span></pre><p id="8098" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">检查<code class="fe me mf mg mh b">str</code>是否为原始字符串。</p><p id="9fa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以对数字和布尔这样的原始类型做同样的事情。</p><h1 id="576d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将多个元素推入数组</h1><p id="6c63" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">push</code>将多个项目推送到一个数组中。</p><p id="4cae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="35f1" class="mq lc iq mh b gy mr ms l mt mu">const arr = [];<br/>arr.push(1, 2, 3);</span></pre><p id="2553" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用3个数字调用push，它们都会被相加。</p><p id="37de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，如果我们有一个数组，我们可以使用<code class="fe me mf mg mh b">apply</code>方法。</p><p id="f1f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9ce8" class="mq lc iq mh b gy mr ms l mt mu">arr.push.apply(arr, [1, 2, 3]);</span></pre><p id="c3c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5d4b" class="mq lc iq mh b gy mr ms l mt mu">Array.prototype.push.apply(arr, [1, 2, 3])</span></pre><p id="addb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">做同样的事情。</p><p id="877f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用spread运算符:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d28c" class="mq lc iq mh b gy mr ms l mt mu">arr.push.apply(...[1, 2, 3]);</span></pre><p id="a66d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都将数组条目作为参数传入。</p><h1 id="fa93" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">制作一个HTML反向链接</h1><p id="5e45" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要创建一个指向前一个URL的HTML链接，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ad50" class="mq lc iq mh b gy mr ms l mt mu">&lt;a href="javascript:history.back()"&gt;Go Back&lt;/a&gt;</span></pre><p id="5a02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当链接被点击进入前一页时，我们调用<code class="fe me mf mg mh b">history.back()</code>。</p><p id="4591" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9824" class="mq lc iq mh b gy mr ms l mt mu">&lt;a href="#" onclick="history.go(-1)"&gt;Go Back&lt;/a&gt;</span></pre><p id="b212" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">做同样的事情。</p><h1 id="25b0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">currentTarget属性和Target属性之间的差异</h1><p id="2b80" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">由于事件冒泡，<code class="fe me mf mg mh b">currentTarget</code>和<code class="fe me mf mg mh b">target</code>属性之间存在差异。</p><p id="ac91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">target</code>是触发事件的元素。</p><p id="159b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">currentTarget</code>是事件监听器附加到的元素。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/248e8cf46c5743e6d71979e68bb938f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zmLkIVOi9QLVolvF"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mitchures?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mitchell Hollander</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="6082" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7e4e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用前缀<code class="fe me mf mg mh b">@</code>创建命名空间包。</p><p id="3c31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以用多个参数调用<code class="fe me mf mg mh b">push</code>。</p><p id="f132" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">instanceof</code>不能用于检查原始值。</p><p id="dc8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示和隐藏项目可以用JavaScript来完成。</p><h2 id="412c" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="9f3c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>