<html>
<head>
<title>JavaScript module namespace exports</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript模块名称空间导出</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-module-namespace-exports-71dc7d1a75c0?source=collection_archive---------4-----------------------#2020-04-04">https://javascript.plainenglish.io/javascript-module-namespace-exports-71dc7d1a75c0?source=collection_archive---------4-----------------------#2020-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="eaa6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript ES2020的新特性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fc8c0f89303c8c9114d425164587d3c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cUOknyEHrQ6wGqynmp__Eg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Grayscale photo of a computer with code, white-notebook, and a cup of coffee</figcaption></figure><p id="62dc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">从ES6开始，我们可以使用import和export关键字分别导入或导出函数、对象或原语。有许多方法可以使用导入和导出关键字，例如，默认导出或命名导出，但很快我们将有另一种方法:“模块名称空间导出”</p><p id="345c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">模块名称空间导出在ECMAScript Stage4中，这意味着添加已经准备好包含在正式的<a class="ae lr" href="https://tc39.es/process-document/" rel="noopener ugc nofollow" target="_blank"> ECMAScript标准</a>中。</p><h2 id="92c4" class="ls lt iq bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">默认导出</h2><p id="b266" class="pw-post-body-paragraph kv kw iq kx b ky ml jr la lb mm ju ld le mn lg lh li mo lk ll lm mp lo lp lq ij bi translated">我们使用默认导出只导出一个值。在导入过程中，我们可以省略花括号，并且可以使用我们想要的名称:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="fdc3" class="ls lt iq mr b gy mv mw l mx my">//------ utils.js ------<br/>export default 10;<br/>//------ main.js ------<br/>import aValue from 'utils.mjs';</span><span id="d458" class="ls lt iq mr b gy mz mw l mx my">//------ utils.js ------<br/>export default class MyClass {}<br/>//------ main.js ------<br/>import oneClass from 'utils.mjs';</span></pre><h2 id="84d7" class="ls lt iq bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">指定出口</h2><p id="7d44" class="pw-post-body-paragraph kv kw iq kx b ky ml jr la lb mm ju ld le mn lg lh li mo lk ll lm mp lo lp lq ij bi translated">我们可以为每个文件指定多个导出。在导入过程中，必须使用相同的名称。命名导出主要是指导出和导入任何具有定义名称的对象、函数或原始值:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="a144" class="ls lt iq mr b gy mv mw l mx my">//------ utils.js ------<br/>export function sum(x) {<br/>    return x + x;<br/>}<br/>export function square(x) {<br/>    return x * x;<br/>}<br/>//------ main.js ------<br/>import {sum, square} from 'utils.mjs';</span></pre><h2 id="ef79" class="ls lt iq bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">混合默认/命名导出</h2><p id="7583" class="pw-post-body-paragraph kv kw iq kx b ky ml jr la lb mm ju ld le mn lg lh li mo lk ll lm mp lo lp lq ij bi translated">每个文件可以有多个命名导出，但同一个文件中只有一个默认导出:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9ba8" class="ls lt iq mr b gy mv mw l mx my">//------ utils.js ------<br/>export default class MyClass {}<br/>export function sum(x) {<br/>    return x + x;<br/>}</span><span id="766c" class="ls lt iq mr b gy mz mw l mx my">//------ main.js ------<br/>import mYClass, { sum} from 'utils.mjs';</span></pre><p id="8111" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还可以使用*选择器从脚本中导入所有导出，如下所示:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0b2c" class="ls lt iq mr b gy mv mw l mx my">//------ utils.js ------<br/>export default class MyClass {}<br/>export function sum(x) {<br/>    return x + x;<br/>}</span><span id="a876" class="ls lt iq mr b gy mz mw l mx my">//------ main.js ------<br/>import * from './utils.mjs';.</span></pre><p id="622a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如我们在前面的案例中所看到的，导出声明和导入声明之间存在语法上的对称性。这种对称行为在编程时为我们提供了类似的体验。<br/>然而，在实际的规范中，这种对称性有一个缺口，它会导致令人困惑的行为。</p><p id="a938" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，对于以下导入，我们没有预期的对称导出行为:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="7ff4" class="ls lt iq mr b gy mv mw l mx my">//------ main.js ------<br/><strong class="mr ir">import * from './utils.mjs';.</strong></span></pre><p id="8051" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">模拟这种情况的方法是:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="307f" class="ls lt iq mr b gy mv mw l mx my">import * as utils from './utils.mjs';<br/>export {utils};</span></pre><p id="08fd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">很快，使用对称语法建议“模块名称空间导出”，我们将能够以类似于导入语句的方式重写上面的代码:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="4905" class="ls lt iq mr b gy mv mw l mx my">//------ utils.js ------<br/><strong class="mr ir">export * as utils from './utils.mjs'</strong></span></pre><h2 id="9756" class="ls lt iq bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">结论</h2><p id="2d07" class="pw-post-body-paragraph kv kw iq kx b ky ml jr la lb mm ju ld le mn lg lh li mo lk ll lm mp lo lp lq ij bi translated">名称空间导出为开发人员引入了相同的导入/导出关键字使用风格，获得了对称的行为，并有助于避免错误。</p><p id="71ed" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">非常感谢您阅读这篇关于JavaScript ES2020中这个有用特性的小文章。</p><p id="c9cc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望它对你有用！</p><p id="88fb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">更多在<a class="ae lr" href="https://medium.com/javascript-in-plain-english/new-javascript-features-in-es2020-c2d76acf9c5a" rel="noopener"><strong class="kx ir">es 2020中的JavaScript新特性(ES11) </strong> </a></p><p id="57af" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">【JavaScript用简单的英语写的一句话:我们总是对帮助推广高质量的内容感兴趣。如果你有一篇文章想用简单的英语提交给JavaScript，用你的中级用户名发邮件到<a class="ae lr" href="mailto:submissions@javascriptinplainenglish.com" rel="noopener ugc nofollow" target="_blank">submissions@javascriptinplainenglish.com</a>给我们，我们会把你添加为作者。</p></div></div>    
</body>
</html>