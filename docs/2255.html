<html>
<head>
<title>8 Most Used Array Operations in JavaScript (ES6+)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中8个最常用的数组操作(ES6+)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/8-most-used-array-operations-in-javascript-es6-77a574905d7a?source=collection_archive---------5-----------------------#2020-06-04">https://javascript.plainenglish.io/8-most-used-array-operations-in-javascript-es6-77a574905d7a?source=collection_archive---------5-----------------------#2020-06-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bf35" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">增强你的数据处理技能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/324f35fb844c7499ae8ab57fed7c263d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jcjWEUgVAlrN9CNo.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by <a class="ae kv" href="https://pixabay.com/users/geralt-9301/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2761159" rel="noopener ugc nofollow" target="_blank">Gerd Altmann</a> from <a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2761159" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="1878" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数组是最常见的数据结构之一，你需要绝对自信地使用它。在这里，我将列出JavaScript中最常见的8个数组操作片段，包括数组长度、替换元素、排序等等。</p><h1 id="5705" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.数组长度</h1><p id="0883" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">大多数人都知道可以像这样得到数组的长度:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="38d7" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>console.log(a.length); // 3</span></pre><p id="994d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有趣的是，你可以手动修改长度。这就是我所说的:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="509d" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>a.length = 2; <br/>a.forEach(i =&gt; console.log(i)); // 1 2</span></pre><p id="034e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">甚至创建指定长度的新数组:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8ade" class="mu lt iq mq b gy mv mw l mx my">const a = []; <br/>a.length = 100; <br/>console.log(a) // [undefined, undefined, undefined ...</span></pre><p id="829e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不是一个很好的实践，但是仍然值得<em class="mz">了解</em>。</p><h1 id="7fcd" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.替换数组元素</h1><p id="372d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">有几种方法可以解决这个问题。如果需要<strong class="ky ir">替换指定索引</strong>处的元素，使用<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noopener ugc nofollow" target="_blank">splice</a></code>:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="c197" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; </span><span id="0101" class="mu lt iq mq b gy nd mw l mx my">a.splice(2, 1, 4); // change 1 element at index 2 to 4 console.log(a); // [1, 2, 4] </span><span id="2cfb" class="mu lt iq mq b gy nd mw l mx my">a.splice(0, 2, 5, 6) // change 2 elements at index 0 to 5 and 6 console.log(a); // [5, 6, 4]</span></pre><p id="f1a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您需要根据内容替换项目<strong class="ky ir">或者<strong class="ky ir">您必须创建一个新的数组</strong>，请使用<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank">map</a></code>:</strong></p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="800d" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3, 4, 5, 6]; </span><span id="8bdd" class="mu lt iq mq b gy nd mw l mx my">// Now square all odd numbers <br/>const b = a.map(item =&gt; item % 2 == 0 ? item : item*item); console.log(b); // [1, 2, 9, 4, 25, 6];</span></pre><p id="696e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe na nb nc mq b">map</code>接受一个函数作为其参数。它将为数组的每个元素调用这个函数<em class="mz">一次</em>，并创建一个函数返回的新的项目数组。</p><h1 id="6392" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.过滤数组</h1><p id="1170" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在某些情况下，您需要删除数组中的某些元素，创建一个新的元素。在这种情况下，使用ES6中引入的令人惊叹的新<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank">filter</a></code>方法:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="b10c" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3, 4, 5, 6, 7]; </span><span id="afee" class="mu lt iq mq b gy nd mw l mx my">// Filter out all odd numbers <br/>const b = a.filter(item =&gt; item % 2 == 0); <br/>console.log(b); // [2, 4, 6];</span></pre><p id="b357" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe na nb nc mq b">filter</code>的工作原理与<code class="fe na nb nc mq b">map</code>非常相似。你给它提供一个函数，<code class="fe na nb nc mq b">filter</code>会在数组的每个元素上调用它。如果要在新数组中包含这个特定元素，函数必须返回true，否则返回false。</p><h1 id="a052" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.合并数组</h1><p id="38e3" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果您想将多个数组合并成一个数组，有两种方法。<strong class="ky ir">ES6之前的</strong> JS提供了<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" rel="noopener ugc nofollow" target="_blank">concat</a></code>功能:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="9195" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>const b = [4, 5, 6]; <br/>console.log(a.concat(b)); // [1, 2, 3, 4, 5, 6]</span></pre><p id="2705" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，有一个更方便的方法，这要归功于ES6中引入的<strong class="ky ir">传播</strong>操作符:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="93ea" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>const b = [4, 5, 6]; <br/>console.log([...a, ...b]); // [1, 2, 3, 4, 5, 6]</span></pre><h1 id="7b0f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">5.复制数组</h1><p id="3528" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">由于忙于编码，很容易忘记变量并不存储数组，而仅仅是一个引用。我的意思是:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="0b02" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>const b = a; <br/>b[0] = 4; <br/>b[1] = 2; <br/>b[2] = 0; <br/>console.log(a); // [4, 2, 0]</span></pre><p id="a1f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于<code class="fe na nb nc mq b">b</code>持有对<code class="fe na nb nc mq b">a</code>的引用，所以对<code class="fe na nb nc mq b">b</code>的任何更改也是对<code class="fe na nb nc mq b">a</code>的更改。要解决此<strong class="ky ir"> pre-ES6 </strong>，请使用<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" rel="noopener ugc nofollow" target="_blank">slice</a></code>功能:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="683b" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>const b = a.slice(0); <br/>b[1] = 5; <br/>console.log(a); // [1, 2, 3]; <br/>console.log(b); // [5, 2, 3];</span></pre><p id="44ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您在ES6+友好的环境中，也可以使用spread运算符:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="744e" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; <br/>const b = [...a]; <br/>b[1] = 5; <br/>console.log(a); // [1, 2, 3]; <br/>console.log(b); // [5, 2, 3];</span></pre><h1 id="a9fd" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">6.从数组中删除重复项</h1><p id="638c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">有3种方法可以从数组中删除重复项。前两个是ES6之前的版本，第三个是使用新功能。</p><p id="1042" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">使用</strong> <code class="fe na nb nc mq b"><strong class="ky ir">reduce</strong></code> <strong class="ky ir">。</strong>您可以使用<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener ugc nofollow" target="_blank">reduce</a></code>功能从数组中删除所有的重复项。然而，这有点棘手。<code class="fe na nb nc mq b">reduce</code>将接受一个函数并在其中传递两个参数:来自数组的当前值和<em class="mz">累加器</em>。累加器在项目间保持不变，最终返回:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8b13" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 1, 2, 3, 1, 5, 9, 4, 2]; </span><span id="884b" class="mu lt iq mq b gy nd mw l mx my">const b = a.reduce(<br/>  (acc, item) =&gt;<br/>    acc.indexOf(item) == -1 ? acc : [...acc, item],<br/>  [] // initial accumulator<br/>);</span><span id="65f8" class="mu lt iq mq b gy nd mw l mx my">console.log(b); // [1, 2, 3, 5, 9, 4]</span></pre><p id="dc36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">使用过滤器。</strong>另一个可以帮助你在JavaScript中从数组中删除重复项的函数是<code class="fe na nb nc mq b">filter</code>，我们之前已经介绍过了:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="7716" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 1, 2, 3, 1, 5, 9, 4, 2]; </span><span id="a1c3" class="mu lt iq mq b gy nd mw l mx my">const b = a.filter((item, index) =&gt; a.indexOf(item) == index);<br/> <br/>console.log(b); // [1, 2, 3, 5, 9, 4]</span></pre><p id="bf22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">使用设定</strong>。最后，您可以使用<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener ugc nofollow" target="_blank">Set</a></code>(ES6中引入的新数据结构)和spread操作符:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="c039" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 1, 2, 3, 1, 5, 9, 4, 2]; <br/>const b = [...(new Set(a))]; <br/>console.log(b); // [1, 2, 3, 5, 9, 4]</span></pre><h1 id="9730" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">7.转换数组</h1><p id="5715" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">有时你必须将其他数据结构如集合或字符串转换成数组。在这种情况下，使用<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" rel="noopener ugc nofollow" target="_blank">Array.from</a></code>功能:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="e648" class="mu lt iq mq b gy mv mw l mx my">const str = 'abacaba'; <br/>const st = new Set(1, 2, 3); </span><span id="6418" class="mu lt iq mq b gy nd mw l mx my">console.log(Array.from(str)); // ['a', 'b', 'a' ... console.log(Array.from(st)); // [1, 2, 3]</span></pre><h1 id="c130" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">8.遍历数组</h1><p id="cf35" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">有两种简便的方法可以迭代数组。适用于所有JS版本的最简单的方法是常规for循环:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="acfa" class="mu lt iq mq b gy mv mw l mx my">const a = [1, 2, 3]; </span><span id="3e69" class="mu lt iq mq b gy nd mw l mx my">for (let i = 0; i &lt; a.length; i++) { <br/>  console.log(a[i]); <br/>} // 1 2 3</span></pre><p id="c2a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用更新的、符合ES6的JS，您还可以获得foreach循环:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="5738" class="mu lt iq mq b gy mv mw l mx my">for (const i of a) {<br/>  console.log(i); <br/>} // 1 2 3</span></pre><p id="934a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，还有<code class="fe na nb nc mq b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noopener ugc nofollow" target="_blank">forEach</a></code>功能:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="ba22" class="mu lt iq mq b gy mv mw l mx my">a.forEach(i =&gt; console.log(i)); // 1 2 3</span></pre><p id="cdb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe na nb nc mq b">forEach</code>的工作方式与<code class="fe na nb nc mq b">map</code>、<code class="fe na nb nc mq b">filter</code>和<code class="fe na nb nc mq b">reduce</code>非常相似:它会对每个项目调用一次函数，但不会返回任何内容。</p><h1 id="3c51" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结束语</h1><p id="12df" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">谢谢你的阅读，我希望你喜欢我的文章。继续订阅更多关于JavaScript和软件开发的有趣材料！</p><h2 id="c913" class="mu lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated"><strong class="ak">用简单英语写的JavaScript</strong></h2><p id="a164" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅我们的YouTube频道</strong> </a> <strong class="ky ir">获取更多类似内容！</strong></p><h1 id="20a6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">资源</h1><ul class=""><li id="72a9" class="np nq iq ky b kz mk lc ml lf nr lj ns ln nt lr nu nv nw nx bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="noopener ugc nofollow" target="_blank">MDN上的数组</a></li><li id="21c2" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><a class="ae kv" href="https://medium.com/javascript-in-plain-english/10-javascript-interview-questions-for-2020-697b40de9480" rel="noopener">10 JS 2020年回顾问题</a></li><li id="2d49" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated"><a class="ae kv" href="https://medium.com/javascript-in-plain-english/to-infinity-and-beyond-with-javascript-proxy-api-8d4f7a26c8dc" rel="noopener">通过JS代理API实现无限甚至更远的距离</a></li></ul></div></div>    
</body>
</html>