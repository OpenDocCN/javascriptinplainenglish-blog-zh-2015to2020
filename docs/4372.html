<html>
<head>
<title>What Is The Best Way To Display A PDF In A Web App?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Web应用程序中显示PDF的最佳方式是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-the-best-way-to-display-a-pdf-in-a-web-app-cb20dca3adbb?source=collection_archive---------0-----------------------#2020-12-07">https://javascript.plainenglish.io/what-is-the-best-way-to-display-a-pdf-in-a-web-app-cb20dca3adbb?source=collection_archive---------0-----------------------#2020-12-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/efabc5fcd458a9d708f3e2e3a1b7d721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*myGchDqt6KfzqnjR"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@andreamaraldg?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Andre A. Xavier</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9f1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在web应用程序中显示PDF应该非常简单。</p><p id="75ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在大多数情况下是这样的。</p><p id="1e4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大多数网络浏览器<em class="lb">都支持本地显示pdf，不需要第三方库。然而，行为将<em class="lb">而不是</em>总是一致的。</em></p><p id="ec05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们先看看你可以在你的web应用程序中显示PDF的一些方法，然后展示最好的技术，Mozilla的PDF.js在React应用程序的上下文中的。</p><h1 id="422b" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">使用<embed/></h1><p id="d89e" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">使用<code class="fe mf mg mh mi b">&lt;embed&gt;</code>标签可以在所有主流桌面浏览器上工作，但是在移动设备上就不行了。如果这还能满足你的需求，那就来吧:</p><figure class="mk ml mm mn gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/31f887f1e7eec4744b6ad55488389195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dy7ecv3lU0WDHz4ODifwVA.png"/></div></div></figure><p id="ff4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">✅在所有主流桌面浏览器上都运行良好</p><p id="f189" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">✅为您提供了在自己的文档结构中嵌入PDF的可能性(即，您可以在PDF文档的上方/下方/旁边拥有自己的UI元素)</p><p id="75de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">❌在所有手机浏览器上都失败了</p><h1 id="2e2d" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">使用谷歌文档浏览器</h1><p id="1b3b" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">如果你在网上搜索“如何在网络应用中显示pdf”，你会遇到这个奇怪的解决方案。基本上，它使用一个未记录的Google API，在一个<code class="fe mf mg mh mi b">&lt;iframe&gt;</code>中呈现PDF。</p><p id="e75b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这在过去可能行得通，但现在不行了。更准确地说，它<em class="lb">在50%的时间里都在</em>工作。其他时候，它会因错误而失败。<em class="lb"> Meh </em>。不要再尝试这种方法了。</p><h1 id="95df" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">使用简单的链接</h1><p id="cded" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">这是一条单线铁路。它使用一个链接到PDF文档的HTML <code class="fe mf mg mh mi b">&lt;a&gt;</code>标签。</p><figure class="mk ml mm mn gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/16bdfece0ac70eead0ae4c426b1a9a43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x9IBrzZ2tKWEPX753gTd_g.png"/></div></div></figure><p id="2f54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一方面，这很棒，因为它将处理PDF的责任委托给了平台本身(例如，你的Mac或PC或电话)。每个设备都能以自己的方式显示PDF。</p><p id="f6a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，这意味着我们在表现行为方面完全失控。</p><p id="31d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">问题是:<em class="lb">这是什么</em>行为，这<em class="lb">符合你的需求吗？</em></p><p id="c6b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">桌面上的✅/❓它在浏览器的PDF插件的一个单独的标签中打开PDF</p><p id="646e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">移动it上的✅/❓下载PDF，并使用平台的默认PDF查看器自动打开</p><p id="3081" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">✅信任平台展示PDF在很多情况下是一件好事。这意味着我们没有维护或风险</p><p id="21da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">❌无法将此嵌入我们的文档/网页结构中</p><h1 id="c849" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">Mozilla的PDF.js</h1><p id="4d29" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">Mozilla的库<a class="ae kc" href="https://mozilla.github.io/pdf.js/" rel="noopener ugc nofollow" target="_blank"> PDF.js </a>是显示PDF的一个很好的工具。基本上，它是Firefox用来显示pdf的工具，他们已经很友好地将它开源了。</p><p id="fd95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为什么这是最佳方法？嗯，因为它在所有设备和平台上都是一致的。</p><p id="bdd4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">✅在所有浏览器(手机、桌面)上都能正常工作</p><p id="1c4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">✅将PDF嵌入到您自己的文档结构中</p><p id="5871" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PDF.js的视图层附带了一个有用的工具栏(如果您使用它，Mozilla会要求您对它进行样式化/自定义)。这是PDF.js默认显示PDF的方式:</p><figure class="mk ml mm mn gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/09bbb39b8edc0c3c1bf3deee3b569711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eWxTjdi5lkajOmwCYy9jhg.png"/></div></div></figure><h1 id="1503" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">在React或任何其他前端应用程序中使用PDF.js</h1><p id="48d1" class="pw-post-body-paragraph kd ke iq kf b kg ma ki kj kk mb km kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">从这里随意拿走源代码:【https://github.com/adamkss/pdf-js-test<a class="ae kc" href="https://github.com/adamkss/pdf-js-test" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="1f13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管上面的例子使用了一个Create-React-App项目，但是您可以很容易地将下面的方法集成到任何框架/普通的应用程序中。</p><ol class=""><li id="acf1" class="mq mr iq kf b kg kh kk kl ko ms ks mt kw mu la mv mw mx my bi translated">去<a class="ae kc" href="https://mozilla.github.io/pdf.js/getting_started/#download" rel="noopener ugc nofollow" target="_blank">https://mozilla.github.io/pdf.js/getting_started/#download</a>下载ES5预置版本</li><li id="517b" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">将归档文件的内容解压到您的<code class="fe mf mg mh mi b">public</code>文件夹中</li><li id="4909" class="mq mr iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">将一个<code class="fe mf mg mh mi b">&lt;iframe&gt;</code>放在你的web应用程序中任何你想要的地方，用<code class="fe mf mg mh mi b">src</code>属性指向你的PDF.js的<code class="fe mf mg mh mi b">viewer.html</code>，用文件URL作为查询参数</li></ol><figure class="mk ml mm mn gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/03c950b5cc2cfc5c462243099d62012f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f__uUUDVskrP1NetwvekVg.png"/></div></div></figure><p id="c2ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样！很简单。</p><p id="6ee5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在这里看到现场演示:<a class="ae kc" href="https://pdf-js-test.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://pdf-js-test.netlify.app/</a>。</p><p id="ed55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在您有了一个可以在所有平台上正常工作的PDF查看器。</p><p id="633b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">干杯！🍻</p></div></div>    
</body>
</html>