<html>
<head>
<title>Object-Oriented JavaScript — DOM Traversal Shortcuts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向对象的JavaScript — DOM遍历快捷方式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/object-oriented-javascript-dom-traversal-shortcuts-47d0c802eadf?source=collection_archive---------6-----------------------#2020-11-25">https://javascript.plainenglish.io/object-oriented-javascript-dom-traversal-shortcuts-47d0c802eadf?source=collection_archive---------6-----------------------#2020-11-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/14af98d13b4aed63e72ede4f9059ea62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*THbEDcbYmdvMNmth"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@nosoylasonia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Juan Gomez</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9da4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript部分是面向对象的语言。</p><p id="7b04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要学习JavaScript，我们必须学习JavaScript的面向对象部分。</p><p id="6eb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究DOM。</p><h1 id="2690" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">DOM访问快捷方式</h1><p id="8ec4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用<code class="fe me mf mg mh b">childNodes</code>、<code class="fe me mf mg mh b">parentNode</code>、<code class="fe me mf mg mh b">nodeName</code>、<code class="fe me mf mg mh b">nodeValue</code>和<code class="fe me mf mg mh b">attributes</code>属性让我们遍历DOM。</p><p id="8ab4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果我们有任何复杂的文档，使用它们非常不方便。</p><p id="ed53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更深层次的节点很难访问，也没有简单的方法来搜索我们想要的项目。</p><p id="e326" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有各种快捷方法，让我们以更容易的方式找到我们想要的DOM元素。</p><p id="f66b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">方法包括<code class="fe me mf mg mh b">getElementsByTagName()</code>、<code class="fe me mf mg mh b">getElementsByName()</code>、<code class="fe me mf mg mh b">getElementById()</code>、<code class="fe me mf mg mh b">querySelector()</code>、<code class="fe me mf mg mh b">querySelectorAll()</code>。</p><p id="0078" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getElementsByTagName</code>方法让我们获得具有给定标记名的所有元素。</p><p id="33d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，对于给定的HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="75fa" class="mq lc iq mh b gy mr ms l mt mu">&lt;body&gt;<br/>  &lt;p class="opener"&gt;foo&lt;/p&gt;<br/>  &lt;p&gt;&lt;em&gt;bar&lt;/em&gt; &lt;/p&gt;<br/>  &lt;p id="closer"&gt;baz&lt;/p&gt;<br/>  &lt;!-- the end --&gt;<br/>&lt;/body&gt;</span></pre><p id="21e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b806" class="mq lc iq mh b gy mr ms l mt mu">document.<!-- -->getElementsByTagName('p');</span></pre><p id="117e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回一个<code class="fe me mf mg mh b">p</code>元素的节点列表。</p><p id="b74c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">length</code>属性得到<code class="fe me mf mg mh b">p</code>元素的数量:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="526c" class="mq lc iq mh b gy mr ms l mt mu">document.<!-- -->getElementsByTagName('p').length</span></pre><p id="ba13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过索引得到元素:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c6ca" class="mq lc iq mh b gy mr ms l mt mu">document.<!-- -->getElementsByTagName('p')[0]</span></pre><p id="e2d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">innerHTML</code>得到HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="13e3" class="mq lc iq mh b gy mr ms l mt mu">document.<!-- -->getElementsByTagName('p')<!-- -->[0].innerHTML;</span></pre><p id="f248" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了<code class="fe me mf mg mh b">'foo'</code>。</p><p id="8826" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getElementById</code>让我们通过ID获取一个元素。</p><p id="881c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b550" class="mq lc iq mh b gy mr ms l mt mu">document.getElementById('closer');</span></pre><p id="1208" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取ID为<code class="fe me mf mg mh b">closer</code>的元素。</p><p id="6d4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getElementByClassName</code>让我们通过类名获取元素。</p><p id="4329" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">querySelector</code>让我们用给定的CSS选择器获取一个元素。</p><p id="359f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">querySelectorAll</code>让我们用给定的CSS选择器获取所有元素。</p><h1 id="4b7d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">兄弟姐妹，身体，第一个和最后一个孩子</h1><p id="167b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们引用了一个元素，那么<code class="fe me mf mg mh b">nextSibling</code>和<code class="fe me mf mg mh b">previousSibling</code>属性是导航DOM树的两个方便的属性。</p><p id="926a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6809" class="mq lc iq mh b gy mr ms l mt mu">const p = document.getElementById('closer');</span></pre><p id="c872" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写作</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="234e" class="mq lc iq mh b gy mr ms l mt mu">console.log(p.previousSibling)</span></pre><p id="257a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并获得:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ae77" class="mq lc iq mh b gy mr ms l mt mu">#text</span></pre><p id="d5a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写来再次使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4167" class="mq lc iq mh b gy mr ms l mt mu">console.log(p.previousSibling.previousSibling)</span></pre><p id="e668" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面是p元素。</p><p id="bad4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以混合使用<code class="fe me mf mg mh b">previousSibling</code>和<code class="fe me mf mg mh b">nextSibling</code>。</p><p id="1912" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9bee" class="mq lc iq mh b gy mr ms l mt mu">p.previousSibling.nextSibling</span></pre><p id="98fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个DOM节点也有<code class="fe me mf mg mh b">firstChild</code>和<code class="fe me mf mg mh b">lastChild</code>属性。</p><p id="dc01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以使用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8384" class="mq lc iq mh b gy mr ms l mt mu">document.body.firstChild;</span></pre><p id="cd55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取正文的第一个子节点。</p><p id="2279" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">firstChild</code>与<code class="fe me mf mg mh b">childNodes[0]</code>相同。</p><p id="8c06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取一个节点的最后一个子节点。</p><p id="ca5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9cf4" class="mq lc iq mh b gy mr ms l mt mu">document.body.lastChild;</span></pre><p id="0fee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取正文的最后一个子节点。</p><p id="7abc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">lastChild</code>与<code class="fe me mf mg mh b">childNodes[childNodes.length — 1]</code>相同。</p><h1 id="65c1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">修改DOM节点</h1><p id="39d4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过给<code class="fe me mf mg mh b">innerHTML</code>属性赋值来修改DOM节点</p><p id="f104" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a8a0" class="mq lc iq mh b gy mr ms l mt mu">const p = document.getElementById('closer');<br/>p.innerHTML = 'closer';</span></pre><p id="c9f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以将HTML字符串设置为<code class="fe me mf mg mh b">innerHTML</code>的值:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="46bf" class="mq lc iq mh b gy mr ms l mt mu">const p = document.getElementById('closer');<br/>p.innerHTML = '&lt;em&gt;closer&lt;/em&gt; closer';</span></pre><p id="8359" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以通过给<code class="fe me mf mg mh b">nodeValue</code>属性赋值来改变节点的内容:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5596" class="mq lc iq mh b gy mr ms l mt mu">const p = document.getElementById('closer');<br/>p.nodeValue = 'closer';</span></pre><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/42117e8c932ae51c7e6c94f527b401bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rSASTiurOS1Brg57"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@hambourine?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hamish Duncan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="a823" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="c8c2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用各种快捷方式得到DOM节点。</p><p id="ff92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以用各种属性设置内容。</p><p id="0305" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>