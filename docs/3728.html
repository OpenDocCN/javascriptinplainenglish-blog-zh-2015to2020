<html>
<head>
<title>React Firebase Authentication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Firebase认证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-firebase-authentication-4c03fcc32441?source=collection_archive---------8-----------------------#2020-10-20">https://javascript.plainenglish.io/react-firebase-authentication-4c03fcc32441?source=collection_archive---------8-----------------------#2020-10-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="63af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">Github:-</strong>【https://github.com/swati1707/React-firebase-authentication】T2</p><p id="b774" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇博客解释了如何使用Firebase来验证React应用程序中的用户。<strong class="jm io"> Firebase </strong>是一个后端即服务(Baas)应用开发平台，提供托管后端服务，如实时数据库、云存储、身份验证、崩溃报告、机器学习、远程配置和静态文件托管。</p><p id="cae1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们开始吧。</p><h2 id="2d73" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">第一步。创建一个React应用程序</strong></h2><p id="cdda" class="pw-post-body-paragraph jk jl in jm b jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh ig bi translated">运行以下命令:-</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="3c93" class="kj kk in lm b gy lq lr l ls lt">npx create-react-app social-login<br/>cd social-login<br/>npm install firebase react-firebaseui</span></pre><h2 id="a3f5" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">第二步。创建一个新的Firebase项目</strong></h2><p id="2536" class="pw-post-body-paragraph jk jl in jm b jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh ig bi translated">转到<a class="ae ki" href="https://console.firebase.google.com/u/0/" rel="noopener ugc nofollow" target="_blank">https://console.firebase.google.com/u/0/</a>并创建一个新项目。</p><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/393f8113dbe1be2b2e0dde59ead51a76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yz8azxSuD_z4-hdFAea87g.png"/></div></div></figure><p id="d577" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后转到验证选项卡，</p><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/01bf40bd1d87e13e51337832f191140e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QwgA_c6b2yzAG6W20Czddw.png"/></div></div></figure><p id="9dd5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我们可以看到我们可以用来登录的所有提供者。我们将实现谷歌，脸书，Twitter，Github和电子邮件登录。</p><h2 id="dc63" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">第三步。启用脸书登录</strong></h2><p id="72b0" class="pw-post-body-paragraph jk jl in jm b jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh ig bi translated">前往<a class="ae ki" href="https://developers.facebook.com/" rel="noopener ugc nofollow" target="_blank">https://developers.facebook.com/</a>并创建一个新的应用程序。你将获得一个应用id和应用密码。在这里补充一下。</p><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/4ce8dd3b742dbf0499b1f7799cd31d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HKOnj0t0EieEaqgUP9sd-g.png"/></div></div></figure><h2 id="3012" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">第四步。启用Twitter登录</strong></h2><p id="7b38" class="pw-post-body-paragraph jk jl in jm b jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh ig bi translated">前往<a class="ae ki" href="https://apps.twitter.com/" rel="noopener ugc nofollow" target="_blank">https://apps.twitter.com/</a>。创建新应用程序。</p><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/9fc68b02c1f2c05527c4d8a9cbc85a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5wW-_Dj6qOu8kWQLPokFQ.png"/></div></div></figure><p id="7b70" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在此添加API密钥和API秘密。</p><h2 id="37fa" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">步骤五。启用Github登录</strong></h2><p id="e54b" class="pw-post-body-paragraph jk jl in jm b jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh ig bi translated">登录GitHub并创建一个新的OAuth应用程序。你会得到一个客户Id和客户秘密。这里补充一下。</p><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/f57739ec6696b062e0cacfb942c19703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jcArOmibEAirQ9f2AOea2w.png"/></div></div></figure><h2 id="0ba0" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">第六步。启用谷歌登录</strong></h2><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mc"><img src="../Images/9c71272e7ea6a01f90903f5e31c8039e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LhFUxkwK0CCbNkqWmyLWWw.png"/></div></div></figure><h2 id="6bd3" class="kj kk in bd kl km kn dn ko kp kq dp kr jv ks kt ku jz kv kw kx kd ky kz la lb bi translated"><strong class="ak">第七步。配置登录方式</strong></h2><p id="a6c8" class="pw-post-body-paragraph jk jl in jm b jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh ig bi translated"><strong class="jm io"> App.js </strong></p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="c3b4" class="kj kk in lm b gy lq lr l ls lt">import React from 'react';</span><span id="392e" class="kj kk in lm b gy md lr l ls lt">import './App.css';</span><span id="7aa7" class="kj kk in lm b gy md lr l ls lt">import firebase from "firebase";</span><span id="04c7" class="kj kk in lm b gy md lr l ls lt">import StyledFirebaseAuth from "react-firebaseui/StyledFirebaseAuth";</span><span id="a1b3" class="kj kk in lm b gy md lr l ls lt">firebase.initializeApp({</span><span id="e3b7" class="kj kk in lm b gy md lr l ls lt">apiKey:"AIzaSyDtEF31ZsJu7GDfGr2BLttr-QkUBZBz3gg",</span><span id="8f8b" class="kj kk in lm b gy md lr l ls lt">authDomain:"fir-react-auth-eb41e.firebaseapp.com"</span><span id="37dd" class="kj kk in lm b gy md lr l ls lt">})</span><span id="e0a1" class="kj kk in lm b gy md lr l ls lt">class App extends React.Component {</span><span id="6a09" class="kj kk in lm b gy md lr l ls lt">state = {</span><span id="d43a" class="kj kk in lm b gy md lr l ls lt">isSignedIn: false</span><span id="a077" class="kj kk in lm b gy md lr l ls lt">}</span><span id="cd4b" class="kj kk in lm b gy md lr l ls lt">uiConfig = {</span><span id="74d8" class="kj kk in lm b gy md lr l ls lt">signInFlow: "popup",</span><span id="574a" class="kj kk in lm b gy md lr l ls lt">signInOptions: [</span><span id="465d" class="kj kk in lm b gy md lr l ls lt">firebase.auth.GoogleAuthProvider.PROVIDER_ID,</span><span id="4538" class="kj kk in lm b gy md lr l ls lt">firebase.auth.FacebookAuthProvider.PROVIDER_ID,</span><span id="bc15" class="kj kk in lm b gy md lr l ls lt">firebase.auth.TwitterAuthProvider.PROVIDER_ID,</span><span id="7b5a" class="kj kk in lm b gy md lr l ls lt">firebase.auth.GithubAuthProvider.PROVIDER_ID,</span><span id="0607" class="kj kk in lm b gy md lr l ls lt">firebase.auth.EmailAuthProvider.PROVIDER_ID</span><span id="72fd" class="kj kk in lm b gy md lr l ls lt">],</span><span id="a83f" class="kj kk in lm b gy md lr l ls lt">callbacks: {</span><span id="931f" class="kj kk in lm b gy md lr l ls lt">signInSuccess: () =&gt; false</span><span id="7efd" class="kj kk in lm b gy md lr l ls lt">}</span><span id="7dc2" class="kj kk in lm b gy md lr l ls lt">}</span><span id="8be0" class="kj kk in lm b gy md lr l ls lt">componentDidMount = () =&gt; {</span><span id="7477" class="kj kk in lm b gy md lr l ls lt">firebase.auth().onAuthStateChanged(user =&gt; {</span><span id="2670" class="kj kk in lm b gy md lr l ls lt">this.setState({ isSignedIn: !!user })</span><span id="46da" class="kj kk in lm b gy md lr l ls lt">})</span><span id="e171" class="kj kk in lm b gy md lr l ls lt">}</span><span id="f69c" class="kj kk in lm b gy md lr l ls lt">render() {</span><span id="ffb7" class="kj kk in lm b gy md lr l ls lt">return (</span><span id="6b2e" class="kj kk in lm b gy md lr l ls lt">&lt;div className="data"&gt;</span><span id="5e87" class="kj kk in lm b gy md lr l ls lt">{this.state.isSignedIn ?</span><span id="8523" class="kj kk in lm b gy md lr l ls lt">&lt;div&gt;</span><span id="c512" class="kj kk in lm b gy md lr l ls lt">&lt;h6&gt;Signed in !&lt;/h6&gt;</span><span id="0473" class="kj kk in lm b gy md lr l ls lt">&lt;button className="btn btn-primary logout" onClick={() =&gt; firebase.auth().signOut()}&gt;Logout&lt;/button&gt;</span><span id="0a05" class="kj kk in lm b gy md lr l ls lt">&lt;h4&gt;Welcome {firebase.auth().currentUser.displayName}&lt;/h4&gt;</span><span id="4c55" class="kj kk in lm b gy md lr l ls lt">&lt;/div&gt;</span><span id="bfc6" class="kj kk in lm b gy md lr l ls lt">:</span><span id="b796" class="kj kk in lm b gy md lr l ls lt">&lt;StyledFirebaseAuth</span><span id="88c0" class="kj kk in lm b gy md lr l ls lt">uiConfig={this.uiConfig}</span><span id="39b0" class="kj kk in lm b gy md lr l ls lt">firebaseAuth={firebase.auth()}</span><span id="a8f8" class="kj kk in lm b gy md lr l ls lt">/&gt;</span><span id="bdf6" class="kj kk in lm b gy md lr l ls lt">}</span><span id="7841" class="kj kk in lm b gy md lr l ls lt">&lt;/div&gt;</span><span id="6a1b" class="kj kk in lm b gy md lr l ls lt">);</span><span id="fc88" class="kj kk in lm b gy md lr l ls lt">}</span><span id="e727" class="kj kk in lm b gy md lr l ls lt">}</span><span id="d484" class="kj kk in lm b gy md lr l ls lt">export default App;</span></pre><p id="61bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，我们通过添加以下命令，在应用程序中包含了firebase和firebaseui</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="f7ba" class="kj kk in lm b gy lq lr l ls lt">import firebase from "firebase";</span><span id="f512" class="kj kk in lm b gy md lr l ls lt">import StyledFirebaseAuth from "react-firebaseui/StyledFirebaseAuth";</span></pre><p id="a711" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">导入后，我们已经初始化了firebase。</p><p id="475d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，我们配置了登录选项:</p><pre class="lh li lj lk gt ll lm ln lo aw lp bi"><span id="6766" class="kj kk in lm b gy lq lr l ls lt">uiConfig = {</span><span id="d1a6" class="kj kk in lm b gy md lr l ls lt">signInFlow: "popup",</span><span id="8c24" class="kj kk in lm b gy md lr l ls lt">signInOptions: [</span><span id="37b5" class="kj kk in lm b gy md lr l ls lt">firebase.auth.GoogleAuthProvider.PROVIDER_ID,</span><span id="ca97" class="kj kk in lm b gy md lr l ls lt">firebase.auth.FacebookAuthProvider.PROVIDER_ID,</span><span id="5ff2" class="kj kk in lm b gy md lr l ls lt">firebase.auth.TwitterAuthProvider.PROVIDER_ID,</span><span id="fdad" class="kj kk in lm b gy md lr l ls lt">firebase.auth.GithubAuthProvider.PROVIDER_ID,</span><span id="f4c5" class="kj kk in lm b gy md lr l ls lt">firebase.auth.EmailAuthProvider.PROVIDER_ID</span><span id="96e7" class="kj kk in lm b gy md lr l ls lt">],</span><span id="e91a" class="kj kk in lm b gy md lr l ls lt">callbacks: {</span><span id="463d" class="kj kk in lm b gy md lr l ls lt">signInSuccess: () =&gt; false</span><span id="4437" class="kj kk in lm b gy md lr l ls lt">}</span><span id="8d32" class="kj kk in lm b gy md lr l ls lt">}</span></pre><p id="32c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据登录状态，状态数据会发生变化，显示用户是否登录。</p><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/fdd531a64ab7dbb744077b20d49ad5f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pRJuiKXKXk5zGc1C5n_Z2Q.png"/></div></div></figure><figure class="lh li lj lk gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lu"><img src="../Images/3815c0909c9d9266575aa16526663062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GQ_Tzj0u_9r6wFqYXSFabw.png"/></div></div></figure></div></div>    
</body>
</html>