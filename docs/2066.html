<html>
<head>
<title>Deno vs. Node.js — Here Are the Most Important Differences</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Deno与node . js——以下是最重要的区别</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deno-vs-node-js-here-are-the-most-important-differences-62b547443be1?source=collection_archive---------0-----------------------#2020-05-17">https://javascript.plainenglish.io/deno-vs-node-js-here-are-the-most-important-differences-62b547443be1?source=collection_archive---------0-----------------------#2020-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fb07" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">安全性，在引擎盖下，窗口对象和类型脚本支持</h2></div><p id="8827" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Deno是新Node.js吗？或者这只是一个不错的选择？在这篇文章中，我们将探讨一些重要的区别和特点——玩得开心！</p><h1 id="3755" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">Node.js和Deno的主要区别:</h1><ul class=""><li id="7569" class="lt lu iq kh b ki lv kl lw ko lx ks ly kw lz la ma mb mc md bi translated">Deno用的是引擎盖下的Rust，也是V8引擎，跟Node.js一样。</li><li id="15f0" class="lt lu iq kh b ki me kl mf ko mg ks mh kw mi la ma mb mc md bi translated">Deno支持现成的TypeScript。它也可以处理JavaScript，没有任何问题，开箱即用。</li><li id="f795" class="lt lu iq kh b ki me kl mf ko mg ks mh kw mi la ma mb mc md bi translated">Deno不支持NPM包，也不使用node_modules目录。库是通过URL导入的。</li><li id="a0d0" class="lt lu iq kh b ki me kl mf ko mg ks mh kw mi la ma mb mc md bi translated">Deno使用权限系统来执行代码。</li><li id="7999" class="lt lu iq kh b ki me kl mf ko mg ks mh kw mi la ma mb mc md bi translated">Deno支持窗口对象——尽管我们正在编写后端代码。</li></ul><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/e6a17068e20104d5726e6c109a73b94b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jPBtd4GQBjJ0KcyFyqcpBg.png"/></div></div></figure><h1 id="e385" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">德诺背后的历史和故事</h1><p id="69ae" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">现在已经被一些人视为下一个大事件，并取代Node.js，两者都有一个起源:<strong class="kh ir"> Ryan Dahl </strong></p><p id="cdae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">达尔从2009年开始参与Node项目，但几年后退出了。2018年，他发表了关于Node.js  的<strong class="kh ir"> <em class="my"> 10件让我后悔的事情，其中他还宣布了Deno——一种新的JavaScript &amp; TypeScript运行时。</em></strong></p><p id="f8fc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">fun fact</strong>:“Deno”其实是“Node”的变位词。</p><h2 id="dd12" class="mz lc iq bd ld na nb dn lh nc nd dp ll ko ne nf ln ks ng nh lp kw ni nj lr nk bi translated">但所有Node.js开发者现在应该担心Ryan Dahl自己创造了竞争，Node将被取代吗？</h2><p id="634a" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">答案似乎是“<strong class="kh ir">不。</strong>”，正如你可以在链接中找到的达尔在另一个演讲中提出的那样</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nl"><img src="../Images/b05dd8256287e8a8a47caa08a48d98e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjeie57XE-WwgZapYNToRQ.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Source: <a class="ae nq" href="https://youtu.be/1gIiZfSbEAE?t=69" rel="noopener ugc nofollow" target="_blank">YouTube</a></figcaption></figure><p id="6d0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如达尔自己在这个演讲中所说，Deno仍然是新的。目前，更准确地说是在1.0.0版本中。另一方面，Node已经有点老了——本质上两者的目的是一样的。</p><p id="1f59" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们是JavaScript运行时，所以我们可以在浏览器之外使用JS，例如用于web服务器。但是几年后Deno和Node之间的事情会是什么样子，几乎没有人能说得清。</p><h1 id="80c7" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">引擎盖下的Deno和Node</h1><p id="9fd2" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">Node.js基于C++使用V8引擎执行JavaScript代码。<br/>V8引擎本身最初是为谷歌Chrome开发的，用于在浏览器中快速执行JavaScript。与此同时，甚至新的微软Edge版本也是基于V8的。</p><p id="ae4d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Deno也依赖于V8引擎，但不是C++，Deno也基于Rust——一种编程语言，据称可以提供与C++类似的良好性能，但也特别强调安全性:应该避免内存访问错误或缓冲区溢出。</p><p id="e2c0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安全性是一回事——对Node.js的一个常见批评是，一旦Node应用程序运行，它就可以轻松访问文件系统或网络等。</p><p id="bd3b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Deno希望通过要求运行Deno应用程序的人首先允许Deno想做的事情来避免这一点。</p><p id="0536" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的TS代码就是一个很好的例子，我们在Deno官方网站上找到了它作为入门示例:</p><pre class="mk ml mm mn gt nr ns nt nu aw nv bi"><span id="ea42" class="mz lc iq ns b gy nw nx l ny nz"><em class="my">import</em> { serve } <em class="my">from</em> “https://deno.land/std@0.50.0/http/server.ts";</span><span id="94f8" class="mz lc iq ns b gy oa nx l ny nz">const s = serve({ port: 8000 });</span><span id="2697" class="mz lc iq ns b gy oa nx l ny nz"><em class="my">for</em> <em class="my">await</em> (const req of s) {<br/>  req.respond({ body: “Hello World\n” });<br/>}</span></pre><p id="6213" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如您可能已经看到的，这是一个非常简单的web服务器，我们必须如下执行整个操作:</p><pre class="mk ml mm mn gt nr ns nt nu aw nv bi"><span id="bc1f" class="mz lc iq ns b gy nw nx l ny nz">deno run app.ts </span></pre><p id="42ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但此时Deno的安全措施介入，我们尚未允许访问网络，因此出现以下消息:</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ob"><img src="../Images/fdaf86f9b363b55603bb0a9422ef5a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PVk7YRhproMA9auKKVJmEA.png"/></div></div></figure><p id="639b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了让我们的应用程序能够访问网络，我们必须首先对其进行授权:</p><pre class="mk ml mm mn gt nr ns nt nu aw nv bi"><span id="4cb5" class="mz lc iq ns b gy nw nx l ny nz">deno run --allow-net app.ts </span></pre><p id="66ed" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们的小型web服务器运行成功——但好的一面是，我们只批准了网络。应用程序仍然不能像那样访问文件系统，我们必须首先手动允许它。</p><h1 id="efa7" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">再见NPM，你好ES6进口</h1><p id="d41f" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">我们的应用程序的另一个安全性问题是NPM:不仅使用NPM经常导致巨大的<strong class="kh ir"> node_modules </strong>文件夹，而且还有节点和安全性的问题:如果我们使用NPM为我们的节点应用程序安装一个包，理论上它可以偷偷地做其他事情。<br/>过去，NPM软件包曾爆出丑闻，例如，它窃取了用户数据。</p><p id="6fb1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Deno根本不依赖NPM——相反，我们通过URL导入库，如上面的代码示例所示。</p><pre class="mk ml mm mn gt nr ns nt nu aw nv bi"><span id="6cd8" class="mz lc iq ns b gy nw nx l ny nz"><em class="my">import</em> { serve } <em class="my">from</em> “https://deno.land/std@0.50.0/http/server.ts";</span></pre><p id="3e29" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们要使用的库在第一次执行时下载，然后缓存:</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi oc"><img src="../Images/2e05a8becf8c90ab04ecc5fcf037fef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ti57cy3E8osSY3PDGiu4Xg.png"/></div></div></figure><p id="8de9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们简单地为我们的web服务器复制代码，并将其存储在我们的服务器或PC上完全不同的位置，然后再次执行它时，就可以看到这一点。不需要重新加载库。</p><p id="7bd6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想了解更多关于NPM的危险:</p><div class="od oe gp gr of og"><a href="https://medium.com/javascript-in-plain-english/the-biggest-scandals-of-npm-d739c11a2406" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">NPM最大的丑闻</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">JavaScript世界中巨大的依赖树使得开发变得非常愉快。但有时它会压倒…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou mt og"/></div></div></a></div><h1 id="27bd" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">窗口对象—也在浏览器之外</h1><p id="9008" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">窗口对象是浏览器中的父对象，JavaScript的一些最重要的函数就是从它派生出来的。</p><p id="ae20" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中一个就是，比如<strong class="kh ir">取</strong>。不幸的是，像Axios这样的库的本地替代品在Node.js中没有用武之地——在node . js中你必须找到一个库的解决方案——但在Deno中没有。</p><p id="8936" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为在Deno中，窗口对象是可用的，正如你在文档中看到的:<a class="ae nq" href="https://deno.land/typedoc/interfaces/window.html" rel="noopener ugc nofollow" target="_blank">https://deno.land/typedoc/interfaces/window.html</a><br/>而在window所在的地方，我们也可以使用fetch，就像在浏览器中一样。</p><p id="edfd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们尝试一下，你会发现你可以在浏览器中运行以下代码，也可以在Deno应用中运行:</p><pre class="mk ml mm mn gt nr ns nt nu aw nv bi"><span id="bd28" class="mz lc iq ns b gy nw nx l ny nz">fetch(“https://jsonplaceholder.typicode.com/todos/1")<br/>  .then((response) =&gt; response.json())<br/>  .then((json) =&gt; console.log(json));</span></pre><p id="f5e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想了解更多关于窗口对象的信息，看看这个:</p><div class="od oe gp gr of og"><a href="https://medium.com/javascript-in-plain-english/the-window-document-object-in-javascript-7-useful-things-you-can-do-with-them-14888333ec91" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">JavaScript中的窗口和文档对象——你可以用它们做7件有用的事情</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">为什么不再用香草JavaScript呢？这里有一些文档和窗口对象的很酷的特性，你可能不知道…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="ov l or os ot op ou mt og"/></div></div></a></div><h1 id="d991" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated">现成的类型脚本支持</h1><p id="9751" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">打字稿当然是一个品味问题，被许多人推崇，但也被一些人视为没有必要。但我能说的是，双方都可以对Deno感到满意——因为Deno直接提供了对TypeScript的支持，当然它也支持经典的JavaScript。</p><p id="df7a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以很容易地用这两种语言编写代码，把它保存为<strong class="kh ir">。ts </strong>，或<strong class="kh ir">。js </strong>并简单地用<strong class="kh ir"> <em class="my"> deno run </em> </strong>照常执行。在我看来，与Node.js相比，它并不是绝对的游戏改变者，因为你可以很容易地在那里获得TypeScript支持，但它绝对是一件很酷的事情。</p><p id="c9bd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">感谢您的阅读！有兴趣订阅Medium.com，同时支持我吗？如果你的答案是肯定的，一定要看看这个:</strong></p><p id="483f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae nq" href="https://louispetrik.medium.com/membership" rel="noopener">https://louispetrik.medium.com/membership</a></p><p id="993e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过这个链接，我会收到你每月付款的一部分，如果你注册。然而，你不会有额外的费用。因此:</p><p id="204b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">提前感谢！:)</strong></p><h2 id="e683" class="mz lc iq bd ld na nb dn lh nc nd dp ll ko ne nf ln ks ng nh lp kw ni nj lr nk bi translated">从2020年11月开始更新</h2><div class="od oe gp gr of og"><a href="https://medium.com/javascript-in-plain-english/is-deno-already-dead-661ce807338a" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">德诺已经死了吗？</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">炒作消失的一些原因</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="ow l or os ot op ou mt og"/></div></div></a></div><h2 id="5e0e" class="mz lc iq bd ld na nb dn lh nc nd dp ll ko ne nf ln ks ng nh lp kw ni nj lr nk bi translated"><a class="ae nq" href="http://eepurl.com/hacY0v" rel="noopener ugc nofollow" target="_blank">加入我的邮件接收一切，你感兴趣的</a></h2><h1 id="6a8a" class="lb lc iq bd ld le lf lg lh li lj lk ll jw lm jx ln jz lo ka lp kc lq kd lr ls bi translated"><strong class="ak">简明英语笔记</strong></h1><p id="caa2" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko mv kq kr ks mw ku kv kw mx ky kz la ij bi translated">你知道我们推出了一个YouTube频道吗？我们制作的每个视频都旨在教给你一些新的东西。点击<a class="ae nq" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">点击</strong> </a>查看我们，并确保订阅该频道😎</p></div></div>    
</body>
</html>