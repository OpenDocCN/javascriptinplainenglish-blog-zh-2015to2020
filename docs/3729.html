<html>
<head>
<title>How to use Modular patterns in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Node.js中使用模块化模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-modular-patterns-in-nodejs-982f0e5c8f6e?source=collection_archive---------9-----------------------#2020-10-20">https://javascript.plainenglish.io/how-to-use-modular-patterns-in-nodejs-982f0e5c8f6e?source=collection_archive---------9-----------------------#2020-10-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e2dd81791e53ea88b4804764f4a056f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DofDNtx05lgnSowkpBWUrw.png"/></div></div></figure><h2 id="05e2" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">模块化模式是Node的基本特征之一</h2><p id="edb2" class="pw-post-body-paragraph kr ks in kt b ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll ig bi translated">当构建应用程序时，由于我们的应用程序/代码变得复杂，我们不能将整个代码放在一个文件中。</p><p id="52e6" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">由于这变得难以管理，我们使用节点模块化模式来编写不同的文件，并将它们(包括函数、对象和方法)导出到主文件。</p><p id="7253" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">现在你可能会问,“模块”到底是什么？</p><p id="4c0b" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">简单地说,“模块”只不过是一个JavaScript文件。就这样。</p><p id="93c4" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">借助节点模块化功能，我们可以导入您自己的外部文件、核心节点模块和npm模块。</p><h2 id="4fca" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">导入自己的文件</strong>:</h2><p id="ec3b" class="pw-post-body-paragraph kr ks in kt b ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll ig bi translated">在本文中，我们将讨论如何导出和导入我们自己的文件。<br/>基本上，有两个文件“calculate.js ”,我们将从中导出并导入“main.js”文件。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/1d49bc99bc44ae05472d0a0986e109c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*8yma3e1QYoOkp-YTnQ3ZaA.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Importing Files</figcaption></figure><p id="efca" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">为了简化起见，我们将这两个文件放在同一个文件夹中。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/ff63c7935e1207743ca974a345a22d98.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*dRNGAQogtzGrcnOVldwAvA.png"/></div></figure><ul class=""><li id="bb20" class="mb mc in kt b ku lm ky ln ke md ki me km mf ll mg mh mi mj bi translated"><strong class="kt io">导入功能:</strong></li></ul><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="6994" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">这里，我们使用“module.exports”导出一个名为“add”的函数，然后使用“require”方法将该函数导入到不同的文件中。</p><p id="907a" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">在节点中，每个文件被称为“模块”,“导出”是模块对象的属性。</p><p id="2fdc" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们现在可以通过传递如下所示的参数在不同的文件，即“main.js”中调用该函数。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><ul class=""><li id="7360" class="mb mc in kt b ku lm ky ln ke md ki me km mf ll mg mh mi mj bi translated"><strong class="kt io">导入对象:</strong></li></ul><p id="ccd4" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们也可以导出整个对象，并访问其中的不同方法。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="bb0c" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">当我们导出对象时，使用“require”方法添加并导入到我们的主文件中。</p><p id="5066" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们现在可以使用“. dot”运算符访问“add”对象的“result”方法。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="d427" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们可以进行上述对象导出的另一种方法是只导出您需要的方法，而不是整个对象。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="f01f" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">正如您所看到的，我们正在“添加”对象中导入“结果”方法，所以这个方法可以在主文件中直接调用。</p><p id="6816" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">如果您不需要整个对象，而只需要它的一些方法/函数，并使我们的代码更加安全，这是一个很好的做法。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><ul class=""><li id="ea71" class="mb mc in kt b ku lm ky ln ke md ki me km mf ll mg mh mi mj bi translated"><strong class="kt io">导入函数构造函数:</strong></li></ul><p id="fdbc" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">函数构造函数基本上用于创建一个新的对象实例，该实例具有与主对象/函数相同的属性。</p><p id="b4cf" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">您可以在这里了解更多关于函数构造器<a class="ae mm" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function#Constructor" rel="noopener ugc nofollow" target="_blank"/></p><p id="ee61" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">在下面的情况下，我们使用“new”关键字创建一个“Add”对象的新实例。我们创建对象实例的过程称为“实例化”。</p><p id="66a1" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">然后我们使用“module.exports”导出这个实例。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="943a" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">现在，我们可以将它导入到我们的主文件中，并访问其中的“结果”方法，以获得我们的计算值。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="85d6" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">这样，我们可以导出和导入函数构造函数。</p><p id="2c7f" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">还有另一种方法可以做到这一点，那就是在主文件中创建新的实例，而不是在如上所示的导出文件中</p><p id="6763" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">` module.exports = new Add()`。</p><p id="7424" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们将在导出ES6类时看到这一点，ES6类的工作方式类似于函数构造函数。</p><ul class=""><li id="c286" class="mb mc in kt b ku lm ky ln ke md ki me km mf ll mg mh mi mj bi translated"><strong class="kt io">导入ES6类:</strong></li></ul><p id="8098" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">` class '是一种特殊类型的函数，其中` class '关键字帮助初始化它，并使用` constructor '方法存储属性。你可以在这里了解更多ES6课程<a class="ae mm" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" rel="noopener ugc nofollow" target="_blank"/></p><p id="2938" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">现在我们将使用“module.exports”导出整个“类”</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="d604" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">现在，在我们的主文件中，我们使用“new”关键字创建一个新的实例，并访问“result”方法来获得我们计算的值。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><h2 id="56f0" class="jv jw in bd jx jy jz dn ka kb kc dp kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论:</h2><p id="c228" class="pw-post-body-paragraph kr ks in kt b ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll ig bi translated">在本文中，我们讨论了如何导入我们自己的文件。</p><p id="2c8d" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们研究了如何实现这一点的几种方法，例如</p><ul class=""><li id="63e4" class="mb mc in kt b ku lm ky ln ke md ki me km mf ll mg mh mi mj bi translated">导入函数</li><li id="f2f7" class="mb mc in kt b ku mn ky mo ke mp ki mq km mr ll mg mh mi mj bi translated">导入对象</li><li id="53fe" class="mb mc in kt b ku mn ky mo ke mp ki mq km mr ll mg mh mi mj bi translated">导入函数构造函数</li><li id="7f80" class="mb mc in kt b ku mn ky mo ke mp ki mq km mr ll mg mh mi mj bi translated">导入ES6类</li></ul><p id="b424" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">有n种方法可以导出和导入您自己的文件。</p><p id="2c86" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated">我们在本文中没有讨论的其他内容是导入npm模块和导入节点核心模块，我们将在下一篇文章中讨论这些内容。</p><p id="e914" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated"><em class="ms">感谢您花时间阅读这篇文章，请关注我的</em> <a class="ae mm" href="https://twitter.com/kadamsarvesh10" rel="noopener ugc nofollow" target="_blank"> <em class="ms">推特</em> </a> <em class="ms">记录我的学习</em></p><p id="6ebd" class="pw-post-body-paragraph kr ks in kt b ku lm kw kx ky ln la lb ke lo ld le ki lp lg lh km lq lj lk ll ig bi translated"><em class="ms">最初发布于</em><a class="ae mm" href="https://sarveshkadam.tech/how-to-use-modular-patterns-in-nodejs" rel="noopener ugc nofollow" target="_blank"><em class="ms">https://sarveshcadm . tech</em></a><em class="ms">。</em></p></div></div>    
</body>
</html>