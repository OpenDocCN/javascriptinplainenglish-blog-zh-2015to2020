<html>
<head>
<title>How to create a Stacked Area Chart in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript创建堆积面积图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-stacked-area-chart-in-javascript-f7e0562323ae?source=collection_archive---------4-----------------------#2020-06-10">https://javascript.plainenglish.io/how-to-create-a-stacked-area-chart-in-javascript-f7e0562323ae?source=collection_archive---------4-----------------------#2020-06-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bef5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">可视化意大利新冠肺炎数据，1月31日至6月9日</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/aee0fa6b7db036269a7b1e0ca8630fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gFMI1jUdSO7hORe4.png"/></div></div></figure><p id="2182" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://www.anychart.com/chartopedia/chart-type/stacked-area-chart/" rel="noopener ugc nofollow" target="_blank">堆积面积图</a>，是经典<a class="ae ln" href="https://www.anychart.com/chartopedia/chart-type/area-chart/" rel="noopener ugc nofollow" target="_blank">面积图</a>的变体，是一种非常流行的数据可视化形式。它们很好地用图形表示了多个变量和它们的总和是如何随时间变化的。在本教程中，我将向您展示如何轻松地创建一个交互式JavaScript堆叠面积图，它在任何HTML5项目、网站或应用程序中都将引人注目。</p><p id="96e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了演示这种方法，即使你只有基本的HTML编码技能，也很容易掌握，我将可视化关于新冠肺炎疫情病毒爆发的官方数据。根据该教程构建的可视化将显示病例数、康复数和死亡数的变化——从1月31日前两例确诊到昨天6月9日意大利冠状病毒病例总数达到235，561例。</p><h1 id="45ef" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">构建JS堆积面积图的4个步骤</h1><p id="d382" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">任何JavaScript图形(包括堆叠面积图)的开发都可以分为以下四个基本步骤:</p><ol class=""><li id="39b0" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">为图表创建HTML页面。</li><li id="36b1" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">添加必要的JavaScript文件。</li><li id="7d93" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">设置数据。</li><li id="a2b0" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">为图表编写JS代码。</li></ol><p id="c6f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们先做一个基本的，基于值的JS堆积面积图。然后，我将向您展示如何对其进行定制，以适合您自己的需求和任务。最终的数据可视化示例将是下面的JavaScript百分比堆积面积图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/5e0999a1d1e93c306799b62eaca4b0c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ADxSig3RoJCo939V.gif"/></div></div></figure><p id="5784" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们言归正传！</p><h1 id="0479" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">步骤1:创建一个HTML页面</h1><p id="35fd" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">首先创建一个基本的HTML页面。该页面应包含以下内容:</p><ol class=""><li id="f3af" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">一个相关的标题。</li><li id="34fe" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">一个HTML块元素(例如，<code class="fe na nb nc nd b">&lt;div&gt;</code>)将存储您的图表。</li><li id="c955" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><code class="fe na nb nc nd b">&lt;div&gt;</code>的id属性(例如，“容器”)。</li></ol><p id="0353" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请注意，您还可以在<code class="fe na nb nc nd b">&lt;style&gt;</code>块中添加CSS规则，以修改堆叠面积图将占用的空间。如果您希望图形填满整个页面，请将<code class="fe na nb nc nd b">width</code>和<code class="fe na nb nc nd b">height</code>参数设为100%。</p><p id="36d3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">HTML页面应该如下所示:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="f08a" class="ni lp iq nd b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="1ec5" class="ni lp iq nd b gy nn nk l nl nm">&lt;head&gt;<br/>  &lt;title&gt;Stacked Area Chart&lt;/title&gt;<br/>  &lt;style&gt;<br/>    html,<br/>    body,<br/>    #container {<br/>      width: 100%;<br/>      height: 100%;<br/>      margin: 0;<br/>      padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="f2c6" class="ni lp iq nd b gy nn nk l nl nm">&lt;body&gt;<br/>&lt;div id="container"&gt;&lt;/div&gt;<br/>&lt;/body&gt;</span><span id="0abf" class="ni lp iq nd b gy nn nk l nl nm">&lt;/html&gt;</span></pre><h1 id="24dd" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">步骤2:添加必要的JavaScript文件</h1><p id="9349" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">现在，您应该在<code class="fe na nb nc nd b">&lt;head&gt;</code>部分引用所有必要的JS文件。</p><p id="28e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将在本教程中展示的堆积面积图是基于<a class="ae ln" href="https://www.anychart.com" rel="noopener ugc nofollow" target="_blank"> AnyChart </a>的JS库。通常，JavaScript库使您能够更快、更容易地生成所需的输出。AnyChart是轻量级和灵活的，所以你可以尽可能地发挥创造力，想出一个功能齐全、响应迅速的图表，在你的网站或应用程序上使用。</p><p id="9ee2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于这个图表教程，我将包括相应的<a class="ae ln" href="https://cdn.anychart.com" rel="noopener ugc nofollow" target="_blank"> CDN </a>链接。如果您愿意，可以在本地下载脚本。</p><p id="2701" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">AnyChart JavaScript库具有一个模块化系统，有助于优化web页面上运行的JS代码的大小。要使用它制作堆叠面积图，添加两个<a class="ae ln" href="https://docs.anychart.com/Quick_Start/Modules" rel="noopener ugc nofollow" target="_blank">模块:</a> Core和Basic Cartesian。第一个是使用任何其他模块所需的基本AnyChart模块。第二个模块驱动所有笛卡尔坐标图。</p><p id="9a8c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是我们目前所得到的HTML代码:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="f035" class="ni lp iq nd b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="8371" class="ni lp iq nd b gy nn nk l nl nm">&lt;head&gt;<br/>  &lt;title&gt;Stacked Area Chart&lt;/title&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-cartesian.min.js"&gt;&lt;/script&gt;<br/>  &lt;style&gt;<br/>    html,<br/>    body,<br/>    #container {<br/>      width: 100%;<br/>      height: 100%;<br/>      margin: 0;<br/>      padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="cf71" class="ni lp iq nd b gy nn nk l nl nm">&lt;body&gt;<br/>  &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;script&gt;<br/><strong class="nd ir"><em class="no">    // The stacked area chart's JS code will be written here.</em></strong><br/>  &lt;/script&gt;<br/>&lt;/body&gt;</span><span id="5684" class="ni lp iq nd b gy nn nk l nl nm">&lt;/html&gt;</span></pre><h1 id="7647" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">步骤3:添加要可视化的数据</h1><h2 id="de32" class="ni lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">加载数据</h2><p id="7860" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">新冠肺炎·疫情是全世界的头条新闻。在本教程中，我决定把重点放在意大利，这是中国以外首个受到此次危机巨大影响的地区。我将可视化数据，包括活跃病例数、恢复数和死亡数，以了解从意大利疫情开始到现在，情况是如何演变的。</p><p id="6fc4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我从约翰·霍普金斯CSSE <a class="ae ln" href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data" rel="noopener ugc nofollow" target="_blank">数据集</a>中提取数据，该数据集被认为是新冠肺炎官方统计数据的可靠来源。为了简单起见，我将意大利数据放在一个CSV文件中，您可以在这里找到<a class="ae ln" href="https://static.anychart.com/git-storage/word-press/data/covid-19-italy/data.csv" rel="noopener ugc nofollow" target="_blank"/>。通过从确诊病例中减去死亡和恢复来计算活动病例。</p><p id="7f4d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://docs.anychart.com/Working_with_Data/Data_Adapter/Loading_CSV_File" rel="noopener ugc nofollow" target="_blank">在AnyChart中加载CSV文件</a>可以在<a class="ae ln" href="https://docs.anychart.com/Working_with_Data/Data_Adapter/Overview" rel="noopener ugc nofollow" target="_blank">数据适配器</a>模块的帮助下完成，除了已经在<code class="fe na nb nc nd b">&lt;head&gt;</code>部分引用的库脚本之外，您还应该在那里引用该模块:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="45f1" class="ni lp iq nd b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="93bf" class="ni lp iq nd b gy nn nk l nl nm">&lt;head&gt;<br/>  &lt;title&gt;Stacked Area Chart&lt;/title&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-cartesian.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>  &lt;style&gt;<br/>    html,<br/>    body,<br/>    #container {<br/>      width: 100%;<br/>      height: 100%;<br/>      margin: 0;<br/>      padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="a1d1" class="ni lp iq nd b gy nn nk l nl nm">&lt;body&gt;<br/>  &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;script&gt;<br/><strong class="nd ir"><em class="no">    // The stacked area chart's JS code will be written here.<br/></em></strong>  &lt;/script&gt;<br/>&lt;/body&gt;</span><span id="62d1" class="ni lp iq nd b gy nn nk l nl nm">&lt;/html&gt;</span></pre><p id="40c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在您可以使用数据适配器提供的<a class="ae ln" href="https://api.anychart.com/v8/anychart.data#loadCsvFile" rel="noopener ugc nofollow" target="_blank"> loadCsvFile </a>方法来加载CSV数据。</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="aeaf" class="ni lp iq nd b gy nj nk l nl nm">anychart.data.loadCsvFile ("https://static.anychart.com/git-storage/word-press/data/covid-19-italy/data.csv", function (data) {<br/>});</span></pre><p id="a506" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，<a class="ae ln" href="https://docs.anychart.com/Working_with_Data/Data_Sets" rel="noopener ugc nofollow" target="_blank">设置数据</a>,以便在未来基于JavaScript的堆积面积图中使用:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="1bd5" class="ni lp iq nd b gy nj nk l nl nm">anychart.data.loadCsvFile ("https://static.anychart.com/git-storage/word-press/data/covid-19-italy/data.csv", function (data) {<br/><strong class="nd ir"><em class="no">  // set the data and ignore the first row that contains headers<br/></em></strong>  var dataSet = anychart.data.set(data, {ignoreFirstRow: true});<br/>});</span></pre><h2 id="1f8b" class="ni lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">映射数据</h2><p id="afa1" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">该图表将显示三个字段的数据:活动病例、恢复和死亡。因此，您需要三个不同的数据系列，每个字段一个。但是，您将如何“告知”您的图表每个字段使用哪些数据呢？</p><p id="8468" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就是<a class="ae ln" href="https://docs.anychart.com/Working_with_Data/Data_Sets#mapping" rel="noopener ugc nofollow" target="_blank">数据映射</a>发挥作用的地方！通过调用<a class="ae ln" href="https://api.anychart.com/v8/anychart.data.Set#mapAs" rel="noopener ugc nofollow" target="_blank"> mapAs </a>方法，观察这是如何在代码中实现的:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="1275" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// map data for the deaths series</em><br/></strong>var deathsData = dataSet.mapAs({ 'x': 0, 'value': 2 });</span><span id="5413" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the recovered series</em><br/></strong>var recoveredData = dataSet.mapAs({ 'x': 0, 'value': 3 });</span><span id="c576" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the active series</em><br/></strong>var activeData = dataSet.mapAs({ 'x': 0, 'value': 4 });</span></pre><h1 id="032f" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">步骤4:为您的图表编写JS代码</h1><p id="120e" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">现在一切似乎都已就绪，您可以开始编写JS堆叠面积图可视化代码了。</p><p id="fc46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，添加<code class="fe na nb nc nd b">anychart.onDocumentReady</code>函数，它将封装图表的全部代码，并在页面准备就绪时执行。</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="a20b" class="ni lp iq nd b gy nj nk l nl nm">&lt;script&gt;</span><span id="10aa" class="ni lp iq nd b gy nn nk l nl nm">anychart.onDocumentReady(function () {<br/><strong class="nd ir"><em class="no">  // The stacked area chart's code will be written here.<br/></em></strong>});</span><span id="f374" class="ni lp iq nd b gy nn nk l nl nm">&lt;/script&gt;</span></pre><p id="92ac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，添加步骤3中的数据:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="c2a4" class="ni lp iq nd b gy nj nk l nl nm">&lt;script&gt;</span><span id="0d2c" class="ni lp iq nd b gy nn nk l nl nm">anychart.onDocumentReady(function () {<br/>  anychart.data.loadCsvFile ("https://static.anychart.com/git-storage/word-press/data/covid-19-italy/data.csv", function (data) {<br/><strong class="nd ir"><em class="no">    // set the data and ignore the first row that contains headers<br/></em></strong>    var dataSet = anychart.data.set(data, {ignoreFirstRow: true});<br/>  });<br/>});</span><span id="a1fc" class="ni lp iq nd b gy nn nk l nl nm">&lt;/script&gt;</span></pre><p id="4ca6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，指定图表类型，设置系列并强制图表按Y刻度堆叠值:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="f561" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// specify the area chart type<br/></em></strong>var chart = anychart.area();</span><span id="dfa8" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped active data<br/></em></strong>var actSeries = chart.splineArea(activeData);</span><span id="b9eb" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped recovered data<br/></em></strong>var recSeries = chart.splineArea(recoveredData);</span><span id="f516" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped deaths data<br/></em></strong>var deathsSeries = chart.splineArea(deathsData);</span><span id="a437" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// force the chart to stack values by the y scale<br/></em></strong>chart.yScale().stackMode('value');</span></pre><p id="5c47" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了清楚起见，让我们给它一个标题，并命名它的轴(如果你需要建议，请参见<a class="ae ln" href="https://www.anychart.com/blog/2017/04/05/chart-captions-title-graph-tips/" rel="noopener ugc nofollow" target="_blank">写好图表标题的技巧</a>):</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="e4f8" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// set the chart title<br/></em></strong>chart.title('Covid-19 in Italy');</span><span id="d7e3" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the labels of the axes<br/></em></strong>chart.xAxis().title("Date");<br/>chart.yAxis().title("Number of people");</span></pre><p id="7e0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">还有一点:我还想加一条会随鼠标移动的竖线，这样应该更容易一目了然哪里是什么。在AnyChart中，只需使用<a class="ae ln" href="https://docs.anychart.com/Axes_and_Grids/Crosshair" rel="noopener ugc nofollow" target="_blank">十字准线</a>功能。以下代码显示了如何启用十字准线，并带有一些附加样式:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="c2df" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// turn on the crosshair<br/></em></strong>var crosshair = chart.crosshair();<br/>crosshair.enabled(true)<br/>  .yStroke(null)<br/>  .xStroke('#fff')<br/>  .zIndex(39);<br/>crosshair.yLabel().enabled(false);</span></pre><p id="4039" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，通过将图表放入容器并使用drawing命令来绘制图表。</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="39d5" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// set the container id for the chart<br/></em></strong>chart.container('container');</span><span id="68a0" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// initiate chart drawing<br/></em></strong>chart.draw();</span></pre><p id="d0b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">享受结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/e7b2647210dce9ca7eee6ff68f444942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_a-WO0qgS5nrGQ1VteMtA.png"/></div></div></figure><p id="2909" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该输出提供了对活动病例、恢复和死亡的数量如何随时间变化的洞察。总数都是确诊病例。您可以将鼠标移到图表上，查看每个点的准确值。注意十字准线如何帮助理解每天的信息！</p><p id="0d79" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">为方便起见，完整代码如下。随意在AnyChart游乐场玩这个</strong> <a class="ae ln" href="https://playground.anychart.com/y7Y3OAGf/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">基础JS堆积面积图</strong> </a> <strong class="kt ir">。</strong></p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="70ef" class="ni lp iq nd b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="6baa" class="ni lp iq nd b gy nn nk l nl nm">&lt;head&gt;<br/>  &lt;title&gt;Stacked Area Chart&lt;/title&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-cartesian.min.js"&gt;&lt;/script&gt;<br/>  &lt;style&gt;<br/>    html,<br/>    body,<br/>    #container {<br/>      width: 100%;<br/>      height: 100%;<br/>      margin: 0;<br/>      padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="02c5" class="ni lp iq nd b gy nn nk l nl nm">&lt;body&gt;<br/>  &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;script&gt;</span><span id="391a" class="ni lp iq nd b gy nn nk l nl nm">anychart.onDocumentReady(function () {<br/>  anychart.data.loadCsvFile("https://static.anychart.com/git-storage/word-press/data/covid-19-italy/data.csv", function (data) { <br/><strong class="nd ir"><em class="no">    // set the data and ignore the first row that contains headers<br/></em></strong>    var dataSet = anychart.data.set(data, {ignoreFirstRow: true});</span><span id="a7c3" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the deaths series<br/></em></strong>    var deathsData = dataSet.mapAs({ 'x': 0, 'value': 2 });</span><span id="b697" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the recovered series<br/></em></strong>    var recoveredData = dataSet.mapAs({ 'x': 0, 'value': 3 });</span><span id="6546" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the active series</em><br/></strong>    var activeData = dataSet.mapAs({ 'x': 0, 'value': 4 });</span><span id="6b52" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// specify the chart type<br/></em></strong>    var chart = anychart.area();</span><span id="b1ac" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped active data<br/></em></strong>    var actSeries = chart.splineArea(activeData);</span><span id="8979" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped recovered data<br/></em></strong>    var recSeries = chart.splineArea(recoveredData);</span><span id="e8c2" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped deaths data<br/></em></strong>    var deathsSeries = chart.splineArea(deathsData);</span><span id="d915" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// force the chart to stack values by the y scale<br/></em></strong>    chart.yScale().stackMode('value');</span><span id="cfd5" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the chart title<br/></em></strong>    chart.title('Covid-19 in Italy');</span><span id="025d" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the labels of the axes<br/></em></strong>    chart.xAxis().title("Date");<br/>    chart.yAxis().title("Number of people");</span><span id="d03c" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// turn on the crosshair<br/></em></strong>    var crosshair = chart.crosshair();<br/>    crosshair.enabled(true)<br/>      .yStroke(null)<br/>      .xStroke('#fff')<br/>      .zIndex(39);<br/>    crosshair.yLabel().enabled(false);</span><span id="fc91" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the container id for the chart<br/></em></strong>    chart.container('container');</span><span id="deed" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// initiate chart drawing<br/></em></strong>    chart.draw();<br/>  });<br/>});</span><span id="c61a" class="ni lp iq nd b gy nn nk l nl nm">&lt;/script&gt;<br/>&lt;/body&gt;</span><span id="045a" class="ni lp iq nd b gy nn nk l nl nm">&lt;/html&gt;</span></pre><h1 id="42ed" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">定制JavaScript堆积面积图</h1><p id="a3c3" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">很可能不同的人喜欢不同的图表功能和美学，更不用说作为一名web开发人员或数据可视化设计人员，您可能会得到不同的任务。幸运的是，由AnyChart支持的JS图表可以进行修改，以适应您的需要和偏好。我将向您展示如何立即执行一些快速定制:</p><ol class=""><li id="e587" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">添加图例和动画。</li><li id="9d04" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">将值更改为百分比。</li><li id="8ee7" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">配置工具提示、标记和标签。</li><li id="75a4" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">改变颜色。</li></ol><h1 id="ed2e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">添加图例和动画</h1><p id="4f1c" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">为了便于阅读，每个显示多个值的图表都应该有一个图例。</p><p id="5e10" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">添加以下代码，为基于JS的堆积面积图打开图例。</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="ae66" class="ni lp iq nd b gy nj nk l nl nm">chart.legend(true);</span></pre><p id="935a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我还想通过添加动画来给这个图表添加一点wow效果。您可以通过在图表的JavaScript代码中添加一行代码来快速实现这一点:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="0c3c" class="ni lp iq nd b gy nj nk l nl nm">chart.animation(true);</span></pre><p id="91be" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">查看结果，在AnyChart游乐场</strong>  <strong class="kt ir"> : </strong>可以找到这个 <a class="ae ln" href="https://playground.anychart.com/GgOhYA6p/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">带图例和动画的JS堆积面积图</strong></a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/bf29fc2f56ef22322cee89e9e0afe32f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ioQl5VVGmIfwjt_Tna7pug.png"/></div></div></figure><h1 id="88de" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">将值更改为百分比</h1><p id="c850" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">现在，让我们将堆叠模式从值切换到百分比。通过这种方式，你可以想象出不管总数是多少，成分是如何变化的。</p><p id="823a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这很简单。要用JavaScript (HTML5) <a class="ae ln" href="https://www.anychart.com/chartopedia/chart-type/percent-stacked-area-chart/" rel="noopener ugc nofollow" target="_blank">百分比堆积面积图</a>可视化相同的数据，只需用“百分比”替换“值”:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="2846" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// change the stacking mode to percent<br/></em></strong>chart.yScale().stackMode('percent');</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/0eb8808bf69b516150f90e1e7c80632c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*adncV48Lj4nTobCMeweS7w.png"/></div></div></figure><p id="876f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">此</strong> <a class="ae ln" href="https://playground.anychart.com/lPGKLSbK/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> JS百分比堆积面积图在AnyChart游乐场</strong> </a> <strong class="kt ir">有售。</strong></p><h1 id="87e7" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">配置工具提示、标记和标签</h1><p id="ff84" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">让我们让图表在工具提示和图例中显示系列标题。有很多方法可以做到这一点。但是我也想修改点标记。因此，让我们创建一个助手函数，您可以在其中编写定制所有这些元素所需的代码:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="2491" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// helper function to setup tooltip labels for all series and style markers<br/></em></strong>var setupSeriesLabels = function (series, name) {<br/>  series.name(name)<br/>};</span></pre><p id="a60f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我设置系列的地方使用这个功能，并添加相应的标题:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="246a" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped active data<br/></em></strong>var actSeries = chart.splineArea(activeData);<br/>setupSeriesLabels(actSeries, 'Active');</span><span id="0e4d" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped recovered data<br/></em></strong>var recSeries = chart.splineArea(recoveredData);<br/>setupSeriesLabels(recSeries, 'Recovered');</span><span id="88e6" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped deaths data<br/></em></strong>var deathsSeries = chart.splineArea(deathsData);<br/>setupSeriesLabels(deathsSeries, 'Deaths');</span></pre><p id="1f56" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，再次使用辅助函数来设置标记的样式。我要做的是把它们都做成圆形，给它们一个特定的尺寸，并指定它们的笔画粗细和颜色。最后，我还将指定他们，使他们出现在前面的水平。</p><p id="660a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">代码如下:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="f802" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// helper function to setup series and give them appropriate names in order to distinguish and label them properly<br/></em></strong>var setupSeries = function (series, name) {<br/>  series.name(name)<br/><strong class="nd ir"><em class="no">  // setting the markers<br/></em></strong>  series.hovered().stroke('3 #fff 1');<br/>  series.hovered().markers()<br/>    .enabled(true)<br/>    .type('circle')<br/>    .size(4)<br/>    .stroke('1.5 #fff');<br/>  series.markers().zIndex(100);<br/>};</span></pre><p id="51ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些更改后的图表输出如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/f47176ef239bfc787455a654f3cfbcef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXfFAtZCDa85SO8sUFEmVA.png"/></div></div></figure><p id="bc32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">欢迎您在AnyChart游乐场</strong>  <strong class="kt ir">打开这个</strong> <a class="ae ln" href="https://playground.anychart.com/p7MqdGgn/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">定制的JS百分比堆积面积图。</strong></a></p><h1 id="0242" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">改变颜色</h1><p id="305d" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">最后，我想将图表的颜色修改成对我更有意义的颜色。我将为死亡添加红色阴影，为康复添加绿色阴影，为活跃病例添加蓝色阴影。随意提出自己的想法！</p><p id="f6d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">代码如下:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="0b8d" class="ni lp iq nd b gy nj nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped active series<br/></em></strong>var actSeries = chart.splineArea(activeData)<br/>.fill("#1E8FCD")<br/>.stroke("#4b9bc6")<br/>setupSeries(actSeries, 'Active');</span><span id="7fb0" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped recovered data<br/></em></strong>var recSeries = chart.splineArea(recoveredData)<br/>.fill("#B3C67D")<br/>.stroke("#b9c1a0")<br/>setupSeries(recSeries, 'Recovered');</span><span id="8205" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped deaths data<br/></em></strong>var deathsSeries = chart.splineArea(deathsData)<br/>.fill("#b3315d")<br/>.stroke("#b5617d")<br/>setupSeries(deathsSeries, 'Deaths');</span></pre><p id="56d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">查看我在开始时以GIF形式展示的最终交互式JavaScript百分比堆积面积图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/56360546174d71cf6f868640fed23cf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pvsADx2uUlUfreX0ZQ-a2w.png"/></div></div></figure><p id="41f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">你可以在下面找到这个数据可视化的完整代码以及AnyChart操场上的</strong> <a class="ae ln" href="https://playground.anychart.com/mHFN31Vt/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">最终JS百分比堆积面积图</strong> </a> <strong class="kt ir"> : </strong></p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="8497" class="ni lp iq nd b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;</span><span id="53c3" class="ni lp iq nd b gy nn nk l nl nm">&lt;head&gt;<br/>  &lt;title&gt;Stacked Area Chart&lt;/title&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.8.0/js/anychart-cartesian.min.js"&gt;&lt;/script&gt;<br/>  &lt;style&gt;<br/>    html,<br/>    body,<br/>    #container {<br/>      width: 100%;<br/>      height: 100%;<br/>      margin: 0;<br/>      padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="522b" class="ni lp iq nd b gy nn nk l nl nm">&lt;body&gt;<br/>  &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="b1d7" class="ni lp iq nd b gy nn nk l nl nm">anychart.onDocumentReady(function () {<br/>  anychart.data.loadCsvFile("https://static.anychart.com/git-storage/word-press/data/covid-19-italy/data.csv", function (data) {<br/><strong class="nd ir"><em class="no">    // set the data and ignore the first row that contains headers<br/></em></strong>    var dataSet = anychart.data.set(data, {ignoreFirstRow: true});</span><span id="14e0" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the deaths series<br/></em></strong>    var deathsData = dataSet.mapAs({ 'x': 0, 'value': 2 });</span><span id="ded8" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the recovered series<br/></em></strong>    var recoveredData = dataSet.mapAs({ 'x': 0, 'value': 3 });</span><span id="a30a" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// map data for the active series<br/></em></strong>    var activeData = dataSet.mapAs({ 'x': 0, 'value': 4 });</span><span id="315b" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// specify the area chart type<br/></em></strong>    var chart = anychart.area();</span><span id="1d0d" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// helper function to setup series and give them appropriate names in order to distinguish and label them properly<br/></em></strong>    var setupSeries = function (series, name) {<br/>      series.name(name)<br/><strong class="nd ir"><em class="no">      // setting the markers<br/></em></strong>      series.hovered().stroke('3 #fff 1');<br/>      series.hovered().markers()<br/>        .enabled(true)<br/>        .type('circle')<br/>        .size(4)<br/>        .stroke('1.5 #fff');<br/>      series.markers().zIndex(100);<br/>    };</span><span id="6442" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped active data<br/></em></strong>    var actSeries = chart.splineArea(activeData)<br/>    .fill("#1E8FCD")<br/>    .stroke("#4b9bc6")<br/>    setupSeries(actSeries, 'Active');</span><span id="2e69" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped recovered data<br/></em></strong>    var recSeries = chart.splineArea(recoveredData)<br/>    .fill("#B3C67D")<br/>    .stroke("#b9c1a0")<br/>    setupSeries(recSeries, 'Recovered');</span><span id="396a" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// create a series with the mapped deaths data<br/></em></strong>    var deathsSeries = chart.splineArea(deathsData)<br/>    .fill("#b3315d")<br/>    .stroke("#b5617d")<br/>    setupSeries(deathsSeries, 'Deaths');<br/>    <br/><strong class="nd ir"><em class="no">    // force the chart to stack values by the y scale<br/></em></strong>    chart.yScale().stackMode('percent');</span><span id="6172" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the chart title<br/></em></strong>    chart.title('Covid-19 in Italy');</span><span id="e852" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the labels of the axes<br/></em></strong>    chart.xAxis().title("Date");<br/>    chart.yAxis().title("Number of people");</span><span id="b1ee" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// turn on the crosshair<br/></em></strong>    var crosshair = chart.crosshair();<br/>    crosshair.enabled(true)<br/>      .yStroke(null)<br/>      .xStroke('#fff')<br/>      .zIndex(39);<br/>    crosshair.yLabel().enabled(false);</span><span id="0e95" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// turn on the legend<br/></em></strong>    chart.legend(true);</span><span id="0064" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// turn on the chart animation<br/></em></strong>    chart.animation(true);</span><span id="5c03" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// set the container id for the chart<br/></em></strong>    chart.container('container');</span><span id="8f34" class="ni lp iq nd b gy nn nk l nl nm"><strong class="nd ir"><em class="no">// initiate chart drawing<br/></em></strong>    chart.draw();<br/>  });<br/>});</span><span id="a118" class="ni lp iq nd b gy nn nk l nl nm">&lt;/script&gt;<br/>&lt;/body&gt;</span><span id="8390" class="ni lp iq nd b gy nn nk l nl nm">&lt;/html&gt;</span></pre><h1 id="f7da" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">结论</h1><p id="e29a" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">恭喜你！您已经构建了您的第一个JavaScript堆叠面积图！过程其实并不难吧？</p><p id="7dbb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">趁热继续学吧。参见<a class="ae ln" href="https://docs.anychart.com" rel="noopener ugc nofollow" target="_blank">文档</a>。在<a class="ae ln" href="https://www.anychart.com/products/anychart/gallery/Area_Charts/" rel="noopener ugc nofollow" target="_blank">面积图图库</a>中查看更多堆积面积图示例以获取灵感。欢迎分享你自己的创作，并在评论中提出你的问题😉</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="d9f6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="no">参见:</em> </strong> <a class="ae ln" href="https://www.anychart.com/blog/2017/10/28/create-javascript-area-chart/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="no">如何创建JavaScript区域图</em> </strong> </a></p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="2618" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="no">原载于2020年6月10日</em><a class="ae ln" href="https://www.anychart.com/blog/2020/06/10/stacked-area-chart-javascript-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="no">https://www.anychart.com</em></a><em class="no">。</em></p></div></div>    
</body>
</html>