<html>
<head>
<title>Functional JavaScript — Higher-Order Functions in the Real World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">函数式JavaScript——现实世界中的高阶函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/functional-javascript-higher-order-functions-in-the-real-world-459543f0a4a3?source=collection_archive---------11-----------------------#2020-11-13">https://javascript.plainenglish.io/functional-javascript-higher-order-functions-in-the-real-world-459543f0a4a3?source=collection_archive---------11-----------------------#2020-11-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/73c8bbada7fb343bd153507c6c8c1df7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4KMlba_Im-DK_-8I"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kylejglenn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kyle Glenn</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="863c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript部分是一种函数式语言。</p><p id="7b04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要学习JavaScript，我们必须学习JavaScript的功能部分。</p><p id="6eb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何使用高阶函数。</p><h1 id="0752" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">现实世界中的高阶函数</h1><p id="91a8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">高阶函数在现实世界中被大量使用。</p><p id="71ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，数组有许多高阶函数的实例方法。</p><p id="06de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中之一就是<code class="fe me mf mg mh b">every</code>法。</p><p id="8bdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">every</code>接受一个返回布尔表达式的回调，以检查每一项是否都是我们要找的。</p><p id="b7a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fc16" class="mq lc iq mh b gy mr ms l mt mu">const allEven = [1, 2, 3].every(a =&gt; a % 2 === 0);</span></pre><p id="9164" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入一个回调函数来检查每个条目是否能被2整除。</p><p id="ceb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这应该返回<code class="fe me mf mg mh b">false</code>，因为我们有1和3是奇数。</p><p id="5959" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另外，<code class="fe me mf mg mh b">every</code>方法可以用我们自己的代码实现:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="efdf" class="mq lc iq mh b gy mr ms l mt mu">const every = (arr, fn) =&gt; {<br/>  for (const a of arr) {<br/>    if (!fn(a)) {<br/>      return false;<br/>    }<br/>  }<br/>  return true;<br/>}</span></pre><p id="462f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们循环遍历<code class="fe me mf mg mh b">arr</code>的条目，然后调用<code class="fe me mf mg mh b">fn</code>来检查条目是否匹配给定的条件。</p><p id="6933" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是，那么我们返回<code class="fe me mf mg mh b">false</code>,因为我们至少有一项与回调中的给定项不匹配。</p><p id="7479" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过书写来使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3b07" class="mq lc iq mh b gy mr ms l mt mu">const allEven = every([1, 2, 3], a =&gt; a % 2 === 0)</span></pre><p id="e001" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">allEven</code>应该是<code class="fe me mf mg mh b">false</code>。</p><h1 id="5303" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">一些功能</h1><p id="70b5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">some</code>方法与<code class="fe me mf mg mh b">every</code>相似。</p><p id="d968" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也是数组实例的一部分。</p><p id="4c28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下代码来调用数组实例的<code class="fe me mf mg mh b">some</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c6fc" class="mq lc iq mh b gy mr ms l mt mu">const hasEven = [1, 2, 3].some(a =&gt; a % 2 === 0)</span></pre><p id="9f9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在数组上调用<code class="fe me mf mg mh b">some</code>方法。</p><p id="df08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回调返回我们正在寻找的条件。</p><p id="0a51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它检查是否至少有一项符合给定的条件。</p><p id="528e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，既然2是偶数，<code class="fe me mf mg mh b">hasEven</code>就应该是<code class="fe me mf mg mh b">true</code>。</p><p id="4c3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有，我们可以用自己的方式实现。</p><p id="7690" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="146c" class="mq lc iq mh b gy mr ms l mt mu">const some = (arr, fn) =&gt; {<br/>  for (const a of arr) {<br/>    if (fn(a)) {<br/>      return true;<br/>    }<br/>  }<br/>  return false;<br/>}</span></pre><p id="0923" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们循环遍历这些项目，并检查<code class="fe me mf mg mh b">fn(a)</code>是否返回<code class="fe me mf mg mh b">true</code>。</p><p id="ec93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果有，那么我们返回<code class="fe me mf mg mh b">true</code>。</p><p id="0dbb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们返回<code class="fe me mf mg mh b">false</code>。</p><p id="5535" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下代码来调用我们自己的<code class="fe me mf mg mh b">some</code>函数:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e0cd" class="mq lc iq mh b gy mr ms l mt mu">const hasEven = some([1, 2, 3], a =&gt; a % 2 === 0)</span></pre><p id="daa8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe me mf mg mh b">true</code>。</p><p id="38a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入数组和回调函数，回调函数返回我们正在检查的函数。</p><h1 id="3b39" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">分类</h1><p id="9370" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">数组实例<code class="fe me mf mg mh b">sort</code>方法采用一个函数，让我们比较两个条目并对它们进行排序。</p><p id="0357" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回调使用两个参数，这是数组的两个条目。</p><p id="d8c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果第一个参数应该在第二个之前，那么我们返回一个负数。</p><p id="5582" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们保持同样的顺序，那么我们返回0。</p><p id="3ff8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们返回一个正数。</p><p id="c778" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过创建一个返回比较器函数的函数来改进这一点。</p><p id="987e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1c7b" class="mq lc iq mh b gy mr ms l mt mu">const sortBy = (property) =&gt; {<br/>  return (a, b) =&gt; a[property] - b[property];<br/>}</span><span id="e606" class="mq lc iq mh b gy mv ms l mt mu">const arr = [{<br/>    foo: 3<br/>  },<br/>  {<br/>    foo: 1<br/>  },<br/>  {<br/>    foo: 2<br/>  }<br/>]</span><span id="80a9" class="mq lc iq mh b gy mv ms l mt mu">const sorted = arr.sort(sortBy('foo'));<br/>console.log(sorted);</span></pre><p id="042a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">sortBy</code>函数，它返回一个函数让我们比较一个属性值。</p><p id="3fb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用我们的<code class="fe me mf mg mh b">sortBy</code>函数调用<code class="fe me mf mg mh b">arr.sort</code>，它返回我们想要的属性的比较器函数。</p><p id="76ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">sorted</code>应该是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="284a" class="mq lc iq mh b gy mr ms l mt mu">[<br/>  {<br/>    "foo": 1<br/>  },<br/>  {<br/>    "foo": 2<br/>  },<br/>  {<br/>    "foo": 3<br/>  }<br/>]</span></pre><p id="76d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到物品已经分类。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/6c34fda14e4072bcf2bdc3ff435740d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sMZYsdBspWGCHXQx"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@iambrettzeck?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Brett Zeck</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bc29" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6d3e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用自己的方式实现各种数组方法。</p><p id="1b92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">高阶函数在现实世界中有很多应用。</p><p id="0f85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>