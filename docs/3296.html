<html>
<head>
<title>Top React Hooks — Network, Dimensions, and Scroll</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶部反应挂钩—网络、尺寸和滚动</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-network-dimensions-and-scroll-61981a013cd0?source=collection_archive---------8-----------------------#2020-09-16">https://javascript.plainenglish.io/top-react-hooks-network-dimensions-and-scroll-61981a013cd0?source=collection_archive---------8-----------------------#2020-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/141566a452baa5dcaaf4b1b05e8e3ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fukXVQknki_24aHU"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@wideshot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Anders Wideskott</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="35b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="9c30" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@rehooks/network-status</h1><p id="c3e3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@rehooks/network-status挂钩让我们可以在React应用程序中获得网络状态。</p><p id="c59e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使用它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7004" class="mn lc iq mj b gy mo mp l mq mr">yarn add @rehooks/network-status</span></pre><p id="c6d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用<code class="fe ms mt mu mj b">useNetworkStatus</code>钩子来获取网络信息:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7b36" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useNetworkStatus from "@rehooks/network-status";</span><span id="816e" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const connection = useNetworkStatus();<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;div&gt;downlink: {connection.downlink}&lt;/div&gt;<br/>      &lt;div&gt;effectiveType: {connection.effectiveType}&lt;/div&gt;<br/>      &lt;div&gt;rtt: {connection.rtt}&lt;/div&gt;<br/>      &lt;div&gt;saveData: {connection.saveData ? "yes" : "no"}&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="d149" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">downlink</code>有上传速度。</p><p id="7fc1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">effectiveType</code> hs连接类型。</p><p id="7767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">rtt</code>是往返延迟，即发送一个信号所需的时间加上信号被确认所需的时间。</p><h1 id="cec7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@rehooks/online-status</h1><p id="dc0d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@rehooks/online-status是一个获取一个app在线状态的包。</p><p id="6054" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它监听在线或离线事件来获取状态。</p><p id="e9ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们可以运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="098d" class="mn lc iq mj b gy mo mp l mq mr">yarn add @rehooks/online-status</span></pre><p id="7cbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5db6" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useOnlineStatus from "@rehooks/online-status";</span><span id="26ee" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const onlineStatus = useOnlineStatus();<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;{onlineStatus ? "Online" : "Offline"}&lt;/h1&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="ad17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">useOnlineStatus</code>钩子来获取我们的应用程序的在线状态。</p><h1 id="6aaf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@ re hooks/窗口-滚动-位置</h1><p id="8c90" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用@ re hooks/window-scroll-position钩子来观察我们的应用程序中的滚动位置。</p><p id="db10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了安装这个包，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3c08" class="mn lc iq mj b gy mo mp l mq mr">yarn add @rehooks/window-scroll-position</span></pre><p id="cabe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用包买写作:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fbe5" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useWindowScrollPosition from "@rehooks/window-scroll-position";</span><span id="d885" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const options = {<br/>    throttle: 100<br/>  };<br/>  let position = useWindowScrollPosition(options);<br/>  return (<br/>    &lt;&gt;<br/>      &lt;div style={{ position: "fixed" }}&gt;{JSON.stringify(position)}&lt;/div&gt;<br/>      {Array(1000)<br/>        .fill()<br/>        .map((_, i) =&gt; (<br/>          &lt;p&gt;{i}&lt;/p&gt;<br/>        ))}<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="9f54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe ms mt mu mj b">useWindowScrollPosition</code>挂钩来观察滚动位置。</p><p id="20c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还传递了一个选项来限制位置监视。</p><p id="560f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后当我们滚动时，我们会看到<code class="fe ms mt mu mj b">position</code>的<code class="fe ms mt mu mj b">x</code>和<code class="fe ms mt mu mj b">y</code>属性发生了变化。</p><h1 id="f7dd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@rehooks/window-size</h1><p id="772a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用@ re books/window-size包来监视窗口大小的变化。</p><p id="102e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7202" class="mn lc iq mj b gy mo mp l mq mr">yarn add @rehooks/window-size</span></pre><p id="4d87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2d82" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useWindowSize from "@rehooks/window-size";</span><span id="e259" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  let windowSize = useWindowSize();</span><span id="c9df" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;{JSON.stringify(windowSize)}&lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="cdec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用<code class="fe ms mt mu mj b">useWindowSize</code>钩子来获得窗口尺寸。</p><p id="58d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">innerHeight</code>具有水平滚动条高度的内部高度，以像素为单位。</p><p id="f6be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">innerWidth</code>具有以像素为单位的带有垂直滚动条的窗口的内部宽度。</p><p id="44e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">outerHeight</code>以像素为单位显示整个浏览器窗口的高度。</p><p id="7282" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">outerHeight</code>以像素为单位显示整个浏览器窗口的宽度。</p><p id="c985" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都包括边栏和其他边框。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/b90468b73a2b13b4c9f2e59bb3df5d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sE65BaaT-k9MpHs4"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@lyndaann1975?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lynda Hinton</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="779b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="52d7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用各种钩子获得网络状态、滚动位置和窗口大小。</p><h2 id="53de" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="9a7d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>