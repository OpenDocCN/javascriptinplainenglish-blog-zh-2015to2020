<html>
<head>
<title>How to build a web app with Vue, Vuetify and Axios</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Vue、Vuetify和Axios构建web app</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implement-movie-app-with-vue-vuetify-axios-open-movie-database-api-d12290318cf9?source=collection_archive---------0-----------------------#2019-02-28">https://javascript.plainenglish.io/implement-movie-app-with-vue-vuetify-axios-open-movie-database-api-d12290318cf9?source=collection_archive---------0-----------------------#2019-02-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9ea3" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">跟随我们用Vue、Axios、Vuetify和开放电影数据库API构建一个电影数据库应用程序</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e27bdceaafd90134611744f34215ca6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dA0K8ZQ4yQn1Ld4JQBG4ug.png"/></div></div></figure><h1 id="5f6b" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">介绍</h1><p id="2d2a" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在本文中，我们将构建一个由Vuetify和Axios支持的Vue.js应用程序。本文的目的是实现一个调用API的电影应用程序。用户将能够搜索电影。API将检索包含所有搜索细节的电影。当用户点击一部电影时，它会给出每部电影的更多细节。这是一个相当简单的应用程序，但它将解释从Vue.js应用程序调用API的用例。</p><h1 id="3f09" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">内容</h1><ol class=""><li id="0102" class="mc md in li b lj lk lm ln lp me lt mf lx mg mb mh mi mj mk bi translated">为什么选择Axios？</li><li id="5144" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">为什么要Vuetify？</li><li id="a58e" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">电影API简介</li><li id="3717" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">调用和测试API和测试。</li><li id="6ac8" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">创建应用程序</li><li id="b40d" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">应用程序的要求和结构</li><li id="aa1d" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">将Vuetify添加到项目中</li><li id="2533" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">将vue路由器添加到项目中</li><li id="4b8d" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">将axios添加到项目中</li><li id="1ddc" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">移除当前脚手架组件</li><li id="3d2d" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">创建最新电影组件</li><li id="25f5" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">实现电影组件</li><li id="cf7c" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">显示评级</li><li id="0a3f" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">添加搜索电影组件</li><li id="3e3f" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">搜索电影的问题以及我们如何纠正它</li><li id="ead9" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">如果API中没有搜索数据，则添加警告消息</li><li id="6871" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">为axios/重构创建中心文件</li><li id="1680" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">包装和源代码</li></ol><h1 id="1efe" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">1.为什么选择Axios？</h1><p id="3fc2" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在Vue.js App中，我们可以显示来自外部API的数据。这可以通过vue-resource和axios来实现。Axios是一个第三方库，也是一个流行的库。<a class="ae mq" href="https://vuejs.org/v2/cookbook/using-axios-to-consume-apis.html" rel="noopener ugc nofollow" target="_blank">这里是Axios配合Vue.js </a>使用的官方链接。</p><p id="af20" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">这里需要注意的重要一点是，在官方文档中没有关于将axios安装到Vue.js应用程序的细节。我们将在第9节讨论这个问题:<em class="mw">将axios添加到项目</em>。</p><h1 id="787e" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">2.为什么要Vuetify？</h1><p id="49c1" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">Vuetify是一个建立在Vue.js之上的材质设计框架。它有很好的UI组件，可以很容易地在Vue.js上使用。</p><h1 id="3b17" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">3.电影API简介</h1><p id="c451" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">【http://www.omdbapi.com/ T4】</p><p id="28c3" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">omdbapi是一个开放免费的电影数据库api，它也将提供电影的细节和图片。主要缺点是大多数图像不是很清楚，但它会做到这一点。还有API支持。</p><p id="c19c" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">为了使用这个API，首先需要注册，他们会提供一个API密匙通过邮件发给你。这可以用于每个查询结果。</p><p id="f928" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">需要传递密钥和特殊字符串。s代表搜索当传递<strong class="li io"> <em class="mw"> s="Indiana" </em> </strong>时，API将检索所有包含Indiana的数据。此外，<strong class="li io"> <em class="mw"> i </em> </strong>代表将返回具有imbd id的电影，因此只返回一个，因为它是唯一的。我们在这里用<strong class="li io"><em class="mw"/></strong><strong class="li io"><em class="mw">【我】</em> </strong>进行演示。</p><h1 id="4759" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">4.调用和测试API和测试</h1><p id="987e" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">为了检查我们在调用omdbapi时会收到什么，可以使用postman工具或任何api测试机制进行测试。在这里，我使用邮递员。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/c5052a4de4f0640ff6ac4ec44bd1400f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qz8IqTSZQG3z45WeI6yGhg.png"/></div></div></figure><p id="8b59" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">正如您在图像中看到的，需要传递apikey=XXXX和s= "电影名称"</p><p id="db26" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">所以网址变成了</p><blockquote class="my mz na"><p id="4d77" class="lg lh mw li b lj mr jo ll lm ms jr lo nb mt lr ls nc mu lv lw nd mv lz ma mb ig bi translated"><a class="ae mq" href="http://www.omdbapi.com/?s=indiana&amp;apikey=b76b385c&amp;page=1&amp;type=movie&amp;Content-Type=application/json" rel="noopener ugc nofollow" target="_blank">http://www.omdbapi.com/?s=movie-name&amp;API key = XXXX&amp;page = 1&amp;Type =电影&amp;Content-Type = application/JSON</a></p></blockquote><p id="ddaa" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">太棒了，我们很好，现在我们可以继续创建一个应用程序，并在axios上工作。</p><h1 id="e2a8" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">5.创建应用程序</h1><p id="428a" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">创建Vue js应用程序是通过一个简单命令完成的</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="e0c6" class="nj kp in nf b gy nk nl l nm nn">vue create movie-app</span></pre><p id="b751" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">电影应用是我们的应用名称。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi no"><img src="../Images/3f87be3b1ccce0054504c8ad67a1b0f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_GRlYMIq2PIy9lt-dzKlyQ.png"/></div></div></figure><h1 id="7fa2" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">6.应用程序的要求和结构</h1><p id="620e" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">应用程序的结构有3个组成部分。</p><ol class=""><li id="6fe3" class="mc md in li b lj mr lm ms lp np lt nq lx nr mb mh mi mj mk bi translated">最新电影组件。</li><li id="c30c" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">电影成分。</li><li id="be5b" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">SearchMovie组件。</li></ol><p id="0931" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">LatestMovie组件将有当前主页，我将显示与我最喜欢的电影“印第安纳”相关的电影</p><p id="a61f" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">单击每部电影，将显示每部电影的详细信息，这可以通过使用电影组件来完成。</p><p id="34b5" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">提供了搜索和显示这些电影的选项，可以由SearchMovie组件处理。</p><h1 id="98a7" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">7.将Vuetify添加到项目中</h1><p id="5e64" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">正如已经讨论过的，我们在应用程序的设计中使用了Vuetify。需要为此做一些基础工作。在终端上，键入</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="beb2" class="nj kp in nf b gy nk nl l nm nn">vue add vuetify</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ns"><img src="../Images/d73ffe8231731e257e2c020a184f732b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rs1pFRTIeysNQhdE5_UUNA.png"/></div></div></figure><p id="e685" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">安装后，我们的前端将如下所示:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/5a5fdab436c69af2965d2bba198b6870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*93-wXWbEjhE_91NU_7cyMg.png"/></div></div></figure><p id="cb4a" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">太棒了，他们还提供了导航条。然后将继续。</p><h1 id="3b22" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">8.将vue路由器添加到项目中</h1><p id="c7df" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">将解释我们为什么需要vue路由器，它将毫不费力地完成路由功能和组件交换。安装vue路由器的步骤如下</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="2cb4" class="nj kp in nf b gy nk nl l nm nn">npm install vue-router</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/254c4cc0d130727b19972c9cfa4d9a28.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*E9nzhzWCiJ2IuX9gghviRQ.png"/></div></figure><p id="e163" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">现在，需要将路由器链接到应用程序并创建一个路由文件。</p><ol class=""><li id="281c" class="mc md in li b lj mr lm ms lp np lt nq lx nr mb mh mi mj mk bi translated">创建路由器文件</li><li id="7be2" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">向路由器文件添加内容</li><li id="613f" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">将路由器链接到应用程序</li></ol><p id="ebd9" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw"> 1。创建一个路由器文件</em> </strong></p><p id="34d1" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">我遵循一个模式，在src路径中创建一个名为<strong class="li io"> <em class="mw"> router </em> </strong>的文件夹，并在其中创建一个<strong class="li io"> <em class="mw"> index.js </em> </strong>文件</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/89ed4070799b09988d941b16832f60b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*2hVB5zeLxC01sqkgkjXiqg.png"/></div></figure><p id="de64" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io">②<em class="mw">。将内容添加到路由器文件</em> </strong></p><p id="31e9" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">到目前为止，我们创建了一个router/index.js文件，现在需要导入Vue实例和vue-router到该文件，还需要导出默认的路由器文件。</p><p id="136d" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">每个路由器路径会有3个组件:<strong class="li io"> <em class="mw">路径，名称，组件。</em> </strong></p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="72e6" class="nj kp in nf b gy nk nl l nm nn">import Vue from 'vue'<br/>import VueRouter from 'vue-router'</span><span id="281d" class="nj kp in nf b gy nw nl l nm nn">Vue.use(VueRouter)</span><span id="8ecd" class="nj kp in nf b gy nw nl l nm nn">export default new VueRouter({<br/>  routes: [<br/>    {<br/>    }<br/>  ]<br/>})</span></pre><p id="81a1" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw"> 3。将路由器链接到应用程序</em> </strong></p><p id="5dc3" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">首先，需要从path导入路由器，并在Vue实例中使用它。所有这些都在src/main.js文件中完成</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="97aa" class="nj kp in nf b gy nk nl l nm nn">import router from ‘./router’</span></pre><p id="fb23" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">当前的main.js文件将如下所示:</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="7565" class="nj kp in nf b gy nk nl l nm nn">import Vue from 'vue'<br/>import './plugins/vuetify'<br/>import App from './App.vue'<br/>import router from './router'</span><span id="3d11" class="nj kp in nf b gy nw nl l nm nn">Vue.config.productionTip = false<br/>new Vue({<br/>  render: h =&gt; h(App),<br/>  router<br/>}).$mount('#app')</span></pre><h1 id="8d02" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">9.将axios添加到项目中</h1><p id="3b4b" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">Axios是我们调用此应用程序中的API服务的联系点。现在我们需要将axios安装到我们的项目中。</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="cdaa" class="nj kp in nf b gy nk nl l nm nn">npm install axios --save</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/f635757d8ffb5b56dc4dc4f8b8b6b088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*peus5peqmkliaK4Tw1MEEw.png"/></div></figure><h1 id="85ef" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">10.移除当前脚手架组件</h1><p id="979b" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">默认情况下，我们有一个组件，将删除该组件并创建我们需要的组件。</p><p id="3fd5" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">HelloWorld.vue是默认组件，将从我们的应用程序中删除它。</p><h1 id="26da" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">11.创建最新电影组件</h1><p id="2288" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">这里需要做一些步骤</p><ol class=""><li id="63c3" class="mc md in li b lj mr lm ms lp np lt nq lx nr mb mh mi mj mk bi translated">创建最新的电影。</li><li id="0a1f" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">将axios添加到最新的电影组件中。</li><li id="3219" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">将路由器链接到最新电影。</li><li id="d27a" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">为最新电影添加进度条。</li><li id="e345" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated"><strong class="li io"> <em class="mw">创建最新电影</em> </strong></li></ol><p id="f892" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">在components文件夹中创建一个名为<strong class="li io"> <em class="mw"> LatestMovie.vue </em> </strong>的文件。</p><p id="6941" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw"> 2。将axios添加到最新的电影组件中。</em>T11】</strong></p><p id="b884" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">在这里，我们使用mounted()生命周期，添加代码以从带有印第安纳电影数据的omdbapi获得结果。</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="058b" class="nj kp in nf b gy nk nl l nm nn">mounted () {<br/>  axios<br/>    .get('<a class="ae mq" href="http://www.omdbapi.com/?s=mummy&amp;apikey=b76b385c&amp;page=1&amp;type=movie&amp;Content-Type=application/json'" rel="noopener ugc nofollow" target="_blank">http://www.omdbapi.com/?s=mummy&amp;apikey=XXXXX&amp;page=1&amp;type=movie&amp;Content-Type=application/json'</a>)<br/>    .then(response =&gt; {<br/>      this.wholeResponse = response.data.Search<br/>    })<br/>    .catch(error =&gt; {<br/>      console.log(error)<br/>    })<br/>}</span></pre><p id="b765" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw"> 3。将路由器链接到最新电影。</em>T15】</strong></p><p id="a241" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">现在，我们需要将<strong class="li io"> <em class="mw">最新电影</em> </strong>链接到路由器文件。</p><p id="087f" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">在src/router/index.js中:</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="8fb6" class="nj kp in nf b gy nk nl l nm nn">import LatestMovie from '@/components/LatestMovie'</span></pre><p id="1c07" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">将链接添加到router/index.js:</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="3cb7" class="nj kp in nf b gy nk nl l nm nn">export default new VueRouter({<br/>  routes: [<br/>   {<br/>      path: '/',<br/>      name: 'LatestMovie',<br/>      component: LatestMovie<br/>    }<br/>  ]<br/>})</span></pre><p id="fa89" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw"> 4。为最新电影</em> </strong>添加进度条</p><p id="1a31" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">如果API需要时间来检索，我们将需要显示一个进度条。这可以通过使用vuetify的<em class="mw">"&lt;v-进度-循环"</em>来实现。</p><p id="7924" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">创建了一个数据属性，该属性最初将被设置为true，之后API响应将被设置为false。</p><p id="0ecf" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">另外，另一个名为wholeResponse的数据属性将负责处理数据。</p><p id="079c" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">所以完全我们的<strong class="li io"><em class="mw">latest movie . vue</em></strong>就变成了:</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="dfd4" class="nj kp in nf b gy nk nl l nm nn">&lt;template&gt;</span><span id="5362" class="nj kp in nf b gy nw nl l nm nn">&lt;v-container v-if="loading"&gt;<br/>    &lt;div class="text-xs-center"&gt;<br/>      &lt;v-progress-circular<br/>        indeterminate<br/>        :size="150"<br/>        :width="8"<br/>        color="green"&gt;<br/>      &lt;/v-progress-circular&gt;<br/>    &lt;/div&gt;<br/>  &lt;/v-container&gt;</span><span id="2986" class="nj kp in nf b gy nw nl l nm nn">&lt;v-container v-else grid-list-xl&gt;<br/>    &lt;v-layout wrap&gt;<br/>      &lt;v-flex xs4<br/>        v-for="(item, index) in wholeResponse"<br/>        :key="index"<br/>        mb-2&gt;<br/>        &lt;v-card&gt;<br/>          &lt;v-img<br/>            :src="item.Poster"<br/>            aspect-ratio="1"<br/>          &gt;&lt;/v-img&gt;</span><span id="d645" class="nj kp in nf b gy nw nl l nm nn">&lt;v-card-title primary-title&gt;<br/>            &lt;div&gt;<br/>              &lt;h2&gt;{{item.Title}}&lt;/h2&gt;<br/>              &lt;div&gt;Year: {{item.Year}}&lt;/div&gt;<br/>              &lt;div&gt;Type: {{item.Type}}&lt;/div&gt;<br/>              &lt;div&gt;IMDB-id: {{item.imdbID}}&lt;/div&gt;<br/>            &lt;/div&gt;<br/>          &lt;/v-card-title&gt;</span><span id="14a7" class="nj kp in nf b gy nw nl l nm nn">&lt;v-card-actions class="justify-center"&gt;<br/>            &lt;v-btn flat<br/>              color="green"<br/>              <a class="ae mq" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="singleMovie(item.imdbID)"<br/>              &gt;View&lt;/v-btn&gt;<br/>          &lt;/v-card-actions&gt;</span><span id="b15f" class="nj kp in nf b gy nw nl l nm nn">&lt;/v-card&gt;<br/>      &lt;/v-flex&gt;<br/>  &lt;/v-layout&gt;<br/>  &lt;/v-container&gt;<br/>&lt;/template&gt;</span><span id="5529" class="nj kp in nf b gy nw nl l nm nn">&lt;script&gt;<br/>import axios from 'axios'<br/>export default {<br/>  data () {<br/>    return {<br/>      wholeResponse: [],<br/>      loading: true<br/>    }<br/>  },<br/>  mounted () {<br/>  axios<br/>    .get('<a class="ae mq" href="http://www.omdbapi.com/?s=indiana&amp;apikey=XXXX&amp;page=1&amp;type=movie&amp;Content-Type=application/json'" rel="noopener ugc nofollow" target="_blank">http://www.omdbapi.com/?s=indiana&amp;apikey=XXXX&amp;page=1&amp;type=movie&amp;Content-Type=application/json'</a>)<br/>    .then(response =&gt; {<br/>      this.wholeResponse = response.data.Search<br/>      this.loading = false<br/>    })<br/>    .catch(error =&gt; {<br/>      console.log(error)<br/>    })<br/>  }<br/>}<br/>&lt;/script&gt;</span><span id="85cf" class="nj kp in nf b gy nw nl l nm nn">&lt;style lang="stylus" scoped&gt;<br/>  .v-progress-circular<br/>    margin: 1rem<br/>&lt;/style&gt;</span></pre><p id="fd8a" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">现在，将路由器视图添加到App.vue以显示组件:</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="4379" class="nj kp in nf b gy nk nl l nm nn">&lt;router-view&gt;&lt;/router-view&gt;</span></pre><h1 id="875b" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">12.实现电影组件</h1><p id="626e" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">现在，是单部电影的时候了。这可以通过使用Movie.vue文件来实现。</p><ol class=""><li id="6e76" class="mc md in li b lj mr lm ms lp np lt nq lx nr mb mh mi mj mk bi translated">添加Movie.vue文件</li><li id="218e" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">添加路由器</li><li id="1594" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">添加模式</li><li id="bc36" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">在路由器中传递道具。</li><li id="807f" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">传递最新组件中的道具。</li><li id="8ca9" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">处理电影组件中的道具数据。</li></ol><p id="d291" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw">添加Movie.vue文件</em> </strong></p><p id="2bf8" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">将文件添加到components/Movie.vue中</p><p id="665f" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw">添加路由器</em> </strong></p><p id="46f4" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">将Movie.vue注册到router/index.js文件</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="e6b2" class="nj kp in nf b gy nk nl l nm nn">import Movie from '@/components/Movie'</span></pre><p id="b283" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw">添加模式</em> </strong></p><p id="bc7c" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">URL中有“#”存在，我们可以使用</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="911c" class="nj kp in nf b gy nk nl l nm nn">mode: 'history'</span></pre><p id="b4b8" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">在router/index.js文件中。</p><p id="fa43" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw">在路由器中传递道具。</em>T45】</strong></p><p id="690c" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">使用router/index.js中的以下代码为Movie.vue组件创建一个路径</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="f2e0" class="nj kp in nf b gy nk nl l nm nn">{<br/>      path: '/movie/:id',<br/>      name: 'Movie',<br/>      props: true,<br/>      component: Movie<br/>    },</span></pre><p id="6ca6" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">我们提供props: true，因为我们将imdb_id传递给Movie.vue组件，然后该值用于调用该单部电影的API。</p><p id="843c" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw">传递最新组件</em> </strong>中的道具</p><p id="cdb6" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">现在，在最新的电影中单击视图，将调用方法，该方法将依次将imdb_id作为道具传递给Movie.vue。</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="ecc4" class="nj kp in nf b gy nk nl l nm nn">&lt;v-btn round<br/>              color="green"<br/>              <a class="ae mq" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="singleMovie(item.imdbID)"<br/>              &gt;View&lt;/v-btn&gt;</span></pre><p id="9379" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">单一电影的方法是</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="b28e" class="nj kp in nf b gy nk nl l nm nn">methods: {<br/>    singleMovie (id) {<br/>      this.$router.push('/movie/' + id)<br/>    }<br/>  }</span></pre><p id="42cd" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><strong class="li io"> <em class="mw">处理电影组件中的道具数据</em> </strong></p><p id="47a5" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">现在，数据是从最新的电影传过来的。该值在Movie.vue组件中作为prop接收。该值可由<em class="mw"> this.id </em>使用</p><p id="1afa" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">此外，还添加了一个名为singleMovie的数据属性来处理响应。</p><p id="a73c" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">Movie.vue中的代码变成了，</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="8873" class="nj kp in nf b gy nk nl l nm nn">&lt;template&gt;<br/>  &lt;v-container&gt;<br/>    &lt;v-layout row wrap&gt;<br/>      &lt;v-flex xs12&gt;<br/>        &lt;h2&gt;welcome to single movie component&lt;/h2&gt;<br/>          &lt;div&gt;{{singleMovie}}&lt;/div&gt;<br/>      &lt;/v-flex&gt;<br/>    &lt;/v-layout&gt;<br/>  &lt;/v-container&gt;<br/>&lt;/template&gt;</span><span id="b10c" class="nj kp in nf b gy nw nl l nm nn">&lt;script&gt;<br/>import axios from 'axios'<br/>export default {<br/>  props: ['id'],<br/>  data () {<br/>    return {<br/>      singleMovie: ''<br/>    }<br/>  },<br/>  mounted () {<br/>    axios<br/>      .get('<a class="ae mq" href="http://www.omdbapi.com/?apikey=b76b385c&amp;i=tt0209163&amp;Content-Type=application/json'" rel="noopener ugc nofollow" target="_blank">http://www.omdbapi.com/?apikey=b76b385c&amp;i=XXXXX&amp;Content-Type=application/json'</a>)<br/>      .then(response =&gt; {<br/>        this.singleMovie = response.data<br/>      })<br/>      .catch(error =&gt; {<br/>        console.log(error)<br/>      })<br/>  }<br/>}<br/>&lt;/script&gt;</span><span id="5310" class="nj kp in nf b gy nw nl l nm nn">&lt;style&gt;<br/>&lt;/style&gt;</span></pre><h1 id="5dad" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">13.显示评级</h1><p id="021a" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">omdbapi将为我们提供电影的当前评级。我们将在表中显示该值，</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f9d7917de22d62ab36a118f2c57cb00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*okaLcvRTXsW2znGn-t7Ugg.png"/></div></figure><p id="1441" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">为此，将使用模式显示，单击查看评级按钮将调用该模式。</p><pre class="kd ke kf kg gt ne nf ng nh aw ni bi"><span id="dde2" class="nj kp in nf b gy nk nl l nm nn">&lt;template&gt;<br/>&lt;v-layout row wrap&gt;<br/>      &lt;v-flex xs12&gt;<br/>        &lt;div class="text-xs-center"&gt;<br/>        &lt;v-dialog<br/>          v-model="dialog"<br/>          width="500"&gt;<br/>          &lt;v-btn<br/>            slot="activator"<br/>            color="green"<br/>            dark&gt;<br/>            View Ratings<br/>          &lt;/v-btn&gt;<br/>          &lt;v-card&gt;<br/>            &lt;v-card-title<br/>              class="headline grey lighten-2"<br/>              primary-title<br/>            &gt;<br/>              Ratings<br/>            &lt;/v-card-title&gt;<br/>            &lt;v-card-text&gt;<br/>              &lt;table style="width:100%" border="1" &gt;<br/>                &lt;tr&gt;<br/>                  &lt;th&gt;Source&lt;/th&gt;<br/>                  &lt;th&gt;Ratings&lt;/th&gt;<br/>                &lt;/tr&gt;<br/>                &lt;tr v-for="(rating,index) in this.ratings" :key="index"&gt;<br/>                  &lt;td align="center"&gt;{{ratings[index].Source}}&lt;/td&gt;<br/>                  &lt;td align="center"&gt;{{ratings[index].Value}}&lt;/td&gt;<br/>                &lt;/tr&gt;<br/>              &lt;/table&gt;<br/>            &lt;/v-card-text&gt;<br/>            &lt;v-divider&gt;&lt;/v-divider&gt;<br/>            &lt;v-card-actions&gt;<br/>              &lt;v-spacer&gt;&lt;/v-spacer&gt;<br/>              &lt;v-btn<br/>                color="primary"<br/>                flat<br/>                <a class="ae mq" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="dialog = false"<br/>              &gt;<br/>                OK<br/>              &lt;/v-btn&gt;<br/>            &lt;/v-card-actions&gt;<br/>          &lt;/v-card&gt;<br/>        &lt;/v-dialog&gt;<br/>      &lt;/div&gt;<br/>      &lt;/v-flex&gt;<br/>    &lt;/v-layout&gt;<br/>  &lt;/template&gt;</span></pre><p id="b72a" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">我们正在迭代一个叫做ratings的数据值。此数据属性来自API ie r<em class="mw">response . data . ratings .</em>的响应</p><h1 id="84dd" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">14.添加搜索电影组件</h1><p id="13da" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">为此，我们需要创建以下内容:</p><ol class=""><li id="452e" class="mc md in li b lj mr lm ms lp np lt nq lx nr mb mh mi mj mk bi translated">创建SearchMovie.vue文件</li><li id="eb01" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">在App.vue中创建一个文本字段。</li><li id="f693" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">单击搜索按钮时，会将文本字段中的数据作为prop传递到SearchMovie.vue文件。</li><li id="2905" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">在SearchMovie.vue文件中，我们将接收值并调用API来获取数据。</li></ol><p id="e7fd" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><a class="ae mq" href="https://github.com/anoobbava/movie-app/commit/1212477d5c4fdb25b0a3ba999f1ca6429e646fec" rel="noopener ugc nofollow" target="_blank">为此提交链接</a></p><h1 id="c587" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">15.搜索电影的问题以及我们如何纠正它</h1><p id="f8a2" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">当前挂载的生命周期钩子只被调用一次，当我们搜索一次时，它显示数据，即当用钢铁侠搜索时，它显示数据。但用“泰坦”搜索后，显示的是同样的数据。这可以通过使用名为name(来自App.vue)的数据的props上的watch属性来修复，并将mounted属性更新为一个方法。因此，系统将调用2次，即第一次由挂载的生命周期钩子加载，第二次搜索将由props(name)值的watcher操作处理。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/02a0b1b213bc428bef69e0b97f8e0c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCH_0IVgw8MntbHXnusw9Q.png"/></div></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oa"><img src="../Images/832e3058b838cf33763085464458eb86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WnkGWlNwwevk9kAeFFQX7A.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">t<strong class="bd of">he issue, we are searching for Titan, but we got iron man</strong></figcaption></figure><p id="dbe9" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><a class="ae mq" href="https://github.com/anoobbava/movie-app/commit/706d81167bf948db62ff63afdb5ff5f2ee197734" rel="noopener ugc nofollow" target="_blank">提交修复链接</a></p><h1 id="011e" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">16.如果API中没有搜索数据，则添加警告消息</h1><p id="7518" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">假设，当我们用无效的电影或在我们的omdbapi中不可用的电影调用API时。在这种情况下，需要显示一条消息。</p><p id="bb1b" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">我们正在创建一个默认为false的数据属性，当搜索到的数据不返回任何内容时，将设置为true并显示消息。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi og"><img src="../Images/81a30bc17e6136077684b1363a46b5f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_B2SmVA0_LbpNqQFlbQ7xg.png"/></div></div></figure><p id="b783" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><a class="ae mq" href="https://github.com/anoobbava/movie-app/commit/20625f2b3b9d6283fe6b43bca6f652f085673af4" rel="noopener ugc nofollow" target="_blank">提交代码更改的链接</a></p><h1 id="249c" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">17.为axios/重构创建中心文件</h1><p id="632d" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">尽管如此，我们的axios和API调用代码仍然分散在组件的各个地方。如果我们把这些都放在一个地方，就像angular中的服务一样，那就好了。</p><p id="9251" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated">为此</p><ol class=""><li id="7a91" class="mc md in li b lj mr lm ms lp np lt nq lx nr mb mh mi mj mk bi translated">在src/中创建名为services的文件夹，并创建文件MovieApi.js</li><li id="5dc5" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">在main.js中导入axios</li><li id="b9bd" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">在main.js中创建一个默认的URL</li><li id="dac5" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">导出MovieApi.js文件</li><li id="f48c" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">在组件中导入MovieApi.js。</li><li id="2939" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">从组件中移除axios代码，并放入MovieApi.js文件中。</li><li id="ebac" class="mc md in li b lj ml lm mm lp mn lt mo lx mp mb mh mi mj mk bi translated">从组件中调用适当的方法。</li></ol><p id="7a16" class="pw-post-body-paragraph lg lh in li b lj mr jo ll lm ms jr lo lp mt lr ls lt mu lv lw lx mv lz ma mb ig bi translated"><a class="ae mq" href="https://github.com/anoobbava/movie-app/commit/4f1638136ebdf9d7d5b98190d678936bb185ddc0" rel="noopener ugc nofollow" target="_blank">提交代码更改的链接</a></p><h1 id="ee5c" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">18.包装和源代码</h1><p id="b2f4" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我们的最终输出将是这样的:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oh"><img src="../Images/20dce1540707c5049f525f4e4362eb69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hii3QStv4XyzXlL2fFpU-w.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">LatestMovie component.</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oi"><img src="../Images/33cd2e55edfeef7cda083b2a22a3f9a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oxTNq1V6B3t-OGhiD0lN8Q.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">searchMovie.vue</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oj"><img src="../Images/0b01aab312a22f89fc8aa9368d33515c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6eUr_CW1OxES0OAXDBe7SA.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Movie.vue</figcaption></figure><blockquote class="ok"><p id="49fd" class="ol om in bd on oo op oq or os ot mb dk translated">如果这个故事对你有所帮助，请随时<a class="ae mq" href="https://www.buymeacoffee.com/anoobbava" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a></p></blockquote><p id="d476" class="pw-post-body-paragraph lg lh in li b lj ou jo ll lm ov jr lo lp ow lr ls lt ox lv lw lx oy lz ma mb ig bi translated"><a class="ae mq" href="https://github.com/anoobbava/movie-app" rel="noopener ugc nofollow" target="_blank"> GitHub网址</a></p><h1 id="fc68" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">我们做到了！</h1><p id="fff8" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我希望你喜欢跟随。如果你喜欢这个内容并想进一步讨论，请留下你的掌声和评论！</p></div></div>    
</body>
</html>