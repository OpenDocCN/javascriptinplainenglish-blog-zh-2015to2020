<html>
<head>
<title>Tic Tac Toe in JavaScript For Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学JavaScript的井字游戏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/tic-tac-toe-in-javascript-for-beginners-befbb55c0da?source=collection_archive---------2-----------------------#2020-05-28">https://javascript.plainenglish.io/tic-tac-toe-in-javascript-for-beginners-befbb55c0da?source=collection_archive---------2-----------------------#2020-05-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/80b5c3e05cf06d966ab9e23dfe9fe8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JLQFHrbB4z34RtlYRtIlMA.png"/></div></div></figure><p id="3ad5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是一个简单游戏的简单实现之一，初学者可以用它来测试自己对编程语言的理解水平。事实上，在一次采访中，我被要求用JavaScript实现这一点。首先，我预计会被问到与该职位相关的技术问题(Node.js和React.js ),因为我已经在远程工作平台上完成了初步的算法评估，但我遇到了一位面试官，他将我带到一个在线IDE，并要求我用几个框架函数实现井字游戏。与此同时，我们在30分钟的会议中花了10分钟讨论技术问题，从zoom到google meet，声音问题，浪费的时间没有得到补偿。面试官比我早6个小时。我没有通过。令人沮丧。唷！</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kw"><img src="../Images/374d2c7f4bd66588f70053827b294ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eP1EjEv6Xg1QjlGd1IUrJg.jpeg"/></div></div></figure><p id="39ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然井字游戏可能微不足道，但我不确定30分钟够不够，可能一个小时就够了。在那次不愉快的遭遇之后，我决定实施井字游戏，而不去搜索谷歌寻求帮助(我在面试中被给予了搜索谷歌的选项)。</p><p id="41e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这个实现，我从Google得到的唯一部分是如何从Node.js中的命令行读取输入，我不太熟悉，但实现这个帮助我内在化了如何让<a class="ae lb" href="https://nodejs.org/en/knowledge/command-line/how-to-prompt-for-command-line-input/" rel="noopener ugc nofollow" target="_blank"> readline对象</a>从Node.js中的命令行获取输入</p><h2 id="cd69" class="lc ld iq bd le lf lg dn lh li lj dp lk kj ll lm ln kn lo lp lq kr lr ls lt lu bi translated">井字游戏</h2><p id="7be4" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">据<a class="ae lb" href="https://en.wikipedia.org/wiki/Tic-tac-toe" rel="noopener ugc nofollow" target="_blank">维基百科</a>(见标题图片)。井字游戏，<strong class="ka ir">noughts and cross</strong>或<strong class="ka ir"> Xs和Os </strong>是两个玩家的<a class="ae lb" href="https://en.wikipedia.org/wiki/Paper-and-pencil_game" rel="noopener ugc nofollow" target="_blank">纸笔游戏</a>，<em class="ma"> X </em>和<em class="ma"> O </em>，他们轮流标记3×3网格中的空间。成功在水平、垂直或对角线上放置三个标记的玩家获胜。</p><h2 id="5949" class="lc ld iq bd le lf lg dn lh li lj dp lk kj ll lm ln kn lo lp lq kr lr ls lt lu bi translated"><strong class="ak">实施</strong></h2><p id="699c" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">所以井字游戏的第一部分是游戏的再现。并且使用了一个数组。一维数组。我们也可以使用2D或二维数组3×3数组(会改变实现)，并使winner的计算更简单(如果您是初学者，请尝试一下)。并将数组初始化为空字符串以拥有一个空板。我们将给予玩家更换首发球员的能力。玩家知道棋盘上的数字是1-9。</p><pre class="kx ky kz la gt mb mc md me aw mf bi"><span id="2d6e" class="lc ld iq mc b gy mg mh l mi mj">let player = ‘X’;<br/>let ticktacktoe = [<br/>  ’ ', ’ ', ‘ ',<br/>  ’ ’, ’ ’, ‘ ’,<br/>  ’ ’, ’ ’, ‘ ’<br/>];</span></pre><p id="264e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在每一出戏中，我们都需要打印出显示戏剧状态的纸板。所以我们编码一个<code class="fe mk ml mm mc b">printboard()</code>。用for循环遍历数组(游戏板)。我们可以使用也可以使用<code class="fe mk ml mm mc b">map()</code>。我们使用模数运算符来打印新行。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/e07be656f68bb9f86259fd42fdc93efd.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*xUY-vbh7J-5f5XB7bntZ7g.png"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">Empty Board</figcaption></figure><pre class="kx ky kz la gt mb mc md me aw mf bi"><span id="20f9" class="lc ld iq mc b gy mg mh l mi mj">const printBoard = () =&gt; {<br/>    let line = “”;<br/>    for (let i = 1; i &lt; 10; i++) {<br/>        line += ticktacktoe[i-1] + ‘ | ‘;<br/>        if (i % 3 === 0) {<br/>          console.log(line);<br/>          console.log(‘____________’)<br/>          line = “”;<br/>     }<br/>   }<br/>}</span></pre><p id="6d01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们必须给玩家设定第一个玩家的能力。<code class="fe mk ml mm mc b"> defaultPlayer()</code>功能检查玩家是否应该继续x。首先我们声明readline <code class="fe mk ml mm mc b">rl</code>对象从标准输入中读取。它依赖于<em class="ma">全局</em> <code class="fe mk ml mm mc b">process</code>对象。如果我们得到“是”，我们就调用<code class="fe mk ml mm mc b">setPlayer()</code>，这就调用<code class="fe mk ml mm mc b">changePlayer().</code>。如果没有，我们就<code class="fe mk ml mm mc b">printBoard() playTickTacToe()</code>开始游戏。</p><pre class="kx ky kz la gt mb mc md me aw mf bi"><span id="37fb" class="lc ld iq mc b gy mg mh l mi mj">const rl = readline.createInterface({</span><span id="4592" class="lc ld iq mc b gy ms mh l mi mj">   input: process.stdin,<br/>   output: process.stdout<br/>});</span><span id="d770" class="lc ld iq mc b gy ms mh l mi mj">const defaultPlayer = () =&gt; { <br/>    rl.question(“Default player is X, Do you want to change it, y or n “, function (defaultOrChoose) {<br/>     let choice = defaultOrChoose.toLowerCase();<br/>     if (choice == ‘y’) {<br/>       setPlayer();<br/>     } else if (choice === ’n’) {<br/>       console.log(`Starting player is X`);<br/>       printBoard();<br/>       playTickTacToe();<br/>     } else {<br/>       defaultPlayer();<br/>     }<br/>  });</span><span id="87c6" class="lc ld iq mc b gy ms mh l mi mj">}</span><span id="0178" class="lc ld iq mc b gy ms mh l mi mj">const setPlayer = () =&gt; {<br/>    rl.question(“Default player is X, Do you want to change it, enter O? “, function (whichPlayer) {<br/>    changePlayer(whichPlayer);<br/>  });<br/>}</span><span id="4f1d" class="lc ld iq mc b gy ms mh l mi mj">const changePlayer = (playerChange) =&gt; {<br/>     let mov = playerChange.toUpperCase();<br/>     if (mov === ‘O’ || mov === ‘X’) {<br/>        console.log(`Starting player is ${mov}`)<br/>        player = mov;<br/>        printBoard();<br/>        playTickTacToe();<br/>      } else {<br/>        setPlayer();<br/>     }<br/>}</span></pre><p id="a052" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下一步是对剧本进行编码。<code class="fe mk ml mm mc b">playTickTacToe()</code>初始化一个标志<code class="fe mk ml mm mc b">continuePlay</code>来检查是否还有剩余的游戏空位，并请求玩家移动。</p><pre class="kx ky kz la gt mb mc md me aw mf bi"><span id="ccb3" class="lc ld iq mc b gy mg mh l mi mj">const playTickTacToe = () =&gt; {<br/>  let continePlay = false;<br/>  for (i = 0; i &lt; ticktacktoe.length; i++) { <br/>     if (ticktacktoe[i] === ‘ ‘) {<br/>     continePlay = true;<br/>     }<br/>  }<br/>  if (continePlay === true) {<br/>     rl.question(“Play Game ? “, function (movve) {<br/>     gameplayer(movve)<br/>  });</span><span id="4ed4" class="lc ld iq mc b gy ms mh l mi mj"> }</span><span id="7977" class="lc ld iq mc b gy ms mh l mi mj">};</span></pre><p id="10b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mc b">playTickTacToe()</code>称<code class="fe mk ml mm mc b">gameplayer(movve)</code>为引擎，游戏逻辑。玩家从1-9开始玩游戏。1–3 =第一行，4–6 =第二行，7–9 =第三行。在内部，我们的董事会代表指数从0到8。因此，我们首先在<code class="fe mk ml mm mc b"> let moveToCheck</code>解析字符串时对齐移动，这是我们从命令行得到的。然后我们继续遍历或迭代数组(游戏板)。当我们找到与玩家移动相匹配的索引时，我们会检查它是否是一个空槽<code class="fe mk ml mm mc b">moveToCheck == i &amp;&amp; ticktacktoe[i] === ‘ ‘</code>。如果是，我们给玩家设置一个空位。否则我们什么也不做，要求球员再做一次动作。如果移动有效，我们设置玩家的移动。重复！</p><pre class="kx ky kz la gt mb mc md me aw mf bi"><span id="d5ce" class="lc ld iq mc b gy mg mh l mi mj">const gameplayer = (move) =&gt; {<br/>   let moveToCheck = parseInt(move) — 1;<br/>   let i;<br/>   for (i = 0; i &lt; ticktacktoe.length; i++) {<br/>       if (moveToCheck == i &amp;&amp; ticktacktoe[i] === ‘ ‘) {<br/>          ticktacktoe[i] = player;<br/>          if (player === ‘X’) {<br/>             player = ‘O’;<br/>          } else if (player === ‘O’) {<br/>             player = ‘X’<br/>          }<br/>       }else{<br/>         playTickTacToe();<br/>       }<br/>   }<br/>   console.log(‘\n’);<br/>   printBoard();<br/>   const winner = calculateWinner();<br/>   if (winner != ‘ ‘) {<br/>      console.log(`Winner is ${winner}`)<br/>      process.exit(0);<br/>   }<br/>   playTickTacToe();<br/>}</span></pre><p id="4aab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们继续打印纸板。计算获胜者。接下来我们将描述<code class="fe mk ml mm mc b">calculateWinner()</code>。每一步都是这样。在至少移动3步之前，我们可能不会计算赢家。这就是优化。对于一个学习者来说，重点应该是蛮力。首先获得一个可行的解决方案。在<a class="ae lb" href="https://dev.to/luminousmen/what-are-the-best-software-engineering-principles--3p8n" rel="noopener ugc nofollow" target="_blank">软件工程原理中被称为“早熟优化”。</a>著名计算机科学家唐纳德·克努特在他的一篇文章中提到了这一点。</p><blockquote class="mt"><p id="6ca9" class="mu mv iq bd mw mx my mz na nb nc kv dk translated"><strong class="ak">“过早的优化是编程中所有罪恶(或者至少是大部分罪恶)的根源”——唐纳德·克努特</strong></p></blockquote><p id="000b" class="pw-post-body-paragraph jy jz iq ka b kb nd kd ke kf ne kh ki kj nf kl km kn ng kp kq kr nh kt ku kv ij bi translated"><code class="fe mk ml mm mc b">calculateWinner()</code>功能检查8种获胜可能性是否发生。阵列索引的获胜可能性是:</p><p id="32a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">水平=&gt; 0，1，2；3,4,5;6,7,8</p><p id="5324" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">垂直=&gt; 0，3，6；1,4,7;2,5,8</p><p id="da6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对角=&gt;0，4，8；2,4,6</p><pre class="kx ky kz la gt mb mc md me aw mf bi"><span id="6d68" class="lc ld iq mc b gy mg mh l mi mj"> const calculateWinner = () =&gt; {</span><span id="9c0e" class="lc ld iq mc b gy ms mh l mi mj">// We can improve this to make it less verbose by declaring the <br/>// slots as const like const zero = ticktacktoe[0];<br/>// and replace all occurances</span><span id="b4ab" class="lc ld iq mc b gy ms mh l mi mj">if (ticktacktoe[0] == ticktacktoe[1] &amp;&amp; ticktacktoe[0] == ticktacktoe[2]) {<br/>       return ticktacktoe[0];<br/>   } else if (ticktacktoe[3] == ticktacktoe[4] &amp;&amp; ticktacktoe[3] == ticktacktoe[5]) {<br/>       return ticktacktoe[3];<br/>   } else if (ticktacktoe[6] == ticktacktoe[7] &amp;&amp; ticktacktoe[6] == ticktacktoe[8]) {<br/>       return ticktacktoe[6];<br/>   } else if (ticktacktoe[0] == ticktacktoe[3] &amp;&amp; ticktacktoe[0] == ticktacktoe[6]) {<br/>       return ticktacktoe[0];<br/>   } else if (ticktacktoe[1] == ticktacktoe[4] &amp;&amp; ticktacktoe[1] == ticktacktoe[7]) {<br/>       return ticktacktoe[1];<br/>   } else if (ticktacktoe[2] == ticktacktoe[5] &amp;&amp; ticktacktoe[2] == ticktacktoe[8]) {<br/>       return winner = ticktacktoe[2];<br/>   } else if (ticktacktoe[0] == ticktacktoe[4] &amp;&amp; ticktacktoe[0] == ticktacktoe[8]) {<br/>       return ticktacktoe[0];<br/>   }else if (ticktacktoe[2] == ticktacktoe[4] &amp;&amp; ticktacktoe[2] == ticktacktoe[6]) {<br/>       return ticktacktoe[2];<br/>   }<br/>  return ‘ ‘;<br/>}</span></pre><p id="ac06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">至此，这个简单的练习就结束了。我们所做的就是调用我们的<code class="fe mk ml mm mc b">printboard()</code>和<code class="fe mk ml mm mc b">defaultPlayer()</code>来开始游戏。安装Node.js后，你可以在命令行上运行这个命令，就像<code class="fe mk ml mm mc b">node ticktacktoe.js</code>一样，我们正在玩。这是github gist上的完整游戏。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="8564" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那个认为我不能实现井字游戏的面试官/公司错过了一个有能力的程序员。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/ef4bdd0d8ef0143ca5e89665913758c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c71TAIUB7PRmQ0RzHAhMIg.jpeg"/></div></div></figure><h1 id="e29f" class="nl ld iq bd le nm nn no lh np nq nr lk ns nt nu ln nv nw nx lq ny nz oa lt ob bi translated"><strong class="ak">用简单英语写的便条</strong></h1><p id="f4b8" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？你可以在我们的主页<a class="ae lb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> plainenglish.io </strong> </a>找到所有这些内容——关注我们的出版物并<a class="ae lb" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">订阅我们的YouTube频道</strong> </a> <strong class="ka ir">来表达你的爱吧！</strong></p></div></div>    
</body>
</html>