<html>
<head>
<title>3 JavaScript Questions to Watch Out for During Coding Interviews</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码面试中需要注意的3个JavaScript问题</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/3-javascript-questions-to-watch-out-for-during-coding-interviews-cbc1277e2790?source=collection_archive---------4-----------------------#2017-01-03">https://javascript.plainenglish.io/3-javascript-questions-to-watch-out-for-during-coding-interviews-cbc1277e2790?source=collection_archive---------4-----------------------#2017-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8e09c794527503b70d44c25f0c72c63e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rnsKmjZOK5c8lXgw.jpeg"/></div></div></figure><p id="66a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">JavaScript是所有现代网络浏览器的官方语言。因此，JavaScript问题在各种开发人员面试中都会出现。</p><p id="3f95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇文章不是关于最新的JavaScript库、通用开发实践或任何新的<a class="ae kw" href="https://hackernoon.com/es6-features-you-need-to-know-now-b525e2b0755e#.seo0weyr4" rel="noopener ugc nofollow" target="_blank"> ES6功能</a>。相反，在讨论JavaScript时，这是面试中经常出现的三件事。我自己也被问过这些问题，我的朋友告诉我他们也被问过。</p><p id="d8ee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，这些并不是你在JavaScript面试前应该学习的唯一3件事——有许多<a class="ae kw" href="http://jstherightway.org/#getting-started" rel="noopener ugc nofollow" target="_blank">方法</a>可以让你<a class="ae kw" href="http://www.thatjsdude.com/interview/js2.html" rel="noopener ugc nofollow" target="_blank">更好地为即将到来的面试</a>做准备——但是下面是面试官可能会问的3个问题，以判断你对JavaScript语言和<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank"> DOM </a>的了解和理解程度。</p><p id="3bbc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以让我们开始吧！注意，在下面的例子中我们将使用普通的JavaScript，因为你的面试官通常想知道你在没有jQuery等库的帮助下对JavaScript和DOM的理解程度。</p><h1 id="a85c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">问题#1:事件委托</h1><p id="e21b" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">构建应用程序时，有时您需要将事件侦听器附加到页面上的按钮、文本或图像，以便在用户与元素交互时执行某些操作。</p><p id="f0c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们以一个简单的待办事项列表为例，面试官可能会告诉你，当用户点击列表中的一个项目时，他们希望发生一个动作。他们希望您使用JavaScript实现这一功能，假设使用以下HTML代码:</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="cb23" class="mj ky iq mf b be mk ml l mm mn">&lt;ul id="todo-app"&gt;<br/>  &lt;li class="item"&gt;Walk the dog&lt;/li&gt;<br/>  &lt;li class="item"&gt;Pay bills&lt;/li&gt;<br/>  &lt;li class="item"&gt;Make dinner&lt;/li&gt;<br/>  &lt;li class="item"&gt;Code for one hour&lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="04d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可能希望执行类似下面的操作，将事件侦听器附加到元素上:</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="339b" class="mj ky iq mf b be mk ml l mm mn">document.addEventListener('DOMContentLoaded', function() {<br/>  <br/>  let app = document.getElementById('todo-app');<br/>  let items = app.getElementsByClassName('item');<br/>  <br/>  // attach event listener to each item<br/>  for (let item of items) {<br/>    item.addEventListener('click', function() {<br/>      alert('you clicked on item: ' + item.innerHTML);<br/>    });<br/>  }<br/>  <br/>});</span></pre><p id="697b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然这在技术上可行，但问题是您要将事件侦听器单独附加到每一项上。这对于4个元素来说没问题，但是如果有人在待办事项列表中添加了10，000个项目(他们可能有很多事情要做)会怎么样呢？然后，您的函数将创建10，000个独立的事件侦听器，并将它们分别附加到DOM。这不是很有效率。</p><p id="f41a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在面试中，最好先问面试官用户最多可以输入多少个元素。例如，如果它不能超过10，那么上面的代码就可以正常工作。但是如果用户可以输入的条目数量没有限制，那么您会希望使用更有效的解决方案。</p><p id="7734" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您的应用程序最终会有数百个事件监听器，那么更有效的解决方案是将一个事件监听器实际连接到整个容器，然后当它实际被点击时能够访问每个项目。这被称为<a class="ae kw" href="https://davidwalsh.name/event-delegate" rel="noopener ugc nofollow" target="_blank">事件委托</a>，它比附加单独的事件处理程序要高效得多。</p><p id="1e49" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是事件委托的代码:</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="d6ed" class="mj ky iq mf b be mk ml l mm mn">document.addEventListener('DOMContentLoaded', function() {<br/>  <br/>  let app = document.getElementById('todo-app');<br/>  <br/>  // attach event listener to whole container<br/>  app.addEventListener('click', function(e) {<br/>    if (e.target &amp;&amp; e.target.nodeName === 'LI') {<br/>      let item = e.target;<br/>      alert('you clicked on item: ' + item.innerHTML);<br/>    }<br/>  });<br/>  <br/>});</span></pre><h1 id="4ae4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">问题2:在循环中使用闭包</h1><p id="4d6b" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">闭包有时会在面试中出现，这样面试官可以判断你对这门语言的熟悉程度，以及你是否知道何时实现闭包。</p><p id="15f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个闭包基本上是指一个<a class="ae kw" href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-closure-b2f0d2152b36#.44xk49tyt" rel="noopener">内部函数可以访问</a>其作用域之外的变量。闭包可以用于像<a class="ae kw" href="https://medium.com/written-in-code/practical-uses-for-closures-c65640ae7304#.70gp35hbn" rel="noopener">实现隐私</a>和创建<a class="ae kw" href="https://medium.com/javascript-scene/javascript-factory-functions-vs-constructor-functions-vs-classes-2f22ceddf33e#.1817w0lmb" rel="noopener">函数工厂</a>这样的事情。一个关于闭包使用的常见面试问题是这样的:</p><p id="ce62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mo">编写一个函数，它将遍历一个整数列表，并在3秒钟的延迟后打印每个元素的索引。</em></p><p id="06ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这个问题，我见过的一个常见的(不正确的)实现如下所示:</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="7410" class="mj ky iq mf b be mk ml l mm mn">const arr = [10, 12, 15, 21];<br/>for (var i = 0; i &lt; arr.length; i++) {<br/>  setTimeout(function() {<br/>    console.log('The index of this number is: ' + i);<br/>  }, 3000);<br/>}</span></pre><p id="3400" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你运行这个程序，你会看到你实际上每次都打印出<strong class="ka ir"> 4 </strong>而不是预期的<strong class="ka ir"> 0，1，2，3 </strong>在3秒的延迟后。</p><p id="5cfd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了正确识别为什么会发生这种情况，理解JavaScript中为什么会发生这种情况是很有用的，这正是面试官想要测试的。</p><p id="b2fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样做的原因是因为<code class="fe mp mq mr mf b">setTimeout</code>函数创建了一个可以访问其外部作用域的函数(闭包)，该外部作用域是包含索引<code class="fe mp mq mr mf b">i</code>的循环。3秒钟后，该函数被执行并打印出<code class="fe mp mq mr mf b">i</code>的值，该值在循环结束时为4，因为它循环通过0、1、2、3、4，循环最终在4处停止。</p><p id="16c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于这个问题，<a class="ae kw" href="https://coderbyte.com/algorithm/3-common-javascript-closure-questions" rel="noopener ugc nofollow" target="_blank">的</a>实际上有<a class="ae kw" href="http://stackoverflow.com/questions/3572480/please-explain-the-use-of-javascript-closures-in-loops" rel="noopener ugc nofollow" target="_blank">几种方法可以正确编写</a>的函数。这是其中的两个:</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="1c97" class="mj ky iq mf b be mk ml l mm mn">const arr = [10, 12, 15, 21];<br/>for (var i = 0; i &lt; arr.length; i++) {<br/>  // pass in the variable i so that each function <br/>  // has access to the correct index<br/>  setTimeout(function(i_local) {<br/>    return function() {<br/>      console.log('The index of this number is: ' + i_local);<br/>    }<br/>  }(i), 3000);<br/>}</span></pre><pre class="ms me mf mg bn mh mi bi"><span id="68ea" class="mj ky iq mf b be mk ml l mm mn">const arr = [10, 12, 15, 21];<br/>for (let i = 0; i &lt; arr.length; i++) {<br/>  // using the ES6 let syntax, it creates a new binding<br/>  // every single time the function is called<br/>  // read more here: http://exploringjs.com/es6/ch_variables.html#sec_let-const-loop-heads<br/>  setTimeout(function() {<br/>    console.log('The index of this number is: ' + i);<br/>  }, 3000);<br/>}</span></pre><h1 id="f2dc" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">问题3:去抖</h1><p id="b66f" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">有些浏览器事件可以在很短的时间内触发很多次，比如调整窗口大小或向下滚动页面。例如，如果您将一个事件侦听器附加到窗口滚动事件，并且用户持续快速地向下滚动页面，那么您的事件可能会在3秒钟内触发数千次。这可能会导致一些严重的性能问题。</p><p id="6d6a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你在面试中讨论构建一个应用程序，并且出现了滚动、调整窗口大小或按键等事件，一定要提到去抖动和/或节流是提高页面速度和性能的一种方法。一个真实的例子来自css-tricks 上的这篇<a class="ae kw" href="https://css-tricks.com/debouncing-throttling-explained-examples/" rel="noopener ugc nofollow" target="_blank">客座博文:</a></p><blockquote class="mt mu mv"><p id="458c" class="jy jz mo ka b kb kc kd ke kf kg kh ki mw kk kl km mx ko kp kq my ks kt ku kv ij bi translated">2011年，Twitter网站上出现了一个问题:当你向下滚动你的Twitter feed时，它变得缓慢且没有反应。John Resig发表了一篇关于问题  <em class="iq">的博文，其中解释了将昂贵的函数直接附加到</em> <code class="fe mp mq mr mf b"><em class="iq">scroll</em></code> <em class="iq">事件上是多么糟糕的想法。</em></p></blockquote><p id="653d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">去抖是解决这个问题的一种方法，它限制了函数再次被调用之前需要经过的时间。因此，去抖动的正确实现应该是<em class="mo">将几个函数调用组合成一个，并在一段时间后只执行一次。这里有一个用普通JavaScript实现的例子，它利用了诸如<a class="ae kw" href="https://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/" rel="noopener ugc nofollow" target="_blank">范围</a>、闭包、<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" rel="noopener ugc nofollow" target="_blank"> this </a>和<a class="ae kw" href="http://www.w3schools.com/jsref/met_win_settimeout.asp" rel="noopener ugc nofollow" target="_blank">定时事件</a>这样的主题:</em></p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="1883" class="mj ky iq mf b be mk ml l mm mn">// debounce function that will wrap our event<br/>function debounce(fn, delay) {<br/>  // maintain a timer<br/>  let timer = null;<br/>  // closure function that has access to timer<br/>  return function() {<br/>    // get the scope and parameters of the function <br/>    // via 'this' and 'arguments'<br/>    let context = this;<br/>    let args = arguments;<br/>    // if event is called, clear the timer and start over<br/>    clearTimeout(timer);<br/>    timer = setTimeout(function() {<br/>      fn.apply(context, args);<br/>    }, delay);<br/>  }<br/>}</span></pre><p id="0b9d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个函数——当包装在一个事件周围时——只有在经过一定时间后才会执行。</p><p id="3a4e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以像这样使用这个函数:</p><pre class="ma mb mc md gt me mf mg bn mh mi bi"><span id="d017" class="mj ky iq mf b be mk ml l mm mn">// function to be called when user scrolls<br/>function foo() {<br/>  console.log('You are scrolling!');<br/>}<br/><br/>// wrap our function in a debounce to fire once 2 seconds have gone by<br/>let elem = document.getElementById('container');<br/>elem.addEventListener('scroll', debounce(foo, 2000));</span></pre><p id="229e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">节流是另一种类似于去抖动的技术，只不过它不是等待一段时间后再调用函数，而是将函数调用分散在更长的时间间隔内。因此，如果一个事件在100毫秒内发生10次，节流可以将每个函数调用分散为每2秒执行一次，而不是在100毫秒内全部触发。</p><p id="c2c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有关去抖动和节流的更多信息，以下文章和教程可能会有所帮助:</p><ul class=""><li id="2557" class="mz na iq ka b kb kc kf kg kj nb kn nc kr nd kv ne nf ng nh bi translated"><a class="ae kw" href="https://medium.com/@_jh3y/throttling-and-debouncing-in-javascript-b01cad5c8edf#.ly8uqz8v4" rel="noopener">JavaScript中的节流和去抖动</a></li><li id="86fa" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv ne nf ng nh bi translated"><a class="ae kw" href="https://css-tricks.com/the-difference-between-throttling-and-debouncing/" rel="noopener ugc nofollow" target="_blank">节流和去抖的区别</a></li><li id="ae4e" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv ne nf ng nh bi translated"><a class="ae kw" href="https://css-tricks.com/debouncing-throttling-explained-examples/" rel="noopener ugc nofollow" target="_blank">节流和去抖动的例子</a></li><li id="49a7" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm kv ne nf ng nh bi translated"><a class="ae kw" href="https://remysharp.com/2010/07/21/throttling-function-calls" rel="noopener ugc nofollow" target="_blank">雷米·夏普关于节流函数调用的博文</a></li></ul></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="6967" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mo">原载于2017年1月3日https://www.freecodecamp.org</em><em class="mo">的</em> <a class="ae kw" href="https://www.freecodecamp.org/news/3-questions-to-watch-out-for-in-a-javascript-interview-725012834ccb" rel="noopener ugc nofollow" target="_blank"> <em class="mo">。</em></a></p><p id="b223" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mo">更多内容请看</em> <a class="ae kw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="mo">说白了就是</em> </strong> </a> <em class="mo">。</em></p><p id="b59e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mo">报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="mo">免费每周简讯</em> </strong> </a> <em class="mo">。关注我们关于</em> <a class="ae kw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="mo">推特</em> </strong> </a>，<a class="ae kw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="mo">LinkedIn</em></strong></a><em class="mo">，</em><a class="ae kw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="mo">YouTube</em></strong></a><em class="mo">，以及</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="mo">不和</em></strong></a><strong class="ka ir"><strong class="ka ir"><em class="mo">。</em> </strong></strong></p><p id="b98a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="mo">有兴趣规模化你的软件创业</em> </strong> <em class="mo">？检查</em> <a class="ae kw" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="mo">电路</em> </strong> </a> <em class="mo">。</em></p></div></div>    
</body>
</html>