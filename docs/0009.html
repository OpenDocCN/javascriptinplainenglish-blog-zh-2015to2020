<html>
<head>
<title>Building a Node app that uploads data to Google Drive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ„å»ºä¸€ä¸ªå°†æ•°æ®ä¸Šä¼ åˆ°Google Driveçš„èŠ‚ç‚¹åº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/writing-a-koa-app-that-uploads-a-json-file-to-google-drive-dbe50abeb3ee?source=collection_archive---------0-----------------------#2018-04-19">https://javascript.plainenglish.io/writing-a-koa-app-that-uploads-a-json-file-to-google-drive-dbe50abeb3ee?source=collection_archive---------0-----------------------#2018-04-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4ae5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">åˆ©ç”¨Koa.jså°†JSONæ•°æ®ä¸Šä¼ åˆ°Google Drive</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/545d32c29f84cda35c90bec3e5825fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*glz9CClGWNkTs3OCsX3Qsg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">source: <a class="ae kv" href="https://pixabay.com/en/koa-tree-tree-big-tree-nature-sky-2241140/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/en/koa-tree-tree-big-tree-nature-sky-2241140/</a></figcaption></figure><p id="94c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡æ˜¯åˆ¶ä½œä¸€ä¸ªKoa.jsåº”ç”¨ç¨‹åºï¼Œå°†JSONæ–‡ä»¶ä¸Šä¼ åˆ°æˆ‘ä»¬çš„Google Driveï¼Œè¿™æ˜¯æˆ‘ä»¬è¦å¦‚ä½•å®ç°çš„:</p><p id="a86f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬å°†å‘<em class="ls"> /create </em>å‘é€ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œè¯·æ±‚ä½“ä¸­åŒ…å«ä»»ä½•JSONï¼Œåº”ç”¨ç¨‹åºå°†åˆ›å»ºä¸€ä¸ªJSONæ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¸Šä¼ åˆ°Google Driveï¼Œä¹‹åè¯¥æ–‡ä»¶å°†è¢«åˆ é™¤ã€‚ç®€å•å¯¹å—ï¼Ÿ</p><p id="38da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™äº›æ˜¯æˆ‘ä»¬è¦éµå¾ªçš„æ­¥éª¤:</p><ul class=""><li id="078d" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">åˆ›å»ºåŸºæœ¬ç»“æ„</li><li id="54d6" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">é…ç½®é¡¹ç›®</li><li id="6c90" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">åˆ›å»ºæœåŠ¡å™¨</li><li id="6ee6" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">è°·æ­Œè®¤è¯</li><li id="612c" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">åˆ›å»ºKoaåº”ç”¨ç¨‹åº</li><li id="1b0f" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">è¿è¡Œåº”ç”¨ç¨‹åº</li></ul><h2 id="cdea" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">åˆ›å»ºåŸºæœ¬ç»“æ„</h2><p id="15dc" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">ç”¨ä½ æƒ³è¦çš„åå­—åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç„¶ååˆ›å»ºè¿™ä¸ªç»“æ„:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="b72e" class="mh mi iq ng b gy nk nl l nm nn">| Koa Tutorial<br/>|__nodemon.json<br/>|__files<br/>|__src<br/> |__app.js<br/> |__google-auth.js<br/> |__server.js<br/> </span></pre><h2 id="64dd" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">é…ç½®é¡¹ç›®</h2><p id="f2f0" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">åœ¨æ ¹æ–‡ä»¶å¤¹ä¸­åˆ›å»º</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="6c39" class="mh mi iq ng b gy nk nl l nm nn">npm init</span></pre><p id="0513" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¹¶å¡«å†™å…¶ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå¦‚æœæ‚¨æƒ³è·³è¿‡æ‰€æœ‰è¿™äº›ç®€å•çš„æ“ä½œ</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="2287" class="mh mi iq ng b gy nk nl l nm nn">npm init --yes</span></pre><p id="535b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ·»åŠ ä¾èµ–é¡¹ï¼Œè¿™æ˜¯æˆ‘çš„åŒ…ã€‚json:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="2dce" class="mh mi iq ng b gy nk nl l nm nn">{<br/>  "name": "koa-app",<br/>  "version": "0.0.1",<br/>  "license": "MIT",<br/>  "main": "src/server.js",<br/>  "dependencies": {<br/>    "google-auth-library": "0.12.0",<br/>    "googleapis": "24.0.0",<br/>    "jsonwebtoken": "latest",<br/>    "koa": "latest",<br/>    "koa-body": "latest",<br/>    "koa-bodyparser": "4.2.0",<br/>    "koa-logger": "latest",<br/>    "koa-router": "latest"<br/>  },<br/>  "devDependencies": {<br/>    "nodemon": "latest"<br/>  },<br/>  "scripts": {<br/>    "dev": "DEBUG=* NODE_ENV=local nodemon --inspect --harmony src/server.js"<br/>  }<br/>}</span></pre><p id="16ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å®‰è£…ä¾èµ–é¡¹:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="1ccb" class="mh mi iq ng b gy nk nl l nm nn">npm install</span></pre><p id="81fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è®©æˆ‘ä»¬é…ç½®nodemonï¼Œè½¬åˆ°nodemon.jsonæ–‡ä»¶</p><p id="8362" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¿½ç•¥/ <em class="ls">æ–‡ä»¶</em>æ–‡ä»¶å¤¹ä¸­çš„æ›´æ”¹ï¼Œè¿™æ ·nodemonå°±ä¸ä¼šåœ¨æ¯æ¬¡é‚£é‡Œå‘ç”Ÿæ›´æ”¹æ—¶é‡å¯æœåŠ¡å™¨ã€‚</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="0330" class="mh mi iq ng b gy nk nl l nm nn">// nodemon.json<br/>{<br/>    "ignore": ["files/*.json"] <br/>}</span></pre><h2 id="593f" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">åˆ›å»ºæœåŠ¡å™¨</h2><p id="9354" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">è½¬åˆ°server.jsæ–‡ä»¶</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="c550" class="mh mi iq ng b gy nk nl l nm nn">// src/server.js</span><span id="a1c6" class="mh mi iq ng b gy no nl l nm nn">process.env.NODE_ENV = process.env.NODE_ENV || 'development';</span><span id="4eef" class="mh mi iq ng b gy no nl l nm nn">const app = require('./app');</span><span id="d19b" class="mh mi iq ng b gy no nl l nm nn">const config = {<br/>  port: process.env.PORT || 9000,<br/>  env: process.env.NODE_ENV,<br/>};</span><span id="a2b3" class="mh mi iq ng b gy no nl l nm nn">app.listen(config.port, config.ip, () =&gt; {<br/>  console.log('Koa server listening on %d, in %s mode', config.port, config.env);<br/>});</span><span id="50a3" class="mh mi iq ng b gy no nl l nm nn">// Expose app<br/>exports = module.exports = app;</span></pre><h2 id="2ebb" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">è°·æ­Œè®¤è¯</h2><p id="90d1" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œæ­¤é“¾æ¥ä¸­çš„â€œæ­¥éª¤1:æ‰“å¼€é©±åŠ¨å™¨API â€:</p><div class="np nq gp gr nr ns"><a href="https://developers.google.com/drive/v3/web/quickstart/nodejs" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">Node.jså¿«é€Ÿå…¥é—¨| Drive REST API | Googleå¼€å‘è€…</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">å®Œæˆæœ¬é¡µå‰©ä½™éƒ¨åˆ†æè¿°çš„æ­¥éª¤ï¼Œå¤§çº¦äº”åˆ†é’Ÿåæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ªç®€å•çš„Node.jsâ€¦</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">developers.google.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div><p id="4b6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å°†æ­¤URIæ·»åŠ åˆ°URIéƒ¨åˆ†127.0.0.1:900/auth</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/eb5467e4980bcdffd8b815f7e01fe4c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9ei3HV7KEkXPfw6zftCxQ.png"/></div></div></figure><p id="7a2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬ä¸‹è½½<em class="ls"> client_secret.json </em>ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬çš„<em class="ls"> /src </em>æ–‡ä»¶å¤¹ä¸­</p><p id="9a3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»ä¸Šé¢çš„é“¾æ¥é‡æ„äº†Googleç¤ºä¾‹ä¸­çš„ä»£ç ï¼Œæˆ‘ä»¬ä»è¿™é‡Œä¸‹è½½:<a class="ae kv" href="https://github.com/edernegrete/google-drive-auth-module-node/blob/master/auth.js" rel="noopener ugc nofollow" target="_blank">https://github . com/edernegrete/Google-drive-auth-module-node/blob/master/auth . js</a></p><p id="9f33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬æŠŠå®ƒæ”¾åœ¨src/google-auth.js</p><h2 id="1ab4" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">åˆ›å»ºKoaåº”ç”¨ç¨‹åº</h2><p id="4f90" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">æœ€ååˆ°Koa appã€‚</p><p id="e623" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ªç«¯ç‚¹</p><ul class=""><li id="0c9a" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">/auth(å¯¹äºGoogle Auth)</li><li id="78dc" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">/create(ç”¨æä¾›çš„JSONåˆ›å»ºä¸€ä¸ªæ–‡ä»¶)</li></ul><p id="b01a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è½¬åˆ°<em class="ls"> src/app.js </em></p><p id="e282" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è®©æˆ‘ä»¬å…ˆæ·»åŠ ä¾èµ–é¡¹:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="1285" class="mh mi iq ng b gy nk nl l nm nn">//src/app.js</span><span id="9359" class="mh mi iq ng b gy no nl l nm nn">process.env.NODE_ENV = process.env.NODE_ENV || 'development';</span><span id="b3be" class="mh mi iq ng b gy no nl l nm nn">const Koa = require('koa');<br/>const logger = require('koa-logger');<br/>const router = require('koa-router')();<br/>const bodyParser = require('koa-bodyparser');<br/>const fs = require('fs');</span><span id="b0a7" class="mh mi iq ng b gy no nl l nm nn">const uploadFile = require('./google-auth.js');</span></pre><p id="67d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ è®°å½•å™¨:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="c855" class="mh mi iq ng b gy nk nl l nm nn">//src/app.js</span><span id="d990" class="mh mi iq ng b gy no nl l nm nn">app.use(async (ctx, next) =&gt; {<br/>  const start = Date.now();<br/>  await next();<br/>  const ms = Date.now() - start;<br/>  ctx.set('X-Response-Time', `${ms}ms`);<br/>});</span></pre><p id="d8a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªå‡½æ•°</p><ul class=""><li id="283c" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">writeJSONFile</li><li id="295b" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">åˆ é™¤æ–‡ä»¶</li></ul><p id="0896" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æµç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„:</p><ol class=""><li id="c539" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr oi lz ma mb bi translated">ç¼–å†™JSONæ–‡ä»¶</li><li id="c4f9" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr oi lz ma mb bi translated">ä¸Šä¼ æ–‡ä»¶</li><li id="a29b" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr oi lz ma mb bi translated">åˆ é™¤æ–‡ä»¶</li></ol><p id="3874" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‰€æœ‰è¿™äº›éƒ½åº”è¯¥ç­‰å¾…å‰ä¸€ä¸ªç»“æŸã€‚<strong class="ky ir">(å¼‚æ­¥/ç­‰å¾…ğŸ™ˆ)</strong></p><h2 id="9639" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">è®©æˆ‘ä»¬ç¼–å†™<em class="oj"> writeJSONFile </em>å‡½æ•°:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="7e2e" class="mh mi iq ng b gy nk nl l nm nn">// src/app.js</span><span id="dc39" class="mh mi iq ng b gy no nl l nm nn">const writeJSONFile = (ctx, fileName) =&gt; new Promise(<br/>  (resolve, reject) =&gt; {<br/>    try {<br/>      const createStream = fs.createWriteStream(`./files/${fileName}.json`);<br/>      const writeStream = fs.createWriteStream(`./files/${fileName}.json`);<br/>      writeStream.write(JSON.stringify(ctx.request.body));<br/>      createStream.end();<br/>      writeStream.end();<br/>      resolve();<br/>    } catch (err) <br/>      {<br/>        reject(err);<br/>      }<br/>});</span></pre><h2 id="b10a" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">ç°åœ¨removeFileå‡½æ•°:</h2><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="efa4" class="mh mi iq ng b gy nk nl l nm nn">// src/app.js</span><span id="9e5e" class="mh mi iq ng b gy no nl l nm nn">const removeFile = fileName =&gt; new Promise((resolve, reject) =&gt; {<br/>  fs.unlink(`./files/${fileName}.json`, (err) =&gt; {<br/>    if (err) {<br/>      reject(err);<br/>      throw err;<br/>    }<br/>    resolve();<br/>    console.log('filePath was deleted');<br/>  });<br/>});</span></pre><h2 id="c6ec" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºè·¯çº¿</h2><p id="5790" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated"><em class="ls">/åˆ›å»º</em></p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="42cb" class="mh mi iq ng b gy nk nl l nm nn">// src/app.js</span><span id="ab02" class="mh mi iq ng b gy no nl l nm nn">router.post('/create', async (ctx, next) =&gt; {<br/>  if (!ctx.request.body) {<br/>    ctx.status = 400;<br/>    ctx.body = {<br/>      error: `expected an object in the body but got: ${ctx.request.body}`,<br/>    };<br/>    return;<br/>  }<br/>  const newName = `${new Date().getTime()}`;<br/>  await writeJSONFile(ctx, newName);<br/>  await uploadFile.upload(newName);<br/>  await removeFile(newName);<br/>  ctx.status = 200;<br/>  next();<br/>});</span></pre><p id="a741" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">/auth</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="aec8" class="mh mi iq ng b gy nk nl l nm nn">// src/app.js</span><span id="f396" class="mh mi iq ng b gy no nl l nm nn">router.get('/auth', async (ctx) =&gt; {<br/>  ctx.body = {<br/>    message: ctx.request.query.code,<br/>  };<br/>});</span></pre><p id="bfe2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æœ€åï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨è·¯çº¿å¹¶å¯¼å‡ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åº</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="5bb3" class="mh mi iq ng b gy nk nl l nm nn">// src/app.js</span><span id="da40" class="mh mi iq ng b gy no nl l nm nn">app.use(router.routes());<br/>app.use(router.allowedMethods());</span><span id="da29" class="mh mi iq ng b gy no nl l nm nn">module.exports = app;</span></pre><h2 id="adc8" class="mh mi iq bd mj mk ml dn mm mn mo dp mp lf mq mr ms lj mt mu mv ln mw mx my mz bi translated">è®©æˆ‘ä»¬è¿è¡Œåº”ç”¨ç¨‹åºã€‚</h2><p id="e955" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">å»ç»ˆç«¯è·‘</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="ddf4" class="mh mi iq ng b gy nk nl l nm nn">npm run dev</span></pre><p id="7e8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/961448de2805d125e932fa4d030417fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q0P4qL651PtOp6hM-CXpTg.png"/></div></div></figure><p id="ec7a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨9000</p><p id="bbec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç°åœ¨è¦åšæµ‹è¯•ï¼Œæˆ‘ä»¬éœ€è¦å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œä½ å¯ä»¥ä½¿ç”¨Postmanæˆ–ä»»ä½•restå®¢æˆ·ç«¯</p><p id="285a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬éœ€è¦ç”¨ä»»ä½•æœ‰æ•ˆçš„JSONè¿›è¡ŒPOST/create</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/1a18a69abae03fa1308c30176696a33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYg1-O5qJjasrbEtVCSJuw.png"/></div></div></figure><p id="8a05" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¹‹åï¼Œä½ åº”è¯¥ä¸è°·æ­Œè®¤è¯ï¼Œå»æ§åˆ¶å°ï¼Œä½ åº”è¯¥çœ‹åˆ°è¿™ä¸ª:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/4bcb50b993efe2b5e0907e1ddb8468d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqXJ1I60ji0ozDtu5YGRQQ.png"/></div></div></figure><p id="d7a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è®©æˆ‘ä»¬è®¿é—®é‚£ä¸ªé“¾æ¥ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹(å–å†³äºä½ æ˜¯å¦æœ‰å¤šä¸ªè°·æ­Œè´¦æˆ·)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/3d940cd4b9a42031c1ac3ddd165d9979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EphwSe4nGkUKZJ935uzy0g.png"/></div></div></figure><p id="f4c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é€‰æ‹©onåï¼Œæ‚¨å°†çœ‹åˆ°ä»¤ç‰Œ:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/943177cc9a528c8866f1f91400a9dc80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PiWnthz35O4_z667vg36qQ.png"/></div></div></figure><p id="b59a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å°†å®ƒå¤åˆ¶å¹¶ç²˜è´´åˆ°ç»ˆç«¯ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹åº”è¯¥å¼€å§‹äº†ï¼Œæ‚¨åº”è¯¥åœ¨æœ€åçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/1a675d26f6e3db9cdbe89e04e3949cdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHeK2zsaBDeZ_YKcOhNpjw.png"/></div></div></figure><p id="6880" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¹‹åï¼Œä½ å¯ä»¥æ£€æŸ¥ä½ çš„è°·æ­Œé©±åŠ¨å™¨ï¼Œæ–‡ä»¶åº”è¯¥åœ¨é‚£é‡Œ:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/dadd8fa89068728753fb7d373c83ce0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C5zzWmP-rrlWFfuiwJY3Eg.png"/></div></div></figure><p id="508d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹å®Œæ•´ä»£ç :<a class="ae kv" href="https://github.com/ederng/koa-google-drive" rel="noopener ugc nofollow" target="_blank">https://github.com/edernegrete/koa-google-drive</a></p><p id="c19d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘å¾ˆæƒ³æ”¶åˆ°ä½ çš„æ¥ä¿¡ï¼Œä½ å¯ä»¥åœ¨æ¨ç‰¹ä¸Šè”ç³»æˆ‘:@ <a class="ae kv" href="https://twitter.com/edernegrete_" rel="noopener ugc nofollow" target="_blank"> edernegrete_ </a> â¤ï¸</p></div></div>    
</body>
</html>