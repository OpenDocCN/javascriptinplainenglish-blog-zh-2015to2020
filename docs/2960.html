<html>
<head>
<title>Writing a Factory Method in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript编写工厂方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/writing-a-factory-method-in-javascript-d15a4c8a70e7?source=collection_archive---------9-----------------------#2020-08-10">https://javascript.plainenglish.io/writing-a-factory-method-in-javascript-d15a4c8a70e7?source=collection_archive---------9-----------------------#2020-08-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7ce2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">传统和更好的方式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/366f0be7cdc368396f46f1b98a3cff6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*il2iogFvSwBIJcpx_8ekxA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@vogel11?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Daniel Vogel</a> on <a class="ae kv" href="https://unsplash.com/s/photos/factory?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="5f67" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">工厂模式是一种遵循DRY方法的面向对象模式。顾名思义，对象实例是通过使用工厂为我们制造所需的对象来创建的。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="e7a8" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">让我们考虑下面三个类:</p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="12dd" class="me mf iq ma b gy mg mh l mi mj">// Our Three class based.</span><span id="6430" class="me mf iq ma b gy mk mh l mi mj">class Dog {</span><span id="f958" class="me mf iq ma b gy mk mh l mi mj">}</span><span id="6fee" class="me mf iq ma b gy mk mh l mi mj">class Cat {</span><span id="c14d" class="me mf iq ma b gy mk mh l mi mj">}</span><span id="1985" class="me mf iq ma b gy mk mh l mi mj">class Person {</span><span id="8f2a" class="me mf iq ma b gy mk mh l mi mj">}</span></pre><p id="0e6a" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在我们需要一个函数，我们向它请求一个纯字符串形式的对象，这个函数将返回我们想要的对象的一个实例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/df7ee6913cc0569017a19d4da3e7d364.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vkk4kOijw47oAybnnCfMKg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Factory Method in Simple</figcaption></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="5ef7" class="mm mf iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">使用开关的传统植入</h1><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="35a6" class="me mf iq ma b gy mg mh l mi mj">var factory = function(key) {<br/>    var instance;<br/>    switch (key) {<br/>        case 'dog':<br/>            instance = new Dog();<br/>            break;<br/>        case 'cat':<br/>            instance = new Cat();<br/>            break;<br/>        default:<br/>            instance = new Person();<br/>            break;<br/>    }<br/>    return instance;<br/>}<br/>console.log(factory('dog'));</span></pre></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="d2f6" class="mm mf iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">用对象文字替换开关。</h1><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="7ed3" class="me mf iq ma b gy mg mh l mi mj">var factory = function(key) {<br/>    var map = {<br/>        dog: Dog,<br/>        cat: Cat,<br/>        person: Person<br/>    };<br/>    return new map[map.hasOwnProperty(key) ? key : 'person']();<br/>};<br/>console.log(factory('dog'));</span></pre></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h2 id="ed9a" class="me mf iq bd mn nd ne dn mr nf ng dp mv lm nh ni mx lq nj nk mz lu nl nm nb nn bi translated">感谢阅读！🍻</h2></div></div>    
</body>
</html>