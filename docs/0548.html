<html>
<head>
<title>Deploying an Angular 8 Universal App to Firebase with CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CircleCI将Angular 8通用应用程序部署到Firebase</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deploying-angular-8-universal-app-to-firebase-with-circleci-56b6d83749d1?source=collection_archive---------6-----------------------#2019-11-06">https://javascript.plainenglish.io/deploying-angular-8-universal-app-to-firebase-with-circleci-56b6d83749d1?source=collection_archive---------6-----------------------#2019-11-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1ba0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇文章将带你通过CircleCI部署一个Angular 8通用应用程序到Firebase的步骤。我的很多朋友都打算换成Angular。所以我尽量让它不要太花哨。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="2247" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">开始之前</h2><p id="e079" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">这些是先决条件。</p><ol class=""><li id="c929" class="ln lo in jm b jn jo jr js jv lp jz lq kd lr kh ls lt lu lv bi translated">一个编辑器(<a class="ae lw" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>推荐)。</li><li id="c8a1" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">下载并安装<a class="ae lw" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点</a>。</li><li id="aae3" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">全局安装Angular CLI。</li><li id="c8e7" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">在<a class="ae lw" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> Github </a>上注册。</li><li id="4b98" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">安装并配置Github客户端来运行git命令。</li><li id="1b16" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">在<a class="ae lw" href="http://circleci.com" rel="noopener ugc nofollow" target="_blank"> CircleCI </a>上报名。</li></ol><p id="2ac4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要安装Angular CLI，请运行以下命令</p><blockquote class="mc md me"><p id="a551" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">npm i -g @angular/cli</p></blockquote><p id="11c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">npm是NodeJS自带的节点包管理器。<em class="mf"> i </em>用作<em class="mf"> install </em>的简写，<em class="mf"> -g </em>用于告诉npm全局安装它</p><p id="fdd6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们开始吧</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="b1f6" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤1:创建一个新的角度应用程序</h2><p id="10c5" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">打开命令提示符，运行以下命令创建新的角度项目。它将询问您是否要启用路由。选择“是”(即使您选择了“否”，我们也可以稍后再做)。同时选取您想要在项目中使用的样式格式。</p><blockquote class="mc md me"><p id="a4dd" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">ng新SampleApp -跳过-安装</p></blockquote><p id="a72b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，<em class="mf"> SampleApp </em>是我们正在创建的应用的名称。您可以看到下面的输出。我们正在设置标志<em class="mf"> —跳过安装</em>，因为我们使用CircleCI来构建和部署我们的应用程序。所以我们不需要在本地安装node_modules。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/349ed2e51172d582571820c641449d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VrbHlr5TNgDFj9kSRNwx9A.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Creating new Angular App using Angular CLI</figcaption></figure><p id="2395" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在导航到App文件夹，打开该文件夹中的VS代码。为此，请键入</p><blockquote class="mc md me"><p id="fb63" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">cd SampleApp &amp; &amp; code。</p></blockquote><p id="8628" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它看起来会像</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mz"><img src="../Images/f37d14a75d2bbd0bdaf163b69c1aa143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNndgdrhMH_T8d6pmeEyKw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">New Angular Project in VS Code</figcaption></figure></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="530b" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤2:在Github上创建一个存储库</h2><p id="86b3" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">现在转到Github并创建一个新的存储库</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi na"><img src="../Images/4e4aaa58f76a5fbca7fb1f7dec54c3ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*veEMp6X3son0h6szinEFfA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Creating new Repository in Github</figcaption></figure><p id="0d35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建完成后，就该将存储库与我们的本地工作目录链接起来了。在CMD中键入以下命令</p><blockquote class="mc md me"><p id="983e" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">git init<br/>git remote add origin<a class="ae lw" href="https://github.com/{username}/SampleApp.git" rel="noopener ugc nofollow" target="_blank">https://github.com/{username}/SampleApp.git</a></p></blockquote><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nb"><img src="../Images/5b05e6baf95118a91d5d731db7b43550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FchUs-E_CccCFCKpqFBmOw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Initialising and setting remote on working directory</figcaption></figure><p id="272e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将初始化github并将我们的Github库设置为远程工作目录。您可以为遥控器指定任何名称，而不是<em class="mf">原点</em>。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="fb03" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤3:在Firebase中创建一个项目</h2><p id="23e1" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">是时候添加Firebase了</p><p id="4a6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Firebase是谷歌的平台，有很多内置功能。</p><p id="a48c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">去console.firebase.google.com，你会看到一个这样的仪表板。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi na"><img src="../Images/837d072f8e703e925d2703367b3b383a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ovCNM8vBWncV8inbGYDLGA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase Home Screen</figcaption></figure><p id="0a72" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">点击添加项目，你可以看到下面的屏幕。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mz"><img src="../Images/45a3ca36b3d249ead578347f27a4ea23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1K-innUTuysTBNJ8lHV1uA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase Add Project wizard</figcaption></figure><p id="dc47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它要求您命名新的Firebase应用程序和名称空间。稍后将使用该名称空间来访问应用程序(您可以将其编辑为易于记忆的名称)。</p><p id="c6f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦你设置好了，点击继续，你可以看到另一个屏幕。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nc"><img src="../Images/43add92ab6c9190141caa711232d060c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XklqLL668tsNEklj8lur4A.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase Google Analytics Screen</figcaption></figure><p id="3d0d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个屏幕询问你是否想在你的项目中使用谷歌分析。我们选择否。</p><p id="9c82" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后点击继续，我们的应用程序将在几秒钟内创建。完成后，您可以看到这样的屏幕。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nd"><img src="../Images/83ce8b43a7fa0ddd549f1206829dae4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*isLEpU1IqrJzYqxaGwlhfg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase successfully created new App</figcaption></figure></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="706e" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤4:将Firebase添加到项目中</h2><p id="88da" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">是时候给我们的项目添加燃料了。为此，首先在全球范围内安装<a class="ae lw" href="https://www.npmjs.com/package/firebase-tools" rel="noopener ugc nofollow" target="_blank"> firebase-tools </a>。运行以下命令</p><blockquote class="mc md me"><p id="a468" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">NPM I-g firebase-工具</p></blockquote><p id="1fb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在关闭并重新打开CMD，运行以下命令登录Firebase。</p><blockquote class="mc md me"><p id="9ddf" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">firebase登录</p></blockquote><p id="c639" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个命令将在浏览器中打开一个窗口，你必须使用谷歌认证。一旦完成，您就可以开始使用其他firebase命令了。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ne"><img src="../Images/99765962087b15282e38ba16fc692dce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JSSn0VNVXb-UqNry13kvnQ.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase login successful</figcaption></figure><p id="fd82" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在导航到我们的项目文件夹，运行下面的命令来初始化firebase。</p><blockquote class="mc md me"><p id="89b4" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">火灾基地初始化</p></blockquote><p id="8844" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将启动Firebase的初始化过程，我们必须遵循几个步骤。</p><ol class=""><li id="e6d1" class="ln lo in jm b jn jo jr js jv lp jz lq kd lr kh ls lt lu lv bi translated">当系统提示您是否要继续时，选择是。</li><li id="4c8c" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">下一步将询问您希望在项目中使用哪些firebase特性。我们正在使用主机和功能(按空格键选择。完成后，点击输入)。</li><li id="aaaa" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">下一步，它会询问您是想要创建一个新的Firebase项目还是使用一个现有的项目。选择现有的一个。</li><li id="54de" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">下一步，从列表中选择我们在步骤3中创建的应用程序。使用箭头键导航，回车选择。</li><li id="7b89" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">接下来的步骤是配置功能。使用类型脚本作为语言函数。</li><li id="e4f8" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">然后在下一步中，当它询问您是否要使用TSLint时，选择yes(ts lint是一个工具，它可以找出类型脚本代码中可能的错误)。</li><li id="d405" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">然后它会问你是否要安装依赖项。键入No，因为我们使用CI进行部署。</li><li id="f7fa" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">接下来的步骤是主机配置。它会问你托管目录，默认值是公共的。将其更改为<em class="mf"> dist/SampleApp。</em>这是Angular开发应用的地方。</li><li id="fd8b" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">在下一步询问您是否要将其配置为单页应用程序时，选择是。</li></ol><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nf"><img src="../Images/9e2462f09fb8d103669c465fcffa2f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F-6Z_2aEu2VTrImm-0WD9g.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Adding Firebase in Project Repository</figcaption></figure><p id="1943" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们已经成功地在我们的项目中添加了firebase。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="6ac6" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">第五步:在CircleCI上注册</h2><p id="eae8" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">是时候在CircleCI上报名了。</p><ol class=""><li id="8c80" class="ln lo in jm b jn jo jr js jv lp jz lq kd lr kh ls lt lu lv bi translated">去circleci.com/dashboard</li><li id="f2b0" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">单击SampleApp上的设置项目。</li><li id="fa7e" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">现在选择Linux作为操作系统，Node作为语言。</li><li id="01f2" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">然后点击开始建造</li></ol><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nd"><img src="../Images/6fe5e9343af89478b95f60b2836e5f5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rcNLT7Onsp05k5Yx7j60rQ.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">CircleCI Dashboard</figcaption></figure><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nf"><img src="../Images/8cd54d726c9c02c92bfa775de3f89c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OZvjaC5ivtmWWG3r0GDzXA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Project Setup in CircleCI</figcaption></figure></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="343b" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤6:向CircleCI添加Firebase令牌</h2><p id="03f8" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">因为我们希望从CI/CD部署到Firebase，所以我们需要一个Firebase令牌，CircleCI将使用该令牌对Firebase进行身份验证。</p><p id="777e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们的项目文件夹中打开CMD并键入以下命令</p><blockquote class="mc md me"><p id="6fea" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">firebase登录:ci</p></blockquote><p id="77f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将打开浏览器，您必须再次授权Firebase CLI。</p><p id="e037" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">授权Firebase CLI后，您将在CMD中看到一个令牌。复制令牌。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ng"><img src="../Images/b17457f4149abb25c23272bbfd9445c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B5tTx1m6Yi6lv38-b8-a8w.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase login CI</figcaption></figure><ol class=""><li id="a884" class="ln lo in jm b jn jo jr js jv lp jz lq kd lr kh ls lt lu lv bi translated">前往circleci.com/dashboard，点击SampleApp中的齿轮图标</li><li id="c7a6" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">导航到环境变量选项卡，然后单击添加变量</li><li id="ecca" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">给出名称FirebaseToken(可以是任何名称),并将令牌放在值字段中。</li></ol><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nd"><img src="../Images/61bdebd3379e178e64489d1593f040c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*03S6czak8C8xCPBwL9hV5Q.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Environment Variable configuration in CircleCI</figcaption></figure></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="3ec9" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤7:在项目中配置CircleCI</h2><p id="6d88" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">在应用程序中添加CircleCI配置。</p><ol class=""><li id="c8ee" class="ln lo in jm b jn jo jr js jv lp jz lq kd lr kh ls lt lu lv bi translated">在VS代码(或任何编辑器)中打开我们的项目。</li><li id="4c31" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">创建一个名为<em class="mf">的文件夹。circleci </em></li><li id="01d4" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">在其中创建一个名为<em class="mf"> config.yml </em>的文件</li><li id="dd58" class="ln lo in jm b jn lx jr ly jv lz jz ma kd mb kh ls lt lu lv bi translated">将以下内容添加到文件中</li></ol><figure class="mk ml mm mn gt mo"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="5c3c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们需要修改<em class="mf"> package.json </em>中的构建脚本来让AOT构建</p><p id="3d1b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">把它改成</p><blockquote class="mc md me"><p id="4a9a" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">ng构建-产品- aot</p></blockquote></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="bd2e" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤8:构建应用程序</h2><p id="19a0" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">现在让我们将代码推送到Github，然后CircleCI将开始构建我们的应用程序。</p><p id="ebe5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在CMD中键入以下内容</p><blockquote class="mc md me"><p id="3c36" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">git添加。<br/> git提交-m "初始提交"<br/> git推送原始主机</p></blockquote><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nj"><img src="../Images/b4a014e77034a193d528557fc2076480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IP6oAlSVOiv6OVnUyhGrw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Committing and pushing to Github</figcaption></figure><p id="8988" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在导航到Circleci.com/dashboard，我们可以看到作业正在那里运行。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nk"><img src="../Images/334a0dd72f0d76ae8f8d32f993ffc361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G8yvMtR9VNmGhBjmmVS7lg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">CircleCI job completed</figcaption></figure><p id="9887" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们可以导航到我们在Firebase上部署的应用程序。访问<em class="mf">&lt;namespace&gt;. firebase App . com</em>可以看到我们的应用在那里运行。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mz"><img src="../Images/2ad69fbbd2213062ee17c596dbd35734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5xYwyb_Sn43DXMp1OHiUmA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">App running on Firebase</figcaption></figure></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><p id="3a80" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们已经成功地在Angular上创建了一个生产版本，并将其托管在Firebase上。现在有什么问题？</p><p id="9b76" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过客户端渲染角度渲染其所有组件。一旦客户端收到文档，JavaScript代码将在客户端的浏览器中执行，HTML元素将被呈现。SEO在这里是个问题。虽然Google bot可以执行JavaScript，但没有其他爬虫会执行它。于是，脸书，必应，推特等等。会将其视为一个单独的html页面，而不考虑路由。</p><p id="62bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了克服这一问题，引入了Universal。Angular Universal，也称为SSR(服务器端呈现)是一种实现SEO的技术，它将在服务器中呈现所有本机Angular代码，并为每个路线提供单独的页面。这样爬虫就可以理解页面并解析它的标题和元标签。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="19bb" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤9:将角度通用添加到项目</h2><p id="a156" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">在我们的项目中添加Universal之前，我们必须安装所有的依赖项，否则我们会得到一个错误。要安装所有依赖项，请运行以下命令</p><blockquote class="mc md me"><p id="1e96" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">国家预防机制一</p></blockquote><p id="bfff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将把所有需要的包安装到<em class="mf"> node_modules </em>，这是在本地编译这个项目所需要的。</p><p id="87c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后运行以下命令，在我们的应用程序中添加Angular Universal。</p><blockquote class="mc md me"><p id="ad88" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">ng add @ nguniversal/express-engine-client project sample app</p></blockquote><p id="8e33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将创建几个文件，并编辑一些现有的文件。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nl"><img src="../Images/68efbfe1202c9ef0bd9805c8dbfa22d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7a4UE5IB5HdNdk_u0mkNA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Adding Angular Universal to Project</figcaption></figure><p id="8c09" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们来看看CSR和SSR的区别。要编译和查看，请运行以下命令</p><blockquote class="mc md me"><p id="ab52" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">npm运行构建:ssr &amp;&amp; npm运行服务:ssr</p></blockquote><p id="90a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将首先构建SSR应用程序，然后服务于它。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nf"><img src="../Images/1a54380599177cf8865c62a70c3de84b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4ublPQRXNunDFY8GkTVCg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Build and Serve SSR</figcaption></figure><p id="7c4d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mf"> npm运行构建:ssr </em>将在<em class="mf"> /dist </em>中创建2个文件夹。浏览器和服务器。当从浏览器访问时，将提供来自<em class="mf"> /dist/browser </em>的内容，当爬虫或非浏览器应用(例如:curl)访问时，将提供来自<em class="mf"> /dist/server </em>的内容。</p><p id="4bb5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦它执行完毕，在浏览器中访问<a class="ae lw" href="http://localhost:4000" rel="noopener ugc nofollow" target="_blank"><em class="mf">http://localhost:4000</em></a>，你就可以在其中看到我们的应用。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nf"><img src="../Images/89f0875d860fb70800a899cfea0e9110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtgdtz6JuKQ33bsoioxMmQ.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">SSR App</figcaption></figure><p id="731e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了验证它在服务器端的渲染，查看应用程序的源代码，我们可以看到所有的HTML元素和文本内容。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mz"><img src="../Images/662f709e1f351b4229d461ae78766ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7amSqpDtxzXx6iz3pia-4A.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Source Code of SSR App</figcaption></figure></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="ef64" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤10:为Firebase部署准备代码</h2><p id="6280" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">为了将它部署到firebase，我们必须做一些更改。</p><p id="7f27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在server.ts中，编辑下面一行</p><blockquote class="mc md me"><p id="7336" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">const app = express()；</p></blockquote><p id="47a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到</p><blockquote class="mc md me"><p id="da9a" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">导出常量app = express()；</p></blockquote><p id="06be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为我们必须从这里导出express并在Firebase Cloud函数中使用它。</p><p id="ec99" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在在<em class="mf"> firebase.json </em>中做如下修改</p><blockquote class="mc md me"><p id="f996" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">" hosting ":{<br/>" public ":" dist/sample app "</p></blockquote><p id="9771" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到</p><blockquote class="mc md me"><p id="e4e6" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">"托管":{ <br/>"公共":"分发/浏览器"</p></blockquote><p id="acf3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">和</p><blockquote class="mc md me"><p id="7bb5" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">"重写":[{ <br/>"源":" ** "，<br/>"目的地":" index.html" <br/> }</p></blockquote><p id="5aea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到</p><blockquote class="mc md me"><p id="e636" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">"重写":[{ <br/> "source": "** "，<br/> "function": "ssr" <br/> }</p></blockquote><p id="c1d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后在<em class="mf"> webpack.config.js </em>中进行以下更改</p><p id="411a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">编辑</p><blockquote class="mc md me"><p id="32f1" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">外部:{ <br/>'。/dist/server/main ':'要求("。/server/main")' <br/> }，</p></blockquote><p id="45fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到</p><blockquote class="mc md me"><p id="450e" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">外部:[{ <br/>'。/dist/server/main ':'。/server/main' <br/> }，<br/> /^firebase/ <br/></p></blockquote><p id="1ef1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后将以下几行添加到<em class="mf">输出</em></p><blockquote class="mc md me"><p id="1775" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">库:' app '，<br/>库目标:' umd '，</p></blockquote><p id="2136" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此输出部分将变成</p><blockquote class="mc md me"><p id="b5b4" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">输出:{ <br/> path: path.join(__dirname，' dist ')，<br/> library : 'app '，<br/> libraryTarget : 'umd '，<br/> filename: '[name]。js' <br/> }，</p></blockquote></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="1d87" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤11:处理SSR的Firebase Cloud函数</h2><p id="014e" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">我们需要写一个云函数在服务器端渲染它。转到<em class="mf"> functions/src/index.ts </em>并添加以下代码</p><blockquote class="mc md me"><p id="4e14" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">const functions = require(' firebase-functions ')；<br/>const universal = require(` $ { process . CWD()}/dist/server . js `)。app<br/>exports . SSR = functions . https . on request(universal)</p></blockquote><p id="6bed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，我们正在导入从<em class="mf"> server.ts </em>导出的<em class="mf"> app </em>，并将其用作Firebase Function的<em class="mf"> https.onRequest </em>事件中的监听器。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="2e86" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤12:编译代码</h2><p id="4562" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">因为我们做了一些更改，所以在部署到firebase之前，我们必须再次编译代码。运行以下命令</p><blockquote class="mc md me"><p id="f110" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">npm运行构建:ssr</p></blockquote><p id="d015" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将编译新代码。</p><p id="cb95" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在将<em class="mf"> /dist </em>复制到<em class="mf"> /functions/dist </em> ( <strong class="jm io">复制</strong>，不移动)。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="99ec" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤13:部署到Firebase</h2><p id="12f3" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">现在是时候把它部署到firebase了。运行以下命令来部署我们的代码。</p><blockquote class="mc md me"><p id="56a0" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">消防基地部署</p></blockquote><p id="2fca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它会将我们的应用程序部署到Firebase</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nm"><img src="../Images/ad7bb951c980efb1c49494241b99f4ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAPWnzonyfraAJ_oM9H73A.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Firebase deploy</figcaption></figure><p id="9dea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后访问<em class="mf">https://&lt;project-id&gt;. firebase app . com</em>查看我们的app。要确认SSR，查看它的源代码。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><h2 id="58af" class="kp kq in bd kr ks kt dn ku kv kw dp kx jv ky kz la jz lb lc ld kd le lf lg lh bi translated">步骤14:使用CircleCI</h2><p id="8526" class="pw-post-body-paragraph jk jl in jm b jn li jp jq jr lj jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh ig bi translated">是时候改变CircleCI配置来构建和部署Angular SSR了。更换<em class="mf">。circleci/config.yml </em>到以下</p><figure class="mk ml mm mn gt mo"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="9d2e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在推给github</p><blockquote class="mc md me"><p id="6d05" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated">git添加。<br/> git commit -m "添加通用"<br/> git推送原始主机</p></blockquote><p id="8df8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们访问circleci.com/dashboard，一切顺利，我们可以看到构建和部署是成功的。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mz"><img src="../Images/6a0c417eefe199ffde73e69c5f0d67bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCFIFwQxjkB0BcVKJBN_EA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">CircleCI dashboard</figcaption></figure><p id="122b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在访问<em class="mf">https://&lt;project-id&gt;. firebase app . com</em>查看我们的App。要验证服务器端呈现，请使用浏览器中的查看源代码。</p></div><div class="ab cl ki kj hr kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ig ih ii ij ik"><blockquote class="mc md me"><p id="38f9" class="jk jl mf jm b jn jo jp jq jr js jt ju mg jw jx jy mh ka kb kc mi ke kf kg kh ig bi translated"><a class="ae lw" href="https://www.sagarvd.me" rel="noopener ugc nofollow" target="_blank">我的官网</a>是用Angular SSR搭建的，用CircleCI托管在Firebase上。</p></blockquote></div></div>    
</body>
</html>