<html>
<head>
<title>Common Vue Problems — Calling Filter Methods, Preventing Submission, and More</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">常见的Vue问题—调用过滤器方法、阻止提交等等</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/common-vue-problems-calling-filter-methods-preventing-submission-and-more-6a5bf2dc2f0?source=collection_archive---------9-----------------------#2020-07-09">https://javascript.plainenglish.io/common-vue-problems-calling-filter-methods-preventing-submission-and-more-6a5bf2dc2f0?source=collection_archive---------9-----------------------#2020-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6b824e0e805f6bcf96947b47ec999604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fxnTRf9z9Ha1r0g4"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@omeganova?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Deniz Altindas</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="797d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js让开发前端应用变得简单。然而，我们仍有可能遇到问题。</p><p id="0df2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看一些常见的问题，并看看如何解决它们。</p><h1 id="b352" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在Vue实例中调用过滤器方法</h1><p id="ee9b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">通过使用<code class="fe me mf mg mh b">this.$options.filters</code>对象，可以在Vue组件中访问过滤器方法。</p><p id="5897" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们的Vue应用中有一个<code class="fe me mf mg mh b">capitalize</code>过滤器，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1145" class="mq lc iq mh b gy mr ms l mt mu">this.$options.filters.capitalize(this.word);</span></pre><p id="0da3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">称之为。</p><p id="7299" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">Vue.filter</code>方法来做同样的事情。</p><p id="cc60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dd66" class="mq lc iq mh b gy mr ms l mt mu">const text = Vue.filter('capitalize')(this.word);</span></pre><h1 id="ce16" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Vue配置文件位置</h1><p id="50d8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用Vue CLI创建的Vue app项目位于<code class="fe me mf mg mh b">vue.config.js</code>。</p><p id="2305" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它不在根文件夹中，我们可以将其添加到根文件夹中。</p><p id="27f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用<code class="fe me mf mg mh b">vue config</code>命令来检查或修改全局CLI配置。</p><h1 id="ec0e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">清除Vuex存储中的状态</h1><p id="7122" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们添加了一个突变来清除Bue存储中的状态。</p><p id="44bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b903" class="mq lc iq mh b gy mr ms l mt mu">const mutations = {<br/>  resetState (state) {<br/>    Object.assign(state, getDefaultState())<br/>  }<br/>}</span><span id="fe0a" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  state,<br/>  getters: {},<br/>  actions,<br/>  mutations<br/>}</span></pre><p id="1bad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">Object.assign</code>将默认值合并到现有的状态对象中，这样我们就不会丢失状态观察器。</p><p id="0d32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以为<code class="fe me mf mg mh b">getDefaultState</code>定义如下。</p><p id="c22f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0970" class="mq lc iq mh b gy mr ms l mt mu">const getDefaultState = () =&gt; {<br/>  return {<br/>    foo: [],<br/>    bar: 'empty'<br/>  }<br/>}</span></pre><p id="69ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这应该在顶部，这样我们可以在任何地方使用它。</p><p id="4563" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">state</code>可以初始化为<code class="fe me mf mg mh b">getDefault</code>状态，如下所示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="62dc" class="mq lc iq mh b gy mr ms l mt mu">const state = getDefaultState()</span></pre><p id="6771" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以做一个动作来提交<code class="fe me mf mg mh b">resetState</code>动作:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9e5a" class="mq lc iq mh b gy mr ms l mt mu">const actions = {<br/>  resetCartState ({ commit }) {<br/>    commit('resetState')<br/>  },<br/>  // ...<br/>}</span></pre><h1 id="bb9b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">v-bind中的条件:样式</h1><p id="7234" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">v-bind:style</code>指令有条件地应用样式。</p><p id="bdfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="827d" class="mq lc iq mh b gy mr ms l mt mu">v-bind:style= "[condition ? { style1 } : { style2 }]"</span></pre><p id="9dd4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个根据<code class="fe me mf mg mh b">condition</code>的值填充了不同样式对象的数组。</p><p id="06a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以把它放在数组之外:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ed97" class="mq lc iq mh b gy mr ms l mt mu">v-bind:style= "condition ? { style1 } : { style2 }"</span></pre><h1 id="900e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在Vue路由器的beforeEnter挂钩中访问异步存储数据</h1><p id="2998" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在我们的<code class="fe me mf mg mh b">beforeEnter</code>钩子中分派动作。</p><p id="72c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e69e" class="mq lc iq mh b gy mr ms l mt mu">import store from './vuex/store';</span><span id="4d99" class="mq lc iq mh b gy mv ms l mt mu">{<br/>  path: '/foo',<br/>  component: Foo,<br/>  beforeEnter: (to, from, next) =&gt;<br/>  {<br/>    store.dispatch('start')<br/>    .then(response =&gt; {<br/>      // ...<br/>    }, error =&gt; {<br/>      // handle error here<br/>    })         <br/>  }<br/>}</span></pre><p id="7fff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码中有我们可能在代码中有的route对象。</p><p id="face" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">response</code>中，我们从动作中获取数据。</p><p id="2744" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，随着路线的加载，我们得到了我们想要的数据。</p><h1 id="7531" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">呈现新行字符</h1><p id="0518" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们把新的行字符放在pre标签周围，我们就可以呈现它。</p><p id="58d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d121" class="mq lc iq mh b gy mr ms l mt mu">&lt;pre&gt;<br/>  text with<br/>  newline<br/>&lt;/pre&gt;</span></pre><p id="2c44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想要样式化任何其他元素来显示新的行，我们可以用<code class="fe me mf mg mh b">white-space: pre</code>样式来样式化它。</p><h1 id="d19c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">限制v-for中元素的迭代</h1><p id="ee52" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了限制<code class="fe me mf mg mh b">v-for</code>中元素的迭代，如果是数组，我们可以使用<code class="fe me mf mg mh b">slice</code>方法。</p><p id="b6be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a22e" class="mq lc iq mh b gy mr ms l mt mu">&lt;div v-for="value in array.slice(0, 5)"&gt;&lt;/div&gt;</span></pre><p id="c2a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在<code class="fe me mf mg mh b">array</code>中渲染前5个数组条目，因为我们将0和5传递给了<code class="fe me mf mg mh b">slice</code>。</p><p id="21b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要对对象进行同样的操作，我们必须访问索引并检查。</p><p id="8e14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b5ba" class="mq lc iq mh b gy mr ms l mt mu">&lt;div v-for="(value, index) in object" v-if="index &lt; 5"&gt;&lt;/div&gt;</span></pre><p id="4ed2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用从0到4的<code class="fe me mf mg mh b">index</code>渲染关键帧。</p><h1 id="76f4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">从文本输入中按Enter键时阻止提交</h1><p id="0ee0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了防止在文本输入中按enter键时提交，我们可以使用<code class="fe me mf mg mh b">enter</code>和<code class="fe me mf mg mh b">prevent</code>修饰符。</p><p id="c9cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="12b3" class="mq lc iq mh b gy mr ms l mt mu">&lt;input type='text' v-on:keydown.enter.prevent='add' /&gt;</span></pre><p id="857a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们按下回车键时，我们会阻止提交，因为我们有<code class="fe me mf mg mh b">prevent</code>修饰符和<code class="fe me mf mg mh b">enter</code>修饰符。</p><p id="3427" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须按下键停止提交，因为当我们按下回车键时提交已经完成。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/cd60ba1520f64edf83cadf82daad5b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0lmM_z1kORXC3-CH"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@natalie_rhea?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Natalie Rhea Riggs</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="402c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="429c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用数组实例<code class="fe me mf mg mh b">slice</code>方法或检查索引来限制<code class="fe me mf mg mh b">v-for</code>的迭代器。</p><p id="920d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以用<code class="fe me mf mg mh b">this.$options.filter</code>对象调用<code class="fe me mf mg mh b">filter</code>方法。</p><p id="d8a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以做一个动作和突变来清除商店的状态。</p><h2 id="9cc3" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语中的JavaScript</h2><p id="a117" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获得更多类似的内容！</strong></p></div></div>    
</body>
</html>