<html>
<head>
<title>Top React Hooks — Browser APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Top React挂钩—浏览器API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-browser-apis-1c76931ef245?source=collection_archive---------13-----------------------#2020-09-08">https://javascript.plainenglish.io/top-react-hooks-browser-apis-1c76931ef245?source=collection_archive---------13-----------------------#2020-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/63ee29a2400e1f4641d9bcc78949c281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jqmr4NN4Xi_Xd0-d"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@danielcgold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dan Gold</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="be2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="db0b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@ 21kb/react-device-orientation-hook</h1><p id="dcb5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><a class="ae kc" href="http://twitter.com/21kb/react-device-orientation-" rel="noopener ugc nofollow" target="_blank">@ 21kb/react-device-orientation-</a>钩子让我们获得屏幕的方向和角度。</p><p id="900b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们通过运行以下命令来安装它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="41b8" class="mn lc iq mj b gy mo mp l mq mr">npm install --save @21kb/react-device-orientation-hook</span></pre><p id="4809" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0a9c" class="mn lc iq mj b gy mo mp l mq mr">yarn add @21kb/react-device-orientation-hook</span></pre><p id="2cac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f858" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useOrientation from "@21kb/react-device-orientation-hook";</span><span id="42d4" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const state = useOrientation({<br/>    angle: 0,<br/>    type: "landscape-primary"<br/>  });<br/>  const { angle, type } = state;</span><span id="59cc" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div className="App"&gt;<br/>      {angle} {type}<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="709d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">type</code>属性设置默认的角度和方向。</p><p id="efcc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用<code class="fe mt mu mv mj b">useOrientation</code>钩子返回它。</p><h1 id="ce4b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@21kb/react-notification-hook</h1><p id="dee7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用通知挂钩在浏览器中显示本地通知。</p><p id="dcda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a0ee" class="mn lc iq mj b gy mo mp l mq mr">npm install --save @21kb/react-notification-hook</span></pre><p id="92b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5652" class="mn lc iq mj b gy mo mp l mq mr">yarn add @21kb/react-notification-hook</span></pre><p id="34ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9a0e" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useNotification from "@21kb/react-notification-hook";</span><span id="8113" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const notify = useNotification({<br/>    title: "hello world",<br/>    options: {<br/>      dir: "rtl"<br/>    }<br/>  });</span><span id="f974" class="mn lc iq mj b gy ms mp l mq mr">  return &lt;button onClick={notify()}&gt;Notify me!&lt;/button&gt;;<br/>}</span></pre><p id="2c46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">useNotificatiin</code>钩子返回一个函数让我们显示一个通知。</p><p id="c221" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">title</code>具有通知的标题。</p><p id="fb7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">options</code>包括方向的<code class="fe mt mu mv mj b">dir</code>。</p><h1 id="9195" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@21kb/react-online-status-hook</h1><p id="97ab" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@21kb/react-online-status-hook包让我们获得应用程序的在线状态。</p><p id="2d6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe mt mu mv mj b">useOnlineStatus</code>或<code class="fe mt mu mv mj b">useOfflineStatus</code>钩子来获取在线状态。</p><p id="f480" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们安装了:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="36f4" class="mn lc iq mj b gy mo mp l mq mr">npm install --save @21kb/react-online-status-hook</span></pre><p id="4604" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4a9c" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useOnlineStatus } from "<a class="ae kc" href="http://twitter.com/21kb/react-online-status-hook" rel="noopener ugc nofollow" target="_blank">@21kb/react-online-status-hook</a>";<br/>export default function App() {<br/>  const status = useOnlineStatus();</span><span id="cbf6" class="mn lc iq mj b gy ms mp l mq mr">  return &lt;div&gt;You are currently {status ? "online" : "offline"}.&lt;/div&gt;;<br/>}</span></pre><p id="3e77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">useOfflineStatus</code>做同样的事情。</p><p id="e31d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2cbd" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useOfflineStatus } from "@21kb/react-online-status-hook";<br/>export default function App() {<br/>  const status = useOfflineStatus();</span><span id="1c4c" class="mn lc iq mj b gy ms mp l mq mr">  return &lt;div&gt;You are currently {status ? "online" : "offline"}.&lt;/div&gt;;<br/>}</span></pre><h1 id="192a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@ 21kb/react-page-visible-钩子</h1><p id="8944" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@21kb/react-page-visible-hook包为我们提供了获取应用程序页面可见性状态的钩子。</p><p id="217f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="de74" class="mn lc iq mj b gy mo mp l mq mr">npm install --save @21kb/react-page-visible-hook</span></pre><p id="b3bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="01a6" class="mn lc iq mj b gy mo mp l mq mr">yarn add @21kb/react-page-visible-hook</span></pre><p id="1b6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来安装它。</p><p id="b2a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6e7e" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useVisible from "@21kb/react-page-visible-hook";</span><span id="587e" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const state = useVisible();<br/>  const { visibilityState } = state;</span><span id="cc3f" class="mn lc iq mj b gy ms mp l mq mr">  return &lt;&gt;{visibilityState}&lt;/&gt;;<br/>}</span></pre><p id="4567" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">挂钩返回我们应用程序的可见性状态。</p><p id="4d29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该值可以是<code class="fe mt mu mv mj b">'visible'</code>或<code class="fe mt mu mv mj b">'prerender'</code>。</p><h1 id="6778" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@21kb/react-dom-status-hook</h1><p id="6427" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@21kb/react-dom-status-hook包为我们提供了一个钩子来获取我们的应用程序的就绪状态。</p><p id="7c14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过运行以下命令来安装它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="17ef" class="mn lc iq mj b gy mo mp l mq mr">npm install --save @21kb/react-dom-status-hook</span></pre><p id="380f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cd98" class="mn lc iq mj b gy mo mp l mq mr">yarn add @21kb/react-dom-status-hook</span></pre><p id="829d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过编写来使用<code class="fe mt mu mv mj b">useDomStatus</code>钩子:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fbed" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useDomStatus from "@21kb/react-dom-status-hook";</span><span id="9d46" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const { readyState } = useDomStatus();</span><span id="608a" class="mn lc iq mj b gy ms mp l mq mr">  return &lt;div&gt;{readyState}&lt;/div&gt;;<br/>}</span></pre><p id="d466" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个带有<code class="fe mt mu mv mj b">readyState</code>属性的对象来获取DOM加载状态。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/05a03357ffc89b4e595911d87d6698ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dNo-ldhY3V7Ks60z"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@lvnatikk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lily Banse</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ace9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="e74f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用各种钩子来使用各种浏览器API。</p><h2 id="69ed" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="6f34" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>