<html>
<head>
<title>Form Validation with Angular Reactive Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角反应形式的形式验证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/form-validation-with-angular-reactive-forms-a8f673a27e22?source=collection_archive---------5-----------------------#2020-04-22">https://javascript.plainenglish.io/form-validation-with-angular-reactive-forms-a8f673a27e22?source=collection_archive---------5-----------------------#2020-04-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c44da0128d50733c503b851d9f635929.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M1kMeIyqbY-GOxx6"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@erinw?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Erin Wilson</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e95a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Angular是Google制作的一个流行的前端框架。像其他流行的前端框架一样，它使用基于组件的架构来构建应用程序。</p><p id="a88f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何向反应式表单添加表单验证。</p><h1 id="db92" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应式表单验证</h1><p id="a24e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了验证反应式表单，我们可以在表单控件对象中添加验证器。</p><p id="9cfa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">表单控件有两种验证器。同步验证器同步运行代码来检查输入的有效性。它们返回验证错误对象或<code class="fe me mf mg mh b">null</code>。</p><p id="f915" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">异步验证器返回一个承诺或可观察对象，稍后发出一组验证器或<code class="fe me mf mg mh b">null</code>。</p><h1 id="8310" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">内置验证器</h1><p id="3ada" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用内置的验证器函数来验证输入。</p><p id="74e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以创建一个表单组，一个表单控件，然后向其添加验证，如下所示:</p><p id="bebf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.module.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b3a7" class="mq lc iq mh b gy mr ms l mt mu">import { BrowserModule } from "@angular/platform-browser";<br/>import { NgModule } from "@angular/core";<br/>import { ReactiveFormsModule } from "@angular/forms";<br/>import { AppComponent } from "./app.component";</span><span id="e922" class="mq lc iq mh b gy mv ms l mt mu">@NgModule({<br/>  declarations: [AppComponent],<br/>  imports: [BrowserModule, ReactiveFormsModule],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre><p id="0d38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="75c3" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";<br/>import { Validators, FormControl, FormGroup } from "@angular/forms";</span><span id="4c01" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  person = { name: "" };<br/>  personForm;</span><span id="f446" class="mq lc iq mh b gy mv ms l mt mu">  ngOnInit() {<br/>    this.personForm = new FormGroup({<br/>      name: new FormControl(this.person.name, [<br/>        Validators.required,<br/>        Validators.minLength(4)<br/>      ])<br/>    });<br/>  }</span><span id="3dee" class="mq lc iq mh b gy mv ms l mt mu">  get name() {<br/>    return this.personForm.get("name");<br/>  }<br/>}</span></pre><p id="1fe8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9cdc" class="mq lc iq mh b gy mr ms l mt mu">&lt;form [formGroup]="personForm"&gt;<br/>  &lt;input formControlName="name" required /&gt;</span><span id="dec7" class="mq lc iq mh b gy mv ms l mt mu">  &lt;div *ngIf="name.invalid &amp;&amp; (name.dirty || name.touched)"&gt;<br/>    &lt;div *ngIf="name.errors.required"&gt;<br/>      Name is required.<br/>    &lt;/div&gt;<br/>    &lt;div *ngIf="name.errors.minlength"&gt;<br/>      Name must be at least 4 characters long.<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/form&gt;</span></pre><p id="821a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们如下创建<code class="fe me mf mg mh b">personForm</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4e9e" class="mq lc iq mh b gy mr ms l mt mu">this.personForm = new FormGroup({<br/>      name: new FormControl(this.person.name, [<br/>        Validators.required,<br/>        Validators.minLength(4)<br/>      ])<br/>    });</span></pre><p id="625a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在表单组中有一个名为<code class="fe me mf mg mh b">name</code>的表单控件，它有必需的和<code class="fe me mf mg mh b">minLength</code>验证器。</p><p id="d9c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们用以下方式将表单绑定到表单组:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b5bf" class="mq lc iq mh b gy mr ms l mt mu">[formGroup]="personForm"</span></pre><p id="5565" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的模板中。</p><p id="3714" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们对输入做同样的事情，写下:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6337" class="mq lc iq mh b gy mr ms l mt mu">formControlName="name"</span></pre><p id="8587" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以使用<code class="fe me mf mg mh b">name</code>表单控件来检查验证错误，并相应地将它们显示在输入下方。</p><h1 id="875f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">自定义验证程序</h1><p id="3ae1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在表单控件中添加自定义验证器来验证内置验证器中没有的内容。</p><p id="82ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样做:</p><p id="2a02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">banned-name-validator.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="41cc" class="mq lc iq mh b gy mr ms l mt mu">import { ValidatorFn, AbstractControl } from "@angular/forms";</span><span id="aa46" class="mq lc iq mh b gy mv ms l mt mu">export function bannedNameValidator(nameRe: RegExp): ValidatorFn {<br/>  return (control: AbstractControl): { [key: string]: any } | null =&gt; {<br/>    const banned = nameRe.test(control.value);<br/>    return banned ? { bannedName: { value: control.value } } : null;<br/>  };<br/>}</span></pre><p id="8ac2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e7fb" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";<br/>import { Validators, FormControl, FormGroup } from "@angular/forms";<br/>import { bannedNameValidator } from "./banned-name-validator";</span><span id="a7fd" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  person = { name: "" };<br/>  personForm;</span><span id="50f8" class="mq lc iq mh b gy mv ms l mt mu">  ngOnInit() {<br/>    this.personForm = new FormGroup({<br/>      name: new FormControl(this.person.name, [<br/>        Validators.required,<br/>        Validators.minLength(4),<br/>        bannedNameValidator(/foo/i)<br/>      ])<br/>    });<br/>  }</span><span id="c67f" class="mq lc iq mh b gy mv ms l mt mu">  get name() {<br/>    return this.personForm.get("name");<br/>  }<br/>}</span></pre><p id="fd77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="47e8" class="mq lc iq mh b gy mr ms l mt mu">&lt;form [formGroup]="personForm"&gt;<br/>  &lt;input formControlName="name" required /&gt;</span><span id="3adb" class="mq lc iq mh b gy mv ms l mt mu">  &lt;div *ngIf="name.invalid &amp;&amp; (name.dirty || name.touched)"&gt;<br/>    &lt;div *ngIf="name.errors.required"&gt;<br/>      Name is required.<br/>    &lt;/div&gt;<br/>    &lt;div *ngIf="name.errors.minlength"&gt;<br/>      Name must be at least 4 characters long.<br/>    &lt;/div&gt;<br/>    &lt;div *ngIf="name.errors.bannedName"&gt;<br/>      Name cannot be foo.<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/form&gt;</span></pre><p id="3486" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们添加了我们的<code class="fe me mf mg mh b">bannedNameValidator</code>函数，该函数返回一个验证器，如果值无效则返回一个错误对象，如果值有效则返回<code class="fe me mf mg mh b">null</code>。</p><p id="9624" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的validator函数接受一个正则表达式，并验证我们没有输入作为正则表达式传入的禁用名称。</p><p id="434e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe me mf mg mh b">AppComponent</code>中，我们添加了:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="152a" class="mq lc iq mh b gy mr ms l mt mu">bannedNameValidator(/foo/i)</span></pre><p id="e610" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样我们就可以使用我们的验证器了。</p><p id="54fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在模板中，我们添加了:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5436" class="mq lc iq mh b gy mr ms l mt mu">&lt;div *ngIf="name.errors.bannedName"&gt;<br/>  Name cannot be foo.<br/>&lt;/div&gt;</span></pre><p id="a0bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示我们的自定义验证消息。</p><p id="a11f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们输入‘foo’或不符合其他表单验证要求的内容，我们会看到显示的验证错误消息。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/1bf0fbd183d3b7a9625608c11222d659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rICSZG7OLqTKgz6Z"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@zmachacek?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Zdeněk Macháček</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8d45" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">实现自定义异步验证器</h1><p id="a2a5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">自定义异步验证器返回承诺或可观察值，而不是错误对象或<code class="fe me mf mg mh b">null</code>。</p><p id="af5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它返回一个可观测值，它必须在某个点完成。</p><p id="04ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下实现和使用异步验证器函数:</p><p id="477e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.module.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0207" class="mq lc iq mh b gy mr ms l mt mu">import { BrowserModule } from "@angular/platform-browser";<br/>import { NgModule } from "@angular/core";<br/>import {  ReactiveFormsModule } from "@angular/forms";<br/>import { AppComponent } from "./app.component";</span><span id="34f1" class="mq lc iq mh b gy mv ms l mt mu">@NgModule({<br/>  declarations: [AppComponent],<br/>  imports: [BrowserModule, ReactiveFormsModule],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre><p id="9a53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">banned-name-validator.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c836" class="mq lc iq mh b gy mr ms l mt mu">import {<br/>  AbstractControl,<br/>  ValidationErrors,<br/>  AsyncValidatorFn<br/>} from "@angular/forms";</span><span id="7865" class="mq lc iq mh b gy mv ms l mt mu">export function banndNameValidator(bannedName: RegExp): AsyncValidatorFn {<br/>  return (control: AbstractControl): Promise&lt;ValidationErrors | null&gt; =&gt; {<br/>    const result = bannedName.test(control.value)<br/>      ? { bannedName: { value: control.value } }<br/>      : null;<br/>    return Promise.resolve(result);<br/>  };<br/>}</span></pre><p id="7459" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="57ff" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";<br/>import { Validators, FormControl, FormGroup } from "@angular/forms";<br/>import { banndNameValidator } from "./banned-name-validator";</span><span id="0024" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  person = { name: "" };<br/>  personForm;</span><span id="2f90" class="mq lc iq mh b gy mv ms l mt mu">  ngOnInit() {<br/>    this.personForm = new FormGroup({<br/>      name: new FormControl(<br/>        this.person.name,<br/>        [Validators.required, Validators.minLength(4)],<br/>        [banndNameValidator(/foo/i)]<br/>      )<br/>    });<br/>  }</span><span id="3e12" class="mq lc iq mh b gy mv ms l mt mu">get name() {<br/>    return this.personForm.get("name");<br/>  }<br/>}</span></pre><p id="5b05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f6cc" class="mq lc iq mh b gy mr ms l mt mu">&lt;form [formGroup]="personForm"&gt;<br/>  &lt;input formControlName="name" required /&gt;</span><span id="2016" class="mq lc iq mh b gy mv ms l mt mu">  &lt;div *ngIf="name.invalid &amp;&amp; (name.dirty || name.touched)"&gt;<br/>    &lt;div *ngIf="name.errors.required"&gt;<br/>      Name is required.<br/>    &lt;/div&gt;<br/>    &lt;div *ngIf="name.errors.minlength"&gt;<br/>      Name must be at least 4 characters long.<br/>    &lt;/div&gt;<br/>    &lt;div *ngIf="name.errors.bannedName"&gt;<br/>      Name cannot be foo.<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/form&gt;</span></pre><p id="8054" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有<code class="fe me mf mg mh b">[banndNameValidator(/foo/i)]</code>，它被添加为<code class="fe me mf mg mh b">FormControl</code>构造函数的第三个参数。</p><p id="cacb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第三个参数包含异步验证器列表。</p><p id="6ac3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">验证器的功能如下:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e242" class="mq lc iq mh b gy mr ms l mt mu">export function banndNameValidator(bannedName: RegExp): AsyncValidatorFn {<br/>  return (control: AbstractControl): Promise&lt;ValidationErrors | null&gt; =&gt; {<br/>    const result = bannedName.test(control.value)<br/>      ? { bannedName: { value: control.value } }<br/>      : null;<br/>    return Promise.resolve(result);<br/>  };<br/>}</span></pre><p id="40ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个函数，该函数返回一个promise，该promise根据我们传递给validator函数的正则表达式检查我们的输入。</p><p id="a74c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果有输入值的<code class="fe me mf mg mh b">control.value</code>无效，我们用一个验证错误对象来解决。否则，我们决心<code class="fe me mf mg mh b">null</code>。</p><p id="8e72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在我们的模板中，我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c4d5" class="mq lc iq mh b gy mr ms l mt mu">&lt;div *ngIf="name.errors.bannedName"&gt;<br/>  Name cannot be foo.<br/>&lt;/div&gt;</span></pre><p id="512f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它显示了我们键入“foo”后的消息。</p><h1 id="9033" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="42bd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Angular为表单控件内置了验证器。</p><p id="ed5b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以在表单控件中添加验证函数来验证我们的输入。我们可以创建一个同步或者异步验证函数。</p><p id="904a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果有错误，同步验证函数返回一个验证错误对象，如果没有错误，返回<code class="fe me mf mg mh b">null</code>。</p><p id="353a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果有错误，异步验证器返回一个带有验证器错误的promise或observable。否则，我们决定用<code class="fe me mf mg mh b">null</code>来表示承诺，或者用<code class="fe me mf mg mh b">null</code>来表示可观察到的事情。</p><h2 id="0da1" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">用简单英语写的JavaScript的注释</h2><p id="3982" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们已经推出了三种新的出版物！<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"> <strong class="kf ir"> AI说白了</strong> </a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"> <strong class="kf ir"> UX说白了</strong> </a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener">Python说白了 </a> <strong class="kf ir">。跟随你感兴趣的人继续你的成长——谢谢，继续学习！</strong></p><p id="2c5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，并附上您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>