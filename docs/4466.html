<html>
<head>
<title>How JavaScript Works: A Visual Guide🔥 🤖</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript如何工作:可视化指南🔥 🤖</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-javascript-works-a-visual-guide-515199eef837?source=collection_archive---------1-----------------------#2020-12-14">https://javascript.plainenglish.io/how-javascript-works-a-visual-guide-515199eef837?source=collection_archive---------1-----------------------#2020-12-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="7deb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JavaScript是世界上最受欢迎也最受讨厌的语言之一。它受到喜爱，因为它是强有力的。只学JavaScript，不学别的，就可以做一个全栈应用。人们讨厌它也是因为它以意想不到和令人不安的方式表现，如果你没有投入精力去理解这种语言，可能会让你讨厌它💔。</p><p id="7d7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个博客将解释JavaScript如何在浏览器中执行代码，我们将通过动画gif来学习😆。读完这篇博客后，你将离成为一名摇滚明星开发者更近一步。🎸😎</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/24b5b6525760933f7c538b60b786be9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*hY1w4guRzLnLTZ4l.gif"/></div></figure><h1 id="5a8c" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">执行上下文</h1><p id="7a40" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">" JavaScript中的一切都发生在执行上下文中."</p><p id="f7ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望每个人都记住这句话，因为它是至关重要的。您可以假设这个执行上下文是一个大容器，当浏览器想要运行一些JavaScript代码时调用。</p><p id="013d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在该容器中，有两种成分1。内存组件2。代码组件</p><p id="0c40" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">内存组件也称为可变环境。在这个内存组件中，变量和函数以键值对的形式存储。</p><p id="b168" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">代码组件是容器中一次执行一行代码的地方。这个代码组件还有一个有趣的名字，即“执行线程”。我觉得听起来很酷！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi lt"><img src="../Images/2a2b847233c3855d7e5e75660a3ff948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_wTo3kOvEDzAAyf3PtEbWw.png"/></div></div><figcaption class="ly lz gj gh gi ma mb bd b be z dk">Execution context</figcaption></figure><p id="6a2a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> JavaScript是一种同步、单线程语言。</strong>是因为它一次只能执行一个命令，而且是按照特定的顺序。</p><h1 id="d7fa" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">代码的执行</h1><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="a397" class="mh kr in md b gy mi mj l mk ml">var a = 2;<br/>var b = 4;<br/><br/>var sum = a + b;<br/><br/>console.log(sum);</span></pre><p id="2e70" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们举一个简单的例子，</p><p id="0d36" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个简单的例子中，我们初始化两个变量a和b，并分别存储2和4。</p><p id="5f35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后我们将<strong class="jm io"> a </strong>和<strong class="jm io"> b </strong>的值相加，并存储在<strong class="jm io"> sum </strong>变量中。</p><p id="a93d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看JavaScript如何在浏览器中执行代码🤖</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/44fdb05649aba923ccfaa507d4e3d2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*38dnhUuXwTtrjOuzEDDIaw.gif"/></div></div></figure><p id="74f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">浏览器创建具有两个组件的全局执行上下文，即内存和代码组件。</p><p id="c603" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">浏览器将分两个阶段执行JavaScript代码</p><p id="9e33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">1 &gt;存储器创建阶段</p><p id="4a78" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2 &gt;代码执行阶段</p><p id="879c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在内存创建阶段，JavaScript将扫描所有代码，并将内存分配给代码中的所有变量和函数。对于变量，JavaScript将在内存创建阶段存储undefined，对于函数，它将保留整个函数代码，我们将在下面的例子中看到这一点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/f4560dc4523137ac06b02b1d9186b415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4rORR__Y8jS2wc2USeX9aw.gif"/></div></div></figure><p id="277f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，在第二阶段，即代码执行阶段，它开始逐行检查整个代码。</p><p id="3287" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当它遇到<strong class="jm io">变量a = 2时，</strong>它在内存中将2赋给‘a’。直到现在，a的值还没有定义。</p><p id="b912" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">同样，它对b变量做同样的事情。它将4分配给b。然后，它计算并在内存中存储总和的值，即6。现在，在最后一步中，它在控制台中打印sum值，然后在代码完成时销毁全局执行上下文。</p><h1 id="dfb5" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">如何在执行上下文中调用函数？</h1><p id="90e1" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">与其他编程语言相比，JavaScript中的函数工作方式有所不同。</p><p id="904c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们举一个简单的例子，</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="bb84" class="mh kr in md b gy mi mj l mk ml">var n = 2;<br/><br/>function square(num) {<br/> var ans = num * num;<br/> return ans;<br/>}<br/><br/>var square2 = square(n);<br/>var square4 = square(4);</span></pre><p id="76fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的例子有一个函数，它接受number类型的参数，并返回该数字的平方。</p><p id="1ea7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JavaScript将创建一个全局执行上下文，并在我们运行代码的第一阶段为所有变量和函数分配内存，如下所示。</p><p id="bc7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于函数，它会将整个函数存储在内存中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/773437af659de5cefdaad0bb73a7ef21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sIB2LlqNLeqi-HP00DbRTA.gif"/></div></div></figure><p id="3154" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">激动人心的部分来了，当JavaScript运行函数时，它会在全局执行上下文中创建一个执行上下文。</p><p id="d38e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当遇到变量a = 2时，它在内存中将2赋给‘n’。第2行是一个函数，由于该函数在内存执行阶段已经被分配了内存，它将直接跳转到第6行。</p><p id="4ba1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">square2变量将调用square函数，javascript将创建一个新的执行上下文。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/afb00db11a342b7c17b1e1ee08536128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DheI5-CHpHZcaZYwk8k4PA.gif"/></div></div></figure><p id="d173" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">square函数的这个新的执行上下文将在内存创建阶段为函数中的所有变量分配内存。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/26cc0337f4ee462960b483429bea9914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Pof2acn9jKcdOIAkaBVo-Q.gif"/></div></div></figure><p id="64e9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将内存分配给函数内部的所有变量后，它将逐行执行代码。它将获得num的值，第一个变量的值等于2，然后它将计算ans。计算ans后，它将返回分配给square2的值。</p><p id="fe0b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦函数返回值，它将销毁其执行上下文，因为它已经完成了工作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/000946d1963e7d448de864533b778776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mhv9trdYKCLN8oaHSK6urg.gif"/></div></div></figure><p id="9912" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在它将对第7行或square4变量遵循类似的过程，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/7da3cbd48221b7baf6a049817726ab9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oDUInUlPnceTl6KCdBiWoQ.gif"/></div></div></figure><p id="8ea5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦所有代码被执行，全局执行上下文也将被破坏，这就是JavaScript如何在幕后执行代码。</p><h1 id="57be" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">调用栈</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mn"><img src="../Images/35deeaaf1696372b46a4e1770f189e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AiULdA0ZIgdD2Nz6hZ4T7Q.png"/></div></div></figure><p id="9bdf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当在JavaScript中调用一个函数时，JavaScript会创建一个执行上下文。当我们在函数中嵌套函数时，执行上下文会变得复杂。</p><p id="9d67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JavaScript在调用栈的帮助下管理代码执行上下文的创建和删除。</p><p id="fea0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">书库(有时称为“下推书库”)是物品的有序集合，其中新物品的添加和现有物品的移除总是发生在同一端，例如书库。</p><p id="baa4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">调用堆栈是一种跟踪它在调用多个函数的脚本中的位置的机制。</p><p id="3373" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们举一个例子</p><pre class="kj kk kl km gt mc md me mf aw mg bi"><span id="02fc" class="mh kr in md b gy mi mj l mk ml">function a() {<br/>    function insideA() {<br/>        return true;<br/>    }<br/>    insideA();<br/>}<br/>a();</span></pre><p id="05bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们正在创建一个函数“a”，它调用另一个返回true的函数“insideA”。我知道代码很蠢，什么都不做，但它将帮助我们理解JavaScript如何处理回调函数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi mm"><img src="../Images/e10a3f8b7eafde83e79b5b94a7254e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*p6MoQcuRJott2PWUlB8EdA.gif"/></div></div></figure><p id="472f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JavaScript将创建一个全局执行上下文。全局执行上下文将内存分配给函数‘a’并在代码执行阶段调用‘函数a’。</p><p id="d803" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为函数a创建一个执行上下文，它位于调用堆栈中的全局执行上下文之上。</p><p id="f1f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">函数a 将分配内存并调用函数T2。为ideA 中的<strong class="jm io">函数创建一个执行上下文，并放置在“函数a”的调用栈之上。</strong></p><p id="3b25" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，这个insideA函数将返回true，并将从调用堆栈中移除。</p><p id="4c24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因为“函数a”中没有代码，所以将从调用堆栈中移除执行上下文。</p><p id="95b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，全局执行上下文也被从调用堆栈中删除。</p><h1 id="826a" class="kq kr in bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">参考</h1><ul class=""><li id="3402" class="mo mp in jm b jn lo jr lp jv mq jz mr kd ms kh mt mu mv mw bi translated"><a class="ae mx" href="https://www.youtube.com/watch?v=pN6jk0uUrD8&amp;list=PLlasXeu85E9cQ32gLCvAvr9vNaUccPVNP&amp;ab_channel=AkshaySaini" rel="noopener ugc nofollow" target="_blank">YouTube上的Namaste JavaScript播放列表</a></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/f1f88d072f8a4c2cce1191599c6e9033.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*eWAWwuHoBETKEuvj"/></div></figure><p id="ad73" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望这篇文章是有益的。💪🏾如果你有任何问题，请随时联系我。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/4325d81c571dea8fd62248250976258c.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/0*rwLrbLigO8LneXLb"/></div></figure><p id="03b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">更多这样的见解，请查看我的博客网站<a class="ae mx" href="http://blog.webdrip.in/" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><p id="8ed0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nh">原载于2020年12月14日</em><a class="ae mx" href="https://dev.to/narottam04/how-javascript-works-visually-explained-269j" rel="noopener ugc nofollow" target="_blank"><em class="nh">https://dev . to</em></a><em class="nh">。</em></p><p id="72c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nh">更多内容请看</em><a class="ae mx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="nh">plain English . io</em></strong></a></p></div></div>    
</body>
</html>