<html>
<head>
<title>Interactive Periodic Table in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的交互式周期表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/interactive-periodic-table-in-javascript-d7cf7177883a?source=collection_archive---------4-----------------------#2020-08-16">https://javascript.plainenglish.io/interactive-periodic-table-in-javascript-d7cf7177883a?source=collection_archive---------4-----------------------#2020-08-16</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/86cf367976741bc721b8c8dd2aa9563d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BGm7Ufyrse_1IfDLBkG2AQ.jpeg"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Milky way: <a class="ae kd" href="https://pixabay.com/photos/milky-way-starry-sky-night-sky-star-2695569/" rel="noopener ugc nofollow" target="_blank">Pixabay</a> Atom: <a class="ae kd" href="https://pixabay.com/illustrations/lithium-atom-isolated-atomic-2784853/" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="96a5" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">每个学校化学实验室的墙上都贴着一个交互式网络版的周期表。</p><h2 id="10cc" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">元素周期表</h2><p id="ec66" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">周期表显示了每种元素或每种原子的各种信息。这些信息非常紧凑，通常难以阅读和理解，所以我决定开发一个基于web的交互式JavaScript版本，它比静态的纸质版本更容易使用和理解。</p><p id="5b7b" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我不想花太多时间来解释元素周期表背后的原理——在研究这个项目时，我发现了几本关于这个主题的大书，所以我将只做一个简要的概述，包括我所包含的数据的细节。</p><p id="a2e4" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果你观察上面横幅中的原子，你会注意到它的中心有三个红色的球体。用正确的术语来说，它的原子核中有三个质子，这意味着它是一个锂原子。它也有四个蓝色的球或中子，但电子数量相同，灰色的球绕着原子核转。对于特定元素的任何给定原子，中子和电子的数量可以变化，但质子的数量决定了它属于特定元素。只有使用大量能量才能改变质子的数量:核裂变或“分裂原子”产生两个或更多不同元素的较小原子，聚变或结合原子核将两个或更多原子结合成一种不同元素。</p><p id="2453" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">元素周期表用彩色方块显示每种元素，其中包括原子序数或原子核中的质子数。</p><p id="4687" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这些是我版本的周期表中显示的每个元素的属性。</p><ul class=""><li id="77d7" class="ma mb ir kg b kh ki kl km kp mc kt md kx me lb mf mg mh mi bi translated"><strong class="kg is">名称</strong> —元素的全名。有些像金子一样为人熟知，而有些像奥格尼森一样不为人知，但由于只有五六个奥格尼森原子被发现过，它很难说是一个家喻户晓的名字。</li><li id="5a56" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">原子序数</strong> —正如我上面提到的，这是原子核中质子的数量，例如锂的原子序数为3，如标题图形中的红色球体所示。</li><li id="7ef8" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">符号</strong> —一个简短的一两个字母的符号。有些来源于Co这个名字，如Co代表钴，有些来源于另一种语言，如Pb代表铅，来源于拉丁语中的铅。</li><li id="aa11" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">原子量——一个复杂的概念可以构成一本书的一章，甚至是一整本书！简而言之，它是一个元素样品相对于一个碳-12(中子数与质子数相同的碳原子)样品的质量。这被加权以允许一种元素的不同原子具有不同数量的中子。甚至碳本身也没有12的原子量；其实是12.011。这是因为更重的碳同位素也存在，你可能听说过碳-14在考古学中用于确定有机物的年代。</li><li id="b84d" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">类别</strong> —元素分为金属、非金属和非金属。这些元素被分为九个子类(加上未知元素)，在元素周期表中以不同的颜色显示。</li><li id="f808" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">族</strong>——有18个族，在周期表中用数字列表示，尽管有几个也有名字。每一族的元素都有相似的化学性质。</li><li id="82d9" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">周期</strong>——通常由7行表示，尽管在传统的表格中，大量的元素被从它们适当的位置推到底部额外的两行。围绕原子核旋转的电子是在“壳”或层中运动的；特定时期的所有元素都有相同数量的壳层。</li><li id="3989" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">区块</strong> —在一段从维基百科<em class="mo">借来的文字中“元素周期表的特定区域可以被称为区块，以识别元素电子层填充的顺序。每个块都是根据“最后”电子名义上所在的子壳层来命名的。</em>与类别一样，块用颜色显示，因此不可能同时显示两者。我的实现默认显示类别颜色，但可以选择显示块颜色。</li><li id="cb1b" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">物质状态</strong> —在0 &lt;摄氏度和1个大气压下</li><li id="fffe" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">产状</strong>——原始，来自衰变或合成</li><li id="2c99" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated"><strong class="kg is">标准原子量</strong>——除了已经列出的平均值</li></ul><p id="b7b0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">暂时说够了:让我们看看这个项目的UI。</p><figure class="mq mr ms mt gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj mp"><img src="../Images/bb1b3f9bc788397f1dd194fd263a1199.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*azAmqk_3EjnqKM8lkVxsow.png"/></div></div></figure><p id="6c90" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">“中间的大块”当然是元素周期表本身。左边是过滤控件，右边是颜色编码的单选按钮和按键:这些使它具有交互性。</p><p id="cf85" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在让我们仔细看看其中的一些元素。</p><figure class="mq mr ms mt gu js gi gj paragraph-image"><div class="gi gj mu"><img src="../Images/7a26cec12f6506984673f21e8bc5446d.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*vLUHO0SgtCeEUAZtUgVI-w.png"/></div></figure><p id="e680" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">以左上角的氢气为例，我们看到以下内容:</p><ul class=""><li id="08fb" class="ma mb ir kg b kh ki kl km kp mc kt md kx me lb mf mg mh mi bi translated">氢这个名字</li><li id="de7c" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">原子序数1</li><li id="eb79" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">化学符号H</li><li id="f3d8" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">原子量1.008</li><li id="55b5" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">第1组(栏)碱金属</li><li id="b253" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">期间(行)1</li><li id="4390" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">类别:活性非金属(用颜色表示)</li><li id="d7b0" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">如果我们选择显示方块颜色，我们会看到氢在s-方块中</li></ul><p id="6ed7" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果你把鼠标放在其中一个元素上，你会看到它的全部数据。</p><figure class="mq mr ms mt gu js gi gj paragraph-image"><div class="gi gj mv"><img src="../Images/b97643322219a35c12a0db7709b03b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*_EkAWzrPa16L83edQIpAhQ.png"/></div></figure><p id="1cd8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">那些浏览器生成的弹出窗口不是很吸引人，所以我也提供了一个更大的对话框来显示相同的数据。如果您单击某个元素，就会出现这种情况。</p><figure class="mq mr ms mt gu js gi gj paragraph-image"><div class="gi gj mw"><img src="../Images/17dd9a111f4d2fb3d5e448688aba9933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*g-3fz_-NvYNZxnXQMOJMcA.png"/></div></figure><h2 id="4c05" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">该项目</h2><p id="53e3" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">该项目由以下文件加上一个HTML页面、一个CSS文件和一个图形组成，所有这些都可以克隆/下载<a class="ae kd" href="https://github.com/CodeDrome/interactive-periodic-table-javascript" rel="noopener ugc nofollow" target="_blank"> Github库</a>。</p><ul class=""><li id="7439" class="ma mb ir kg b kh ki kl km kp mc kt md kx me lb mf mg mh mi bi translated">数据网站</li><li id="8e2d" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">periodictable.js</li><li id="4a52" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">periodictabledisplay.js</li><li id="2ada" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">periodictablepage.js</li><li id="7644" class="ma mb ir kg b kh mj kl mk kp ml kt mm kx mn lb mf mg mh mi bi translated">periodictableinfobox.js</li></ul><p id="ca08" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">数据被硬编码到一个单独文件中的对象数组中。出于实际目的，这些数据可以被认为是静态的，但是如果有人设法用足够的能量将一些原子撞在一起，使118个以上的质子粘在一起(如果只是一秒钟的一小部分)，我将需要编辑这个文件。</p><h2 id="1f52" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">HTML元素和原子元素</h2><p id="a3cb" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">不可避免地，我将不得不在整篇文章中大量使用<strong class="kg is">元素</strong>这个词。希望从上下文中可以明显看出我指的是哪种类型的元素！</p></div><div class="ab cl mx my hv mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ik il im in io"><p id="0e93" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是第一个(原子！)元素，氢，在<strong class="kg is"> data.js </strong>中。</p><figure class="mq mr ms mt gu js"><div class="bz fq l di"><div class="ne nf l"/></div></figure><p id="43ef" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是<strong class="kg is"> periodictable.js </strong>中<code class="fe ng nh ni nj b">PeriodicTable</code>类的源代码。</p><figure class="mq mr ms mt gu js"><div class="bz fq l di"><div class="ne nf l"/></div></figure><p id="e658" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe ng nh ni nj b">PeriodicTable</code>类代表元素周期表中的底层数据，独立于<strong class="kg is"> data.js </strong>中的数据本身，以及由<code class="fe ng nh ni nj b">PeriodicTableDisplay</code>类处理的可视化表示，我们稍后将会看到。</p><p id="9697" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们再来详细看看<code class="fe ng nh ni nj b">PeriodicTable</code>类。</p><h2 id="ed8a" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">性能</h2><p id="9ddd" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated"><code class="fe ng nh ni nj b">rowcount</code>和<code class="fe ng nh ni nj b">columncount</code>属性指的是表示周期表的HTML表格中的行数和列数，而不是周期数或组数。数据被设置为<strong class="kg is"> data.js </strong>中的数组，当表的过滤被改变时，我们也有一个函数数组被调用。</p><h2 id="c0f0" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">AddFilterChangedEventHandler</h2><p id="79bf" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">此方法将提供的函数添加到事件处理程序数组中。任何显示周期表的UI都可以添加事件处理程序，这样它就知道何时更新显示。</p><h2 id="33b3" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">应用过滤器</h2><p id="b8e4" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">对数据应用一个以上的过滤标准，特别是当一些可能设置或可能不设置时，总是有点复杂，我在这里提出的解决方案是为每个元素创建一个布尔值数组。这些是使用我稍后将描述的<code class="fe ng nh ni nj b">_Match</code>函数设置的，只有当数组中的所有项都为真时，元素的show属性才被设置为真。如果元素的visible属性已更改，它将被添加到一个数组中，该数组构成了filter changed事件处理程序的参数。这确保了UI只需要显示/隐藏实际上已经改变的元素。</p><h2 id="c409" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">透明过滤器</h2><p id="c256" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">此方法迭代所有元素，将不可见的元素更改为可见的，并将它们添加到一个数组中，以传递给filter changed事件处理程序。</p><h2 id="2b73" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">_FireFilterChangedEvent</h2><p id="ca1b" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这里我们用改变后的数组调用<code class="fe ng nh ni nj b">_FilterChangedEventHandlers</code>中的所有函数。(目前只有一个函数，但随着这个项目的扩展，我们可能需要更多，因此使用了数组。)</p><h2 id="5132" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">_匹配</h2><p id="1197" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">该函数根据值参数(即数据项)是否与标准参数匹配返回一个布尔值。第三个参数wildcard指定是查找精确匹配还是数据只需要包含筛选条件。目前只有元素名称和化学符号使用通配符匹配。</p></div><div class="ab cl mx my hv mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ik il im in io"><p id="d752" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在我们来看看<strong class="kg is">periodictabledisplay . js</strong>中的<code class="fe ng nh ni nj b">PeriodicTableDisplay</code>类。</p><figure class="mq mr ms mt gu js"><div class="bz fq l di"><div class="ne nf l"/></div></figure><h2 id="a70e" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">构造器</h2><p id="cabd" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">首先，我们将<code class="fe ng nh ni nj b">periodictable</code>和<code class="fe ng nh ni nj b">tableid</code>参数保存为属性。这些元素告诉学生它所显示的元素周期表和显示它的HTML表。我们还需要添加一个函数到周期表的filter changed事件数组中，我们很快就会看到实际的函数。</p><p id="748a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">接下来是几个对象，它们提供了数据值和它们对应的CSS类之间的映射。这些用来对单个元素进行颜色编码。</p><p id="e992" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">之后，我们调用四个函数，它们一起创建并填充HTML表。</p><p id="f616" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">最后，我们向HTML表添加一个click事件处理程序。这将检查事件是否从其中一个元素冒泡，如果是，它将显示相关元素的<code class="fe ng nh ni nj b">PeriodicTableInfoBox</code>。(<em class="mo">这种向父元素添加单个事件处理程序来捕获来自许多子元素的事件的技术，我将在以后的文章中探讨。</em>)</p><h2 id="fbbb" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">_onFilterChanged</h2><p id="6e03" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这用作元素周期表被过滤时的事件处理程序。它的参数是一个元素数组，这些元素的visible属性已经改变，所以我们只需要迭代它并切换相关的CSS类。</p><p id="51e9" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我对单元格使用了一个变量(实际上是<code class="fe ng nh ni nj b">&lt;td&gt;</code>元素),只是为了避免很长的代码行。</p><p id="8fe1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">不可见元素的类叫做<code class="fe ng nh ni nj b">elementcellfaded</code>，不透明度为0.1，这意味着它们仍然是可见的，我认为这比完全隐藏它们要好。</p><h2 id="6f2c" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">_创建单元格</h2><p id="b721" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated"><strong class="kg is">periodictable.htm</strong>文件包含一个空的HTML表格，该函数创建并向其中添加<code class="fe ng nh ni nj b">&lt;tr&gt;</code>和<code class="fe ng nh ni nj b">&lt;td&gt;</code>元素。注意，每个<code class="fe ng nh ni nj b">&lt;td&gt;</code>都有数据属性来标识它的行和列。</p><p id="db40" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这些当然可以硬编码到HTML中，但是让它们动态生成会使增强和添加更容易实现。</p><h2 id="1a0d" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">_createColumnHeadings和_createRowHeadings</h2><p id="c705" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这里我们简单地设置行和列标题文本，并应用相关的CSS类。</p><h2 id="b9d7" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">_填充</h2><p id="5508" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这个函数迭代所有元素，并用这段代码为每个元素选取<code class="fe ng nh ni nj b">&lt;td&gt;</code>:</p><p id="afb8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe ng nh ni nj b">document.querySelector(`[data-row=’${element.row}’][data-column=’${element.column}’]`)</code></p><p id="4028" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是一个相当晦涩但对数据属性有用的语法。</p><p id="c5c7" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后，在应用<code class="fe ng nh ni nj b">elementcell</code>类之前，我们将<code class="fe ng nh ni nj b">innerHTML</code>设置为所需的值。</p><p id="13ec" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在循环之后，我们调用<code class="fe ng nh ni nj b">ColorByCategory</code>来设置颜色。</p><h2 id="dec6" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">颜色分类</h2><p id="07ef" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">该函数迭代所有元素，选取相应的单元格，删除所有块类，并应用相关的类别类。</p><h2 id="d277" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">ColorByBlock</h2><p id="09e3" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这里我们镜像前面的函数，但是删除所有类别类并添加正确的块类。</p></div><div class="ab cl mx my hv mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ik il im in io"><p id="6b1b" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> periodictablepage.js </strong>文件将所有之前的代码与HTML页面绑定在一起。</p><figure class="mq mr ms mt gu js"><div class="bz fq l di"><div class="ne nf l"/></div></figure><h2 id="bf9a" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">windows . onload</h2><p id="2d35" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">首先，在创建一个<code class="fe ng nh ni nj b">PeriodicTable</code>和一个<code class="fe ng nh ni nj b">PeriodicTableDisplay</code>对象之前，我们调用一个函数来设置一些<code class="fe ng nh ni nj b">onclick</code>事件处理程序。最后，我创建了一个包含过滤器输入的对象。这并不是绝对必要的，但是可以避免重复<code class="fe ng nh ni nj b">document.getElementById</code>调用。</p><h2 id="4a7d" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">SetEventHandlers</h2><p id="8d08" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这里我们只是设置了几个<code class="fe ng nh ni nj b">onclick</code>处理程序。</p><h2 id="f839" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">ColorByBlock</h2><p id="71e9" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">该函数在调用<code class="fe ng nh ni nj b">PeriodicTableDisplay</code>的<code class="fe ng nh ni nj b">ColorByBlock</code>方法之前，分别隐藏和显示类别和块颜色键。</p><h2 id="11f3" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">颜色分类</h2><p id="403d" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">除了类别之外，这相当于前面的函数。</p><h2 id="09d0" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">应用过滤器</h2><p id="6b3c" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">该函数创建一个包含用户设置的各种过滤标准的对象，然后传递给<code class="fe ng nh ni nj b">ApplyFilter</code> methd。</p><h2 id="b8fd" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">透明过滤器</h2><p id="8429" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">这里我们将所有的过滤器输入设置为空字符串，并调用<code class="fe ng nh ni nj b">ClearFilter</code>。</p></div><div class="ab cl mx my hv mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ik il im in io"><p id="5c31" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">最后，我们有一个名为<code class="fe ng nh ni nj b">PeriodicTableInfoBox</code>的短类，它位于<strong class="kg is">periodictableinfobox . js</strong>中。</p><figure class="mq mr ms mt gu js"><div class="bz fq l di"><div class="ne nf l"/></div></figure><p id="dc13" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">信息框实际上永久存在于HTML文档中，因此这些元素的id被传递给构造函数，以便我们可以操作它们。</p><p id="bab9" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">同样在<code class="fe ng nh ni nj b">constructor</code>中，我们设置了事件处理程序，这样用户可以使用按钮或<strong class="kg is"> Esc </strong>键隐藏盒子。</p><p id="e4ee" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe ng nh ni nj b">Hide</code>和<code class="fe ng nh ni nj b">Show</code>方法做了您所期望的事情，<code class="fe ng nh ni nj b">Show</code>按钮也用指定元素的数据填充框。</p><h2 id="ab0e" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">已完成的项目</h2><p id="a87b" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">编码完成后，在浏览器中打开<strong class="kg is">periodictable.html</strong>。您应该会看到上面截图中的页面。</p><p id="22da" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以使用过滤器和单选按钮；下面显示的是名称过滤器设置为“s”的表格，因此我们只能看到名称中带有字母“s”的元素，其他元素显示为不透明度为0.1。</p><figure class="mq mr ms mt gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj mp"><img src="../Images/fd08c5e43394f48c3c053ef3645f90c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aAJ5G4HWD-R4II_eKCSFmg.png"/></div></div></figure><p id="74a6" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这个项目有很大的改进潜力，所以如果你能以任何方式改进它，请随意使用Github库。</p></div></div>    
</body>
</html>