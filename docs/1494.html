<html>
<head>
<title>Data Validation With Mongoose in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Node.js中使用Mongoose进行数据验证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/store-clean-data-by-validating-models-with-mongoose-f6453dbdbff9?source=collection_archive---------1-----------------------#2020-03-24">https://javascript.plainenglish.io/store-clean-data-by-validating-models-with-mongoose-f6453dbdbff9?source=collection_archive---------1-----------------------#2020-03-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ebd5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在用mongoose库将数据保存到MongoDB之前验证数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8aca76816069fc5518aff7f250aa3124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1q_yOZPqKTH30UPV"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@fabioha?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">fabio</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="786a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">1.介绍</h1><p id="938d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你好，我的开发者朋友们！！！！</p><p id="6c72" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">创建函数和过程将数据保存到数据库中是软件开发人员的日常任务，但是我们如何确定实际存储的数据具有我们想要的形式呢？？？</p><blockquote class="mp"><p id="bd25" class="mq mr iq bd ms mt mu mv mw mx my mj dk translated">保存干净和正确格式化的数据提高了整体数据质量，并且我们的应用程序更加安全。</p></blockquote><p id="8365" class="pw-post-body-paragraph lo lp iq lq b lr mz jr lt lu na ju lw lx nb lz ma mb nc md me mf nd mh mi mj ij bi translated">在这个故事中，我们将学习如何在用mongoose库将数据存储到MongoDB之前对其进行验证。</p><p id="47fc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Mongoose是MongoDB和node.js的一个很棒的对象建模工具，它受到数百万开发者的信任，在npm有近80万次弱下载，在GitHub有20.4k星。</p><h1 id="0492" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">2.关于Mongoose中的验证</h1><p id="c8f9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Mongoose在模式(模型)上添加验证规则，有两种类型的规则:</p><ol class=""><li id="89d9" class="ne nf iq lq b lr mk lu ml lx ng mb nh mf ni mj nj nk nl nm bi translated">内置规则</li><li id="6a4f" class="ne nf iq lq b lr nn lu no lx np mb nq mf nr mj nj nk nl nm bi translated">自定义规则</li></ol><p id="dafc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">验证是一个中间件，Mongoose在将模型保存到数据库之前运行验证。</p><h1 id="5c9d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">3.内置验证规则</h1><p id="d92d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">mongose给了我们一套有用的内置验证规则，比如:</p><ol class=""><li id="2324" class="ne nf iq lq b lr mk lu ml lx ng mb nh mf ni mj nj nk nl nm bi translated">验证器检查属性是否不为空。</li><li id="e9b6" class="ne nf iq lq b lr nn lu no lx np mb nq mf nr mj nj nk nl nm bi translated"><a class="ae kv" href="https://mongoosejs.com/docs/api.html#schema-number-js" rel="noopener ugc nofollow" target="_blank">数字</a>有<code class="fe ns nt nu nv b">min</code>和<code class="fe ns nt nu nv b">max</code>验证器。</li><li id="084b" class="ne nf iq lq b lr nn lu no lx np mb nq mf nr mj nj nk nl nm bi translated"><a class="ae kv" href="https://mongoosejs.com/docs/api.html#schema-string-js" rel="noopener ugc nofollow" target="_blank">字符串</a>有<code class="fe ns nt nu nv b">enum</code>、<code class="fe ns nt nu nv b">match</code>、<code class="fe ns nt nu nv b">minlength</code>和<code class="fe ns nt nu nv b">maxlength</code>验证器。</li></ol><p id="979c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们创建一个新的node.js项目</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="61b6" class="oa kx iq nv b gy ob oc l od oe">mkdir validateModelMongoose<br/>npm init -y<br/>npm i mongoose</span></pre><p id="fe1a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为我们的模型创建一个名为<strong class="lq ir"> product.js </strong>的新文件</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="d131" class="oa kx iq nv b gy ob oc l od oe">const mongoose = require("mongoose");</span><span id="fc37" class="oa kx iq nv b gy of oc l od oe">// create product schema</span><span id="542c" class="oa kx iq nv b gy of oc l od oe">let product = mongoose.Schema({</span><span id="0635" class="oa kx iq nv b gy of oc l od oe">name: {</span><span id="5a18" class="oa kx iq nv b gy of oc l od oe">type: String,</span><span id="ea2f" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Product name required']</span><span id="c106" class="oa kx iq nv b gy of oc l od oe">},</span><span id="fc5e" class="oa kx iq nv b gy of oc l od oe">category: {</span><span id="9e7d" class="oa kx iq nv b gy of oc l od oe">type: String,</span><span id="c11f" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Category required'],</span><span id="16f8" class="oa kx iq nv b gy of oc l od oe">enum: ['Keyboard', 'Computer']</span><span id="b952" class="oa kx iq nv b gy of oc l od oe">},</span><span id="842d" class="oa kx iq nv b gy of oc l od oe">code: {</span><span id="023e" class="oa kx iq nv b gy of oc l od oe">type: String,</span><span id="1601" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Code required'],</span><span id="7ad4" class="oa kx iq nv b gy of oc l od oe">minlength:[5,'Minimun code length 5 characters']</span><span id="de50" class="oa kx iq nv b gy of oc l od oe">},</span><span id="194d" class="oa kx iq nv b gy of oc l od oe">quantity: {</span><span id="c9a2" class="oa kx iq nv b gy of oc l od oe">type: Number,</span><span id="1bd4" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Quantity required'],</span><span id="939c" class="oa kx iq nv b gy of oc l od oe">min: [0, 'Minimun quantity is zero']</span><span id="af1e" class="oa kx iq nv b gy of oc l od oe">}</span><span id="2e8c" class="oa kx iq nv b gy of oc l od oe">});</span><span id="a013" class="oa kx iq nv b gy of oc l od oe">module.exports = mongoose.model("product", product);</span></pre><p id="e414" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在上面的代码中，我们创建了一个带有一些内置验证器的产品模型。</p><p id="52b4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们解释一下内置验证器是怎么回事</p><p id="b68e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">必需的验证器</strong>接受一个包含两个元素的数组，首先是一个布尔变量，如果验证失败，返回一条消息。</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="8e88" class="oa kx iq nv b gy ob oc l od oe">required: [true, 'Product name required']</span></pre><p id="19ac" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">枚举验证器</strong>获取一个包含项目的数组，以检查该属性是否等于给定的数组项目之一。</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="8f67" class="oa kx iq nv b gy ob oc l od oe">enum: ['Keyboard', 'Computer']</span></pre><p id="d922" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">最小验证器</strong>接受一个包含两个元素的数组，第一个是一个设置最小值的数字，第二个是一条如果验证失败则返回验证结果的消息。</p><p id="b86a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> Max、</strong> <strong class="lq ir"> minlength </strong>和<strong class="lq ir"> maxlegth </strong>的工作原理与最小值验证器相同。</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="9740" class="oa kx iq nv b gy ob oc l od oe">min: [0, 'Minimun quantity is zero']</span></pre><p id="25c4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">创建一个index.js文件并粘贴以下代码</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="2823" class="oa kx iq nv b gy ob oc l od oe">'use strict'</span><span id="8497" class="oa kx iq nv b gy of oc l od oe">var mongoose = require("mongoose");</span><span id="bd21" class="oa kx iq nv b gy of oc l od oe">let PRODUCT = require("./product");</span><span id="4e4f" class="oa kx iq nv b gy of oc l od oe">let db = mongoose.connection;</span><span id="b82c" class="oa kx iq nv b gy of oc l od oe">//connect with local mongodb</span><span id="01d4" class="oa kx iq nv b gy of oc l od oe">mongoose.connect("mongodb://localhost:27017/products", {</span><span id="6d2a" class="oa kx iq nv b gy of oc l od oe">useNewUrlParser: true,</span><span id="fbc8" class="oa kx iq nv b gy of oc l od oe">useUnifiedTopology: true</span><span id="bb6a" class="oa kx iq nv b gy of oc l od oe">});<br/>//create a new product</span><span id="13da" class="oa kx iq nv b gy of oc l od oe">var product = new PRODUCT();</span><span id="24c7" class="oa kx iq nv b gy of oc l od oe">product.name = '';</span><span id="8d9d" class="oa kx iq nv b gy of oc l od oe">product.category = 'Computers';</span><span id="3c3f" class="oa kx iq nv b gy of oc l od oe">product.code = '123';</span><span id="f880" class="oa kx iq nv b gy of oc l od oe">product.quantity = '-5';</span><span id="5ff9" class="oa kx iq nv b gy of oc l od oe">//Save Product to Database</span><span id="cba4" class="oa kx iq nv b gy of oc l od oe">product.save(function (error,document) {</span><span id="2fd0" class="oa kx iq nv b gy of oc l od oe">//check for errors</span><span id="be9e" class="oa kx iq nv b gy of oc l od oe">let errors = getErrors(error);</span><span id="c0fb" class="oa kx iq nv b gy of oc l od oe">//Send Errors to browser</span><span id="8445" class="oa kx iq nv b gy of oc l od oe">console.log(errors);</span><span id="f7e6" class="oa kx iq nv b gy of oc l od oe">});</span><span id="c22d" class="oa kx iq nv b gy of oc l od oe">function getErrors(error) {</span><span id="6b4f" class="oa kx iq nv b gy of oc l od oe">let errorArray = [];</span><span id="1eb5" class="oa kx iq nv b gy of oc l od oe">if (error) {</span><span id="35f7" class="oa kx iq nv b gy of oc l od oe">if (error.errors['category']) {</span><span id="22ab" class="oa kx iq nv b gy of oc l od oe">console.log(error.errors['category'].message)</span><span id="c6e2" class="oa kx iq nv b gy of oc l od oe">errorArray.push('category');</span><span id="f47d" class="oa kx iq nv b gy of oc l od oe">}</span><span id="8f75" class="oa kx iq nv b gy of oc l od oe">if (error.errors['name']) {</span><span id="80da" class="oa kx iq nv b gy of oc l od oe">console.log(error.errors['name'].message)</span><span id="937a" class="oa kx iq nv b gy of oc l od oe">errorArray.push('name');</span><span id="a7c1" class="oa kx iq nv b gy of oc l od oe">}</span><span id="dead" class="oa kx iq nv b gy of oc l od oe">if (error.errors['code']) {</span><span id="5a43" class="oa kx iq nv b gy of oc l od oe">console.log(error.errors['code'].message)</span><span id="be3f" class="oa kx iq nv b gy of oc l od oe">errorArray.push('code');</span><span id="27d3" class="oa kx iq nv b gy of oc l od oe">}</span><span id="f851" class="oa kx iq nv b gy of oc l od oe">if (error.errors['quantity']) {</span><span id="51bd" class="oa kx iq nv b gy of oc l od oe">console.log(error.errors['quantity'].message)</span><span id="726d" class="oa kx iq nv b gy of oc l od oe">errorArray.push('quantity');</span><span id="b1bf" class="oa kx iq nv b gy of oc l od oe">}</span><span id="109c" class="oa kx iq nv b gy of oc l od oe">} else {</span><span id="0745" class="oa kx iq nv b gy of oc l od oe">console.log('No Errors Product Saved Succefully')</span><span id="4d64" class="oa kx iq nv b gy of oc l od oe">}</span><span id="25d6" class="oa kx iq nv b gy of oc l od oe">return errorArray;</span><span id="573c" class="oa kx iq nv b gy of oc l od oe">};</span></pre><p id="5c9c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">运行代码并检查错误</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="3210" class="oa kx iq nv b gy ob oc l od oe">node index.js</span></pre><p id="83e3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">示例输出</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="c49d" class="oa kx iq nv b gy ob oc l od oe">`Computers` is not a valid enum value for path `category`.<br/>Product name required<br/>Minimun code length 5 characters<br/>Minimun quantity is zero<br/>[ 'category', 'name', 'code', 'quantity' ]</span></pre><p id="1692" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">上面的代码向我们展示了mongoose在将验证中间件保存到数据库之前调用了它，并向我们抛出了已经验证的错误。</p><h1 id="be1e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">4.自定义同步验证器</h1><p id="43f8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在这一节中，我们将学习如何创建我们的定制同步验证器。同步操作阻塞了事件队列，这就是为什么我们必须明智地使用它。</p><p id="451c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">产品代码通常有一种格式，如XXXX-XXXX-XXXX，为了检查产品代码是否有正确的格式，我们将创建一个带有<strong class="lq ir"> regex </strong>的自定义验证器来检查格式。</p><p id="227c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">转到您的模型，用以下代码更改您的<strong class="lq ir">代码</strong>属性</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="7fd7" class="oa kx iq nv b gy ob oc l od oe">code: {</span><span id="d4e4" class="oa kx iq nv b gy of oc l od oe">type: String,</span><span id="fe79" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Code required'],</span><span id="daa4" class="oa kx iq nv b gy of oc l od oe">//sync validation</span><span id="7fa4" class="oa kx iq nv b gy of oc l od oe">validate: {</span><span id="6512" class="oa kx iq nv b gy of oc l od oe">validator: function (v) {</span><span id="050b" class="oa kx iq nv b gy of oc l od oe">//regex product code must have XXXX-XXXX-XXXX format</span><span id="33d2" class="oa kx iq nv b gy of oc l od oe">//return true to pass the validation</span><span id="3f8a" class="oa kx iq nv b gy of oc l od oe">//return false to fail the validation</span><span id="9e98" class="oa kx iq nv b gy of oc l od oe">return (/\d{4}-\d{4}-\d{4}/.test(v));</span><span id="a6b3" class="oa kx iq nv b gy of oc l od oe">},<br/>//message to return if validation fails</span><span id="1acd" class="oa kx iq nv b gy of oc l od oe">message: props =&gt; `${props.value} is not a valid code format!`</span><span id="6797" class="oa kx iq nv b gy of oc l od oe">},</span><span id="f47e" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Code required']</span><span id="3033" class="oa kx iq nv b gy of oc l od oe">}</span></pre><p id="ac29" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">自定义验证器位于<strong class="lq ir"> code.validate </strong>处，首先接受两个属性:一个<strong class="lq ir">验证器</strong> <strong class="lq ir">函数</strong>，返回true(验证成功)或false(验证失败)，一个<strong class="lq ir">消息</strong>，如果验证失败，则返回。</p><p id="3b1b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">运行您的应用</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="4684" class="oa kx iq nv b gy ob oc l od oe">node index<br/>// example output<br/>123456 is not a valid code format!</span></pre><h1 id="8244" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">5.自定义异步验证器</h1><p id="1a20" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最后，我们将看到如何实现异步定制验证器。我们将把<strong class="lq ir">同步</strong>自定义验证改为<strong class="lq ir">异步。</strong></p><p id="0c42" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">要添加异步验证规则，我们必须在<strong class="lq ir">code . validate . validator</strong>实现一个函数，该函数将返回一个<strong class="lq ir">承诺</strong>和<strong class="lq ir">解析</strong>真(验证成功)或假(验证失败)</p><p id="74dd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">转到您的模型，用以下代码更改您的<strong class="lq ir">代码</strong>属性</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="e8cc" class="oa kx iq nv b gy ob oc l od oe">code: {</span><span id="acd9" class="oa kx iq nv b gy of oc l od oe">type: String,</span><span id="1486" class="oa kx iq nv b gy of oc l od oe">required: [true, 'Code required'],</span><span id="579a" class="oa kx iq nv b gy of oc l od oe">//async validation</span><span id="7671" class="oa kx iq nv b gy of oc l od oe">validate: {</span><span id="3c0d" class="oa kx iq nv b gy of oc l od oe">validator: function (v) {</span><span id="a8dc" class="oa kx iq nv b gy of oc l od oe">return new Promise(function (resolve, reject) {</span><span id="973b" class="oa kx iq nv b gy of oc l od oe">//regex product code must have XXXX-XXXX-XXXX format</span><span id="a536" class="oa kx iq nv b gy of oc l od oe">//resolve(true) pass valitation</span><span id="1d73" class="oa kx iq nv b gy of oc l od oe">//resolve(false) fail valitation</span><span id="33ec" class="oa kx iq nv b gy of oc l od oe">resolve(/\d{4}-\d{4}-\d{4}/.test(v));</span><span id="6d4d" class="oa kx iq nv b gy of oc l od oe">});</span><span id="3c51" class="oa kx iq nv b gy of oc l od oe">},</span><span id="56fd" class="oa kx iq nv b gy of oc l od oe">message: props =&gt; `${props.value} is not a valid code format!`</span><span id="7b8d" class="oa kx iq nv b gy of oc l od oe">}</span><span id="b8c5" class="oa kx iq nv b gy of oc l od oe">}</span></pre><p id="0593" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">上面的代码显示了如何创建一个异步定制验证器。</p><p id="57a2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">运行您的应用</p><pre class="kg kh ki kj gt nw nv nx ny aw nz bi"><span id="f28a" class="oa kx iq nv b gy ob oc l od oe">node index.js<br/>//example output<br/>123 is not a valid code format!<br/>[ 'code' ]</span></pre><h1 id="145e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">6.结论</h1><p id="f5e8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Mongoose为我们提供了在保存到MongoDB之前验证模型的简单、干净和快速的方法，因此值得使用这些功能。</p><h1 id="c26e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">参考</h1><ul class=""><li id="1db9" class="ne nf iq lq b lr ls lu lv lx og mb oh mf oi mj oj nk nl nm bi translated"><a class="ae kv" href="https://mongoosejs.com" rel="noopener ugc nofollow" target="_blank">猫鼬</a></li><li id="d764" class="ne nf iq lq b lr nn lu no lx np mb nq mf nr mj oj nk nl nm bi translated"><a class="ae kv" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> node.js </a></li></ul></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure></div><div class="ab cl ok ol hu om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ij ik il im in"><h1 id="1ab8" class="kw kx iq bd ky kz ot lb lc ld ou lf lg jw ov jx li jz ow ka lk kc ox kd lm ln bi translated">感谢你阅读我的故事</h1><p id="96ac" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如有任何想法或变化，请随时给我发邮件或评论。</p><div class="oy oz gp gr pa pb"><a href="https://medium.com/javascript-in-plain-english/node-js-bcrypt-vs-bcryptjs-benchmark-69a9e8254cc2" rel="noopener follow" target="_blank"><div class="pc ab fo"><div class="pd ab pe cl cj pf"><h2 class="bd ir gy z fp pg fr fs ph fu fw ip bi translated">Node.js Bcrypt vs BcryptJS基准测试</h2><div class="pi l"><h3 class="bd b gy z fp pg fr fs ph fu fw dk translated">Bcrypt是最流行、最安全的单向密码散列函数之一。</h3></div><div class="pj l"><p class="bd b dl z fp pg fr fs ph fu fw dk translated">medium.com</p></div></div><div class="pk l"><div class="pl l pm pn po pk pp kp pb"/></div></div></a></div><div class="oy oz gp gr pa pb"><a href="https://medium.com/swlh/master-ejs-template-engine-with-node-js-and-expressjs-979cc22b69be" rel="noopener follow" target="_blank"><div class="pc ab fo"><div class="pd ab pe cl cj pf"><h2 class="bd ir gy z fp pg fr fs ph fu fw ip bi translated">具有Node.js和Expressjs的主EJS模板引擎</h2><div class="pi l"><h3 class="bd b gy z fp pg fr fs ph fu fw dk translated">EJS是node.js和expressjs最受欢迎的模板视图引擎之一，在github上有4.2k星级，超过550万…</h3></div><div class="pj l"><p class="bd b dl z fp pg fr fs ph fu fw dk translated">medium.com</p></div></div><div class="pk l"><div class="pq l pm pn po pk pp kp pb"/></div></div></a></div></div></div>    
</body>
</html>