<html>
<head>
<title>Top React Hooks — Speech, Throttling, and Scrolling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最重要的反应——语音、节流和滚动</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-speech-throttling-and-scrolling-4cc31bb540a5?source=collection_archive---------13-----------------------#2020-10-15">https://javascript.plainenglish.io/top-react-hooks-speech-throttling-and-scrolling-4cc31bb540a5?source=collection_archive---------13-----------------------#2020-10-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b7e35d7bb4f82c58ce6ed8992f40c9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mE3jVPrTsWPGDqAT"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@thoughtcatalog?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Thought Catalog</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c73c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="b49b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">反应配方</h1><p id="224c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Recipes附带了许多钩子，我们可以用来做各种事情。</p><p id="d70c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">useSpeechSynthesis</code>钩子让我们将语音合成添加到React应用程序中。</p><p id="2535" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6cb7" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useSpeechSynthesis } from "react-recipes";</span><span id="18bf" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [value] = React.useState("hello world");<br/>  const [ended, setEnded] = React.useState(false);<br/>  const onEnd = () =&gt; setEnded(true);<br/>  const { cancel, speak, speaking, supported, voices } = useSpeechSynthesis({<br/>    onEnd<br/>  });</span><span id="f3f5" class="mq lc iq mh b gy mv ms l mt mu">  if (!supported) {<br/>    return "Speech is not supported. Upgrade your browser";<br/>  }</span><span id="187a" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={() =&gt; speak({ text: value, voice: voices[0] })}&gt;<br/>        Speak<br/>      &lt;/button&gt;<br/>      &lt;button onClick={cancel}&gt;Cancel&lt;/button&gt;<br/>      &lt;p&gt;{speaking &amp;&amp; "Voice is speaking"}&lt;/p&gt;<br/>      &lt;p&gt;{ended &amp;&amp; "Voice has ended"}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="bd99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">useSpeechSynthesis</code>钩子返回一个具有不同属性的对象。</p><p id="a837" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">cancel</code>取消语音合成。</p><p id="60b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">speak</code>让电脑开始说话。</p><p id="4c96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">speaking</code>表明它在说话。</p><p id="f381" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">supported</code>表示是否支持语音合成。</p><p id="feae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有我们可以选择的声音。</p><p id="301a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe me mf mg mh b">speak</code>函数中使用它。</p><p id="555e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">useThrottle</code>钩子让我们只在给定的毫秒数后改变节流值。</p><p id="bbb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f203" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useThrottle, useInterval } from "react-recipes";</span><span id="1b4c" class="mq lc iq mh b gy mv ms l mt mu">const Count = ({ count }) =&gt; {<br/>  const throttledCount = useThrottle(count, 950);</span><span id="b917" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;Value: {count}&lt;/div&gt;<br/>      &lt;div&gt;Throttled value: {throttledCount}&lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>};</span><span id="db4a" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [count, setCount] = React.useState(0);<br/>  useInterval(() =&gt; {<br/>    setCount(count =&gt; count + 1);<br/>  }, 1000);</span><span id="a69d" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;&gt;<br/>      &lt;Count count={count} /&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="3cc9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">Count</code>组件，我们有<code class="fe me mf mg mh b">useThrottle</code>钩子来观看<code class="fe me mf mg mh b">count</code>道具。</p><p id="f2a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是要观察的毫秒数。</p><p id="a2e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">useWhyDidYouUpdate</code>让我们观察组件更新的原因。</p><p id="119c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="da0d" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useWhyDidYouUpdate } from "react-recipes";</span><span id="0dc9" class="mq lc iq mh b gy mv ms l mt mu">const Counter = React.memo(props =&gt; {<br/>  useWhyDidYouUpdate("Counter", props);<br/>  return &lt;div&gt;{props.count}&lt;/div&gt;;<br/>});</span><span id="132c" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [count, setCount] = React.useState(0);</span><span id="7427" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; setCount(count =&gt; count + 1)}&gt;increment&lt;/button&gt;<br/>      &lt;p&gt;<br/>        &lt;Counter count={count} /&gt;<br/>      &lt;/p&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="1361" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">观看<code class="fe me mf mg mh b">count</code>道具更新。</p><p id="5efe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">useWhyDidYouUpdate</code>来观察属性值的变化。</p><p id="ef46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参数是我们添加到日志中的名称。</p><p id="4d88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二是价值。</p><p id="981f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">useWindowScroll</code>钩子让我们在窗口滚动时重新渲染。</p><p id="c54d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3fb2" class="mq lc iq mh b gy mr ms l mt mu">import React from "react";<br/>import { useWindowScroll } from "react-recipes";</span><span id="6387" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const { x, y } = useWindowScroll();</span><span id="d7db" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;&gt;<br/>      &lt;div style={{ position: "fixed" }}&gt;<br/>        &lt;div&gt;x: {x}&lt;/div&gt;<br/>        &lt;div&gt;y: {y}&lt;/div&gt;<br/>      &lt;/div&gt;<br/>      {Array(1000)<br/>        .fill()<br/>        .map((_, i) =&gt; (<br/>          &lt;p&gt;{i}&lt;/p&gt;<br/>        ))}<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="89eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">useWindowScroll</code>来观察React组件中的滚动位置。</p><p id="189a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回滚动位置的<code class="fe me mf mg mh b">x</code>和<code class="fe me mf mg mh b">y</code>坐标。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/370002fbde239478d3a8ff0d9687fed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KxL-2B7PzcOTZjFl"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jlondonbaker?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">John Baker</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="cb6b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4f6e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">React Recipes允许我们在应用程序中添加语音合成功能。</p><p id="cf64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以用它来调节和观察适当变化，以及观察滚动位置。</p><p id="4bd7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>