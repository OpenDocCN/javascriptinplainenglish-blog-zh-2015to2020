<html>
<head>
<title>Getting Started With Styled-Components In React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的样式化组件入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-styled-components-in-react-4379cc2be39e?source=collection_archive---------5-----------------------#2020-10-20">https://javascript.plainenglish.io/getting-started-with-styled-components-in-react-4379cc2be39e?source=collection_archive---------5-----------------------#2020-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="251e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习样式化组件的基础知识，以及如何在React应用程序中应用它们。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/04fa211d81cb0f22cedf482e98d1076c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QPNkHLUSwV276jWY"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@florianolv?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Florian Olivo</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cd45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将学习如何在React中使用样式化的组件。样式化组件是<strong class="ky ir">“可视原语组件”</strong>，它为样式化组件提供了灵活的方式。在深入这个主题之前，让我们先了解一下样式化组件，它只不过是JS中的一个CSS，作为一个工具来弥合组件之间的差距，并以可重用的方式为组件提供样式化功能。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a188" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">为什么是样式组件？</h1><p id="b226" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">样式组件包括以下功能:</p><ul class=""><li id="4d47" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated"><strong class="ky ir">自动厂商前缀</strong></li></ul><p id="0eb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">标准的CSS属性和样式组件将在需要时添加供应商前缀。</p><ul class=""><li id="db8f" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated"><strong class="ky ir">独特的班名</strong></li></ul><p id="317e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">样式化的组件相互独立，库将处理命名功能。</p><ul class=""><li id="324c" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated"><strong class="ky ir">淘汰死款式</strong></li></ul><p id="304f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">样式组件将自动移除未使用的样式。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="719a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">装置</h1><p id="f0cc" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">样式组件的安装很容易。你可以通过CDN或NPM安装。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="c53e" class="nk ma iq ng b gy nl nm l nn no">npm i styled-components</span></pre><h1 id="1ea4" class="lz ma iq bd mb mc np me mf mg nq mi mj jw nr jx ml jz ns ka mn kc nt kd mp mq bi translated">开始</h1><p id="0da1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">语法是样式化组件的第一件事，它在组件和样式之间架起了桥梁。它包含JavaScript模板。当您创建带有样式的React组件时，通常看起来像这样:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="4a41" class="nk ma iq ng b gy nl nm l nn no">import styled from "styled-components";<br/><br/>// Styled component named StyledButton<br/>const StyledButton = styled.button`<br/>  background-color: black;<br/>  font-size: 32px;<br/>  color: white;<br/>`;<br/><br/>function Component() {<br/>  // Use it like any other component.<br/>  return &lt;StyledButton&gt; Login &lt;/StyledButton&gt;;<br/>}</span></pre><p id="1548" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> StyledButton </strong>是样式化组件，用于将HTML按钮渲染为包含的样式。<strong class="ky ir"> Styled </strong>是将JavaScript转换成CSS的内部方法。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="e874" class="nk ma iq ng b gy nl nm l nn no">button {<br/>  background-color: black;<br/>  font-size: 32px;<br/>  color: white;<br/>}<br/><br/>&lt;button&gt; Login &lt;/button&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3b30" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">基于道具的造型</h1><p id="ab41" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">样式化的组件是功能性的和动态的。让我们考虑有两种类型的按钮，一种是黑色背景，另一种是蓝色背景。我们不必创建两个单独的样式，相反，我们可以通过使用道具来设计两个样式。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="ee8a" class="nk ma iq ng b gy nl nm l nn no">import styled from "styled-components";<br/><br/>const StyledButton = styled.button`<br/>  min-width: 200px;<br/>  border: none;<br/>  font-size: 18px;<br/>  padding: 7px 10px;<br/>  /* The resulting background color will be based on the bg props. */<br/>  background-color: ${props =&gt; props.bg === "black" ? "black" : "blue";<br/>`;<br/><br/>function Profile() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;StyledButton bg="black"&gt;Button A&lt;/StyledButton&gt;<br/>      &lt;StyledButton bg="blue"&gt;Button B&lt;/StyledButton&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="d87f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> StyledButton </strong>是一个接受道具的React组件。我们可以使用值<strong class="ky ir"> bg </strong> prop分配两种不同的背景颜色。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="2348" class="nk ma iq ng b gy nl nm l nn no">function Profile() {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;StyledButton bg="black" type="button"&gt;<br/>        Button A<br/>      &lt;/StyledButton&gt;<br/>      &lt;StyledButton bg="blue" type="submit" onClick={() =&gt; alert("clicked")}&gt;<br/>        Button B<br/>      &lt;/StyledButton&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="e5b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">属性是样式化组件的扩展语法。我们可以使用<strong class="ky ir">属性构造器</strong>来管理道具。它通常看起来像这样:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="d6c5" class="nk ma iq ng b gy nl nm l nn no">const StyledContainer = styled.section.attrs((props) =&gt; ({<br/>  width: props.width || "100%",<br/>  hasPadding: props.hasPadding || false,<br/>}))`<br/>  --container-padding: 20px;<br/>  width: ${(props) =&gt; props.width}; // Falls back to 100%<br/>  padding: ${(props) =&gt;<br/>    (props.hasPadding &amp;&amp; "var(--container-padding)") || "none"};<br/>`;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="46a3" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">扩展样式</h1><p id="7b03" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">考虑一个构建登录页面的场景。您已经将容器设置为一定的最大宽度，以保持居中。<strong class="ky ir">样式容器</strong>看起来是这样的:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="d256" class="nk ma iq ng b gy nl nm l nn no">const StyledContainer = styled.section`<br/>  max-width: 1024px;<br/>  padding: 0 20px;<br/>  margin: 0 auto;<br/>`;</span></pre><p id="d8e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后你需要添加一个小容器，两边填充10个像素，而不是20个像素，不要重复。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="da4a" class="nk ma iq ng b gy nl nm l nn no">const StyledContainer = styled.section`<br/>  max-width: 1024px;<br/>  padding: 0 20px;<br/>  margin: 0 auto;<br/>`;<br/><br/>const StyledSmallContainer = styled.section`<br/>  max-width: 1024px;<br/>  padding: 0 10px;<br/>  margin: 0 auto;<br/>`;</span></pre><p id="290f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在此之前，您需要创建一个<strong class="ky ir"> StyledSmallContainer </strong>，并使用spread运算符重用带有继承属性的样式。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="2177" class="nk ma iq ng b gy nl nm l nn no">const StyledContainer = styled.section`<br/>  max-width: 1024px;<br/>  padding: 0 20px;<br/>  margin: 0 auto;<br/>`;<br/><br/>// Inherit StyledContainer in StyledSmallConatiner<br/>const StyledSmallContainer = styled(StyledContainer)`<br/>  padding: 0 10px;<br/>`;<br/><br/>function Home() {<br/>  return (<br/>    &lt;StyledContainer&gt;<br/>      &lt;h1&gt;The secret is to be happy&lt;/h1&gt;<br/>    &lt;/StyledContainer&gt;<br/>  );<br/>}<br/><br/>function Contact() {<br/>  return (<br/>    &lt;StyledSmallContainer&gt;<br/>      &lt;h1&gt;The road goes on and on&lt;/h1&gt;<br/>    &lt;/StyledSmallContainer&gt;<br/>  );<br/>}</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="776d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">类SCSS语法</h1><p id="f2a8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">CSS预处理器使样式化的组件支持类似SCSS的语法。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="6160" class="nk ma iq ng b gy nl nm l nn no">const StyledProfileCard = styled.div`<br/>  border: 1px solid black;<br/><br/>  &gt; .username {<br/>    font-size: 20px;<br/>    color: black;<br/>    transition: 0.2s;<br/><br/>    &amp;:hover {<br/>      color: red;<br/>    }<br/><br/>    + .dob {<br/>      color: grey;<br/>    }<br/>  }<br/>`;<br/><br/>function ProfileCard() {<br/>  return (<br/>    &lt;StyledProfileCard&gt;<br/>      &lt;h1 className="username"&gt;John Doe&lt;/h1&gt;<br/>      &lt;p className="dob"&gt;<br/>        Date: &lt;span&gt;12th October, 2013&lt;/span&gt;<br/>      &lt;/p&gt;<br/>      &lt;p className="gender"&gt;Male&lt;/p&gt;<br/>    &lt;/StyledProfileCard&gt;<br/>  );<br/>}</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="836e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">动画</h1><p id="37e1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">样式组件包含有助于构建可重用组件的关键帧。主要优点是您可以在需要时导出并重复使用。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="5ed5" class="nk ma iq ng b gy nl nm l nn no">import styled, {keyframes} from "styled-components";<br/><br/>const slideIn = keyframes`<br/>  from {<br/>    opacity: 0;<br/>  }<br/><br/>  to {<br/>    opacity: 1;<br/>  }<br/>`;<br/><br/>const Toast = styled.div`<br/>  animation: ${slideIn} 0.5s cubic-bezier(0.4, 0, 0.2, 1) both;<br/>  border-radius: 5px;<br/>  padding: 20px;<br/>  position: fixed;<br/>`;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="53f8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">全局样式</h1><p id="8495" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">JS中CSS的目标是样式的作用域。我们还可以使用全局样式来利用样式化的组件。它通常看起来像这样:</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="24b2" class="nk ma iq ng b gy nl nm l nn no">ReactDOM.render(<br/>  &lt;StyledApp&gt;<br/>    &lt;App /&gt;<br/>  &lt;/StyledApp&gt;,<br/>  document.getElementById("root")<br/>);</span></pre><p id="4952" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用<strong class="ky ir"> createGlobalStyle </strong>来规范化CSS。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="a65b" class="nk ma iq ng b gy nl nm l nn no">import {createGlobalStyle} from "styled-components";<br/><br/>const GlobalStyle = createGlobalStyle`<br/>    /* Your css reset here */<br/>`;<br/><br/>// Use your GlobalStyle<br/>function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;GlobalStyle /&gt;<br/>      &lt;Routes /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="40da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">createGlobalStyle没有限定范围，它可以在DOM中的应用程序的任何位置呈现。它是一个概念，而不是一个结构。</p><pre class="kg kh ki kj gt nf ng nh ni aw nj bi"><span id="1457" class="nk ma iq ng b gy nl nm l nn no">import {createGlobalStyle} from "styled-components";<br/><br/>const GlobalStyle = createGlobalStyle`<br/>  /* Your css reset here */<br/><br/>  .app-title {<br/>    font-size: 40px;<br/>  }<br/>`;<br/><br/>const StyledNav = styled.nav`<br/>    /* Your styles here */<br/>`;<br/><br/>function Nav({children}) {<br/>  return (<br/>    &lt;StyledNav&gt;<br/>      &lt;GlobalStyle /&gt;<br/>      {children}<br/>    &lt;/StyledNav&gt;<br/>  );<br/>}<br/><br/>function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Nav&gt;<br/>        &lt;h1 className="app-title"&gt;STYLED COMPONENTS&lt;/h1&gt;<br/>      &lt;/Nav&gt;<br/>      &lt;Main /&gt;<br/>      &lt;Footer /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="52fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> app-title </strong>没有被样式化，因为它是在GlobalStyle中设置的。它将在我们的组件渲染时注入。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="92b8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="3fcb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我希望你已经享受了很多，并开始知道如何使用反应风格的组件。React和React Native中都提供了样式化组件。</p><p id="9526" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>