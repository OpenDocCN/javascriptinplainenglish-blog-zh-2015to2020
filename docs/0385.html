<html>
<head>
<title>React onChange with input field &amp; button</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用输入字段和按钮对更改作出反应</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-onchange-with-input-field-button-854f0035b94a?source=collection_archive---------1-----------------------#2019-10-01">https://javascript.plainenglish.io/react-onchange-with-input-field-button-854f0035b94a?source=collection_archive---------1-----------------------#2019-10-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/68362b715cbd105ac5100639267a675b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAIPKAfU1EAd6YDyxjCjdw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">fig(a): UI component flow</figcaption></figure><p id="274c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们希望组件在加载时显示初始渲染数据。如果用户通过编辑进行更改，那么我们希望提供一个保存选项，如果用户单击保存，那么我们进行POST调用，并将保存按钮更新为保存并禁用它，一旦更新成功，按钮标签恢复为保存，但在下一次编辑之前保持禁用状态。简而言之，只有当输入字段是脏的时，该按钮才会被启用。</p><p id="4c0f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">主要问题有(一)。留意输入值的变化&amp;启用/禁用保存按钮。㈡。处理API请求时启用/禁用保存按钮。</p><ol class=""><li id="c1a1" class="kx ky in kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated">探索输入字段的onChange</li></ol><figure class="lg lh li lj gt jo"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="ff2b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">查看代码，您可以看到应用程序加载时显示的初始数据(即Bob)。如果用户将姓名更改为Bobby，则表单是脏的，并且“保存”按钮被启用。很好，但是这样做的问题是onChange会被触发，即使用户把名字改回<code class="fe lm ln lo lp b">Bob</code>(比如Bobby对Bob)。我们需要一些自定义功能来验证实际数据的变化和控制保存按钮。</p><p id="fdac" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">2.自定义输入字段的更改和控制保存按钮</p><figure class="lg lh li lj gt jo"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="f6d7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">3.API调用期间管理按钮</p><figure class="lg lh li lj gt jo"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="d78c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，我们需要确保启用/禁用按钮是在数据没有变化和API调用期间完成的。我的意思是，当用户<em class="lq">没有真正</em>改变数据(尽管表单可能是脏的)时，我们<em class="lq">不想</em>启用保存按钮，我们也想保持禁用状态，并从保存到保存更新文本…直到api调用完成。以下是完整的要旨。</p><figure class="lg lh li lj gt jo"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="d7b5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">4.演示</p><div class="lr ls gp gr lt lu"><a href="https://codesandbox.io/embed/enabledisable-onchange-button-c623m" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd io gy z fp lz fr fs ma fu fw im bi translated">启用\ u002f禁用onChange按钮- CodeSandbox</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">CodeSandbox是一个为web应用程序量身定制的在线编辑器。</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">codesandbox.io</p></div></div><div class="md l"><div class="me l mf mg mh md mi jt lu"/></div></div></a></div><p id="cd44" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，<em class="lq">“易用性可能是看不见的，但它的不存在肯定是看不见的。”— </em> IBM</p></div><div class="ab cl mj mk hr ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ig ih ii ij ik"><p id="8b15" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我过去的三个博客</p><ol class=""><li id="4e2f" class="kx ky in kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated"><a class="ae mq" href="https://medium.com/@mahesh2684/inner-workings-of-map-reduce-filter-f06ba87f2509?source=friends_link&amp;sk=5dfae6d629f96ff27c49445e73befe0a" rel="noopener">映射、还原和过滤的内部工作原理</a></li><li id="1746" class="kx ky in kb b kc mr kg ms kk mt ko mu ks mv kw lc ld le lf bi translated"><a class="ae mq" href="https://medium.com/@mahesh2684/thinking-in-react-manage-user-interaction-in-react-apps-611074e004b8?source=friends_link&amp;sk=9493f10d6e59c9c028a497d137fb44fa" rel="noopener">思考中做出反应</a></li><li id="f48b" class="kx ky in kb b kc mr kg ms kk mt ko mu ks mv kw lc ld le lf bi translated"><a class="ae mq" href="https://medium.com/@mahesh2684/react-context-api-with-higher-order-component-279d5f93eda4?source=friends_link&amp;sk=bb0c4a4288c5507fa22f349cb622cfe5" rel="noopener">将上下文API与高阶组件进行反应</a></li></ol></div></div>    
</body>
</html>