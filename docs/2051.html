<html>
<head>
<title>How to Use Speech Recognition and Speech Synthesis in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用语音识别和语音合成</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-speech-recognition-and-speech-synthesis-in-javascript-9bcb213f6ddd?source=collection_archive---------2-----------------------#2020-05-16">https://javascript.plainenglish.io/how-to-use-speech-recognition-and-speech-synthesis-in-javascript-9bcb213f6ddd?source=collection_archive---------2-----------------------#2020-05-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5caa" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何使用Web Speech API为您的网站添加语音识别和语音合成的教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e3dc8843057ffae0eb5b770b193aabfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*byL2b6vSjrUbtZkn0cBj6A.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ilyasssed?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ilyass SEDDOUG</a> on <a class="ae kv" href="https://unsplash.com/s/photos/microphone?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="1caf" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="23aa" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">语音识别是通过麦克风接收声音并使其能够让计算机识别和响应的过程，从而允许作为结果启动进一步的操作。</p><p id="a419" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">语音合成是用计算机对人类语音的人工模拟。它主要用于将文本信息翻译成音频信息，并作为一种辅助技术来帮助视力受损的人阅读文本内容。</p><h2 id="fe64" class="mp kx iq bd ky mq mr dn lc ms mt dp lg lx mu mv li mb mw mx lk mf my mz lm na bi translated">网络语音API</h2><p id="8146" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">它是一个JavaScript API，使web开发人员能够将语音识别和合成集成到他们的web页面中。它使开发人员能够使用脚本生成文本到语音的输出，并使用语音识别作为表单、连续听写和控制的输入。</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h2 id="85fb" class="mp kx iq bd ky mq mr dn lc ms mt dp lg lx mu mv li mb mw mx lk mf my mz lm na bi translated">1.语音识别API</h2><p id="2959" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">除了语音识别API，还有一些其他相关的API用于显示结果、语法等。这些结果可以被其他API用作执行不同任务的输入。</p><p id="6eab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">不幸的是，正如你从下面的兼容性图表中看到的，Chrome是唯一一个实现它的浏览器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/d95f9602ebfb2de53bdee499a2fd6192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qxmi7xOQi4l049OLeqJ-sQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://caniuse.com/#search=web%20speech%20api" rel="noopener ugc nofollow" target="_blank">https://caniuse.com/#search=web%20speech%20api</a></figcaption></figure><p id="4457" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们演示一下如何实现带有语音识别的google搜索，</p><blockquote class="nj nk nl"><p id="2539" class="lo lp nm lq b lr mk jr lt lu ml ju lw nn mm lz ma no mn md me np mo mh mi mj ij bi translated">当您使用语音识别API时，浏览器很可能会要求您允许使用您的麦克风。</p></blockquote><p id="c9d9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">超文本标记语言</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="5858" class="mp kx iq nr b gy nv nw l nx ny">&lt;form action="<a class="ae kv" href="https://www.google.com/search" rel="noopener ugc nofollow" target="_blank">https://www.google.com/search</a>" target="_blank"&gt;<br/> &lt;input name="query" placeholder="Search" id="query" autofocus&gt;<br/> &lt;input type="button" value="Speak" onclick="recognition.start()"&gt;  <br/>&lt;/form&gt;</span></pre><p id="597d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">射流研究…</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="1122" class="mp kx iq nr b gy nv nw l nx ny">const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;</span><span id="42ed" class="mp kx iq nr b gy nz nw l nx ny">var recognition = new SpeechRecognition();<br/>  recognition.onresult = function(event) {<br/>    if (event.results.length &gt; 0) {<br/>      query.value = event.results[0][0].transcript;<br/>      query.form.submit();<br/>    }<br/>  }</span></pre><p id="cbc7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">你需要设置识别界面为<code class="fe oa ob oc nr b">SpeechRecognition</code>而不管浏览器。语音识别界面是浏览器的<code class="fe oa ob oc nr b">window</code>的一个对象。在Chrome中，<code class="fe oa ob oc nr b">webkitSpeechRecognition</code>和火狐，<code class="fe oa ob oc nr b">SpeechRecognition</code>。最后，<code class="fe oa ob oc nr b">transcript</code>将在语音识别服务停止后提供文本输出。</p><h2 id="1bf5" class="mp kx iq bd ky mq mr dn lc ms mt dp lg lx mu mv li mb mw mx lk mf my mz lm na bi translated">2.语音合成API</h2><p id="1413" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你也知道这是文本到语音的转换。语音合成的用途和语音识别一样多。大多数手机都有这个工具来帮助视障人士。</p><p id="e489" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从兼容性图表中可以看出，与语音识别API不同，这更能兼容各种浏览器</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/dad45267db9ba9c273a6b49a73cdc01c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_h-lZpGcTfeYYGisay7eNw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://caniuse.com/#search=Speech%20Synthesis%20API" rel="noopener ugc nofollow" target="_blank">https://caniuse.com/#search=Speech%20Synthesis%20API</a></figcaption></figure><p id="edd7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">首先，让我用一行代码演示一个简单的语音合成API示例。</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="0b76" class="mp kx iq nr b gy nv nw l nx ny">speechSynthesis.speak(new SpeechSynthesisUtterance('Hello World'));</span></pre><p id="4da2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">你可以通过创建一个新的<code class="fe oa ob oc nr b">SpeechSynthesisUtterance</code>(基本上就是你想说的)，然后把它传递给<code class="fe oa ob oc nr b">speechSynthesis</code>对象的<code class="fe oa ob oc nr b">speak()</code>方法，轻松地得到<em class="nm">‘Hello World’</em>。</p><p id="e18d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在让我们转到文本到语音的实现，</p><p id="3260" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">超文本标记语言</p><pre class="kg kh ki kj gt nq nr ns nt aw nu bi"><span id="034b" class="mp kx iq nr b gy nv nw l nx ny">&lt;section class="warn"&gt;&lt;/section&gt;<br/>&lt;select name="voice" id="voices" disabled&gt;<br/>&lt;/select&gt;&lt;br&gt;&lt;br&gt;</span><span id="3c17" class="mp kx iq nr b gy nz nw l nx ny">&lt;textarea disabled&gt;&lt;/textarea&gt;</span><span id="ae0d" class="mp kx iq nr b gy nz nw l nx ny">&lt;button id="submit" onclick="speaker.speak();" disabled&gt;Text to Speech&lt;/button&gt;</span></pre><p id="d273" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">射流研究…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="79e3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们从<code class="fe oa ob oc nr b">&lt;textarea&gt;</code>获取输入文本，利用该文本，我们将创建<code class="fe oa ob oc nr b">SpeechSynthesisUtterance</code>(在上面的代码中，我将它用作<code class="fe oa ob oc nr b">utterance</code>)并将其传递给<code class="fe oa ob oc nr b">synth.speak</code> ( <code class="fe oa ob oc nr b">speechSynthesis.speak</code>)。</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><blockquote class="nj nk nl"><p id="c75e" class="lo lp nm lq b lr mk jr lt lu ml ju lw nn mm lz ma no mn md me np mo mh mi mj ij bi translated">在iOS上，API可以工作，但必须由用户动作回调触发，比如对点击事件的响应。</p></blockquote><h1 id="9b07" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="9bb4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在过去的几年里，这两个API在可访问性方面都发挥了很大的作用，尤其是对于视力受损的人、手臂受伤的人等等。文章到此为止。谢谢，注意安全！</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h2 id="949f" class="mp kx iq bd ky mq mr dn lc ms mt dp lg lx mu mv li mb mw mx lk mf my mz lm na bi translated">来自简明英语团队的说明</h2><p id="28c5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你知道我们有四种出版物吗？给他们一个关注来表达爱意吧:<a class="ae kv" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="lq ir">JavaScript in Plain English</strong></a>，<a class="ae kv" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="lq ir">AI in Plain English</strong></a>，<a class="ae kv" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="lq ir">UX in Plain English</strong></a>，<a class="ae kv" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="lq ir">Python in Plain English</strong></a><strong class="lq ir"/>—谢谢，继续学习！</p><p id="0f23" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们还推出了一个YouTube，希望你能通过<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">订阅我们的英语频道</strong> </a>来支持我们</p><p id="d268" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一如既往,“简明英语”希望帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kv" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir">submissions @ plain English . io</strong></a><strong class="lq ir"/>，并附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h2 id="6fb0" class="mp kx iq bd ky mq mr dn lc ms mt dp lg lx mu mv li mb mw mx lk mf my mz lm na bi translated">资源</h2><p id="8dfb" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://wicg.github.io/speech-api/" rel="noopener ugc nofollow" target="_blank">wicg.github.io/speech-api</a></p><p id="18f5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><a class="ae kv" href="https://caniuse.com/#search=Speech" rel="noopener ugc nofollow" target="_blank">caniuse.com</a></p><p id="5efe" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" rel="noopener ugc nofollow" target="_blank">developer.mozilla.org/Web_Speech_API</a></p></div></div>    
</body>
</html>