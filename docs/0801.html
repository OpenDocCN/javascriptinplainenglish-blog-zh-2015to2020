<html>
<head>
<title>What’s coming to JavaScript in 2020?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2020年的JavaScript将会怎样？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/whats-coming-to-javascript-in-2020-c2a02cf52d01?source=collection_archive---------1-----------------------#2019-12-13">https://javascript.plainenglish.io/whats-coming-to-javascript-in-2020-c2a02cf52d01?source=collection_archive---------1-----------------------#2019-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0340" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">审查TC39第4阶段提案</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ba9e306300c8264c5560e57b15be50a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q9-s-lgjGyhphKiP"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@montylov?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">MontyLov</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="936f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大家好，最近，<em class="ls">可选链接</em>和<em class="ls">无效合并</em>在<em class="ls"> TC39 </em>工艺上被提升到第4阶段。这让我对明年的JavaScript<em class="ls">非常兴奋。</em></p><p id="91cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文涵盖了目前处于第4阶段的<a class="ae kv" href="https://github.com/tc39/proposals/blob/master/finished-proposals.md" rel="noopener ugc nofollow" target="_blank">提案</a>，预计于2020年发布。</p><h2 id="997a" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-string-matchall" rel="noopener ugc nofollow" target="_blank">string . prototype . match all</a></h2><p id="191f" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">使用粘性或全局正则表达式，最终在一个字符串上有多个捕获组，这可能很棘手。<em class="ls"> String.prototype.match </em>如果包含全局标志，并且如果它只是第一个完整匹配，并且它的捕获组被返回，则不会返回捕获组。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">String.prototype.match</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/903a073e7fb618f510bf9d42459abcc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*w9ZFQlaMJdU2aDt0k2zThA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output of String.prototype.match with global flag.</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/1652ebdf763119bcd4bb86693cb114d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*eB4YScb3qMCgCLBhG4r7MQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output of String.prototype.match without global flag.</figcaption></figure><p id="efb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<em class="ls">string . prototype . match all</em>可以保证返回所有匹配和捕获组。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">String.prototype.matchAll</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/5c86e21d09cd7ad1879666c794005b26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R35_27Ury8WyAGUMjK8LGQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output of String.prototype.matchAll</figcaption></figure><h2 id="6e06" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-bigint" rel="noopener ugc nofollow" target="_blank"> BigInt </a></h2><p id="5d60" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">在<em class="ls"> BigInt </em>推出之前，<em class="ls"> JavaScript </em>能用<em class="ls"> Number </em>原语准确表示的最大数是2⁵ -1 ( <em class="ls"> MAX_SAFE_INTEGER </em>)。</p><p id="9121" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着<em class="ls"> BigInt </em>的引入，<em class="ls"> JavaScript </em>现在有了一个新的原语，允许表示大于2⁵的数字</p><p id="2295" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以创建一个<em class="ls"> BigInt </em>，方法是在您的数字后面附加一个‘n’或使用BigInt()函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Using a BigInt</figcaption></figure><ul class=""><li id="e704" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated"><em class="ls"> BigInt </em>不严格等于<em class="ls"> Number </em>但可以强制等于。</li><li id="18e2" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">做除法之类的运算时，总会四舍五入到0。</li><li id="e054" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">无法与<em class="ls">号</em>交互操作。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Trying to interoperate BigInt with Number</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/f303467f49d1cf649964916e031f149f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J8PNabr_vpHIgkKEZ_TXmg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output of attempting to interoperate BigInt with Number</figcaption></figure><h2 id="b62c" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-global" rel="noopener ugc nofollow" target="_blank"> globalThis </a></h2><p id="98d9" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">在<em class="ls"> JavaScript </em>世界中，访问全局对象一直是一个令人头疼的问题。根据您使用的环境，您必须熟悉语法的使用。这种情况总是给编写可移植代码带来一些困难，并经常导致像<em class="ls"> getGlobal </em>这样的模式。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">getGlobal function</figcaption></figure><p id="2160" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了<em class="ls"> globalThis </em>，现在你可以不用担心你在什么环境下，访问你的全局对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">globalThis</figcaption></figure><h2 id="7722" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-promise-allSettled" rel="noopener ugc nofollow" target="_blank">诺言.一切已了结</a></h2><p id="02eb" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">想象一下，你有多个承诺，并想在它们都结束后采取任何行动，不管它们是实现了还是被拒绝了。<em class="ls"> Promise.allSettled </em>给你一个承诺，当所有给定的承诺都被满足(<em class="ls">履行</em>或<em class="ls">拒绝</em>)时，返回一个包含每个承诺结果的数组。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Promise.allSettled</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/9961877b1a605177e34a593a61601d93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RtlG2X-pszsxchNe4PXecA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Promise.allSettled output</figcaption></figure><h2 id="c6b1" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-dynamic-import" rel="noopener ugc nofollow" target="_blank">动态导入</a></h2><p id="65a2" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">曾经想在运行时加载一个模块，取决于特定的条件？使用动态导入，您可以。</p><p id="0431" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你所要做的就是调用导入，给它一个说明符。之后，它将为该模块返回一个承诺。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Dynamic Import</figcaption></figure><p id="9d76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与静态导入不同，在静态导入中，您必须提供一个字符串作为动态导入的说明符，因为所有工作都是在运行时完成的，您可以向它传递一个模板文本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Dynamic Import using a template literal</figcaption></figure><h2 id="51a4" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-nullish-coalescing" rel="noopener ugc nofollow" target="_blank">无效合并</a></h2><p id="afb9" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">如果我要求您访问一个属性，并在该属性访问结果为空或未定义的情况下给我一个默认值，您会怎么做？</p><p id="01d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通常，我们会利用“||”运算符，如下例所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">pre-Nullish coalescing</figcaption></figure><p id="515e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这有什么问题？假设您收到的不是null或undefined，而是一个falsy值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">pre-Nullish coalescing Falsy issue</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/d6616ee8d6d19300214f98237420b0b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*t8i0vDQgdV2s0rkuW3kH8A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output for the pre-Nullish coalescing Falsy issue snippet</figcaption></figure><p id="d3cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，我们会希望得到属性输出，但是，由于它们是假值，所以我们会得到右侧的表达式输出。</p><p id="a9f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无效合并解决了这个问题。如果属性为空或未定义，则返回右侧表达式；如果不是，那么它忽略它是否被评估为falsy或truthy并返回它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><em class="nn">Using Nullish coalescing</em></figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6f95a292fe2058add75c353a3238e7fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:264/format:webp/1*nrZYHJ0WELDafO6xzZq9TA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output using Nullish <em class="nn">coalescing</em></figcaption></figure><h2 id="78fb" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><a class="ae kv" href="https://github.com/tc39/proposal-optional-chaining" rel="noopener ugc nofollow" target="_blank">可选链接</a></h2><p id="2bef" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">尝试访问属性值会有一些约束。其中之一是保证给定的属性存在。直到现在，如果我们想要验证属性是否存在，我们必须检查一些条件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Pre Optional Chaining</figcaption></figure><p id="87d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<em class="ls">可选链接</em>，您可以使用'？.'执行可选的属性访问。下面的例子将具有与上面的<em class="ls">未定义的</em>完全相同的输出。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Optional Chaining</figcaption></figure><p id="ad14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很神奇，对吧？<em class="ls">可选链接</em>为一些更可读的代码打开了大门，我迫不及待地想每天使用它。</p><h2 id="d6a5" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">结论</h2><p id="6b2c" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">如果你想试试这些建议，其中一些已经可以在一些引擎上找到，而另一些现在才开始实现，所以它们还不可用。但是，如果你有兴趣，你可以使用一些巴别塔插件，让你尝试的建议。</p><p id="35b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你喜欢并关注下一篇文章。</p><p id="a3ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">周末愉快！</p></div></div>    
</body>
</html>