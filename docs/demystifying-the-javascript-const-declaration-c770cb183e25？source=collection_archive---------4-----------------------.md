# 揭开 JavaScript“const”声明的神秘面纱

> 原文：<https://javascript.plainenglish.io/demystifying-the-javascript-const-declaration-c770cb183e25?source=collection_archive---------4----------------------->

![](img/a74e2f6910f6744e9769788b1d88a7b5.png)

ECMAScript 规范的第六版为 JavaScript 引入了两个新的变量声明，“let”和“const”。虽然许多人似乎理解这些关键字的基本要点，即。用它们声明的变量不能像“var”声明那样在初始化前使用，对于“let”和“const”之间的确切区别，特别是“const”的作用，似乎有些混淆，尤其是在初学者中。

## let 和 const 有什么相似之处？

所以让我们从快速浏览这两个变量的共同点开始。“let”和“const”都不能声明两次。这意味着

```
let x = 1
let x = 2
```

和

```
const y = 1
const y = 2
```

都是无效的，并将返回语法错误。

“let”和“const”都是块范围的。这意味着它们的作用域在一个 JavaScript 块中，基本上是{花括号之间}的任何地方，包括循环或 if 语句。这与“var”声明不同，后者仅在函数范围内，不会在循环或 if 语句内限定范围。

## “const”是怎么回事？

我在初学程序员中看到的常见误解是一种模糊的想法，即用' let '声明的变量可以被"改变"，而用' const '声明的变量不能被"改变"。这是对两个声明关键字的不正确或者至少是不准确的理解。这可能源于一种(正确的)理解，即用“let”声明的变量可以被重新分配，而用“const”声明的变量不能被重新分配。

这意味着

```
let x = “hello”
x = “goodbye”// x returns "goodbye"
```

是有效的，x 将返回“再见”。然而，如果我们尝试用 const 做同样的事情，

```
const y = “hello”
y = “goodbye”// TypeError
```

我们将收到一个“类型错误:常量变量赋值”您可以看到，虽然“let”变量可以被重新分配，但“const”变量只能被分配一次。

所以这可能就是“常量变量不能改变”的误解的来源。然而，这从根本上说是不真实的。事实上，常量变量是可以改变的，这是该关键字的一个关键特性。你看，虽然“const”不能被重新赋值，但它是可变的，如果一个对象被赋给了一个 const 变量，那么这个对象的属性就可以被改变，就像你所期望的那样。

举个例子，

```
const w = [1, 2, 3]
w.push(4)// w returns [1, 2, 3, 4]
```

会像预期的那样返回[1，2，3，4]。

## 这对初学程序员来说意味着什么？

因为“let”和“const”声明是为了鼓励良好的编码实践而实现的，所以应该意识到在使用 ES6 变量声明时有一个优先的层次结构。应该总是尝试用“const”来声明变量，只有在绝对必要的时候才使用“let”。这意味着 100%确定何时使用“let”声明。如果您的变量稍后将在代码中被重新分配，请仅使用“let”声明。如果变量将被“改变”,但这种改变是分配给变量的对象的突变，则最好使用“const”声明。