<html>
<head>
<title>Creating an Animated Gauge Chart with Vanilla Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用普通Javascript创建动画仪表图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-an-animated-gauge-chart-with-vanilla-javascript-38d1d7e81b2b?source=collection_archive---------4-----------------------#2018-09-03">https://javascript.plainenglish.io/creating-an-animated-gauge-chart-with-vanilla-javascript-38d1d7e81b2b?source=collection_archive---------4-----------------------#2018-09-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/098d24de81f63a083a74580dced1f565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CcZ_7kXFdexQtTmu"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@kobuagency?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kobu Agency</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d59c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我的办公室和许多其他办公室一样，有各种各样的午餐和学习活动。本周，我们分成两人一组，用普通的JavaScript创建了一个量表。看起来相当简单的任务变成了相当具有挑战性的任务，并帮助巩固了一些我一直困扰的JS概念。下面，我将一步一步地向你介绍我和我的搭档是如何创建我们自己的量表的，以及你可以采用的一些替代方法。</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="lc ld l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">View this code on <a class="ae jz" href="https://codepen.io/karaluton/full/VGKoLd/" rel="noopener ugc nofollow" target="_blank">CodePen</a></figcaption></figure><h2 id="22b4" class="le lf in bd lg lh li dn lj lk ll dp lm kl ln lo lp kp lq lr ls kt lt lu lv lw bi translated">步骤1:创建拱门</h2><p id="dcf4" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">在我们的午餐和学习期间，每个人都完成了挑战，之后我们都展示了我们所做的，看到每个人创建量规拱形的方法是如此有趣。在6组配对中，每一组都选择了不同的方式。我和我的伙伴决定创建一个透明的圆圈，并添加一个边框，这将是仪表本身。</p><p id="dfd9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> HTML </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="29f2" class="le lf in md b gy mh mi l mj mk">&lt;body&gt;<br/>  &lt;div class="loader"&gt;&lt;/div&gt; <br/>&lt;/body&gt;</span></pre><p id="7f76" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> CSS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="d33b" class="le lf in md b gy mh mi l mj mk">*, <br/>*::after, <br/>*::before {<br/>  box-sizing: border-box;<br/>}</span><span id="b2b3" class="le lf in md b gy ml mi l mj mk">body {<br/>  height: 100vh;<br/>}</span><span id="d805" class="le lf in md b gy ml mi l mj mk">.loader {<br/>  background: transparent;<br/>  border: 30px solid #D7ECA6;<br/>  border-radius: 50%;<br/>  height: 16rem;<br/>  width: 16rem;<br/>}</span></pre><figure class="ky kz la lb gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/546160198fd6f109df5720b9fb874605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*Bdctdhe7C5nLxiXQ4oPJdA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">First step in creating the arch for the gauge</figcaption></figure><p id="0290" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当选择一个随机数时，我们试图制作的标尺将填充深绿色，因此我们决定向loader div添加一个before元素，它将是深绿色。</p><p id="251b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> CSS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="266a" class="le lf in md b gy mh mi l mj mk">*, <br/>*::after, <br/>*::before {<br/>  box-sizing: border-box;<br/>}</span><span id="09c9" class="le lf in md b gy ml mi l mj mk">body {<br/>  height: 100vh;<br/>}</span><span id="7c05" class="le lf in md b gy ml mi l mj mk">.loader {<br/>  background: transparent;<br/>  border: 30px solid #D7ECA6;<br/>  border-radius: 50%;<br/>  height: 16rem;<br/>  position: relative;<br/>  width: 16rem;<br/>  &amp;::before {<br/>    content: '';<br/>    border: 30px solid #8CC800;<br/>    border-left-color: transparent;<br/>    border-radius: 50%;<br/>    border-top-color: transparent;<br/>    height: 16rem;<br/>    left: -30px;<br/>    top: -30px;<br/>    transform: rotate(45deg);<br/>    position: absolute;<br/>    width: 16rem;<br/>    z-index: 2;<br/>  }<br/>}</span></pre><p id="49b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们继续在before元素上添加一个<code class="fe mn mo mp md b">transform: rotate(45deg);</code>的原因是为了让绿色进度条位于我们圆圈的底部，而不是稍微倾斜，这是原来的位置。</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mq"><img src="../Images/f5b2e857655e89e90eaae64b5393bc1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*buoAF9AHDNsV29UPafdbiA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Our circle with the darker green progress bar</figcaption></figure><p id="7573" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了简化您的代码，您可以将before元素全部移除，代之以将一个<code class="fe mn mo mp md b">border-left-color</code>和一个<code class="fe mn mo mp md b">border-bottom-color</code>添加到您的深绿色中，然后在您的loader div上设置一个<code class="fe mn mo mp md b">transform: rotate(45deg)</code>。我和我的搭档没有想到这种方法，直到我们看到另一个小组这样做，但这完全有道理！</p><p id="dfea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在是拱门。我们想隐藏深绿色的进度条，所以我们在整个loader div周围添加了一个容器。我们确保容器的宽度与loader div相同，但高度是它的一半。这样我们可以在容器上设置<code class="fe mn mo mp md b">overflow: hidden</code>,它会隐藏深绿色的边框，使仪表看起来像一个拱门。</p><p id="70fd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> HTML </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="2431" class="le lf in md b gy mh mi l mj mk">&lt;body&gt;<br/> &lt;div class="container"&gt;<br/>   &lt;div class="loader"&gt;&lt;/div&gt; <br/> &lt;/div&gt;<br/>&lt;/body&gt;</span></pre><p id="9b86" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> CSS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="94e8" class="le lf in md b gy mh mi l mj mk">*, <br/>*::after, <br/>*::before {<br/>  box-sizing: border-box;<br/>}</span><span id="469f" class="le lf in md b gy ml mi l mj mk">body {<br/>  height: 100vh;<br/>}</span><span id="7589" class="le lf in md b gy ml mi l mj mk">.container {<br/>  font-family: Arial;<br/>  height: 8rem;<br/>  left: 50%;<br/>  overflow: hidden;<br/>  position: relative;<br/>  top: 50%;<br/>  transform: translate(-50%, -50%);<br/>  width: 16rem;<br/>}</span><span id="b51d" class="le lf in md b gy ml mi l mj mk">.loader {<br/>  background: transparent;<br/>  border: 30px solid #D7ECA6;<br/>  border-radius: 50%;<br/>  height: 16rem;<br/>  transition: transform .2s ease;<br/>  position: relative;<br/>  width: 16rem;<br/>  &amp;::before {<br/>    content: '';<br/>    border: 30px solid #8CC800;<br/>    border-left-color: transparent;<br/>    border-radius: 50%;<br/>    border-top-color: transparent;<br/>    height: 16rem;<br/>    left: -30px;<br/>    position: absolute;<br/>    top: -30px;<br/>    transform: rotate(45deg);<br/>    width: 16rem;<br/>    z-index: 2;<br/>  }<br/>}</span></pre><figure class="ky kz la lb gt jo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/9adf0565ce60b75d3f8b2a448202c4a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*J-A1r2wpcZulAr9Ayz1tIQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Our arch all finished!</figcaption></figure><h2 id="cd12" class="le lf in bd lg lh li dn lj lk ll dp lm kl ln lo lp kp lq lr ls kt lt lu lv lw bi translated">第二步:获取随机数</h2><p id="7bc6" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">让我们首先硬编码我们的随机数，让它在我们的拱门内居中。</p><p id="a074" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> HTML </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="5f6a" class="le lf in md b gy mh mi l mj mk">&lt;body&gt;<br/> &lt;div class="container"&gt;<br/>   &lt;h1 class="loader__title"&gt;0&lt;/h1&gt;<br/>   &lt;div class="loader"&gt;&lt;/div&gt; <br/> &lt;/div&gt;<br/>&lt;/body&gt;</span></pre><p id="cba1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> CSS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="c20e" class="le lf in md b gy mh mi l mj mk">*, <br/>*::after, <br/>*::before {<br/>  box-sizing: border-box;<br/>}</span><span id="23f0" class="le lf in md b gy ml mi l mj mk">:root {<br/> --rotation: 0deg;<br/>}</span><span id="560a" class="le lf in md b gy ml mi l mj mk">body {<br/>  height: 100vh;<br/>}</span><span id="236a" class="le lf in md b gy ml mi l mj mk">.container {<br/>  font-family: Arial;<br/>  height: 8rem;<br/>  left: 50%;<br/>  overflow: hidden;<br/>  position: relative;<br/>  top: 50%;<br/>  transform: translate(-50%, -50%);<br/>  width: 16rem;<br/>}</span><span id="4c2d" class="le lf in md b gy ml mi l mj mk">.loader {<br/>  background: transparent;<br/>  border: 30px solid #D7ECA6;<br/>  border-radius: 50%;<br/>  height: 16rem;<br/>  transition: transform .2s ease;<br/>  position: relative;<br/>  width: 16rem;<br/>  &amp;::before {<br/>    content: '';<br/>    border: 30px solid #8CC800;<br/>    border-left-color: transparent;<br/>    border-radius: 50%;<br/>    border-top-color: transparent;<br/>    height: 16rem;<br/>    left: -30px;<br/>    position: absolute;<br/>    top: -30px;<br/>    transform: rotate(45deg);<br/>    width: 16rem;<br/>    z-index: 2;<br/>  }<br/>  &amp;__title {<br/>    color: #8CC800;<br/>    font-size: 5rem;<br/>    left: 50%;<br/>    position: absolute;<br/>    transform: translateX(-50%);<br/>  }<br/>}</span></pre><figure class="ky kz la lb gt jo gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/b10c20a70e4716ca0d70eca53a11745d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*Z_3RqHcgGroYg74OEDLo8Q.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Our arch with the starting number hard coded</figcaption></figure><p id="fa5f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了获得一个随机生成的数字，我们首先创建了一个<code class="fe mn mo mp md b">changeNum()</code>函数，并在一个<code class="fe mn mo mp md b">setInterval()</code>方法中调用它。这将触发每两秒产生一个新的随机数。</p><p id="d0f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> JS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="12e1" class="le lf in md b gy mh mi l mj mk">const changeNum = () =&gt; {};</span><span id="5ec4" class="le lf in md b gy ml mi l mj mk">setInterval(() =&gt; {<br/>  changeNum();<br/>}, 2000);</span></pre><blockquote class="mt mu mv"><p id="4293" class="ka kb mw kc b kd ke kf kg kh ki kj kk mx km kn ko my kq kr ks mz ku kv kw kx ig bi translated">让我们来分解一下:如果你不熟悉<code class="fe mn mo mp md b"><em class="in">setInterval()</em></code>方法，它会以毫秒为单位以指定的间隔调用一个函数，并一直调用这个函数，直到<code class="fe mn mo mp md b"><em class="in">clearInterval()</em></code>被调用或者窗口被关闭。这基本上与<code class="fe mn mo mp md b"><em class="in">setTimeout()</em></code>方法相反。</p></blockquote><p id="775c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们希望我们的量规获取1到100之间的一个随机数。为了做到这一点，我们使用了<code class="fe mn mo mp md b">Math.random()</code>方法，并将其包装在一个<code class="fe mn mo mp md b">Math.round()</code>方法中，这样我们就可以得到一个没有小数点的数字。我们还设置了一个变量来选择<code class="fe mn mo mp md b">.loader__title</code> h1。</p><p id="2458" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> JS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="22d6" class="le lf in md b gy mh mi l mj mk">const changeNum = () =&gt; {<br/>  const randomNum = Math.round(Math.random() * 100);<br/>  let title = document.querySelector(".loader__title");<br/>};</span><span id="4685" class="le lf in md b gy ml mi l mj mk">setInterval(() =&gt; {<br/>  changeNum();<br/>}, 2000);</span></pre><blockquote class="mt mu mv"><p id="d7a1" class="ka kb mw kc b kd ke kf kg kh ki kj kk mx km kn ko my kq kr ks mz ku kv kw kx ig bi translated">让我们来分解一下:<code class="fe mn mo mp md b"><em class="in">math.random()</em></code>方法返回一个介于0和1之间的数字。我们将这个数乘以100，这样我们就可以得到一个介于0和100之间的数。<code class="fe mn mo mp md b">math.round()</code>方法返回舍入到最近间隔的数值。您也可以在这里使用<code class="fe mn mo mp md b">math.floor()</code>，它将返回小于或等于给定数字的最大整数。</p></blockquote><p id="829b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，一些有趣的事情开始了。我们希望显示的数字增加或减少，所以我们设置了一个名为<code class="fe mn mo mp md b">currentNumber</code>的变量来获取我们的<code class="fe mn mo mp md b">.loader__title</code>当前显示的数字。然后，我们将该数字与if语句中生成的新随机数进行比较，以确定我们是否需要增加或减少显示为我们的<code class="fe mn mo mp md b">.loader__title</code> h1的数字。我们最初没有在另一个<code class="fe mn mo mp md b">setInterval()</code>方法中设置if语句，因此我们没有看到数量的增加或减少，因为它发生得太快了。一旦我们设定了那个方法，我们就得到了我们想要的效果。</p><p id="ca6a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> JS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="d2ed" class="le lf in md b gy mh mi l mj mk">const changeNum = () =&gt; {<br/>  const randomNum = Math.round(Math.random() * 100);<br/>  let title = document.querySelector(".loader__title");<br/>  let currentNumber = title.innerText;</span><span id="3a01" class="le lf in md b gy ml mi l mj mk">setInterval(() =&gt; {<br/>     if (currentNumber &lt; randomNum) {<br/>      currentNumber++;<br/>      title.innerText = currentNumber;<br/>    } else if (currentNumber &gt; randomNum) {<br/>      currentNumber--;<br/>      title.innerText = currentNumber;<br/>    }<br/>  }, 3);<br/>};</span><span id="067f" class="le lf in md b gy ml mi l mj mk">setInterval(() =&gt; {<br/>  changeNum();<br/>}, 2000);</span></pre><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/520c4e4757d60c049c146cc8bbe4112d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ornfPgMVMJIEVTpOm6vepg.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Our random number is now incrementing and decrementing</figcaption></figure><h2 id="3a3d" class="le lf in bd lg lh li dn lj lk ll dp lm kl ln lo lp kp lq lr ls kt lt lu lv lw bi translated">步骤3:用深绿色的before元素表示我们的进度</h2><p id="6a62" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">我和我的伙伴决定使用一些CSS变量来旋转我们的<code class="fe mn mo mp md b">.loader</code> div，并使其与正在生成的随机数相匹配。我们首先将<code class="fe mn mo mp md b">--rotation</code>变量设置为0deg，然后将<code class="fe mn mo mp md b">transform: rotate(var(--rotation));</code>添加到<code class="fe mn mo mp md b">.loader</code> div，这样当JS更新时，边框将旋转到与随机数匹配的进度。</p><p id="faa2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> CSS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="cea0" class="le lf in md b gy mh mi l mj mk">*, <br/>*::after, <br/>*::before {<br/>  box-sizing: border-box;<br/>}</span><span id="6100" class="le lf in md b gy ml mi l mj mk">:root {<br/> --rotation: 0deg;<br/>}</span><span id="958c" class="le lf in md b gy ml mi l mj mk">body {<br/>  height: 100vh;<br/>}</span><span id="7704" class="le lf in md b gy ml mi l mj mk">.container {<br/>  font-family: Arial;<br/>  height: 8rem;<br/>  left: 50%;<br/>  overflow: hidden;<br/>  position: relative;<br/>  top: 50%;<br/>  transform: translate(-50%, -50%);<br/>  width: 16rem;<br/>}</span><span id="0b18" class="le lf in md b gy ml mi l mj mk">.loader {<br/>  background: transparent;<br/>  border: 30px solid #D7ECA6;<br/>  border-radius: 50%;<br/>  height: 16rem;<br/>  transition: transform .2s ease;<br/>  transform: rotate(var(--rotation));<br/>  position: relative;<br/>  width: 16rem;<br/>  &amp;::before {<br/>    content: '';<br/>    border: 30px solid #8CC800;<br/>    border-left-color: transparent;<br/>    border-radius: 50%;<br/>    border-top-color: transparent;<br/>    height: 16rem;<br/>    left: -30px;<br/>    position: absolute;<br/>    top: -30px;<br/>    transform: rotate(45deg);<br/>    width: 16rem;<br/>    z-index: 2;<br/>  }<br/>  &amp;__title {<br/>    color: #8CC800;<br/>    font-size: 5rem;<br/>    left: 50%;<br/>    position: absolute;<br/>    transform: translateX(-50%);<br/>  }<br/>}</span></pre><p id="2434" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了实际得到我们需要旋转div的度数，我们用randomNum除以100，然后乘以180度。我们乘以180的原因是，如果随机数是100，这意味着元素前的深绿色将显示100%，它需要旋转整整180度才能完全显示。然后我们用另一个<code class="fe mn mo mp md b">Math.round()</code>方法包装所有东西，以确保我们没有任何小数点。最后，我们设置我们的<code class="fe mn mo mp md b">root</code>变量来更新度数，这将更新我们之前在<code class="fe mn mo mp md b">.loader</code> div上设置的CSS变量。</p><p id="63ba" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> JS </strong></p><pre class="ky kz la lb gt mc md me mf aw mg bi"><span id="6151" class="le lf in md b gy mh mi l mj mk">const changeNum = () =&gt; {<br/>  const randomNum = Math.round(Math.random() * 100);<br/>  const degrees = Math.round((randomNum / 100) * 180);<br/>  const root = document.querySelector(":root");<br/>  let title = document.querySelector(".loader__title");<br/>  let currentNumber = title.innerText;</span><span id="4fef" class="le lf in md b gy ml mi l mj mk">setInterval(() =&gt; {<br/>     if (currentNumber &lt; randomNum) {<br/>      currentNumber++;<br/>      title.innerText = currentNumber;<br/>    } else if (currentNumber &gt; randomNum) {<br/>      currentNumber--;<br/>      title.innerText = currentNumber;<br/>    }<br/>  }, 3);</span><span id="286b" class="le lf in md b gy ml mi l mj mk">root.style.setProperty("--rotation", `${degrees}deg`);<br/>};</span><span id="14f8" class="le lf in md b gy ml mi l mj mk">setInterval(() =&gt; {<br/>  changeNum();<br/>}, 2000);</span></pre><p id="79a3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就是这样！这就是我们如何用普通的JavaScript制作一个量表。在对这个挑战进行了更多的思考后，我意识到我们可以使用CSS turn单元来代替使用<code class="fe mn mo mp md b">transform: rotate();</code>来获得学位，这样会使数学计算更容易一些，但我仍然认为我们做每件事的方式完全没问题。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><p id="dada" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你是不是用和我完全不同的方式制作了计量器？一定要在下面评论或者给我发一条你自己独特方法的推文！</p><div class="ni nj gp gr nk nl"><a href="https://twitter.com/karaluton" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd io gy z fp nq fr fs nr fu fw im bi translated">卡拉·卢顿(@卡拉卢顿)|推特</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">卡拉卢顿的最新推文(@卡拉卢顿)。前端开发者+前音乐公关。退休芭蕾舞演员…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">twitter.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz jt nl"/></div></div></a></div></div></div>    
</body>
</html>