<html>
<head>
<title>TypeScript Tip of the Week — Using Classes &amp; Interfaces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">本周打字技巧—使用类和接口</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typescript-tip-of-the-week-using-classes-interfaces-6a0570f46750?source=collection_archive---------5-----------------------#2020-01-16">https://javascript.plainenglish.io/typescript-tip-of-the-week-using-classes-interfaces-6a0570f46750?source=collection_archive---------5-----------------------#2020-01-16</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/5fcc37e303fb9b1d585e1b7a12241579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVzKtlAV-8GX4S6NMCRQvQ.png"/></div></div></figure><p id="f96e" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">嘿，伙计们，很抱歉我已经有一段时间没有发帖了，过去几个月我一直特别忙！我很高兴能够带着另一个打字技巧回来。这周我想谈谈类和接口。如果你不熟悉接口，它们为一个对象或类创建了一种结构。它们强制执行这种结构，这样，如果您的类没有正确实现它，您将会得到一个错误。</p><p id="9ab9" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">当一个接口强制一个对象结构应该是什么样子时，它也创建了一个与你的代码和外部代码的契约。为了进一步说明这一点，我们来看一个例子。</p><pre class="kx ky kz la gu lb lc ld le aw lf bi"><span id="287e" class="lg lh ir lc b gz li lj l lk ll">// person-library.ts</span><span id="ce7f" class="lg lh ir lc b gz lm lj l lk ll">export interface IPerson {<br/>  firstName: string;<br/>  lastName: string;<br/>  age: number;<br/>}</span><span id="7b86" class="lg lh ir lc b gz lm lj l lk ll">export class Person implements IPerson {<br/>  firstName: string;<br/>  lastName: string;<br/>  age: number;</span><span id="5c89" class="lg lh ir lc b gz lm lj l lk ll">  constructor(data: IPerson) {<br/>    this.firstName = data.firstName;<br/>    this.lastName = data.lastName;<br/>    this.age = data.age;<br/>  }</span><span id="7b77" class="lg lh ir lc b gz lm lj l lk ll">  // Class Functions</span><span id="26f5" class="lg lh ir lc b gz lm lj l lk ll">}</span></pre><p id="fe0f" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><em class="ln">如果你想知道为什么这个接口被命名为</em> <code class="fe lo lp lq lc b"><em class="ln">IPerson</em></code> <em class="ln">而不仅仅是</em> <code class="fe lo lp lq lc b"><em class="ln">Person</em></code> <em class="ln">，那么</em> <code class="fe lo lp lq lc b"><em class="ln">I</em></code> <em class="ln">通常作为通用约定用于接口，但是也可以用于被实现的接口。</em></p><p id="6b4b" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">在这个例子中，<code class="fe lo lp lq lc b">Person</code>类实现了<code class="fe lo lp lq lc b">IPerson</code>接口。这意味着Person类必须具有<code class="fe lo lp lq lc b">IPerson</code>的所有属性。让我们假设这是其他人正在使用的<code class="fe lo lp lq lc b">person</code>库的一部分。我提到过，这可以在外部代码中使用，以在库中的接口和外部代码之间创建一个契约。</p><pre class="kx ky kz la gu lb lc ld le aw lf bi"><span id="a46f" class="lg lh ir lc b gz li lj l lk ll">// someone other code</span><span id="45e3" class="lg lh ir lc b gz lm lj l lk ll">import { IPerson, Person } from 'person-library';</span><span id="1745" class="lg lh ir lc b gz lm lj l lk ll">interface IEmployee extends IPerson {<br/>  jobTitle: string;<br/>  salary: number;<br/>}</span><span id="3676" class="lg lh ir lc b gz lm lj l lk ll">class Employee extends Person implements IEmployee {<br/>  firstName: string;<br/>  lastName: string;<br/>  age: number;<br/>  jobTitle: string;<br/>  salary: number</span><span id="c9f4" class="lg lh ir lc b gz lm lj l lk ll">  constructor(data: IEmployee) {<br/>    super(data);</span><span id="a3b1" class="lg lh ir lc b gz lm lj l lk ll">    this.jobTitle = data.jobTitle;<br/>    this.salary = data.salary;<br/>  }</span><span id="f5dc" class="lg lh ir lc b gz lm lj l lk ll">  // Class Functions<br/>}</span><span id="e6b2" class="lg lh ir lc b gz lm lj l lk ll">const me = new Employee({firstName: 'Sam', lastName: 'Redmond', age: 100, jobTitle: 'Software Engineer', salary: 1000000});</span></pre><p id="49ab" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">这是一个简单的例子，展示了如何用额外的属性扩展<code class="fe lo lp lq lc b">IPerson</code>接口。这种模式提供了一个通用的结构，并允许代码重用。我提到过接口在你的代码中创建契约。这意味着当我们使用来自一些外部代码的接口时，保证它将具有某些属性。您可以使用该保证来假设某些属性将会存在。</p><p id="42d6" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">让我们稍微分解一下这段代码。当我们用<code class="fe lo lp lq lc b">IPerson</code>接口扩展<code class="fe lo lp lq lc b">IEmployee</code>接口时，我们不需要在<code class="fe lo lp lq lc b">IPerson</code>中定义属性。这是TypeScript的一个有用功能，这样您可以声明一次接口属性，然后在以后扩展它们。我们可以用<code class="fe lo lp lq lc b">Employee</code>类做同样的事情。当我们扩展一个类时，我们还必须使用<code class="fe lo lp lq lc b">super</code>函数，以便将所需的信息传递给扩展类的构造函数。</p><p id="bb8b" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">你会注意到我们将一个<code class="fe lo lp lq lc b">IEmployee</code>传递给了<code class="fe lo lp lq lc b">super</code>函数，但它应该接受一个<code class="fe lo lp lq lc b">IPerson</code>。因为<code class="fe lo lp lq lc b">IEmployee</code>扩展了<code class="fe lo lp lq lc b">IPerson</code>，所以它必须具有<code class="fe lo lp lq lc b">IPerson</code>的所有属性，并且在这种情况下可以用在它的位置上。这是使用接口在代码中创建契约的一个很好的例子。由于<code class="fe lo lp lq lc b">IPerson</code>的所有属性都已经通过使用<code class="fe lo lp lq lc b">super</code>函数进行了初始化，我们只需要初始化<code class="fe lo lp lq lc b">IEmployee</code>特有的属性。</p><p id="ee19" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">遵循这种模式使您能够轻松地重用代码块。这使你的代码整洁简洁，这将有助于你长期维护它。我希望你喜欢这个打字技巧。由于假期已经结束，我应该可以继续定期发帖。我将在每周三晚上发布一个新的打字提示。</p><p id="5dad" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">感谢阅读！</p><p id="5a18" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">如果你喜欢这篇文章，我希望你能<a class="ae lr" href="https://email.sam-redmond.com/" rel="noopener ugc nofollow" target="_blank">加入我的邮件列表</a>，在那里我会发送额外的提示&amp;技巧！</p><p id="e3ea" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">如果你觉得这篇文章有帮助、有趣或娱乐性<a class="ae lr" href="https://email.sam-redmond.com/products/throw-me-a-bit" rel="noopener ugc nofollow" target="_blank">请给我买杯咖啡</a>帮助我继续发布内容！</p></div></div>    
</body>
</html>