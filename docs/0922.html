<html>
<head>
<title>4 Things I Learned from Reading Effective TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我从阅读有效打字稿中学到的4件事</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-things-i-learned-from-reading-effective-typescript-59bc5e517f31?source=collection_archive---------3-----------------------#2020-01-03">https://javascript.plainenglish.io/4-things-i-learned-from-reading-effective-typescript-59bc5e517f31?source=collection_archive---------3-----------------------#2020-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/26e8c666fa0951679601b4875660345b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mK87bpn18D_aq_vb"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@siora18?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Siora Photography</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="303b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">几天前，我在长途飞行(<em class="lb">准确地说是8个小时)中读完了丹·范德卡姆的<em class="lb">高效打字稿</em>！</em>)。这本书写得简明扼要，有许多实用的建议。虽然我建议阅读整本书，但这里有一些我最喜欢的技巧。</p><h2 id="a62d" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">1.使用`<strong class="ak"> readonly` </strong>防止变异对象时出现错误</h2><p id="eb29" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">当数组或元组被标记为<code class="fe ma mb mc md b">readonly</code>时，当用户试图添加、删除或更新这些对象中的项目时，TS将出错。这在函数式编程中尤其有助于避免副作用。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/8777bb5c6bc0063e0f03270fe9ac5e06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uBP1rRNGRyZzwh0__3QUmQ.png"/></div></div></figure><h2 id="187d" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">2.为了类型的可重用性，函数表达式优于函数声明</h2><p id="1f10" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">当编写具有相同函数签名的实用程序时，可能会有些重复。下面，您会看到三个与cart相关的函数，每次都需要再次写出输入和输出类型。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/06abfdf663903f452fec02d0ae30f79b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7LyNpTyJ3PKjPs4e041wA.png"/></div></div></figure><p id="9d83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了保持干燥，您可以将整个签名分配给一个函数类型，并切换到使用函数表达式。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/92374790a92a56a0f8a7738fa591d0e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jx3aEgT56vVZHBLu-N3svA.png"/></div></div></figure><h2 id="0b82" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">3.优先选择unknown，以获得更好的类型安全性</h2><p id="7bb1" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">使用<code class="fe ma mb mc md b">any</code>可能是一个有用的逃生出口，但也有很好的理由避免它。它不保证任何类型安全，并且它对调用链上的消费者隐藏错误。使用<code class="fe ma mb mc md b">unknown</code>类型，TypeScript将正确地显示错误，比如调用不存在的方法。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/283609bc4945b3048f4c82f887063561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AnTYq_BTRoDzn9c1_YLqNw.png"/></div></div></figure><p id="1a7b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您作为开发人员比编译器更了解类型，您也可以使用带有双重断言的<code class="fe ma mb mc md b">unknown</code>来阐明意图。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/05ac4910c6fc3e47b66abb5e43d866e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u65Tok4Qi3DP-n8mD13Seg.png"/></div></div></figure><h2 id="c35c" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">4.倾向于JSDoc或TSDoc风格的注释，以获得更好的开发体验</h2><p id="d770" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">在大多数情况下，您应该避免在注释中包含类型信息。但是，如果您正在迁移并使用JS来启用TS，或者如果您想要提供关于该函数的附加信息，JSDoc或TSDoc是进行类型检查并与您的ide集成的好方法。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/10eeb3db26eeff7ec81193fabcfc6406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDmAcMCzl6SzwdxnPdhOkg.png"/></div></div></figure><p id="31a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意VSCode在工具提示中显示格式正确的注释。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/4da35cb829741cc2c2ffa35af8e2b83d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72D6BqFmG-ByOyPUNhcv1Q.png"/></div></div></figure></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="21fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样！我选择这些技巧是因为它们可以立即应用于改进我们现有的代码库。我希望你也觉得它们有用。</p></div></div>    
</body>
</html>