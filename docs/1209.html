<html>
<head>
<title>Personalize your Web Development Workspace by creating your own a Chrome Extension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过创建自己的Chrome扩展来个性化您的Web开发工作区</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/personalize-your-web-development-workspace-by-creating-your-own-a-chrome-extension-7a817e3fbfe9?source=collection_archive---------8-----------------------#2020-02-12">https://javascript.plainenglish.io/personalize-your-web-development-workspace-by-creating-your-own-a-chrome-extension-7a817e3fbfe9?source=collection_archive---------8-----------------------#2020-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="b940" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">摘要</h1><p id="ae59" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Chrome extension允许我们向浏览器添加功能，个性化我们的开发体验。React DevTools就是一个很好的例子，它允许React开发者通过Chrome DevTools检查和调试虚拟DOM。</p><p id="3a92" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">在这次演讲中，我将探讨如何开发你的Chrome扩展，以及如何使用它来改进你的开发工作流程。</p><p id="fd23" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">希望在演讲结束时，你能够为你的开发工作空间编写你的Chrome扩展。</p><h1 id="0e2f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">概观</h1><p id="0885" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一个Chrome扩展由几个组件组成，这些组件可以分解成<a class="ae lo" href="https://developer.chrome.com/extensions/background_pages" rel="noopener ugc nofollow" target="_blank">后台脚本</a>、<a class="ae lo" href="https://developer.chrome.com/extensions/content_scripts" rel="noopener ugc nofollow" target="_blank">内容脚本</a>、一个<a class="ae lo" href="https://developer.chrome.com/extensions/options" rel="noopener ugc nofollow" target="_blank">选项页面</a>、<a class="ae lo" href="https://developer.chrome.com/extensions/user_interface" rel="noopener ugc nofollow" target="_blank"> UI元素</a>。</p><p id="42b7" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">后台脚本<strong class="kn ir">就像你的Chrome扩展的后台线程。在这里，您可以观察浏览器事件并修改浏览器行为。</strong></p><p id="bb8d" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><strong class="kn ir">内容脚本</strong>在网页的上下文中运行。允许访问和修改网页的DOM。它是向扩展提供网页信息的地方，也是为网页提供与扩展通信的钩子的地方。</p><p id="64af" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><strong class="kn ir">选项页面</strong>是一个独立的页面，用户可以在这里修改你的Chrome扩展的行为。</p><p id="db1a" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><strong class="kn ir"> UI元素</strong>就是我们通常认为的chrome扩展，包括:</p><ul class=""><li id="2433" class="lp lq iq kn b ko lj ks lk kw lr la ls le lt li lu lv lw lx bi translated"><a class="ae lo" href="https://developer.chrome.com/extensions/user_interface#browser_action" rel="noopener ugc nofollow" target="_blank">浏览器动作</a> <em class="ly">(地址栏旁边工具栏中的小图标)</em></li><li id="2d61" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://developer.chrome.com/extensions/user_interface#popup" rel="noopener ugc nofollow" target="_blank">弹出</a> <em class="ly">(点击工具栏图标时显示的浮动窗口)</em></li><li id="a169" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://developer.chrome.com/extensions/user_interface#context_menu" rel="noopener ugc nofollow" target="_blank">上下文菜单</a> <em class="ly">(是的，您可以定制您的右键上下文菜单)</em></li><li id="fd8b" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://developer.chrome.com/extensions/devtools" rel="noopener ugc nofollow" target="_blank"> devtools面板</a><em class="ly">(dev tools中的新面板)</em></li><li id="e397" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://developer.chrome.com/extensions/user_interface#override" rel="noopener ugc nofollow" target="_blank">自定义页面</a> <em class="ly">(覆盖历史、新标签或书签页面)</em></li></ul><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi me"><img src="../Images/d8f5be5d828699f292bf53617cb38366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ibDEFmOHTq4nH1xI-XkeQw.png"/></div></div></figure><p id="a99f" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">现在你知道了Chrome扩展的不同组件，让我们看看每个扩展中最重要的文件<code class="fe mq mr ms mt b">manifest.json</code>。</p><p id="aee4" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><code class="fe mq mr ms mt b">manifest.json</code>是你声明chrome扩展的地方:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="c18e" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">你可以在<code class="fe mq mr ms mt b">manifest.json</code>中声明所有的UI元素。您还可以在后台脚本中以编程方式启用它们。</p><p id="1424" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">例如，当站点不使用React、使用开发React和使用生产React时，React Devtools会显示不同的React徽标:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="5e1a" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">注意，<code class="fe mq mr ms mt b">browser_action</code>和<code class="fe mq mr ms mt b">devtools_page</code>字段的<code class="fe mq mr ms mt b">options_page</code>、<code class="fe mq mr ms mt b">popup</code>接受一个HTML页面的路径。您可以将HTML页面视为任何web应用程序，您可以使用任何您喜欢的框架来构建它。比如React Devtools就是用React打造的！</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk"><em class="na">popup.html is just like any web app, that can be build with any web framework</em></figcaption></figure><p id="3b93" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">对于devtools页面，您需要以编程方式向devtools添加面板:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="9828" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">组件之间的通信</h1><p id="9872" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">由于只有内容脚本在web页面的上下文中运行，如果您的扩展需要与web页面进行交互，您将需要某种方式从内容脚本与扩展的其余部分进行通信。</p><p id="8347" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">例如，React Devtools使用内容脚本来检测React版本，并通知后台脚本相应地更新页面操作图标。</p><p id="9f4a" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">Chrome扩展的不同组件之间的通信通过使用<a class="ae lo" href="https://developer.chrome.com/extensions/messaging" rel="noopener ugc nofollow" target="_blank">消息传递</a>来工作。有用于<a class="ae lo" href="https://developer.chrome.com/extensions/messaging#simple" rel="noopener ugc nofollow" target="_blank">一次性请求</a>以及<a class="ae lo" href="https://developer.chrome.com/extensions/messaging#connect" rel="noopener ugc nofollow" target="_blank">长期连接</a>的API。</p><p id="9a1e" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">一次性请求API对于一个简单的扩展来说工作得很好，但是当扩展的不同部分之间有更多的通信时，它会变得更加混乱。</p><p id="d220" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">我特别研究了<a class="ae lo" href="https://github.com/facebook/react/tree/master/packages/react-devtools-core" rel="noopener ugc nofollow" target="_blank"> React Devtools </a> <a class="ae lo" href="https://github.com/facebook/react/blob/master/packages/react-devtools/OVERVIEW.md" rel="noopener ugc nofollow" target="_blank">如何工作</a>，因为要在Devtools面板中显示更新后的React虚拟DOM树，devtools和内容脚本之间需要大量的通信。</p><p id="abe1" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">经过一些研究和实验，我为我的Chrome扩展提出了以下架构:</p><ul class=""><li id="dc4d" class="lp lq iq kn b ko lj ks lk kw lr la ls le lt li lu lv lw lx bi translated">所有的扩展组件(例如:弹出窗口、内容脚本、开发工具)都与后台脚本保持着长期的连接</li><li id="be15" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated">后台脚本充当中央控制器，接收来自每个组件的消息，并将它们分发到相关组件</li><li id="07fe" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated">每个组件就像是<a class="ae lo" href="https://en.wikipedia.org/wiki/Actor_model" rel="noopener ugc nofollow" target="_blank">角色模型</a>中的一个角色，它根据收到的消息行动，并在需要的地方向其他角色发送消息。</li></ul><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nb"><img src="../Images/2a5848b34e41701ec9992c32060e3adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vsZAeVGKUH41EK2r6ZTwxA.png"/></div></div></figure><h1 id="29ca" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">内容脚本和网页之间的通信</h1><p id="1375" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">内容脚本在web页面的上下文中运行，这意味着它可以与DOM交互，比如操纵DOM结构和向DOM元素添加事件侦听器。</p><p id="d2f0" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">此外，内容脚本可以在网页的上下文中访问页面历史、cookies、本地存储和其他浏览器的API。</p><p id="87fe" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">然而，内容脚本存在于网页的不同全局范围中。这意味着，如果您的web应用程序声明了一个全局变量<code class="fe mq mr ms mt b">foo</code>，内容脚本就不可能访问它。</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="5576" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">反之亦然:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="9825" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">但是，内容脚本仍然可以在web应用程序中声明一个变量，因为它可以访问同一个DOM，所以它可以通过添加一个脚本标记来这样做:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><blockquote class="nc nd ne"><p id="9a15" class="kl km ly kn b ko lj kq kr ks lk ku kv nf ll ky kz ng lm lc ld nh ln lg lh li ij bi translated"><strong class="kn ir"> <em class="iq">注意:</em> </strong> <em class="iq">取决于</em> <a class="ae lo" href="https://developer.chrome.com/extensions/content_scripts#run_time" rel="noopener ugc nofollow" target="_blank"> <em class="iq">当您开始运行您的内容脚本</em> </a> <em class="iq">时，DOM在您的内容脚本执行时可能已经构建，也可能没有构建。</em></p></blockquote><p id="37a2" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">但是，您不能将web应用程序中的变量声明到内容脚本范围中。</p><p id="7632" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">我偶然发现了一个想法，您的web应用程序可以通过DOM“声明一个变量”,方法是创建一个专门用于内容脚本消费的特殊DOM元素:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="9339" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">这在技术上是可能的，尽管我不建议这样做。</p><p id="f033" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">相反，您应该使用<a class="ae lo" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" rel="noopener ugc nofollow" target="_blank"> window.postMessage </a>在网页和内容脚本之间进行通信。</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><blockquote class="nc nd ne"><p id="807a" class="kl km ly kn b ko lj kq kr ks lk ku kv nf ll ky kz ng lm lc ld nh ln lg lh li ij bi translated"><strong class="kn ir"> <em class="iq">注意:</em> </strong> <em class="iq">一定要添加一个标识符字段，例如:</em> <code class="fe mq mr ms mt b"><em class="iq">"source"</em></code> <em class="iq">，对事件数据进行过滤，如果不过滤掉您使用中发送的事件，您会惊讶于通过</em> <code class="fe mq mr ms mt b"><em class="iq">window.postMessage</em></code> <em class="iq">传递的数据有多少。</em></p></blockquote><h2 id="6a5a" class="ni jo iq bd jp nj nk dn jt nl nm dp jx kw nn no kb la np nq kf le nr ns kj nt bi translated">为您的扩展提供一个挂钩</h2><p id="81ef" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">如果你安装了<a class="ae lo" href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" rel="noopener ugc nofollow" target="_blank"> React Devtools </a>，尝试在你的控制台中键入<code class="fe mq mr ms mt b">__REACT_DEVTOOLS_GLOBAL_HOOK__</code>。这是一个由React Devtools内容脚本注入的全局对象，为您的网页提供一个与内容脚本通信的简单接口。</p><p id="0a6d" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">您也可以这样做:</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="2c0d" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">你可以<a class="ae lo" href="https://github.com/tanhauhau/chrome-extension-demo/tree/master/basic" rel="noopener ugc nofollow" target="_blank">查看我的repo </a>来获得一个基本的Chrome扩展设置，它包含了上面所有的代码。</p><p id="4d12" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">恭喜，我们已经通过了开发Chrome扩展的最困难的部分！</p><p id="3258" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">现在，让我们看看我们可以开发什么样的Chrome扩展来帮助我们的日常开发。</p><h1 id="37de" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">你能用Chrome扩展做什么</h1><p id="5418" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">不知道你怎么样，但是<a class="ae lo" href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en" rel="noopener ugc nofollow" target="_blank"> React DevTools </a>和<a class="ae lo" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" rel="noopener ugc nofollow" target="_blank"> Redux DevTools </a>对我的日常React开发帮助极大。除此之外，我一直在使用<a class="ae lo" href="https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg" rel="noopener ugc nofollow" target="_blank">editthiscokie</a>进行Cookie管理，<a class="ae lo" href="https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa" rel="noopener ugc nofollow" target="_blank"> JSON Formatter </a>一直在帮助我检查Chrome中的<code class="fe mq mr ms mt b">.json</code>文件，还有许多扩展使我的开发工作更容易，我在本文末尾列出了这些扩展。</p><p id="653c" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如您所见，这些扩展是专门化的，在我发展的某个方面很有帮助:</p><ul class=""><li id="81ca" class="lp lq iq kn b ko lj ks lk kw lr la ls le lt li lu lv lw lx bi translated"><strong class="kn ir"> React Devtools </strong>用于调试React虚拟DOM</li><li id="23dc" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><strong class="kn ir"> Redux开发工具</strong>用于调试Redux存储和时间旅行</li><li id="ea0e" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><strong class="kn ir">编辑ThisCookie </strong>用于调试Cookie</li><li id="8e3e" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi">…</li></ul><p id="7d23" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">它们专门用于一般的React或Redux项目，但对于您个人或您团队的开发工作空间来说还不够专门。</p><p id="4c19" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">在下文中，我将向您展示几个示例，以及每个示例的源代码，希望这些示例能启发您创建自己的Chrome扩展。</p><h1 id="3445" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">切换环境和功能</h1><p id="7703" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一个web应用程序通常在不同的环境<em class="ly">(例如:测试、试运行、现场)</em>、不同的语言<em class="ly">(例如:英语、中文)</em>中提供服务，并且可能有不同的功能切换来启用/禁用web应用程序上的功能。</p><p id="3205" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">根据您的web应用程序设置，切换环境、语言或功能切换可能需要您模拟它，或者手动编辑cookie /本地存储(如果您的标志保存在那里)。</p><p id="4b81" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">想想你需要如何教育每个新的开发人员/ QA / PM如何手动切换环境、语言或特性。</p><p id="d2c2" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">相反，如果你有一个Chrome扩展，它提供了一个直观的用户界面，让你可以做到这一点呢？</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nu"><img src="../Images/228b4c91e40f8717e44e4dd33d6d309f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*R72M1M2b9IajCnUyTBXuhg.gif"/></div></div></figure><p id="c95b" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">您可以让扩展写入cookie /本地存储。您可以从扩展订阅事件，并在您的web应用程序中进行适当的更改。</p><p id="1066" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">随你怎么做，这是你的Chrome扩展。</p><p id="0396" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><a class="ae lo" href="https://github.com/tanhauhau/chrome-extension-demo/tree/master/feature-toggles" rel="noopener ugc nofollow" target="_blank">演示代码</a></p><h1 id="bdfa" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">报告屏幕录制的错误</h1><p id="ba31" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">也许你正在使用屏幕记录工具来记录bug，或者你正在使用一些付费服务，像<a class="ae lo" href="https://logrocket.com/" rel="noopener ugc nofollow" target="_blank"> LogRocket </a>来记录每一次用户交互，但是它们与你的bug跟踪系统集成得如何呢？</p><p id="5039" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">你可以有一个Chrome扩展，使用<a class="ae lo" href="https://developer.chrome.com/extensions/tabCapture" rel="noopener ugc nofollow" target="_blank"> chrome.tabCapture </a> API来记录标签的视频记录，获取你的应用程序的基本信息，比如你的web应用程序的状态、控制台错误、网络请求，并将它们发送到你的错误跟踪系统。</p><p id="cd11" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">您可以传递开发设置特有的信息，例如Redux store/<a class="ae lo" href="https://vuex.vuejs.org/guide/" rel="noopener ugc nofollow" target="_blank">Vuex</a>store/<a class="ae lo" href="https://svelte.dev/tutorial/writable-stores" rel="noopener ugc nofollow" target="_blank">Svelte store</a>状态和操作历史、特性切换、请求id…</p><p id="9c23" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">你还可以整合你的bug追踪系统，无论是<a class="ae lo" href="https://www.atlassian.com/software/jira" rel="noopener ugc nofollow" target="_blank">吉拉</a>、<a class="ae lo" href="http://trello.com/" rel="noopener ugc nofollow" target="_blank">特雷罗</a>、<a class="ae lo" href="http://sheets.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌表单</a>、电子邮件还是一些内部系统。</p><p id="8056" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">其理念是您的扩展可以根据您的开发工作区设置进行个性化。</p><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nu"><img src="../Images/8288ebd2e5bd2386dfd37ee36bacd1cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uKq1WO3W_9n8tyJ9jYls8A.gif"/></div></div></figure><p id="6044" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><a class="ae lo" href="https://github.com/tanhauhau/chrome-extension-demo/tree/master/bug-recording" rel="noopener ugc nofollow" target="_blank">演示代码</a></p><h1 id="e0ef" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">调试事件和分析</h1><p id="c869" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">调试和测试日志和分析事件通常很麻烦。</p><p id="7cd3" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">通常，尤其是生产版本，事件不会在控制台中注销。因此，检查和调试这些事件的唯一方法是使用网络检查器，在这些事件被发送到后端服务器时检查请求体。</p><p id="0cda" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">如果我们只在安装了扩展时才注销这些事件，会怎么样？</p><p id="88ba" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">就像<a class="ae lo" href="https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna" rel="noopener ugc nofollow" target="_blank"> Google Analytics Debuger </a>一样，该扩展提供了一个打开Google Analytics客户端调试模式的开关。</p><figure class="mf mg mh mi gt mj"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="mf mg mh mi gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nu"><img src="../Images/d3466999a58398be93cf7c791f7dc7db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P6ZQHD_plexAtvuJMe_N1g.gif"/></div></div></figure><p id="82f4" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><a class="ae lo" href="https://github.com/tanhauhau/chrome-extension-demo/tree/master/events-analytics" rel="noopener ugc nofollow" target="_blank">演示代码</a></p><h1 id="f45f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">结束语</h1><p id="efc3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我已经向你展示了如何创建你的Chrome扩展，也提供了一些扩展的想法。轮到你编写你的Chrome扩展并创建你的个性化开发工作空间了。</p><p id="ee3a" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated">和我分享一下你的Chrome扩展能做什么，期待看到它们！</p><h1 id="b12f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">对我的日常发展有帮助的扩展</h1><ul class=""><li id="0c83" class="lp lq iq kn b ko kp ks kt kw nv la nw le nx li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" rel="noopener ugc nofollow" target="_blank"> React Devtools </a> —检查React虚拟DOM</li><li id="ca7c" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" rel="noopener ugc nofollow" target="_blank"> Redux DevTools </a> — Redux商店检查和时间旅行</li><li id="9856" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa" rel="noopener ugc nofollow" target="_blank"> JSON格式化程序</a> —使JSON易于阅读。</li><li id="c0ba" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg" rel="noopener ugc nofollow" target="_blank">编辑Cookie </a> —调试页面上的Cookie</li><li id="8c8b" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna" rel="noopener ugc nofollow" target="_blank">谷歌分析调试器</a> —调试谷歌分析</li><li id="3d3d" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/openlink-structured-data/egdaiaihbdoiibopledjahjaihbmjhdj" rel="noopener ugc nofollow" target="_blank"> OpenLink结构化数据嗅探器</a> —调试网页中的结构化元数据</li><li id="7bdb" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/cdockenadnadldjbbgcallicgledbeoc" rel="noopener ugc nofollow" target="_blank"> VisBug </a> —网页设计调试工具</li><li id="b8ae" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><a class="ae lo" href="https://chrome.google.com/webstore/detail/wappalyzer/gppongmhjkpfnbhagpmjfkannfbllamg" rel="noopener ugc nofollow" target="_blank"> Wappalyzer </a> —检测网页上的网络技术</li><li id="e33d" class="lp lq iq kn b ko lz ks ma kw mb la mc le md li lu lv lw lx bi translated"><strong class="kn ir">Shopee dev tools</strong>——仅在内部提供，<a class="ae lo" href="https://grnh.se/2cf965792" rel="noopener ugc nofollow" target="_blank">加入我们的团队</a>，我将向您展示使用<strong class="kn ir"> Shopee DevTools </strong>还能做些什么惊人的事情！</li></ul></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="47e1" class="pw-post-body-paragraph kl km iq kn b ko lj kq kr ks lk ku kv kw ll ky kz la lm lc ld le ln lg lh li ij bi translated"><a class="ae lo" href="https://twitter.com/lihautan" rel="noopener ugc nofollow" target="_blank"> <em class="ly">在twitter上关注我</em> </a> <em class="ly">获取我的其他文章。最初发表于</em><a class="ae lo" href="https://lihautan.com/personalised-development-workspace-with-chrome-extension/" rel="noopener ugc nofollow" target="_blank"><em class="ly"/></a><em class="ly">。</em></p></div></div>    
</body>
</html>