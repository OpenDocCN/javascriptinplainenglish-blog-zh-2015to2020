<html>
<head>
<title>How to create an auto coder pad with React and Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React和Tailwind CSS创建一个自动编码板</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-an-auto-coder-pad-with-react-and-tailwind-css-ae74d25c6e2c?source=collection_archive---------15-----------------------#2020-10-06">https://javascript.plainenglish.io/how-to-create-an-auto-coder-pad-with-react-and-tailwind-css-ae74d25c6e2c?source=collection_archive---------15-----------------------#2020-10-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/adc5bfa7c0c6beb31e5485562b327d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*QINcT0-yGZlZZ2dT2eOJSg.png"/></div></figure><p id="d19e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我的故事如下。前几天我在Tailwind CSS网站上，我注意到他们的主页上有一个很棒的自动编码板。当自动编码器板输入时，它会改变css，这样你就可以看到如何使用Tailwind CSS来创建样式化的组件。所以我自然想把它添加到我的入门级开发人员培训网站上。</p><div class="kp kq gp gr kr ks"><a href="https://www.tailwindcss.com" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd io gy z fp kx fr fs ky fu fw im bi translated">tailwind CSS——一个实用的CSS框架，用于快速构建定制设计</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">它们带有各种预先设计的组件，如按钮、卡片和警报，可以帮助您快速移动…</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">www.tailwindcss.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg jp ks"/></div></div></a></div><p id="e6fa" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">当我第一次开始思考如何做到这一点时，我首先去了NPM，看看我可以用什么包来突出代码。</p><p id="d729" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我决定使用Highlight.js和React Highlight.js，React highlight . js是这个库的一个轻量级包装器。</p><p id="cb06" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">Highlight.js易于开箱即用，它提供了许多风格和语言。</p><p id="5e28" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><a class="ae lh" href="https://highlightjs.org/" rel="noopener ugc nofollow" target="_blank">https://highlightjs.org/</a></p></div><div class="ab cl li lj hr lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ig ih ii ij ik"><p id="3f58" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这里是我尝试使用这些库在React中创建一个自动编码板。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="f9c4" class="ly lz in lu b gy ma mb l mc md">import { useEffect, useState, useRef } from 'react';<br/>import useTriggerOnScroll from '@hooks/useTriggerOnScroll';</span><span id="abba" class="ly lz in lu b gy me mb l mc md">const introContent = `1 &lt;html lang="en"&gt;<br/>2  &lt;head&gt;<br/>3   &lt;title&gt;Entry Level Developer&lt;/title&gt;<br/>4  &lt;/head&gt;<br/>5  &lt;body&gt;<br/>6   &lt;h1&gt;Start your career today!&lt;/h1&gt;<br/>7  &lt;/body&gt;<br/>8 &lt;/html&gt;<br/>`;</span><span id="d726" class="ly lz in lu b gy me mb l mc md">let index = 0;</span><span id="19aa" class="ly lz in lu b gy me mb l mc md">function CodeSample() {<br/>  const el = useRef();<br/>  const [content, setContent] = useState('');<br/>  const [start, setStart] = useState(false);<br/>  useTriggerOnScroll(el, () =&gt; {<br/>    setStart(true);<br/>  });<br/>  useEffect(() =&gt; {<br/>    if (!start) {<br/>      return;<br/>    }<br/>    const type = () =&gt; {<br/>      setContent(content + introContent[index++]);<br/>    };<br/>    if (index &lt; introContent.length) {<br/>      setTimeout(type, 100);<br/>    }<br/>  }, [start, content]);<br/>  return (<br/>    &lt;div ref={el} className="highlight text-xs sm:text-sm md:text-md"&gt;<br/>      &lt;div className="flex pl-4 pt-4"&gt;<br/>        &lt;div className="rounded-full bg-red-500 w-3 h-3 mr-2" /&gt;<br/>        &lt;div className="rounded-full bg-yellow-500 w-3 h-3 mr-2" /&gt;       <br/>        &lt;div className="rounded-full bg-green-500 w-3 h-3" /&gt;<br/>      &lt;/div&gt;<br/>      &lt;Highlight language={'html'}&gt;{content}&lt;/Highlight&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="fb57" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们来谈谈我的方法，以及我为什么要这样编码。首先，我从完整的内容开始，当用户第一次来到网站时，我希望自动编码板能够打印出来。我把这个变量叫做<code class="fe mf mg mh lu b">introContent</code>。</p><p id="97f9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在，在我的组件中，我用一个React状态变量跟踪Highlight.js组件中文本的状态。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="8891" class="ly lz in lu b gy ma mb l mc md">const [content, setContent] = useState('');</span></pre><p id="55ad" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我希望它打得很快，但不要太快，所以在我的<code class="fe mf mg mh lu b">useEffect</code>中，我有一个每100毫秒执行一次的<code class="fe mf mg mh lu b">setTimeout</code>函数。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="aa68" class="ly lz in lu b gy ma mb l mc md">setContent(content + introContent[index++]);</span></pre><p id="0cea" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我用一个叫做<code class="fe mf mg mh lu b">index</code>的整数来跟踪我在字符串中的索引。每当我在<code class="fe mf mg mh lu b">setTimeout</code>中综合输入一个字符时，我就增加到下一个字母，直到不再有字符需要输入并与之前输入的字符连接。</p><p id="3bdc" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">起初我认为我可以写一个<code class="fe mf mg mh lu b">setInterval</code>并让<code class="fe mf mg mh lu b">useEffect</code>只运行一次，然而这样做它永远不会更新<code class="fe mf mg mh lu b">content</code>状态，因为<code class="fe mf mg mh lu b">useEffect</code>不会在每次运行时都有更新版本。</p><p id="184e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">至于最后一部分，我们来说说<code class="fe mf mg mh lu b">useRef</code>和<code class="fe mf mg mh lu b">useTriggerOnScroll</code>挂钩。</p><p id="5ad8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我注意到，当我第一次把它添加到我的网站时，它会在页面加载时自动输入，然后当我向下滚动到该元素时，它已经完成了。我需要一种方法来触发开始输入时，用户向下滚动，自动编码器垫进入视野。</p><p id="d73f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我<code class="fe mf mg mh lu b">useRef</code>在主<code class="fe mf mg mh lu b">div</code>元素上添加一个引用，然后我把它传递给我的自定义钩子<code class="fe mf mg mh lu b">useTriggerOnScroll</code>。当元素滚动到用户视窗时，这个钩子触发一个函数。</p><p id="c998" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们来看看自定义挂钩。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="287a" class="ly lz in lu b gy ma mb l mc md">import { useEffect } from 'react';</span><span id="a8e7" class="ly lz in lu b gy me mb l mc md">function isInViewport(el, offset = 0) {<br/>  if (!el) return false;<br/>  const top = el.getBoundingClientRect().top;<br/>  return top + offset &gt;= 0 &amp;&amp; top - offset &lt;= window.innerHeight;<br/>}</span><span id="f1e3" class="ly lz in lu b gy me mb l mc md">export default function useTriggerOnScroll(ref, onTrigger) {<br/>  useEffect(() =&gt; {<br/>    function onScroll() {<br/>      if (isInViewport(ref.current)) {<br/>        onTrigger();<br/>        window.removeEventListener('scroll', onScroll);<br/>      }<br/>    }<br/>    window.addEventListener('scroll', onScroll);<br/>    return () =&gt; {<br/>      window.removeEventListener('scroll', onScroll);<br/>    };<br/>  }, [ref, onTrigger]);<br/>}</span></pre><p id="25e1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我设置了一个<code class="fe mf mg mh lu b">addEventListener</code>，这样我就可以监听滚动事件。在我的<code class="fe mf mg mh lu b">onScroll</code>函数中，我通过使用<code class="fe mf mg mh lu b">isInViewport</code>函数计算元素是否在视窗中。</p><p id="ee80" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">一旦元素滚动到视图中，调用<code class="fe mf mg mh lu b">onTrigger</code>函数并删除滚动监听器。</p><p id="99f1" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这是我所面临的特定问题，所以请随意更改以满足您的需求。</p><p id="c929" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">也许有更好的方法，请在评论中告诉我。</p></div><div class="ab cl li lj hr lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ig ih ii ij ik"><p id="af80" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在我们来谈谈一些顺风CSS样式。</p><p id="a7ab" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先，我在styles.css中设置了一些组件类。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="1c30" class="ly lz in lu b gy ma mb l mc md">.highlight {<br/>  @apply rounded-lg shadow-2xl bg-background h-64;<br/>}</span><span id="a12d" class="ly lz in lu b gy me mb l mc md">.highlight code {<br/>  @apply p-4 bg-background;<br/>}</span></pre><p id="152e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">对于我的<code class="fe mf mg mh lu b">highlight</code>类，我想要圆角，一个方框阴影和一个固定的高度。然后在Highlight.js <code class="fe mf mg mh lu b">code</code> html标签中，我希望一些填充和背景是我自己设置的彩色背景。</p><p id="9085" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在我的<em class="mi"> tailwind.config.js </em>文件中，我添加了这样的背景颜色:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="493a" class="ly lz in lu b gy ma mb l mc md">theme: {<br/>  extend: {<br/>    colors: {<br/>      background: '#1E1E1E',<br/>    },<br/>  },<br/>},</span></pre><p id="ca5e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们完成有趣的部分，克隆关闭、最小化和最大化按钮在MacOS中的外观。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="9ede" class="ly lz in lu b gy ma mb l mc md">&lt;div className="rounded-full bg-red-500 w-3 h-3 mr-2" /&gt;<br/>&lt;div className="rounded-full bg-yellow-500 w-3 h-3 mr-2" /&gt;       <br/>&lt;div className="rounded-full bg-green-500 w-3 h-3" /&gt;</span></pre><p id="eace" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">所以<code class="fe mf mg mh lu b">rounded-full</code>创建了一个圆，我设置了适当的颜色，宽度和高度为3，还有一些空白。</p><p id="b440" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">就是这样！</p><p id="d42f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">请查看我的入门级开发人员培训网站，看看它的行动。</p><div class="kp kq gp gr kr ks"><a href="https://www.entryleveldeveloper.training" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab fo"><div class="ku ab kv cl cj kw"><h2 class="bd io gy z fp kx fr fs ky fu fw im bi translated">入门级开发人员培训</h2><div class="kz l"><h3 class="bd b gy z fp kx fr fs ky fu fw dk translated">这个网站是献给那些开始学习如何成为一名开发者的人的。许多文章…</h3></div><div class="la l"><p class="bd b dl z fp kx fr fs ky fu fw dk translated">www . entryleveldeveloper . training</p></div></div><div class="lb l"><div class="mj l ld le lf lb lg jp ks"/></div></div></a></div><p id="589a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">喜欢这篇文章吗？如果有，通过<a class="ae lh" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io">订阅解码，我们的YouTube频道</strong> </a> <strong class="jt io">获取更多类似内容！</strong></p></div></div>    
</body>
</html>