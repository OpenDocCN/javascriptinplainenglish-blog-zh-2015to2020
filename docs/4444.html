<html>
<head>
<title>Implement multi-language Support in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中实现多语言支持</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implement-multi-language-support-in-react-9854c52ddb55?source=collection_archive---------1-----------------------#2020-12-12">https://javascript.plainenglish.io/implement-multi-language-support-in-react-9854c52ddb55?source=collection_archive---------1-----------------------#2020-12-12</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="dde0" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">6个简单的步骤</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/6e87f9beeb8d493a1051187b1a8161f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7mWQzCIJA7rFj70BlhMtlQ.jpeg"/></div></div></figure><p id="0c6c" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">多语言支持是优秀前端应用程序的重要特征之一。今天，我们将了解如何在现有的React应用程序中添加多语言支持。</p><p id="b885" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">今天我们假设我们需要支持两种语言。这里的过程可以扩展到您想要支持的任何数量的语言。</p><ul class=""><li id="ddf3" class="lo lp ir ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated">英语</li><li id="4e50" class="lo lp ir ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">孟加拉国</li></ul><p id="06d1" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">我们将基于i18next使用一个名为<a class="ae mc" href="https://react.i18next.com/" rel="noopener ugc nofollow" target="_blank">react-i18 next</a><strong class="ku is"><em class="md"/></strong>的流行库。</p><h2 id="0c40" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">第一步。安装依赖项</h2><p id="fe58" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">我们必须安装4个依赖项。</p><p id="cbe7" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">前两个<a class="ae mc" href="https://react.i18next.com/guides/quick-start" rel="noopener ugc nofollow" target="_blank">库</a>将为我们完成繁重的工作。</p><pre class="kh ki kj kk gu nc nd ne nf aw ng bi"><span id="f504" class="me mf ir nd b gz nh ni l nj nk">yarn add react-i18next i18next</span></pre><p id="968a" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">#下面的<a class="ae mc" href="https://github.com/i18next/i18next-browser-languageDetector" rel="noopener ugc nofollow" target="_blank">包</a>会自动为我们检测语言。所以不必担心确定当前选择的语言</p><pre class="kh ki kj kk gu nc nd ne nf aw ng bi"><span id="6e15" class="me mf ir nd b gz nh ni l nj nk">yarn add i18next-browser-languagedetector</span></pre><p id="b2c3" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">#下一个<a class="ae mc" href="https://github.com/i18next/i18next-http-backend" rel="noopener ugc nofollow" target="_blank">包</a>将根据语言检测器返回的语言加载值。</p><pre class="kh ki kj kk gu nc nd ne nf aw ng bi"><span id="4de0" class="me mf ir nd b gz nh ni l nj nk">yarn add i18next-xhr-backend</span></pre><h2 id="91f1" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">第二步。添加配置文件</h2><p id="999b" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">在index.js文件旁边创建一个名为i18n.js的新文件，在这里我们可以指定我们想要支持的语言。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nl nm l"/></div><figcaption class="nn no gk gi gj np nq bd b be z dk">Configuration File for Language Change</figcaption></figure><h2 id="9dc0" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">步骤3:修改App.js以加载语言</h2><p id="3297" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">在这一步，我们必须修改我们的<code class="fe nr ns nt nd b">App.js</code>文件并包含我们的配置文件。注意，我们在这里使用了<code class="fe nr ns nt nd b">&lt;Suspense&gt;</code>,因为<code class="fe nr ns nt nd b">react-i18next</code>异步加载本地资源，我们必须等待加载完成</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nl nm l"/></div></figure><h2 id="6dfe" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">第四步。为每种语言创建单独的文件</h2><p id="0655" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">在public/locales/language_name/</p><blockquote class="nu nv nw"><p id="6e74" class="ks kt md ku b kv kw js kx ky kz jv la nx lc ld le ny lg lh li nz lk ll lm ln ik bi translated">小心点。名称必须与下图完全相同。否则，无法自动加载值。显然，我们可以改变这种行为，但是为了简单起见，我们现在不会深入讨论。</p></blockquote><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj oa"><img src="../Images/2e04452c681f10d907b9c3a82fc988e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*LwnHKaOQqgA8UUOdDvliPw.png"/></div><figcaption class="nn no gk gi gj np nq bd b be z dk">New file for each language</figcaption></figure><h2 id="30f1" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">第五步。在特定于语言的文件中添加值</h2><p id="bf3b" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">文件en/translation.js下的内容可能类似于…</p><pre class="kh ki kj kk gu nc nd ne nf aw ng bi"><span id="825d" class="me mf ir nd b gz nh ni l nj nk">{<br/>    "top_bar_title": "Community Admin Panel"<br/>}</span></pre><p id="d567" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">bn/translation.js文件下的内容可能类似于…</p><pre class="kh ki kj kk gu nc nd ne nf aw ng bi"><span id="40e4" class="me mf ir nd b gz nh ni l nj nk">{<br/>    "top_bar_title": "কমিউনিটি এডমিন প্যানেল"<br/>}</span></pre><p id="aab9" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">这样，您必须添加每种语言的值。</p><h2 id="d2e7" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">第六步。使用组件内部的值</h2><p id="b50d" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">您可以通过以下方式使用JSON文件中定义的值</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ob"><img src="../Images/a04f6c01ec5c56bb36e7566f554604ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*imHG0UraIk2ufRWCikpFpg.png"/></div></div><figcaption class="nn no gk gi gj np nq bd b be z dk">Using translation inside the component</figcaption></figure><h2 id="244a" class="me mf ir bd mg mh mi dn mj mk ml dp mm lb mn mo mp lf mq mr ms lj mt mu mv mw bi translated">额外收获:切换语言</h2><p id="24f7" class="pw-post-body-paragraph ks kt ir ku b kv mx js kx ky my jv la lb mz ld le lf na lh li lj nb ll lm ln ik bi translated">现在你可以在任何地方使用下面的命令来切换到你想要的语言(例如在一个按钮或语言转换器中)</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ob"><img src="../Images/145c93e4db43a5c652dd67ae81acf8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFcRUSW6v1LrROrYxrNuKg.png"/></div></div><figcaption class="nn no gk gi gj np nq bd b be z dk">Change Language</figcaption></figure><p id="2bd4" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">现在，您出色的应用程序可以支持任意多种语言。</p><p id="ceca" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">今天到此为止。编码快乐！:D</p><p id="0de8" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated"><strong class="ku is">通过</strong> <a class="ae mc" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> LinkedIn </strong> </a> <strong class="ku is">或我的</strong> <a class="ae mc" href="https://www.mohammadfaisal.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is">个人网站</strong> </a> <strong class="ku is">与我取得联系。</strong></p></div></div>    
</body>
</html>