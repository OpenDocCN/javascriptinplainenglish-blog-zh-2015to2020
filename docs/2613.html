<html>
<head>
<title>vue-i18n — Fallback Localization and Local Translations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">vue-i18n —回退本地化和本地翻译</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-i18n-fallback-localization-and-local-translations-5ddffd4e84f1?source=collection_archive---------4-----------------------#2020-07-09">https://javascript.plainenglish.io/vue-i18n-fallback-localization-and-local-translations-5ddffd4e84f1?source=collection_archive---------4-----------------------#2020-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8135931091723eecc12a61ac47d4b1f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IQYxipqu41ErPvCu"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sreckoskrobic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Srecko Skrobic</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9125" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用框架，我们可以用它来开发交互式前端应用。</p><p id="cf74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用vue-i18n创建多语言Vue应用程序。</p><h1 id="9325" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">后备本地化</h1><p id="71e0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果字符串不可用，我们可以设置一个<code class="fe me mf mg mh b">fallbackLocale</code>。</p><p id="77db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">vue-18n具有隐式回退区域设置。</p><p id="b3c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个更具体的区域设置会退回到同类的更一般的区域设置。</p><p id="e8c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，<code class="fe me mf mg mh b">de-DE</code>会退回到<code class="fe me mf mg mh b">de</code>。</p><p id="f2b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用<code class="fe me mf mg mh b">fallbackLocale</code>属性显式地指定后备语言环境。</p><p id="6713" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7dc0" class="mq lc iq mh b gy mr ms l mt mu">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueI18n from "vue-i18n";</span><span id="e867" class="mq lc iq mh b gy mv ms l mt mu">Vue.use(VueI18n);<br/>Vue.config.productionTip = false;</span><span id="a515" class="mq lc iq mh b gy mv ms l mt mu">const messages = {<br/>  en: {<br/>    foo: "hello"<br/>  },<br/>  fr: {}<br/>};</span><span id="9906" class="mq lc iq mh b gy mv ms l mt mu">const i18n = new VueI18n({<br/>  messages,<br/>  locale: "fr",<br/>  fallbackLocale: "en"<br/>});</span><span id="140d" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  i18n,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="63f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fb3e" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;p&gt;{{ $t('foo') }}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="ad41" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><p id="bffa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们看到显示了<code class="fe me mf mg mh b">hello</code>，因为我们的备用区域是<code class="fe me mf mg mh b">en</code>。</p><p id="2aa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">fallbackLocale</code>也可以是一个数组，所以我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="25c0" class="mq lc iq mh b gy mr ms l mt mu">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueI18n from "vue-i18n";</span><span id="1c46" class="mq lc iq mh b gy mv ms l mt mu">Vue.use(VueI18n);<br/>Vue.config.productionTip = false;</span><span id="2d47" class="mq lc iq mh b gy mv ms l mt mu">const messages = {<br/>  en: {<br/>    foo: "hello"<br/>  },<br/>  fr: {},<br/>  ja: {}<br/>};</span><span id="788d" class="mq lc iq mh b gy mv ms l mt mu">const i18n = new VueI18n({<br/>  messages,<br/>  locale: "fr",<br/>  fallbackLocale: ["fr", "en"]<br/>});</span><span id="124d" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  i18n,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="7f13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也可以是具有后备区域列表的对象。</p><p id="5326" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">键是区域设置，值是它的后备。</p><p id="ee7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0362" class="mq lc iq mh b gy mr ms l mt mu">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueI18n from "vue-i18n";</span><span id="087e" class="mq lc iq mh b gy mv ms l mt mu">Vue.use(VueI18n);<br/>Vue.config.productionTip = false;</span><span id="6d87" class="mq lc iq mh b gy mv ms l mt mu">const messages = {<br/>  en: {<br/>    foo: "hello"<br/>  }<br/>};</span><span id="3aa8" class="mq lc iq mh b gy mv ms l mt mu">const i18n = new VueI18n({<br/>  messages,<br/>  locale: "fr",<br/>  fallbackLocale: {<br/>    "de-CH": ["fr", "it"],<br/>    default: ["en", "da"]<br/>  }<br/>});</span><span id="488f" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  i18n,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="1696" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe me mf mg mh b">de-CH</code>回落到<code class="fe me mf mg mh b">fr</code>或<code class="fe me mf mg mh b">it</code>。如果这些都不可用，则返回到<code class="fe me mf mg mh b">en</code>或<code class="fe me mf mg mh b">da</code>。</p><h1 id="c839" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">后退插值</h1><p id="5b05" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">后备区域可以有自己的插值。</p><p id="24dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须把插值放在键里。</p><p id="3884" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="317a" class="mq lc iq mh b gy mr ms l mt mu">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueI18n from "vue-i18n";</span><span id="965d" class="mq lc iq mh b gy mv ms l mt mu">Vue.use(VueI18n);<br/>Vue.config.productionTip = false;</span><span id="7a16" class="mq lc iq mh b gy mv ms l mt mu">const messages = {<br/>  en: {<br/>    "hello {name}": "hello {name}"<br/>  }<br/>};</span><span id="471b" class="mq lc iq mh b gy mv ms l mt mu">const i18n = new VueI18n({<br/>  messages,<br/>  locale: "fr"<br/>});</span><span id="aeff" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  i18n,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="0e0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在我们的模板中，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0804" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;p&gt;{{ $t('hello {name}', { name: 'james' }) }}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="b01b" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App"<br/>};<br/>&lt;/script&gt;</span></pre><h1 id="bad5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">基于组件的本地化</h1><p id="e5c8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以只在一个组件中定位。</p><p id="1b5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><p id="1be8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">main.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dc99" class="mq lc iq mh b gy mr ms l mt mu">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueI18n from "vue-i18n";</span><span id="5722" class="mq lc iq mh b gy mv ms l mt mu">Vue.use(VueI18n);<br/>Vue.config.productionTip = false;</span><span id="7bc2" class="mq lc iq mh b gy mv ms l mt mu">const messages = {<br/>  en: {<br/>    "hello {name}": "hello {name}"<br/>  }<br/>};</span><span id="7795" class="mq lc iq mh b gy mv ms l mt mu">const i18n = new VueI18n({<br/>  messages,<br/>  locale: "fr"<br/>});</span><span id="e30d" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  i18n,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="3c90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">App.vue</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="044e" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;p&gt;{{ $t('message.welcome') }}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c7c0" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  i18n: {<br/>    messages: {<br/>      en: { message: { welcome: "welcome" } },<br/>      fr: { message: { welcome: "bienvenu" } }<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="747d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在组件中添加了一个<code class="fe me mf mg mh b">i18n</code>属性来提供本地翻译。</p><p id="ae24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">messages</code>属性有翻译。</p><p id="f4f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们像往常一样定义翻译。</p><p id="019c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe me mf mg mh b">locale</code>被设置为<code class="fe me mf mg mh b">'fr'</code>，我们在屏幕上得到<code class="fe me mf mg mh b">bienvenu</code>。</p><p id="3644" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些翻译可以保存在另一个模块中并导入。</p><p id="244a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><p id="2c21" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">messages.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="745e" class="mq lc iq mh b gy mr ms l mt mu">export default {<br/>  en: { message: { welcome: "welcome" } },<br/>  fr: { message: { welcome: "bienvenu" } }<br/>};</span></pre><p id="3552" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">App.vue</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5055" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;p&gt;{{ $t('message.welcome') }}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="da3c" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>import messages from "./messages";<br/>export default {<br/>  name: "App",<br/>  i18n: {<br/>    messages<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="8f85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">parent.$t</code>来获得函数组件的翻译。</p><p id="cd76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3cd3" class="mq lc iq mh b gy mr ms l mt mu">&lt;div&gt;{{ parent.$t('message.hello') }}&lt;/div&gt;</span></pre><p id="4328" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在函数组件中获取翻译。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/dc0f83754e1d2c6555e46f84fc5c329a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YyUGcC00B-F9ugMQ"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@aaronburden?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aaron Burden</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="e20f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0387" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过各种方式获得翻译。</p><p id="2bfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一种方法是从后备位置获取它们。</p><p id="9d84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将它们定义为对象、数组或字符串。</p><p id="f8bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以有一些组件专有的翻译。</p><h2 id="1d9b" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="a117" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>