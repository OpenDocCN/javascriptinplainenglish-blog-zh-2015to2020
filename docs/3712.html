<html>
<head>
<title>7 Best Practices for a Better Experience with MySQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">获得更好MySQL体验的7个最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-best-practices-for-a-better-experience-with-mysql-15eb30de6594?source=collection_archive---------13-----------------------#2020-10-19">https://javascript.plainenglish.io/7-best-practices-for-a-better-experience-with-mysql-15eb30de6594?source=collection_archive---------13-----------------------#2020-10-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8eee" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">提升数据库管理水平的技巧</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e13c4bc1c18ae389f44724f05e308e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4rq3SUh-2ZSpKrnq"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@campaign_creators?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Campaign Creators</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fb8f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">MySQL是我开始旅程时学习的第一个数据库。我使用它已经有一段时间了，有很多事情我希望在开始使用MySQL的那一天就知道。我决定写这篇文章，希望它能帮助其他试图学习MySQL的初学者。这是我在使用MySQL的过程中使用的七个简单的技巧，帮助我获得了成功</p><h2 id="e93b" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">1.使用索引</h2><p id="ef29" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">正确使用索引可以大大加快应用程序的查询速度。这种交换是非常值得的。您的存储需求会略有增加，写入速度会略有下降。能够做到这一点将有助于您在一个数据库完全没有索引的组织中脱颖而出。我听说过围绕这一点的一些争论。有些人只在需要的时候使用它。我不能对此表示赞同或反对，因为归根结底，这完全取决于偏好。然而，根据我的经验，我注意到我更喜欢使用它们。</p><h2 id="ec76" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">2.规范化您的数据并使用连接</h2><p id="d0db" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">这种做法包括将数据彼此分开存储，然后用外键引用这些数据。现在，假设您正在创建一个博客，您有一个post表，在这个post表中，您有一个post_id和一个标题。此时，只存储作者姓名可能很有吸引力。相反，为什么不创建一个author表，然后将author_id存储在post表中呢？我的意思是，不只是在post表上查询，还可以在post表上查询，然后将author的表连接到post表上。通过这样做，您已经为自己做好了准备，这样当您向作者的表中添加额外的字段时，它将立即在查询中可用。另一个好处是，如果一个作者的数据发生了变化，你不必更新帖子中的任何内容。</p><h2 id="30e4" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">3.InnoDB的使用</h2><p id="a03a" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">在我的SQL中，只有两个存储引擎是人们经常使用的。它是MyISAM和InnoDB。MyISAM不会被广泛使用，所以你会想要使用InnoDB，因为它是一个全面的更好的引擎。除了性能更好和数据更持久之外，您还可以访问事务。这是MyISAM所没有的，在2020/2021年，这是你的数据库所需要的。</p><h2 id="0d1e" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">4.在数据库级别实施数据完整性</h2><p id="fde9" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">为此，您将需要使用像唯一约束和级联删除这样的东西。很多时候，在应用程序中做一些应该在数据库中做的事情是很有必要的。级联删除可以在前面使用的post和author表示例中得到最好的演示。假设您有一个author_id x。如果您要删除该作者，那么它会在post表中查找并删除所有具有author_id x的帖子。级联删除至关重要的原因是，如果您不级联删除，post表中将会有没有附加作者的帖子。请记住，您也可以在您的应用程序中这样做。在删除一个记录应用程序时，您还可以查询所有帖子，然后也删除那些帖子。最好在数据库级别处理。这是因为应用程序逻辑可以中断，但数据库约束不能。</p><h2 id="d029" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">5.开发中的日志查询</h2><p id="c21a" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">很高兴看到查询实时发生。在你发展的时候可以帮到你很多。要记录查询，请编辑“my.cnf”文件，如下所示:</p><p id="27a6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">创建日志文件:</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="1cce" class="lp lq in mo b gy ms mt l mu mv">general_log_file = /var/log/mysql.log</span></pre><p id="becf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然后做:</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="a43a" class="lp lq in mo b gy ms mt l mu mv">general_log = 1</span></pre><p id="e50c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这将确保每次数据库发生查询时，它都会显示在日志中。请确保不要在生产中这样做，因为这会增加数据库的压力。</p><h2 id="c050" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">6.使用一致的命名</h2><p id="2d54" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">通常使用简短、易于输入的字段名，但是无论您选择哪种格式，都要使用它。可变性和不一致性通常会导致混乱、错误和时间损失。经常会遇到表格和列中充斥着缩写或速记，这些缩写或速记对一些人来说可能很有见地，但对另一些人来说却难以理解。再说一次，你不必坚持别人的理想习俗。实现那些对你和你的团队有意义的。无论是添加前缀还是包含应用程序名称，都要确保这些标准是一致的。</p><h2 id="12b4" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">7.使用事务进行大容量插入</h2><p id="f8b9" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">使用事务的原因是因为每次插入记录时，表都要重新索引。使用事务时，在事务结束时会得到一个重新索引。因此，如果您插入15，000条记录，您会在15，000条记录的末尾得到一个重新索引。而如果您插入15，000条单独的记录，您将得到15，000个重新索引。性能提升非常显著。如果不使用事务，您可能会每分钟获得数百或数千条记录。通过使用事务，每分钟您将获得数万条记录，如果不是数十万条的话。</p><p id="caf7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">举例:</strong></p><p id="4af8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">五次重新索引(而不是这样做)</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="2094" class="lp lq in mo b gy ms mt l mu mv">insert into value x (default, 1);</span><span id="da3b" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 2);</span><span id="7813" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 3);</span><span id="4d84" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 4);</span><span id="51ed" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 5);</span></pre><p id="eb31" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一次重新索引(最佳方式)</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="c98d" class="lp lq in mo b gy ms mt l mu mv">start transaction;</span><span id="4a96" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 1);</span><span id="044f" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 2);</span><span id="6561" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 3);</span><span id="d937" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 4);</span><span id="0312" class="lp lq in mo b gy mw mt l mu mv">insert into value x (default, 5);</span><span id="7ae4" class="lp lq in mo b gy mw mt l mu mv">commit;</span></pre><p id="38b5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这有一个额外的好处，那就是让你的所有数据在结束时立即可用。如果您要插入10万条单独的记录，这10万条记录会慢慢插入，并且对您的应用程序可见。如果在一次交易中完成，在交易结束时会立即出现十万条记录。</p><p id="6587" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当您熟悉MySQl时，您会发现使用其他数据库变得更加容易。</p><p id="6503" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">订阅解码获得更多类似内容，我们的YouTube频道</strong> </a> <strong class="kv io">！</strong></p></div></div>    
</body>
</html>