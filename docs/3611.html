<html>
<head>
<title>JavaScript Interview Question: Convert Roman Numerals To Numbers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript面试问题:将罗马数字转换成数字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-interview-question-convert-roman-numerals-to-numbers-47e2020cf36a?source=collection_archive---------10-----------------------#2020-10-12">https://javascript.plainenglish.io/javascript-interview-question-convert-roman-numerals-to-numbers-47e2020cf36a?source=collection_archive---------10-----------------------#2020-10-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8a47" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用于面试准备和日常编码的罗马数字JavaScript指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2655d6a006fca4b689a56160cd2c4378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJEQNegt798lt8-HZyMYAw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image credit: Author</figcaption></figure><p id="3e2d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae lr" href="https://en.wikipedia.org/wiki/Roman_numerals" rel="noopener ugc nofollow" target="_blank">罗马数字</a>是一种起源于古罗马的数字体系。今天，它仍然在一些场合使用。罗马数字的现代用法使用七个符号，每个符号都被赋予一个整数值:</p><ul class=""><li id="ba04" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated">一:1</li><li id="ae0c" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">五:5</li><li id="5dc0" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">十点十分</li><li id="380a" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">L: 50</li><li id="7d4b" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">列车员:100元</li><li id="fb82" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">D: 500</li><li id="7f84" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">男:1000</li></ul><p id="0b7a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">罗马数字由MDCLXVI的大写字母组成。最大的符号写在左边，最小的符号写在右边，与阿拉伯数字一致。比如MDCLXVI代表1666 <code class="fe mg mh mi mj b">(1000 + 500 + 100 + 50 + 10 + 5 + 1)</code>。一个符号可以重复，比如III (3)。一般来说，所有的符号都是令人上瘾的符号。然而，当一个较小的符号在左边时，它定义了一个减法符号。这些都是减法符号:</p><ul class=""><li id="3632" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated">四(<code class="fe mg mh mi mj b">5 — 1 = 4</code>)</li><li id="ec23" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">九世(<code class="fe mg mh mi mj b">10 – 1 = 9</code>)，</li><li id="6fc6" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">XL ( <code class="fe mg mh mi mj b">50 — 10 = 40</code>)</li><li id="ea7d" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">XC ( <code class="fe mg mh mi mj b">100 - 10 = 90</code></li><li id="73d6" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">CD ( <code class="fe mg mh mi mj b">500 — 100 = 400</code>)</li><li id="f121" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">CM ( <code class="fe mg mh mi mj b">1000 — 100 = 900</code>)</li></ul><p id="cc3d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有时候，罗马数字会出现在真实的面试中。掌握原理，通过面试题很重要。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="82f6" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated"><strong class="ak">将罗马数字转换成数字</strong></h1><p id="c780" class="pw-post-body-paragraph kv kw iq kx b ky nj jr la lb nk ju ld le nl lg lh li nm lk ll lm nn lo lp lq ij bi translated">我们被要求写一个将罗马数字转换成数字的算法。</p><p id="fd7a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果没有减法符号，那就很简单了。只需将每个罗马数字转换成一个数字，然后将它们相加。</p><p id="9069" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果有减法符号，我们可能会不小心把左边的符号加错了。另外，左边的符号表示减法。因此，解决方法是在检测到左侧符号时将其减去两次。</p><p id="9bcc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是将罗马数字转换为数字的算法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="06e8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">检查第18行到第40行的代码。看起来像不像JavaScript reducer？</p><p id="eb49" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">是的，确实如此。我们可以采用<a class="ae lr" href="https://medium.com/better-programming/the-technical-interview-guide-to-dynamic-programming-3ce755d99849" rel="noopener">数组API</a>，比如<code class="fe mg mh mi mj b">from</code>、<code class="fe mg mh mi mj b">map</code>、<code class="fe mg mh mi mj b">reduce</code>来让代码真正凝练起来。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="addd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些是验证测试，适用于两个gists:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="b5d2" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">将数字转换成罗马数字</h1><p id="8a23" class="pw-post-body-paragraph kv kw iq kx b ky nj jr la lb nk ju ld le nl lg lh li nm lk ll lm nn lo lp lq ij bi translated">写了一个把罗马数字转换成数字的算法之后，我们要做相反的事情:把数字转换成罗马数字。</p><p id="51c5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">创建一个新的转换器，从最大的符号到最小的符号，包括9和4。</p><ul class=""><li id="d353" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated">男:1000</li><li id="d167" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">厘米:900</li><li id="e00c" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">D: 500</li><li id="6cc5" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">CD: 400</li><li id="fb3c" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">列车员:100元</li><li id="3f36" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">XC: 90</li><li id="261c" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">L: 50</li><li id="549b" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">XL: 40</li><li id="40a6" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">十点十分</li><li id="b1a0" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">九:9</li><li id="df10" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">五:5</li><li id="1d87" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">四:4</li><li id="b0ab" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">一:1</li></ul><p id="7815" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果一个数大于或等于当前符号，则取该符号并减去该数。重复该过程，直到剩余值为0。</p><p id="b45a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们以8为例:</p><ul class=""><li id="ab85" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated">8比5之前的任何符号都小。</li><li id="6b32" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">8大于5。结果加上<code class="fe mg mh mi mj b">V</code>，余数为3。</li><li id="7a7c" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">3小于5，小于4。</li><li id="fafe" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">3大于1。结果加上<code class="fe mg mh mi mj b">I</code>成为<code class="fe mg mh mi mj b">VI</code>，余数为2。</li><li id="0fb1" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">2大于1。结果加上<code class="fe mg mh mi mj b">I</code>成为<code class="fe mg mh mi mj b">VII</code>，余数为1。</li><li id="6082" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">2等于1。结果加上<code class="fe mg mh mi mj b">I</code>成为<code class="fe mg mh mi mj b">VIII</code>，余数为0。</li></ul><p id="beeb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">算法是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3b98" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">看看上面的代码。你觉得有什么需要改进的吗？</p><p id="8fbc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于第31 - 38行的循环，每次减去一个数字。对于5000这个数，需要5次减去1000。当数量很大时，这可能会很慢。由于5000 / 1000是5，所以可以预测需要5个<code class="fe mg mh mi mj b">M</code>。当数不能被整除时，可以取一个楼层。同时，余数是剩余的数。</p><p id="e2b8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是改进的算法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d8a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在第36行，我们采用字符串API，<code class="fe mg mh mi mj b">repeat</code>，这在<a class="ae lr" href="https://medium.com/better-programming/the-technical-interview-guide-to-string-manipulation-92f4c4649cd" rel="noopener">字符串文章</a>中有所提及。</p><p id="1c39" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些是验证测试，适用于两个gists:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="5e71" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">罗马数字计算器</h1><p id="35e4" class="pw-post-body-paragraph kv kw iq kx b ky nj jr la lb nk ju ld le nl lg lh li nm lk ll lm nn lo lp lq ij bi translated">我们把罗马数字转换成a数字，反之亦然。罗马数字对我们来说不再陌生。它们可以应用于各种数字问题。</p><p id="4b68" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们用罗马数字建造一个计算器。此计算器接受罗马数字、空格、括号、加号和减号。例如，键入<code class="fe mg mh mi mj b">"I + II "</code>将产生数字<code class="fe mg mh mi mj b">III</code>。</p><p id="7cb2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，我们需要构建一个使用正常数字的计算器，它可以计算<code class="fe mg mh mi mj b">" 1 + 2 "</code>得到数字3。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6e0e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些是验证测试:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3e18" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">要构建一个使用罗马数字的计算器，我们需要包含前面的函数来将罗马数字转换成数字(下面代码中的第25 - 40行)。然后用罗马数字相关块替换正常数字相关块(第71 - 79行)。</p><p id="15ef" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还需要包含前面的函数，将数字转换成罗马数字(第42 - 57行)，并在第106行返回值之前调用它。</p><p id="1885" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">总共有4行差异(第72、75、76和106行)。</p><p id="849c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在下面的代码中，我们为两种转换共享复杂的转换器。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="dada" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些是验证测试:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="dbd4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有趣的是，第3行的输出为0，它被转换为罗马数字作为一个空字符串。数字0最初并没有自己的罗马数字，但中世纪的学者用单词<em class="nq"> nulla </em>(一个拉丁语单词，意思是“无”)来表示0。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="84cf" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">结论</h1><p id="c90d" class="pw-post-body-paragraph kv kw iq kx b ky nj jr la lb nk ju ld le nl lg lh li nm lk ll lm nn lo lp lq ij bi translated">脸书、微软和其他公司已经给出了关于罗马数字的面试问题。熟能生巧。享受编码吧！</p><p id="c462" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢阅读。我希望这有所帮助。你可以在这里看到我的其他媒体出版物<a class="ae lr" href="https://medium.com/@jenniferfubook/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener"/>。</p></div></div>    
</body>
</html>