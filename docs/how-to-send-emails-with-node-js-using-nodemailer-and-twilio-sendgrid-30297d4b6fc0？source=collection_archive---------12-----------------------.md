# 如何使用 Node.js 发送电子邮件

> 原文：<https://javascript.plainenglish.io/how-to-send-emails-with-node-js-using-nodemailer-and-twilio-sendgrid-30297d4b6fc0?source=collection_archive---------12----------------------->

![](img/9abd13ff3a0ec7a7f263260a073f105b.png)

在本文中，我们将学习如何使用 Twilio 的两个第三方服务 Nodemailer 和 SendGrid 在我们的节点应用程序中发送电子邮件。

现在，向用户发送电子邮件已经非常普遍，并且已经成为几乎所有现代应用程序不可或缺的一部分。我们可能希望向刚刚注册我们的应用程序的新用户发送一封欢迎电子邮件，或者我们肯定希望向现有用户发送一封通知电子邮件，通知他们过去可能已经订阅了*(在某个时间点)*的提醒。那么，让我们来看看如何轻松快速地做到这一切。

# 节点邮件程序

这是一个模块，它使得从你的 NodeJs 代码发送电子邮件变得非常容易。顾名思义，它只能用于 NodeJs 应用程序，因为它是一个……*节点——邮件程序！(好记吧？)*

> **Nodemailer** 是 Node.js 应用程序的一个模块，可以轻松发送电子邮件。该项目始于 2010 年，当时没有发送电子邮件的合理选项，今天它是大多数 Node.js 用户默认采用的解决方案。
> 
> -根据 Nodemailer 官方文档。

## 先决条件

在我们开始使用这个模块之前，我们需要满足一个要求，那就是，你应该有 6.0.0 或更新的版本。就是这样！

## 装置

```
*npm install nodemailer*
```

# Twilio Sendgrid

SendGrid 基本上是一种电子邮件传递服务。他们可以通过基于云的电子邮件交付平台交付您的交易和营销电子邮件。

> 仅供参考，还有其他几个类似的电子邮件传递服务。我使用 SendGrid 只是因为我可以在他们那里开一个免费账户(只要你每天发送的邮件少于或等于 100 封)。**这不是升职。**

注册您的免费 SendGrid 帐户并验证您的帐户。

## 创建 API 密钥

SendGrid API 密匙是一个独特的密匙，它帮助我们与 SendGrid API 连接，使用它来发送电子邮件。

创建 API 密钥的步骤:

*   登录到您的 SendGrid 帐户
*   转到设置选项卡，然后单击 API 密钥部分
*   点击**创建 API 键**按钮
*   给你的 API 密匙取一个名字
*   给予相关的访问权限
*   点击**创建和查看**按钮
*   在按下**完成**按钮之前，确保复制您的 API 密钥并将其放在安全的地方

> 请注意:创建 API 密钥后，您只能在创建时查看一次，因为出于安全原因，SendGrid 不允许您再次查看它。

现在，如果你想知道为什么我们使用这些第三方服务来发送电子邮件，而不是使用节点服务器来处理这一部分？我对你的回答将分为两部分，但很简单，首先，我们不想重新发明轮子！其次，作为开发人员，我们应该理解使用 node 或 express 服务器来创建我们自己的邮件服务背后的复杂性，这将是一种可以接收和发送成千上万封电子邮件的服务，并且在处理其他复杂问题时也应该非常安全，因此，使用其他第三方模块来为我们做脏工作会更容易和更快，以便我们可以专注于对我们更重要的事情；*业务逻辑*。

好了，现在让我们看看我们的代码是什么样子的:

**大规模应用点评:**

作为业务逻辑代码的一部分发送电子邮件是一项非常繁重的任务，因此，保持一个专用的微服务来处理这部分是一个好的实践。此外，电子邮件发送应该同步处理，这意味着我们不应该等待电子邮件服务完成电子邮件发送操作，然后再继续下一个任务。本质上，你不需要处理*。then( )* block(你在上面的代码中看到的)在大规模应用中除了一些特殊的情况。

好了，这篇文章到此为止。我希望今天能公平地对待你的时间！希望下次能见到你，在那之前学习愉快！:)

有用的资源:

*   [节点邮件程序的官方文档](https://nodemailer.com/about/)
*   [send grid API 的官方文档](https://sendgrid.com/docs/)
*   [SendGrid 帐户创建](https://sendgrid.com/)
*   [我的电子邮件发送代码的要点](https://gist.github.com/KritikaSharmaKS/91b4abbffdc4ecb45c93c5c87a7c8b7b)

本文的视频版本:

*原载于*[*https://www.theimmigrantprogrammers.com*](https://www.theimmigrantprogrammers.com/p/send-emails-with-nodejs-using-nodemailer)*。*