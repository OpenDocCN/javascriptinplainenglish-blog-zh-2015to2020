<html>
<head>
<title>How I structure React apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何构建反应应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-i-structure-react-apps-a76304277786?source=collection_archive---------1-----------------------#2020-10-08">https://javascript.plainenglish.io/how-i-structure-react-apps-a76304277786?source=collection_archive---------1-----------------------#2020-10-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="35f3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">因为构建应用程序就像盖房子…</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/532268e5d709a0011db2f916d77d7aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fNkr95VRiPP9ByHmwxlXfA.jpeg"/></div></div></figure><p id="a3f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">构建一个应用程序就像建造一栋房子🏡有很多决定要做，有很多观点，很多观点。文件夹结构也起着至关重要的作用。脑子里充斥着这样的问题:这个文件夹/文件应该放在哪里？它应该去哪个地方？文件夹、文件、组件、钩子或上下文的名称应该是什么？</p><blockquote class="ln"><p id="908e" class="lo lp iq bd lq lr ls lt lu lv lw lm dk translated"><em class="lx">开发商的生活方式</em>💻</p></blockquote><p id="4248" class="pw-post-body-paragraph kr ks iq kt b ku ly jr kw kx lz ju kz la ma lc ld le mb lg lh li mc lk ll lm ij bi translated">我通常选择<a class="ae md" href="https://reactjs.org/docs/create-a-new-react-app.html#create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>来创建一个react应用程序，因为它很容易在短时间内启动开发&amp;默认情况下，所有🛠的工具，如基本CSS文件、构建脚本、基本测试框架&amp; PWA都包括在内。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h2 id="ce1c" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">从package.json开始</h2><p id="7f0d" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated"><strong class="kt ir"> package.json </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="2c9a" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">剧本</h2><p id="e8ab" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">这里是所有神奇的地方，所有美好的事情都发生在这里</p><ul class=""><li id="8972" class="nl nm iq kt b ku kv kx ky la nn le no li np lm nq nr ns nt bi translated">构建应用程序</li><li id="006e" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">设置应用程序的样式</li><li id="4186" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">测试应用程序</li><li id="63c0" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">美化应用程序</li><li id="2385" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">清理应用程序</li><li id="0d7b" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">还有更多</li></ul><h2 id="97aa" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">✅套餐的一些小技巧</h2><p id="ca2a" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">脚本名称应该容易记住并且小，避免使用像<code class="fe nz oa ob oc b">build:then:check:what:happened</code>这样的大名称</p><pre class="kg kh ki kj gt od oc oe of aw og bi"><span id="458e" class="ml mm iq oc b gy oh oi l oj ok">"scripts": {<br/>  "build:then:check:what:happened": "react-scripts build",<br/>  "are:we:building:then:check:what:happened": "react-scripts build"<br/>}</span></pre><p id="8b3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我的选择:使用表情符号😉作为脚本名。让我知道你最喜欢的表情符号是什么，用于构建或部署代码，对我来说，构建应用程序是🥳，部署应用程序是🚀。</p><p id="2649" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我使用Tailwind CSS时，我倾向于将脚本命名为<code class="fe nz oa ob oc b">build:style</code>，所以很容易识别出它是一个样式相关的任务，如果您使用多个样式框架，您也可以将其命名为特定于框架/库，如<code class="fe nz oa ob oc b">build:tailwind</code>。</p><pre class="kg kh ki kj gt od oc oe of aw og bi"><span id="8ca3" class="ml mm iq oc b gy oh oi l oj ok">"scripts": {<br/>  "build:style": "tailwind build index.css -o app.css"<br/>}</span></pre><p id="418f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用<code class="fe nz oa ob oc b">:</code>代替<code class="fe nz oa ob oc b">-</code>作为脚本名，这样会使脚本名工整&amp;清晰易读。<code class="fe nz oa ob oc b">-</code>表示包名&amp; <code class="fe nz oa ob oc b">:</code>表示脚本名😉</p><h2 id="cb1f" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated"><code class="fe nz oa ob oc b">scripts</code>中的其他内容</h2><p id="cb2a" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">林挺，美化，测试你的应用程序&amp;检查捆绑包的大小是应用程序开发的一部分。为了避免代码格式问题，我启用了pre-commit钩子，利用了漂亮的。我用<code class="fe nz oa ob oc b">eslint</code>表示林挺JS，JSX，我用<code class="fe nz oa ob oc b">stylelint</code>表示林挺风格，用<code class="fe nz oa ob oc b">prettier</code>表示代码格式，我用<code class="fe nz oa ob oc b">bundlesize</code>表示束大小。</p><p id="4d6e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用反应惰性、暂挂和反应路由器的代码拆分😇</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="65f8" class="ol mm iq bd mn om on oo mq op oq or mt jw os jx mw jz ot ka mz kc ou kd nc ov bi translated">文件夹结构</h1><p id="d2a5" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">我遵循原子设计方法，我严格遵循<code class="fe nz oa ob oc b">Atoms</code>，然后在<code class="fe nz oa ob oc b">Organisms</code>将它们集合在一起，然后直接到<code class="fe nz oa ob oc b">Pages</code>。在开发项目时，遵循原子设计方法将在许多方面帮助您。</p><ul class=""><li id="7ee7" class="nl nm iq kt b ku kv kx ky la nn le no li np lm nq nr ns nt bi translated">组件中重复代码较少，这减少了组件之间的不一致性</li><li id="5a39" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">构建一个有机体或一个页面的时间会更快🚀</li><li id="54d5" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated">该项目的样式指南将驻留在<code class="fe nz oa ob oc b">theme.js</code>中，调色板、间距、字体系列、字体大小、行高、边距、填充、伸缩、网格等等</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/a4a9015cd510bdbc8df60fc733c49daf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NAK2M3h984-bJhn132fBFA.png"/></div></div><figcaption class="ox oy gj gh gi oz pa bd b be z dk">Atomic Design</figcaption></figure><h2 id="d86e" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">原子</h2><p id="2d2f" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">原子是最小的组件，像按钮、标题、输入、下拉菜单、图标、标签。这在任何app中都起着重要的作用。app的整个状态主要从这里开始。</p><h2 id="4800" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">有机体</h2><p id="507d" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">有机体是像标题、卡片、带有图标的搜索框、列表项等原子的组合。一旦你计划、设计了<code class="fe nz oa ob oc b">Atom</code>。你花在生物体上的钱会更少。</p><h2 id="c4b6" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">页</h2><p id="924b" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">页面可以是原子和有机体的组合，或者仅仅是有机体，这取决于UX的设计。例如:它可以是许多带有标题的卡片，标题上有一个搜索框和一些按钮。</p><p id="8e36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果组件是按照上述方法设计的，那么构建一个组件所需的时间会更少。</p><p id="6a22" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">主要的观点是，这不是一次性的过程，所有的小组件(原子)都是一次性制造出来的，组件的设计会及时变得更好⏰，通过多次迭代和讨论</p><h2 id="bb8f" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">组件的详细文件夹结构</h2><p id="dfac" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">这里我将上下文API用于共享状态:</p><pre class="kg kh ki kj gt od oc oe of aw og bi"><span id="ffdd" class="ml mm iq oc b gy oh oi l oj ok">📦 src<br/> ┣ 📂 components<br/> ┃ ┣ 📂 atoms<br/> ┃ ┃ ┣ Heading.js<br/> ┃ ┃ ┣ Input.js<br/> ┃ ┃ ┣ Icon.js<br/> ┃ ┃ ┣ Tag.js<br/> ┃ ┃ ┗ TextArea.js<br/> ┃ ┣ 📂 organisms<br/> ┃ ┃ ┣ Card.js<br/> ┃ ┃ ┣ Search.js<br/> ┃ ┃ ┣ Upload.js<br/> ┃ ┣ 📂 hooks<br/> ┃ ┃ ┣ useIntersectionObserver.js<br/> ┃ ┃ ┗ useKeyPress.js<br/> ┃ ┣ 📂 logics<br/> ┃ ┃ ┣ useName.js<br/> ┃ ┃ ┗ useStatus.js<br/> ┃ ┣ 📂 pages<br/> ┃ ┃ ┣ 📂 Create<br/> ┃ ┃ ┃ ┗ index.js<br/> ┃ ┃ ┣ 📂 List<br/> ┃ ┃ ┃ ┗ index.js<br/> ┃ ┃ ┣ 📂 Onboarding<br/> ┃ ┃ ┃ ┗ index.js<br/> ┃ ┃ ┗ index.js<br/> ┣ 📂 context<br/> ┣ 📂 images<br/> ┣ 📂 styled-elements<br/> ┣ 📂 tests<br/> ┣ 📂 utils<br/> ┣ App.js<br/> ┣ constants.js<br/> ┣ index.js<br/> ┣ serviceWorker.js<br/> ┣ setupTests.js<br/> ┗ theme.js</span></pre></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h2 id="ec8c" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">我如何构造反应元件</h2><p id="859f" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">在一个组件中处理UI代码，在其他地方分离该组件的逻辑。这将使组件感觉轻量级🐥你可以更好地编码。</p><p id="f407" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">用户界面:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ox oy gj gh gi oz pa bd b be z dk">../pages/Create/index.js</figcaption></figure><p id="3ec6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">逻辑:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ox oy gj gh gi oz pa bd b be z dk">../logics/useName.js</figcaption></figure><h2 id="56e0" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">式样</h2><p id="0e54" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">通常我会在<a class="ae md" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">顺风CSS </a>或&lt;之间切换💅&gt; <a class="ae md" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">风格化-组件</a>基于项目需求。</p><h2 id="5656" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">顺风CSS</h2><p id="7d73" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">如果我选择顺风CSS，我倾向于只选择<code class="fe nz oa ob oc b">tailwind.config.js</code>中需要的选项，并将npm脚本命名为<code class="fe nz oa ob oc b">build:style</code>来构建样式。命名脚本<code class="fe nz oa ob oc b">build:style</code>将有助于识别它是一个用于样式目的的构建方法😃正如我之前提到的。</p><h2 id="3232" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">&lt; 💅&gt;样式-组件</h2><p id="9ab5" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated"><strong class="kt ir"> theme.js — </strong>定义这个文件里的一切，就可以布局整个app的风格指南。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ox oy gj gh gi oz pa bd b be z dk">theme.js of styled-components</figcaption></figure><h2 id="8c2c" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">如何使用样式化组件构造可重用组件</h2><p id="1500" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">这是Atom [React Component]的一个例子，可以在应用程序的任何地方重用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ox oy gj gh gi oz pa bd b be z dk">../atoms/Input.js</figcaption></figure><p id="33c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过析构<code class="fe nz oa ob oc b">{...props}</code>，我们得到的主要好处是传递给输入组件的道具可以按原样使用而不用担心😇</p><h2 id="5c28" class="ml mm iq bd mn mo mp dn mq mr ms dp mt la mu mv mw le mx my mz li na nb nc nd bi translated">主办；主持</h2><p id="2bf9" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">我选择<a class="ae md" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>来托管所有的前端或静态站点。网络生活是容易的，也使事情变得容易！🚀</p><p id="2e82" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">推荐人:</strong></p><ul class=""><li id="7c0a" class="nl nm iq kt b ku kv kx ky la nn le no li np lm nq nr ns nt bi translated"><a class="ae md" href="https://bradfrost.com/blog/post/atomic-web-design/" rel="noopener ugc nofollow" target="_blank">https://bradfrost.com/blog/post/atomic-web-design</a></li><li id="1663" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated"><a class="ae md" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">顺风CSS </a></li><li id="7139" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated"><a class="ae md" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank"> &lt;💅&gt;样式化组件</a></li><li id="a97d" class="nl nm iq kt b ku nu kx nv la nw le nx li ny lm nq nr ns nt bi translated"><a class="ae md" href="https://varun.ca/styled-system/" rel="noopener ugc nofollow" target="_blank">基于组件的设计系统，由<a class="ae md" href="https://varun.ca/" rel="noopener ugc nofollow" target="_blank"> Varun Vachhar </a>设计</a></li></ul></div></div>    
</body>
</html>