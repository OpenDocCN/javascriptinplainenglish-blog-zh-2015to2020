<html>
<head>
<title>Convert HEX to RGB with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript将十六进制转换为RGB</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/convert-hex-to-rgb-with-javascript-4984d16219c3?source=collection_archive---------7-----------------------#2020-10-06">https://javascript.plainenglish.io/convert-hex-to-rgb-with-javascript-4984d16219c3?source=collection_archive---------7-----------------------#2020-10-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e48a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何将类似“1502BE”的十六进制颜色字符串转换为RGB版本的“21，2，190”。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/7ba577a1b3d74770db35cb5d371c5aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tAabtLkBKJL7ii2-.jpg"/></div></div></figure><p id="8cdb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个例子只处理六位十六进制颜色格式。简而言之，请看看<a class="ae lk" href="https://convertingcolors.com/blog/article/convert_hex_to_rgb_with_php.html" rel="noopener ugc nofollow" target="_blank">的PHP版本</a>，并尝试将其改编为JavaScript。</p><p id="209b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">十六进制字符串“1502BE”已经是颜色的十六进制表示，其中第一对两位数代表红色，第二对代表绿色，最后一对代表蓝色。</p><p id="bd64" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们需要做的是将字符串分成这些RGB对“15”代表红色，“02”代表绿色，“BE”代表蓝色。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="cb4c" class="lq lr in lm b gy ls lt l lu lv">var aRgbHex = '1502BE'.match(/.{1,2}/g);<br/>console.log(aRgbHex); //["15", "02", "BE"]</span></pre><p id="bede" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">之后，剩下的就是将十六进制表示转换成十进制表示。为此，我们使用了<a class="ae lk" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt" rel="noopener ugc nofollow" target="_blank">parse int函数</a>，并将基数16作为第二个参数传递。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="bf3d" class="lq lr in lm b gy ls lt l lu lv">var aRgbHex = '1502BE'.match(/.{1,2}/g);<br/>var aRgb = [<br/>    parseInt(aRgbHex[0], 16),<br/>    parseInt(aRgbHex[1], 16),<br/>    parseInt(aRgbHex[2], 16)<br/>];<br/>console.log(aRgb); //[21, 2, 190]</span></pre><p id="2c3e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一旦我们写了，我们也可以把我们的代码移动到一个原型函数，这样我们就可以在任何字符串上执行它。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="65d7" class="lq lr in lm b gy ls lt l lu lv">String.prototype.convertToRGB = function(){<br/>    var aRgbHex = this.match(/.{1,2}/g);<br/>    var aRgb = [<br/>        parseInt(aRgbHex[0], 16),<br/>        parseInt(aRgbHex[1], 16),<br/>        parseInt(aRgbHex[2], 16)<br/>    ];<br/>    return aRgb;<br/>}<br/><br/>console.log('1502BE'.convertToRGB()); //[21, 2, 190]</span></pre><p id="2262" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">此外，我们应该添加一个字符串长度为6的检查，以避免用户以速记格式传递十六进制颜色。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="bf79" class="lq lr in lm b gy ls lt l lu lv">String.prototype.convertToRGB = function(){<br/>    if(this.length != 6){<br/>        throw "Only six-digit hex colors are allowed.";<br/>    }<br/>    ...</span></pre><h1 id="26d1" class="lw lr in bd lx ly lz ma mb mc md me mf jt mg ju mh jw mi jx mj jz mk ka ml mm bi translated">完整的代码</h1><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="3f35" class="lq lr in lm b gy ls lt l lu lv">String.prototype.convertToRGB = function(){<br/>    if(this.length != 6){<br/>        throw "Only six-digit hex colors are allowed.";<br/>    }<br/><br/>    var aRgbHex = this.match(/.{1,2}/g);<br/>    var aRgb = [<br/>        parseInt(aRgbHex[0], 16),<br/>        parseInt(aRgbHex[1], 16),<br/>        parseInt(aRgbHex[2], 16)<br/>    ];<br/>    return aRgb;<br/>}<br/><br/>console.log('1502BE'.convertToRGB());<br/>console.log('ff0000'.convertToRGB());<br/>console.log('f00'.convertToRGB());</span></pre><h1 id="8e34" class="lw lr in bd lx ly lz ma mb mc md me mf jt mg ju mh jw mi jx mj jz mk ka ml mm bi translated">输出</h1><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="7d79" class="lq lr in lm b gy ls lt l lu lv">[21, 2, 190]<br/>[255, 0, 0]<br/>Only six-digit hex colors are allowed.</span></pre><p id="3b48" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">喜欢这篇文章吗？如果有，通过<a class="ae lk" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kq io">！</strong></p></div></div>    
</body>
</html>