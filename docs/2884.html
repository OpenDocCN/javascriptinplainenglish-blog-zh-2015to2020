<html>
<head>
<title>Getting Started with React Native Debugger</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React本机调试器入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-react-native-debugger-32f7f4fbeacc?source=collection_archive---------2-----------------------#2020-08-01">https://javascript.plainenglish.io/getting-started-with-react-native-debugger-32f7f4fbeacc?source=collection_archive---------2-----------------------#2020-08-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c26cfcf2d226bab059aa2b8b4c4f34c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ly8hDgpp5TKyAnn3"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@timothycdykes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Timothy Dykes</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a73d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React本机调试器是一个强大的工具，可以帮助开发人员更快地调试React本机应用程序。它提供了一套令人印象深刻的功能，如UI检查器，redux检查器，断点和网络检查器。在本文中，我们将学习如何安装和使用React本机调试器，这将大大提高您的开发效率。</p><p id="c072" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通俗地说，调试器就是用来调试的工具。如果您是任何编程背景的开发人员，那么您在生活中肯定已经遇到过调试器。React Native Debugger是一个使用电子框架构建的独立调试器工具。您可以轻松地将这个调试器工具与Chrome Dev工具集成在一起。这个调试器工具基于React Native开箱即用中包含的远程调试器。然而，React本机调试器比远程调试器包含了更多的功能。</p><h2 id="0e17" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">安装React本机调试器</h2><p id="4bb4" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">安装过程非常简单。我们可以简单地从<a class="ae kc" href="https://github.com/jhen0409/react-native-debugger/releases" rel="noopener ugc nofollow" target="_blank">发布页面</a>下载最新的安装文件。对于macOS，我们可以使用家酿木桶安装。我们可以在终端中运行以下命令:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="f4a9" class="lb lc iq me b gy mi mj l mk ml">$ brew update &amp;&amp; brew cask install react-native-debugger</span></pre><p id="5d85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装后，只需打开<code class="fe mm mn mo me b">Applications</code>文件夹中的<strong class="kf ir"> React Native Debugger.app </strong>文件(或使用Spotlight search找到它)。</p><h2 id="3c66" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">使用React本机调试器</h2><p id="022e" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">成功安装后，我们只需打开React本机调试器启动文件。因此，我们将在调试器应用程序窗口的标题栏上看到重新连接状态。调试过程将在端口8081上执行，如下图所示:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/0fa21a1d517fb4673a8189219fbc2338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*agUrd8-uKkMBurN2.png"/></div></div></figure><p id="32f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们在调试模式下运行React Native应用程序时，我们不再需要打开浏览器。要让React本机应用程序进入调试模式，只需摇动设备，然后在弹出的菜单中选择“调试”。如果您在模拟器上，只需按下<em class="mq"> Command + Shift + Z </em>即可打开菜单。</p><p id="7ea5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦应用程序处于调试模式，React本机调试器已经打开，您会注意到应用程序连接到React本机调试器，而不是Chrome开发工具。所有控制台日志和调试选项都将出现在调试器应用程序中，如下图所示:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/5bb8ed7f73dca11e55f1b1aa471e3d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s_muwJlKBrYVeSrg.png"/></div></div></figure><p id="71e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们已经了解了安装和使用案例，可以开始使用这个调试器应用程序了。</p><h2 id="dc75" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Chrome开发工具，React开发工具，Redux开发工具</h2><p id="41a2" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">正如你所注意到的，所有这些重要的调试扩展都在一个窗口下。一个好处是应用程序窗口大小不需要全屏。因此，我们可以将调试器与仿真器一起使用，如下图所示:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/ce1a8ea64f4b0cecf20dd15b470554a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0UXYscTbJeGnxqNq.png"/></div></div></figure><h2 id="8aa9" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">网络检查器</h2><p id="b63a" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">当开发一个需要连接到服务器的应用程序时，一般来说，我们可能不知道幕后发生了什么。例如，当我们向服务器发送请求时，如果发生错误，可能很难跟踪。开发人员通常通过打印或警告错误消息来调试，但这非常耗时(尽管大多数人都这样做)，因为需要多次迭代才能正确理解整个状态。</p><p id="edde" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在React Native Debugger的帮助下，我们可以很容易地监控应用程序和服务器之间的每个入站和出站流量请求。</p><ul class=""><li id="b612" class="ms mt iq kf b kg kh kk kl ko mu ks mv kw mw la mx my mz na bi translated">我们可以在一个窗口内监控反应组件、Redux存储以及网络活动。</li><li id="9e6b" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">我们可以随时修改CORS。</li><li id="618c" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">我们可以修改请求头配置，例如名称、来源和用户代理。它使我们能够控制网络请求中的所有内容。</li></ul><h2 id="e09d" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">异步存储管理</h2><p id="9e35" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我们也可以使用反应本机调试器调试<code class="fe mm mn mo me b">AsyncStorage</code>配置。我们可以使用下面代码片段中的行将它记录到控制台:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="5624" class="lb lc iq me b gy mi mj l mk ml">console.log(showAsyncStorageContentInDev())</span></pre><p id="5c70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将该行添加到项目后，您将在“反应本机调试器”控制台窗口中获得以下结果:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/bbb1dd607ab32d9d5656ac88599a317e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eZ9d_9vrFF47GHn6.png"/></div></div></figure><h2 id="5534" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">调试Redux状态和操作</h2><p id="abda" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">正如官方的React Native Debugger文档中所提到的，该工具已经有了一个功能强大的内置Redux Dev工具。然而，除非我们在应用程序中明确激活<strong class="kf ir"> redux devtools </strong>，否则redux devtools将无法正常工作。为了在react-native-debugger中使用redux devtools，我们需要在我们的应用程序中激活redux，方法是在我们的<strong class="kf ir"> App.js </strong>文件或我们的redux主函数中添加一些配置行，如下面的代码片段所示:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="63db" class="lb lc iq me b gy mi mj l mk ml">const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;</span><span id="2b69" class="lb lc iq me b gy ng mj l mk ml">const store = createStore(reducers, /* preloadedState, */ composeEnhancers(middlewares));</span></pre><p id="64f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，如果我们重新加载RN调试器工具并运行一些操作，我们将在调试器控制台中获得以下结果:</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/b55d8eeb3f498c190df31c08162fc359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Gj_Vo5rslUitvxAc.png"/></div></div></figure><p id="8b76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如您所看到的，React Native Debugger公开了整个redux状态，所以您不需要添加断点或控制台日志来了解数据在Redux生态系统中是如何流动的。一个惊人的特性是，您实际上可以直接从调试器回到过去，来撤销Redux操作并重新运行它们。另一个巨大的特点是，您可以可视化两个状态转换之间的精确差异，这对具有复杂Redux状态的应用程序非常有用。</p><h2 id="7729" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">反应本机调试器中的用户界面检查器</h2><p id="2446" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">反应本机调试器工具还提供了强大的用户界面检查器。我们可以用它来检查应用程序的用户界面布局，这将极大地帮助我们理解应用程序的用户界面结构。我们可以通过检查布局来修正用户界面元素的风格。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div class="ab gu cl nh"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><p id="f952" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到目前为止，这是检查React Native应用程序中的UI层次结构和调试布局问题的最有效方法。</p><h2 id="07f7" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">反应本机调试器中的断点</h2><p id="ee0b" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">React Native Debugger还使我们能够在某个点停止执行任务。这将使开发人员能够了解应用程序的行为，或在应用程序生命周期的任何时间点查看一些数据状态。你可以在我们的<a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/react-native-breakpoints-debugging/" rel="noopener ugc nofollow" target="_blank">调试带断点的React本地应用</a>文章中了解更多关于添加和使用断点的细节。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div class="ab gu cl nh"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><h2 id="41de" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">调试Expo应用</h2><p id="6951" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果您选择使用Expo CLI而不是React Native CLI进行应用程序开发，好消息是React Native调试器在Expo上也能很好地工作。</p><p id="0824" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通常，Expo调试器运行在端口19001上。要切换到React本机调试器以获得支持，您需要运行以下命令:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="8051" class="lb lc iq me b gy mi mj l mk ml">open "rndebugger://set-debugger-loc?host=localhost&amp;port=19001"</span></pre><h2 id="0dcc" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">结论</h2><p id="7789" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在这篇文章中，我们发现了React本机调试器工具、其安装过程、工作原理、用例以及核心特性。毫无疑问，它将使任何React本地开发人员的生活变得更加容易、更加高效。你的应用程序也将更有性能，包含更少的错误。</p><p id="af9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们强烈建议使用React原生调试器，而不是Chrome开发工具，因为它包含一组核心功能，将极大地提高您的开发速度。</p><h2 id="d5a5" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">后续步骤</h2><p id="62ca" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">现在您已经了解了React本机调试器工具，接下来您可以研究一些其他主题:</p><ul class=""><li id="89f3" class="ms mt iq kf b kg kh kk kl ko mu ks mv kw mw la mx my mz na bi translated">Firebase — <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/push-notifications-react-native-firebase/" rel="noopener ugc nofollow" target="_blank">推送通知</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/react-native-firebase-storage/" rel="noopener ugc nofollow" target="_blank"> Firebase存储</a></li><li id="334a" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">如何in React Native — <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/build-react-native-app/" rel="noopener ugc nofollow" target="_blank">被瞪</a> | <a class="ae kc" href="https://enappd.com/blog/react-native-life-cycle-hooks/79" rel="noopener ugc nofollow" target="_blank"> WebView </a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/gradients-react-native/" rel="noopener ugc nofollow" target="_blank">渐变</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/capturing-photos-and-videos-with-the-camera-in-react-native/" rel="noopener ugc nofollow" target="_blank">相机</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/giphy-react-native/" rel="noopener ugc nofollow" target="_blank">添加GIF </a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/react-native-maps/" rel="noopener ugc nofollow" target="_blank">谷歌地图</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/react-native-redux/" rel="noopener ugc nofollow" target="_blank"> Redux </a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/react-native-breakpoints-debugging/" rel="noopener ugc nofollow" target="_blank">调试</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/react-native-hooks/" rel="noopener ugc nofollow" target="_blank">钩子</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/react-native-dark-mode/" rel="noopener ugc nofollow" target="_blank">黑暗模式</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/deep-linking-react-native/" rel="noopener ugc nofollow" target="_blank">深度链接</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/react-native-graphql-apollo-client/" rel="noopener ugc nofollow" target="_blank"> GraphQL 【T23</a></li><li id="d950" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">支付— <a class="ae kc" href="https://www.instamobile.io/react-native-controls/apple-pay-integrate-android-pay-react-native/" rel="noopener ugc nofollow" target="_blank"> Apple Pay </a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/accept-payments-android-ios-apps-react-native-checkout/" rel="noopener ugc nofollow" target="_blank">条纹</a></li><li id="a642" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">认证— <a class="ae kc" href="https://www.instamobile.io/mobile-development/google-login-react-native-firebase/" rel="noopener ugc nofollow" target="_blank">谷歌登录</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/facebook-login-react-native-firebase/" rel="noopener ugc nofollow" target="_blank">脸书登录</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/firebase-phone-authentication-react-native/" rel="noopener ugc nofollow" target="_blank">手机认证</a> |</li><li id="2c51" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">最佳资源— <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/react-native-app-ideas-beginners/" rel="noopener ugc nofollow" target="_blank">应用创意</a> | <a class="ae kc" href="https://www.instamobile.io/mobile-development/react-native-podcasts/" rel="noopener ugc nofollow" target="_blank">播客</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/best-react-native-newsletters/" rel="noopener ugc nofollow" target="_blank">时事通讯</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/best-free-react-native-app-templates-2018/" rel="noopener ugc nofollow" target="_blank">应用模板</a> | <a class="ae kc" href="https://www.instamobile.io/react-native-tutorials/react-native-development-tools/" rel="noopener ugc nofollow" target="_blank">工具</a></li></ul><p id="de57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你需要一个基础来开始你的下一个React原生应用，你可以通过利用我们的<a class="ae kc" href="https://www.instamobile.io" rel="noopener ugc nofollow" target="_blank"> React原生主题</a>之一来节省几个月的开发时间。干杯！</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><p id="3373" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mq">原载于2020年7月30日</em><a class="ae kc" href="https://www.instamobile.io/mobile-tools/react-native-debugger/" rel="noopener ugc nofollow" target="_blank"><em class="mq">https://www . insta mobile . io</em></a><em class="mq">。</em></p></div></div>    
</body>
</html>