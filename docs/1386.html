<html>
<head>
<title>How to use Directives in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中使用指令</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-built-in-angular-directives-849c4e7fd882?source=collection_archive---------4-----------------------#2020-03-09">https://javascript.plainenglish.io/using-built-in-angular-directives-849c4e7fd882?source=collection_archive---------4-----------------------#2020-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/be8152654e602d691be5ecc70e633892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SIbUHvYYhrlu1frE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@designbytholen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Regine Tholen</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5c10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Angular是Google制作的一个流行的前端框架。像其他流行的前端框架一样，它使用基于组件的架构来构建应用程序。</p><p id="7960" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何使用一些内置的角度指令。</p><h1 id="358a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">内置指令</h1><p id="2d56" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Angular有一些内置的指令。内置指令包括属性指令和结构指令。</p><h1 id="51d6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">内置属性指令</h1><p id="08c8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">属性指令改变HTML元素、属性、特性和组件的行为。</p><p id="0e6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最常见的属性是:</p><ul class=""><li id="1d73" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">NgClass</code> —添加或删除CSS类</li><li id="9422" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">NgStyle</code> —添加或删除一组HTML样式</li><li id="2570" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">NgModel</code> —向HTML表单元素添加双向数据绑定。</li></ul><h1 id="d138" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">NgClass</h1><p id="dc60" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe mn mo mp mq b">ngClass</code>指令同时添加或删除一些CSS类。</p><p id="4ef8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><p id="71a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.ts</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="8f92" class="ne lc iq mq b gy nf ng l nh ni">import { Component } from "@angular/core";</span><span id="bea1" class="ne lc iq mq b gy nj ng l nh ni">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  canSave = true;<br/>  isUnchanged = false;<br/>  isSpecial = true;<br/>  classes = {<br/>    saveable: this.canSave,<br/>    modified: !this.isUnchanged,<br/>    special: this.isSpecial<br/>  };<br/>}</span></pre><p id="7a83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="6d03" class="ne lc iq mq b gy nf ng l nh ni">&lt;div [ngClass]="classes"&gt;foo&lt;/div&gt;</span></pre><p id="236e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们在<code class="fe mn mo mp mq b">AppComponent</code>中创建了<code class="fe mn mo mp mq b">classes</code>字段，这样我们就可以将<code class="fe mn mo mp mq b">saveable</code>、<code class="fe mn mo mp mq b">modified</code>和<code class="fe mn mo mp mq b">special</code>类应用于<code class="fe mn mo mp mq b">app.component.html</code>中的div。</p><p id="3bb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当类中的键值为真时，应用3个类。</p><p id="ad4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我们写下:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="799b" class="ne lc iq mq b gy nf ng l nh ni">[ngClass]="classes"</span></pre><p id="fd37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe mn mo mp mq b">app.component.html</code>中，我们将看到应用于div的类。</p><p id="0fd9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们只想切换一个类，我们也可以写:</p><p id="61ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.ts</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="17e0" class="ne lc iq mq b gy nf ng l nh ni">import { Component } from "@angular/core";</span><span id="21bd" class="ne lc iq mq b gy nj ng l nh ni">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  isGreen = true;<br/>}</span></pre><p id="235d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="8dd2" class="ne lc iq mq b gy nf ng l nh ni">&lt;div [ngClass]="isGreen ? 'green' : null"&gt;foo&lt;/div&gt;</span></pre><p id="a4d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将<code class="fe mn mo mp mq b">green</code>类应用于<code class="fe mn mo mp mq b">app.component.html</code>中的div，因为<code class="fe mn mo mp mq b">isGreen</code>在<code class="fe mn mo mp mq b">AppComponent</code>中被设置为<code class="fe mn mo mp mq b">true</code>。</p><h1 id="af63" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">NgStyle</h1><p id="adc2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe mn mo mp mq b">ngStyle</code>为一个元素添加多种样式。这对于在元素上设置动态样式很有用。</p><p id="b123" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><p id="7c79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.ts</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="cfe8" class="ne lc iq mq b gy nf ng l nh ni">import { Component } from "@angular/core";</span><span id="862c" class="ne lc iq mq b gy nj ng l nh ni">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  isBig = true;<br/>}</span></pre><p id="8e0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="2b75" class="ne lc iq mq b gy nf ng l nh ni">&lt;div [style.font-size]="isBig ? '25px' : '12px'"&gt;foo&lt;/div&gt;</span></pre><p id="fcf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们将<code class="fe mn mo mp mq b">AppComponent</code>中的<code class="fe mn mo mp mq b">isBig</code>字段设置为<code class="fe mn mo mp mq b">true</code>。</p><p id="727f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们将<code class="fe mn mo mp mq b">style.font-size</code>设置为一个表达式，该表达式检查<code class="fe mn mo mp mq b">isBig</code>是否为真，然后相应地设置大小。</p><p id="63a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，div的字体大小应该是25px。</p><p id="cc28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用它来设置多种风格。为此，我们可以写:</p><p id="71f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.ts</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="847a" class="ne lc iq mq b gy nf ng l nh ni">import { Component } from "@angular/core";</span><span id="54d3" class="ne lc iq mq b gy nj ng l nh ni">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  canSave = true;<br/>  isUnchanged = false;<br/>  isSpecial = true;<br/>  styles = {<br/>    "font-style": this.canSave ? "italic" : "normal",<br/>    "font-weight": !this.isUnchanged ? "bold" : "normal",<br/>    "font-size": this.isSpecial ? "24px" : "12px"<br/>  };<br/>}</span></pre><p id="a90b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="0991" class="ne lc iq mq b gy nf ng l nh ni">&lt;div [ngStyle]="styles"&gt;foo&lt;/div&gt;</span></pre><p id="8f13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们在<code class="fe mn mo mp mq b">AppComponent</code>中有<code class="fe mn mo mp mq b">styles</code>字段，用各种CSS属性名作为键。它们将根据表达式中的值来设置。</p><p id="9f8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe mn mo mp mq b">app.component.html</code>中，我们用<code class="fe mn mo mp mq b">ngStyle</code>指令将div的样式设置为<code class="fe mn mo mp mq b">styles</code>对象中的样式。</p><p id="ff5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该看到斜体，粗体和24px大文本。</p><figure class="mw mx my mz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/ad81ff8c11a4dd84f39e5ff112001340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZJ85wQiMueqL64cj"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@borisworkshop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Boris Smokrovic</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="cb5b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">[(ngModel)]:双向绑定</h1><p id="9b8f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe mn mo mp mq b">ngModel</code>在模板和组件之间进行双向绑定。</p><p id="e66b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对于获取输入数据并显示它很有用。</p><p id="f5d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><p id="c0c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.module.ts</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="576b" class="ne lc iq mq b gy nf ng l nh ni">import { BrowserModule } from "@angular/platform-browser";<br/>import { NgModule } from "@angular/core";<br/>import { FormsModule } from "@angular/forms";</span><span id="ea72" class="ne lc iq mq b gy nj ng l nh ni">import { AppComponent } from "./app.component";</span><span id="b5fe" class="ne lc iq mq b gy nj ng l nh ni">@NgModule({<br/>  declarations: [AppComponent],<br/>  imports: [BrowserModule, FormsModule],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre><p id="23bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.ts</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="b664" class="ne lc iq mq b gy nf ng l nh ni">import { Component } from "@angular/core";</span><span id="c638" class="ne lc iq mq b gy nj ng l nh ni">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name: string;<br/>}</span></pre><p id="7cfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">app.component.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="2fc1" class="ne lc iq mq b gy nf ng l nh ni">&lt;input [(ngModel)]="name" /&gt;<br/>&lt;p&gt;{{name}}&lt;/p&gt;</span></pre><p id="1094" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们将<code class="fe mn mo mp mq b">FormsModule</code>添加到了<code class="fe mn mo mp mq b">app.module.ts</code>中的<code class="fe mn mo mp mq b">imports</code>数组中。</p><p id="04e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在<code class="fe mn mo mp mq b">AppComponent</code>中添加了<code class="fe mn mo mp mq b">name</code>字段。</p><p id="293d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们添加了一个带有<code class="fe mn mo mp mq b">ngModel</code>指令的input元素和一个带有<code class="fe mn mo mp mq b">name</code>变量的p元素。</p><p id="8ad2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们在输入中输入一些东西时，它会显示在p元素中。</p><h1 id="a396" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="a1b2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe mn mo mp mq b">ngClass</code>指令在元素上设置类。</p><p id="1c30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要在元素上设置动态样式，我们可以使用<code class="fe mn mo mp mq b">ngStyle</code>指令。</p><p id="1105" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了添加双向数据绑定，我们使用了在<code class="fe mn mo mp mq b">FormsModule</code>中可用的<code class="fe mn mo mp mq b">ngModel</code>指令。</p></div></div>    
</body>
</html>