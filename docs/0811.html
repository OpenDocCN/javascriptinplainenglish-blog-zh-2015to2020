<html>
<head>
<title>Algorithms 101: Product and Sum of Digits in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">算法101:JavaScript中数字的积和</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/algorithms-101-product-and-sum-of-digits-in-javascript-2c09925ac11a?source=collection_archive---------5-----------------------#2019-12-14">https://javascript.plainenglish.io/algorithms-101-product-and-sum-of-digits-in-javascript-2c09925ac11a?source=collection_archive---------5-----------------------#2019-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4f8d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Noob v. Algorithms #24，当你避免使用字符串时，解析数字要快得多！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/66d0fc615ae09c7a8914c8d374c6f473.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*v9qkF3eqvftZY-G96dW3Mw.png"/></div></figure><p id="8940" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">今天LeetCode的挑战是减去一个整数的<a class="ae lj" href="https://leetcode.com/problems/subtract-the-product-and-sum-of-digits-of-an-integer/" rel="noopener ugc nofollow" target="_blank">乘积和数字之和。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/1c2c35baf30f9074425c681dd5606398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B2qbb9OpyoWSMJ5ET4wfGA.png"/></div></div></figure><h1 id="67c1" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">第一次尝试:慢速方式，使用字符串</h1><p id="1f67" class="pw-post-body-paragraph kn ko iq kp b kq mh jr ks kt mi ju kv kw mj ky kz la mk lc ld le ml lg lh li ij bi translated">我不是新手，我的第一个方法是把数字转换成字符串，抓取每个数字，再把它转换成数字，然后这样操作:</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="f62d" class="mr lq iq mn b gy ms mt l mu mv">var subtractProductAndSum = function(n) {</span><span id="b0b6" class="mr lq iq mn b gy mw mt l mu mv">    //turn digit into string<br/>    let num = n.toString()</span><span id="687b" class="mr lq iq mn b gy mw mt l mu mv">    for (let i = 0; i &lt; num.length; i++) {<br/>         //grab digit, turn it back into number<br/>         let number = parseInt(num[i])</span><span id="cf95" class="mr lq iq mn b gy mw mt l mu mv">         //operate on number to ...<br/>         //get product<br/>         //get sum<br/>      }</span><span id="eb0e" class="mr lq iq mn b gy mw mt l mu mv">     return product - sum;<br/>}</span></pre><p id="a178" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我有很多从循环内部更新总和的实践:</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="0ba0" class="mr lq iq mn b gy ms mt l mu mv">sum = 0</span><span id="2880" class="mr lq iq mn b gy mw mt l mu mv">for(let num in array){<br/>    sum += num<br/>}  </span></pre><p id="8cba" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你不能用同样的模式来更新一个产品；如果你给你的乘积一个零的初始值，无论你乘以什么，你都会得到零。</p><p id="dac0" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">相反，当您想要更新产品时，可以从初始值1:</p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="3958" class="mr lq iq mn b gy ms mt l mu mv">product = 1</span><span id="4f73" class="mr lq iq mn b gy mw mt l mu mv">for(let num in array){<br/>    sum *= num<br/>}</span></pre><p id="f056" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">(是*=一个东西？我试过了，效果很好……)</p><p id="49c5" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一旦我填好了这些空白，我最后得到了这个:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mx"><img src="../Images/8aee2073f6384bce9b073fe43987add8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MaqU_XORfQ5iz0rcJu2_aA.png"/></div></div></figure><p id="279a" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这是可行的，但速度并不快:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi my"><img src="../Images/daf17e58247242f32a1d3d366a6aa3bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1kKwiNU0L23fAo-q5rNdQ.png"/></div></div></figure><h1 id="6ba7" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">第二次尝试:数学，数学，数学(无字符串)</h1><p id="1ba2" class="pw-post-body-paragraph kn ko iq kp b kq mh jr ks kt mi ju kv kw mj ky kz la mk lc ld le ml lg lh li ij bi translated">让我们看看是否可以通过完全避免字符串来加快速度。</p><p id="d6f2" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在数学中，如果你想从数字中得到数字，你可以使用javaScript的余数运算符<a class="ae lj" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators" rel="noopener ugc nofollow" target="_blank">从1开始抓取它们，在其他语言中称为a modulo。它是这样工作的:</a></p><pre class="kg kh ki kj gt mm mn mo mp aw mq bi"><span id="fe60" class="mr lq iq mn b gy ms mt l mu mv"><br/>Let's get the remainder after dividing 234 by 10:</span><span id="a3ca" class="mr lq iq mn b gy mw mt l mu mv">234 % 10 =&gt; 4 <br/></span></pre><p id="410f" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">只要一个数字至少有两位，您就可以通过运行<code class="fe mz na nb mn b">num % 10</code>获得“个”列中的数字。</p><p id="bd87" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你如何从那里得到十列中的数字？百位专栏？您可以遵循以下模式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/a21c865e0bd5ffb4b7667991ec7df5b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*-Zvjv7ByqW9JxFw7Lha2Iw.png"/></div></figure><p id="ccd0" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让我们打开它。</p><ol class=""><li id="7dc6" class="nd ne iq kp b kq kr kt ku kw nf la ng le nh li ni nj nk nl bi translated">我们从一个三位数开始，运行余数运算符，返回4，即“1”列中的数字。</li><li id="cc53" class="nd ne iq kp b kq nm kt nn kw no la np le nq li ni nj nk nl bi translated">我们将数字除以10(并向下舍入，使用javaScript的<code class="fe mz na nb mn b">Math.floor()</code>)。</li><li id="47aa" class="nd ne iq kp b kq nm kt nn kw no la np le nq li ni nj nk nl bi translated">我们对第二步的结果运行<code class="fe mz na nb mn b">% 10</code>，得到3，十位数。</li><li id="9c8b" class="nd ne iq kp b kq nm kt nn kw no la np le nq li ni nj nk nl bi translated">我们重复第2步和第3步，从百位列中获取数字。</li></ol><p id="3dbc" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">下面是它在代码中的样子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nr"><img src="../Images/ce608812e4c1debdb7cb59caef26e301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7U5GM8SazA8yjEOXvePbWw.png"/></div></div></figure><p id="c5a5" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">而且更快！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ns"><img src="../Images/886ea93c97940eaac58d6f89d6d6ce97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyvmTbRhSYVXq4BHqAPHwg.png"/></div></div></figure><p id="72c8" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">感谢:<a class="nt nu ep" href="https://medium.com/u/c8c6c8a74f3b?source=post_page-----2c09925ac11a--------------------------------" rel="noopener" target="_blank"> Victor Wang </a>在LeetCode中发布了他的“<a class="ae lj" href="https://leetcode.com/problems/subtract-the-product-and-sum-of-digits-of-an-integer/discuss/447196/JavaScript-clean-JS-solution" rel="noopener ugc nofollow" target="_blank"> clean JS solution </a>”。</p><p id="cdd8" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">你可以在repl.it 上玩代码<a class="ae lj" href="https://repl.it/@Joan_IndianaInd/product-and-sum" rel="noopener ugc nofollow" target="_blank">，在PythonTutor.com</a>上你可以看到代码在<a class="ae lj" href="http://www.pythontutor.com/visualize.html#code=const%20subtractProductAndSum%20%3D%20function%28n%29%20%7B%0A%20%20let%20sum%20%3D%200%3B%0A%20%20let%20product%20%3D%201%3B%0A%20%20while%20%28n%20%3E%200%29%20%7B%0A%20%20%20%20const%20current%20%3D%20n%20%25%2010%3B%0A%20%20%20%20sum%20%2B%3D%20current%3B%0A%20%20%20%20product%20*%3D%20current%3B%0A%20%20%20%20n%20%3D%20Math.floor%28n%20/%2010%29%3B%0A%20%20%7D%0A%20%20return%20product%20-%20sum%3B%0A%7D%3B%0A%0Alet%20n%20%3D%20234%0AsubtractProductAndSum%28n%29&amp;cumulative=false&amp;curInstr=3&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=js&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" rel="noopener ugc nofollow" target="_blank">现场执行</a></p><p id="51c7" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kp ir">版权所有琼·印第安纳·琳斯2019 </strong></p><p id="ecc0" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="nv">以防你错过:算法101 #23，</em> <a class="ae lj" href="https://medium.com/javascript-in-plain-english/algorithms-101-find-the-difference-between-two-arrays-in-javascript-c19f12dee103" rel="noopener"> <em class="nv">在JavaScript </em> </a>中找出两个数组的区别</p></div></div>    
</body>
</html>