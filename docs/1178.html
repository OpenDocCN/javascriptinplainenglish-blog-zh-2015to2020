<html>
<head>
<title>3 incredibly useful Node.js packages that you should try</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该尝试的3个非常有用的Node.js包</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/3-incredibly-useful-node-js-packages-that-you-should-try-3f9f8c427795?source=collection_archive---------1-----------------------#2020-02-09">https://javascript.plainenglish.io/3-incredibly-useful-node-js-packages-that-you-should-try-3f9f8c427795?source=collection_archive---------1-----------------------#2020-02-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8a5f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在NPM，你可以找到数以千计的Node软件包，其中一些真的可以确保你再也不想没有它们了。这里有几个特别实用的</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6b76121c7b1190e88d5be2d1d9017d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y5YLuOKO5XM7MOzve6XsDQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Each of them needs the other ❤</figcaption></figure><p id="404e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Node.js已经成为其中不可或缺的一部分。有了自己的包管理器NPM，Node可以发现许多非常有用的库和框架。在这篇文章中，我将向你展示几个例子，它们将会给你更多的可能性来用Node.js构建复杂的动态应用程序。</p><h1 id="f957" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">1.)Chalk——设计终端的输出</h1><p id="c0f2" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">尤其是在开发一个新的Node.js应用的时候，<strong class="kx ir"> console.log </strong>是必不可少的。<br/>如果我们使用它来输出错误、系统数据或函数和co的输出，这并不重要。但是，它确实有点令人困惑，因为console.log函数默认在终端中输出纯白色文本。<br/>粉笔改变了这一点，你保留了概貌。</p><p id="b50f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">刚刚安装它像往常一样从<a class="ae mo" href="https://www.npmjs.com/package/chalk" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/chalk</a>与<strong class="kx ir"> npm安装粉笔</strong>，你就可以走了。</p><p id="afa6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是一个代码示例，下面是它在我的终端中的真实样子。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="049c" class="mu ls iq mq b gy mv mw l mx my">const chalk = require(‘chalk’)</span><span id="0fb5" class="mu ls iq mq b gy mz mw l mx my"><em class="na">// just blue font<br/></em>console.log(chalk.blue(‘this is lit’))</span><span id="27a8" class="mu ls iq mq b gy mz mw l mx my"><em class="na">// blue &amp; bold font, red background (bg = background)<br/></em>console.log(chalk.blue.bgRed.bold(‘Blue &amp; Bold on Red’))</span><span id="6e19" class="mu ls iq mq b gy mz mw l mx my"><em class="na">// blue font, red background<br/></em>console.log(chalk.blue.bgRed(‘Regular Blue on Red’))</span><span id="e3bc" class="mu ls iq mq b gy mz mw l mx my"><em class="na">// combining multiple font colors<br/></em>console.log(chalk.blue(‘Blue’) + ‘ Default’ + chalk.red(‘ Red’))</span><span id="9761" class="mu ls iq mq b gy mz mw l mx my"><em class="na">// Underlining text<br/></em>console.log(chalk.red(‘There is an ‘, chalk.underline(‘Error’)))</span><span id="1dfa" class="mu ls iq mq b gy mz mw l mx my"><em class="na">// Using RGB-colors<br/></em>console.log(chalk.rgb(127, 255, 0).bold(‘Custom green’))</span></pre><p id="0f25" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它认为这段代码没什么好解释的。如果有，就在评论里把你的问题落下，没问题:)</p><p id="0a9e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">输出:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/bf3267b50a1f525152c1c3abb5e579fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jwN2ONh6h79pgSe_V1AU0g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Looks pretty cool, hm?</figcaption></figure><h1 id="d1b0" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">2.)Morgan —记录来自HTTP请求的所有重要信息</h1><p id="1396" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这也是在应用程序开发中特别有用的东西。因为HTTP请求是数字世界的心跳——这就是为什么在你的应用中完全控制影响它们的一切是如此重要。<br/>摩根提供了这方面的重要信息。</p><p id="d5e6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">像往常一样，通过<strong class="kx ir"> npm安装摩根</strong>从<a class="ae mo" href="https://www.npmjs.com/package/morgan" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/morgan</a>处获取</p><p id="f2f1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在morgan中，我们可以将我们想要获得的信息定义为关于请求的信息。<br/>正如文档中所描述的，只需将它传递到morgan中间件中，因此我们将在下面提供这个代码示例。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="35da" class="mu ls iq mq b gy mv mw l mx my">const express = require(‘express’)<br/>const morgan = require(‘morgan’)</span><span id="652a" class="mu ls iq mq b gy mz mw l mx my">const app = express()</span><span id="0549" class="mu ls iq mq b gy mz mw l mx my">app.use(<br/>morgan(<br/> ‘:method :url :status :response-time ms’<br/>))</span><span id="1ea6" class="mu ls iq mq b gy mz mw l mx my">app.get(‘/’, function(req, res) {<br/>  res.send(‘hello, world!’)<br/>})</span><span id="1b89" class="mu ls iq mq b gy mz mw l mx my">app.listen(8080)</span></pre><p id="408d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，我们希望获得关于传入HTTP请求的以下细节:方法、请求的URL、请求的状态以及响应花费的时间。</p><p id="efdb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当我们在浏览器中打开我们的站点时，运行这段代码应该会产生以下输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/067e76601988246edd555b4729080429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*FkoUpxdMaGn26lDS3WzeUw.png"/></div></figure><p id="e469" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">也没有真正的惊喜。当我们在浏览器中打开页面时，它总是向服务器发出GET请求，因为我们请求了“/”，morgan也会显示这个，以及我们的“hello，world！”站点已成功交付，这意味着状态代码为200。整个执行过程花费了大约2.3毫秒，这是相当快的速度。但是我们不仅请求了我们的网站，而且浏览器也总是请求一个favicon。找不到—错误状态404。</p><p id="469f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们来衡量一个实验:我们改变代码，以便在每次响应之前有200 ms的停顿。下面是代码中的变化:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="a155" class="mu ls iq mq b gy mv mw l mx my">app.get(‘/’, function(req, res) {<br/>  setTimeout(function() {<br/>    res.send(‘hello, world!’)<br/>  }, 200)<br/>})</span></pre><p id="c68e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，当我们再次在浏览器中请求该页面时，morgan将对此进行记录:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/d3943ad2119590a142fadd9648ef34c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jvSFl5i72ldE9o4MzbY-cA.png"/></div></div></figure><p id="8993" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，响应时间超过了200毫秒——正如我们所希望的那样。<br/>但最终，页面再次成功送达。<br/>除了我们仍然没有的favicon。并且只花了几毫秒，因为我们只延迟了对“/”路由的请求。</p><h1 id="7fe3" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">3.)Cheerio——用类似jQuery的语法操作服务器上已经存在的DOM</h1><p id="8e94" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">尤其是当我们交付的不是静态的HTML文件而是动态的网站时，Cheerio是非常实用的。我们可以在客户端不知道的情况下，直接在浏览器的请求和响应之间修改请求的HTML代码。由于类似jQuery的语法，这尤其容易。<br/>当然你也可以用Cheerio来抓取和做很多其他的事情。</p><p id="45d8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">用<strong class="kx ir"> npm安装cheerio </strong>从<a class="ae mo" href="https://www.npmjs.com/package/cheerio" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/cheerio</a>安装</p><p id="d99b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，通过Cheerio，我们可以获得关于HTML结构和内容的信息:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="1440" class="mu ls iq mq b gy mv mw l mx my">const template = `<br/>  &lt;div id=”main”&gt;<br/>    &lt;h1 id=”message”&gt;Welcome on our site&lt;/h1&gt;<br/>  &lt;/div&gt;<br/>`</span><span id="3f09" class="mu ls iq mq b gy mz mw l mx my">const $ = cheerio.load(template)</span><span id="3b83" class="mu ls iq mq b gy mz mw l mx my">console.log($(‘h1’).text()) // Welcome on our site</span></pre><p id="6eaa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将HTML添加到现有模板:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="f4c1" class="mu ls iq mq b gy mv mw l mx my">let template = `<br/>  &lt;div id=”main”&gt;<br/>    &lt;h1 id=”message”&gt;Welcome on our site&lt;/h1&gt;<br/>  &lt;/div&gt;<br/>`</span><span id="b5b7" class="mu ls iq mq b gy mz mw l mx my">const $ = cheerio.load(template)</span><span id="278c" class="mu ls iq mq b gy mz mw l mx my">$(‘div’).append(‘&lt;p class=”plum”&gt;Paragraph&lt;/p&gt;’)</span><span id="c8cd" class="mu ls iq mq b gy mz mw l mx my">template = $.html()</span></pre><p id="7d17" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是模板:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6874" class="mu ls iq mq b gy mv mw l mx my">&lt;div id="main"&gt; <br/>  &lt;h1 id="message"&gt;Welcome on our site&lt;/h1&gt;   <br/>  &lt;p class="plum"&gt;Paragraph&lt;/p&gt;<br/>&lt;/div&gt;</span></pre><p id="6676" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是Cheerio最常用的一种情况可能是随后将内容写入模板:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="7661" class="mu ls iq mq b gy mv mw l mx my">let template = `<br/>  &lt;div id=”main”&gt;<br/>    &lt;h1 id=”message”&gt;&lt;/h1&gt;<br/>  &lt;/div&gt;<br/>`</span><span id="e7dd" class="mu ls iq mq b gy mz mw l mx my">const $ = cheerio.load(template)</span><span id="0d7d" class="mu ls iq mq b gy mz mw l mx my">$(‘h1’).append(‘New welcome message!’)</span><span id="febb" class="mu ls iq mq b gy mz mw l mx my">template = $.html()</span></pre><p id="33f5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是现在的模板:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="ac40" class="mu ls iq mq b gy mv mw l mx my">&lt;div id=”main”&gt; <br/>  &lt;h1 id=”message”&gt;New welcome message!&lt;/h1&gt; <br/>&lt;/div&gt;</span></pre><p id="60af" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你可以用Cheerio做更多的事情。看看文件就知道了！</p><h2 id="390b" class="mu ls iq bd lt ne nf dn lx ng nh dp mb le ni nj md li nk nl mf lm nm nn mh no bi translated"><a class="ae mo" href="http://eepurl.com/hacY0v" rel="noopener ugc nofollow" target="_blank">加入我的邮件列表，保持联系</a></h2><h1 id="eb76" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated"><strong class="ak">关于我，作者:)</strong></h1><p id="baf4" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">嗨！再次感谢您的阅读，我叫路易斯，是一名来自德国的18岁学生。我热爱Web开发，包括后端和前端。我最喜欢的技术是React、Vue、React Native和node . js<br/>记得关注我，了解更多与这些相关的内容，并随时查看我的IG @ Louis . jsx&amp;@ codingcultureshop<br/>祝您愉快！</p></div></div>    
</body>
</html>