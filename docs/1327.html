<html>
<head>
<title>Some Useful Array Lodash Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一些有用的数组Lodash函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/some-useful-array-lodash-functions-f3a9c1266ba?source=collection_archive---------8-----------------------#2020-03-01">https://javascript.plainenglish.io/some-useful-array-lodash-functions-f3a9c1266ba?source=collection_archive---------8-----------------------#2020-03-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5a016f80b407fe25e9a3359958ded7fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xNAR6UUGhVuJUhgw"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@blizzard88?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Grant Durr</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="44e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Lodash是一个实用程序库，有很多操作对象的方法。它有我们一直在使用的东西，也有我们不常使用或不想使用的东西。</p><p id="46bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看Lodash的一些数组方法，包括<code class="fe lb lc ld le b">chunk</code>、<code class="fe lb lc ld le b">compact</code>、<code class="fe lb lc ld le b">concat</code>、<code class="fe lb lc ld le b">difference</code>、<code class="fe lb lc ld le b">differenceBy</code>和<code class="fe lb lc ld le b">differenceWith</code>方法。</p><h1 id="a0df" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">矮胖的人或物</h1><p id="35ac" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">chunk</code>方法让我们将数组条目分成给定大小的数组，并返回它。如果条目不能被平均分割，那么最后的块将是剩余的元素。</p><p id="e9ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有两个参数，即要分割的数组和分割数组中每个条目的块大小。</p><p id="6de3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="dc1d" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const array = [1, 2, 3, 4, 5, 6, 7];<br/>const result = _.chunk(array, 2);</span></pre><p id="3388" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="06c9" class="mq lg iq le b gy mr ms l mt mu">[<br/>  [<br/>    1,<br/>    2<br/>  ],<br/>  [<br/>    3,<br/>    4<br/>  ],<br/>  [<br/>    5,<br/>    6<br/>  ],<br/>  [<br/>    7<br/>  ]<br/>]</span></pre><p id="ac4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分配给<code class="fe lb lc ld le b">result</code>。</p><h1 id="75e7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">compact</code></h1><p id="dd4e" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">compact</code>方法创建一个移除了所有falsy值的数组并返回它。值<code class="fe lb lc ld le b">false</code>、<code class="fe lb lc ld le b">null</code>、<code class="fe lb lc ld le b">0</code>、<code class="fe lb lc ld le b">""</code>、<code class="fe lb lc ld le b">undefined</code>和<code class="fe lb lc ld le b">NaN</code>为假值。</p><p id="7247" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要一个参数，也就是要删除这些值的数组。</p><p id="db5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="052b" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const array = [0, 1, 2, 3, null, false, undefined];<br/>const result = _.compact(array);</span></pre><p id="5d42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="aaf1" class="mq lg iq le b gy mr ms l mt mu">[<br/>  1,<br/>  2,<br/>  3<br/>]</span></pre><p id="ee04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分配给<code class="fe lb lc ld le b">result</code>。</p><h1 id="4177" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">concat</code></h1><p id="977a" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">concat</code>方法创建一个添加了附加值的新数组并返回它。它需要两个或更多的参数。第一个是要添加值的数组，其余的是我们要添加到数组中的值。</p><p id="4f82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以如下使用它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c8e8" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const array = [1, 2, 3];<br/>const result = _.concat(array, 2, [3], [[4]]);</span></pre><p id="8496" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="1ec7" class="mq lg iq le b gy mr ms l mt mu">[<br/>  1,<br/>  2,<br/>  3,<br/>  2,<br/>  3,<br/>  [<br/>    4<br/>  ]<br/>]</span></pre><p id="82f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分配给<code class="fe lb lc ld le b">result</code>。</p><h1 id="df5d" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">difference</code></h1><p id="3598" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">difference</code>从原始数组的副本中删除values数组中给定的值，并返回没有指定值的新数组。</p><p id="8d6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe lb lc ld le b">SameValueZero</code>比较，与<code class="fe lb lc ld le b">===</code>运算符相同，除了<code class="fe lb lc ld le b">NaN</code>与自身相同，<code class="fe lb lc ld le b">-0</code>与<code class="fe lb lc ld le b">+0</code>被认为相同。</p><p id="7a09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有两个参数，第一个参数是要从中删除项目的数组，第二个参数是要从第一个参数中删除的数组值</p><p id="5602" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样使用它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="3f65" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const array = [1, 2, 3];<br/>const result = _.concat(array, 2, [3], [[4]]);</span></pre><p id="2020" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="3a33" class="mq lg iq le b gy mr ms l mt mu">[<br/>  1<br/>]</span></pre><p id="b5b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分配给<code class="fe lb lc ld le b">result</code>。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/34a391ae9c1be3bac3c7163a383e6285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*svTQz_CPxqAdf-pK"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@todoranb_26?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Bogdan Todoran</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="e1c7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">differenceBy</code></h1><p id="c6ba" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lb lc ld le b">differenceBy</code>方法从数组中移除元素，并返回移除了元素的新数组。</p><p id="f89d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要3个参数，这是要从中移除项目的数组。第二个参数包含要从第一个数组中排除的值。最后一个参数是一个函数，我们可以用它来比较项目或一个带有要比较的值的属性名的字符串。</p><p id="5d15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a68e" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const result = _.differenceBy(<br/>  [{ name: "Joe" }, { name: "Jane" }],<br/>  [{ name: "Joe" }],<br/>  "name"<br/>);</span></pre><p id="a50c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们回来了:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="f462" class="mq lg iq le b gy mr ms l mt mu">[<br/>  {<br/>    "name": "Jane"<br/>  }<br/>]</span></pre><p id="cbfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">哪个分配给<code class="fe lb lc ld le b">result</code>。</p><p id="0c7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以传入一个比较器函数，而不是我们希望作为第三个参数检查的属性值的字符串键:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="8246" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const fn = a =&gt; a.id.toString();<br/>const result = _.differenceBy([{ id: 1 }, { id: 2 }], [{ id: 1 }], fn);</span></pre><p id="6b93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">fn</code>函数有<code class="fe lb lc ld le b">a</code>参数，该参数有在第一个数组中循环的对象，所以我们可以用我们喜欢的方式操作它，将它映射到新的值。</p><p id="8983" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们回来了:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="575f" class="mq lg iq le b gy mr ms l mt mu">[<br/>  {<br/>    "id": 2<br/>  }<br/>]</span></pre><p id="ff3a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并被分配到<code class="fe lb lc ld le b">result</code>。</p><h1 id="577b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">differenceWith</code></h1><p id="ba24" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">像<code class="fe lb lc ld le b">differenceBy</code>一样，<code class="fe lb lc ld le b">differenceWith</code>做同样的事情，但是它只接受一个<code class="fe lb lc ld le b">comparator</code>函数作为第三个参数，而不是同时接受<code class="fe lb lc ld le b">comparator</code>或一个包含我们想要比较的键名的字符串。</p><p id="84bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">comparator</code>有两个参数，分别是自变量中第一个和第二个数组的元素。</p><p id="509d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果与第一个数组中的项匹配，它还返回一个新数组，其中第二个数组中的项已被删除。</p><p id="df39" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="6b6f" class="mq lg iq le b gy mr ms l mt mu">import * as _ from "lodash";<br/>const comparator = (a, b) =&gt; a.id.toString() === b.id.toString();<br/>const result = _.differenceWith(<br/>  [{ id: 1 }, { id: 2 }],<br/>  [{ id: 1 }],<br/>  comparator<br/>);</span></pre><p id="7edd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的代码将比较第一个数组中的项目和第二个数组中的项目，并根据从<code class="fe lb lc ld le b">comparator</code>函数返回的条件，将不在第二个数组中的项目返回到新数组中。</p><p id="18e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们回来了:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a179" class="mq lg iq le b gy mr ms l mt mu">[<br/>  {<br/>    "id": 2<br/>  }<br/>]</span></pre><p id="1036" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并分配给<code class="fe lb lc ld le b">result</code>。</p><p id="1748" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Lodash中有一些有用的数组方法可以使数组操作变得更容易。</p><p id="f97e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">chunk</code>方法让我们将数组条目分成给定大小的数组，并返回它。</p><p id="f6ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">compact</code>方法创建一个删除了所有falsy值的数组并返回它。</p><p id="f132" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">concat</code>方法创建一个添加了附加值的新数组并返回它。</p><p id="805b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">difference</code>从原始数组中删除第二个参数的值数组中给出的值。类似地，<code class="fe lb lc ld le b">differenceBy</code>和<code class="fe lb lc ld le b">differenceWith</code>让我们以不同的方式比较数组，并以不同的方式操作它们，以从原始数组中删除values数组中给出的元素。</p></div></div>    
</body>
</html>