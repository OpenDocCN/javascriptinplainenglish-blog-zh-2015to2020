<html>
<head>
<title>How to Make a Custom Cursor with Easing that Follows Pointer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建跟随指针的带有缓动的自定义光标</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-make-a-custom-cursor-with-lerp-that-follows-pointer-6aa6f92fe48a?source=collection_archive---------3-----------------------#2020-09-02">https://javascript.plainenglish.io/how-to-make-a-custom-cursor-with-lerp-that-follows-pointer-6aa6f92fe48a?source=collection_archive---------3-----------------------#2020-09-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fb90" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">给你的网站增加愉快的体验</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0d8b05e0d5a61977ddc10902bee7ef79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e5EM9mTQmZryFPcBv2_NpA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: <a class="ae kv" href="http://www.annatwelve.com" rel="noopener ugc nofollow" target="_blank">ANNATWELVE</a> website. Has a similar interactive cursor.</figcaption></figure><p id="d553" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">前端开发人员每天都会发现新的东西。学习创造迷人的网络体验是每个创意开发者的梦想。这方面的一个例子是一个自定义光标，它在Awwwards或FWA的大多数网站上都有使用。</p><p id="da64" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我看到跟随鼠标指针的自定义光标时，我惊叹不已。你不会相信为了找到一些相关的东西，我在谷歌上搜索了多少次。但是一切都是徒劳的，因为我想不出要搜索什么。</p><p id="a66d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本教程的先决条件—</p><ul class=""><li id="aa5a" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">HTML，CSS的基础知识</li><li id="7b33" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">JavaScript(对象)</li><li id="03bf" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">jQuery(选择器和更改CSS属性)。</li></ul><p id="b513" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你喜欢一个新概念时，很难找到关于它的东西，因为你真的不知道你应该搜索的确切术语。我相信这个简单的指南将帮助你创建自定义光标跟随鼠标指针。这类似于使用lerp(线性插值)。所以让我们开始编码吧。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="9df1" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">为它编写HTML</h1><p id="1149" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">光标的设计完全取决于你。你可以随意定制。我拿一个跟随鼠标的简单圆环。在body标记之间添加以下代码。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="d2f4" class="np mo iq nl b gy nq nr l ns nt">&lt;div id="circle"&gt;&lt;/div&gt; </span></pre><p id="e193" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">仅此而已。是的，不涉及太多的HTML。真是松了一口气。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="ed1b" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">给我们的光标增加了一点美感</h1><p id="9cc3" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">使用下面的CSS样式来设置<code class="fe nu nv nw nl b">div with id circle</code>的样式。使用固定位置是为了使光标在滚动时保持不动。否则，当我们向下滚动时，它会随着页面一起向上移动。你不想失去光标。你知道吗？</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="29e1" class="np mo iq nl b gy nq nr l ns nt">#circle{<br/>  width: 80px;<br/>  height: 80px;<br/>  border: 1px solid #3c2946;<br/>  position: fixed;<br/>  border-radius:50%;<br/>}</span></pre></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="ef74" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">让我们添加一些功能</h1><p id="fc63" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">这就是功能发挥作用的地方。我在这个项目中使用了<code class="fe nu nv nw nl b">jQuery</code>,所以请确保将<code class="fe nu nv nw nl b">jQuery.js</code>添加到您的JavaScript文件中，并将其与<strong class="ky ir"> index.js </strong>文件一起链接到HTML。</p><p id="b006" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先声明保存当前鼠标位置的变量并初始化它们。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="8839" class="np mo iq nl b gy nq nr l ns nt">var mouseX=window.innerWidth/2,<br/>    mouseY=window.innerHeight/2;</span></pre><p id="0dfe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在添加圆形对象。使用jQuery选择器选择<code class="fe nu nv nw nl b">div with id circle</code>。在这个对象中，我们声明了一个更新函数来更新光标的平移，使其位于实际鼠标指针的尖端。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="6a6e" class="np mo iq nl b gy nq nr l ns nt">var circle = { <br/>     el:$(‘#circle’),<br/>     x:window.innerWidth/2, <br/>     y:window.innerHeight/2, <br/>     w:80, <br/>     h:80, <br/>     update:function(){<br/>                   l = this.x-this.w/2; <br/>                   t = this.y-this.h/2; <br/>                   this.el.css({ <br/>                            ‘transform’:<br/>                            ’translate3d(‘+l+’px,‘+t+’px, 0)’ }); <br/>                           }<br/>}</span></pre></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="f680" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">更新位置和动画</h1><p id="8395" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">然后我们使用<code class="fe nu nv nw nl b">e.clientY</code>和<code class="fe nu nv nw nl b">e.clientY</code>用当前鼠标位置更新<code class="fe nu nv nw nl b">mouseX</code>和<code class="fe nu nv nw nl b">mouseY</code>的值。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="8ed2" class="np mo iq nl b gy nq nr l ns nt">$(window).mousemove (function(e){<br/>  mouseX = e.clientX;<br/>  mouseY = e.clientY;<br/>})</span></pre><p id="3a0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe nu nv nw nl b">setInterval</code>激活光标。然后我们有调用更新圆位置的移动函数。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="86db" class="np mo iq nl b gy nq nr l ns nt">setInterval (move,1000/60)</span><span id="fbee" class="np mo iq nl b gy nx nr l ns nt">function move(){<br/>  circle.x = lerp (circle.x, mouseX, 0.1);<br/>  circle.y = lerp (circle.y, mouseY, 0.1);<br/>  circle.update() <br/>}</span></pre></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="e951" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">加入有机放松</h1><p id="3eef" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">现在，你已经走了这么远。我们来添加<code class="fe nu nv nw nl b">lerp</code>函数。因子0.1定义了每次重画屏幕时，光标将移动起点和终点之间总距离的多少部分。所以它实际上永远不会到达目的地，因为距离变得越来越小，但永远不会变为零。但对我们来说，这是一种有机的放松效果。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="215f" class="np mo iq nl b gy nq nr l ns nt">function lerp (start, end, amt){<br/>  return (1-amt)*start+amt*end<br/>}</span></pre><p id="f53e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Lerp是一个很棒的动画效果。你可以在你的滚动中使用它，让你的网站在滚动时更加自然。它不是复杂的大事情，而是小事情加起来形成一个真正伟大的网络体验。这让我们很高兴。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="6205" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">结论</h1><p id="ec31" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">这里是<a class="ae kv" href="https://codepen.io/Deepak426/pen/PoNKeLj?__cf_chl_jschl_tk__=8380a9cc4062c72a176f81fa9b5e705e6f64048d-1598937842-0-AV4YgRiowVJHkfF3PnJChlKwlmCZK6kMbLM0DrCR4SXs6FkAzvSkredBgThrcWJh8rhM_S8UFHn_GANKT2c14rSAWpZu2lGpSZU3LkSOKdkSrPy6asPxymDBc20gUsGmG8uTPgbsvYmqAP-yNiG6ZMjMVuhpoQtc83nP_j8yuc9_I9cWTLDHc7G9iimATThMohtA2d3JT3rns33E_6LHBKpyL6k4l6FaqaLJJcN1ZftkVBkuOD9pgCYisC8it6pahZj0y8Q0BSbsYSFfaTjgEUFRd17EAiriMfVKcOY-ZPR-5-6yoTm-JJ5xEVK_IAwppB3vmyWC7KXEu1kMQuaNF6E" rel="noopener ugc nofollow" target="_blank"> codepen演示</a>来看看它的实际运行。</p><p id="f786" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">拥有这样的微交互和效果有助于我们创造身临其境的网络体验，这是创意开发者的首要目标。给自己一个鼓励，因为你现在离成为一个有创造力的开发者更近了一步。</p><p id="54ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这对你有所帮助，你喜欢创造这种互动效果。如果你是前端开发的新手，你可能想尽可能简单地阅读JavaScript <a class="ae kv" href="https://medium.com/front-end-weekly/8-javascript-string-methods-as-simple-as-possible-4239524035e8" rel="noopener">字符串</a>的解释。感谢您为这个故事付出宝贵的时间。</p></div></div>    
</body>
</html>