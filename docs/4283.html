<html>
<head>
<title>A Beginner’s Guide To Creating A JavaScript Image Slider</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建JavaScript图像滑块的初学者指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-image-slider-for-beginners-7630e71bab70?source=collection_archive---------8-----------------------#2020-11-30">https://javascript.plainenglish.io/javascript-image-slider-for-beginners-7630e71bab70?source=collection_archive---------8-----------------------#2020-11-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6302d7da368c5dfb0851e7a5e5fd0c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UoYIxLEeDju-ttre.jpg"/></div></div></figure><p id="ee3f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您是JavaScript新手，您很可能使用过某种图像滑块库。</p><p id="62e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，你将学习如何自己创建一个简单的图像滑块，但它不会很花哨。</p><p id="99c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，在本教程结束时，您会对从头构建一个有很深的理解。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/9e60792d256e3d4060ce61d6591be1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*Ts9qcNSXa7-vB4zD.gif"/></div></figure><h1 id="b08c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在HTML中添加静态图像</h1><p id="14a6" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">有三个静态图像包装在一个div元素中。</p><p id="c957" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每张图片都有一个src属性，带有一个来自<a class="ae me" href="https://picsum.photos/" rel="noopener ugc nofollow" target="_blank"> picsum </a>网站的随机图片URL。</p><p id="f665" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">相当直接。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="63fe" class="mk lc iq mg b gy ml mm l mn mo">&lt;div&gt;<br/>  &lt;img src="<a class="ae me" href="https://picsum.photos/1000/301" rel="noopener ugc nofollow" target="_blank">https://picsum.photos/1000/301</a>"&gt;<br/>  &lt;img src="<a class="ae me" href="https://picsum.photos/1000/302" rel="noopener ugc nofollow" target="_blank">https://picsum.photos/1000/302</a>"&gt;<br/>  &lt;img src="<a class="ae me" href="https://picsum.photos/1000/303" rel="noopener ugc nofollow" target="_blank">https://picsum.photos/1000/303</a>"&gt;<br/>&lt;/div&gt;</span></pre><p id="3597" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们将使用CSS默认隐藏所有图像，并使用JavaScript使它们按顺序一个接一个地出现。</p><h1 id="f4de" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">默认情况下隐藏所有图像</h1><p id="0b45" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">在CSS中，我们将设置显示属性为none，宽度为img选择器的100%。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="e60f" class="mk lc iq mg b gy ml mm l mn mo">img {<br/>  display:none;<br/>  width:100%;<br/>}</span></pre><p id="f5b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个阶段，所有的图像都将被隐藏。</p><p id="7392" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们使用JavaScript让图像一个接一个地无限显示。</p><blockquote class="mp mq mr"><p id="c6c1" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">✅推荐<br/> <a class="ae me" href="https://click.linksynergy.com/deeplink?id=nsrC6aUWa3g&amp;mid=39197&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fthe-complete-javascript-course%2F" rel="noopener ugc nofollow" target="_blank">完整的JavaScript课程2020:构建真正的项目！</a></p></blockquote><h1 id="0c8c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">逐个显示图像</h1><p id="bc81" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">在这个阶段，你可能想使用某种循环来实现这一点，对吗？</p><p id="a99a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，我们有另一个更适合这种情况的选项，那就是使用setInterval()方法。</p><p id="2569" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">setInterval()方法将重复调用函数或代码片段，每次调用之间有固定的时间延迟。</p><blockquote class="mp mq mr"><p id="d97b" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">可以说，就性能而言，setTimeout()方法比setInterval()更合适。为了简单起见，我将坚持使用setInterval()方法。</p></blockquote><p id="fb15" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，让我们获取所有的图像DOM元素，并将它们赋给一个images变量，这将是一个数组。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="6ce2" class="mk lc iq mg b gy ml mm l mn mo">const images = document.querySelectorAll("img");</span></pre><p id="a5ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，我们将调用setInterval()方法，该方法有两个参数:</p><ul class=""><li id="f1f3" class="mw mx iq ka b kb kc kf kg kj my kn mz kr na kv nb nc nd ne bi translated">回调函数</li><li id="36d7" class="mw mx iq ka b kb nf kf ng kj nh kn ni kr nj kv nb nc nd ne bi translated">时间</li></ul><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="c84c" class="mk lc iq mg b gy ml mm l mn mo">setInterval(function(){<br/>console.log("I run every 2 seconds indefinitely");<br/>}, 2000)</span></pre><p id="064d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的例子中，作为第一个参数的回调函数将每隔2秒(2000毫秒)重复运行一次，这在第二个参数中定义。</p><p id="8abd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了从images数组中一个接一个地显示所有三个图像，我们需要每2秒钟增加一个images数组的索引位置。</p><p id="6f37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，在setInterval方法外部定义一个名为I的变量，初始值为0。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="dd72" class="mk lc iq mg b gy ml mm l mn mo">let i = 0;</span></pre><p id="5fc6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，使用I变量从images数组中获取第一个图像，并通过将style.display设置为block使其可见。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="0e9a" class="mk lc iq mg b gy ml mm l mn mo">images[i].style.display = 'block';</span></pre><p id="568e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后将变量I递增1；</p><p id="c2e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">i++；</p><p id="bca4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当setInterval()方法第二次运行时，I变为1，images数组中的第二个索引图像将被设置为display block。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="aa03" class="mk lc iq mg b gy ml mm l mn mo">const images = document.querySelectorAll("img"); </span><span id="3fea" class="mk lc iq mg b gy nk mm l mn mo">let i = 0;</span><span id="c04c" class="mk lc iq mg b gy nk mm l mn mo">setInterval(function(){<br/>  images[i].style.display = 'block';<br/>  i++;<br/>}, 2000);</span></pre><blockquote class="mp mq mr"><p id="8fcc" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">确保i++语句在底部。这样，我们可以确保当setInterval()方法第一次运行时，images数组中的第一个索引图像是可见的。</p><p id="70e8" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">否则，我将被设置为1，第一个图像将不会显示，它将直接跳到第二个。</p><p id="64e5" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">✅推荐<br/> <a class="ae me" href="https://click.linksynergy.com/deeplink?id=nsrC6aUWa3g&amp;mid=39197&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fjavascript-basics-for-beginners%2F" rel="noopener ugc nofollow" target="_blank">初学者JavaScript基础知识</a></p></blockquote><h1 id="a177" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在每个时间间隔隐藏图像</h1><p id="c4b8" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">上述代码的一个问题是，当第二个图像出现在屏幕上时，第一个图像仍然可见。</p><p id="40d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">隐藏前一个图像的最快方法是在使用forEach循环的setInterval()方法的开头将所有图像设置为display none。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="c0b4" class="mk lc iq mg b gy ml mm l mn mo">const images = document.querySelectorAll("img"); </span><span id="42b3" class="mk lc iq mg b gy nk mm l mn mo">let i = 0;</span><span id="f943" class="mk lc iq mg b gy nk mm l mn mo">setInterval(function(){<br/>   <br/> images.forEach( (img, i) =&gt; {<br/>    img.style.display = 'none';<br/>  })</span><span id="e282" class="mk lc iq mg b gy nk mm l mn mo">  images[i].style.display = 'block';<br/>  i++;</span><span id="fd13" class="mk lc iq mg b gy nk mm l mn mo">}, 2000);</span></pre><p id="8e03" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样，每隔2秒，forEach循环运行一次，并将所有图像的显示样式设置为none。</p><p id="7d0b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不错！</p><blockquote class="mp mq mr"><p id="eefe" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">✅推荐<br/> <a class="ae me" href="https://softauthor.com/javascript-add-click-event-listener-in-a-loop" rel="noopener ugc nofollow" target="_blank">在JavaScript的一个循环内添加点击事件</a></p></blockquote><h1 id="632c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">重复循环播放图像</h1><p id="cde1" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">如果I等于或大于图像数组的长度。</p><p id="3330" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，我们在images数组中只有三个图像，所以最后一个索引值是3。当I变成4时，会发生什么？</p><p id="703a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗯…我们会得到以下错误:</p><p id="9947" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ms">未捕获的类型错误:无法读取未定义的属性‘style’</em></p><p id="90ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我们需要做的是，当增量I变为3时，将它重置为零，以便当最后一幅图像可见时，它会返回到第一幅图像。</p><p id="0d8a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">检查I是否等于图像样式显示设置为block的语句上方的图像数组长度。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="afaf" class="mk lc iq mg b gy ml mm l mn mo">const images = document.querySelectorAll("img"); </span><span id="651e" class="mk lc iq mg b gy nk mm l mn mo">let i = 0;</span><span id="dbb7" class="mk lc iq mg b gy nk mm l mn mo">setInterval(function(){ </span><span id="9111" class="mk lc iq mg b gy nk mm l mn mo">  images.forEach( (img, i) =&gt; {<br/>    img.style.display = 'none';<br/>  })</span><span id="5537" class="mk lc iq mg b gy nk mm l mn mo">  if( i == images.length) {<br/>    i = 0; <br/>  }<br/>  <br/>  images[i].style.display = 'block';<br/>  <br/>  i++;</span><span id="1952" class="mk lc iq mg b gy nk mm l mn mo">}, 2000);</span></pre><p id="9f37" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这很有效。</p><p id="b888" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，我发现当我们需要每2秒钟循环一次所有的图像时，效率会更低。</p><p id="5473" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设你有100+张图片…是的！那将是低效的。</p><blockquote class="mp mq mr"><p id="a682" class="jy jz ms ka b kb kc kd ke kf kg kh ki mt kk kl km mu ko kp kq mv ks kt ku kv ij bi translated">✅推荐<br/> <a class="ae me" href="https://click.linksynergy.com/deeplink?id=nsrC6aUWa3g&amp;mid=39197&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Funderstand-javascript%2F" rel="noopener ugc nofollow" target="_blank"> JavaScript:理解怪异的部分</a></p></blockquote><h1 id="4d8f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">重构代码</h1><p id="7f65" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">首先让我们去掉setInterval()方法中的所有东西，除了incrementer i。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="fa29" class="mk lc iq mg b gy ml mm l mn mo">const images = document.querySelectorAll("img"); </span><span id="444e" class="mk lc iq mg b gy nk mm l mn mo">let i = 0;</span><span id="753c" class="mk lc iq mg b gy nk mm l mn mo">setInterval(function(){ <br/>// get rid of everything in here<br/>i++;</span><span id="cb1c" class="mk lc iq mg b gy nk mm l mn mo">}, 2000);</span></pre><p id="baa8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，如果I等于0，则将第一索引图像显示设置为块</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="ef5c" class="mk lc iq mg b gy ml mm l mn mo">setInterval(function(){ </span><span id="5163" class="mk lc iq mg b gy nk mm l mn mo">  if(i == 0) {<br/>    images[i].style.display = 'block';<br/>  }<br/>  <br/> i++;<br/> <br/>}, 2000);</span></pre><p id="e942" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当setInterval()方法第二次执行时，通过用1减去I得到第一个索引图像，这给出了先前显示的图像，并将其显示设置为none。</p><p id="d551" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后获取第二个索引图像，并将其显示设置为块。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="aef9" class="mk lc iq mg b gy ml mm l mn mo">setInterval(function(){ </span><span id="9633" class="mk lc iq mg b gy nk mm l mn mo">  if(i == 0) {<br/>    images[i].style.display = 'block';<br/>  } else {<br/>    images[i - 1].style.display = 'none';<br/>    images[i].style.display = 'block';<br/>  }<br/>  <br/> i++;<br/> <br/>}, 2000);</span></pre><p id="055e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那看起来不错！</p><p id="3bb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">还有一个场景需要修复。</p><p id="28fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果I等于图像数组长度呢？</p><p id="8668" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建else if语句，可以检查I是否等于图像数组长度。</p><p id="263d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在其中，将最后一个索引图像显示设置为none，并将第一个索引图像显示设置为block。</p><p id="2a6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另外，将增量器变量I重置为0。</p><pre class="kx ky kz la gt mf mg mh mi aw mj bi"><span id="145c" class="mk lc iq mg b gy ml mm l mn mo">setInterval(function(){ </span><span id="e89d" class="mk lc iq mg b gy nk mm l mn mo">  if(i == 0) {<br/>    images[i].style.display = 'block';<br/>  } else if(i == images.length ) {<br/>    images[i - 1].style.display = 'none';<br/>    images[0].style.display = 'block';<br/>    i = 0;<br/>  } else {<br/>    images[i - 1].style.display = 'none';<br/>    images[i].style.display = 'block';<br/>  }<br/>  <br/> i++;<br/> <br/>}, 2000);</span></pre><p id="cbb2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你有它！</p><p id="5d6a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想给这个简单的滑块添加任何额外的功能，请告诉我。</p></div></div>    
</body>
</html>