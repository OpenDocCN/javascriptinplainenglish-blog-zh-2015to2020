<html>
<head>
<title>An introduction to Angular Template Syntax</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度模板语法介绍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/brief-intro-to-angular-template-syntax-e05fe4f8c1b2?source=collection_archive---------6-----------------------#2020-03-01">https://javascript.plainenglish.io/brief-intro-to-angular-template-syntax-e05fe4f8c1b2?source=collection_archive---------6-----------------------#2020-03-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9323bd8f0f10f5d3abdd3d3a89b0b733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RxiSsftYys0luknl"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@scottwebb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Scott Webb</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c27e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Angular是Google制作的一个流行的前端框架。像其他流行的前端框架一样，它使用基于组件的架构来构建应用程序。</p><p id="6e52" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究角度模板语法。</p><h1 id="43d7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">模板语法</h1><p id="1c7f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Angular模板使用经过修改的HTML语法，并添加了一些特定于框架的语法。</p><p id="82e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">几乎所有的HTML语法都是有效的语法，除了<code class="fe me mf mg mh b">script</code>标签。</p><p id="af00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">script</code>标签会被忽略，如果有警告会出现在控制台上。</p><h1 id="86ed" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">插值和模板表达式</h1><p id="a328" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在模板中插入JavaScript表达式，把它们放在双花括号中。</p><p id="e885" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><p id="0f73" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1b49" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";</span><span id="0f46" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  name: string = "foo";<br/>}</span></pre><p id="30a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3aaa" class="mq lc iq mh b gy mr ms l mt mu">{{name}}</span></pre><p id="9de5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在模板中显示来自<code class="fe me mf mg mh b">AppComponent</code>的<code class="fe me mf mg mh b">name</code>字段。</p><p id="8a76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该在屏幕上看到“foo”这个词。</p><p id="f689" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Angular评估<code class="fe me mf mg mh b">name</code>字段的值，然后用该值替换占位符。</p><p id="8577" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以在那里放置表达式。例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8ac2" class="mq lc iq mh b gy mr ms l mt mu">{{1 + 1}}</span></pre><p id="b9e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看到屏幕上显示的是2。</p><p id="5596" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以从组件文件调用一个方法，如下所示:</p><p id="75f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ac91" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";</span><span id="e44e" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  getName() {<br/>    return "foo";<br/>  }<br/>}</span></pre><p id="4b78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1b5d" class="mq lc iq mh b gy mr ms l mt mu">{{getName()}}</span></pre><p id="f0cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们得到了屏幕上显示的由<code class="fe me mf mg mh b">getName</code>返回的值。</p><p id="6803" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们看到屏幕上显示“foo”。</p><p id="0dc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过在传递给<code class="fe me mf mg mh b">@Component</code>装饰器的对象中设置<code class="fe me mf mg mh b">interpolation</code>选项，将由双花括号分隔的插值更改为其他内容。</p><p id="f3dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下代码将内插分隔符更改为单方括号:</p><p id="b1cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a095" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";</span><span id="94a8" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"],<br/>  interpolation: ["[", "]"]<br/>})<br/>export class AppComponent {<br/>  getName() {<br/>    return "foo";<br/>  }<br/>}</span></pre><p id="09c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="32aa" class="mq lc iq mh b gy mr ms l mt mu">[getName()]</span></pre><p id="d67e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们仍然得到我们期望的“foo”显示。</p><h1 id="8637" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">模板表达式</h1><p id="cfca" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">模板表达式给出一个值，并出现在双花括号中。</p><p id="09e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以是绑定目标的属性。它可以是HTML元素、组件或指令。</p><p id="1509" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不能使用具有或促进副作用的表达方式，如:</p><ul class=""><li id="3863" class="mw mx iq kf b kg kh kk kl ko my ks mz kw na la nb nc nd ne bi translated">作业(例如<code class="fe me mf mg mh b">=</code>、<code class="fe me mf mg mh b">*=</code>、…)</li><li id="d9d4" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated">如<code class="fe me mf mg mh b">new</code>、<code class="fe me mf mg mh b">typeof</code>、<code class="fe me mf mg mh b">instanceof</code>等操作符。</li><li id="0524" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated">用<code class="fe me mf mg mh b">;</code>或<code class="fe me mf mg mh b">,</code>链接表达式</li><li id="fa52" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated">递增和递减运算符<code class="fe me mf mg mh b">++</code>和<code class="fe me mf mg mh b">--</code></li><li id="a5a8" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated">其他一些ES2015+操作员</li></ul><p id="2eca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也不支持像<code class="fe me mf mg mh b">|</code>、<code class="fe me mf mg mh b">?</code>或<code class="fe me mf mg mh b">!</code>这样的按位运算符和模板表达式运算符。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/bf9263d9c1bdf48b35a230b8ca3b36e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0usQicazDIAu0qt7"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@dissii?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">mahdis mousavi</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="6a30" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">表达式上下文</h1><p id="4246" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">表达式上下文通常是组件实例。例如，如果我们有:</p><p id="9031" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3885" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";</span><span id="cdf1" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"],<br/>})<br/>export class AppComponent {<br/>  getName() {<br/>    return "foo";<br/>  }<br/>}</span></pre><p id="f208" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有<code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3bc6" class="mq lc iq mh b gy mr ms l mt mu">{{getName()}}</span></pre><p id="d59b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe me mf mg mh b">AppComponent</code>是表达式上下文，<code class="fe me mf mg mh b">getName</code>是指<code class="fe me mf mg mh b">AppComponent</code>中的<code class="fe me mf mg mh b">getName</code>方法。</p><h1 id="5012" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">表达指南</h1><p id="d28d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">表达式应该简单。如果有复杂的逻辑，它应该在组件中。</p><p id="6312" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们应该运行得很快，这样才不会拖慢我们的应用程序。</p><p id="7c10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，表达式不应该改变除了目标属性值以外的任何应用程序状态。</p><p id="eb0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">视图应该在单个渲染过程中保持稳定。</p><p id="04b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们应该没有副作用。</p><p id="4af3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，幂等表达式是理想的，因为它满足我们上面的那些标准。</p><p id="e022" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些准则的唯一例外是<code class="fe me mf mg mh b">*ngFor</code>。它有一个<code class="fe me mf mg mh b">trackBy</code>功能，可以在迭代对象时处理对象的引用不平等。</p><h1 id="d1b2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">模板语句</h1><p id="b061" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">模板语句是对绑定目标引发事件的响应，如元素、组件或指令。</p><p id="e334" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它在更改组件中的字段时会产生副作用。</p><p id="3d2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是一个模板语句的示例:</p><p id="f4a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.ts</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1049" class="mq lc iq mh b gy mr ms l mt mu">import { Component } from "@angular/core";</span><span id="1001" class="mq lc iq mh b gy mv ms l mt mu">@Component({<br/>  selector: "app-root",<br/>  templateUrl: "./app.component.html",<br/>  styleUrls: ["./app.component.css"]<br/>})<br/>export class AppComponent {<br/>  showText: boolean = false;<br/>  toggle() {<br/>    this.showText = !this.showText;<br/>  }<br/>}</span></pre><p id="7303" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">app.component.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6208" class="mq lc iq mh b gy mr ms l mt mu">&lt;button (click)="toggle()"&gt;Toggle&lt;/button&gt;<br/>&lt;p *ngIf="showText"&gt;foo&lt;/p&gt;</span></pre><p id="901d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，<code class="fe me mf mg mh b">app.component.html</code>中的<code class="fe me mf mg mh b">toggle()</code>是一个模板语句的例子，因为它调用了<code class="fe me mf mg mh b">AppComponent</code>中的<code class="fe me mf mg mh b">toggle</code>方法来更改<code class="fe me mf mg mh b">this.showText</code>的值。</p><p id="f27c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它在响应点击事件时会这样做。</p><p id="b4d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，不允许用于表达式的JavaScript代码也不允许用于语句。</p><h1 id="f753" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0402" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们使用模板来显示来自组件的数据并接受用户输入。</p><p id="1b9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它由HTML语法以及模板表达式和语句组成，模板表达式和语句是从HTML代码运行的JavaScript代码。</p></div></div>    
</body>
</html>