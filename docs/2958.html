<html>
<head>
<title>Create a Blog with WordPress and Gatsby — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用WordPress和Gatsby创建一个博客——第1部分</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-blog-with-wordpress-and-gatsby-part-1-a4d78a93a28d?source=collection_archive---------7-----------------------#2020-08-10">https://javascript.plainenglish.io/create-a-blog-with-wordpress-and-gatsby-part-1-a4d78a93a28d?source=collection_archive---------7-----------------------#2020-08-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2f13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我爱盖茨比。我喜欢WordPress。我喜欢盖茨比和WordPress。今年早些时候，我利用现有的WordPress网站建立了几个网站，我为这两个网站管理和创建了全新的设计和前端体验。在这个系列中，我将带你经历整个事情——我们将建立一个新的网站，使用WordPress作为Gatsby的无头CMS。我将从头开始，所以如果你对Gatsby或WordPress一无所知，希望这能让你轻松上手。如果没有，让我知道我能帮你什么！</p><h1 id="cd8f" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第1部分—基础</h1><p id="783b" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">假设你已经决定要为自己或客户建立这类网站。一切都是新的。一个域名，托管，一个崭新的开始。如果你没有重新开始，你可以跳到任何有意义的地方。</p><h1 id="bcce" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">假设</h1><p id="2c39" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">你已经购买了一个域名(我喜欢用<a class="ae lo" href="https://www.namecheap.com/" rel="noopener ugc nofollow" target="_blank"> NameCheap </a></p><p id="4c24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你有一个托管WordPress站点的地方(理想情况下是你购买域名的地方)，而且它已经安装好了。</p><p id="62de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们正在创建的网站将是<a class="ae lo" href="https://kaleigh.tech/" rel="noopener ugc nofollow" target="_blank"> kaleigh.tech </a>和WordPress网站将在<a class="ae lo" href="https://wp.kaleigh.tech/" rel="noopener ugc nofollow" target="_blank"> wp.kaleigh.tech </a>托管。你的WordPress站点在哪里并不重要，它可以是一个子域或者顶级域。</p><h1 id="a3eb" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">WordPress网站</h1><p id="57dc" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">不管你有很多内容还是什么都没有，你都会想在你的WordPress站点上安装3个插件。我们现在不打算把它们连接起来，因为我们没有任何东西可以指引它们，但是让我们提前把它设置好。</p><h1 id="c0a0" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">安装插件</h1><p id="b022" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated"><a class="ae lo" href="https://github.com/iamtimsmith/wp-trigger-netlify-build" rel="noopener ugc nofollow" target="_blank"> wp-trigger-netlify-build </a></p><p id="11a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lo" href="https://github.com/wp-graphql/wp-graphql" rel="noopener ugc nofollow" target="_blank"> wp-graphql </a></p><p id="4687" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lo" href="https://github.com/gatsbyjs/wp-gatsby" rel="noopener ugc nofollow" target="_blank">WP-盖茨比</a></p><p id="e4df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装这三个插件，你就可以开始激活它们了。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/86b3cc9485fb167c3a6a8c8f744321b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9m25qEawzpyORIgJ.png"/></div></div></figure><p id="dc09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我是为这个教程创建这个站点的，所以我在我的WordPress站点上填充了一些虚拟页面和帖子。</p><h1 id="52ee" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">启动并运行Gatsby(本地)</h1><p id="9c78" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">现在让我们换个方式，让盖茨比重新振作起来！Gatsby有很棒的文档，如果您还没有查看它们，请打开一个新标签，看看它们的<a class="ae lo" href="https://www.gatsbyjs.org/tutorial/part-zero/" rel="noopener ugc nofollow" target="_blank">步骤0页面</a>，以确保您的环境已经准备就绪。一旦你到达“使用Gatsby命令行界面”，回到这里。</p><p id="79c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们创建我们的盖茨比网站！有许多首发可供选择，但让我们选择<a class="ae lo" href="https://github.com/gatsbyjs/gatsby-starter-default" rel="noopener ugc nofollow" target="_blank">盖茨比首发默认</a>。我将把我的repo命名为kaleigh-tech-tutorial，但是你可以随意命名！</p><p id="7e68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mb mc md me b">gatsby new kaleigh-tech-tutorial <a class="ae lo" href="https://github.com/gatsbyjs/gatsby-starter-default" rel="noopener ugc nofollow" target="_blank">https://github.com/gatsbyjs/gatsby-starter-default</a></code></p><p id="3972" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦网站安装完毕，让我们进入目录并运行网站，以确保它的工作。</p><p id="98e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mb mc md me b">cd kaleigh-tech-tutorial</code></p><p id="7b96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mb mc md me b">gatsby develop</code></p><p id="8154" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果一切正常，您应该看到以下内容:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/d5c55177730d01619be4c0566bb27124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/0*ZTVV6OzI05YR3-Cv.png"/></div></figure><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/14c4427b3d5cad57b3a57e15b303fbd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*7CwWfj5T79IQ9HKr.png"/></div></figure><p id="1da7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">哇，你的本地网站已经上线了！</p><p id="bfa4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们让它活起来！我个人喜欢使用GitHub桌面来管理我的本地回购，因为我可以很容易地看到一切。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/6c94cb32e7125321e14a110fa6770b69.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/0*4aMtXrcwpLYk0LSA.png"/></div></figure><p id="db3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你也可以去<a class="ae lo" href="https://github.com/new" rel="noopener ugc nofollow" target="_blank"> GitHub创建一个新的repo </a>，然后按照那里的步骤操作。我的回购现在是<a class="ae lo" href="https://github.com/klgh/kaleigh-tech-tutorial" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="bc56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看Netlify有多棒！</p><h1 id="ddf6" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">设置网络生活</h1><p id="63a4" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">前往Netlify 网站，如果你没有账户，就注册吧(这是免费的)。如果有，请登录，并确保GitHub已连接。</p><p id="153f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于我们使用的是GitHub repo，请点击GitHub:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mi"><img src="../Images/6bea200d6ca3b688174715d182f06c40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q768-8TUPXH7I03p.png"/></div></div></figure><p id="e573" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">找到您刚刚创建的回购，然后单击它:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mj"><img src="../Images/f32d89e100791b7b7474cf8dbf17464b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mmEF2i2_4BJnfjtE.png"/></div></div></figure><p id="3009" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们就用默认值吧:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mk"><img src="../Images/6b367f9beed37ab0957e6aa78371c230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*E3ew-oCh6m-kMU1B.png"/></div></div></figure><p id="1681" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我的网站正在建设中！</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ml"><img src="../Images/1cf043ff40fe561bce5a58eb793c1421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qn03tl6WWHjYBKUE.png"/></div></div></figure><p id="e9d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如您将看到的，您将拥有一个不同的命名repo。不要担心，你可以以后再改(如果你想的话)。有时候名字很搞笑！</p><p id="1fc1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它不应该需要太长时间来建立您的网站。现在你可以检查一下了。我的网站在这里:<a class="ae lo" href="https://loving-ride-e53f6d.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://loving-ride-e53f6d.netlify.app/</a></p><p id="59f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们改变网络生活中的一些事情。首先，我会将我的应用程序的名称改为与我的GitHub repo相同的名称，以保持一致。</p><h1 id="ae31" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">网络构建</h1><p id="4bb5" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">在Netlify页面的顶部，点击设置，然后点击“更改网站名称”</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/77dc873c8944b6d1f735c0eba5e9655d.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/0*BZPV4UARHXhsBu97.png"/></div></figure><p id="de29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我的网站在https://kaleigh-tech-tutorial.netlify.app/运行</p><p id="5405" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Netlify的一个巧妙之处在于，你可以在你的自述文件中添加一个徽章来显示你的站点状态。我们也可以把它添加到我们的WordPress网站上。还记得我们安装的Netlify插件吗？</p><p id="244f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在同一个设置页面上，向下滚动到状态标记部分:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mn"><img src="../Images/b7d218096022f8f4fb5c560e89d0f9b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5S4KVSXRCJI-psEq.png"/></div></div></figure><p id="fdb0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击“复制到剪贴板”,进入你的文本编辑器，我们可以编辑你的自述文件。</p><p id="77bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我把它贴在我的自述文件的第11行:</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/0a40a71f178a8e8a376a329c0fe3d0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/0*IErO4wEOfq8uP7Od.png"/></div></figure><p id="6821" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们来看看我们的WordPress仪表盘。在左侧点击“Netlify Build”，它将朝向菜单项的底部。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/31678caf19c39a6772194d00a8fa546b.png" data-original-src="https://miro.medium.com/v2/resize:fit:294/format:webp/0*xvtHSCz5gac4rwb9.png"/></div></figure><p id="5042" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会看到我们需要添加3个链接。</p><p id="4611" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一个是我们的构建钩子。回到Netlify，进入设置，然后在左边点击“构建和部署”,找到构建钩子。创建一个新的挂钩，并使用该链接粘贴到WordPress。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/68bd8290a3c06370e501cbe54cb6bbea.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/0*LQXKMIpy862hZGDJ.png"/></div></figure><p id="8353" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">二是地位形象。那个链接应该是我上面截图的绿色文字:<a class="ae lo" href="https://api.netlify.com/api/v1/badges/0149b059-a599-4da2-b595-acc319446746/deploy-status" rel="noopener ugc nofollow" target="_blank">https://API . netlify . com/API/v1/badges/0149 b059-a599-4d a2-b595-ACC 319446746/deploy-status</a></p><p id="d81a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第三是状态链接。该链接将是上面截图中的红色文本:【https://app.netlify.com/sites/kaleigh-tech-tutorial/deploys<a class="ae lo" href="https://app.netlify.com/sites/kaleigh-tech-tutorial/deploys" rel="noopener ugc nofollow" target="_blank"/></p><p id="7ef5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你应该有所有3个链接</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/bc6fe9220000c00f5d024acc51c4dc9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/0*hazipD3QBCiv5Zp7.png"/></div></figure><p id="68a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击保存更改。这将允许你在WordPress上更新内容时创建一个新的部署。</p><p id="b521" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你准备好了，你可以看看<a class="ae lo" href="https://medium.com/@kaleighscruggs/create-a-blog-with-wordpress-and-gatsby-part-2-6e6f121bc232" rel="noopener">第二部分——连接</a>！</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ms"><img src="../Images/dd3c98369b6af35e440b3bd27d9ee3b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7KBf8GT6bU6gtzU1RAjfw.png"/></div></div></figure></div></div>    
</body>
</html>