<html>
<head>
<title>How to print triangle to console? — Part II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将三角形打印到控制台？第二部分</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-print-triangle-to-console-part-ii-1ad867d310d3?source=collection_archive---------6-----------------------#2020-04-04">https://javascript.plainenglish.io/how-to-print-triangle-to-console-part-ii-1ad867d310d3?source=collection_archive---------6-----------------------#2020-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a6eeb5b3ba8f6e457808814df234ac22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OvBJMaXeCX5eMMwWOsg66g.jpeg"/></div></div></figure><p id="7159" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在前面的部分<a class="ae kw" href="https://medium.com/swlh/how-to-print-triangle-to-console-part-i-6f82b011ccc9?source=friends_link&amp;sk=44833a1a6bb1d8a38efb4eb79d539913" rel="noopener">，你可以在这里找到</a>，我们在寻找一个非常简单的任务的解决方案——在控制台上打印等腰三角形。在第二部分，让我们关注一个更复杂的问题——打印带参数角的直角三角形。这可能看起来很神秘，所以让例子说话:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Examples of triangles to print</figcaption></figure><p id="480c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这些例子中，角度参数可能看起来令人困惑。现在不要为此烦恼。我们稍后将重点讨论这一点。</p><h1 id="c73a" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">再次分而治之</h1><p id="a38d" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">这显然是一个类似的问题，我们解决了前一部分。那些三角形也是由较小的三角形组成的。我们仍然可以:</p><ul class=""><li id="331e" class="mk ml iq ka b kb kc kf kg kj mm kn mn kr mo kv mp mq mr ms bi translated">用较小的形状构建较大的形状</li><li id="ae5a" class="mk ml iq ka b kb mt kf mu kj mv kn mw kr mx kv mp mq mr ms bi translated">打印当时三角形的每一行</li></ul><p id="3b89" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将使用上述属性来简化事情。<strong class="ka ir">我们将能够一次专注于一行。</strong></p><h1 id="9ba4" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">角度参数化</h1><p id="035e" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">正如我们在上面的例子中所看到的，我们想要打印高度为N并且具有特定斜率的三角形。在控制台中，三角形是用离散符号构建的，因此用弧度来定义角度似乎是人为的。在这种情况下，用高与底长的比值来表示角度感觉更实际。因此，问题的定义应该是这样的:</p><blockquote class="my"><p id="0d35" class="mz na iq bd nb nc nd ne nf ng nh kv dk translated">"写一个函数，它接受三角形的高、底比和行数，并输出包含相应三角形的字符串"</p></blockquote><p id="f5e9" class="pw-post-body-paragraph jy jz iq ka b kb ni kd ke kf nj kh ki kj nk kl km kn nl kp kq kr nm kt ku kv ij bi translated"><strong class="ka ir">角度为比值</strong></p><p id="0881" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回到角度参数:我们不想用角度或弧度来度量。我们希望有更离散的东西，更适合离散的计算机世界。我们将角度表示为两个整数之比:<em class="nn">三角形高</em>和<em class="nn">三角形底。</em>举例时间:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Angle can be expressed as ratio of height and base</figcaption></figure><h1 id="a4cb" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">构建三角形线</h1><p id="8ad0" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">现在，当我们对任务有了有意义的定义，我们就可以专注于核心问题——如何打印三角形的第n条线。<strong class="ka ir">每一行都由若干空格和若干符号组成三角形。</strong>让我们试着分别计算空格和符号，并从这些计算中组合出解决方案。我们将寻找这两个功能:</p><p id="d892" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nn">空格(n) </em> —第n行有多少个空格？</p><p id="33ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nn">符号(n) </em> —第n行有多少个符号？</p><p id="1430" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看一下这个例子:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Line is constructed from spaces and symbols</figcaption></figure><h2 id="0898" class="no li iq bd lj np nq dn ln nr ns dp lr kj nt nu lv kn nv nw lz kr nx ny md nz bi translated">第n行符号和空格的公式</h2><p id="da46" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">让我们来解决整个问题的核心:计算不同角度的第n行中的空格和符号的数量。如果你不知道从哪里开始，考虑小<em class="nn"> N </em>的例子是个好方法。</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Lines content in simple triangles</figcaption></figure><p id="576d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">经过例子观察我们可以看到，我们可以比较两个三角形:</p><ul class=""><li id="8a71" class="mk ml iq ka b kb kc kf kg kj mm kn mn kr mo kv mp mq mr ms bi translated">整个三角形(高N)</li><li id="739b" class="mk ml iq ka b kb mt kf mu kj mv kn mw kr mx kv mp mq mr ms bi translated">部分三角形-直到第n条线的三角形</li></ul><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Comparing whole triangle with partial one</figcaption></figure><p id="d313" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">线路长度</strong></p><p id="7b6f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们可以比较这些三角形的比率来计算B，即每条线的线长度(当你考虑到空格和符号时)。让我们用初等数学！裸露与我:</p><blockquote class="oa ob oc"><p id="26b1" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated">B/N = B/N<strong class="ka ir">=&gt;</strong>B = b/n * N<strong class="ka ir">=&gt;</strong>线长= B/N * N</p></blockquote><p id="5c57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于每个部分三角形(任意n)，高底比，即三角形角度总是相同的。基于此，我们可以说<em class="nn"> b/n </em>与整个三角形的<em class="nn">底/高</em>相同:</p><blockquote class="oa ob oc"><p id="8105" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">线长</strong> =底/高* N</p></blockquote><p id="eb93" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们检查一下它是否如我们预期的那样工作:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Check if lineLength equation works</figcaption></figure><p id="2000" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们看到有时线的长度比它应该的要小。我们看到，我们应该总是取整它以得到正确的结果:</p><blockquote class="oa ob oc"><p id="d55f" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">线长</strong> = Math.ceil(base / height * N)</p></blockquote><p id="defe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">符号和空格</strong></p><p id="e2c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，当我们知道每行有多少个字符时，我们需要计算每行有多少个空格和多少个符号。我们可以利用这样一个事实，即部分三角形中的第n条线也可以看作是整个但更小的三角形的底边。这意味着我们可以重复使用线长公式，但对于N=n:</p><blockquote class="oa ob oc"><p id="bc30" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">symbols(N)</strong>= line length(N = N)= math . ceil(base/height * N)</p></blockquote><p id="68e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，每行中的空格数只是没有所有符号的行长度:</p><blockquote class="oa ob oc"><p id="4aac" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">空格(n) </strong> =行长度——符号(n)</p></blockquote><p id="3574" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">我们推导的公式汇总</strong></p><blockquote class="oa ob oc"><p id="7c24" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">线长</strong> = Math.ceil(base / height * N)</p><p id="b313" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">符号(n)</strong>= math . ceil(base/height * n)</p><p id="1bca" class="jy jz nn ka b kb kc kd ke kf kg kh ki od kk kl km oe ko kp kq of ks kt ku kv ij bi translated"><strong class="ka ir">空格(n) </strong> =行长度——符号(n)</p></blockquote><h2 id="a8e3" class="no li iq bd lj np nq dn ln nr ns dp lr kj nt nu lv kn nv nw lz kr nx ny md nz bi translated">实现符号(n)和空格(n)</h2><p id="3036" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">在我们的例子中，对于参数化的三角形斜率(角度)，只有双参数符号<em class="nn">(n，angle) </em>，因为空间的数量显然取决于三角形的角度。没有<em class="nn">符号(n)。</em>或者是？</p><p id="cb1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">角度为定值，行数为变量</strong></p><p id="4706" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在JavaScript中，我们可以从一个函数返回另一个函数。稍后我们将能够调用这个返回的函数。语言的这种属性叫做<a class="ae kw" href="https://en.wikipedia.org/wiki/First-class_function" rel="noopener ugc nofollow" target="_blank"> <em class="nn">充当一等公民</em> </a> <em class="nn">。</em>我们将使用此功能将<em class="nn">符号(n，角度)</em>特殊化为<em class="nn"> symbolsForFixedAngle(n)。</em></p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div></figure><p id="7da3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，我们不需要知道<em class="nn">符号(n，角度)</em>怎么写才能知道<em class="nn">符号(n，角度)</em>怎么变成<em class="nn">符号(n) </em>。</p><p id="28c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">功能实现</strong></p><p id="5728" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们把重点放在实现符号(n，angle)上。以上段落是解决问题的主要部分。现在我们可以开始实施了。</p><p id="f0c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">鉴于我们有<em class="nn">符号(n) </em>的公式，它可以很容易地转换成代码:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Symbols(n, angle) implementation</figcaption></figure><p id="6ac0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于<em class="nn">空格(n) </em>也是如此:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Spaces(n, angle, N) implementation</figcaption></figure><h2 id="d1bb" class="no li iq bd lj np nq dn ln nr ns dp lr kj nt nu lv kn nv nw lz kr nx ny md nz bi translated">三角形的打印线</h2><p id="3adc" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">现在，剩下的就是使用所有准备好的函数最终打印出三角形的单行。各位，功能<em class="nn"> printLine(n) </em>:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">PrintLine(n, angle, N, symbol) implementation</figcaption></figure><h1 id="1594" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">将这些点连接起来</h1><p id="ebcc" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">我们有了打印一条三角形线的工具——非常成功！让我们用它来打印整个三角形:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">PrintTriangle(angle, N, symbol) implementation</figcaption></figure><p id="ca4f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，这是完整的代码:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Final solution</figcaption></figure><p id="cf5f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可能注意到我提到了比gists中更简单的函数签名，例如<em class="nn"> printLine(n) </em>而不是<em class="nn"> printLine(n，angle，N) </em>。那是因为我想把<em class="nn"> n </em>当作变量，而把所有其他参数当作常量。我们将使用第节中描述的关于<em class="nn">作为一等公民的功能</em>的技巧来实现这一点:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="lb lc l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Final solution — specialized</figcaption></figure><h1 id="9a96" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">防错</h1><p id="70f9" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">显然，我们应该在实现代码之前测试我们的解决方案，甚至更好地编写测试。不幸的是，这是不可能的，以保持这篇文章在合理的大小，并提出一个解决方案的验证。请记住，这是非常重要的一部分，尤其是在编码面试期间。</p><h1 id="c1d4" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">摘要</h1><p id="e2ae" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">这个问题的本质是那两个不相容的东西:</p><ul class=""><li id="4059" class="mk ml iq ka b kb kc kf kg kj mm kn mn kr mo kv mp mq mr ms bi translated">几何形状是连续的</li><li id="66be" class="mk ml iq ka b kb mt kf mu kj mv kn mw kr mx kv mp mq mr ms bi translated">印刷的三角形是离散的</li></ul><p id="dcfe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">解决从<strong class="ka ir">连续切换到</strong>离散所产生的问题是所述问题的难点。</p><h1 id="5e48" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">主要外卖</h1><p id="09be" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">所描述的问题是对已知任务的修改。我们用类推法解决了它。我们重用了<em class="nn">划分&amp;征服</em>的方法。寻找已知问题的相似之处是我们解决问题工具集中的另一把锤子。</p><h1 id="7518" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">下一步是什么？</h1><p id="8bcc" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">在下一篇文章中，我们将关注略有不同的三角形，即<strong class="ka ir"> Sierpinski三角形</strong>。在本系列的前两部分中，我们主要关心的是逐行打印三角形。在下一篇文章中，我们首先需要弄清楚如何生成形状。只有到那时，打印它才成为可能。下次见！</p><h2 id="24c5" class="no li iq bd lj np nq dn ln nr ns dp lr kj nt nu lv kn nv nw lz kr nx ny md nz bi translated"><strong class="ak">用简单的英语写的JavaScript的注释:</strong></h2><p id="1eac" class="pw-post-body-paragraph jy jz iq ka b kb mf kd ke kf mg kh ki kj mh kl km kn mi kp kq kr mj kt ku kv ij bi translated">我们总是有兴趣帮助推广高质量的内容。如果你有一篇文章想用简单的英语提交给JavaScript，用你的中级用户名发邮件到<a class="ae kw" href="mailto:submissions@javascriptinplainenglish.com" rel="noopener ugc nofollow" target="_blank">submissions@javascriptinplainenglish.com</a>给我们，我们会把你添加为作者。</p></div></div>    
</body>
</html>