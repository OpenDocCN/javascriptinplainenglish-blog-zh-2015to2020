<html>
<head>
<title>Generate Static Websites with Nuxt</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Nuxt生成静态网站</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/generate-static-websites-with-nuxt-4fd0491340e?source=collection_archive---------0-----------------------#2019-10-10">https://javascript.plainenglish.io/generate-static-websites-with-nuxt-4fd0491340e?source=collection_archive---------0-----------------------#2019-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="27db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如今静态网站又开始流行了。信息和宣传册网站不再需要使用像WordPress这样的内容管理系统来动态更新。</p><p id="b174" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用静态站点生成器，您可以从动态源(如headless CMS、API)以及Markdown文件等文件中获取内容。</p><p id="1c73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Nuxt是一个很棒的基于Vue.js的静态网站生成器，很容易用来构建静态网站。使用Nuxt，我们所要做的就是从动态内容构建静态网站，我们创建模板来动态显示来自动态源的内容，如API和Markdown文件。然后在Nuxt配置文件中，我们静态地定义路由，以便它可以通过相同的路由将内容生成到静态文件中。</p><p id="ad65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将使用Nuxt构建一个新闻网站，并将使用位于<a class="ae kl" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank">https://newsapi.org/</a>的新闻API获取内容。因为Nuxt是一个基于Vue.js的框架，所以在你使用Nuxt建立一个网站之前，你必须了解Vue.js。</p><p id="9fb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们在新闻API网站注册一个API密钥。如果我们只想要标题，它是免费的。我们通过使用Nuxt CLI开始构建网站。我们通过键入以下内容来运行<code class="fe km kn ko kp b">create-nuxt-app</code>命令:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="3c65" class="ky kz iq kp b gy la lb l lc ld">npx create-nuxt-app news-website</span></pre><p id="71be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将在<code class="fe km kn ko kp b">news-website</code>文件夹中创建初始项目文件。当向导运行时，我们为服务器端框架选择“无”,为UI框架选择“无”,为测试框架选择“无”,为Nuxt模式选择“通用”,并选择包含Axios、林挺和美化选项由您决定。</p><p id="64fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们需要安装一些软件包。我们需要<code class="fe km kn ko kp b">@nuxtjs/dotenv</code>包来读取本地的环境变量，还需要<code class="fe km kn ko kp b">country-list</code>库来获取我们网站上的国家列表。为了安装它们，我们运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="37b6" class="ky kz iq kp b gy la lb l lc ld">npm i @nuxtjs/dotenv country-list</span></pre><p id="2843" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们可以开始建立我们的网站了。在<code class="fe km kn ko kp b">default.vue</code>文件中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="92a0" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;<br/>      &lt;nuxt-link class="navbar-brand" to="/"&gt;News Website&lt;/nuxt-link&gt;<br/>      &lt;button<br/>        class="navbar-toggler"<br/>        type="button"<br/>        data-toggle="collapse"<br/>        data-target="#navbarSupportedContent"<br/>        aria-controls="navbarSupportedContent"<br/>        aria-expanded="false"<br/>        aria-label="Toggle navigation"<br/>      &gt;<br/>        &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;<br/>      &lt;/button&gt;</span><span id="69bf" class="ky kz iq kp b gy le lb l lc ld">      &lt;div class="collapse navbar-collapse" id="navbarSupportedContent"&gt;<br/>        &lt;ul class="navbar-nav mr-auto"&gt;<br/>          &lt;li class="nav-item active"&gt;<br/>            &lt;nuxt-link class="nav-link" to="/"&gt;Home&lt;/nuxt-link&gt;<br/>          &lt;/li&gt;<br/>          &lt;li class="nav-item dropdown"&gt;<br/>            &lt;a<br/>              class="nav-link dropdown-toggle"<br/>              href="#"<br/>              id="navbarDropdown"<br/>              role="button"<br/>              data-toggle="dropdown"<br/>              aria-haspopup="true"<br/>              aria-expanded="false"<br/>            &gt;Headliny by Country&lt;/a&gt;<br/>            &lt;div class="dropdown-menu" aria-labelledby="navbarDropdown"&gt;<br/>              &lt;nuxt-link<br/>                class="dropdown-item"<br/>                :to="`/headlines/${c.code}`"<br/>                v-for="(c, i) of countries"<br/>                :key="i"<br/>              &gt;{{c.name}}&lt;/nuxt-link&gt;<br/>            &lt;/div&gt;<br/>          &lt;/li&gt;<br/>        &lt;/ul&gt;<br/>      &lt;/div&gt;<br/>    &lt;/nav&gt;<br/>    &lt;nuxt /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="b57b" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import { requestsMixin } from "~/mixins/requestsMixin";<br/>const { getData } = require("country-list");</span><span id="8f76" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  mixins: [requestsMixin],<br/>  data() {<br/>    return {<br/>      countries: getData()<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="f8e2" class="ky kz iq kp b gy le lb l lc ld">&lt;style&gt;<br/>.bg-light {<br/>  background-color: lightcoral !important;<br/>}<br/>&lt;/style&gt;</span></pre><p id="a293" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是定义我们网站布局的文件。我们在这里添加了引导导航栏。该栏有主页链接和国家列表下拉菜单。当生成静态文件时，<code class="fe km kn ko kp b">nuxt-link</code>组件都是指向获取国家标题的页面的链接。通过调用<code class="fe km kn ko kp b">getData</code>函数，从<code class="fe km kn ko kp b">script</code>部分的<code class="fe km kn ko kp b">country-list</code>包中获取国家。在<code class="fe km kn ko kp b">style</code>部分，我们通过覆盖<code class="fe km kn ko kp b">.bg-light</code>类的默认颜色来改变导航栏的背景颜色。<code class="fe km kn ko kp b">template</code>部分底部的<code class="fe km kn ko kp b">nuxt</code>组件是显示我们内容的地方。</p><p id="be18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们创建一个<code class="fe km kn ko kp b">mixins</code>文件夹和一个名为<code class="fe km kn ko kp b">requestsMixin.js</code>的文件。在那里，我们添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="9fe7" class="ky kz iq kp b gy la lb l lc ld">const APIURL = "<a class="ae kl" href="https://newsapi.org/v2" rel="noopener ugc nofollow" target="_blank">https://newsapi.org/v2</a>";<br/>const axios = require("axios");</span><span id="91c5" class="ky kz iq kp b gy le lb l lc ld">export const requestsMixin = {<br/>  methods: {<br/>    getHeadlines(country) {<br/>      return axios.get(<br/>        `${APIURL}/top-headlines?country=${country}&amp;apiKey=${process.env.VUE_APP_APIKEY}`<br/>      );<br/>    },</span><span id="e54d" class="ky kz iq kp b gy le lb l lc ld">    getEverything(keyword) {<br/>      return axios.get(<br/>        `${APIURL}/everything?q=${keyword}&amp;apiKey=${process.env.VUE_APP_APIKEY}`<br/>      );<br/>    }<br/>  }<br/>};</span></pre><p id="eb95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该文件包含从新闻API中按国家和关键字获取标题的代码。</p><p id="781d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">pages</code>文件夹中，我们创建<code class="fe km kn ko kp b">headlines</code>文件夹，在<code class="fe km kn ko kp b">headlines</code>文件夹中，创建一个<code class="fe km kn ko kp b">_countryCode.vue</code>文件。在文件中，我们添加了:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="7c2b" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;h1 class="text-center"&gt;Headlines in {{getCountryName()}}&lt;/h1&gt;<br/>    &lt;div v-if="headlines.length &gt; 0"&gt;<br/>      &lt;div class="card" v-for="(h, i) of headlines" :key="i"&gt;<br/>        &lt;div class="card-body"&gt;<br/>          &lt;h5 class="card-title"&gt;{{h.title}}&lt;/h5&gt;<br/>          &lt;p class="card-text"&gt;{{h.content}}&lt;/p&gt;<br/>          &lt;button class="btn btn-primary" :href="h.url" target="_blank" variant="primary"&gt;Read&lt;/button&gt;<br/>        &lt;/div&gt;<br/>        &lt;img :src="h.urlToImage" class="card-img-bottom" /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;div v-else&gt;<br/>      &lt;h2 class="text-center"&gt;No headlines found.&lt;/h2&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="8c00" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import { requestsMixin } from "~/mixins/requestsMixin";<br/>const { getData } = require("country-list");</span><span id="3e53" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  mixins: [requestsMixin],<br/>  data() {<br/>    return {<br/>      headlines: [],<br/>      countries: getData()<br/>    };<br/>  },<br/>  beforeMount() {<br/>    this.getHeadlinesByCountry();<br/>  },<br/>  methods: {<br/>    async getHeadlinesByCountry() {<br/>      this.country = this.$route.params.countryCode;<br/>      const { data } = await this.getHeadlines(this.country);<br/>      this.headlines = data.articles;<br/>    },</span><span id="ef2e" class="ky kz iq kp b gy le lb l lc ld">    getCountryName() {<br/>      const country = this.countries.find(<br/>        c =&gt; c.code == this.$route.params.countryCode<br/>      );<br/>      return country ? country.name : "";<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="cd3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在该文件中，我们接受route参数<code class="fe km kn ko kp b">countryCode</code>，然后从那里，我们从之前制作并包含在该组件中的<code class="fe km kn ko kp b">requestsMixin</code>调用<code class="fe km kn ko kp b">this.getHeadlines</code>函数，以从新闻API获取标题。然后结果显示在<code class="fe km kn ko kp b">template</code>部分的引导卡中。在模板中，我们从<code class="fe km kn ko kp b">country-list</code>数据中找到国家名称。如果找不到标题，我们会显示一条消息。一般来说，如果我们想创建一个接受URL参数的页面，我们必须创建一个文件，以下划线作为第一个字符，并使用我们想要的URL参数的变量名。所以在这个例子中，<code class="fe km kn ko kp b">_countryCode.vue</code>将让我们通过使用<code class="fe km kn ko kp b">this.$route.params.countryCode</code>来获得<code class="fe km kn ko kp b">countryCode</code>参数。</p><p id="53b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，在<code class="fe km kn ko kp b">pages</code>文件夹的<code class="fe km kn ko kp b">index.vue</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="961f" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;h1 class="text-center"&gt;Home&lt;/h1&gt;<br/>    &lt;div class="card" v-for="(h, i) of headlines" :key="i"&gt;<br/>      &lt;div class="card-body"&gt;<br/>        &lt;h5 class="card-title"&gt;{{h.title}}&lt;/h5&gt;<br/>        &lt;p class="card-text"&gt;{{h.content}}&lt;/p&gt;<br/>        &lt;button class="btn btn-primary" :href="h.url" target="_blank" variant="primary"&gt;Read&lt;/button&gt;<br/>      &lt;/div&gt;<br/>      &lt;img :src="h.urlToImage" class="card-img-bottom" /&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="24a8" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import { requestsMixin } from "~/mixins/requestsMixin";<br/>const { getData } = require("country-list");</span><span id="da14" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  mixins: [requestsMixin],<br/>  data() {<br/>    return {<br/>      headlines: []<br/>    };<br/>  },<br/>  beforeMount() {<br/>    this.getHeadlinesByCountry();<br/>  },<br/>  methods: {<br/>    async getHeadlinesByCountry() {<br/>      const { data } = await this.getHeadlines("us");<br/>      this.headlines = data.articles;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="5966" class="ky kz iq kp b gy le lb l lc ld">&lt;style&gt;<br/>&lt;/style&gt;</span></pre><p id="12ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这让我们可以在主页上显示美国的头条新闻。它的工作方式类似于<code class="fe km kn ko kp b">_countryCode.vue</code>页面，除了我们只获取美国的标题，而不是接受一个URL参数来根据URL获取不同国家的标题。</p><p id="6d9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们在项目的根文件夹中创建一个<code class="fe km kn ko kp b">create-env.js</code>并添加以下内容:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="3693" class="ky kz iq kp b gy la lb l lc ld">const fs = require('fs')<br/>fs.writeFileSync('./.env', `API_KEY=${process.env.API_KEY}\n`)</span></pre><p id="3704" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这允许我们部署到Netlify，因为我们需要从输入的环境变量中动态创建<code class="fe km kn ko kp b">.env</code>文件。此外，我们手动创建<code class="fe km kn ko kp b">.env</code>文件，并将<code class="fe km kn ko kp b">API_KEY</code>作为键，将News API键作为值。</p><p id="f7af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">nuxt.config.js</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="f262" class="ky kz iq kp b gy la lb l lc ld">require("dotenv").config();<br/>const { getData } = require("country-list");</span><span id="7ab6" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  mode: "universal",<br/>  /*<br/>   ** Headers of the page<br/>   */<br/>  head: {<br/>    title: "News Website",<br/>    meta: [<br/>      { charset: "utf-8" },<br/>      { name: "viewport", content: "width=device-width, initial-scale=1" },<br/>      {<br/>        hid: "description",<br/>        name: "description",<br/>        content: process.env.npm_package_description || ""<br/>      }<br/>    ],<br/>    link: [<br/>      { rel: "icon", type: "image/x-icon", href: "/favicon.ico" },<br/>      {<br/>        rel: "stylesheet",<br/>        href:<br/>          "<a class="ae kl" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css</a>"<br/>      }<br/>    ],<br/>    script: [<br/>      { src: "<a class="ae kl" href="https://code.jquery.com/jquery-3.3.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.3.1.slim.min.js</a>" },<br/>      {<br/>        src:<br/>          "<a class="ae kl" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js</a>"<br/>      },<br/>      {<br/>        src:<br/>          "<a class="ae kl" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js</a>"<br/>      }<br/>    ]<br/>  },<br/>  /*<br/>   ** Customize the progress-bar color<br/>   */<br/>  loading: { color: "#fff" },<br/>  /*<br/>   ** Global CSS<br/>   */<br/>  css: [],<br/>  /*<br/>   ** Plugins to load before mounting the App<br/>   */<br/>  plugins: [],<br/>  /*<br/>   ** Nuxt.js dev-modules<br/>   */<br/>  buildModules: [],<br/>  /*<br/>   ** Nuxt.js modules<br/>   */<br/>  modules: [<br/>    // Doc: <a class="ae kl" href="https://axios.nuxtjs.org/usage" rel="noopener ugc nofollow" target="_blank">https://axios.nuxtjs.org/usage</a><br/>    "<a class="ae kl" href="http://twitter.com/nuxtjs/axios" rel="noopener ugc nofollow" target="_blank">@nuxtjs/axios</a>",<br/>    "<a class="ae kl" href="http://twitter.com/nuxtjs/dotenv" rel="noopener ugc nofollow" target="_blank">@nuxtjs/dotenv</a>"<br/>  ],<br/>  /*<br/>   ** Axios module configuration<br/>   ** See <a class="ae kl" href="https://axios.nuxtjs.org/options" rel="noopener ugc nofollow" target="_blank">https://axios.nuxtjs.org/options</a><br/>   */<br/>  axios: {},<br/>  /*<br/>   ** Build configuration<br/>   */<br/>  build: {<br/>    /*<br/>     ** You can extend webpack config here<br/>     */<br/>    extend(config, ctx) {}<br/>  },<br/>  env: {<br/>    apiKey: process.env.API_KEY || ""<br/>  },<br/>  router: {<br/>    routes: [<br/>      {<br/>        name: "index",<br/>        path: "/",<br/>        component: "pages/index.vue"<br/>      },<br/>      {<br/>        name: "headlines-id",<br/>        path: "/headlines/:countryCode?",<br/>        component: "pages/headlines/_countryCode.vue"<br/>      }<br/>    ]<br/>  },<br/>  generate: {<br/>    routes() {<br/>      return getData().map(d =&gt; `headlines/${d.code}`);<br/>    }<br/>  }<br/>};</span></pre><p id="177d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">head</code>对象中，我们更改了<code class="fe km kn ko kp b">title</code>以便显示我们想要的标题，而不是默认标题。在<code class="fe km kn ko kp b">link</code>部分，我们添加了Bootstrap CSS，在<code class="fe km kn ko kp b">script</code>部分，我们添加了Bootstrap JavaScript文件和jQuery，这是Bootstrap的一个依赖项。因为我们想建立一个静态站点，所以我们不能使用BootstrapVue，因为它是动态的。我们不希望在生成的输出中有任何动态JavaScript，所以我们必须使用普通的Bootstrap。在<code class="fe km kn ko kp b">modules</code>部分，我们添加了<code class="fe km kn ko kp b">”@nuxtjs/dotenv”</code>来读取我们在Nuxt应用程序中创建的<code class="fe km kn ko kp b">.env</code>文件中的环境变量。我们还增加了<code class="fe km kn ko kp b">require(“dotenv”).config();</code>，得到了<code class="fe km kn ko kp b">process.env.API_KEY</code>，可以添加到该配置文件中。我们必须这样做，这样我们就不用签入我们的<code class="fe km kn ko kp b">.env</code>文件。在<code class="fe km kn ko kp b">env</code>部分，我们有<code class="fe km kn ko kp b">apiKey: process.env.API_KEY || “”</code>，这是我们用<code class="fe km kn ko kp b">dotenv</code>读取<code class="fe km kn ko kp b">.env</code>文件中的API KEY得到的。</p><p id="d965" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">router</code>部分，我们定义了动态路由，这样当用户点击带有给定URL的链接或者点击带有这些URL的链接时，就可以看到这些动态路由。Nuxt也使用这些路由来生成静态文件。在<code class="fe km kn ko kp b">generate</code>部分，我们定义了Nuxt为静态网站生成静态文件所遍历的路径。在本例中，路由数组由我们之前创建的headlines页面的路由组成。它将遍历它们以获取数据，然后渲染它们并从渲染结果中生成文件。文件夹结构将与路线相对应。因此，由于我们的<code class="fe km kn ko kp b">path</code>是<code class="fe km kn ko kp b">/headlines/:countryCode</code>，生成的工件将有<code class="fe km kn ko kp b">headlines</code>文件夹以及所有的国家代码作为子文件夹的名称，并且在每个文件夹内将有一个<code class="fe km kn ko kp b">index.html</code>和呈现的内容。</p><p id="9d9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们准备将我们的网站部署到Netlify。去<a class="ae kl" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank">https://www.netlify.com/</a>创建一个网络账户。免费计划将满足我们的需求。然后将代码提交到GitHub、Gitlab或Bitbucket上的Git存储库中。然后当你登录Netlify，点击Git的新网站。从那里，您可以添加托管在这些服务之一中的Git存储库。然后当要求您输入构建命令时，输入<code class="fe km kn ko kp b">node ./create-env.js &amp;&amp; npm run generate </code>，发布目录将会是<code class="fe km kn ko kp b">dist</code>。</p><p id="8c09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后，将<code class="fe km kn ko kp b">.env</code>文件中的API键输入到网站设置的环境变量部分，您可以通过单击Build &amp; deploy菜单上的环境链接进入该部分。输入<code class="fe km kn ko kp b">API_KEY</code>作为键，输入您的新闻API API键作为值。然后点击保存按钮。</p><p id="e63d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你提交和推送GitHub、Gitlab或Bitbucket托管的Git仓库中的所有东西，Netlify就会自动构建和部署。</p><p id="34e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成后，您应该会得到类似如下的结果:</p><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/cc22266e5654fc961b00d88f53b09c75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N7662dmxkKIDqOeYEmB7_w.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/a6d5b580ff1b79bbecb0582bcf66ff5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0kpFFW8xGM4QTLUadu7ucw.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/b5fa619ef15145e9f5723e35904a1b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UnRL8yuDdByY7XYwpAOT5w.png"/></div></div></figure></div></div>    
</body>
</html>