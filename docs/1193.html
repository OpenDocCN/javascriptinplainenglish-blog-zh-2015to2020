<html>
<head>
<title>Array and Object De-structuring in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的数组和对象去结构化</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/array-and-object-de-structuring-in-javascript-da3e73867781?source=collection_archive---------7-----------------------#2020-02-10">https://javascript.plainenglish.io/array-and-object-de-structuring-in-javascript-da3e73867781?source=collection_archive---------7-----------------------#2020-02-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a5c4fc3e2016550be4dc762106bb7970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ITvGnxQPw2gB46dz.png"/></div></div></figure><h1 id="9db8" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">背景</h1><p id="004d" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">代码不仅仅是让它工作。代码也是关于可读性和简洁的，比如适当的缩进，适当的命名约定，等等。代码也应该是自文档化的(这是我推荐您阅读的另一个主题)。可读和简洁代码的一个常见约定是数组和对象去结构化。数组和对象的分解是“分解”值并将这些值分配给不同变量的语法技巧。</p><h1 id="83c9" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">数组去结构化</h1><p id="ba50" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">就我目前所见，数组去结构没有对象去结构常见，但我确实经常看到。那么，数组分解是如何工作的呢？</p><p id="31d6" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">通常，您会看到这样的数组:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="1142" class="mf jw in mb b gy mg mh l mi mj">const colors = ["red", "blue", "green"]</span></pre><p id="be53" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">为了访问<code class="fe mk ml mm mb b">colors</code>中的值，您可以根据它们的索引来访问它们。所以，</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f054" class="mf jw in mb b gy mg mh l mi mj">colors[0] = "red"<br/>colors[1] = "blue"<br/>colors[2] = "green"</span></pre><p id="8c2c" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">但是假设您需要在整个代码库中多次访问这些值。试图记住他们的特定颜色的索引很容易混淆并导致错误。想象一下，不断检查以确保为数组输入了正确的索引号。更不用说，如果有一个错误或者你需要改变它，你需要调试或者寻找它，但是你看到的都是<code class="fe mk ml mm mb b">colors[0]</code>、<code class="fe mk ml mm mb b">colors[1]</code>或者<code class="fe mk ml mm mb b">colors[2]</code>。数组分解将帮助您缓解这个难题。</p><p id="6b77" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">首先，我将向您展示数组分解语法，然后我将分解它在做什么。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="986c" class="mf jw in mb b gy mg mh l mi mj">const [ red, blue, green ] = colors</span></pre><p id="74d1" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">哇…就一句台词？没错。</p><p id="7298" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">所以，让我们打开这一个班轮。</p><p id="5c1b" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在<code class="fe mk ml mm mb b">const [ red, blue, green ]</code>部分，我实例化了三个新变量:<code class="fe mk ml mm mb b">red</code>、<code class="fe mk ml mm mb b">blue</code>、<code class="fe mk ml mm mb b">green</code>。在部分<code class="fe mk ml mm mb b">= colors</code>中，我基于<code class="fe mk ml mm mb b">colors</code>数组声明变量<code class="fe mk ml mm mb b">red</code>、<code class="fe mk ml mm mb b">blue</code>和<code class="fe mk ml mm mb b">green</code>的值。但是JavaScript如何知道<code class="fe mk ml mm mb b">colors</code>数组中的哪个值声明给了哪个变量呢？</p><p id="a127" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">注意<code class="fe mk ml mm mb b">red</code>、<code class="fe mk ml mm mb b">blue</code>和<code class="fe mk ml mm mb b">green</code>是如何在数组括号内的。<em class="mn">声明变量的索引与用于确定使用数组中哪个值的索引相同。</em>例如，<code class="fe mk ml mm mb b">blue</code>在索引<code class="fe mk ml mm mb b">1</code>处声明。这意味着<code class="fe mk ml mm mb b">blue</code>将等于<code class="fe mk ml mm mb b">color[1]</code>处的值，在本例中为<code class="fe mk ml mm mb b">"blue"</code>。这里，变量的实例化顺序是决定因素。本质上，下面的代码显示了数组分解正在做什么。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="cad9" class="mf jw in mb b gy mg mh l mi mj">const red = colors[0]<br/>const blue colors[1]<br/>const green = colors[2]</span><span id="47ec" class="mf jw in mb b gy mo mh l mi mj">console.log(red) // "red"<br/>console.log(blue) // "blue"<br/>console.log(green) // "green"</span></pre><p id="c286" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">那么在哪里可以找到使用数组分解的例子呢？我见过最常见的地方是<a class="ae mp" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">反应钩</a>。如果您打算使用需要状态的严格功能组件，您将需要理解数组分解。</p><h1 id="8307" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">对象去结构化</h1><p id="7719" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">对象分解和数组分解的工作原理是一样的。但是让我们从头开始。</p><p id="af64" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">通常，您会看到这样声明的对象:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="ca83" class="mf jw in mb b gy mg mh l mi mj">const colors = { red: "red", blue: "blue", green: "green" }</span></pre><p id="dbdc" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">为了访问键-值对中的值，可以根据它们的键来访问它们。所以，</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="09c2" class="mf jw in mb b gy mg mh l mi mj">colors.red = "red"<br/>colors.blue = "blue"<br/>colors.green = "green"</span></pre><p id="8c0d" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">现在，让我们分解这个对象！</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a610" class="mf jw in mb b gy mg mh l mi mj">const { red, blue, green } = colors</span></pre><p id="8ad9" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">谢天谢地，对象分解也只有一行！如果你能够遵循数组分解，这将非常非常相似。</p><p id="0513" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在部分<code class="fe mk ml mm mb b">const { red, blue, green }</code>中，我实例化了三个新变量:<code class="fe mk ml mm mb b">red</code>、<code class="fe mk ml mm mb b">blue</code>、<code class="fe mk ml mm mb b">green</code>。在部分<code class="fe mk ml mm mb b">= colors</code>中，我基于<code class="fe mk ml mm mb b">colors</code>对象声明变量<code class="fe mk ml mm mb b">red</code>、<code class="fe mk ml mm mb b">blue</code>和<code class="fe mk ml mm mb b">green</code>的值。但是JavaScript如何知道<code class="fe mk ml mm mb b">colors</code>对象中的哪个值声明给了哪个变量呢？</p><p id="49ea" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">注意<code class="fe mk ml mm mb b">red</code>、<code class="fe mk ml mm mb b">blue</code>和<code class="fe mk ml mm mb b">green</code>是如何在对象括号内的。<em class="mn">变量名本身将被用作键，以确定从对象中使用哪个键-值对。例如，我声明了一个名为<code class="fe mk ml mm mb b">blue</code>的变量。这意味着在<code class="fe mk ml mm mb b">colors</code>对象中，JavaScript将寻找一个名为blue的键，并将与该键相关的值赋给变量<code class="fe mk ml mm mb b">blue</code>。在这里，变量名是决定因素。本质上，下面的代码显示了对象分解正在做什么。</em></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="ff23" class="mf jw in mb b gy mg mh l mi mj">const red = colors.red<br/>const blue = colors.blue<br/>const green = colors.green</span><span id="e9ef" class="mf jw in mb b gy mo mh l mi mj">console.log(red) // "red"<br/>console.log(blue) // "blue"<br/>console.log(green) // "green"</span></pre><p id="4490" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用对象分解的一个非常常见的例子是在React组件中传递属性。由于<code class="fe mk ml mm mb b">props</code>(在函数组件中)或<code class="fe mk ml mm mb b">this.props</code>(在类中)已经是对象，使用与父组件中相同的变量名可以帮助你分解props。下面是一个例子。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="2b27" class="mf jw in mb b gy mg mh l mi mj">// App.js</span><span id="3377" class="mf jw in mb b gy mo mh l mi mj">import React, { Component } from 'react'<br/>import Calendar from './Calender'</span><span id="30b9" class="mf jw in mb b gy mo mh l mi mj">class App extends Component {<br/>  state = {<br/>    month: Feburary<br/>    date: 9<br/>    year: 2020<br/>  }</span><span id="dbf7" class="mf jw in mb b gy mo mh l mi mj">  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;Calendar <br/>          month={this.state.month} <br/>          date={this.state.date}<br/>          year={this.state.year}<br/>        /&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span><span id="bb56" class="mf jw in mb b gy mo mh l mi mj">// Calendar.js</span><span id="c922" class="mf jw in mb b gy mo mh l mi mj">import React from 'react'</span><span id="2e74" class="mf jw in mb b gy mo mh l mi mj">function Calendar(props) {<br/>  // object de-structuring<br/>  const { month, date, year } = props<br/>  return (<br/>    &lt;h1&gt;Today is {month} {date}, {year}&lt;/h1&gt;<br/>  )<br/>}</span><span id="9216" class="mf jw in mb b gy mo mh l mi mj">export default Calendar </span></pre></div></div>    
</body>
</html>