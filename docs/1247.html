<html>
<head>
<title>How and Why to Use Wrapper Components in Vue3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何以及为什么在Vue3中使用包装组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-and-why-to-use-wrapper-components-in-vue3-fe35058dc405?source=collection_archive---------2-----------------------#2020-02-18">https://javascript.plainenglish.io/how-and-why-to-use-wrapper-components-in-vue3-fe35058dc405?source=collection_archive---------2-----------------------#2020-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ef0e83e398cbfb9de019b3b0e7d61f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C2bS6jBCxwqyiYVI"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://unsplash.com/@tma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tianyi Ma</a> on <a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="2b71" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">包装组件对于让你的代码库更有条理、更专业非常有用</strong>。</p><p id="32fc" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一般来说，包装组件是一个定制组件，它通过添加一些定制功能、样式或其他任何东西来修改本地元素或第三方库。</p><p id="29b2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本教程结束时，您将…</p><ul class=""><li id="9e80" class="lb lc jg kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">理解使用包装组件的价值</li><li id="294d" class="lb lc jg kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">知道何时使用它们</li><li id="474f" class="lb lc jg kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">构建一个示例输入包装组件</li></ul><p id="019d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">说够了！我们开始吧。</p><h1 id="25b8" class="lp lq jg bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">我们为什么要使用包装组件呢？</h1><p id="c43b" class="pw-post-body-paragraph kd ke jg kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">正如我们所说的，包装组件对于组织代码和扩展本地/外部元素都很有用。</p><p id="5aad" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ms">好吧……但这对我们的组织有什么帮助呢？？</em></p><p id="1204" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于我们的例子，假设我们正在为默认的<a class="ae jd" href="https://learnvue.co/2020/01/9-vue-input-libraries-to-power-up-your-forms" rel="noopener ugc nofollow" target="_blank">文本输入</a>构建一个包装器组件。使用包装器组件创建了一个自然的继承— <code class="fe mt mu mv mw b">Parent Element</code> &gt; <code class="fe mt mu mv mw b">TextInputWrapper</code> &gt; <code class="fe mt mu mv mw b">Input</code>。</p><p id="e474" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe mt mu mv mw b">TextInputWrapper</code>中，我们可以添加自定义样式、过渡，并扩展input元素的默认用法。如果我们没有包装器，我们将不得不在每个使用更好的输入的组件中直接对输入元素进行编辑。</p><p id="f9d4" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">包装器组件给了我们一个可重用的组件，我们可以直接导入并使用它。现在，如果我们想改变功能，我们只需要编辑一个文件，而不是几十个。</p><p id="82c8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，包装组件不仅帮助我们尽可能地保持代码干爽，而且还构建了一个更加模块化和可伸缩的项目。例如，如果我们想要多种类型的自定义文本输入。</p><h1 id="6284" class="lp lq jg bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">好吧…让我们真的开始吧！</h1><p id="6ccf" class="pw-post-body-paragraph kd ke jg kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">好了，现在我们实际上知道了什么是包装组件，以及它们是如何有用的，让我们实际上构建我们正在谈论的例子。</p><p id="3a79" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于我们之前讨论的文本输入示例，让我们为原生文本输入制作一个包装器组件。</p><p id="cd19" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我们正在构建的组件。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="5e70" class="nf lq jg mw b gy ng nh l ni nj">&lt;template&gt;<br/>  &lt;div&gt;<br/>    {{ label }}<br/>    &lt;input/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  props: ['label']<br/>}<br/>&lt;/script&gt;<br/>&lt;style scoped&gt;<br/><br/>&lt;/style&gt;</span></pre><p id="4cab" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh">在Vue3中制作一个包装器非常简单</strong>。我们只需要理解一个Vue实例的属性:<code class="fe mt mu mv mw b">$attrs</code>。</p><p id="d6d5" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mw b">$attrs</code>包含传递给组件的所有非属性和非发射事件。</p><p id="d127" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Vue2中，如果我们没有在组件中明确定义一个prop，它会被添加到组件的子组件的根中。但是，如果我们将<code class="fe mt mu mv mw b">inheritAttrs</code>实例属性设置为false，我们可以覆盖该属性，并使用$attrs属性通过包装组件传递数据。</p><p id="2422" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，现在在Vue3中，组件子组件的默认绑定不再发生，所以没有什么可以覆盖的。另外，以前通过$listeners属性访问的组件的非发出事件侦听器现在也包含在$attrs中。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="1aa1" class="nf lq jg mw b gy ng nh l ni nj">&lt;template&gt;<br/>  &lt;div&gt;<br/>    {{ label }}<br/>    &lt;input v-bind='$attrs'/&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  props: ['label']<br/>}<br/>&lt;/script&gt;<br/>&lt;style scoped&gt;<br/><br/>&lt;/style&gt;</span></pre><p id="78a5" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了基本的文本输入，我们可以向包装器组件添加一些定制。扩展它的一些方法是添加定制的事件监听器，不同的样式，或者标签属性来标记我们的输入。</p><p id="6dec" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">太好了。我们的包装组件已经设置好了！现在，这里有一个例子，我们如何将它包含到一个组件中。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="9ae5" class="nf lq jg mw b gy ng nh l ni nj">&lt;text-input <br/>      label='hello'<br/>      v-model='state.textVal'<br/>      placeholder='Hello World'<br/>/&gt;</span></pre><p id="d586" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你真的想更深入地了解v-model、$attrs和v-bind在Vue3中是如何工作的，这里有一个由Chris Fritz 制作的<a class="ae jd" href="https://github.com/chrisvfritz/vue-3-trends/blob/master/slides-2019-03-vueconfus.pdf" rel="noopener ugc nofollow" target="_blank">幻灯片</a></p><figure class="mx my mz na gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/fb98f0e43dc5642a063d05700f1e6a2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xMgN4Vy24nwzUUqS.png"/></div></div></figure><h1 id="8e57" class="lp lq jg bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">还有什么可能？</h1><p id="d4ea" class="pw-post-body-paragraph kd ke jg kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">我们刚刚讨论的例子是包装器组件的一个非常简单的用法，但是它展示了一个主要的用例:包装本地元素以添加更多的功能。</p><p id="18a6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这也是将第三方库或插件整合到你的Vue项目中的一个非常好的技术。它允许您对某些元素的操作进行更可预测的控制。</p><p id="6a63" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总之，包装组件，尤其是在大型项目中，是开发更可重用、更有组织性和更可预测的代码库的好方法。</p><p id="17c3" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇快速的文章之后，您应该知道为什么包装器组件是有用的，以及如何在Vue3中使用<code class="fe mt mu mv mw b">v-model</code>、传递<code class="fe mt mu mv mw b">$attrs</code>和传递<code class="fe mt mu mv mw b">$listeners</code>来构造它们。希望你学到了一两件事，并且一如既往，如果你有任何问题，让我知道！！</p><p id="15b8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">编码快乐！</p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="8190" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你有兴趣了解更多关于Vue 3的知识，请下载我的免费Vue 3备忘单，里面有一些基本知识，比如组合API、Vue 3模板语法和事件处理。</p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="88c2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ms">原载于2020年2月18日https://learnvue.co</em><em class="ms">的</em> <a class="ae jd" href="https://learnvue.co/2020/02/how-and-why-to-use-wrapper-components-in-vue3" rel="noopener ugc nofollow" target="_blank"> <em class="ms">。</em></a></p></div></div>    
</body>
</html>