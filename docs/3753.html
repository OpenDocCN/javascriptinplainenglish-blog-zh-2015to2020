<html>
<head>
<title>Building a customizable Modal Component with React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React构建可定制的模态组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-modal-component-with-react-7ef486872c5f?source=collection_archive---------6-----------------------#2020-10-22">https://javascript.plainenglish.io/building-a-modal-component-with-react-7ef486872c5f?source=collection_archive---------6-----------------------#2020-10-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="412f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在这个例子中，我们将使用React创建一个可定制的模态组件。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0f6ee14f154c43a0f6760533b9632000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JoEaX6vlj3N94O81tX3djA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Modal example screenshot</figcaption></figure><h1 id="837e" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">入门指南</h1><p id="4877" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">首先，让我们看看如何使用我们的模态组件:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="88ab" class="pw-post-body-paragraph lk ll in lm b ln mi jo lp lq mj jr ls lt mk lv lw lx ml lz ma mb mm md me mf ig bi translated">注意，我们使用的是<code class="fe mn mo mp mq b">Modal</code>和<code class="fe mn mo mp mq b">Modal.Content</code>。这样，我们将能够从外部定制背景覆盖和模态内容元素。</p><h1 id="f7f0" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">警告</h1><p id="e951" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">显示模态元素的最佳实践之一是在<code class="fe mn mo mp mq b">body</code>标签中呈现它，而不是在父组件中内联呈现。</p><p id="96ff" class="pw-post-body-paragraph lk ll in lm b ln mi jo lp lq mj jr ls lt mk lv lw lx ml lz ma mb mm md me mf ig bi translated">原因是:</p><ol class=""><li id="6f0b" class="mr ms in lm b ln mi lq mj lt mt lx mu mb mv mf mw mx my mz bi translated">为了避免<code class="fe mn mo mp mq b">z-index</code>的问题。</li><li id="5db0" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf mw mx my mz bi translated">即使父元素设置为<code class="fe mn mo mp mq b">visibility: hidden</code>，也能显示模态。</li><li id="1750" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf mw mx my mz bi translated">以避免在另一个模式中显示嵌套模式时出现问题。</li></ol><p id="1213" class="pw-post-body-paragraph lk ll in lm b ln mi jo lp lq mj jr ls lt mk lv lw lx ml lz ma mb mm md me mf ig bi translated">在一个简单的场景中，我们可以将Modal直接附加到<code class="fe mn mo mp mq b">body</code>元素上。然而，有一种更优雅的方式，使用一个特殊的<code class="fe mn mo mp mq b"><em class="nf">Modal.Host</em></code>组件，我们将呈现所有模态。通过这种方式，我们可以更加灵活地控制渲染模式的确切位置，只需将<code class="fe mn mo mp mq b"><em class="nf">Modal.Host</em></code>移动到我们想要渲染模式的位置:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="6e22" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">先决条件</h1><ul class=""><li id="99d6" class="mr ms in lm b ln lo lq lr lt ng lx nh mb ni mf nj mx my mz bi translated"><code class="fe mn mo mp mq b">react</code>和<code class="fe mn mo mp mq b">react-dom</code></li><li id="c815" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf nj mx my mz bi translated"><code class="fe mn mo mp mq b">classnames</code> —只是为了方便使用带有React的CSS模块</li></ul><p id="d581" class="pw-post-body-paragraph lk ll in lm b ln mi jo lp lq mj jr ls lt mk lv lw lx ml lz ma mb mm md me mf ig bi translated">开始编码吧。</p><h1 id="bf37" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">实现模态组件</h1><p id="b023" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">总体模式实施将包含:</p><ul class=""><li id="28ca" class="mr ms in lm b ln mi lq mj lt mt lx mu mb mv mf nj mx my mz bi translated"><code class="fe mn mo mp mq b"><strong class="lm io"><em class="nf">Modal/common.js</em></strong></code>:包含共享内容</li><li id="6650" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf nj mx my mz bi translated"><code class="fe mn mo mp mq b"><strong class="lm io"><em class="nf">Modal/ModalHost.js</em></strong></code>:包含<code class="fe mn mo mp mq b">Modal.Host</code>组件</li><li id="eee2" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf nj mx my mz bi translated"><code class="fe mn mo mp mq b"><strong class="lm io"><em class="nf">Modal/ModalContent.js</em></strong></code>:包含<code class="fe mn mo mp mq b">Modal.Content</code>组件</li><li id="2a1a" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf nj mx my mz bi translated"><code class="fe mn mo mp mq b"><strong class="lm io"><em class="nf">Modal/index.js</em></strong></code>:包含主<code class="fe mn mo mp mq b">Modal</code>组件</li><li id="771f" class="mr ms in lm b ln na lq nb lt nc lx nd mb ne mf nj mx my mz bi translated"><code class="fe mn mo mp mq b"><strong class="lm io"><em class="nf">Modal/modal.module.css</em></strong></code>:包含CSS样式(CSS模块)</li></ul><h2 id="1db6" class="nk kt in bd ku nl nm dn ky nn no dp lc lt np nq le lx nr ns lg mb nt nu li nv bi translated">Modal/common.js</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h2 id="9f5a" class="nk kt in bd ku nl nm dn ky nn no dp lc lt np nq le lx nr ns lg mb nt nu li nv bi translated">Modal/ModalHost.js</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h2 id="f2db" class="nk kt in bd ku nl nm dn ky nn no dp lc lt np nq le lx nr ns lg mb nt nu li nv bi translated">Modal/ModalContent.js</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h2 id="c2c4" class="nk kt in bd ku nl nm dn ky nn no dp lc lt np nq le lx nr ns lg mb nt nu li nv bi translated">Modal/index.js</h2><p id="85af" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">我们将使用<a class="ae nw" href="https://reactjs.org/docs/portals.html" rel="noopener ugc nofollow" target="_blank"> React Portal </a>来呈现其父元素之外的模态，特别是在<code class="fe mn mo mp mq b">Modal.Host</code>中。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h2 id="58d2" class="nk kt in bd ku nl nm dn ky nn no dp lc lt np nq le lx nr ns lg mb nt nu li nv bi translated">Modal/modal.module.css</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="abfe" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">摘要</h1><p id="453f" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">查看<a class="ae nw" href="https://github.com/erzhtor/building-customizable-modal-with-react" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>中的完整示例。</p><p id="ae2f" class="pw-post-body-paragraph lk ll in lm b ln mi jo lp lq mj jr ls lt mk lv lw lx ml lz ma mb mm md me mf ig bi translated">另外，请随时订阅即将发布的文章！</p></div></div>    
</body>
</html>