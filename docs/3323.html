<html>
<head>
<title>Maintainable JavaScript — with and for Loop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可维护的JavaScript——使用and和for循环</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/maintainable-javascript-with-and-for-loop-512b10f7bd6?source=collection_archive---------11-----------------------#2020-09-18">https://javascript.plainenglish.io/maintainable-javascript-with-and-for-loop-512b10f7bd6?source=collection_archive---------11-----------------------#2020-09-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2d98f4cc9a3056ce5d3e75e3a2b08bbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x3dnJCLQuvd4T3Mx"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d908" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果想继续使用代码，创建可维护的JavaScript代码很重要。</p><p id="9221" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将通过查看各种块语句来了解创建可维护JavaScript代码的基础。</p><h1 id="d97c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">with语句</h1><p id="b99b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">永远不要使用<code class="fe me mf mg mh b">with</code>语句。</p><p id="1a50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它通过创建一个<code class="fe me mf mg mh b">with</code>块来在自己的上下文中操作对象。</p><p id="b048" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="aed3" class="mq lc iq mh b gy mr ms l mt mu">var book = {<br/>  title: "javascript for beginners",<br/>  author: "james smith"<br/>};</span><span id="75b0" class="mq lc iq mh b gy mv ms l mt mu">with(book) {<br/>  message = `${title} by ${author}`;  <br/>}</span></pre><p id="f70b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<code class="fe me mf mg mh b">message</code>属性添加到<code class="fe me mf mg mh b">book</code>。</p><p id="3226" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，这在严格模式下是不允许的，因为它的范围令人困惑。</p><p id="f6b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从代码中我们无法确定<code class="fe me mf mg mh b">message</code>是全局变量还是<code class="fe me mf mg mh b">book</code>的属性。</p><p id="0bc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样的问题阻碍了优化的完成，因为JavaScript引擎可能会猜错。</p><p id="144e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，千万不要用这个。</p><p id="24c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这在所有风格指南中也是禁止的。</p><p id="ee2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Linters可以检查这一点，这样我们就不会不小心写了<code class="fe me mf mg mh b">with</code>语句。</p><h1 id="77dd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">for循环</h1><p id="b4dc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">for</code>循环是JavaScript中的一种循环，继承自C和Java。</p><p id="4bf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有for-in和for-of循环，让我们分别遍历对象的属性和可迭代对象的条目。</p><p id="7609" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dc85" class="mq lc iq mh b gy mr ms l mt mu">const values = [1, 2, 3, 4, 5],<br/>  len = values.length;</span><span id="2004" class="mq lc iq mh b gy mv ms l mt mu">for (let i = 0; i &lt; len; i++) {<br/>  console.log(values[i]);<br/>}</span></pre><p id="df79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了一个for循环，通过定义<code class="fe me mf mg mh b">values</code>数组并将其<code class="fe me mf mg mh b">length</code>设置为<code class="fe me mf mg mh b">len</code>来缓存它，从而遍历一些数字。</p><p id="780a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有两种方法可以改变循环进行的方式。</p><p id="56d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一种情况是使用<code class="fe me mf mg mh b">break</code>语句。</p><p id="5620" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">break</code>将结束循环，不继续下一次迭代。</p><p id="9983" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f01a" class="mq lc iq mh b gy mr ms l mt mu">const values = [1, 2, 3, 4, 5],<br/>  len = values.length;</span><span id="d229" class="mq lc iq mh b gy mv ms l mt mu">for (let i = 0; i &lt; len; i++) {<br/>  if (i === 2) {<br/>    break;<br/>  }<br/>  console.log(values[i]);<br/>}</span></pre><p id="d970" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当<code class="fe me mf mg mh b">i</code>为2时结束循环。</p><p id="fb85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一种改变循环行为的方法是使用<code class="fe me mf mg mh b">continue</code>关键字。</p><p id="747f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这让我们跳到循环的下一次迭代。</p><p id="971c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ba48" class="mq lc iq mh b gy mr ms l mt mu">const values = [1, 2, 3, 4, 5],<br/>  len = values.length;</span><span id="d86f" class="mq lc iq mh b gy mv ms l mt mu">for (let i = 0; i &lt; len; i++) {<br/>  if (i === 2) {<br/>    continue;<br/>  }<br/>  console.log(values[i]);<br/>}</span></pre><p id="16f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后当<code class="fe me mf mg mh b">i</code>为2时，我们将跳到下一次迭代。</p><p id="4fef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些风格指南如Doug Crockford的风格指南禁止使用<code class="fe me mf mg mh b">continue</code>。</p><p id="e581" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他的理由是，有条件才能写得更好。</p><p id="913e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ffd7" class="mq lc iq mh b gy mr ms l mt mu">const values = [1, 2, 3, 4, 5],<br/>  len = values.length;</span><span id="399b" class="mq lc iq mh b gy mv ms l mt mu">for (let i = 0; i &lt; len; i++) {<br/>  if (i === 2) {<br/>    continue;<br/>  }<br/>  console.log(values[i]);<br/>}</span></pre><p id="92be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cd06" class="mq lc iq mh b gy mr ms l mt mu">const values = [1, 2, 3, 4, 5],<br/>  len = values.length;</span><span id="eb29" class="mq lc iq mh b gy mv ms l mt mu">for (let i = 0; i &lt; len; i++) {<br/>  if (i !== 2) {<br/>    console.log(values[i]);<br/>  }<br/>}</span></pre><p id="65c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他说程序员理解条件比理解<code class="fe me mf mg mh b">continue</code>更容易。</p><p id="6c2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不经常用作循环控制语句，所以我们可以不用它而使用条件语句。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/8e2defc7ad1f081a0d1b6950f949b8bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s6vJPIVMjU_z7oah"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@shotbyrez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Reza Tahvili</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="23bd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7e3e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">with</code>永远不要使用语句。在严格模式下也是禁用的。</p><p id="5404" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在循环中使用<code class="fe me mf mg mh b">continue</code>关键字之前，我们应该三思。</p><h2 id="1426" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="d21d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码获得更多类似内容，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>