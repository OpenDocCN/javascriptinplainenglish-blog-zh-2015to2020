<html>
<head>
<title>Material UI — Menu Customization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材料界面—菜单定制</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/material-ui-menu-customization-13923a40ad25?source=collection_archive---------3-----------------------#2020-08-26">https://javascript.plainenglish.io/material-ui-menu-customization-13923a40ad25?source=collection_archive---------3-----------------------#2020-08-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/249f81466845245551b2398f4be449a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CUIswa62He5cLBcw"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">fFPhoto by <a class="ae kc" href="https://unsplash.com/@olamishchenko?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ola Mishchenko</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cdcf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">材质UI是一个为React制作的材质设计库。</p><p id="b124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一组具有材质设计风格的React组件。</p><p id="5e95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何定制菜单的材料用户界面。</p><h1 id="4589" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">定制菜单</h1><p id="6748" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以根据自己的风格定制菜单。</p><p id="c134" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="53d4" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { withStyles } from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Menu from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Menu";<br/>import MenuItem from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/MenuItem";<br/>import ListItemIcon from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/ListItemIcon";<br/>import ListItemText from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/ListItemText";<br/>import InboxIcon from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/icons/MoveToInbox";</span><span id="64c8" class="mn lc iq mj b gy ms mp l mq mr">const StyledMenu = withStyles({<br/>  paper: {<br/>    border: "1px solid #d3d4d5"<br/>  }<br/>})(props =&gt; (<br/>  &lt;Menu<br/>    elevation={0}<br/>    getContentAnchorEl={null}<br/>    anchorOrigin={{<br/>      vertical: "bottom"<br/>    }}<br/>    transformOrigin={{<br/>      vertical: "top"<br/>    }}<br/>    {...props}<br/>  /&gt;<br/>));</span><span id="13c4" class="mn lc iq mj b gy ms mp l mq mr">const StyledMenuItem = withStyles(theme =&gt; ({<br/>  root: {<br/>    "&amp;:focus": {<br/>      backgroundColor: theme.palette.primary.main,<br/>      "&amp; .MuiListItemIcon-root, &amp; .MuiListItemText-primary": {<br/>        color: theme.palette.common.white<br/>      }<br/>    }<br/>  }<br/>}))(MenuItem);</span><span id="0fb2" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [anchorEl, setAnchorEl] = React.useState(null);</span><span id="ced4" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = event =&gt; {<br/>    setAnchorEl(event.currentTarget);<br/>  };</span><span id="6357" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = () =&gt; {<br/>    setAnchorEl(null);<br/>  };</span><span id="97a2" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Button variant="contained" color="primary" onClick={handleClick}&gt;<br/>        Open Menu<br/>      &lt;/Button&gt;<br/>      &lt;StyledMenu open={Boolean(anchorEl)}&gt;<br/>        &lt;StyledMenuItem onClick={handleClose}&gt;<br/>          &lt;ListItemIcon&gt;<br/>            &lt;InboxIcon fontSize="small" /&gt;<br/>          &lt;/ListItemIcon&gt;<br/>          &lt;ListItemText primary="home" /&gt;<br/>        &lt;/StyledMenuItem&gt;<br/>      &lt;/StyledMenu&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="5d76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe mt mu mv mj b">withStyles</code>高阶组件来设计菜单样式。</p><p id="6c03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了样式化菜单项，我们可以用<code class="fe mt mu mv mj b">withStyles</code>高阶组件来样式化它。</p><p id="3825" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">theme</code>参数中的一个来设置颜色。</p><p id="3d76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以在我们的<code class="fe mt mu mv mj b">App</code>组件中使用它们。</p><h1 id="2215" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">最大高度菜单</h1><p id="6267" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe mt mu mv mj b">style</code>属性设置<code class="fe mt mu mv mj b">Menu</code>的高度。</p><p id="e7dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2757" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Menu from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Menu";<br/>import MenuItem from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/MenuItem";</span><span id="10bc" class="mn lc iq mj b gy ms mp l mq mr">const options = ["apple", "orange", "grape", "banana", "pear", "mango"];</span><span id="b95b" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [anchorEl, setAnchorEl] = React.useState(null);</span><span id="4c8b" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = event =&gt; {<br/>    setAnchorEl(event.currentTarget);<br/>  };</span><span id="92d4" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = () =&gt; {<br/>    setAnchorEl(null);<br/>  };</span><span id="31c1" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Button variant="contained" color="primary" onClick={handleClick}&gt;<br/>        Open Menu<br/>      &lt;/Button&gt;<br/>      &lt;Menu<br/>        anchorEl={anchorEl}<br/>        keepMounted<br/>        open={Boolean(anchorEl)}<br/>        onClose={handleClose}<br/>        PaperProps={{<br/>          style: {<br/>            maxHeight: `200px`<br/>          }<br/>        }}<br/>      &gt;<br/>        {options.map(option =&gt; (<br/>          &lt;MenuItem<br/>            key={option}<br/>            selected={option === "apple"}<br/>            onClick={handleClose}<br/>          &gt;<br/>            {option}<br/>          &lt;/MenuItem&gt;<br/>        ))}<br/>      &lt;/Menu&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="475c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe mt mu mv mj b">PaperProps</code>中设置<code class="fe mt mu mv mj b">maxHeight</code>属性来设置菜单的高度。</p><h1 id="d4c8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">改变过渡</h1><p id="c998" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在菜单打开时添加过渡。</p><p id="1821" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">需要一个<code class="fe mt mu mv mj b">TransitionComponent</code>道具让我们添加想要的过渡。</p><p id="8771" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e26a" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import Button from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button";<br/>import Menu from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Menu";<br/>import MenuItem from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/MenuItem";<br/>import Fade from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Fade";</span><span id="0a02" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [anchorEl, setAnchorEl] = React.useState(null);<br/>  const open = Boolean(anchorEl);</span><span id="885c" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = event =&gt; {<br/>    setAnchorEl(event.currentTarget);<br/>  };</span><span id="1395" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = () =&gt; {<br/>    setAnchorEl(null);<br/>  };</span><span id="7318" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;Button onClick={handleClick}&gt;Open&lt;/Button&gt;<br/>      &lt;Menu<br/>        anchorEl={anchorEl}<br/>        keepMounted<br/>        open={open}<br/>        onClose={handleClose}<br/>        TransitionComponent={Fade}<br/>      &gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;home&lt;/MenuItem&gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;profile&lt;/MenuItem&gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;logout&lt;/MenuItem&gt;<br/>      &lt;/Menu&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="fd91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当菜单打开且<code class="fe mt mu mv mj b">TransitionComponent</code>道具设置为<code class="fe mt mu mv mj b">Fade</code>时，添加渐变过渡。</p><h1 id="0358" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">上下文菜单</h1><p id="e259" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要添加上下文菜单，我们可以听一下<code class="fe mt mu mv mj b">onContextMenu</code>道具。</p><p id="1b45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过在<code class="fe mt mu mv mj b">anchorPosition</code>属性中设置鼠标坐标来显示右键单击的上下文菜单。</p><p id="ea9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2c62" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import Menu from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Menu";<br/>import MenuItem from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/MenuItem";<br/>import Typography from "<a class="ae kc" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Typography";</span><span id="d174" class="mn lc iq mj b gy ms mp l mq mr">const initialState = {<br/>  mouseX: null,<br/>  mouseY: null<br/>};<br/>export default function App() {<br/>  const [state, setState] = React.useState(initialState);</span><span id="a2f7" class="mn lc iq mj b gy ms mp l mq mr">  const handleClick = event =&gt; {<br/>    event.preventDefault();<br/>    setState({<br/>      mouseX: event.clientX - 2,<br/>      mouseY: event.clientY - 4<br/>    });<br/>  };</span><span id="66ec" class="mn lc iq mj b gy ms mp l mq mr">  const handleClose = () =&gt; {<br/>    setState(initialState);<br/>  };</span><span id="8bdc" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div onContextMenu={handleClick} style={{ cursor: "context-menu" }}&gt;<br/>      &lt;Typography&gt;<br/>        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ipsum<br/>        purus, bibendum sit amet vulputate eget, porta semper ligula. Donec<br/>        bibendum vulputate erat, ac fringilla mi finibus nec. Donec ac dolor sed<br/>        dolor porttitor blandit vel vel purus. Fusce vel malesuada ligula. Nam<br/>        quis vehicula ante, eu finibus est. Proin ullamcorper fermentum orci,<br/>        quis finibus massa.<br/>      &lt;/Typography&gt;<br/>      &lt;Menu<br/>        keepMounted<br/>        open={state.mouseY !== null}<br/>        onClose={handleClose}<br/>        anchorReference="anchorPosition"<br/>        anchorPosition={<br/>          state.mouseY !== null &amp;&amp; state.mouseX !== null<br/>            ? { top: state.mouseY, left: state.mouseX }<br/>            : undefined<br/>        }<br/>      &gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;select&lt;/MenuItem&gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;paste&lt;/MenuItem&gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;copy&lt;/MenuItem&gt;<br/>        &lt;MenuItem onClick={handleClose}&gt;save&lt;/MenuItem&gt;<br/>      &lt;/Menu&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="2210" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加包含一些文本的div。</p><p id="6344" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加一个带有<code class="fe mt mu mv mj b">Menu</code>组件的上下文菜单。</p><p id="c182" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了<code class="fe mt mu mv mj b">keepMounted</code>来将它保存在DOM中。</p><p id="7b44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">mouseY</code>不是<code class="fe mt mu mv mj b">null</code>时<code class="fe mt mu mv mj b">open</code>就是<code class="fe mt mu mv mj b">true</code>。</p><p id="a9bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们在<code class="fe mt mu mv mj b">handleClick</code>功能中右击时，它被设置。</p><p id="5ff3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">anchorPosition</code>让我们设置<code class="fe mt mu mv mj b">mousex</code>和<code class="fe mt mu mv mj b">mouseY</code>来用给定的鼠标坐标打开菜单。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/48bcfb384d7750412b967462bb711c25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n17myzfJFAwPSc4c"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mtresemer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Michelle Tresemer</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="c386" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="a0a4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加带有样式的菜单。</p><p id="9df4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以添加上下文菜单。</p><p id="9bf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当菜单打开时，还可以添加过渡来改变效果。</p><h2 id="f143" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="afc8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有三份出版物和一个YouTube频道吗？在<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">plain English . io</strong></a>找到一切的链接！</p></div></div>    
</body>
</html>