<html>
<head>
<title>Vue Router Router and Component Guards and Navigation Resolution Flow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue路由器路由器和组件防护以及导航解析流程</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-router-router-and-component-guards-and-navigation-resolution-flow-f4a407eb7197?source=collection_archive---------4-----------------------#2020-04-26">https://javascript.plainenglish.io/vue-router-router-and-component-guards-and-navigation-resolution-flow-f4a407eb7197?source=collection_archive---------4-----------------------#2020-04-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9924ce4f47d6dade6e26d2f173720d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iauqyQG2fglHpK2x"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@lwitham?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Linda Finkin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a2a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用框架，我们可以用它来开发交互式前端应用。</p><p id="e358" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue路由器是一个URL路由器，它将URL映射到组件。</p><p id="478f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究定义路径和组件内防护，并研究完整的导航解析流程。</p><h1 id="0001" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">每条路线的警卫</h1><p id="3ce8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们还可以定义每条路线的导航保护。例如，我们可以将其定义如下:</p><p id="df62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9437" class="mq lc iq mh b gy mr ms l mt mu">const Login = { template: "&lt;div&gt;login&lt;/div&gt;" };<br/>const Profile = { template: "&lt;div&gt;profile&lt;/div&gt;" };<br/>const routes = [<br/>  {<br/>    path: "/",<br/>    component: Login<br/>  },<br/>  {<br/>    path: "/profile",<br/>    component: Profile,<br/>    beforeEnter: (to, from, next) =&gt; {<br/>      if (!localStorage.getItem("token")) {<br/>        next("/");<br/>      } else {<br/>        next();<br/>      }<br/>    }<br/>  }<br/>];</span><span id="7e97" class="mq lc iq mh b gy mv ms l mt mu">const router = new VueRouter({<br/>  routes<br/>});</span><span id="4ca1" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app",<br/>  router<br/>});</span></pre><p id="1d29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ad83" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue-router/dist/vue-router.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue-router/dist/vue-router.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="f2d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">/profile</code>的<code class="fe me mf mg mh b">beforeEnter</code>钩子检查<code class="fe me mf mg mh b">localStorage.token</code>是否被定义。如果是的话，我们就让他们通过。否则，我们回到<code class="fe me mf mg mh b">/</code>。</p><p id="3080" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果定义了<code class="fe me mf mg mh b">localStorage.token</code>，那么我们可以转到<code class="fe me mf mg mh b">/#/profile</code>并看到显示的<code class="fe me mf mg mh b">profile</code>。否则，我们会被重定向回<code class="fe me mf mg mh b">/#/</code>并看到登录。</p><p id="5234" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">签名与全局<code class="fe me mf mg mh b">beforeEach</code>回调相同。</p><h1 id="b0c0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">组件内防护装置</h1><p id="3867" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在组件内部定义导航保护，挂钩如下:</p><ul class=""><li id="6d15" class="mw mx iq kf b kg kh kk kl ko my ks mz kw na la nb nc nd ne bi translated"><code class="fe me mf mg mh b">beforeRouteEnter</code></li><li id="d576" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated"><code class="fe me mf mg mh b">beforeRouteUpdate</code></li><li id="39aa" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated"><code class="fe me mf mg mh b">beforeRouteLeave</code></li></ul><p id="c6b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它们:</p><h2 id="bc36" class="mq lc iq bd ld nk nl dn lh nm nn dp ll ko no np lp ks nq nr lt kw ns nt lx nu bi translated">在RouteEnter之前</h2><p id="2391" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们想在继续路由之前检查令牌是否存在，我们可以编写一些类似下面的代码:</p><p id="7389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="18cf" class="mq lc iq mh b gy mr ms l mt mu">const Login = { template: "&lt;div&gt;login&lt;/div&gt;" };<br/>const Profile = {<br/>  data() {<br/>    return { user: "foo" };<br/>  },<br/>  template: "&lt;div&gt;profile&lt;/div&gt;",<br/>  beforeRouteEnter(to, from, next) {<br/>    if (!localStorage.getItem("token")) {<br/>      return next("/");<br/>    }<br/>    next(vm =&gt; {<br/>      alert(`You're logged in as ${vm.user}`);<br/>    });<br/>  }<br/>};<br/>const routes = [<br/>  {<br/>    path: "/",<br/>    component: Login<br/>  },<br/>  {<br/>    path: "/profile",<br/>    component: Profile<br/>  }<br/>];</span><span id="c389" class="mq lc iq mh b gy mv ms l mt mu">const router = new VueRouter({<br/>  routes<br/>});</span><span id="42e7" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app",<br/>  router<br/>});</span></pre><p id="2397" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b156" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue-router/dist/vue-router.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue-router/dist/vue-router.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="86e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们使用了<code class="fe me mf mg mh b">beforeRouteEnter</code>钩子来检查令牌是否存在于本地存储中。如果是的话，我们继续。否则，我们回到<code class="fe me mf mg mh b">/</code>。</p><p id="8730" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们继续，那么用一个回调函数调用<code class="fe me mf mg mh b">next</code>，回调函数是作为参数的组件对象。因此，我们可以在<code class="fe me mf mg mh b">next</code>回调中从<code class="fe me mf mg mh b">vm</code>获取<code class="fe me mf mg mh b">user</code>属性。</p><p id="4075" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，如果定义了一个<code class="fe me mf mg mh b">localStorage.token</code>，我们应该会看到显示“您以foo身份登录”的警告框。</p><p id="bc4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">只有<code class="fe me mf mg mh b">beforeRouteEnter</code>接受对<code class="fe me mf mg mh b">next</code>的回调，因为导航完成前组件不可用。</p><h2 id="99f5" class="mq lc iq bd ld nk nl dn lh nm nn dp ll ko no np lp ks nq nr lt kw ns nt lx nu bi translated">在RouteUpdate之前</h2><p id="7cc9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">beforeRouteUpdate</code>如下:</p><p id="11c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="adc9" class="mq lc iq mh b gy mr ms l mt mu">const Profile = {<br/>  data() {<br/>    return {<br/>      id: undefined<br/>    };<br/>  },<br/>  template: "&lt;div&gt;id: {{id}}&lt;/div&gt;",<br/>  beforeRouteUpdate(to, from, next) {<br/>    this.id = to.params.id;<br/>    next();<br/>  }<br/>};<br/>const routes = [<br/>  {<br/>    path: "/profile/:id",<br/>    component: Profile<br/>  }<br/>];</span><span id="14bc" class="mq lc iq mh b gy mv ms l mt mu">const router = new VueRouter({<br/>  routes<br/>});</span><span id="316b" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app",<br/>  router<br/>});</span></pre><p id="5f49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="04e6" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue-router/dist/vue-router.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue-router/dist/vue-router.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="297f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后当我们去<code class="fe me mf mg mh b">/#/profile/1</code>，然后<code class="fe me mf mg mh b">/#/profile/2</code>，我们会看到<code class="fe me mf mg mh b">id: 2</code>显示。</p><p id="ef11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">beforeRouteUpdate</code>监视路由更新，因此当路由首次加载时，它什么也不做。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/cfe5ec20a689c4f59f52556d3478e5db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ls_ia-I3o2WB7hED"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@onevibe?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aaron Greenwood</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="6bd9" class="mq lc iq bd ld nk nl dn lh nm nn dp ll ko no np lp ks nq nr lt kw ns nt lx nu bi translated">beforeRouteLeave</h2><p id="181a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">beforeRouteLeave</code>在用户导航离开某条路线之前运行代码。</p><p id="6ce7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用它:</p><p id="b8a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f833" class="mq lc iq mh b gy mr ms l mt mu">const Profile = {<br/>  template: "&lt;div&gt;profile&lt;/div&gt;",<br/>  beforeRouteLeave(to, from, next) {<br/>    const answer = window.confirm("Are you sure you want to leave?");<br/>    if (answer) {<br/>      next();<br/>    } else {<br/>      next(false);<br/>    }<br/>  }<br/>};<br/>const routes = [<br/>  {<br/>    path: "/profile",<br/>    component: Profile<br/>  }<br/>];</span><span id="094e" class="mq lc iq mh b gy mv ms l mt mu">const router = new VueRouter({<br/>  routes<br/>});</span><span id="cdc7" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app",<br/>  router<br/>});</span></pre><p id="633b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html:</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ffa0" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue-router/dist/vue-router.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue-router/dist/vue-router.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="e08a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有一个在用户试图离开一条路线之前运行的<code class="fe me mf mg mh b">beforeRouteLeave</code>钩子。</p><p id="9c64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e272" class="mq lc iq mh b gy mr ms l mt mu">const answer = window.confirm("Are you sure you want to leave?");</span></pre><p id="0f76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">询问用户是否想离开。如果他点击OK，导航将通过调用<code class="fe me mf mg mh b">next()</code>继续。否则，调用<code class="fe me mf mg mh b">next(false)</code>并取消导航。</p><h1 id="1afa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">全导航分辨率流程</h1><p id="88f7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">导航解析的完整流程如下:</p><ol class=""><li id="04c9" class="mw mx iq kf b kg kh kk kl ko my ks mz kw na la nw nc nd ne bi translated">导航触发</li><li id="b2d5" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated"><code class="fe me mf mg mh b">beforeRouteLeave</code>叫做</li><li id="7f2f" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">全局<code class="fe me mf mg mh b">beforeEach</code>警卫打来电话</li><li id="c967" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated"><code class="fe me mf mg mh b">beforeRouterUpdate</code>在组件中称为</li><li id="3375" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated"><code class="fe me mf mg mh b">beforeEnter</code>在路由配置中调用</li><li id="b4d4" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">解析异步路由组件</li><li id="8e35" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated"><code class="fe me mf mg mh b">beforeEnter</code>在激活的组件中称为</li><li id="a37c" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">全球<code class="fe me mf mg mh b">beforeResolve</code>警卫来电</li><li id="82e2" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">导航确认</li><li id="b247" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">全局<code class="fe me mf mg mh b">afterEach</code>钩子调用</li><li id="633f" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">DOM更新已触发</li><li id="88f3" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nw nc nd ne bi translated">回调传递给被调用的<code class="fe me mf mg mh b">beforeRouteEnter</code>中的<code class="fe me mf mg mh b">next</code></li></ol><h1 id="880a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="636c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在单独的路线和组件中设置路线防护。它们有自己的挂钩，但它们可以为每个路线或组件提供相同的用途。</p><p id="d38e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">唯一的例外是在<code class="fe me mf mg mh b">next</code>函数中接受回调的<code class="fe me mf mg mh b">beforeRouteEnter</code>。</p><p id="279c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">全球导航卫星系统通常在本地导航卫星系统之前被调用。</p><h2 id="8567" class="mq lc iq bd ld nk nl dn lh nm nn dp ll ko no np lp ks nq nr lt kw ns nt lx nu bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="4a6d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>——谢谢，继续学习！</p><p id="d2a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，使用您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>