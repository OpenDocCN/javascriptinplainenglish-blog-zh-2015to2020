<html>
<head>
<title>Pagination in Angular Firestore Firebase DB | Add/fetch Documents | Integrate Angular Firestore in Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular Firestore Firebase数据库中的分页|添加/获取文档|在项目中集成Angular Firestore</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/pagination-in-angular-firestore-firebase-database-add-get-documents-14ca723e9c24?source=collection_archive---------2-----------------------#2020-04-22">https://javascript.plainenglish.io/pagination-in-angular-firestore-firebase-database-add-get-documents-14ca723e9c24?source=collection_archive---------2-----------------------#2020-04-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="c097" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">FireStore是谷歌的Firebase服务，提供基于NoSQL云的数据库解决方案。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8503b072bfbc205deb9aabba593a6aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FFq4CDDxIZu05nIpUotT-A.png"/></div></div></figure><h2 id="891a" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">本文将涵盖:</h2><ol class=""><li id="383d" class="ln lo in jm b jn lp jr lq jv lr jz ls kd lt kh lu lv lw lx bi translated">创建新的角度项目。</li><li id="f3a8" class="ln lo in jm b jn ly jr lz jv ma jz mb kd mc kh lu lv lw lx bi translated">在项目中集成Angular Firestore。</li><li id="f77e" class="ln lo in jm b jn ly jr lz jv ma jz mb kd mc kh lu lv lw lx bi translated">将项目对象添加到数据库。</li><li id="8b81" class="ln lo in jm b jn ly jr lz jv ma jz mb kd mc kh lu lv lw lx bi translated">使用limit从数据库分块加载数据。</li><li id="4f24" class="ln lo in jm b jn ly jr lz jv ma jz mb kd mc kh lu lv lw lx bi translated">分页从数据库加载更多的数据。</li></ol></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="1b67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们开始吧…</p><h1 id="0e30" class="mk kv in bd kw ml mm mn kz mo mp mq lc mr ms mt lf mu mv mw li mx my mz ll na bi translated">1.创建一个新的角度项目(点击这里↓)</h1><p id="d4d5" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">如果您已经有一个项目，请跳过这一步。或者<a class="ae ne" href="https://medium.com/codechintan/create-a-single-page-website-using-angular-firebase-hosting-8ba22b8176a1" rel="noopener">点击这里</a> ↓新建一个角度项目。</p><div class="nf ng gp gr nh ni"><a href="https://medium.com/codechintan/create-a-single-page-website-using-angular-firebase-hosting-8ba22b8176a1" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd io gy z fp nn fr fs no fu fw im bi translated">使用Angular &amp; Firebase托管创建一个单页网站。</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">创建一个新的有一个网页的网站和Firebase托管服务器的角度项目。</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw ks ni"/></div></div></a></div><p id="80a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望你已经有一个角度的项目，或者你已经通过下面的<a class="ae ne" href="https://medium.com/@AnkitMaheshwariIn/create-a-single-page-website-using-angular-firebase-hosting-8ba22b8176a1" rel="noopener">链接</a>创建了一个新项目。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="a7c4" class="mk kv in bd kw ml nx mn kz mo ny mq lc mr nz mt lf mu oa mw li mx ob mz ll na bi translated">2.在项目中集成Angular Firestore。</h1><p id="ce43" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">为了在项目中使用Firebase服务，我们将安装Firebase的官方库。<br/>运行以下NPM命令进行安装:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="ff63" class="ku kv in od b gy oh oi l oj ok">npm install firebase @angular/fire — save</span></pre><p id="7fd3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开<strong class="jm io"> app.module.ts </strong>文件，添加以下代码:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="d3d9" class="ku kv in od b gy oh oi l oj ok">import { AngularFireModule } from '@angular/fire';<br/>import { AngularFirestore } from '@angular/fire/firestore';<br/>import { environment } from '../environments/environment';</span><span id="afc6" class="ku kv in od b gy ol oi l oj ok">...</span><span id="4662" class="ku kv in od b gy ol oi l oj ok">imports: [<br/>   BrowserModule,<br/>   AngularFireModule.initializeApp(environment.firebase),<br/>   ...<br/>],<br/>providers: [<br/>   AngularFirestore<br/>]</span></pre><p id="98c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开"<strong class="jm io">~ environments/environment . ts</strong>"文件，用下面的代码更新它:<br/>(用您的代码替换下面的↓ firebase配置-要知道从哪里获得这些firebase配置细节，<a class="ae ne" href="https://medium.com/@AnkitMaheshwariIn/steps-to-setup-firebase-firestore-instruction-to-setup-firebase-firestore-database-c7cc49ce96de" rel="noopener">请单击此处</a>)</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="c4cb" class="ku kv in od b gy oh oi l oj ok">export const environment = {<br/>  production: false,<br/>  firebase: {<br/>    apiKey: "XXXXXXXXXXXXXXXXXXXXXXX",<br/>    authDomain: "XXXXXXXX.firebaseapp.com",<br/>    databaseURL: "<a class="ae ne" href="https://just-freaking.firebaseio.com" rel="noopener ugc nofollow" target="_blank">https://</a>XXXXXXXX<a class="ae ne" href="https://just-freaking.firebaseio.com" rel="noopener ugc nofollow" target="_blank">.firebaseio.com</a>",<br/>    projectId: "XXXXXXXXXXXXXXXXXXXXXXX",<br/>    storageBucket: "XXXXXXXX.appspot.com",<br/>    messagingSenderId: "XXXXXXXXXXXXXXXXXXXXXXX",<br/>    appId: "XXXXXXXXXXXXXXXXXXXXXXX"<br/>  }<br/>};</span></pre></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="c063" class="mk kv in bd kw ml nx mn kz mo ny mq lc mr nz mt lf mu oa mw li mx ob mz ll na bi translated">3.将项目对象添加到数据库</h1><p id="c6ce" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">现在要向数据库添加新的项目，我们需要在组件文件中导入AngularFirestore。</p><p id="68ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开app.component.ts文件或以下任何其他组件导入:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="e172" class="ku kv in od b gy oh oi l oj ok">import { <strong class="od io">AngularFirestore</strong> } from '@angular/fire/firestore';</span></pre><p id="0334" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">还将其添加到组件的类构造函数中，如下所示:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="3a0d" class="ku kv in od b gy oh oi l oj ok">constructor(<strong class="od io">private angularFirestore: AngularFirestore</strong>)</span></pre><h2 id="7650" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">FireStore中的数据是如何存储的？</h2><p id="fdc6" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">FireStore是一个NoSQL云数据库，数据以集合和文档的形式存储在其中。每个集合就像一个表，就像我们在关系数据库管理系统(RDMS)中一样，并且在每个集合中有<em class="om">文档</em>就像表行一样。</p><p id="99f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，我们将创建一个集合"<strong class="jm io"> People </strong>"，该集合将包含每个文档的键值对，分别为<strong class="jm io"> Id </strong>、<strong class="jm io">名称</strong>、<strong class="jm io">地点</strong>、<strong class="jm io">时间戳</strong></p><h2 id="ee8a" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">*如何在集合中添加新文档？</h2><p id="bec1" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">开始之前，在app.component.ts文件或任何其他组件中声明几个变量，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="f7f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要在集合中添加新的文档或项目，我们创建一个<strong class="jm io"> add </strong>方法，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="113a" class="mk kv in bd kw ml nx mn kz mo ny mq lc mr nz mt lf mu oa mw li mx ob mz ll na bi translated">4.使用limit从数据库分块加载数据。</h1><h2 id="a0e9" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">*如何从集合中获取文档？</h2><p id="50c5" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">最初从集合中获取前5个文档记录/项目。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="97d6" class="mk kv in bd kw ml nx mn kz mo ny mq lc mr nz mt lf mu oa mw li mx ob mz ll na bi translated">5.分页从数据库加载更多的数据。</h1><h2 id="47ef" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">*如何从集合中获取下一组文档？</h2><p id="e8be" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">添加内部使用的函数-这些函数将在newt和上一页数据加载中使用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="11aa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这段代码将在单击“下一步”按钮时生效，就像加载接下来的5个文档一样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="fe02" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">*如何从集合中获取前一组文档？</h2><p id="fa37" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">这段代码将在点击“上一步”按钮时生效，就像加载前5个文档一样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="b4c9" class="mk kv in bd kw ml nx mn kz mo ny mq lc mr nz mt lf mu oa mw li mx ob mz ll na bi translated">搞定了。🤩在Angular Firestore Firebase数据库中添加分页就是这么简单。</h1><p id="1537" class="pw-post-body-paragraph jk jl in jm b jn lp jp jq jr lq jt ju jv nb jx jy jz nc kb kc kd nd kf kg kh ig bi translated">再见👋👋</p><blockquote class="op"><p id="9108" class="oq or in bd os ot ou ov ow ox oy kh dk translated">欢迎在评论框中发表评论…如果我错过了什么，或者有什么是不正确的，或者有什么对你不起作用:)<br/>继续关注更多文章。</p><p id="aa5c" class="oq or in bd os ot ou ov ow ox oy kh dk translated">更多文章敬请关注:<br/>【https://medium.com/@AnkitMaheshwariIn T2】</p></blockquote><p id="95a1" class="pw-post-body-paragraph jk jl in jm b jn oz jp jq jr pa jt ju jv pb jx jy jz pc kb kc kd pd kf kg kh ig bi translated">如果你不介意给它一些掌声👏 👏既然有帮助，我会非常感谢:)帮助别人找到这篇文章，所以它可以帮助他们！</p><p id="20b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">永远鼓掌…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/2f4712882de180d90c9dcdb0cb91ae69.png" data-original-src="https://miro.medium.com/v2/resize:fit:156/1*ZyakciENSuUWo7tqu84tXQ.gif"/></div></figure><h1 id="b034" class="mk kv in bd kw ml mm mn kz mo mp mq lc mr ms mt lf mu mv mw li mx my mz ll na bi translated">了解更多信息</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf oo l"/></div></figure><p id="babb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="om">更多内容尽在</em><a class="ae ne" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="om">plain English . io</em></a></p></div></div>    
</body>
</html>