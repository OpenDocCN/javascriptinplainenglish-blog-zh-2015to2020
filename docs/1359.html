<html>
<head>
<title>List Rendering with Vue.js — Array Change Detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vue.js进行列表渲染—阵列变化检测</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/list-rendering-with-vue-js-array-change-detection-9581a6fd0cc3?source=collection_archive---------3-----------------------#2020-03-06">https://javascript.plainenglish.io/list-rendering-with-vue-js-array-change-detection-9581a6fd0cc3?source=collection_archive---------3-----------------------#2020-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dc66204e9036f8f0e124d90e5da73631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_aXsxrUuSxqa0Yip"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jsnbrsc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jason Briscoe</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b7a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用程序框架，我们可以用它来开发交互式前端应用程序。</p><p id="52d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解Vue的阵列变化检测功能。</p><h1 id="830a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">阵列变化检测</h1><p id="1e65" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vue包装了下面的数组变异方法，因此当这些方法被调用时，视图更新将被触发。它们如下:</p><ul class=""><li id="2257" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">push()</code></li><li id="3424" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">pop()</code></li><li id="c058" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">shift()</code></li><li id="c82b" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">unshift()</code></li><li id="16e9" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">splice()</code></li><li id="bc5f" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">sort()</code></li><li id="2abc" class="me mf iq kf b kg mr kk ms ko mt ks mu kw mv la mj mk ml mm bi translated"><code class="fe mn mo mp mq b">reverse()</code></li></ul><p id="1f64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有一个按钮，可以触发一个新项目到一个数组，它会更新:</p><p id="264f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">src/index.js</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="06d0" class="ne lc iq mq b gy nf ng l nh ni">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    persons: [{ name: "Joe" }, { name: "Jane" }]<br/>  },<br/>  methods: {<br/>    addPerson() {<br/>      this.persons.push({ name: "Mary" });<br/>    }<br/>  }<br/>});</span></pre><p id="c4a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">index.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="d09d" class="ne lc iq mq b gy nf ng l nh ni">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;</span><span id="54e2" class="ne lc iq mq b gy nj ng l nh ni">  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="addPerson"&gt;Add Person&lt;/button&gt;<br/>      &lt;div v-for="person in persons"&gt;<br/>        {{person.name}}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="565b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="7c9b" class="ne lc iq mq b gy nf ng l nh ni">Joe</span><span id="ecba" class="ne lc iq mq b gy nj ng l nh ni">Jane</span></pre><p id="8a5b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首次呈现数组时。然后，当我们单击添加按钮时，我们会得到:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="721b" class="ne lc iq mq b gy nf ng l nh ni">Joe</span><span id="aecf" class="ne lc iq mq b gy nj ng l nh ni">Jane</span><span id="3cfb" class="ne lc iq mq b gy nj ng l nh ni">Mary</span></pre><p id="33f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们通过点击按钮调用了<code class="fe mn mo mp mq b">addPerson</code>方法，这就调用了<code class="fe mn mo mp mq b">push</code>方法来添加一个新条目。</p><h1 id="91dd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">替换阵列</h1><p id="8655" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">非变异数组方法总是返回一个新的数组。我们可以用返回的数组替换原始数组来触发视图更新。</p><p id="1fd3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们更新数组时，Vue不会从头开始重新呈现列表。相反，它将尝试最大限度地重用DOM元素。</p><p id="879f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下情况:</p><p id="8846" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">src/index.js</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="8906" class="ne lc iq mq b gy nf ng l nh ni">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    persons: [{ name: "Joe" }, { name: "Jane" }, { name: "Mary" }]<br/>  },<br/>  methods: {<br/>    filterPerson() {<br/>      this.persons = this.persons.filter(p =&gt; p.name !== "Joe");<br/>    }<br/>  }<br/>});</span></pre><p id="651d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">index.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="258f" class="ne lc iq mq b gy nf ng l nh ni">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;</span><span id="2628" class="ne lc iq mq b gy nj ng l nh ni">  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="filterPerson"&gt;Filter Person&lt;/button&gt;<br/>      &lt;div v-for="person in persons"&gt;<br/>        {{person.name}}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="1dfc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，当我们的页面第一次加载时，我们得到以下名称:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="7fc7" class="ne lc iq mq b gy nf ng l nh ni">Joe</span><span id="351f" class="ne lc iq mq b gy nj ng l nh ni">Jane</span><span id="0385" class="ne lc iq mq b gy nj ng l nh ni">Mary</span></pre><p id="44b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单击“筛选人员”后，我们将获得:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="8f04" class="ne lc iq mq b gy nf ng l nh ni">Jane</span><span id="d6a4" class="ne lc iq mq b gy nj ng l nh ni">Mary</span></pre><p id="8a16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们通过点击按钮来调用<code class="fe mn mo mp mq b">filterPerson</code>方法，这就调用了<code class="fe mn mo mp mq b">filter</code>方法来返回一个包含过滤项的数组。</p><p id="806b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后新的数组被分配给<code class="fe mn mo mp mq b">this.persons</code>并且视图被刷新。</p><figure class="mw mx my mz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/f08a7bd47055e6f957cf50fea804762f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*moEKBK_qsinUWrLD"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@wiradyatmika?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">IB Wira Dyatmika</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="96fe" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">引起</h1><p id="8d4d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vue无法通过设置索引或修改数组长度来检测直接将项目分配给数组。</p><p id="4d24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="1e91" class="ne lc iq mq b gy nf ng l nh ni">vm.item[indexOfItem] = 'item';</span></pre><p id="7a12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以及:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="fc5d" class="ne lc iq mq b gy nf ng l nh ni">vm.items.length = 2;</span></pre><p id="ee34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不会被Vue拾取并使用更新的数据更新视图。</p><p id="3a10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以调用<code class="fe mn mo mp mq b">Vue.set</code>或<code class="fe mn mo mp mq b">splice</code>为给定的索引设置一个条目。</p><h2 id="79d1" class="ne lc iq bd ld nl nm dn lh nn no dp ll ko np nq lp ks nr ns lt kw nt nu lx nv bi translated">Vue.set</h2><p id="40b4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">例如，我们可以编写以下代码:</p><p id="9e12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">src/index.js</code></p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="179b" class="ne lc iq mq b gy nf ng l nh ni">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    persons: ["Joe", "Mary"]<br/>  },<br/>  methods: {<br/>    addPerson() {<br/>      Vue.set(this.persons, 5, "Jane");<br/>    }<br/>  }<br/>});</span></pre><p id="feba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">index.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="3560" class="ne lc iq mq b gy nf ng l nh ni">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;</span><span id="cfe8" class="ne lc iq mq b gy nj ng l nh ni">  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="addPerson"&gt;Add Person&lt;/button&gt;<br/>      &lt;div v-for="(person, index) in persons"&gt;<br/>        {{index}} - {{person}}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="4648" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当页面第一次加载时，我们得到以下呈现的条目:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="49e4" class="ne lc iq mq b gy nf ng l nh ni">0 - Joe</span><span id="0301" class="ne lc iq mq b gy nj ng l nh ni">1 - Mary</span></pre><p id="ef66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，当我们单击“添加人员”时，我们会得到:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="6788" class="ne lc iq mq b gy nf ng l nh ni">0 - Joe</span><span id="2710" class="ne lc iq mq b gy nj ng l nh ni">1 - Mary</span><span id="dd8f" class="ne lc iq mq b gy nj ng l nh ni">2 -</span><span id="eacc" class="ne lc iq mq b gy nj ng l nh ni">3 -</span><span id="ea45" class="ne lc iq mq b gy nj ng l nh ni">4 -</span><span id="2d17" class="ne lc iq mq b gy nj ng l nh ni">5 - Jane</span></pre><h2 id="691d" class="ne lc iq bd ld nl nm dn lh nn no dp ll ko np nq lp ks nr ns lt kw nt nu lx nv bi translated">接合</h2><p id="195d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以对<code class="fe mn mo mp mq b">splice</code>做同样的操作，但是长度要先设置:</p><p id="ca65" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">src/index.js</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="5533" class="ne lc iq mq b gy nf ng l nh ni">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    persons: ["Joe", "Mary"]<br/>  },<br/>  methods: {<br/>    addPerson() {<br/>      this.persons.length = 5;<br/>      this.persons.splice(5, 1, "Jane");<br/>    }<br/>  }<br/>});</span></pre><p id="33cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">index.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="ccff" class="ne lc iq mq b gy nf ng l nh ni">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;</span><span id="c55e" class="ne lc iq mq b gy nj ng l nh ni">  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="addPerson"&gt;Add Person&lt;/button&gt;<br/>      &lt;div v-for="(person, index) in persons"&gt;<br/>        {{index}} - {{person}}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="ed71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到和以前一样的结果。</p><p id="5496" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用<code class="fe mn mo mp mq b">splice</code>来设置数组的长度并触发视图更新。为此，我们可以写:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="785c" class="ne lc iq mq b gy nf ng l nh ni">this.persons.splice(5);</span></pre><h2 id="cb1b" class="ne lc iq bd ld nl nm dn lh nn no dp ll ko np nq lp ks nr ns lt kw nt nu lx nv bi translated">vm。$set</h2><p id="13f1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以如下调用<code class="fe mn mo mp mq b">vm.$set</code>，它和<code class="fe mn mo mp mq b">Vue.set</code>一样，除了它只对Vue实例可用，而不是全局对象。</p><p id="df8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><p id="b399" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">src/index.js</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="2b50" class="ne lc iq mq b gy nf ng l nh ni">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    persons: ["Joe", "Mary"]<br/>  },<br/>  methods: {<br/>    addPerson() {<br/>      this.$set(this.persons, 5, "Jane");<br/>    }<br/>  }<br/>});</span></pre><p id="7fa6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mn mo mp mq b">index.html</code>:</p><pre class="mw mx my mz gt na mq nb nc aw nd bi"><span id="4de6" class="ne lc iq mq b gy nf ng l nh ni">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;</span><span id="333a" class="ne lc iq mq b gy nj ng l nh ni">  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;button <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="addPerson"&gt;Add Person&lt;/button&gt;<br/>      &lt;div v-for="(person, index) in persons"&gt;<br/>        {{index}} - {{person}}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="0e72" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b7c7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">某些阵列更改会自动触发视图更新。</p><p id="5f36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">监视数组变异方法调用以更新视图。</p><p id="3364" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回新数组的数组方法必须与变异方法区别对待。返回值必须赋给原始变量才能触发视图更新。</p><p id="fcf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们将一个条目分配给一个数组索引时，为了触发视图更新，我们可以使用<code class="fe mn mo mp mq b">splice</code>、<code class="fe mn mo mp mq b">Vue.set</code>或<code class="fe mn mo mp mq b">this.$set</code> / <code class="fe mn mo mp mq b">vm.$set.</code></p><p id="affc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了设置数组的长度并触发视图更新，我们还可以调用<code class="fe mn mo mp mq b">splice</code>。</p></div></div>    
</body>
</html>