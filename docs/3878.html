<html>
<head>
<title>JavaScript Debugging Tips: Console.time()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript调试技巧:Console.time()</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/console-time-javascript-debugging-tips-hungry-turtle-code-55c3293155e8?source=collection_archive---------14-----------------------#2020-10-30">https://javascript.plainenglish.io/console-time-javascript-debugging-tips-hungry-turtle-code-55c3293155e8?source=collection_archive---------14-----------------------#2020-10-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8596" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">及时—控制台.时间</h2></div><p id="0bab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我见过一些计算JavaScript代码运行时间的惊人方法。获取时间戳并进行比较是一种常见的方法。但是console.time是控制台API中的一个方法，它可以让您毫不费力地做到这一点。</p><p id="c5a5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这不是我给出的第一个JavaScript调试技巧。你可以查看一下<a class="ae ky" href="https://hungryturtlecode.com/tutorials/console-log-table/" rel="noopener ugc nofollow" target="_blank">控制台.表格</a>和<a class="ae ky" href="https://hungryturtlecode.com/tutorials/console-trace/" rel="noopener ugc nofollow" target="_blank">控制台.跟踪</a>，如果你还没有的话。</p><p id="6e3f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，这是我开始使用的非常无聊的HTML。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="d754" class="li lj in le b gy lk ll l lm ln">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>	&lt;meta charset="UTF-8"&gt;<br/>  &lt;title&gt;Console.Time&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;h1&gt;Experimenting With console.time()&lt;/h1&gt;<br/>  <br/>  &lt;script src="script.js"&gt;&lt;/script&gt;<br/><br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="e372" class="lo lj in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">让我们慢慢来</h1><p id="92d8" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">如果我们想计算一段代码运行需要多长时间，我们可能首先需要一些运行需要一段时间的代码。没有必要计算两个数相加需要多长时间。</p><p id="d560" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">条件句需要一点时间来计算，所以让我们有很多！我们可以创建一个for循环来循环数百万次，并且在每次循环时，检查它是否是循环的结束。这需要一些时间来运行。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="5c3c" class="li lj in le b gy lk ll l lm ln">for(var i = 0; i &amp;lt; 100000000; i++){<br/>  if(i == 99999999){<br/><br/>  }<br/>}</span></pre><p id="6ccc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在我们有了这个，我们可以使用console.time来实际计时运行需要多长时间。为此，我们需要在for循环开始之前调用console.time，并在for循环运行之后调用console.timeEnd。</p><p id="d65c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您还可以在任何给定的时间点运行许多console.time实例。为了区分它们，可以给它们起一个名字，这是console.time和timeEnd各自采用的参数。我们就称这个为“第一次”。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="00af" class="li lj in le b gy lk ll l lm ln">console.time("firstTimer");<br/><br/>for(var i = 0; i &amp;lt; 100000000; i++){<br/>  if(i == 99999999){<br/>	  console.timeEnd("firstTimer");<br/>  }<br/>}</span></pre><h1 id="2b01" class="lo lj in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">运行代码</h1><p id="d207" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">如果您在执行完该代码后检查控制台，您将看到以下内容:</p><figure class="kz la lb lc gt ml gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/88edd45e67bc358f6ae41989d5c87ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*WloaYJtNwu4SnKdP.jpg"/></div></figure><p id="c0d7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它循环了1亿次，并对每一次都进行了条件检查，全部在0.315秒内完成。我觉得这很神奇。电脑是吗？</p><p id="51c0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是为什么就此打住呢？我说过可以在同一个代码中运行多个console.time实例。所以让我们试试。</p><p id="e83d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这次我想我会用setTimeout来“浪费”一些时间。我可以将它设置为在下一个代码运行之前需要一定的时间，这将是console.timeEnd调用。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="d92f" class="li lj in le b gy lk ll l lm ln">console.time("secondTimer");<br/><br/>setTimeout(function(){<br/><br/>  console.timeEnd("secondTimer");<br/><br/>}, 2000);</span></pre><p id="be85" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在浏览器中运行所有这些代码，我们会看到:</p><figure class="kz la lb lc gt ml gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/2ea6e5655bc304f0e3c599d49c671d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*trQ-LRc9FDdZe9dl.jpg"/></div></figure><p id="88e1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第一个计时器的运行方式和它一样，但是我们得到了对console.time的第二次调用。注意它比我们在超时中设置的2000稍微多一点。这将是实际调用代码中涉及的函数的开销。</p><h1 id="d811" class="lo lj in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">你能同时运行两个控制台吗？</h1><p id="6fc5" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">当然啦！让我们试一试。让我们在调用第二个控制台的同时调用第三个控制台。但是将第二个setTimeout放在第一个setTimeout中，并且只在第二个超时完成时结束第三个console.time。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="5fee" class="li lj in le b gy lk ll l lm ln">console.time("secondTimer");<br/>console.time("thirdTimer");<br/><br/>setTimeout(function(){<br/><br/>  console.timeEnd("secondTimer");<br/><br/>  setTimeout(function(){<br/><br/>	  console.timeEnd("thirdTimer");<br/><br/>  }, 3000);<br/><br/>}, 2000);</span></pre><p id="f272" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在浏览器中运行它，我们得到三个定时器值。前两个和我们过去看到的一样。然后我们还得到第三个，第一个超时2000毫秒，第二个超时3000毫秒，总共5000毫秒，再加上之前的一点开销。</p><figure class="kz la lb lc gt ml gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/cdaf79d97dfdd1e74d6fd185f2ce0f80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*hGb9KGiS3VqnQs8b.jpg"/></div></figure><p id="6a77" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">给你。这就是关于console.time的全部内容。走出去，在您自己的项目中使用它，通过了解您的瓶颈在哪里，使您的代码更加高效。</p><p id="f9d9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">直到下一次，</p><p id="aa3c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">保持饥渴，继续编码，</p><p id="359b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">艾德里安(男子名)</p><p id="8d85" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你觉得有用，请告诉你的朋友们！</p><figure class="kz la lb lc gt ml"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7948" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mr">最初发表于</em><a class="ae ky" href="https://hungryturtlecode.com/tutorials/console-time/" rel="noopener ugc nofollow" target="_blank">T5【https://hungryturtlecode.com】</a><em class="mr">。</em></p></div></div>    
</body>
</html>