<html>
<head>
<title>JavaScript Iterator Benchmarks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript迭代器基准</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-iterator-benchmarks-499f3ceeea1a?source=collection_archive---------10-----------------------#2020-01-06">https://javascript.plainenglish.io/javascript-iterator-benchmarks-499f3ceeea1a?source=collection_archive---------10-----------------------#2020-01-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/72221e7a58ffe94a74330450953c33a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x9g-raNtNtmNFeTqchI9Ew.jpeg"/></div></div></figure><p id="a473" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是JavaScript中各种迭代方式的基准和伴随函数。</p><p id="10e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有些人可能认为没有真实应用程序数据的基准测试是没有意义的，但是我仍然发现理解这些人工设置中的运行时含义是有用的。</p><p id="83b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每一个都通过重复<strong class="ka ir">1000万次</strong>来测试。</p><p id="ad11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">TLDR</strong>；常规的<strong class="ka ir"> <em class="kw">为循环</em> </strong> <em class="kw">为</em> <strong class="ka ir"> <em class="kw">为最高性能</em> </strong>而<strong class="ka ir"> <em class="kw">为最高性能</em> </strong> <em class="kw"> </em> <strong class="ka ir"> <em class="kw">为循环</em> </strong> <em class="kw">为最低性能</em><strong class="ka ir"><em class="kw"/></strong>。</p><h1 id="2b3b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">以下是排名:</h1><ol class=""><li id="2b92" class="lv lw iq ka b kb lx kf ly kj lz kn ma kr mb kv mc md me mf bi translated"><strong class="ka ir">为循环</strong> — 8毫秒</li><li id="9bbe" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir"> While循环</strong> — 8毫秒</li><li id="a9fc" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">用于环内</strong> — 16毫秒</li><li id="2d43" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">对于每个</strong> — 18毫秒</li><li id="8f33" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">滤镜</strong> — 34毫秒</li><li id="0db9" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">减少</strong> — 34毫秒</li><li id="6c6b" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">地图</strong> — 69毫秒</li><li id="5cae" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">用于</strong>的— 152毫秒</li><li id="a217" class="lv lw iq ka b kb mg kf mh kj mi kn mj kr mk kv mc md me mf bi translated"><strong class="ka ir">递归</strong> —错误:最大堆栈调用</li></ol></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="c309" class="kx ky iq bd kz la ms lc ld le mt lg lh li mu lk ll lm mv lo lp lq mw ls lt lu bi translated">对于每个</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="0bc2" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="5fc3" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">foreachPerformance</strong>(x){<br/> let t = Date.now();<br/> x.forEach(x=&gt;x);<br/> let t2 = Date.now()<br/> console.log(“for each: “ , t2-t)<br/>}</span><span id="109d" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">foreachPerformance(arr)<br/></strong>// for each:  18</span></pre><h1 id="6b9b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">地图</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="5b14" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="b0e6" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">mapPerformance</strong>(x){<br/> let t = Date.now();<br/> x.map(x=&gt;x);<br/> let t2 = Date.now()<br/> console.log(“map: “ , t2-t)<br/>}</span><span id="0d46" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">mapPerformance(arr)</strong><br/>// map: 69</span></pre><h1 id="e9ec" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">过滤器</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="a813" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="4ac3" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">filterPerformance</strong>(x){<br/> let t = Date.now();<br/> x.filter(x=&gt;x);<br/> let t2 = Date.now()<br/> console.log(“filter: “ , t2-t)<br/>}</span><span id="eedb" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">filterPerformance(arr)<br/></strong>// filter: 34</span></pre><h1 id="c602" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">减少</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="34d1" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="3b70" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">reducePerformance</strong>(x){<br/> let t = Date.now();<br/> x.reduce(x=&gt;x ,’’);<br/> let t2 = Date.now()<br/> console.log(“reduce: “ , t2-t)<br/>}</span><span id="93ec" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">reducePerformance(arr)<br/></strong>// reduce: 34</span></pre><h1 id="86f6" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">在…期间</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="0c7a" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="879d" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">whilePerformance</strong>(x){<br/> let t = Date.now();<br/> let i = 0;<br/> while(i &lt; x.length){<br/>    i++<br/> }<br/> let t2 = Date.now()<br/> console.log(“while: “ , t2-t)<br/>}</span><span id="56ef" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">whilePerformance(arr)<br/>// while: 8</strong></span></pre><h1 id="e80b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">For循环</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="40cd" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="3a8c" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">forLoopPerformance</strong>(x){<br/> let t = Date.now();<br/> for(let i = 0; i &lt;x.length; i++){i}<br/> let t2 = Date.now()<br/> console.log(“for loop: “ , t2-t)<br/>}</span><span id="5e65" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">forLoopPerformance(arr)<br/>// for loop: 8</strong></span></pre><h1 id="b098" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">对于...来说</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="b250" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="e5c9" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">forOfPerformance</strong>(x){<br/> let t = Date.now();<br/> for(y of x){}<br/> let t2 = Date.now()<br/> console.log(“for of: “ , t2-t)<br/>}</span><span id="94b1" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">forOfPerformance(arr)<br/>// for of: 152</strong></span></pre><h1 id="35a2" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">因为在</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="fe44" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="e64b" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">forInPerformance</strong>(x){<br/>    let t = Date.now();<br/>    for(y in x){y}<br/>    let t2 = Date.now()<br/>    console.log("for in: " , t2-t)<br/>}</span><span id="c483" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">forInPerformance(arr)<br/>// for in: 16</strong></span></pre><h1 id="ae88" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">递归</h1><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="0353" class="ng ky iq nc b gy nh ni l nj nk">let <strong class="nc ir">arr</strong> = new <strong class="nc ir">Array</strong>(10000000)</span><span id="d3f5" class="ng ky iq nc b gy nl ni l nj nk">function <strong class="nc ir">recursionPerformance</strong>(x, i, t){<br/>    if(i &lt; x.length){<br/>        i++<br/>        return <strong class="nc ir">recursionPerformance</strong>(x, i, t)<br/>        <br/>    }<br/>    let t2 = Date.now()<br/>    console.log("for of: " , t2-t)<br/>}</span><span id="0f8d" class="ng ky iq nc b gy nl ni l nj nk"><strong class="nc ir">recursionPerformance(arr, 0, Date.now())<br/>// Error Maximum Stack Call</strong></span></pre></div></div>    
</body>
</html>