<html>
<head>
<title>BootstrapVue — Table Transitions and Sorting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BootstrapVue —表格转换和排序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/bootstrapvue-table-transitions-and-sorting-8f891458469f?source=collection_archive---------4-----------------------#2020-07-16">https://javascript.plainenglish.io/bootstrapvue-table-transitions-and-sorting-8f891458469f?source=collection_archive---------4-----------------------#2020-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b2993999c971d67bfa1ff3b81c2920f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RmC8hB9_nKLuUm1p"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@brucemars?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">bruce mars</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6a33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了制作好看的Vue应用，我们需要设计组件的样式。</p><p id="4049" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使我们的生活更容易，我们可以使用内置样式的组件。</p><p id="69e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看看如何定制表格内容，包括过渡和排序。</p><h1 id="c6dd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">表体转换</h1><p id="a447" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以向表体添加表体过渡。</p><p id="5e2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以在对象中添加<code class="fe me mf mg mh b">tbody-transition-prois</code>来添加<code class="fe me mf mg mh b">transition-group</code>属性。</p><p id="d34e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">tbody-transition-handlers</code> kets让我们从一个对象中添加<code class="fe me mf mg mh b">transition-groip</code>事件处理程序。</p><p id="504f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">primary-lkey</code>是一个字符串，指定用作唯一行键的字段。</p><p id="1ffe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9259" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table primary-key="id" :tbody-transition-props="transProps" :items="items" :fields="fields"&gt;&lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="bba4" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      fields: [<br/>        { key: "id", sortable: true },<br/>        { key: "firstName", sortable: true },<br/>        { key: "lastName", sortable: true }<br/>      ],<br/>      transProps: {<br/>        name: "flip-list"<br/>      },<br/>      items: [<br/>        { id: 1, firstName: "alex", lastName: "green" },<br/>        {<br/>          id: 2,<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { id: 3, firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="931d" class="mq lc iq mh b gy mv ms l mt mu">&lt;style&gt;<br/>table .flip-list-move {<br/>  transition: transform 1s;<br/>}<br/>&lt;/style&gt;</span></pre><p id="4065" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在对表格行排序时添加了过渡效果。</p><p id="56d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们添加了设置为<code class="fe me mf mg mh b">transProps</code>对象的<code class="fe me mf mg mh b">tbody-transition-props</code>道具。</p><p id="7d50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该对象有一个过渡名称。</p><p id="2df0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该名称应该与CSS转换的前缀类相匹配。</p><p id="59e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在<code class="fe me mf mg mh b">style</code>标签中，我们有了以<code class="fe me mf mg mh b">flip-list</code>开头的<code class="fe me mf mg mh b">flip-list-move</code>类。</p><p id="1a0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">primary-key</code>也被设置为我们表中的唯一键列，即<code class="fe me mf mg mh b">id</code>。</p><p id="bb4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用每个<code class="fe me mf mg mh b">fields</code>数组条目中的<code class="fe me mf mg mh b">sortable</code>属性使其可排序。</p><p id="afde" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们单击每个字段上的排序按钮时，我们会看到一个淡入淡出效果。</p><h1 id="6f5a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">整理</h1><p id="a748" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">BootstrapVue表是可排序的。</p><p id="9001" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以指定整理桌子的道具。</p><p id="044d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要指定要排序的列，我们可以使用<code class="fe me mf mg mh b">sort-by</code>属性。</p><p id="c01d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以通过将<code class="fe me mf mg mh b">sort-desc</code>设置为<code class="fe me mf mg mh b">true</code>或<code class="fe me mf mg mh b">false</code>来设置方向。</p><p id="0194" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过这种方式，我们可以分别从最高到最低对值进行排序，反之亦然。</p><p id="a352" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置<code class="fe me mf mg mh b">foot-clone</code>时，页脚标题也允许点击排序。</p><p id="3cfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">即使我们有自定义页脚也是如此。</p><p id="da76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6a0f" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table sort-by="id" sortDesc :items="items" :fields="fields"&gt;&lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="3ed0" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      fields: [<br/>        { key: "id", sortable: true },<br/>        { key: "firstName", sortable: true },<br/>        { key: "lastName", sortable: true }<br/>      ],<br/>      items: [<br/>        { id: 1, firstName: "alex", lastName: "green" },<br/>        {<br/>          id: 2,<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { id: 3, firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="e9bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了带有我们想要排序的字段名称的<code class="fe me mf mg mh b">sort-by</code>属性。</p><p id="54a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置为<code class="fe me mf mg mh b">id</code>按<code class="fe me mf mg mh b">id</code>排序。</p><p id="9b00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们按降序对该列进行排序。</p><p id="1bcf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们按照<code class="fe me mf mg mh b">id</code>列对行进行降序排序。</p><h1 id="1be4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">自定义排序图标</h1><p id="d264" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以定制CSS来改变排序图标。</p><h1 id="98c7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">排序比较</h1><p id="9946" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将条目与<code class="fe me mf mg mh b">sort-compare</code>属性集的比较方式改为一个函数，让我们自定义排序。</p><p id="5c11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bdd1" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-table sort-compare='sortCompare' :items="items" :fields="fields"&gt;&lt;/b-table&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="8625" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      fields: [<br/>        { key: "id", sortable: true },<br/>        { key: "firstName", sortable: true },<br/>        { key: "lastName", sortable: true }<br/>      ],<br/>      items: [<br/>        { id: 1, firstName: "alex", lastName: "green" },<br/>        {<br/>          id: 2,<br/>          firstName: "may",<br/>          lastName: "smith"<br/>        },<br/>        { id: 3, firstName: "james", lastName: "jones" }<br/>      ]<br/>    };<br/>  },<br/>  methods: {<br/>    sortCompare(<br/>      aRow,<br/>      bRow,<br/>      key,<br/>      sortDesc,<br/>      formatter,<br/>      compareOptions,<br/>      compareLocale<br/>    ) {<br/>      return aRow[key].localeCompare(bRow[key], compareLocale, compareOptions);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="ab09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们给出了我们设置为<code class="fe me mf mg mh b">sort-compare</code>的值的<code class="fe me mf mg mh b">sortCompare</code>。</p><p id="b80b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在方法中，我们可以将<code class="fe me mf mg mh b">compareLocale</code>和<code class="fe me mf mg mh b">compareOptions</code>传递给字符串的<code class="fe me mf mg mh b">localeCompare</code>方法来对它们进行排序。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/97b85204b8401d955525162eb9bc9dd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mHavZce0Lb0KfKcg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@toddquackenbush?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Todd Quackenbush</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="5ae1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="bbb3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在操作行时添加表体过渡来增加效果。</p><p id="6e93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用内置的props或定制的排序函数按照自己的方式对列进行排序。</p><h2 id="8e78" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="814e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>