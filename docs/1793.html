<html>
<head>
<title>Getting the best of RxJS, Redux, and React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">充分利用RxJS、Redux和React</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-best-of-rxjs-redux-react-f4c369ab181a?source=collection_archive---------3-----------------------#2020-04-23">https://javascript.plainenglish.io/getting-best-of-rxjs-redux-react-f4c369ab181a?source=collection_archive---------3-----------------------#2020-04-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/72d5b5b19ceae973d95f08fbba735a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ra25R7mEqE0YrM5uLuDOwg.png"/></div></div></figure><p id="572e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里的想法是使用<a class="ae kt" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> Redux </strong> </a>创建一个<strong class="jx io"> React应用</strong>，但是利用<strong class="jx io"> RxJS </strong>库，为了这个目的，没有什么比<strong class="jx io"> Redux+RxJS，</strong>更好的了，这给了我们<strong class="jx io"> redux-observable。</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/bd05abaf491c94b35fa90c7f8d5d53e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sTgXccmQXKi_lylZjvMT0w.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">source: <a class="ae kt" href="https://redux-observable.js.org/" rel="noopener ugc nofollow" target="_blank">https://redux-observable.js.org</a></figcaption></figure><p id="385c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">整个应用程序将由<strong class="jx io">功能组件</strong>和<a class="ae kt" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ld">钩子</em> </strong> </a>组成，如果你不熟悉的话，看看这个<a class="ae kt" href="https://medium.com/@gabrielinflex/writing-a-simple-react-app-using-hooks-59fbeb56a40b" rel="noopener"> <strong class="jx io">用钩子</strong>写了一个简单的react！</a>另一件很重要的事情是<a class="ae kt" href="https://rxjs-dev.firebaseapp.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">RxJS</strong></a><strong class="jx io">lib</strong>，我们稍后会谈到。</p><p id="e8e0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">事不宜迟，让我们创建第一个组件。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="eee5" class="lj lk in lf b gy ll lm l ln lo">import <strong class="lf io"><em class="ld">React </em></strong>from 'react';</span><span id="2111" class="lj lk in lf b gy lp lm l ln lo">import './BookStore.css';</span><span id="f1ef" class="lj lk in lf b gy lp lm l ln lo">const genres = ['Adventure', 'Romance'];</span><span id="470d" class="lj lk in lf b gy lp lm l ln lo">const BookStore = () =&gt; {<br/>  return (<br/>      &lt;div className="container"&gt;<br/>        &lt;div className="title"&gt;<br/>          &lt;img className="title-book-svg" alt="books"<br/>               src="images/book.svg"/&gt;<br/>          &lt;h3&gt;Search, Find and Buy your book here!&lt;/h3&gt;<br/>        &lt;/div&gt;<br/>        &lt;div className="search"&gt;<br/>          &lt;input id="books" size="20"<br/>                 className="search-input"<br/>                 placeholder="Books, Author, Title."/&gt;<br/>          &lt;button className="search-button"&gt;<br/>            Search<br/>          &lt;/button&gt;<br/>        &lt;/div&gt;<br/>        &lt;p&gt; Or select your preferred genre&lt;/p&gt;<br/>        &lt;select id="genre" className="genre-select"&gt;<br/>          &lt;option defaultValue&gt;Select a genre&lt;/option&gt;<br/>          {<br/>            genres.map(genre =&gt; {<br/>              return (&lt;option key={genre}&gt;{genre}&lt;/option&gt;);<br/>          })<br/>        &lt;/select&gt;<br/>      &lt;/div&gt;<br/>  );<br/>}</span><span id="05b8" class="lj lk in lf b gy lp lm l ln lo">export default BookStore;</span></pre><p id="11a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个简单的HTML/CSS组件和该类型的硬代码列表，还没有什么特别的，但这是一个开始。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lq"><img src="../Images/3ebcd1ac287d8bc738cfa8f1c7ebf726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wQVRVJ962QVp-4HF5ZfUFw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Just a first look!</figcaption></figure><p id="ae3d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来的事情是从一个<strong class="jx io">restful API</strong>中获取流派列表，除了进行不必要的<strong class="jx io"> API </strong>调用以从不存在的流派中检索书籍之外，它最终会得到一个不可用的流派，甚至没有可用的书籍。</p><p id="a30d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建一个单独的<strong class="jx io"><em class="ld">data service . js</em></strong>文件，它将处理<strong class="jx io"> HTTP调用</strong> s。非常简单，这个想法是重用它作为来自<strong class="jx io"> EPICS </strong>的<strong class="jx io">数据访问层</strong>。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="1995" class="lj lk in lf b gy ll lm l ln lo">import Axios from 'axios-observable';<br/>import { timeout, retry } from 'rxjs/operators';</span><span id="b525" class="lj lk in lf b gy lp lm l ln lo">const axiosObs = Axios.create({<br/>  headers: {'Content-Type': 'application/json;charset=utf-8'}<br/>});</span><span id="1e15" class="lj lk in lf b gy lp lm l ln lo">const <strong class="lf io"><em class="ld">DataService </em></strong>= {<br/>  request: (endPoint, body) =&gt; {<br/>    const rOptions = {url: endPoint};<br/>    body ? rOptions.data = body : '';<br/>    <br/>    return axiosObs.request(rOptions).pipe(<br/>        timeout('3000'),<br/>        retry('2'),<br/>    );<br/>  }<br/>};</span><span id="5f31" class="lj lk in lf b gy lp lm l ln lo"><strong class="lf io"><em class="ld">Object</em></strong>.freeze(<strong class="lf io"><em class="ld">DataService</em></strong>);</span><span id="2a10" class="lj lk in lf b gy lp lm l ln lo">export default <strong class="lf io"><em class="ld">DataService</em></strong>;</span></pre><p id="32d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里有一些东西，<code class="fe lr ls lt lf b">r<strong class="jx io">edux-observable</strong></code>需要安装，因为它有两个重要的依赖项<code class="fe lr ls lt lf b"><strong class="jx io">rxjs</strong></code>和<code class="fe lr ls lt lf b"><strong class="jx io">redux</strong></code>，两者都必须安装。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="80ae" class="lj lk in lf b gy ll lm l ln lo">npm install redux-observable <!-- -->rxjs <!-- -->redux</span></pre><p id="9fbc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可能会疑惑“【Axios怎么样？"正如你所看到的，"<strong class="jx io"> axios-observable </strong>"是一个包装器，它也提供了一个<strong class="jx io"> Axios </strong>实例，它也有依赖项，比如，但是<code class="fe lr ls lt lf b"><strong class="jx io">rxjs,</strong></code>已经安装好了，只需运行这个。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="e8b7" class="lj lk in lf b gy ll lm l ln lo">npm install axios axios-observable</span></pre><p id="537f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">也不要忘记安装Redux的官方React绑定，我们也将利用一些来自它的<strong class="jx io">钩子</strong>。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="ddad" class="lj lk in lf b gy ll lm l ln lo">npm install react-redux</span></pre><p id="5f27" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ld">免责声明:可以随意使用任何你想要的AJAX库</em>。</strong></p><p id="c881" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们创建一个<strong class="jx io"> genre.js，</strong> redux文件，所有的东西都在一个文件中，作为一个大图片。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="82cf" class="lj lk in lf b gy ll lm l ln lo">import { ofType } from 'redux-observable';<br/>import { map, mergeMap, catchError } from 'rxjs/operators';</span><span id="e4f8" class="lj lk in lf b gy lp lm l ln lo">import <strong class="lf io"><em class="ld">DataService </em></strong>from '../utils/DataService';<br/><strong class="lf io">// initial state of Genre.</strong><br/>const initialState = {<br/>  genres: [],<br/>  loading: false,<br/>  fetched: false,<br/>  error: null,<br/>};<br/><strong class="lf io">// action types</strong><br/>const types = {<br/>  FETCH_GENRE_REQUEST: 'FETCH_GENRE_REQUEST',<br/>  FETCH_GENRE_SUCCESS: 'FETCH_GENRE_SUCCESS',<br/>  FETCH_GENRE_ERROR: 'FETCH_GENRE_ERROR'<br/>};<br/><strong class="lf io">// action to fetch a list of genre.</strong><br/>export const <strong class="lf io">fetchGenre</strong> = () =&gt; ({type: types.FETCH_GENRE_REQUEST});</span><span id="691e" class="lj lk in lf b gy lp lm l ln lo"><strong class="lf io">// reducers</strong><br/>export const <strong class="lf io">genre</strong> = (state = initialState, action) =&gt; {<br/>  switch (action.type) {<br/>    case types.FETCH_GENRE_REQUEST:<br/>      return {<br/>        ...state,<br/>        loading: true<br/>      };<br/>    case types.FETCH_GENRE_SUCCESS:<br/>      return {<br/>        ...state,<br/>        fetched: true,<br/>        genres: action.payload,<br/>      };<br/>    case types.FETCH_GENRE_ERROR:<br/>      return {<br/>        ...state,<br/>        error: action.payload<br/>      };<br/>    default:<br/>      return state;<br/>  }<br/>};</span><span id="cf27" class="lj lk in lf b gy lp lm l ln lo"><strong class="lf io">// Epic</strong><br/>export const <strong class="lf io">fetchGenreEpic</strong> = action$ =&gt; action$.pipe(<br/>    ofType(types.FETCH_GENRE_REQUEST),<br/>    mergeMap(() =&gt; {<br/>      return <strong class="lf io"><em class="ld">DataService</em></strong>.request('api/genre.json').pipe(<br/>          map(({data}) =&gt; {<br/>            return {<br/>              type: types.FETCH_GENRE_SUCCESS, payload: data.genres<br/>            };<br/>          }),<br/>          catchError(error =&gt; {<br/>            return {type: types.FETCH_GENRE_ERROR, payload: error}<br/>          }),<br/>      );<br/>    }),<br/>);</span></pre><p id="c981" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好吧，这是非常大的一步，事实上，让我们来分解一下。</p><p id="9034" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如你可能知道的，到目前为止，我们在这里有<strong class="jx io"> Redux </strong>流，如动作，减速器，但如何是<strong class="jx io">史诗？</strong>这里是我们开始把<strong class="jx io"> Redux </strong>带到另一个层次的地方，对于那些熟悉<strong class="jx io"> RxJS、</strong>的人来说，你知道使用<strong class="jx io">反应式编程、</strong>流、复杂的异步/副作用、操作符等等是多么方便和强大。</p><p id="338d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么，什么是<strong class="jx io">史诗</strong>？来自文档:"<strong class="jx io">它是一个接受一系列动作并返回一系列动作的函数。<em class="ld">动作输入，动作输出</em></strong></p><p id="d537" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">混淆</strong>？把它想象成一个听众，每次某个<strong class="jx io">动作</strong>被<strong class="jx io">调度</strong>的时候，<strong class="jx io">史诗</strong>就会监听它，跟R <strong class="jx io"> edux </strong>常规流程没什么变化，除了<strong class="jx io">史诗</strong>。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lu"><img src="../Images/4a63f6199dcf3ebc54f0b255a18745ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nydm1QxP3JGMpaXM5KKvLg.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><strong class="bd lv">Redux + Observable = Cool 😎</strong></figcaption></figure><p id="ec7a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下一步，设置<strong class="jx io">配置存储中间件</strong>。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="d966" class="lj lk in lf b gy ll lm l ln lo">import { <em class="ld">createStore</em>, applyMiddleware } from 'redux';<br/>import { createEpicMiddleware } from 'redux-observable';</span><span id="1cc8" class="lj lk in lf b gy lp lm l ln lo"><strong class="lf io">// reducer and Epic</strong><br/>import { <strong class="lf io">genre</strong>, <strong class="lf io">fetchGenreEpic</strong> } from './Genre';</span><span id="68c9" class="lj lk in lf b gy lp lm l ln lo">const epicMiddleware = createEpicMiddleware();</span><span id="7d8c" class="lj lk in lf b gy lp lm l ln lo">const <strong class="lf io">ConfigureStore</strong> = () =&gt; {<br/>  const <strong class="lf io">store</strong> = <em class="ld">createStore</em>(<br/>      genre,<br/>      applyMiddleware(epicMiddleware)<br/>  );<br/>  epicMiddleware.run(fetchGenreEpic);<br/>  return <strong class="lf io">store</strong>;<br/>};</span><span id="ba3a" class="lj lk in lf b gy lp lm l ln lo">export default <strong class="lf io">ConfigureStore</strong>;</span></pre><p id="dc58" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<strong class="jx io"> index.js文件中，</strong>从<strong class="jx io"> react-redux中导入<strong class="jx io"> Provider </strong>，</strong>还导入了刚刚创建的<strong class="jx io"> configStore </strong>，并将其设置到Provider标签中。</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="1c97" class="lj lk in lf b gy ll lm l ln lo">import <em class="ld">React</em>, { <em class="ld">StrictMode </em>} from 'react';<br/>import ReactDOM from 'react-dom';</span><span id="4e06" class="lj lk in lf b gy lp lm l ln lo">import { Provider } from 'react-redux';</span><span id="0d13" class="lj lk in lf b gy lp lm l ln lo"><strong class="lf io">import ConfigureStore from './redux/configStore';</strong></span><span id="824f" class="lj lk in lf b gy lp lm l ln lo">import BookStore from './BookStore';</span><span id="cc0e" class="lj lk in lf b gy lp lm l ln lo">const <strong class="lf io">store</strong> = ConfigureStore();</span><span id="c5b3" class="lj lk in lf b gy lp lm l ln lo">ReactDOM.<strong class="lf io"><em class="ld">render</em></strong>(<br/>    &lt;StrictMode&gt;<br/>      &lt;<strong class="lf io">Provider</strong> store={<strong class="lf io">store</strong>}&gt;<br/>        &lt;BookStore/&gt;<br/>      &lt;/<strong class="lf io">Provider</strong>&gt;<br/>    &lt;/StrictMode&gt;<br/>    , <strong class="lf io"><em class="ld">document</em></strong>.getElementById('root')<br/>);</span></pre><p id="784c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就这样，我们已经用<strong class="jx io"> redux-observable、</strong>完成了整个应用程序的设置，但是在我们演示之前，还有一些事情要做。</p><p id="72ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ld">如何调度一个动作？如何从state+Redux获取数据？如何处理来自组件的HTTP调用？</em>T45】</strong></p><p id="e394" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，是时候创建我们的第一个<strong class="jx io">定制钩子</strong>了，它将处理分派动作。</p><p id="e11f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建一个名为<strong class="jx io"> useActions.js </strong>的文件</p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="3748" class="lj lk in lf b gy ll lm l ln lo">import { <strong class="lf io"><em class="ld">useDispatch </em></strong>} from 'react-redux';<br/>import { fetchGenre } from '../redux/Genre.js'</span><span id="64b8" class="lj lk in lf b gy lp lm l ln lo">const useActions = () =&gt; {<br/>  const dispatch = <strong class="lf io"><em class="ld">useDispatch</em></strong>();<br/>  const fetchGenreAction = () =&gt; dispatch(fetchGenre());<br/>  <br/>  return {<br/>    fetchGenreAction<br/>  }<br/>};</span><span id="1254" class="lj lk in lf b gy lp lm l ln lo">export default useActions;</span></pre><p id="92fa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，基本上这里要做的是，创建一个自定义挂钩来为组件提供操作，这样，所有的操作都在一个地方，只需导入<strong class="jx io"> useActions </strong>挂钩就可以使用它，使组件更加整洁。</p><p id="1e85" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里是我们的<strong class="jx io"> BookStore.js </strong>组件全部导入后，<strong class="jx io"> useActions，useSelector，useEffect。</strong></p><pre class="kv kw kx ky gt le lf lg lh aw li bi"><span id="2a47" class="lj lk in lf b gy ll lm l ln lo">import <strong class="lf io"><em class="ld">React</em></strong>, { useEffect } from 'react';<br/>import { <strong class="lf io"><em class="ld">useSelector </em></strong>} from 'react-redux';</span><span id="877a" class="lj lk in lf b gy lp lm l ln lo">import useActions from './hooks/useActions';</span><span id="e277" class="lj lk in lf b gy lp lm l ln lo">import './BookStore.css';</span><span id="58bb" class="lj lk in lf b gy lp lm l ln lo">const BookStore = () =&gt; {<br/>  // Get action from custom hook.<br/>  const {fetchGenreAction} = useActions();<br/>  <br/>  // Get Redux state using a hook<br/>  const {<br/>    genres, loading, fetched, error<br/>  } = <strong class="lf io"><em class="ld">useSelector</em></strong>(state =&gt; state);<br/>  <br/>  // This useEffect will trigger only once, when the component is mounted.<br/>  useEffect(() =&gt; {<br/>    fetchGenreAction();<br/>  }, []);<br/>  <br/>  return (<br/>      &lt;div className="container"&gt;<br/>        &lt;div className="title"&gt;<br/>          &lt;img className="title-book-svg" alt="books"<br/>               src="images/book.svg"/&gt;<br/>          &lt;h3&gt;Search, Find and Buy your book here!&lt;/h3&gt;<br/>        &lt;/div&gt;<br/>        &lt;div className="search"&gt;<br/>          &lt;input id="books" size="20"<br/>                 className="search-input"<br/>                 placeholder="Books, Author, Title."/&gt;<br/>          &lt;button className="search-button"&gt;Search&lt;/button&gt;<br/>        &lt;/div&gt;<br/>        &lt;p&gt; Or select your preferred genre&lt;/p&gt;<br/>        {<br/>          error<br/>              ? error<br/>              : loading || !fetched<br/>              ? 'Loading..'<br/>              : (<br/>                  &lt;select id="genre" className="genre-select"&gt;<br/>                    &lt;option defaultValue&gt;Select a genre&lt;/option&gt;<br/>                    {<br/>                      genres &amp;&amp;<br/>                      genres.map(genre =&gt; {<br/>                        return (<br/>                          &lt;option key={genre}&gt;{genre}&lt;/option&gt;)<br/>                      })<br/>                    }<br/>                  &lt;/select&gt;<br/>                )<br/>        }<br/>      &lt;/div&gt;<br/>  );<br/>}</span><span id="4b2d" class="lj lk in lf b gy lp lm l ln lo">export default BookStore</span></pre><p id="91b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，<strong class="jx io">演示</strong>！！👀😅🤞</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/ab9844c0b7b216bbfa048f3b322567c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7B79yna8j0-iQ87TOxxmcw.gif"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><strong class="bd lv">RxJS + Redux + React = Amazing </strong>😁🤓👏☢️</figcaption></figure><p id="baaa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">只是为了多展示一点关于<strong class="jx io">操作符</strong>，你可以用<strong class="jx io"> RxJS、</strong>做的事情有很多选项，如果你想了解更多，<a class="ae kt" href="https://www.learnrxjs.io/learn-rxjs/operators" rel="noopener ugc nofollow" target="_blank">在这里查看。</a></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/38c1eb78a2c49a7b19a14191ea1450b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aggAntElm_4SUgeDRhthxw.gif"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><strong class="bd lv">Using “delay” to simulate a connection problem, causing an error.</strong></figcaption></figure><p id="621a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">到目前为止，一切都很好，现在让我们重构整个应用程序并完成它，我将在这里总结这些步骤，但你可以查看仓库以了解更多细节。</p><ul class=""><li id="ef3c" class="ly lz in jx b jy jz kc kd kg ma kk mb ko mc ks md me mf mg bi translated">创建react组件，比如<strong class="jx io">搜索/预订/结账。</strong></li><li id="899f" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated">为<strong class="jx io">动作</strong>、<strong class="jx io">减速器、</strong>和<strong class="jx io">史诗</strong>创建一个<strong class="jx io"> Redux </strong>结构文件夹</li><li id="2aec" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated">创建一个<strong class="jx io">史诗</strong>到<strong class="jx io">搜索书</strong>和<strong class="jx io">流派</strong>。</li><li id="2b20" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated">创建一个<strong class="jx io">列表图书</strong>组件来显示搜索到的<strong class="jx io">图书</strong>。</li><li id="0ce8" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated">添加<strong class="jx io">桶</strong>进口策略改进方式<strong class="jx io"> *。js </strong>导入。</li><li id="fac8" class="ly lz in jx b jy mh kc mi kg mj kk mk ko ml ks md me mf mg bi translated">创建一个<strong class="jx io">自定义挂钩</strong>来处理购物车<strong class="jx io">逻辑</strong>和<strong class="jx io">篮子</strong>。</li></ul><p id="79db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就这样，让我们看看所有的碎片是如何组合在一起的！！</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mm"><img src="../Images/791ba0bc5f0319478ba73aaf5585150e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Q7nDfmquGodbd5H4aE1tqw.gif"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Hope you enjoy it 🤓</figcaption></figure><p id="ba03" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在https://github.com/gbrivate/react-book-store的<a class="ae kt" href="https://github.com/gbrivate/react-book-store" rel="noopener ugc nofollow" target="_blank">查看回购协议。</a></p><p id="7570" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，在<a class="ae kt" href="https://gbrivate.github.io/react-book-store/" rel="noopener ugc nofollow" target="_blank">https://gbrivate.github.io/react-book-store/</a>处检查该运转</p><p id="a9f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">别忘了安装<a class="ae kt" href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ld"> React Dev工具</em> </strong> </a>和<a class="ae kt" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> Redux </strong> </a>浏览器插件，它们很有帮助。</p><p id="53f9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您有任何问题、疑问或建议，请告诉我，我很乐意收到您的来信！</p><h2 id="6816" class="lj lk in bd mn mo mp dn mq mr ms dp mt kg mu mv mw kk mx my mz ko na nb nc nd bi translated"><strong class="ak">用简单英语写的JavaScript注释</strong></h2><p id="bd10" class="pw-post-body-paragraph jv jw in jx b jy ne ka kb kc nf ke kf kg ng ki kj kk nh km kn ko ni kq kr ks ig bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kt" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="jx io">AI in Plain English</strong></a>，<a class="ae kt" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="jx io">UX in Plain English</strong></a>，<a class="ae kt" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="jx io">Python in Plain English</strong></a><strong class="jx io"/>——谢谢，继续学习！</p><p id="a080" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kt" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">submissions @ plain English . io</strong></a><strong class="jx io"/>，使用您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>