<html>
<head>
<title>JavaScript Code Styling Best Practices — Empty Line and Conditionals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript代码样式最佳实践—空行和条件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-code-styling-best-practices-empty-line-and-conditionals-8a6d875ca8c1?source=collection_archive---------4-----------------------#2020-05-22">https://javascript.plainenglish.io/javascript-code-styling-best-practices-empty-line-and-conditionals-8a6d875ca8c1?source=collection_archive---------4-----------------------#2020-05-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b7b97edfd546efe4f19278b16032c5e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sKus52c01dBzseFn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@acfb5071?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Keith Johnston</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b3e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="6d75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何清理空行并以正确的方式编写条件句。</p><h1 id="5d16" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">没有多个空行</h1><p id="2a44" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们的代码不应该有太多的空行。如果我们有两个以上的表达或陈述，那么可能太多了。</p><p id="c075" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">多一行空行只会占用页面上额外的空间，对我们没有任何好处。</p><p id="a579" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该从代码中删除多余的空行。如果我们需要，一个空行就足够了。</p><h1 id="e86f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">否定条件</h1><p id="0665" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">被否定的条件可能会让一些人感到困惑。如果我们有双重否定，那就更是如此。</p><p id="dce2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有一个与一个<code class="fe me mf mg mh b">else</code>块组合的<code class="fe me mf mg mh b">if</code>语句，那么我们应该尽可能在括号之间放置正条件，而不是负条件。</p><p id="c5aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不用编写下面的代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b8ed" class="mq lc iq mh b gy mr ms l mt mu">if (!a) {<br/>  foo();<br/>} else {<br/>  bar();<br/>}</span></pre><p id="d267" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以改为写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dcb2" class="mq lc iq mh b gy mr ms l mt mu">if (a) {<br/>  bar();<br/>} else {<br/>  foo();<br/>}</span></pre><p id="0d48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之前没有否定运算的条件表达式比有否定表达式的条件表达式更容易阅读。</p><p id="e4ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">双重否定更让读者困惑。例如，如果我们有以下代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b8ba" class="mq lc iq mh b gy mr ms l mt mu">if (!(a !== b)) {<br/>  bar();<br/>} else {<br/>  foo();<br/>}</span></pre><p id="b8b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那就更混乱了。相反，我们应该通过编写下面的代码去掉<code class="fe me mf mg mh b">a !== b</code>表达式前的否定运算符:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="80b6" class="mq lc iq mh b gy mr ms l mt mu">if (a === b) {<br/>  bar();<br/>} else {<br/>  foo();<br/>}</span></pre><p id="4f0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所看到的，上面的条件表达式更容易阅读，也更简短。因此，过度使用求反运算符没有任何好处。</p><p id="9a7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还减少了三元表达式中求反运算符的使用。例如，不用编写下面的代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9a06" class="mq lc iq mh b gy mr ms l mt mu">const foo = !(a !== b) ? bar() : foo();</span></pre><p id="b26f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中有一个双重否定条件表达式，我们应该改为:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ce78" class="mq lc iq mh b gy mr ms l mt mu">const foo = (a === b) ? bar() : foo();</span></pre><p id="5ce6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与<code class="fe me mf mg mh b">if</code>语句的情况一样，代码更短，更容易阅读。</p><p id="386f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，我们可以将两个求反操作符配对在一起，将一些东西转换成布尔运算。</p><p id="97f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下变量:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3b76" class="mq lc iq mh b gy mr ms l mt mu">const foo = 1;</span></pre><p id="6c8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下表达式将其转换为布尔值:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b89f" class="mq lc iq mh b gy mr ms l mt mu">const bar = !!foo;</span></pre><p id="a3c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">bar</code>将会是<code class="fe me mf mg mh b">true</code>，因为<code class="fe me mf mg mh b">foo</code>已经被转换为布尔值，因为1是真的。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/9df91eab0cefa83538435dbc1af6937f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ankSCD0kJpmlcnmt"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kciocca?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Karen Ciocca</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3e35" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">没有嵌套的三元表达式</h1><p id="21ee" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">嵌套的三元表达式很难读懂。它们也很长。很难读懂，因为它们的嵌套不是用括号分隔的。</p><p id="843b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这并不好，因为为了正确地读取嵌套的三元表达式，我们必须在头脑中放入括号。</p><p id="dbf2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，它们可能会以错误的顺序读取，从而导致三元表达式的解释不正确。</p><p id="5e31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下三元表达式:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ed01" class="mq lc iq mh b gy mr ms l mt mu">const foo = a ? b ? c ? 'foo' : 'bar' : 'baz' : 'qux';</span></pre><p id="9051" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们必须在头脑中放入括号，以便正确阅读。我们要这样读它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2ff0" class="mq lc iq mh b gy mr ms l mt mu">const foo = a ? (b ? (c ? 'foo' : 'bar') : 'baz') : 'qux';</span></pre><p id="398e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这使得理解表达式变得更容易了，因为我们知道它是由内向外求值的。</p><p id="a808" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，<code class="fe me mf mg mh b">(c ? ‘foo’ : ‘bar’)</code>是evalauted。然后用<code class="fe me mf mg mh b">(c ? ‘foo’ : ‘bar’)</code>的返回值对<code class="fe me mf mg mh b">(b ? (c ? ‘foo’ : ‘bar’) : ‘baz’)</code>求值。</p><p id="a7a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后用<code class="fe me mf mg mh b">(b ? (c ? ‘foo’ : ‘bar’) : ‘baz’)</code>的返回值对整个表达式求值。</p><p id="49e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所看到的，嵌套的三元运算符正在消耗我们的大脑。因此，我们应该避免使用它们，坚持使用非嵌套的三元表达式，如:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c277" class="mq lc iq mh b gy mr ms l mt mu">const foo = a ? 'foo' : 'bar';</span></pre><h1 id="73e2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="3906" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">多空行没用。这只是占用空间，他们没有我们的代码更容易阅读。</p><p id="06cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不应该有过多的否定算子。否定对我们的大脑来说很难，所以我们应该尽可能地避免它们。</p><p id="fc2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，如果我们有双重否定，那么我们应该把它们转换成非否定的条件表达式。</p><p id="3319" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，三元表达式不应该嵌套。嵌套的三元表达式很难读懂。</p><h1 id="a52c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">简明英语团队的笔记</strong></h1><p id="a5d5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？你可以在我们的主页<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> plainenglish.io </strong> </a>找到所有这些内容——关注我们的出版物并<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">来表达你的爱吧！</strong></p></div></div>    
</body>
</html>