<html>
<head>
<title>How to Create Animated Cards with WebGL and Three.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用WebGL和Three.js创建动画卡片</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/apple-music-like-cards-with-webgl-6256de5aa32?source=collection_archive---------5-----------------------#2020-12-15">https://javascript.plainenglish.io/apple-music-like-cards-with-webgl-6256de5aa32?source=collection_archive---------5-----------------------#2020-12-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/27d23d88789209c1c3ee269e85961575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4p2RiFXSfS1V2WuMxRBkXw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The effect we will be achieving in this tutorial.</figcaption></figure><p id="b715" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">苹果最近开始在Apple Music上推出有吸引力的动画卡片。像这样的动画和效果确实推动了网站的参与，并最终导致更多的转化。</p><p id="c81f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我<strong class="kb io">本教程将涵盖掌握这种效果的要点。</strong></p><p id="e302" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><a class="ae kx" href="https://codepen.io/smpnjn/pen/mdrWPpK" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io">链接到CodePen演示</strong> </a></p><h1 id="fc81" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">第一步。三个。射流研究…</h1><p id="9c9a" class="pw-post-body-paragraph jz ka in kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ig bi translated">正如我在WebGL上做的许多教程一样，我们将使用三个。JS来达到这个效果。我们将使用的过程看起来有点像这样:</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/ce140479353b06bd66a1d34db67f89e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ta-oeBl_SafEpmli13YwRg.png"/></div></div></figure><p id="4e89" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">一旦我们导入了Three.js，我们就在js中设置好了一切。这里要注意的关键点是统一变量，这些变量可以被改变，并立即导致WebGL渲染的改变。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="6bc6" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">第二步。着色器</h1><p id="1770" class="pw-post-body-paragraph jz ka in kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ig bi translated">在我们的代码中，我们目前有一个平面表，当我们在浏览器中加载它时，它只会显示为一个平面表。该表由许多顶点组成，这也是在我们的Javascript中决定的(顶点是我们创建几何图形时的参数之一)。<strong class="kb io">着色器调整我们在Javascript中创建的每个顶点的形状，并且是用类似c的语言编写的。</strong></p><p id="8d57" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">为了创造折叠效果，<strong class="kb io">我们需要改变纸张，使其自身弯曲并折叠</strong>。我们还需要调整颜色，使纸张的某些部分比其他部分更暗。因为我们可以更新传递给着色器的变量，所以我们可以添加自定义悬停效果:</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mi mh l"/></div></figure><p id="d17d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">WebGL中只有两种着色器——顶点和片段，分别控制<em class="mj">位置</em>和<em class="mj">颜色</em>。对于我们的顶点着色器，我们将沿着z轴调整该点，因此它在某些点上升并像一张纸一样折叠。我们还将添加一些随机定位到x和y轴，使用噪声。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">vUv refers to the position of the vertex, so vUv.x is [x], vUv.xx is [x, x], etc.</figcaption></figure><p id="ca4e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">对于我们的片段着色器，我们将混合Javascript中定义的低颜色和高颜色，并根据我们在顶点着色器中使用mix()函数创建的z轴移动来显示它们。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="a734" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">第三步。旋转木马</h1><p id="6a7b" class="pw-post-body-paragraph jz ka in kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ig bi translated">我们希望我们的旋转木马既是可滚动的，也是可拖动的。为此，我们需要参与4种不同类型的活动:</p><ul class=""><li id="4652" class="mk ml in kb b kc kd kg kh kk mm ko mn ks mo kw mp mq mr ms bi translated"><strong class="kb io">指针向下</strong> —用户点击了转盘</li><li id="fe77" class="mk ml in kb b kc mt kg mu kk mv ko mw ks mx kw mp mq mr ms bi translated"><strong class="kb io"> pointerup </strong> —用户已经完成拖动</li><li id="56dc" class="mk ml in kb b kc mt kg mu kk mv ko mw ks mx kw mp mq mr ms bi translated"><strong class="kb io">指针移动</strong> —用户正在拖动旋转木马</li><li id="5e62" class="mk ml in kb b kc mt kg mu kk mv ko mw ks mx kw mp mq mr ms bi translated"><strong class="kb io">滚轮</strong> —用户在转盘中滚动</li></ul><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="0cac" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">完整！</h1><p id="4cfe" class="pw-post-body-paragraph jz ka in kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv kw ig bi translated">完整的代码可以通过下面的链接查看。通过本教程，很容易看到如何开始利用WebGL使您的最新项目更具交互性。希望你喜欢这个教程，看看下面的源代码:</p><ul class=""><li id="6171" class="mk ml in kb b kc kd kg kh kk mm ko mn ks mo kw mp mq mr ms bi translated"><a class="ae kx" href="https://codepen.io/smpnjn/pen/mdrWPpK" rel="noopener ugc nofollow" target="_blank"> CodePen演示</a></li><li id="69c0" class="mk ml in kb b kc mt kg mu kk mv ko mw ks mx kw mp mq mr ms bi translated"><a class="ae kx" href="https://github.com/smpnjn/webgl-apple-cards" rel="noopener ugc nofollow" target="_blank"> Github回购</a></li><li id="0136" class="mk ml in kb b kc mt kg mu kk mv ko mw ks mx kw mp mq mr ms bi translated"><a class="ae kx" href="https://twitter.com/smpnjn" rel="noopener ugc nofollow" target="_blank">在推特上关注更多</a></li></ul></div></div>    
</body>
</html>