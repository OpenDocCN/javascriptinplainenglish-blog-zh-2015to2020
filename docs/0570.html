<html>
<head>
<title>Making Your React App Multilingual With Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用普通的JavaScript让你的React应用程序多语言化</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/making-your-react-app-multilingual-with-vanilla-javascript-6979937e7ede?source=collection_archive---------4-----------------------#2019-11-10">https://javascript.plainenglish.io/making-your-react-app-multilingual-with-vanilla-javascript-6979937e7ede?source=collection_archive---------4-----------------------#2019-11-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="67c0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用选择模式支持编写自己的i18n服务</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/97c999c5b76bf1a3ce10f5ec496b8798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjsNEq0zRogXwlUw_CYnLg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@flowforfrank?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae kv" href="/@flowforfrank?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://www.webtips.dev/making-your-react-app-multilingual-with-vanilla-javascript"><div class="gh gi kw"><img src="../Images/c19cb3069af1beba3c93258d9fcfe139.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*-PVzecNs3s4ZbJsdsgIsGA.png"/></div></a></figure><p id="9406" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在过去，把你的网站变成多语言天堂是一件痛苦的事情。如果您想在不重新加载页面的情况下进行翻译，您必须付出额外的努力。</p><p id="bc53" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">幸运的是，现在我们有很多选择。每周都会出现新的库，没有一个框架是你找不到特定工具的。</p><p id="dbc8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">然而，本教程不是关于如何使用一个已经存在的。我们将看看幕后，看看我们如何实现我们自己的本地化服务，根据我们自己的需求定制，没有任何外部依赖。</p><p id="056c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">你唯一需要的是一个React应用程序和一些业余时间。所以不要再浪费时间了，让我们开始吧。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="2ab2" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">自举反应</h1><p id="468f" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">为了避免从头构建一个React应用程序，但仍然从一开始就涵盖所有内容，我决定使用<a class="ae kv" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>。要引导应用程序，运行<code class="fe mx my mz na b">npx create-react-app i18n</code>，其中i18n将是文件夹的名称。npx自带NPM 5.2以上版本，所以你应该已经有了。</p><p id="a1fe" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果你已经全局安装了<code class="fe mx my mz na b">create-react-app</code>，用<code class="fe mx my mz na b">uninstall -g create-react-app</code>卸载它，确保npx使用最新版本。</p><p id="1509" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">运行<code class="fe mx my mz na b">npm run start</code>应该会显示以下内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/2a9a8f456c6c6d18c1242040694e0177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVb6hR-o7ctd7fLKERt6Bw.png"/></div></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="a29c" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">创建服务</h1><p id="197e" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">让我们从添加一些文件夹和文件来概述项目结构开始。为了保持事物的分离，我为这项服务创建了一个新文件夹，并将其命名为<code class="fe mx my mz na b">localizationService</code>。我还添加了一个<code class="fe mx my mz na b">i18n</code>文件夹，它将保存所有的本地化密钥，每种语言都在它自己的独立文件中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/2a7a887a0f6180004e3d5b3286914a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*sJ4f1VT-c8NAmuLhXAoTeA.png"/></div></figure><p id="2ef2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">每个语言文件将导出一个包含应用程序中使用的所有字符串的对象:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a7f8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在组件内部，我们希望使用这样的插值键:<code class="fe mx my mz na b">{i18n('learnReact')}</code>将解析为“Learn React”，以防网站以英文显示。如果加载了<code class="fe mx my mz na b">hu.js</code>，将显示匈牙利语翻译。</p><p id="da1f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">因此，首先，我们需要将语言文件导入服务。我们可以创建一个包含所有语言的对象，我们希望确保向窗口公开这些键。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="b0d2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我还添加了一个<code class="fe mx my mz na b">defaultLanguage</code>变量来检查浏览器的语言。如果是英语，我们用英语值填充<code class="fe mx my mz na b">i18nData</code>，否则我们退回到匈牙利语。</p><p id="7d3c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了获得给定键的本地化值，我们可以添加<code class="fe mx my mz na b">i18n</code>函数。最简单的形式是，它的唯一目的是根据提供的键返回字符串:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="51e7" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">在组件中使用服务</h1><p id="5b20" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">为了检查运行中的服务，我在“Learn React”链接下添加了两个新按钮，它们将用于切换语言:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="7960" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">点击图片将调用<code class="fe mx my mz na b">changeLanguage</code>方法，我们传入<code class="fe mx my mz na b">data-language</code>来决定激活哪种语言。然后，我们需要重新呈现组件，以使更改可见。</p><p id="9ad8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，我们的<code class="fe mx my mz na b">App</code>是一个无状态的功能组件，所以我们不能访问用于强制重新呈现的<code class="fe mx my mz na b">this.forceUpdate</code>。要解决这个问题，将您的<code class="fe mx my mz na b">App</code>函数转换成一个类，然后我们可以添加<code class="fe mx my mz na b">changeLanguage</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="eb99" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">此外，导入本地化服务以在组件内部使用它。我们还没有定义<code class="fe mx my mz na b">window.changeLanguage</code>，所以让我们回到<code class="fe mx my mz na b">localizationService</code>并用下面的函数扩展它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="1605" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们简单地将<code class="fe mx my mz na b">i18nData</code>重新分配给作为参数传递的语言。要在组件中试用它，请将“Learn React”替换为{i18n('learnReact')}。</p><p id="32ce" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果您使用create-react-app引导应用程序，ESLint将因使用未定义的变量而引发错误。要正确配置它，您可以运行<code class="fe mx my mz na b">npm run eject</code>来访问配置文件，并在您的<code class="fe mx my mz na b">.eslintrc</code>文件中的<code class="fe mx my mz na b">globals</code>内添加一个规则:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="36fb" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">或者让它立即消失而不弹出，只需在文件的顶部添加下面一行:</p><pre class="kg kh ki kj gt nf na ng nh aw ni bi"><span id="96e0" class="nj mb iq na b gy nk nl l nm nn"><em class="no">/* global i18n */</em></span></pre><p id="1bf9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您现在可以调用<code class="fe mx my mz na b">changeLanguage</code>来更改<code class="fe mx my mz na b">i18nData</code>中的翻译。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/92831f3b622ea7bbbd8cca5c1515802f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*Ti7rJDlXoXzq13bpbGKuaQ.png"/></div></figure><p id="5e1f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">结合强制更新，它将触发一个重新招标，使网站改变语言。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/751123a28a4bb2a5b29ef2cd735553ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LRiHZwEktH6KMlGbqmwv7Q.gif"/></div></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="8c73" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">添加参数支持</h1><p id="f17e" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">现在，这个服务是非常基本的，它只能返回静态字符串。但是如果我们想要有参数呢？假设我们有一个显示天气状况的字符串，我们有下面的字符串:“今天是32度”。显然它并不总是32°C，它可以改变，所以我们最好将它作为参数传递，例如:{i18n('weatherCondition '，32)}</p><p id="8a5e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了检测将参数注入字符串的位置，我们需要一个特殊的插值语法。大多数模板引擎使用花括号，所以我们可以遵循这个惯例。为了允许插入多个参数，我们还可以从0开始对它们进行编号，因此我们可以用{0}、{1}、{2}等来表示参数。</p><p id="e458" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了继续上面的例子并把所有的东西放在一起，我们将把语言文件中的字符串写成“Today it's {0} degrees ”,其中{0}将代表第一个参数，并将被传递给i18n函数的变量所替换。</p><p id="9985" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">记住上面提到的一切，我们可以用以下几行扩展本地化服务:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e3c6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们的i18n函数现在接受第二个参数:<code class="fe mx my mz na b">params</code>。如果没有传递参数，我们使用初始的解决方案:<code class="fe mx my mz na b">return window.i18nData[key]</code>。如果我们有一个参数，<em class="no">(我们需要显式地检查0，否则If将被评估为false) </em>我们创建一个名为<code class="fe mx my mz na b">i18nKey</code>的新变量，这是我们将返回的内容。</p><p id="8b49" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">开始时，它的值将是我们从<code class="fe mx my mz na b">i18nData</code>得到的空字符串。为了转换它，我们需要首先检查我们传入的<code class="fe mx my mz na b">params</code>是否是一个对象，因为我们可以有多个参数传入，最好是作为一个数组。如果只有一个值，我们可以用传递给函数的参数替换{0}。否则，我们遍历数组，用传递给函数的值替换每个值。</p><p id="6857" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了进行测试，向语言文件添加一个新的键:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="087f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">并在组件内部调用它来查看它的解析。它还可以处理多个参数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="3509" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">添加选择模式支持</h1><p id="62a3" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">它开始变得完整，但是如果我们有一个更复杂的翻译呢？考虑以下情况:我们希望显示用户何时更新了他们的设置，因此我们有一个本地化键，上面写着:“x天前更新”。基于参数，该字符串可以有多个变量，可以是:</p><ul class=""><li id="1d4c" class="nr ns iq kz b la lb ld le lg nt lk nu lo nv ls nw nx ny nz bi translated">1天前更新</li><li id="1f7d" class="nr ns iq kz b la oa ld ob lg oc lk od lo oe ls nw nx ny nz bi translated">10天前更新</li></ul><p id="9623" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">根据天数的不同，单词“day”可以有多种形式。这就是选择模式发挥作用的地方。让我们再次从示例字符串开始，看看我们希望如何在语言文件中编写模式:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="6324" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们把所有东西都放在花括号里，我们可以用单词“choice”来表示一个选择模式，后面跟一个参数。在标签之间，我们可以用一个数字定义一个操作符，后面跟着要使用的单词，例如:</p><ul class=""><li id="de05" class="nr ns iq kz b la lb ld le lg nt lk nu lo nv ls nw nx ny nz bi translated">如果参数小于或等于1，我们使用单词“日”</li><li id="9a56" class="nr ns iq kz b la oa ld ob lg oc lk od lo oe ls nw nx ny nz bi translated">如果它大于1，我们使用“天”这个词</li></ul><p id="fe9a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们可以通过将它们连接在一起来定义更多的变化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/4c1ec83c618642bf960a613174646699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QjvM84kvXzWrCEzVaIcqKw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The structure of the choice pattern visualized</figcaption></figure><p id="8c57" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了识别这种模式，我们必须使用正则表达式。如果你不熟悉正则表达式，我有一篇关于这个主题的文章，你可以点击<a class="ae kv" href="https://www.webtips.dev/understanding-regular-expressions-in-javascript" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="6e07" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">用下面的if语句扩展i18n函数将使选择模式成为可能:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ac12" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了分解它，我们有两个正则表达式；一个用于选择模式，一个用于其中的选择。如果我们有一个匹配，我们创建一些变量:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f24e939b5d6dd5be70e4f6cc9de3483f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*zlaSuHyCSwghQtQjdgFf1Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">DecisionMaker is the parameter passed into the function, while numbers is the number to check against</figcaption></figure><p id="2fec" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们想从选择模式中得到单词的正确形式。为此，我们循环遍历第21行的单词，并在它们对应的操作符之间切换。如果传递给函数的数字基于<code class="fe mx my mz na b">operator</code>和它后面的数字产生一个真值，我们给它分配一个新的索引。</p><p id="46bd" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">最后，在第32行，我们用传递的参数替换选择模式，并用空格将单词连接在一起。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="804d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果您将这个新段落添加到组件中，您将看到choice模式在起作用。将1改为10也会将“日”改为“天数”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/ad1fdc51cd17943b0d4ad89c4a5a35f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bsVJ0D462by3Qk4C2yoflw.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Choice pattern in action: I’m changing the param while hot reloading is active</figcaption></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="8857" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">可能的改进</h1><p id="68fb" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">这是预期的工作，我们可以用它生成一些非常复杂的翻译，但作为一切，这也可以进一步改进。为了给你一些建议，你可以:</p><ul class=""><li id="e06b" class="nr ns iq kz b la lb ld le lg nt lk nu lo nv ls nw nx ny nz bi translated">将语言迁移到后端，只请求网站上使用的语言。这样可以避免在客户端引入所有语言。</li><li id="d084" class="nr ns iq kz b la oa ld ob lg oc lk od lo oe ls nw nx ny nz bi translated">为了避免污染全局名称空间，请将本地化服务公开的每个函数放入一个容器对象中</li><li id="a7df" class="nr ns iq kz b la oa ld ob lg oc lk od lo oe ls nw nx ny nz bi translated">选择模式只能接受单个单词，添加对句子的支持</li></ul><p id="6c59" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">总结一下，我们可以看到，处理本地化并不是一件神奇的事情，了解了关键概念，您就可以轻松地实现自己的版本，并且具有接触边界之外的用户的优势。🌍</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://medium.com/@ferencalmasi/membership"><div class="gh gi oh"><img src="../Images/e66c4cd6d9849ac0bd245f3fc39b65c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hZ9xuLqLkbqUG65sgVB3gg.png"/></div></a></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="http://webtips.dev/"><div class="gh gi kw"><img src="../Images/b0d8e0a0c2689a59aa62a677429b83b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*_QOx8lB1bc1rVmMjWQ3Yfw.png"/></div></a></figure></div></div>    
</body>
</html>