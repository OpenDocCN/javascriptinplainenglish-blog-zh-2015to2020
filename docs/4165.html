<html>
<head>
<title>What’s the hype about GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL有什么好宣传的</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/whats-the-hype-about-graphql-dc48614bf635?source=collection_archive---------4-----------------------#2020-11-21">https://javascript.plainenglish.io/whats-the-hype-about-graphql-dc48614bf635?source=collection_archive---------4-----------------------#2020-11-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f3a6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated"><em class="kc">graph QL初学者入门</em></h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/38073def40bd6e784f930a9e82aad03d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8D2RLmCDdQAr3DlI"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Photo by <a class="ae kt" href="https://unsplash.com/@michaelwb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Michael Browning</a> on <a class="ae kt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="b0fd" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">为什么我们首先需要它</h2><p id="4f62" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">从前有一篇学术论文告诉我们API“应该”如何设计，因为我们喜欢一致性，所以它成了创建它们的正式方式。</p><p id="30a0" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">到那时，我们应该感到休息得很好，但事实证明休息并不十分安宁。</p><h2 id="8371" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">休息的问题</h2><p id="ac6f" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">如果您在知道每个资源都应该有自己的端点之前使用过Rest规则。</p><p id="e850" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">例如，如果我们有小狗和玩具，我们必须让小狗穿上:<code class="fe mo mp mq mr b">/api/puppies</code></p><p id="45c2" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">如果我们想要玩具，我们就必须找到它们:<code class="fe mo mp mq mr b">/api/toys</code></p><p id="e5ca" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">现在想象这样一个场景，我们想要得到一只小狗的玩具，类似地，我们将获取端点:<code class="fe mo mp mq mr b">/api/puppies/1</code></p><p id="2342" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">但是我们想要玩具，为什么我们会收到小狗的性别和其他我们不关心的信息？</p><p id="f4e0" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">另一个场景是当我们想要得到两个对象时，我们必须向服务器发送两个请求。</p><p id="6357" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">您可能已经注意到在Rest模式中有一点冗余<strong class="ls io"/>。</p><h2 id="52b0" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">GraphQL如何取代REST</h2><p id="d24a" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">在更大的范围内，尤其是在facebook，他们注意到这种做事方式并不是很有成效，所以他们不得不采取行动来克服RESTful风格API的所有缺陷。</p><p id="7334" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">GraphQL来拯救我们了，下面是它的样子:</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="72bf" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">就是这样，不多也不少，你只要求你在乎的，忘记其他的。</p><h2 id="f9ad" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">什么是GraphQL</h2><p id="0008" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">GraphQL是一个很长的规范文档，它描述了一种声明式查询语言，您的客户可以使用这种语言向API请求他们想要的确切数据。</p><h2 id="6fdb" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">魔术背后的方法</h2><p id="cbde" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">GraphQL的总体情况由以下元素构成:</p><ul class=""><li id="58bf" class="mu mv in ls b lt mj lw mk ld mw lh mx ll my mi mz na nb nc bi translated">Schema:它负责指定一组<strong class="ls io">类型</strong>，您将允许您的客户机查询这些类型。</li><li id="2f88" class="mu mv in ls b lt nd lw ne ld nf lh ng ll nh mi mz na nb nc bi translated">解析器:它负责指定如何获取客户机查询的数据</li></ul><h2 id="cb8c" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">整体情况</h2><p id="2f4d" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">如前所述，GraphQL只是一个规范，因此我们需要实现来使用它。</p><p id="e5d8" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">您可以自己实现，也可以使用用户领域中最好的实现之一。</p><p id="126a" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">客户端:在客户端，您所关心的是指定您想要在查询中获得的数据，并做一些<strong class="ls io">缓存</strong>，我们将在接下来的文章中讨论。</p><p id="4caf" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">服务器端:这是所有工作开始的地方，</p><p id="0483" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">首先，您在服务器上指定模式，它应该如下所示:</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="17d0" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">查询类型包含您允许您的客户端查询的所有内容，在我们的示例中，我们允许客户端查询Puppy，该查询应该返回Puppy类型的元素数组，bang表示每个元素的返回值应该显式为Puppy类型。</p><p id="97ce" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">其次，现在我们有了需要指定如何解析该模式类型的模式，解析器应该如下所示:</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="8c2d" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">您可以将解析器视为MVC模式中类似控制器的东西。</p><p id="fe44" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">解析器顾名思义就是解析数据。</p><p id="162a" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">因为GraphQL是强类型的，所以解析器的结果将根据客户端请求的字段类型进行验证。</p><h2 id="a7d1" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">你应该知道的事情</h2><p id="1490" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">GraphQL有标量类型:String、Int、Boolean、Float、ID。</p><ol class=""><li id="32d0" class="mu mv in ls b lt mj lw mk ld mw lh mx ll my mi ni na nb nc bi translated">标量被称为叶节点，这意味着GraphQL将继续解析返回值，直到找到标量。</li><li id="f00c" class="mu mv in ls b lt nd lw ne ld nf lh ng ll nh mi ni na nb nc bi translated">除了查询类型之外，还有两种其他类型:允许执行创建新元素或更新现有元素等操作的变化，订阅是GraphQL实时获取数据的方法。</li><li id="54ec" class="mu mv in ls b lt nd lw ne ld nf lh ng ll nh mi ni na nb nc bi translated">解析器接收三个主要参数，其父类型的结果、由客户端传递给查询的参数、上下文、信息。要更深层次地理解解析器，请查阅这篇精彩的文章。</li></ol><div class="nj nk gp gr nl nm"><a href="https://medium.com/paypal-engineering/graphql-resolvers-best-practices-cd36fdbcef55" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd io gy z fp nr fr fs ns fu fw im bi translated">GraphQL解析器:最佳实践</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">GraphQL解析器可能很容易构建，但很难做好。以下是PayPal在以下方面的最佳实践……</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">medium.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa kn nm"/></div></div></a></div><h2 id="947b" class="ku kv in bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">GraphQL与Rest的现实</h2><p id="c536" class="pw-post-body-paragraph lq lr in ls b lt lu jo lv lw lx jr ly ld lz ma mb lh mc md me ll mf mg mh mi ig bi translated">尽管GraphQL看起来很神奇，但它也有陷阱。</p><p id="9c02" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">GraphQL和Rest不应该作为“非此即彼”或“或”的主语来比较，这取决于用例。</p><p id="8c17" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">为了更实际地比较这些，请查阅本文:</p><div class="nj nk gp gr nl nm"><a href="https://phil.tech/2017/graphql-vs-rest-overview/" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd io gy z fp nr fr fs ns fu fw im bi translated">GraphQL与REST:概述</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">几个月前，我为Smashing杂志写了一篇RPC和REST的比较，现在我想谈谈…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">菲尔科技</p></div></div><div class="nv l"><div class="ob l nx ny nz nv oa kn nm"/></div></div></a></div><p id="0d0a" class="pw-post-body-paragraph lq lr in ls b lt mj jo lv lw mk jr ly ld ml ma mb lh mm md me ll mn mg mh mi ig bi translated">这是对GraphQL的简单介绍。敬请关注关于这个话题的更多细节，黑客快乐！</p></div></div>    
</body>
</html>