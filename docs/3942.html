<html>
<head>
<title>Vue 3 — Basic Transitions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3 —基本过渡</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-3-basic-transitions-56d4d08cde8a?source=collection_archive---------17-----------------------#2020-11-04">https://javascript.plainenglish.io/vue-3-basic-transitions-56d4d08cde8a?source=collection_archive---------17-----------------------#2020-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1d0616d5c44b24d0f6168570f2055795.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VAeZUs8eqzJyHiAr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mitchorr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mitchell Orr</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c82b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> Vue 3处于测试阶段，可能会有变化。</strong></p><p id="d5d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue 3是Vue前端框架的最新版本。</p><p id="1584" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它建立在Vue 2的普及性和易用性之上。</p><p id="577f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何用Vue 3添加过渡。</p><h1 id="4c37" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">过渡</h1><p id="3f16" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用各种组件向我们的Vue应用添加过渡</p><p id="fff8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">transition</code>组件帮助我们添加由<code class="fe me mf mg mh b">v-if</code>触发的进入和离开转换。</p><p id="5002" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">过渡模式让我们改变过渡的顺序。</p><p id="4e65" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以用<code class="fe me mf mg mh b">transition-group</code>组件添加多个组件的过渡。</p><p id="5aa8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">watchers</code>在一个app里过渡到不同的状态。</p><h1 id="8493" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">基于类别的动画和过渡</h1><p id="b1c5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过绑定到一个类来添加转换。</p><p id="032f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e44b" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>    &lt;style&gt;<br/>      .shake {<br/>        animation: shake 1s cubic-bezier(0.31, 0.07, 0.39, 0.97) both;<br/>        transform: translate3d(0, 0, 0);<br/>        backface-visibility: hidden;<br/>        perspective: 1000px;<br/>      }</span><span id="ac00" class="mq lc iq mh b gy mv ms l mt mu">      @keyframes shake {<br/>        10%,<br/>        90% {<br/>          transform: translate3d(-1px, 0, 0);<br/>        }</span><span id="0ece" class="mq lc iq mh b gy mv ms l mt mu">        20%,<br/>        80% {<br/>          transform: translate3d(2px, 0, 0);<br/>        }</span><span id="334c" class="mq lc iq mh b gy mv ms l mt mu">        30%,<br/>        50%,<br/>        70% {<br/>          transform: translate3d(-4px, 0, 0);<br/>        }</span><span id="abd0" class="mq lc iq mh b gy mv ms l mt mu">        40%,<br/>        60% {<br/>          transform: translate3d(4px, 0, 0);<br/>        }<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;div :class="{ shake: on }"&gt;<br/>        &lt;button @click="on = !on"&gt;toggle&lt;/button&gt;<br/>        &lt;p v-if="on"&gt;hello world!&lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({<br/>        data() {<br/>          return {<br/>            on: false<br/>          };<br/>        }<br/>      });<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="b106" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为我们的div添加抖动过渡效果。</p><p id="8f95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">translate3d</code>来添加左右摇晃，</p><p id="9b27" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">负是左，正是右。</p><p id="9e0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">shake</code>类有<code class="fe me mf mg mh b">shake</code>过渡。</p><p id="e389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">cubic-bezier</code>是缓动功能，使过渡非线性。</p><p id="e91a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">transform</code>将div保持在原位。</p><p id="7b86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当<code class="fe me mf mg mh b">on</code>为<code class="fe me mf mg mh b">true</code>时，我们应用<code class="fe me mf mg mh b">shake</code>类，因此当我们单击切换按钮将<code class="fe me mf mg mh b">on</code>设置为<code class="fe me mf mg mh b">true</code>时，我们将看到元素抖动。</p><h1 id="33b1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">带有样式绑定的过渡</h1><p id="f3c8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们还可以添加带有样式绑定的过渡。</p><p id="1398" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9fde" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;script src="https://unpkg.com/vue@next"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;div<br/>        @mousemove="onMouseMove"<br/>        :style="{ backgroundColor: `rgb(${x}, 80, 50)` }"<br/>        class="movearea"<br/>      &gt;<br/>        &lt;p&gt;x: {{x}}&lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;script&gt;<br/>      const app = Vue.createApp({<br/>        data() {<br/>          return {<br/>            x: 0<br/>          };<br/>        },<br/>        methods: {<br/>          onMouseMove(e) {<br/>            this.x = e.clientX;<br/>          }<br/>        }<br/>      });<br/>      app.mount("#app");<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="2f89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当鼠标移动时，就会调用<code class="fe me mf mg mh b">onMouseMove</code>方法。</p><p id="b731" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将获得鼠标的x坐标，并将其设置为<code class="fe me mf mg mh b">this.x</code>状态。</p><p id="d81e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe me mf mg mh b">x</code>通过改变<code class="fe me mf mg mh b">rgb</code>的第一个值来设置背景色。</p><p id="5089" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我们移动鼠标时，背景颜色会发生变化。</p><h1 id="ce13" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">表演</h1><p id="ad66" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">CSS动画比使用JavaScript改变元素的位置有更好的性能。</p><p id="568e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每次用JavaScript重绘都是一个昂贵的操作，所以我们尽可能地消除它们。</p><p id="3585" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CSS动画也更快，因为浏览器有硬件加速功能。</p><p id="fc1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">类似<code class="fe me mf mg mh b">perspective</code>、<code class="fe me mf mg mh b">backface-visibility</code>和<code class="fe me mf mg mh b">transform: translateZ(x)</code>的属性将触发浏览器的硬件加速功能。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/368c7b4f4af87924b1c90ec9f37ffc36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*avDXsrK6gVAl5ULz"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@worldsbetweenlines?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Patrick Hendry</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bdc9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="03c4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Vue让我们用CSS和类或样式绑定来激活我们的元素。</p><p id="b1d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码获得更多类似内容，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>