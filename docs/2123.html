<html>
<head>
<title>JavaScript Code Styling Best Practices — If’s and Mixing Characters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript代码样式化最佳实践— If和混合字符</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-code-styling-best-practices-ifs-and-mixing-characters-64ee8141164a?source=collection_archive---------8-----------------------#2020-05-21">https://javascript.plainenglish.io/javascript-code-styling-best-practices-ifs-and-mixing-characters-64ee8141164a?source=collection_archive---------8-----------------------#2020-05-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/82274de991aa07d763e864cb586da985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QwO3AuxOOIH_7qAo"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jeromeheuze?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jerome Heuze</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d3c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="02c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看<code class="fe lb lc ld le b">else</code>块中的<code class="fe lb lc ld le b">if</code>块、混合运算符、混合空格和制表符以及多重赋值。</p><h1 id="e2fe" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">Lone if</code>语句出现在<code class="fe lb lc ld le b">else</code>块中</h1><p id="f8bf" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">else</code>块中单独的<code class="fe lb lc ld le b">if</code>语句可以被重写为<code class="fe lb lc ld le b">else if</code>块。</p><p id="ba48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可能不需要在一个<code class="fe lb lc ld le b">else</code>块中有一个单独的<code class="fe lb lc ld le b">if</code>块。</p><p id="ece1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有以下代码:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="5c4a" class="mq lg iq le b gy mr ms l mt mu">if (a) {<br/>  // ...<br/>} else {<br/>  if (b) {<br/>    // ...<br/>  }<br/>}</span></pre><p id="b25b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么它应该重写为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9852" class="mq lg iq le b gy mr ms l mt mu">if (a) {<br/>  // ...<br/>} else if (b) {<br/>    // ...<br/>}</span></pre><p id="261a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它比第一个例子中的更短，更简洁。在阅读代码时，嵌套更少，混乱也更少。嵌套代码总是比非嵌套代码更令人困惑。</p><p id="020b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果我们有比<code class="fe lb lc ld le b">else</code>块中的<code class="fe lb lc ld le b">if</code>块更多的代码，那么将唯一的<code class="fe lb lc ld le b">if</code>块放在<code class="fe lb lc ld le b">else</code>块中也没问题。</p><h1 id="0dd8" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">没有括号的不同布尔运算符的混合</h1><p id="8344" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">如果我们有复杂的布尔表达式，那么我们应该用括号把它们括起来，以消除我们要做的事情的歧义。</p><p id="13e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下代码:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="160d" class="mq lg iq le b gy mr ms l mt mu">const foo = a &amp;&amp; b || c &amp;&amp; d;</span></pre><p id="910f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这很令人困惑，因为我们不知道如何将表达式中的运算分隔开，并组合成一个表达式。</p><p id="3768" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相反，我们应该编写带括号的布尔表达式，如下所示:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="beb4" class="mq lg iq le b gy mr ms l mt mu">const foo = (a &amp;&amp; b) || (c &amp;&amp; d);</span></pre><p id="24cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们知道先计算<code class="fe lb lc ld le b">a &amp;&amp; b</code>和<code class="fe lb lc ld le b">c &amp;&amp; d</code>。然后使用<code class="fe lb lc ld le b">||</code>操作符将每个返回的结果组合起来。</p><p id="b3eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这也适用于与其他布尔运算符结合使用的三元运算符。</p><p id="b539" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下代码:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="32d5" class="mq lg iq le b gy mr ms l mt mu">const foo = a &amp;&amp; b ? 'foo' : 'bar';</span></pre><p id="1b7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后很难找到布尔表达式的结束和三元运算的开始。</p><p id="0f1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使上面的代码更清楚，我们应该将布尔表达式放在括号内，如下所示:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="776f" class="mq lg iq le b gy mr ms l mt mu">const foo = (a &amp;&amp; b) ? 'foo' : 'bar';</span></pre><h1 id="7182" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">没有混合空格和制表符缩进</h1><p id="948d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">混合空格和制表符是不好的。当我们在不同的操作系统中更改文件时，它会使文本编辑器混乱，并可能产生问题。</p><p id="8a67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">空格字符更好，因为它们在大多数操作系统上都是一样的。</p><p id="0265" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，选项卡可能在不同的操作系统中呈现不同的效果。</p><p id="211c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时制表符是4个空格，有时是2个空格，这取决于文本编辑器或操作系统。</p><p id="c38f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该坚持在每个地方缩进两个空格，这样我们在不同的操作系统中使用文件就不会有问题。</p><p id="8c8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想节省打字，我们可以在许多文本编辑器中自动将制表符改为空格。然后，当我们按tab键时，如果我们将其配置为将制表符更改为2个空格，我们会得到2个空格。</p><h1 id="7a75" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">不要链接赋值表达式</h1><p id="2c16" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">对于许多人来说，赋值表达式链接是JavaScript的一个令人困惑的特性。</p><p id="0893" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的赋值链:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="5ad4" class="mq lg iq le b gy mr ms l mt mu">const a = b = 0;<br/>b = 1;</span></pre><p id="f3b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到0和1，因为<code class="fe lb lc ld le b">b</code>不是常数。正如我们所看到的，代码是欺骗性的。</p><p id="9e36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在一行中编写多个赋值表达式的便利性并没有超过它所带来的混乱。</p><p id="ebd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们要么把赋值表达式写在不同的行里，要么用逗号写多个赋值。</p><p id="54b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下代码:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="4ebf" class="mq lg iq le b gy mr ms l mt mu">const a = 0,<br/>  b = 0;</span></pre><p id="bb2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe lb lc ld le b">a</code>和<code class="fe lb lc ld le b">b</code>都被声明为常量。</p><p id="612b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">即使我们将它们放在多行中，它仍然是好的，因为它使代码更加清晰:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="0d05" class="mq lg iq le b gy mr ms l mt mu">const a = 0;<br/>const b = 0;</span></pre><p id="96f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们知道<code class="fe lb lc ld le b">a</code>和<code class="fe lb lc ld le b">b</code>都是常量，因为有了<code class="fe lb lc ld le b">const</code>关键字。</p><p id="8571" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以要分开申报。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/bd15bfadcdd649f61b966d6baf3f7698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PBsBdrVUv1AzWRNX"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jjying?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JJ Ying</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bfe1" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="e722" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">如果我们在一个<code class="fe lb lc ld le b">else</code>块中只有一个<code class="fe lb lc ld le b">if</code>块，那么我们应该把它们重写为一个<code class="fe lb lc ld le b">else if</code>块。</p><p id="57a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有一个布尔表达式，那么我们应该用括号把它们分开，这样我们就知道先计算哪些运算。</p><p id="f6b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">混合空格和制表符进行缩进是不好的，因为制表符在不同的操作系统或文本编辑器中可能看起来不同。为了保持缩进的一致性，我们应该使用两个空格。</p><p id="5104" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">多重赋值表达式令人困惑，因为它们看起来具有欺骗性。例如，常量没有被声明为常量。</p><h1 id="7f89" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">简明英语团队的说明</strong></h1><p id="c45a" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">你知道我们有四种出版物吗？给他们一个follow来表达爱意吧:<a class="ae kc" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="kf ir">JavaScript in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a>，<a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p><p id="e511" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还推出了一个YouTube，希望你们支持我们，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的简明英语频道</strong> </a></p><p id="e0fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一如既往,“简明英语”希望帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>并附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div></div>    
</body>
</html>