# åœ¨ç¦»å­ååº”ç”µå®¹åº”ç”¨ä¸­å®ç° AdMob

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/implement-admob-in-ionic-react-capacitor-apps-acbc382448b2?source=collection_archive---------11----------------------->

![](img/e6a412bd9d03b6fe495785518ad00404.png)

> è¿™ç¯‡æ–‡ç« æ˜¯åº”æˆ‘ä»¬æˆåƒä¸Šä¸‡çš„è¯»è€…ä¹‹ä¸€çš„ç‰¹åˆ«è¦æ±‚è€Œå†™çš„ã€‚å¦‚æœä½ æœ‰æ›´å¤šçš„è¦æ±‚ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•åœ¨ Ionic React Capacitor åº”ç”¨ä¸­å®ç° **AdMob åŠŸèƒ½ï¼Œ**å³è°·æ­Œå¹¿å‘Šã€‚æˆ‘ä»¬å°†åœ¨ä¸€ä¸ªç®€å•çš„ Ionic åº”ç”¨ç¨‹åºä¸­å®ç°è¿™ä¸€ç‚¹ï¼Œå¹¶åœ¨ iOS æ¨¡æ‹Ÿå™¨å’Œ Android è®¾å¤‡ä¸Šè¿›è¡Œæµ‹è¯•ã€‚

# ä»€ä¹ˆæ˜¯ Admobï¼Ÿ

ä¼—æ‰€å‘¨çŸ¥ï¼Œå¹¿å‘Šæ˜¯è°·æ­Œã€è„¸ä¹¦ã€æ¨ç‰¹ç­‰ç§‘æŠ€å·¨å¤´çš„ä¸»è¦æ”¶å…¥æ¥æºã€‚è°·æ­Œå¹¿å‘Šæ˜¯æœ€å—æ¬¢è¿çš„å¹¿å‘Šä¹‹ä¸€ï¼Œè°·æ­Œå¹¿å‘Šçš„ç§»åŠ¨ç‰ˆæœ¬è¢«ç§°ä¸º AdMobã€‚

![](img/57cc0eff7115d67d6738a6d2a1ecf4fc.png)

An example of Google AdMob ad. The ad is prompting user to install certain app

## AdMob å¹¿å‘Šç±»å‹

**æ¨ªå¹…**:å‡ºç°åœ¨è®¾å¤‡å±å¹•é¡¶éƒ¨&åº•éƒ¨çš„åŸºæœ¬å¹¿å‘Šæ ¼å¼ã€‚

**æ’é¡µ**:æ•´ç‰ˆå¹¿å‘Šå‡ºç°åœ¨è‡ªç„¶é—´æ–­&è¿‡æ¸¡å¤„ï¼Œæ¯”å¦‚å…³å¡å®Œæˆã€‚æ”¯æŒè§†é¢‘å†…å®¹ã€‚

**å¥–åŠ±**:æ•´é¡µå¹¿å‘Šå¥–åŠ±ç”¨æˆ·è§‚çœ‹çŸ­è§†é¢‘å¹¶ä¸å¯æ’­æ”¾çš„å¹¿å‘Šå’Œè°ƒæŸ¥äº’åŠ¨ã€‚æœ‰åˆ©äºå…è´¹æ¸¸æˆç”¨æˆ·çš„è´§å¸åŒ–ã€‚æ”¯æŒè§†é¢‘å†…å®¹ã€‚

**åŸç”Ÿ**:å¯å®šåˆ¶çš„å¹¿å‘Šæ ¼å¼ï¼Œä¸ä½ çš„åº”ç”¨çš„å¤–è§‚&ç›¸åŒ¹é…ã€‚å¹¿å‘Šä¸åº”ç”¨ç¨‹åºå†…å®¹ä¸€èµ·å‡ºç°ã€‚æ”¯æŒè§†é¢‘å†…å®¹ã€‚ç›®å‰ï¼ŒåŸç”Ÿå¹¿å‘Šåªèƒ½åœ¨åŸç”Ÿåº”ç”¨ä¸­å‡ºç°ï¼Œè€Œä¸èƒ½åœ¨åŸºäº Ionic æˆ– React Native çš„æ··åˆåº”ç”¨ä¸­å‡ºç°ã€‚

è®©æˆ‘ä»¬çœ‹çœ‹è¿™ç¯‡æ–‡ç« çš„åŸºæœ¬æ¡†æ¶ã€‚**å¦‚æœä½ ç†Ÿæ‚‰ç¦»å­å’Œç”µå®¹ï¼Œè·³è¿‡è¿™äº›éƒ¨åˆ†ï¼Œè¿›å…¥æ–‡ç« çš„ä»£ç éƒ¨åˆ†ã€‚**

# æ”¾å¼ƒ

å› ä¸ºè¿™ç¯‡æ–‡ç« æ˜¯ä¸‰ä¸ªæ¡†æ¶çš„æ··åˆä½“ï¼Œæ‰€ä»¥ä½ å¯èƒ½æ˜¯è¯¯ä¸Šäº†è¿™é‡Œã€‚å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ AdMob ç™»å½•

*   ååº”è‡ªç„¶â€”â€”è¯·æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://enappd.com/blog/implement-admob-in-react-native-with-firebase/133)
*   ç¦»å­ååº”(ç”µå®¹)åº”ç”¨â€”â€”ç»§ç»­é˜…è¯»ğŸ˜

æ­£å¦‚ä½ ä»ä¸Šé¢çœ‹åˆ°çš„ï¼Œç°åœ¨æ··åˆåº”ç”¨ç¨‹åºå¼€å‘æœ‰ä¸æ­¢ä¸€ç§é€‰æ‹©ï¼Œå¾ˆå®¹æ˜“æ··æ·†ã€‚è¿™ç¯‡æ–‡ç« å…³æ³¨çš„æ˜¯ **Ionic æ¡†æ¶**ï¼Œå…¶ä¸­ **React** ä½œä¸ºå‰ç«¯æ¡†æ¶ï¼Œ [**Capacitor**](https://capacitor.ionicframework.com/docs/) ä½œä¸ºè¿è¡Œæ—¶å’Œæ„å»ºç¯å¢ƒã€‚

> ***æœ¬æ•™ç¨‹çš„ä»£ç å¯åœ¨ Github repo***[***ionic-react-capacitor-admob***](https://github.com/enappd/ionic-react-admob)ä¸Šè·å¾—

è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¯¹æ¯ä¸ªåŒ…å«çš„æ¡†æ¶çš„ç®€è¦ä»‹ç»:

1.  ç¦»å­çš„
2.  ç”µå®¹å™¨

# ä»€ä¹ˆæ˜¯çˆ±å¥¥å°¼äºšï¼Ÿ

ä½ å¯èƒ½å·²ç»çŸ¥é“ç¦»å­ï¼Œä½†æˆ‘æŠŠå®ƒæ”¾åœ¨è¿™é‡Œåªæ˜¯ä¸ºäº†åˆå­¦è€…ã€‚ **Ionic** æ˜¯ä¸€æ¬¾æ··åˆç§»åŠ¨åº”ç”¨å¼€å‘ SDKã€‚å®ƒæä¾›äº†ä½¿ç”¨ CSSã€HTML5 å’Œ Sass ç­‰ Web æŠ€æœ¯å¼€å‘æ··åˆç§»åŠ¨åº”ç”¨ç¨‹åºçš„å·¥å…·å’ŒæœåŠ¡ã€‚æ¢å¥è¯è¯´â€”â€”å¦‚æœä½ ç”¨ Android åˆ›å»ºåŸç”Ÿåº”ç”¨ï¼Œä½ å°±ç”¨ Java ç¼–ç ã€‚å¦‚æœä½ åœ¨ iOS ä¸­åˆ›å»ºåŸç”Ÿåº”ç”¨ï¼Œä½ ç”¨ Obj-C æˆ– Swift ç¼–ç ã€‚è¿™ä¸¤ç§è¯­è¨€éƒ½æ˜¯å¼ºå¤§ä½†å¤æ‚çš„è¯­è¨€ã€‚ä½¿ç”¨ Cordova(å’Œ Ionic ),ä½ å¯ä»¥ä¸ºä½ çš„åº”ç”¨ç¼–å†™ä¸€æ®µä»£ç ï¼Œå®ƒå¯ä»¥åœ¨ iOS å’Œ Android ä¸Šè¿è¡Œã€‚)ï¼ŒHTMLã€CSS å’Œ JS çš„ç®€å•æ€§ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

å¿…é¡»æ³¨æ„ç§‘å°”å¤šç“¦/ç”µå®¹åœ¨å…¶ä¸­çš„ä½œç”¨ã€‚Ionic åªæ˜¯ä¸€ä¸ªç”± HTMLã€CSSã€JS ç»„æˆçš„ UI åŒ…è£…å™¨ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒIonic ä¸èƒ½åœ¨ iOS æˆ– Android è®¾å¤‡ä¸­ä½œä¸ºåº”ç”¨ç¨‹åºè¿è¡Œã€‚Cordova/Capacitor æ˜¯ä¸€ä¸ªæ„å»ºç¯å¢ƒï¼Œå®ƒå°è£…äº†è¿™ä¸ª Ionic web åº”ç”¨ç¨‹åºï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªå¯å®‰è£…åœ¨è®¾å¤‡ä¸Šçš„åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºæä¾›å¯¹ Camera ç­‰æœ¬åœ° API çš„è®¿é—®ã€‚

# ç”µå®¹å™¨â€”â€”å®ƒä¸ç§‘å°”å¤šç“¦æœ‰ä½•ä¸åŒï¼Ÿ

æœ¬èŠ‚ä»…é€‚ç”¨äºå·²ç»ä½¿ç”¨ Ionic / Cordova ä¸€æ®µæ—¶é—´çš„äººå‘˜ã€‚å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œç§‘å°”å¤šç“¦ä¸€ç›´æ˜¯ Ionic åº”ç”¨å¼€å‘è€…çš„å”¯ä¸€é€‰æ‹©ã€‚Cordova å¸®åŠ©å°† Ionic web app æ„å»ºæˆä¸€ä¸ªè®¾å¤‡å¯å®‰è£…çš„åº”ç”¨ç¨‹åºã€‚

> ***ç”µå®¹å™¨ä¸ Cordova éå¸¸ç›¸ä¼¼ï¼Œä½†ä¸ app å·¥ä½œæµç¨‹*** æœ‰ä¸€äº›å…³é”®åŒºåˆ«

ä»¥ä¸‹æ˜¯ Cordova å’Œ Capacitor ä¹‹é—´çš„åŒºåˆ«(åªæœ‰åœ¨æ‚¨ä¹‹å‰ä½¿ç”¨è¿‡ Cordova çš„æƒ…å†µä¸‹ï¼Œæ‚¨æ‰èƒ½ä½“ä¼šåˆ°è¿™äº›åŒºåˆ«ï¼Œå¦åˆ™æ‚¨å¯ä»¥è·³è¿‡)

1.  Capacitor å°†æ¯ä¸ªå¹³å°é¡¹ç›®è§†ä¸ºä¸€ä¸ª*æºèµ„äº§*ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª*æ„å»ºæ—¶é—´èµ„äº§*ã€‚è¿™æ„å‘³ç€ï¼ŒCapacitor å¸Œæœ›æ‚¨å°†å¹³å°æºä»£ç ä¿å­˜åœ¨å­˜å‚¨åº“ä¸­ï¼Œä¸åƒ Cordova æ€»æ˜¯å‡è®¾æ‚¨å°†åœ¨æ„å»ºæ—¶ç”Ÿæˆå¹³å°ä»£ç 
2.  ç”±äºä¸Šè¿°åŸå› ï¼ŒCapacitor ä¸ä½¿ç”¨`config.xml`æˆ–ç±»ä¼¼çš„å®šåˆ¶é…ç½®è¿›è¡Œå¹³å°è®¾ç½®ã€‚ç›¸åï¼Œé€šè¿‡ç¼–è¾‘ Android çš„`AndroidManifest.xml`å’Œ Xcode çš„`Info.plist`æ¥æ”¹å˜é…ç½®
3.  ç”µå®¹å™¨ä¸èƒ½â€œåœ¨è®¾å¤‡ä¸Šè¿è¡Œâ€æˆ–é€šè¿‡å‘½ä»¤è¡Œä»¿çœŸã€‚ç›¸åï¼Œè¿™äº›æ“ä½œæ˜¯é€šè¿‡ç‰¹å®šäºå¹³å°çš„ IDE è¿›è¡Œçš„ã€‚æ‰€ä»¥ä½ ä¸èƒ½ä½¿ç”¨åƒ`ionic run ios`è¿™æ ·çš„å‘½ä»¤æ¥è¿è¡Œç¦»å­ç”µå®¹åº”ç”¨ã€‚ä½ å¿…é¡»ä½¿ç”¨ Xcode è¿è¡Œ iOS åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ Android studio è¿è¡Œ Android åº”ç”¨ç¨‹åº
4.  ç”±äºå¹³å°ä»£ç ä¸æ˜¯*æºèµ„äº§ï¼Œ*æ‚¨å¯ä»¥ä½¿ç”¨ Xcode æˆ– Android Studio ç›´æ¥æ›´æ”¹æœ¬æœºä»£ç ã€‚è¿™ç»™äº†å¼€å‘è€…æ›´å¤šçµæ´»æ€§

æœ¬è´¨ä¸Šï¼Œç”µå®¹å™¨å°±åƒä¸€ä¸ªæ–°é²œçš„ï¼Œæ›´çµæ´»çš„ç§‘å°”å¤šç“¦ç‰ˆæœ¬ã€‚

# æ’ä»¶

Cordova å’Œ [Ionic Native](https://ionicframework.com/docs/native) æ’ä»¶å¯ä»¥åœ¨ç”µå®¹ç¯å¢ƒä¸‹ä½¿ç”¨ã€‚ç„¶è€Œï¼Œæœ‰ä¸€äº›å·²çŸ¥çš„ Cordova æ’ä»¶[ä¸ç”µå®¹å™¨ä¸å…¼å®¹ã€‚](https://capacitor.ionicframework.com/docs/cordova/known-incompatible-plugins/)å¯¹äº Admob åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[ç”µå®¹ Admob æ’ä»¶](https://github.com/rahadur/capacitor-admob)

# èŒä½ç»“æ„

æˆ‘ä»¬å°†é€æ­¥æ¢ç´¢ AdMob ç‰¹æ€§çš„å®ç°ã€‚è¿™æ˜¯æˆ‘çš„åšå®¢åˆ†è§£

**æ­¥éª¤**

1.  ç”¨ React åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ç¦»å­ç”µå®¹å™¨åº”ç”¨ç¨‹åº
2.  ç”¨ Capacitor åœ¨ Android ä¸­æ„å»ºåº”ç”¨
3.  è®¾ç½®æ‚¨çš„ AdMob å¸æˆ·
4.  å®‰è£… AdMob æ’ä»¶
5.  åœ¨ä½ çš„åº”ç”¨ä¸­å®ç°ä¸åŒç±»å‹çš„å¹¿å‘Š
6.  åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸Šæ„å»ºåº”ç”¨ç¨‹åºå¹¶è¿›è¡Œæµ‹è¯•
7.  åœ¨ Android è®¾å¤‡ä¸Šæ„å»ºåº”ç”¨ç¨‹åºå¹¶è¿›è¡Œæµ‹è¯•

æ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ï¼

![](img/2b5df1c5ab3b92f538af6276da75e877.png)

I made you laugh â€¦ didnâ€™t I ? ğŸ˜†

# æ­¥éª¤ 1 â€”ä½¿ç”¨ React åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ç¦»å­ç”µå®¹å™¨åº”ç”¨ç¨‹åº

ä» Ionic starters æœ¬èº«åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„åº”ç”¨ç¨‹åºã€‚

```
$ ionic start ionic-react-admob tabs --type=react
```

è¿™å°†åœ¨ React ä¸­åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ Ionic åº”ç”¨ç¨‹åºã€‚æˆ‘é€‰æ‹©äº†`tabs` starterï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥é’ˆå¯¹ä¸åŒçš„å¹¿å‘Šç±»å‹ä½¿ç”¨ä¸åŒçš„æ ‡ç­¾ã€‚

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ï¼Œåªæœ‰å‡ ä¸ªæŒ‰é’®ä¼šè§¦å‘å¹¿å‘Šã€‚å¯¹äºæ’æ’­å¹¿å‘Šï¼Œè¿™äº›è§¦å‘å› ç´ é€šå¸¸æ˜¯æ¸¸æˆåº”ç”¨ç¨‹åºä¸­æŸä¸ªå…³å¡çš„å®Œæˆç­‰ã€‚æ¨ªå¹…å¹¿å‘Šé€šå¸¸æ˜¯åœ¨é¡µé¢åŠ è½½æ—¶è§¦å‘çš„ã€‚æ˜¾ç¤ºå¥–åŠ±å¹¿å‘Šï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è§‚çœ‹å¹¿å‘Šè·å¾—å¥–åŠ±ã€‚

æˆ‘çš„å¹¿å‘Šé¡µé¢çš„åŸºæœ¬ç”¨æˆ·ç•Œé¢å¦‚ä¸‹æ‰€ç¤º

![](img/b03bbb5e21bfbb0c328eb969ba8b9f9b.png)

Basic UI for AdMob implementation in Ionic React Capacitor Apps â€” iOS

# ç¬¬äºŒæ­¥â€”â€”ç”¨ Capacitor åœ¨ Android ä¸­æ„å»ºåº”ç”¨ç¨‹åº

ä¸ºäº†æ„å»ºè®¾å¤‡/ä»¿çœŸå™¨çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦å°†ç”µå®¹å™¨è¿æ¥åˆ°åº”ç”¨ç¨‹åºã€‚å¥”è·‘

```
$ ionic integrations enable capacitor
```

> ***å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘æœ‰ node 12.14.0ï¼Œæˆ‘é€‰æ‹©äº†ç”µå®¹ 1.xï¼Œè™½ç„¶ç”µå®¹ 2.0 ä¹Ÿå‘å¸ƒäº†ã€‚åŸå› æ˜¯ä¸ºäº†é¿å…æ›´æ–° Xcode æ¥è¯»å– Capacitor 2.0 åˆ¶ä½œçš„ appã€‚è™½ç„¶æˆ‘å·²ç»ç”¨ Android æµ‹è¯•äº†ç”µå®¹å™¨ 2.0 çš„åŠŸèƒ½ï¼Œè€Œä¸”å®ƒå·¥ä½œæ­£å¸¸***

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæ‚¨è¿è¡Œä¸Šè¿°å‘½ä»¤ï¼Œå®ƒå°†å®‰è£…ç”µå®¹å™¨ 2.0ã€‚ä½¿ç”¨ Capacitor 2.0 æ„å»ºçš„åº”ç”¨ç¨‹åºéœ€è¦æœ€æ–°çš„ Android Studio å’Œæœ€æ–°çš„ Xcodeã€‚å¦‚æœä½ æœ‰è¿™äº›ï¼Œå®Œç¾ï¼ä½†å¦‚æœä½ æ²¡æœ‰ï¼ŒåšæŒç”µå®¹å™¨ 1.x çš„æ•™ç¨‹ï¼Œä½ å¯ä»¥ç¨åæ›´æ–°ã€‚æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨äº†`â€œ@capacitor/coreâ€: â€œ1.2.0â€,`å’Œ`â€œ@capacitor/cliâ€: â€œ1.2.0â€`ã€‚

æ·»åŠ å¹³å°å¹¶åœ¨è®¾å¤‡ä¸­æ„å»ºåº”ç”¨ç¨‹åºä½œä¸ºæµ‹è¯•

```
// Add android platform
$ **npx cap add android** // Add iOS platform
$ **npx cap add ios** // Build web assets to copy to platforms
$ **ionic build** // copy the build assets to platforms
$ **npx cap copy** // open android studio to build app
$ **npx cap open android** // open xcode to build app
$ **npx cap open ios**
```

æ­¤æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Xcode / Android Studio åœ¨ iOS / Android è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œè¯¥åº”ç”¨ç¨‹åºã€‚æ‚¨å°†çœ‹åˆ° UI åœ¨è®¾å¤‡ä¸­è¿è¡Œè‰¯å¥½ã€‚

# æ­¥éª¤ 3 â€”è®¾ç½®æ‚¨çš„ Admob å¸æˆ·

è¿™ä¸€æ­¥å¯¹äºä»»ä½• app éƒ½æ˜¯é€šç”¨çš„ã€‚ç”±äº Admob æ˜¯ä¸€é¡¹ç‹¬ç«‹äºåº”ç”¨å¹³å°çš„è°·æ­ŒæœåŠ¡ï¼Œä½ å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œå¹¶åœ¨æ¯ç§ç±»å‹çš„åº”ç”¨ä¸­ä½¿ç”¨å®ƒã€‚æˆ‘åœ¨æ¯ç¯‡ AdMob ç¤ºä¾‹æ–‡ç« ä¸­éƒ½ä½¿ç”¨ç›¸åŒçš„ AdMob åº”ç”¨ç¨‹åºã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åˆ›å»ºæ‚¨çš„ Admob å¸æˆ·å’Œ Admob åº”ç”¨ç¨‹åº

*   æ³¨å†Œï¼Œç„¶ååœ¨[https://apps.admob.com](https://apps.admob.com/?utm_source=internal&utm_medium=et&utm_campaign=helpcentrecontextualopt&utm_term=http://goo.gl/6Xkfcf&subid=ww-ww-et-amhelpv4)ç™»å½•æ‚¨çš„ AdMob å¸æˆ·ã€‚
*   ç‚¹å‡»ä¾§è¾¹æ ä¸­çš„**åº”ç”¨**ã€‚
*   ç‚¹å‡»**æ·»åŠ åº”ç”¨**æ·»åŠ æ–°åº”ç”¨ï¼Œæˆ–ç‚¹å‡»**æŸ¥çœ‹æ‰€æœ‰åº”ç”¨**æœç´¢æ‚¨æ·»åŠ åˆ° AdMob çš„æ‰€æœ‰åº”ç”¨åˆ—è¡¨ã€‚
*   åœ¨**åº”ç”¨è®¾ç½®**é€‰é¡¹ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æ‚¨çš„**åº”ç”¨ ID** ã€‚è¿™æ˜¯æ‚¨å°†åº”ç”¨ç¨‹åºè¿æ¥åˆ°åº”ç”¨ç¨‹åºä¸­çš„ Google AdMob æ‰€éœ€çš„ IDã€‚

![](img/85e8f18622c9976901d1d3cfc70ce534.png)

Note down your App ID from App Setting in Google AdMob

*   åœ¨**å¹¿å‘Šå•å…ƒ**éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥æ·»åŠ å¤šç§ç±»å‹çš„å¹¿å‘Šå•å…ƒã€‚æœ‰å…³æ·»åŠ å¹¿å‘Šå•å…ƒçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹è¯¦ç»†çš„åˆ†æ­¥è¯´æ˜

â€” [æ¨ªå¹…å¹¿å‘Š](https://support.google.com/admob/answer/7311346?hl=en)

[â€”æ’æ’­å¹¿å‘Š](https://support.google.com/admob/answer/7311435?hl=en&ref_topic=7382891)

â€” [æ‚¬èµå¹¿å‘Š](https://support.google.com/admob/answer/7311747?hl=en&ref_topic=7382891)

AdMob æœ‰ä¸€å¤§å †å…¶ä»–è®¾ç½®ï¼Œæ¯”å¦‚ä½ çš„å¹¿å‘Šåº”è¯¥å¦‚ä½•ã€ä½•æ—¶ã€ä½•åœ°å‡ºç°ï¼Œä½†è¿™äº›éƒ½æ˜¯ä»¥åçš„äº‹äº†ã€‚åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºé™äº**â€œå¦‚ä½•åœ¨ç¦»å­ååº”ç”µå®¹åº”ç”¨ä¸­æ˜¾ç¤ºåŸºæœ¬ ad å•å…ƒâ€**

# æ­¥éª¤ 4 â€”å®‰è£… AdMob æ’ä»¶

å¯¹äºè¿™ç¯‡æ–‡ç« ï¼Œæ­£å¦‚æˆ‘ä¹‹å‰è§£é‡Šçš„ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯[ç”µå®¹ Admob æ’ä»¶](https://github.com/rahadur/capacitor-admob)ã€‚æ­¤å¤–ï¼Œç”±äºåœ¨æ„å»ºåº”ç”¨ç¨‹åºæ—¶ï¼Œcapacitor ä¸ä¼šæ³¨å…¥å¿…è¦çš„ç‰¹å®šäºå¹³å°çš„å˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ„å»ºåº”ç”¨ç¨‹åºæ—¶å¿…é¡»åšä¸€äº›å°çš„æ”¹åŠ¨

## 4.1 å®‰è£…ç”µå®¹å™¨ AdMob æ’ä»¶

åœ¨æ‚¨ç°æœ‰çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä½¿ç”¨

```
**$ npm install --save capacitor-admob**
```

## 4.2 åœ¨ Android ä¸­æ„å»º

å› ä¸ºæˆ‘ä»¬åªæ·»åŠ äº†ä¸€ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥åªéœ€ä½¿ç”¨

```
// copy the build assets to platforms
$ **npx cap sync**
```

åœ¨ Android Studio ä¸­ï¼Œæ‰“å¼€æ‚¨çš„`AndroidManifest.xml`æ–‡ä»¶ï¼Œæ·»åŠ æ­¤`meta-data`è¡Œï¼Œå¹¶ç”¨æ‚¨çš„åº”ç”¨ç¨‹åºçš„å®é™…**åº”ç”¨ç¨‹åº ID** æ›¿æ¢è¯¥å€¼

```
<application>
  <!-- this line needs to be added (replace the value!) -->
  **<meta-data android:name="com.google.android.gms.ads.APPLICATION_ID" android:value="ca-app-pub-3940256099942544~3347511713" />**
  <activity>.....</activity>
</application>
```

åœ¨ Android Studio ä¸­æ‰“å¼€ä½ çš„ Ionic Capacitor åº”ç”¨ç¨‹åºï¼Œç°åœ¨æ‰“å¼€ä½ çš„åº”ç”¨ç¨‹åºçš„`MainActivity.java`å¹¶æ³¨å†Œ AdMob Capacitor æ’ä»¶ã€‚

```
// Other imports...
**import app.xplatform.capacitor.plugins.AdMob;** public class MainActivity extends BridgeActivity {
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
this.init(savedInstanceState, new ArrayList<Class<? extends Plugin>>() {{
      **add(AdMob.class);**  // Add AdMob as a Capacitor Plugin
    }});
  }
}
```

åœ¨è®¾å¤‡ä¸Šæ„å»ºä¸€æ¬¡åº”ç”¨ç¨‹åºã€‚å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œæ‚¨çš„ Android åº”ç”¨ç¨‹åºå°±å¯ä»¥æ˜¾ç¤ºå¹¿å‘Šäº†

## 4.3 å†…ç½®äº iOS

åŒæ ·ï¼Œåªéœ€ä½¿ç”¨

```
// copy the build assets to platforms
$ **npx cap sync**
```

æ‰“å¼€æ‚¨çš„`App/App/Info.plist`æ–‡ä»¶ï¼Œæ·»åŠ æ­¤`plist value`è¡Œï¼Œå¹¶ç”¨æ‚¨çš„åº”ç”¨ç¨‹åºçš„å®é™…åº”ç”¨ç¨‹åº ID æ›¿æ¢è¯¥å€¼

```
**<key>GADIsAdManagerApp</key>
<true/>
<key>GADApplicationIdentifier</key>** <!-- replace this value with your App ID key-->
**<string>ca-app-pub-6564742920318187~7217030993</string>**
```

åœ¨è®¾å¤‡/æ¨¡æ‹Ÿå™¨ä¸Šæ„å»ºä¸€æ¬¡åº”ç”¨ç¨‹åºã€‚å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œä½ çš„ iOS åº”ç”¨ç¨‹åºå°±å¯ä»¥æ˜¾ç¤ºå¹¿å‘Šäº†ã€‚

# ç¬¬ 5 æ­¥â€”â€”åœ¨åº”ç”¨ç¨‹åºä¸­å®æ–½ä¸åŒç±»å‹çš„å¹¿å‘Š

ä¸€æ—¦ä¸€åˆ‡éƒ½å‡†å¤‡å¥½äº†ï¼Œè®©æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°ä¸åŒç±»å‹çš„å¹¿å‘Šã€‚å¯¹äºæ‰€æœ‰ç±»å‹çš„å¹¿å‘Šï¼Œæ‚¨éœ€è¦å¯¼å…¥æ’ä»¶å¹¶åˆå§‹åŒ–ã€‚

```
import { AdOptions, AdSize, AdPosition } from 'capacitor-admob';
const { AdMob, Toast } = Plugins;
```

åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œä½¿ç”¨åˆå§‹åŒ– AdMob

```
// replace with your own App ID
AdMob.initialize('ca-app-pub-3940256099942544~3347511713');
```

## æ¨ªå¹…å¹¿å‘Š

æ¨ªå¹…å¹¿å‘Šåœ¨è¡¨ 1 ä¸­å®ç°ã€‚æ‚¨è¿˜éœ€è¦ä» AdMob è´¦æˆ·ä¸­è·å¾—æ¨ªå¹…å¹¿å‘Šçš„`Ad Unit ID`ã€‚

ä¸€æ—¦æ‚¨åœ¨`Tab1.tsx`æ–‡ä»¶ä¸­æœ‰äº†ç”¨æˆ·ç•Œé¢ï¼Œæˆ‘ä»¬å°†å®ç°å››ç§æ–¹æ³•

*   æ˜¾ç¤ºæ¨ªå¹…
*   pauseBanner
*   ç»“æœé™„ä»¶
*   ç§»é™¤æ¨ªå¹…

æ–¹æ³•çš„åç§°æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚æ•´ä¸ªé¡µé¢çš„ä»£ç å¦‚ä¸‹æ‰€ç¤º

Banner ad implementation in Ionic React Capacitor app

> **æ‚¨ä¹Ÿå¯ä»¥ä»è°·æ­Œè·å¾—æµ‹è¯•å¹¿å‘Šæ ‡è¯†è¿›è¡Œæµ‹è¯•ã€‚ä¸è¦åœ¨ä½ çš„ç”Ÿäº§åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æµ‹è¯• IDï¼Œåœ¨å¼€å‘åº”ç”¨ç¨‹åºæ—¶ä¹Ÿä¸è¦ä½¿ç”¨ä½ çš„ç”Ÿäº§å¹¿å‘Šå•å…ƒ ID**

## é—´è´¨æ€§ Ad

é—´éš™å¹¿å‘Šå¯¹è§¦å‘å™¨èµ·ä½œç”¨ã€‚å› ä¸ºè¿™äº›æ˜¯æ•´é¡µå¹¿å‘Šï¼Œæ‰€ä»¥å®ƒä»¬å¹¶ä¸æ€»æ˜¯ä½œä¸ºæ¨ªå¹…å¹¿å‘Šå‡ºç°ã€‚

è¦å®ç°é—´éš™å¹¿å‘Šï¼Œå¯¼å…¥æ’ä»¶ï¼Œåˆå§‹åŒ–å¹¶éµå¾ªä¸‹é¢çš„ä»£ç 

Interstitial ad implementation in Ionic React Capacitor app

é—´éš™å¹¿å‘Šéœ€è¦`load`åæ‰èƒ½æ˜¾ç¤ºã€‚åœ¨ä½ çš„äº§å“åº”ç”¨ç¨‹åºä¸­ï¼Œæœ€å¥½å°†è¿™äº›å¹¿å‘ŠåŠ è½½åˆ°é¡µé¢åŠ è½½æœ¬èº«ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™æ˜¾ç¤ºå‡ºæ¥ã€‚

## å¥–åŠ±å¹¿å‘Š

åŒæ ·ï¼Œå¥–åŠ±å¹¿å‘Šä¸è§¦å‘æœºåˆ¶ä¸­çš„é—´éš™å¹¿å‘Šç›¸ä¼¼ã€‚è¦å®ç°ï¼Œè¯·å¯¼å…¥æ‰€éœ€çš„ä¾èµ–é¡¹å¹¶éµå¾ªä¸‹é¢çš„ä»£ç 

Reward ad implementation in Ionic React Capacitor app

`TestIds.REWARDED`åŒæ ·æ˜¯æµ‹è¯• IDã€‚å‘å¸ƒåº”ç”¨ç¨‹åºæ—¶ï¼Œå°†å…¶æ›¿æ¢ä¸ºç”Ÿäº§å¹¿å‘Šæ ‡è¯†ã€‚

`.prepareRewardVideoAd()`è›Šæƒ‘äººå¿ƒçš„å¹¿å‘Šã€‚è¿™ä¸ªå¹¿å‘Šéœ€è¦ä¸€äº›æ—¶é—´æ¥åŠ è½½ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå»¶è¿Ÿåæˆ–è£…è½½æˆåŠŸæ—¶åº”è°ƒç”¨`.showRewardVideoAd()`çš„åŸå› ã€‚

# ç¬¬ 6 æ­¥:åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸Šæµ‹è¯•åº”ç”¨ç¨‹åº

è¦åœ¨ iOS ä¸Šæ„å»ºä»£ç ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤

```
$ ionic build
$ npx cap copy
```

å®Œæˆåï¼Œä» Xcode æ„å»ºæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå¹¶è¿è¡Œè¯¥åº”ç”¨ç¨‹åºã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›å¹¿å‘Šåœ¨ iOS ä¸­ä¼šæ˜¯ä»€ä¹ˆæ ·å­ã€‚

## æ¨ªå¹…å¹¿å‘Š

æœ€ç»ˆçš„å¹¿å‘Šåœ¨ iOS ä¸Šçœ‹èµ·æ¥åƒè¿™æ ·

![](img/05f350f10404c4b6396b4024b28150a5.png)

AdMob Banner ads in iOS â€” Ionic React Capacitor app

## é—´è´¨æ€§ Ad

å…¨å±å¹•ä¸Šçš„å¹¿å‘Šçœ‹èµ·æ¥åƒæ˜¯ iOS ä¸Šçš„åç»­å¹¿å‘Š

![](img/ccd91d5f0fcffdc4b078d7f168e1b500.png)

AdMob Interstitial ads in iOS â€” Ionic React Capacitor app

## å¥–åŠ±å¹¿å‘Š

iOS ä¸Šçš„å¥–åŠ±å¹¿å‘Šå°†å¦‚ä¸‹æ‰€ç¤º

![](img/bd947e9f0ca890e65ec5e422000c1049.png)

AdMob Reward ads in iOS â€” Ionic React Capacitor app

# ç¬¬ 7 æ­¥:åœ¨å®‰å“è®¾å¤‡ä¸Šæµ‹è¯•åº”ç”¨ç¨‹åº

å°±åƒ iOS ä¸€æ ·ï¼ŒåŒæ ·çš„ä»£ç ä¹Ÿä¼šåœ¨å®‰å“ç³»ç»Ÿä¸­æ˜¾ç¤ºå¹¿å‘Šã€‚è¿™ä¸ªè§†é¢‘é“¾æ¥[è¿™é‡Œ](https://youtu.be/XHzwraE4hYc)å°†æ˜¾ç¤ºå¹¿å‘Šå°†å¦‚ä½•åœ¨å®‰å“è®¾å¤‡ä¸Šæ˜¾ç¤º(åªæ˜¯ä¸ºäº†å®Œæˆå¸–å­)

å¡”è¾¾ã€‚æ‚¨å·²ç»å­¦ä¹ äº†å¦‚ä½•åœ¨æ‚¨çš„ç¦»å­ååº”ç”µå®¹åº”ç”¨ç¨‹åºä¸­å®ç° AdMob å¹¿å‘Šã€‚ğŸ‰

# ç»“è®º

åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•åœ¨ Ionic React Capacitor åº”ç”¨ç¨‹åºä¸­å®ç° Google AdMob åŠŸèƒ½ã€‚å¯¹äºç”¨æˆ·å¸Œæœ›ä»å¹¿å‘Šç‚¹å‡»ä¸­è·å¾—ä¸€äº›æ”¶å…¥çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼ŒAdMob åŠŸèƒ½æ˜¯å¿…ä¸å¯å°‘çš„ã€‚å½“ä½ çš„åº”ç”¨ç¨‹åºæœ‰å¤§é‡ç”¨æˆ·ï¼Œå¹¶ä¸”ä½ ä¸ä¸ºåº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•ä¸œè¥¿å‘ç”¨æˆ·æ”¶è´¹æ—¶ï¼Œè¿™å°±å¾ˆæ–¹ä¾¿äº†ã€‚æ‰€ä»¥å¹¿å‘Šæˆä¸ºä½ çš„ç›´æ¥æ”¶å…¥æ¥æºã€‚ä½ ä¹Ÿå¯ä»¥å°†æ’æ’­å¹¿å‘Šå’Œå¥–åŠ±å¹¿å‘Šä¸åº”ç”¨å†…å¥–åŠ±ç›¸ç»“åˆï¼Œå¦‚æ¸¸æˆå‡çº§ã€é¢å¤–ç”Ÿå‘½ç­‰ã€‚

> æœ¬æ•™ç¨‹çš„ä»£ç å¯ä»¥åœ¨ Github repo [***ä¸Šæ‰¾åˆ°***](https://github.com/enappd/ionic-react-admob)

æœ¬æ–‡æœ€åˆå‘è¡¨äº [Enappd](https://enappd.com) ã€‚

## **ç”¨ç®€å•è‹±è¯­å†™çš„ JavaScript ç¬”è®°**

æˆ‘ä»¬å·²ç»æ¨å‡ºäº†ä¸‰ç§æ–°çš„å‡ºç‰ˆç‰©ï¼ä¸ºæˆ‘ä»¬çš„æ–°å‡ºç‰ˆç‰©çŒ®ä¸Šä¸€ç‚¹çˆ±å¿ƒå§ï¼Œè¯·è·Ÿéšä»–ä»¬:[**AI in Plain English**](https://medium.com/ai-in-plain-english)ï¼Œ[**UX in Plain English**](https://medium.com/ux-in-plain-english)ï¼Œ[**Python in Plain English**](https://medium.com/python-in-plain-english)**â€”â€”è°¢è°¢ï¼Œç»§ç»­å­¦ä¹ ï¼**

**æˆ‘ä»¬ä¹Ÿä¸€ç›´æœ‰å…´è¶£å¸®åŠ©æ¨å¹¿é«˜è´¨é‡çš„å†…å®¹ã€‚å¦‚æœæ‚¨æœ‰ä¸€ç¯‡æ–‡ç« æƒ³è¦æäº¤ç»™æˆ‘ä»¬çš„ä»»ä½•å‡ºç‰ˆç‰©ï¼Œè¯·å‘é€ç”µå­é‚®ä»¶è‡³:[**submissions @ plain English . io**](mailto:submissions@plainenglish.io)**ï¼Œä½¿ç”¨æ‚¨çš„ Medium ç”¨æˆ·åï¼Œæˆ‘ä»¬ä¼šå°†æ‚¨æ·»åŠ ä¸ºä½œè€…ã€‚å¦å¤–ï¼Œè¯·è®©æˆ‘ä»¬çŸ¥é“æ‚¨æƒ³åŠ å…¥å“ªä¸ª/å“ªäº›å‡ºç‰ˆç‰©ã€‚****