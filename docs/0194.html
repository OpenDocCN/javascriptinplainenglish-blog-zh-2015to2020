<html>
<head>
<title>How to setup Vue.js and webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何设置Vue.js和webpack</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-properly-setup-webpack-vue-js-to-show-hello-world-3fce7d877b38?source=collection_archive---------1-----------------------#2019-08-02">https://javascript.plainenglish.io/how-to-properly-setup-webpack-vue-js-to-show-hello-world-3fce7d877b38?source=collection_archive---------1-----------------------#2019-08-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ab33faf63e3151d898016e8c40e72dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXEqPIG_0OMJrSRiKid_8A.png"/></div></div></figure><p id="dd75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用Vue CLI，您可以非常方便地正确设置Vue项目。但是如果您的应用程序很大呢？您应该使用webpack.config文件进行调整。如果你有很多编译文件的入口点怎么办？你应该摸一下webpack.config。</p><p id="6426" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，如果您预计您的应用程序不会很小，那么最好使用raw webpack。我知道webpack是软件工程师不想接触的东西，因为它很难，很无聊。但是不要害怕。这就是我写这篇文章的原因。</p><p id="e460" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文将解释这三件事，</p><ol class=""><li id="dcea" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">如何构建JS文件并将其捆绑到html文件</li><li id="e56a" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">如何用一些装载机介绍Vue.js</li><li id="5bdd" class="kw kx iq ka b kb lf kf lg kj lh kn li kr lj kv lb lc ld le bi translated">如何设置生产版本</li></ol></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="0314" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated"><strong class="ak">如何将JS文件构建捆绑成html文件</strong></h1><p id="7258" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">首先，让我们初始化你的目录。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="f210" class="nd ls iq mz b gy ne nf l ng nh">yarn init</span></pre><p id="378d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那我们来装今天的主角，webpack！因为webpack提供了称为webpack dev server和webpack-cli方便的包，所以让我们也安装它们。webpack开发服务器是具有热加载的开发服务器。webpack-cli是用于webpack命令的cli工具。两者都加速你的发展。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="fb2b" class="nd ls iq mz b gy ne nf l ng nh">yarn add -D webpack<!-- --> webpack-cli webpack-dev-server</span></pre><p id="fead" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来你应该做的是创建<code class="fe ni nj nk mz b">webpack.config.js</code>文件。这个文件是webpack和您的代码之间的主要连接点。请参见下面的配置。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="0922" class="nd ls iq mz b gy ne nf l ng nh">const path = require('path')<br/><br/>module.exports = {<br/>  entry: './src/main.js',<br/>  output: {<br/>    <!-- -->path: path.resolve(__dirname, "./dist"),<br/>    filename: 'bundle.js'<br/>  },<br/>  devServer: {<br/>    contentBase: path.resolve(__dirname, 'public')<br/>  }<br/>}</span></pre><p id="3a4d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有三个主要键，entry、output和devServer。当您构建(webpack命令)时，webpack会将您的。/src/main.js并在。/dist目录。</p><p id="94ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一方面，当您运行dev服务器时，会使用devServer配置。你应该包括非js文件，如html，图像文件。</p><p id="3d88" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">实际上，您已经准备好用这个简单的配置来编译js文件了。让我们开始吧。请将src设置为director和。/src/main.js文件。写下这个。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="a6f3" class="nd ls iq mz b gy ne nf l ng nh">// ./src/main.js</span><span id="0164" class="nd ls iq mz b gy nl nf l ng nh">console.log("Hello World");</span></pre><p id="35cc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了进行编译，让我们向package.json添加一些命令。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="20c3" class="nd ls iq mz b gy ne nf l ng nh">{<br/>  // ...<br/>  "scripts": {<br/>    <!-- -->"dev": "webpack-dev-server --open --hot",<br/>    <!-- -->"<!-- -->build<!-- -->": <!-- -->"webpack --mode production --progress --hide-modules"<br/>  <!-- -->}<br/>  // ...<br/>}</span></pre><p id="5611" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，用bundle.js的脚本标记创建一个简单的html文件。如果没有脚本标记，您绑定的js文件将永远不会被读取。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="06ee" class="nd ls iq mz b gy ne nf l ng nh">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="e52e" class="nd ls iq mz b gy nl nf l ng nh">&lt;head&gt;<br/> &lt;meta charset="utf-8"&gt;<br/> &lt;meta name="viewport" content="width=device-width,initial-scale=1.0"&gt;<br/> &lt;title&gt;TITLE HERE&lt;/title&gt;<br/>&lt;/head&gt;</span><span id="b5a8" class="nd ls iq mz b gy nl nf l ng nh">&lt;body&gt;<br/> &lt;div id="app"&gt;&lt;/div&gt;<br/> &lt;script src="bundle.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;</span><span id="83d3" class="nd ls iq mz b gy nl nf l ng nh">&lt;/html&gt;</span></pre><p id="85c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回到命令行并键入<code class="fe ni nj nk mz b">yarn dev</code>。打开<code class="fe ni nj nk mz b">http://localhost:8080</code>和chrome开发工具。如果你能看到“你好世界”，干得好！</p><h1 id="7125" class="lr ls iq bd lt lu nm lw lx ly nn ma mb mc no me mf mg np mi mj mk nq mm mn mo bi translated">如何用一些装载机介绍Vue.js</h1><p id="05bb" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">我知道这对你们来说还不够。你想做更酷的应用。所以我们用它加上Vue.js。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="603c" class="nd ls iq mz b gy ne nf l ng nh">yarn add <!-- -->vue</span></pre><p id="2491" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是仅仅安装Vue.js是不够的，因为webpack不可能编译Vue文件。你知道Vue文件是这样的！</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="acfe" class="nd ls iq mz b gy ne nf l ng nh">&lt;template&gt;<br/> &lt;div&gt;<br/>  &lt;h1&gt;<br/>   Hello World<br/>  &lt;/h1&gt;<br/> &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="daf6" class="nd ls iq mz b gy nl nf l ng nh">&lt;script&gt;<br/>export default {<br/> name: "App",<br/> data: () =&gt; ({}),<br/> methods: {}<br/>};<br/>&lt;/script&gt;</span><span id="f5e9" class="nd ls iq mz b gy nl nf l ng nh">&lt;style lang="css"&gt;<br/>* {<br/> border: 1px solid red;<br/>}<br/>&lt;/style&gt;</span></pre><p id="ccc5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Vue.js文件不是普通的js文件。要编译这个文件，需要<code class="fe ni nj nk mz b">loader</code>。加载程序在webpack之前处理可编译的原始文件。</p><p id="1aa7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以还是先加vue装载机吧。这两个是Vue要求的。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="c9eb" class="nd ls iq mz b gy ne nf l ng nh">yarn add -D <!-- -->vue-loader vue-template-compiler</span></pre><p id="c5c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并为css/scss添加加载程序。css-loader和sass-loader用于加载CSS/SCSS。然后，样式加载器将这些加载CSS/SCSS嵌入到包文件中。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="99db" class="nd ls iq mz b gy ne nf l ng nh">yarn add -D <!-- -->css-loader <!-- -->sass-loader <!-- -->style-loader</span></pre><p id="3f68" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那么请为巴别塔增加装载机。那些是运输用的。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="bb49" class="nd ls iq mz b gy ne nf l ng nh">yarn add -D <!-- -->babel-loader @babel/core @babel/preset-env</span></pre><p id="ad7b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">干得好！</p><p id="141d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，您可以配置刚刚安装的加载器。<code class="fe ni nj nk mz b">module</code>部分是您可以配置装载机的地方。而且有了<code class="fe ni nj nk mz b">resolve</code>段，就不用带扩展名导入了。比如没有配置，就必须安装类似<code class="fe ni nj nk mz b">import App from "./App.vue"</code>的vue文件。但是一旦配置好了，就可以写成<code class="fe ni nj nk mz b">import App from "./App"</code>这样了。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="f186" class="nd ls iq mz b gy ne nf l ng nh">// webpack.config.js</span><span id="d71c" class="nd ls iq mz b gy nl nf l ng nh">const VueLoaderPlugin = require('vue-loader/lib/plugin')</span><span id="0627" class="nd ls iq mz b gy nl nf l ng nh">module.exports = {<br/>  // ...<br/>  <!-- -->module: {<br/>   rules: [<br/>    {<br/>      test: /\.vue$/,<br/>      loader: "vue-loader"<br/>    },<br/>    {<br/>      test: /\.(scss|css)$/,<br/>      use: ["vue-style-loader", "css-loader", "sass-loader"]<br/>    },<br/>    {<br/>      test: /\.js$/,<br/>      loader: "babel-loader",<br/>      exclude: /node_modules/<br/>    }<br/>   ]<br/>  },<br/>  resolve: {<br/>   alias: {<br/>    vue$: "vue/dist/vue.esm.js"<br/>   },<br/>   extensions: ["*", ".js", ".vue", ".json"]<br/>  },<br/>  plugins: <!-- -->[VueLoaderPlugin()],<br/>  <!-- -->}<br/>  // ...</span></pre><p id="3559" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，在package.json中添加transpile config。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="acca" class="nd ls iq mz b gy ne nf l ng nh">// package.json<br/>{<br/>  // ...<br/>  "babel": {<br/>    "presets": ["@babel/preset-env"]<br/>  },<br/>  // ...<br/>}</span></pre><p id="de12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，所有的基本配置都完成了。我们来测试一下。添加第一个Vue文件。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="89ab" class="nd ls iq mz b gy ne nf l ng nh">// ./src/App.vue</span><span id="36e7" class="nd ls iq mz b gy nl nf l ng nh">&lt;template&gt;<br/> &lt;div&gt;<br/>  &lt;h1&gt;<br/>   Hello World<br/>  &lt;/h1&gt;<br/> &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="142a" class="nd ls iq mz b gy nl nf l ng nh">&lt;script&gt;<br/>export default {<br/> name: "App",<br/> data: () =&gt; ({}),<br/> methods: {}<br/>};<br/>&lt;/script&gt;</span><span id="c96b" class="nd ls iq mz b gy nl nf l ng nh">&lt;style lang="css"&gt;<br/>* {<br/> border: 1px solid red;<br/>}<br/>&lt;/style&gt;</span></pre><p id="19f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并添加一些代码到<code class="fe ni nj nk mz b">./src/main.js</code>来实例化vue。</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="8014" class="nd ls iq mz b gy ne nf l ng nh">import Vue from "vue";<br/>import App from "./App.vue";<br/>import store from "./store";</span><span id="028f" class="nd ls iq mz b gy nl nf l ng nh">new Vue({<br/> el: "#app",<br/> render: h =&gt; h(App)<br/>});</span></pre><p id="14df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">再次返回终端并输入<code class="fe ni nj nk mz b">yarn dev</code>。你可以在浏览器中看到Hello World。</p><h1 id="d9a5" class="lr ls iq bd lt lu nm lw lx ly nn ma mb mc no me mf mg np mi mj mk nq mm mn mo bi translated">如何设置生产版本</h1><p id="e877" class="pw-post-body-paragraph jy jz iq ka b kb mp kd ke kf mq kh ki kj mr kl km kn ms kp kq kr mt kt ku kv ij bi translated">到目前为止，所有的测试都是用<code class="fe ni nj nk mz b">yarn dev</code>进行的，这意味着使用webpack-dev-server。生产制造怎么样？</p><p id="caf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您已经有了<code class="fe ni nj nk mz b">yarn build</code>命令。但是它的<code class="fe ni nj nk mz b">./dist</code>目录里没有index.html的文件。所以需要在<code class="fe ni nj nk mz b">./dist</code>目录下做一个复制文件？答案是否定的。</p><p id="3cb1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果使用<code class="fe ni nj nk mz b">copy-webpack-plugin</code>，它会将所有静态文件从<code class="fe ni nj nk mz b">./public</code>复制到<code class="fe ni nj nk mz b">./dist</code>，包括图像文件。来补充一下吧！</p><pre class="mu mv mw mx gt my mz na nb aw nc bi"><span id="9eec" class="nd ls iq mz b gy ne nf l ng nh">yarn add -D <!-- -->copy-webpack-plugin</span><span id="ee72" class="nd ls iq mz b gy nl nf l ng nh">// webpack.config.js</span><span id="cadb" class="nd ls iq mz b gy nl nf l ng nh">// ...<br/>const CopyPlugin = require('copy-webpack-plugin');</span><span id="a8c8" class="nd ls iq mz b gy nl nf l ng nh">module.exports = {<br/>  <!-- -->// ...<br/>  plugins: [<br/>    // ...<br/>    new CopyPlugin([{ from: './public' }])<br/>  ],<br/>  // ...<br/>}</span></pre><p id="ae83" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有配置都已完成。现在是时候构建您的应用程序了！</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="6b58" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇文章关注的是设置webpack + Vue.js。下一次我将解释如何配置eslint和prettier来加速您的开发。再见！</p><h1 id="73f6" class="lr ls iq bd lt lu nm lw lx ly nn ma mb mc no me mf mg np mi mj mk nq mm mn mo bi translated">参考</h1><ul class=""><li id="fa2d" class="kw kx iq ka b kb mp kf mq kj nr kn ns kr nt kv nu lc ld le bi translated"><a class="ae nv" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">https://webpack.js.org/</a></li></ul></div></div>    
</body>
</html>