<html>
<head>
<title>The World’s Easiest “The Rock” Themed Rock Paper Scissors JavaScript Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">世界上最简单的“石头”主题石头剪刀布JavaScript教程</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-worlds-easiest-the-rock-themed-rock-paper-scissors-javascript-tutorial-ee99b7f83e69?source=collection_archive---------1-----------------------#2020-06-19">https://javascript.plainenglish.io/the-worlds-easiest-the-rock-themed-rock-paper-scissors-javascript-tutorial-ee99b7f83e69?source=collection_archive---------1-----------------------#2020-06-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="aa9a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你曾经想让“岩石”德怀恩·约翰逊教你JavaScript，那么，今天不是你的幸运日，但今天是 <strong class="jm io"> <em class="ki">就像</em> </strong> <em class="ki">你的幸运日！</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/124e9ad1a06ee253a9076557543ac6cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWWQmgjIoPYLgOPUfNODzw.jpeg"/></div></div></figure><p id="c1f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是旧游戏的新玩法，但我发现成品<a class="ae kv" href="https://annaelizabeth2019.github.io/the-rock-paper-scissors-2/" rel="noopener ugc nofollow" target="_blank">非常有趣！最棒的是，你可以在一个下午把这个游戏扔在一起，发给你所有的朋友，让他们开怀大笑。</a></p><p id="b8fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本教程是用普通的JS、CSS和HTML编写的。它是为一个初学者而写的。如果你不是一个绝对的初学者，无论如何都要玩得开心！请在这里的教程基础上，把你想出的发给我！我很想去看看。最后我们会得到这样的结果:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/b6d9c0ce8783f0e8f6ec2541468a0ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*nogG1FS4Id65l7iEivaYYg.png"/></div></figure><p id="f6cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里有我在Github上的回购和我自己的<a class="ae kv" href="https://annaelizabeth2019.github.io/the-rock-paper-scissors-2/" rel="noopener ugc nofollow" target="_blank">完成游戏</a>的链接。</p><h1 id="fc77" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">终于！岩石是家</h1><h2 id="c605" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">游戏要求:</h2><ul class=""><li id="43fc" class="mh mi in jm b jn mj jr mk jv ml jz mm kd mn kh mo mp mq mr bi translated">用户有三个选择:石头、布或剪刀</li><li id="8a90" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">用户可以每轮选择一个新的移动</li><li id="7efb" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">电脑可以每轮自动选择一个新的移动</li><li id="158a" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">游戏将选择一个与玩家的移动选择相关联的随机图像并显示它</li><li id="73b0" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">保持得分</li><li id="68d0" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">显示每一轮的赢家</li><li id="d764" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">很有趣</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mx"><img src="../Images/ecf54f7fa61e0300d6633dcd0746271e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0a_H4TsL38Hu0vCmI1XIcw.jpeg"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Japan — where the world’s most dramatic RPS tournament is held</figcaption></figure><h2 id="067c" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">移动优先</h2><blockquote class="nc"><p id="5dca" class="nd ne in bd nf ng nh ni nj nk nl kh dk translated">请原谅岩石一秒钟，他的手机响了。喂？嘿，没什么。他说他认识你！<br/>——德韦恩·“岩石”·约翰逊</p></blockquote><p id="0eca" class="pw-post-body-paragraph jk jl in jm b jn nm jp jq jr nn jt ju jv no jx jy jz np kb kc kd nq kf kg kh ig bi translated">请考虑为移动用户设计你的游戏。</p><p id="38f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以对这个项目的设计做任何你想做的事情。在向你提供了我的基本HTML和CSS之后，本教程将重点讨论JavaScript。然而，我想在我们开始设置的时候加入一个关于移动优先设计的注释。</p><p id="4667" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki"> Mobile First </em>是指在任何其他平台之前为移动设计。大多数用户通过移动设备与网络互动，因此在开发这款游戏时，让这一点来指导我们的选择是有意义的。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/0376128ade05860d412dcca3c2804b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*910ZzADkv-iygErkaGq_Rg.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk"><a class="ae kv" href="https://medium.com/@BuildMySite1/how-phablets-are-changing-mobile-ux-1bf2949d14b4" rel="noopener">illustration of The Thumb Zone via Darlene Tate</a></figcaption></figure><p id="19e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们观察用户拇指的自然移动时，我们看到屏幕的底部是最容易触及的。《粉碎杂志》对此有更详细的报道。甚至当我还在上学的时候，我把项目发给的朋友们会希望在他们的智能手机上打开它们。不适合移动应用的项目将很难与他人分享，即使它们很简单。</p><p id="042c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你需要做的就是使用你的开发工具(在Chrome上，点击<em class="ki"> cmd + option + i </em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ns"><img src="../Images/553a0a9b36db6e7f9520f1ffcab7fdfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BDRTzfWtikefLvzWY8HCxg.png"/></div></div></figure><p id="b1ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">点击上面的图标，你就可以为移动用户设计了！</p><p id="ba51" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当需要查看桌面版本时，您可以使用如下代码行自定义CSS:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="c9a1" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">@media</em> only screen and (min-width: 600px)</span></pre><p id="7508" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你将能够在我下面提供的简单CSS中看到我是如何做到这一点的。</p><h1 id="cf28" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">你闻到石头在煮什么了吗？</h1><h2 id="e0c0" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">文件设置</h2><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oc"><img src="../Images/cca4cc7a5509347938d1c48eb4955479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OKzmgnQRc3WxU3Ty2SYk7Q.jpeg"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">via <a class="ae kv" href="https://www.flickr.com/photos/ohhsnap_me/" rel="noopener ugc nofollow" target="_blank">Megan Elice Meadows</a></figcaption></figure><p id="4b67" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你只需要【index.html】、<strong class="jm io"> main.css </strong>、<strong class="jm io"> main.js </strong>，以及任何你想用的图片。</p><h2 id="d793" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">HTML设置</h2><p id="2c9f" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">当我建立我的HTML时，我喜欢考虑页面的布局，并根据信息的层次结构将它分成几个框。<em class="ki">信息的层级</em>是一种有趣的说法，说明重要的东西应该是最容易看到的。在我们的游戏中，我希望按钮位于屏幕下方用户的“拇指区”附近，就像你在Instagram上看到的那样。我想要每个玩家的选择的图片在动作按钮上面，并且在顶部有一个分数。我们将跟踪玩家的分数，电脑的分数，以及平局。在最上面，我有游戏标题。这个游戏非常直观，所以我不会为方向而烦恼，但是你可以随意选择类似于，<em class="ki">“选择你的武器！”</em></p><p id="efe9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了让这个游戏<strong class="jm io">更容易被屏幕阅读器访问，更容易被搜索</strong>，我使用了<a class="ae kv" href="https://www.freecodecamp.org/news/semantic-html5-elements/" rel="noopener ugc nofollow" target="_blank">语义HTML元素</a>，而不仅仅是div。</p><p id="6764" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">布局:</p><p id="2d85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">body &gt; header，main，旁边还有RPS按钮，无耻的自我推销的可选链接</p><p id="ca45" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">主&gt;分数表，旁边有图片</p><p id="0302" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">继续尝试自己设置你的HTML，完成后回来看看它是否和我的一样。如果你愿意，可以随意修改布局。</p><p id="8bc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的HTML是这样结束的:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">HTML</figcaption></figure><h2 id="d177" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">CSS设置</h2><p id="4c93" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">我正在使用<a class="ae kv" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" rel="noopener ugc nofollow" target="_blank"> flexbox </a>让一切居中对齐。我的CSS是斯巴达式的，所以，请放开手脚，放弃或保留你认为正确的东西。我只要求你在继续前进之前花一点时间看看我做了什么。</p><p id="e980" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">确保在你的HTML的<code class="fe oi oj ok nu b">&lt;head&gt;</code>中用这样的一行链接你的CSS和HTML:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="7bdf" class="lv ky in nu b gy ny nz l oa ob">&lt;link <em class="ki">rel</em>=”stylesheet” <em class="ki">href</em>=”css/main.css” /&gt;```</span></pre><p id="91f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您必须更改<code class="fe oi oj ok nu b">href</code>属性以匹配CSS样式表的路径。</p><blockquote class="ol om on"><p id="cede" class="jk jl ki jm b jn jo jp jq jr js jt ju oo jw jx jy op ka kb kc oq ke kf kg kh ig bi translated">有两件事你可以做，那就是什么也不做，喜欢它！“岩石”德韦恩·约翰逊</p></blockquote><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">CSS</figcaption></figure><h2 id="c470" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">JS设置</h2><p id="5b57" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">接下来，我们想从你的JS开始。就像我们链接CSS样式表一样，我们需要链接JS脚本标签。</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="113e" class="lv ky in nu b gy ny nz l oa ob">&lt;script <em class="ki">defer</em> <em class="ki">src</em>="js/main.js"&gt;&lt;/script&gt;</span></pre><p id="c1ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一定要包含那个<a class="ae kv" href="https://www.w3schools.com/tags/att_script_defer.asp" rel="noopener ugc nofollow" target="_blank">延迟</a>标签。在我们得到一个完全解析的DOM之前，它会阻止我们的JS被加载。</p><p id="4513" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在JS文件中，使用控制台日志来确认它正在工作:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="363c" class="lv ky in nu b gy ny nz l oa ob">console.log("hello world!");</span></pre><p id="bf9a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用您的开发工具，您可以单击控制台按钮并查看消息！在做任何重要的工作之前，你总是希望建立JS和HTML的正确链接<em class="ki">，这样你就可以确定你没有忘记你的脚本标签或者使用错误的路径。</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ns"><img src="../Images/c1452eddf1fb525ef644847e250c9c77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mReMzwdsdmcw8UlLSFsdgg.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">You can ignore any <a class="ae kv" href="https://www.w3.org/2005/10/howto-favicon" rel="noopener ugc nofollow" target="_blank">“errors” from favicon</a> if you’ve made it this far!</figcaption></figure><h2 id="b31c" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">图像设置</h2><p id="6806" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">通常，每个武器只有一张图片，但我不能只选择<em class="ki">和“岩石”德韦恩·约翰逊的一张</em>照片，所以我打算每回合随机选择一张图片来显示每个武器。这让这个简单的概率游戏变得更加有趣和不可预测。花几分钟(或者几个小时——我不知道你有多少时间)找到有趣的图片用于你的项目，并把它们保存到项目根目录下的图片文件中，或者只使用URL。随意想出你自己的主题或者在游戏中旋转！你在网上找到的大多数个人非商业用途的照片可能没问题，但你也可以通过版权过滤在<a class="ae kv" href="https://www.flickr.com/" rel="noopener ugc nofollow" target="_blank"> flickr </a>和谷歌上的搜索，或者尝试这些免版税的照片网站:</p><ol class=""><li id="d7a6" class="mh mi in jm b jn jo jr js jv or jz os kd ot kh ou mp mq mr bi translated"><a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></li><li id="8217" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://gratisography.com/" rel="noopener ugc nofollow" target="_blank">地形图</a></li><li id="72d1" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://morguefile.com/" rel="noopener ugc nofollow" target="_blank">内存文件</a></li><li id="179a" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></li><li id="10a4" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="http://www.stockvault.net/" rel="noopener ugc nofollow" target="_blank">金库</a></li><li id="001f" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://www.pexels.com/" rel="noopener ugc nofollow" target="_blank">像素</a></li><li id="b971" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://picjumbo.com/" rel="noopener ugc nofollow" target="_blank"> Picjumbo </a></li><li id="07f5" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://www.pikwizard.com/" rel="noopener ugc nofollow" target="_blank"> Pikwizard </a></li><li id="50cb" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://www.rawpixel.com/" rel="noopener ugc nofollow" target="_blank"> Rawpixel </a></li><li id="2019" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh ou mp mq mr bi translated"><a class="ae kv" href="https://www.reshot.com/" rel="noopener ugc nofollow" target="_blank">重拍</a></li></ol><p id="38d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的图像元素有几个选项:创建一个<div>并用JS改变它的背景图像，或者创建一个图像并用JS改变它的<strong class="jm io">源</strong>。背景图片很好，因为与不同大小的图片相比，它们不太可能弄乱页面的布局，但是我将使用一个&lt; img &gt;元素并更改来源。我认为这些图像是这个游戏的<strong class="jm io">内容</strong>的一部分，而不是背景，并且不像div，图像带有一个<a class="ae kv" href="https://www.w3schools.com/tags/att_img_alt.asp" rel="noopener ugc nofollow" target="_blank"> alt属性</a>，允许<strong class="jm io">屏幕阅读器</strong>更好地工作，所以我们的应用程序更容易访问和搜索。一定要测试你所有的图片，确保尺寸正常，如果需要的话调整你的CSS。<strong class="jm io">正方形</strong>~ 500+px的图像最好。</div></p><h1 id="55e4" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">想办法</h1><p id="08b8" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">所以，我要考虑一下我的游戏，把它分成几个不同的部分。仔细检查每个问题，看看你的答案是否与我想出的答案一致。</p><p id="e2e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">页面上需要更改什么？(<strong class="jm io">缓存的元素引用</strong>)</p><p id="14b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的回答:</p><ul class=""><li id="6ffa" class="mh mi in jm b jn jo jr js jv or jz os kd ot kh mo mp mq mr bi translated">形象</li><li id="2ff6" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">得分</li></ul><p id="c6f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将在内存中记录什么？(<strong class="jm io">状态</strong>)</p><p id="2fd4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的回答:</p><ul class=""><li id="6441" class="mh mi in jm b jn jo jr js jv or jz os kd ot kh mo mp mq mr bi translated">电脑、玩家和平局的分数</li><li id="ecff" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">赢家，如果有的话</li><li id="611f" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">与每个武器相关的可用图像</li><li id="f409" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">可用的武器和他们能打败的对手</li></ul><p id="2af6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要了解哪些用户操作？(<strong class="jm io">事件监听器</strong>)</p><p id="d844" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的回答:</p><ul class=""><li id="ecbb" class="mh mi in jm b jn jo jr js jv or jz os kd ot kh mo mp mq mr bi translated">点击攻击招式</li></ul><p id="a704" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要采取什么行动？(<strong class="jm io">功能</strong>)</p><p id="0ed4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的回答:</p><ul class=""><li id="04fd" class="mh mi in jm b jn jo jr js jv or jz os kd ot kh mo mp mq mr bi translated">响应玩家选择的移动</li><li id="4575" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">决定获胜者</li><li id="c0e5" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">显示结果</li></ul><p id="ddc1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">计划是将上面的每个要点分解成一段代码。完成后，我们来玩游戏！</p><h1 id="267d" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">缓存的元素引用</h1><h2 id="2806" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">得分</h2><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="01b6" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">// --- cached element references ---</em></span><span id="aa04" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">// SCORES</em></span><span id="d4c5" class="lv ky in nu b gy ov nz l oa ob">const pScore = document.getElementById("player-score");<br/>const cScore = document.getElementById("computer-score");<br/>const tScore = document.getElementById("tie-score");<br/>console.log(pScore, cScore, tScore);</span></pre><p id="7aa8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我包含了一个console.log，这样我们可以在控制台中看到这些变量的样子，并确保我们在页面上抓取HTML元素。</p><p id="3627" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了使这一部分正常工作，请确保包含分数的元素具有正确的id属性，例如:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="a16b" class="lv ky in nu b gy ny nz l oa ob">&lt;tr&gt;<br/>  &lt;td id="player-score"&gt;0&lt;/td&gt;<br/>  &lt;td id="tie-score"&gt;0&lt;/td&gt;<br/>  &lt;td id="computer-score"&gt;0&lt;/td&gt;<br/>&lt;/tr&gt;</span></pre><p id="8d93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，如果我这样做:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="7d00" class="lv ky in nu b gy ny nz l oa ob">const pScore = document.getElementById("player-score");<br/>const cScore = document.getElementById("computer-score");<br/>const tScore = document.getElementById("tie-score");<br/>console.log(pScore, cScore, tScore);<br/>// new code below<br/>pScore.innerHTML = 1;<br/>cScore.innerHTML = 4;<br/>tScore.innerHTML = 3;</span></pre><p id="b07e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我应该会在文档中看到新的分数。</p><h2 id="a4f2" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">形象</h2><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="6f61" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">// SCORE ELEMENTS<br/></em>const pScore = document.getElementById("player-score");<br/>const tScore = document.getElementById("tie-score");<br/>const cScore = document.getElementById("computer-score");</span><span id="7748" class="lv ky in nu b gy ov nz l oa ob">// ----- NEW CODE BELOW ----</span><span id="d871" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">// IMAGE ELEMENTS<br/></em>const pImgEl = document.getElementById("player");<br/>const cImgEl = document.getElementById("computer");</span><span id="8838" class="lv ky in nu b gy ov nz l oa ob">console.log(pImg, cImg); // don't forget to clean up console.logs like this one later! We don't want to clutter the console!</span></pre><p id="5d11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我已经将新变量放入我常用的console.log中，以确保我得到了我认为我得到的东西。就像分数一样，确保图片的“id”属性是正确的。您应该能够在js中用这样一行代码来更改您的图像:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="341f" class="lv ky in nu b gy ny nz l oa ob">pImg.src = "images/paper1.jpg";</span></pre><p id="e96d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以使用本地文件的路径或您选择的图像的URL。gif也可以。在继续之前，不要忘记删除上面的行、console.logs以及您对分数所做的任何更改。</p><h1 id="9dc1" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">状态</h1><h2 id="694d" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">得分</h2><p id="99d5" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">我将使用一个对象来创建我的RPS图像“库”。每个攻击都有一个字符串数组，代表一个图像的路径。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">RPSLibrary</figcaption></figure><p id="5f08" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，如果您的js中有这个，您应该能够看到图像的变化:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="01a7" class="lv ky in nu b gy ny nz l oa ob">pImg.src = RPSLibrary.scissors[2];<br/>cImg.src = RPSLibrary.scissors[3];</span><span id="8ce2" class="lv ky in nu b gy ov nz l oa ob">pImg.alt = "scissors";<br/>cImg.alt = "scissors; // you can inspect the element to be sure "alt" attribute changed for screen readers</span></pre><p id="c9a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">确保<strong class="jm io">测试每一张图片</strong>以捕捉任何打字错误或断开的链接/路径。</p><h2 id="9173" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">胜利逻辑第一部分</h2><p id="5294" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">我们还需要知道以后哪种武器会打败哪种武器。所以，我要扩建我的图书馆。不是每个攻击持有一个数组，而是持有一个对象。现在我们的对象中有了对象。你能处理好吗？是的，你可以。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">RPSLibrary // the next level</figcaption></figure><p id="b4b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请注意，我们现在将像这样更改库中的图像:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="4925" class="lv ky in nu b gy ny nz l oa ob">pImg.src = RPSLibrary.rock.images[3];</span></pre><p id="7096" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在继续之前，请确保清理到目前为止您已经控制台记录或更改的值。</p><p id="138e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">等等，我们要改变的那个绝妙的小属性呢？我从没想过你会问！让我们将这个俄罗斯嵌套玩偶对象带到下一个级别，并使每个“图像”成为保存路径和alt:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">RPSLibrary // after second refactor</figcaption></figure><h1 id="e103" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">功能</h1><h2 id="f293" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">选择一件随机武器</h2><p id="8e29" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">对于我们的第一个功能，我需要我的电脑来选择一个攻击。我将使用<code class="fe oi oj ok nu b">Math.floor()</code>和<code class="fe oi oj ok nu b">Math.random()</code>来舍入一个随机数。首先，我会选择一种武器，然后是一个图像，并分配给电脑。</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="aeb3" class="lv ky in nu b gy ny nz l oa ob">const randomPicker = () =&gt; {</span><span id="14fd" class="lv ky in nu b gy ov nz l oa ob">  const weapon = RPS[Math.floor(Math.random() * 3)]; // selects a weapon at random</span><span id="192b" class="lv ky in nu b gy ov nz l oa ob">  console.log(weapon)<br/>  return weapon</span><span id="4639" class="lv ky in nu b gy ov nz l oa ob">};</span></pre><p id="53d4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们想在0和RPS的索引)之间选择一个随机武器，所以我们使用JavaScript的便利的<code class="fe oi oj ok nu b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noopener ugc nofollow" target="_blank">Math.random</a></code>函数。<code class="fe oi oj ok nu b">Math.random</code>会给我们一个0到1之间的随机浮点数(小数点)。它不会大到1，但也可能小到0。接下来，我们将随机小数点乘以3，这是我们从中选择的可能选项的数量。这将用<code class="fe oi oj ok nu b">Math.floor</code>来包装，所以它向下舍入到最接近的整数。随机数对各种事情都非常有用，所以这是一个需要记住的很好的函数！</p><p id="00e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">继续在你的控制台上输入<code class="fe oi oj ok nu b">randomPicker()</code>来看看它是怎么运行的！你得到一些随机数了吗？酷！</p><h2 id="cece" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">开始游戏</h2><p id="895d" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">既然我们有能力选出一个结果，让我们开始一个游戏。我们希望有一个可以每轮更新的<strong class="jm io">结果</strong>变量。</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="eff5" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">// --- variables ---</em></span><span id="db30" class="lv ky in nu b gy ov nz l oa ob">let results;</span></pre><p id="3fe9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要一个初始化函数来实例化游戏的当前状态:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="61b8" class="lv ky in nu b gy ny nz l oa ob">function init() {</span><span id="e30d" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">// p is for player c is for computer<br/>  </em>results = {<br/>    p: "rock",<br/>    c: "rock"<br/>  };</span><span id="c205" class="lv ky in nu b gy ov nz l oa ob">}</span><span id="2e73" class="lv ky in nu b gy ov nz l oa ob">// don't forget to call it! <br/>init()</span></pre><p id="c1cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将在整个教程中继续更新这个函数，但这就是我们目前所需要的。不要忘记在你的JS中调用<code class="fe oi oj ok nu b">init()</code>函数。</p><h2 id="7779" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">轮流</h2><p id="bf74" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">既然我们已经开始游戏了，让我们轮流试试。我们需要一个函数，把这三个放到你的函数部分:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">RPS functions</figcaption></figure><p id="44c5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当用户选择一个攻击时会触发一个回合，因此我们需要使用eventListeners来监听点击:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="8387" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">/*----- event listeners -----*/<br/></em></span><span id="a3b6" class="lv ky in nu b gy ov nz l oa ob">document.getElementById("rock-btn").addEventListener("click", handleTurnR);</span><span id="b329" class="lv ky in nu b gy ov nz l oa ob">document.getElementById("paper-btn").addEventListener("click", handleTurnP);</span><span id="b3ea" class="lv ky in nu b gy ov nz l oa ob">document.getElementById("scissors-btn").addEventListener("click", handleTurnS);</span></pre><p id="5fa5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">单击上的每个RPS按钮，确保它们都触发控制台日志。</p><p id="c506" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们需要做的就是将我们的results.p更新为我们之前设置的每个函数中的正确变量:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="15a8" class="lv ky in nu b gy ny nz l oa ob">function handleTurnR() {</span><span id="eeec" class="lv ky in nu b gy ov nz l oa ob">  results.p = "rock";</span><span id="3ba9" class="lv ky in nu b gy ov nz l oa ob">}</span><span id="d840" class="lv ky in nu b gy ov nz l oa ob">function handleTurnP() {</span><span id="8bac" class="lv ky in nu b gy ov nz l oa ob">  results.p = "paper";</span><span id="128b" class="lv ky in nu b gy ov nz l oa ob">}</span><span id="fbc2" class="lv ky in nu b gy ov nz l oa ob">function handleTurnS() {</span><span id="5b36" class="lv ky in nu b gy ov nz l oa ob">  results.p = "scissors";</span><span id="1514" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="215a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们设置了results.p之后，所有这些函数都将做同样的事情:为计算机选择一步棋，确定赢家，并显示比赛的结果，所以让我们在我们要做的地方建立一个函数，并确保在我们的每个<code class="fe oi oj ok nu b">handleTurn()</code>函数中调用它:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">RPS functions</figcaption></figure><p id="727f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在您应该得到控制台日志和结果。注意，results.c还没有改变。让我们确保处理好这个问题:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="dcc1" class="lv ky in nu b gy ny nz l oa ob">function handleResults() {</span><span id="0b69" class="lv ky in nu b gy ov nz l oa ob">  results.c = randomPicker();</span><span id="60ea" class="lv ky in nu b gy ov nz l oa ob">  console.log("turn taken!", results, winner);</span><span id="3a72" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="6e8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当你点击按钮，你应该看到你的球员和计算机的结果更新。</p><h2 id="2523" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">决定获胜者</h2><p id="5846" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">为了确定谁是赢家，我们需要一个<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Glossary/Global_scope" rel="noopener ugc nofollow" target="_blank">全局</a>赢家变量。全局意味着它对所有其他范围都是可见的，就像我们的结果变量一样。</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="1842" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">// --- variables ---</em></span><span id="27c5" class="lv ky in nu b gy ov nz l oa ob">let winner, results;</span></pre><p id="6fda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可能想用init()实例化winner，也可能不想，如果你不这样做，它将是未定义的。否则，只需将其设置为等于null:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="1203" class="lv ky in nu b gy ny nz l oa ob">function init() {</span><span id="9145" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // p is for player c is for computer</em></span><span id="b9a9" class="lv ky in nu b gy ov nz l oa ob">  results = {<br/>    p: "rock",<br/>    c: "rock"<br/>  };</span><span id="f888" class="lv ky in nu b gy ov nz l oa ob">  winner = null; <em class="ki">// null -no winner yet; if 'p' -player wins; if c -computer wins, if t - tie;</em></span><span id="4b7f" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="2349" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们有了赢家，我们可以写一个函数来更新每一轮的变量。让我们总结一下我们的函数，并考虑它应该如何工作:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="446a" class="lv ky in nu b gy ny nz l oa ob">function getWinner() {</span><span id="9052" class="lv ky in nu b gy ov nz l oa ob">  // see if player and computer chose the same thing: that's a tie<br/>  // see if player defeats computer: return player<br/>  // only other option is that computer won, sorry player!</span><span id="0595" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="9e65" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该函数需要查看我们玩家的选择，将其与我们计算机的选择进行比较，并基于我们的<strong class="jm io">结果</strong>返回“平局”、“玩家”或“计算机”。</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="a933" class="lv ky in nu b gy ny nz l oa ob">function getWinner() {</span><span id="97d3" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // t for tie, p for player, c for computer<br/>  if</em> (results.p === results.c) {<br/>    <em class="ki">return</em> "t";<br/>  }</span><span id="63ea" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // we can also use brackets to access a property in RPSLibrary that we'll set with a variable</em></span><span id="d549" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  if</em> (RPSLibrary[results.p].defeats === results.c) {<br/>    <em class="ki">return</em> "p";<br/>  }<br/><em class="ki">  return</em> "c";</span><span id="d8a7" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><blockquote class="ol om on"><p id="1c38" class="jk jl ki jm b jn jo jp jq jr js jt ju oo jw jx jy op ka kb kc oq ke kf kg kh ig bi translated">你得到了Spinnerooni，Dipsy Doodle和Succotash<br/>——Dwayne“岩石”约翰逊</p></blockquote><p id="a0e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意，你看不到“<em class="ki"> else </em>”或“<em class="ki"> if else </em>”，那是因为如果我到达一个if块，我就从函数返回，所以“<em class="ki"> else </em>是隐式的！当我到达最后一个return语句时，我总是想返回results.c，如果我还没有碰到另外两个块中的一个，那么我不需要另外一个。这叫做<a class="ae kv" href="https://www.samanthaming.com/tidbits/23-no-else-return/" rel="noopener ugc nofollow" target="_blank">否否则返回</a>。现在你应该可以使用你的控制台输入<code class="fe oi oj ok nu b">getWinner()</code>，它应该返回<code class="fe oi oj ok nu b">“t”</code>，但是如果你输入<code class="fe oi oj ok nu b">results.p = "paper"</code>，<code class="fe oi oj ok nu b">getWinner()</code>现在应该返回<code class="fe oi oj ok nu b">“p”</code>，如果你输入<code class="fe oi oj ok nu b">results.p = "scissors"</code>，<code class="fe oi oj ok nu b">getWinner()</code>应该返回<code class="fe oi oj ok nu b">“c”</code>。在继续之前，请确保该方法有效。如果没有，检查错别字或其他错误。</p><p id="0402" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们在handleResults()函数中更新winner变量:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="f725" class="lv ky in nu b gy ny nz l oa ob">function handleResults() {</span><span id="5694" class="lv ky in nu b gy ov nz l oa ob">  results.c = randomPicker();</span><span id="6ea2" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // new code below<br/>  </em>winner = getWinner();<br/>  console.log("turn taken!", results, winner);</span><span id="ecd4" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="3e7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">太好了！</p><h2 id="046b" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated">得分</h2><p id="f4bc" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">现在我们有了结果，是时候开始追踪分数了。让我们给全局变量打分:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="42d2" class="lv ky in nu b gy ny nz l oa ob"><em class="ki">// --- variables ---</em></span><span id="0df1" class="lv ky in nu b gy ov nz l oa ob">let winner, results, scores;</span></pre><p id="e755" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">而我们的<code class="fe oi oj ok nu b">init()</code>功能:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">init function</figcaption></figure><p id="fa3d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在在<code class="fe oi oj ok nu b">handleResults()</code>中，我们想在每一回合中给获胜者的分数加一分:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="703b" class="lv ky in nu b gy ny nz l oa ob">function handleResults() {</span><span id="32c4" class="lv ky in nu b gy ov nz l oa ob">  results.c = randomPicker();<br/>  winner = getWinner();</span><span id="c73e" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // new code below<br/>  </em>scores[winner]++;<br/>  console.log("turn taken!", results, winner, scores);</span><span id="2dce" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="7989" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">太好了！就一句台词！</p><p id="c77a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这一点上，我们可以发挥整个游戏的岩石，纸，剪刀从控制台内。随着游戏的进行，我们可以选择移动，获得结果，并保持分数。此时，您已经编写了一个功能完整的游戏。</p><h1 id="58bc" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">把它照亮真的很好…</h1><blockquote class="nc"><p id="0753" class="nd ne in bd nf ng nh ni nj nk nl kh dk translated">带着米老鼠纹身和33磅重的头的殡仪员<br/>-德韦恩“摇滚”约翰逊</p></blockquote><p id="bb50" class="pw-post-body-paragraph jk jl in jm b jn nm jp jq jr nn jt ju jv no jx jy jz np kb kc kd nq kf kg kh ig bi translated">许多教程可以教你编写这个游戏或类似的游戏。也许他们甚至会用更少的代码行来完成它，但是我经常看到他们<strong class="jm io">没有</strong>强调定义和操纵状态的方法，然后继续呈现该状态。</p><p id="5cec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我想强调的是，我们的设计是以<strong class="jm io"> <em class="ki">数据为中心的</em> </strong>。许多教程可以教你编写这个游戏或者类似的游戏，但是我经常看到它们<strong class="jm io">没有</strong>来强调定义和操纵状态的方法，并且在继续渲染该状态之前。有时他们会边走边呈现状态，有时不会，但他们不会向学习者解释他们为什么要这样做。这种以数据为中心的方法是有组织的，可以帮助我们发现程序中的缺陷，并减少不必要的重新渲染。</p><p id="d5b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们写一个<code class="fe oi oj ok nu b">render()</code>函数，为最终用户显示游戏。我将使用一些注释来定义我们的意图，并使用一个简单的控制台日志来验证当我想调用它时它是否被调用。</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="0133" class="lv ky in nu b gy ny nz l oa ob">function render() {</span><span id="92e9" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // select random images from our RPS library for p and c<br/>  // update scores<br/>  // update images<br/>  // highlight the winner</em></span><span id="b6ad" class="lv ky in nu b gy ov nz l oa ob">  console.log('render working!')<br/>}</span></pre><p id="2b47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们确保在<code class="fe oi oj ok nu b">handleResults()</code>结束时调用该函数:</p><pre class="kk kl km kn gt nt nu nv nw aw nx bi"><span id="65d0" class="lv ky in nu b gy ny nz l oa ob">function handleResults() {</span><span id="ca74" class="lv ky in nu b gy ov nz l oa ob">  results.c = randomPicker();<br/>  winner = getWinner();<br/>  scores[winner]++;</span><span id="171c" class="lv ky in nu b gy ov nz l oa ob"><em class="ki">  // new code below<br/>  </em>render();</span><span id="1e04" class="lv ky in nu b gy ov nz l oa ob">}</span></pre><p id="0369" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里最棘手的部分是随机选择要显示的图片，但幸运的是，我们已经知道如何从随机选取器中获取随机数。</p><p id="17b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们修改我们在那里使用的函数，从RPSLibrary的图像部分获取一个随机的索引号。如果这在一开始没有意义，尝试将一些值导出到它们自己的变量中可能会有所帮助。这一次，请确保<strong class="jm io">不是乘以3，而是乘以您选择的图像阵列的长度</strong>。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">render function</figcaption></figure><p id="8aa3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里的<strong class="jm io">与</strong>完全相同，但是<em class="ki"> cImgs </em>用更易读的变量分解。我会让你来决定你更喜欢哪个版本:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">render function with cImgs broken down</figcaption></figure><p id="58ab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请确保检查您的控制台日志中是否有这些图像。好了，让我们开始更新这些DOM元素吧！</p><p id="e902" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于我们的分数，我们将像开始时一样更改它们，但这次我们将使用我们在state中保存的值:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">render</figcaption></figure><p id="6e74" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">放松。图像:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">render with images</figcaption></figure><p id="4a22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嘿！我们基本上已经有了一个工作游戏！让我们为获胜者添加一个有趣的边框，为我们的用户提供更多的视觉信息，并使用我们的无其他回报策略:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">render function final version</figcaption></figure><p id="f7a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">全部完成！如果你喜欢这个教程，看看我的第一个，世界上最强大的井字游戏JavaScript教程<a class="ae kv" href="https://medium.com/javascript-in-plain-english/the-worlds-most-empowering-tic-tac-toe-javascript-tutorial-a889e4c20883" rel="noopener">。</a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/9bec48a6e6ee77e17202f54fdb16419c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*QquZzp0iIlILsSrNUWOsJA.jpeg"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk"><a class="ae kv" href="https://www.flickr.com/photos/151401612@N04/34319038303/in/photolist-UhE3qX-26A3vB4-e3bDNU-e35Y1F-e3bE43-2ecrgiM-2g6jvPk-2hUx9yk-2gNGmUs-2hRGhYr-jqAxV-Mhp16k-o2hQHP-sQAhaj-nK7qza-nZA3F9-o2zXwZ-nK6Asj-nK7kL2-nK7n5p-o2ucjE-o4ngsk-T4MBEE-ntfqY3-6vHSNt-2i5GwGe-e3bF8b-o4nih2-2h6utTp-o2udFs-drxZe5-o2zXqX-9EtLqA-9EqRKB-e4GUBo-e4GoGS-e4GoGQ-e4AMVH-dQT6hK-nK7rDe-25qx8Ad-7m8HKQ-2e744nq-24C5cJV-5GPHHX-P7zKEQ-e3bF3j-e3bDBy-e35X2a-e35WBH" rel="noopener ugc nofollow" target="_blank">via flickr</a></figcaption></figure><h1 id="20a6" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">还想吃更多吗？</h1><p id="f5e3" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">您可以尝试添加到该计划中的2级附加功能:</p><ul class=""><li id="7727" class="mh mi in jm b jn jo jr js jv or jz os kd ot kh mo mp mq mr bi translated">在攻击移动被选择之后，在显示结果之前运行的倒数计时器</li><li id="2683" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">移动时播放的声音效果</li><li id="07ea" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">使用2个ternaries代替<code class="fe oi oj ok nu b">if</code>语句设置边框颜色。</li><li id="494d" class="mh mi in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">在GitHub页面(或任何地方)上启动，然后把链接发给我！(请这样做！)</li></ul><h2 id="00ef" class="lv ky in bd kz lw lx dn ld ly lz dp lh jv ma mb ll jz mc md lp kd me mf lt mg bi translated"><strong class="ak">简明英语JavaScript</strong></h2><p id="f42a" class="pw-post-body-paragraph jk jl in jm b jn mj jp jq jr mk jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io">订阅我们的YouTube频道</strong> </a> <strong class="jm io">获取更多类似内容！</strong></p></div></div>    
</body>
</html>