<html>
<head>
<title>Inject Generic Floating Toolbar into any Website using Playwright</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">注入通用浮动工具栏到任何使用剧作家的网站</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/inject-generic-floating-toolbar-into-any-web-application-or-site-using-playwright-d26eb116153a?source=collection_archive---------11-----------------------#2020-12-28">https://javascript.plainenglish.io/inject-generic-floating-toolbar-into-any-web-application-or-site-using-playwright-d26eb116153a?source=collection_archive---------11-----------------------#2020-12-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c028" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我追求的目标如下:我希望能够打开任何网站或web应用程序，并在网站内容的顶部拥有自己的浮动工具栏。当我浏览网站或应用程序时，我可以使用工具栏中的功能，例如拍摄当前页面状态的快照并将其保存到文件中，下载当前页面中的所有图像，使用预定义或随机值填写表单字段，并开始演示。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/b76fbcb55cb5a0c3aff1cfdd621c6a6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14PhO-cqeoC5yfiMSSCnQQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">My own toolbar floating in the context of various well known web sites — injected through Playwright, ready for some action.</figcaption></figure><p id="1010" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在以前的各种文章中，我已经讨论了剧作家——一个开源节点库(也可用于Java、C#、Go、Python ),它提供了对嵌入式web浏览器的访问，可以从主机节点应用程序完全控制该浏览器。剧作家允许浏览器内容与应用程序进行交互，反之亦然。节点代码可以操作浏览器中的DOM和JavaScript上下文——添加或更改DOM元素和JavaScript函数和对象。节点代码可以捕获浏览器事件，也可以触发浏览器事件。如果你以前没有接触过剧作家，那么我建议你先阅读一下我之前的文章，了解一下它是什么以及它能用来做什么。</p><p id="3c4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这次我想做的是:</p><ul class=""><li id="7495" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated">使用HTML和CSS创建一个浮动、固定、半透明的工具栏</li><li id="45d0" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">使用剧作家将此工具栏添加到加载到嵌入式浏览器中的网站或应用程序的顶部</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lq"><img src="../Images/d909794d8656a312ff3592873f9c7117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6dtkCkfSm0B_-_M6yVQYWQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Example: the toolbar embedded in Google search</figcaption></figure><ul class=""><li id="bca1" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated">确保当浏览器导航到一个新页面时，工具栏仍然存在(在页面刷新或从一个新的URL加载后，可能需要再次添加工具栏)</li><li id="c187" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">实现链接到工具栏选项的快照功能:当该选项被触发时，用于拍摄页面快照的剧作家功能被激活。注意:拍摄快照时，工具栏本身应该是隐藏的</li><li id="b8c2" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">使用快捷键组合显示和隐藏工具栏</li><li id="f796" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">添加用于将页面中的所有图像保存到本地文件的工具栏选项</li><li id="dec9" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">和web应用程序(保存所有表单条目，记录当前选择的文本，从页面中删除所有图像，..)</li></ul><p id="4f81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注:本文所有代码均可在GitHub上获得:<a class="ae lb" href="https://github.com/lucasjellema/playwright-scenarios/tree/main/floating_menu" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/lucasjellema/剧作家-场景/tree/main/floating_menu </a>。</p><h1 id="2855" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">1.使用HTML和CSS创建浮动、固定、半透明的工具栏</h1><p id="8214" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">我创建浮动工具栏的最好资源是W3 Schools(【https://www.w3schools.com/howto/howto_js_navbar_sticky.asp】T4和其他学校)。这是我创造的:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/a72a7449a7498bf84976287e75b93d3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*fwjku9Nqi8pvF7vs.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Bare Floating Toolbar — based on W3 Schools</figcaption></figure><p id="f356" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个项目都是一个链接。当点击链接时，可以触发一个动作。</p><p id="ad3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTML和CSS相对简单。首先是CSS:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/41aefa08a380b7c2c5bbba276d4556d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/0*wmEbFXc_auZQD2sW.png"/></div></figure><p id="f336" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是HTML:</p><pre class="km kn ko kp gt mw mx my mz aw na bi"><span id="80b8" class="nb ls iq mx b gy nc nd l ne nf">&lt;ul class="toolbar"&gt;<br/>  &lt;li &gt;&lt;a&gt;Reset&lt;/a&gt;&lt;/li&gt;<br/>  &lt;li &gt;&lt;a&gt;Pause&lt;/a&gt;&lt;/li&gt;<br/>  &lt;li &gt;&lt;a&gt;Next Step&lt;/a&gt;&lt;/li&gt;<br/>  &lt;li style="float:right"&gt;&lt;a class="active"&gt;Take Snapshot&lt;/a&gt;&lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><h1 id="7071" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">2.将此工具栏添加到使用剧作家加载到嵌入式浏览器中的网站或应用程序的顶部</h1><p id="8909" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">剧作家允许我们操纵在浏览器上下文中加载的页面。我们可以添加样式和JavaScript——并执行JAVAScript。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/2b080ea904d47fcb62f55adb3adaf2ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/0*XUu4kq6gp68nNXb9.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Code for running a Chromium browser from Node using Playwright and injecting the floating toolbar to whatever page is loaded in the browser</figcaption></figure><p id="0a05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦创建了新的浏览器上下文，在节点上下文(准备工具栏)中定义的函数就会在浏览器中显示在窗口对象上(作为准备工具栏函数)。随后，使用addInitScript()，设置了一个JavaScript命令——对window.prepareToolbarFunction()的调用，实际上是对函数prepareToolbarFunction()的调用。每当创建、重新加载或导航页面或页面中的iframe时，将执行此命令；这甚至适用于用户可以在浏览器中打开的附加选项卡。函数prepareToolbar()做两件事:它创建了一个样式标记，定义了工具栏的CSS(通过addStyleTag())，并通过对addHTML的调用为页面中的工具栏创建了HTML元素。在addHTML()中，DIV元素作为BODY的直接子元素添加。这个元素是工具栏的容器。div的HTML内容——工具栏本身——是在常量<em class="nh"> navBar </em>中定义的，该常量在对addHTML()的调用中被传递，并被设置为DIV元素的innerHTML属性。</p><p id="292f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工具栏作为BODY元素的子元素添加到DOM中。每当DOM被刷新并且BODY元素被丢弃时，工具栏也会随之消失。因为initscript是由剧作家在每一个可能破坏了BODY和工具栏的动作之后执行的，所以我们确保了每当浏览器导航到一个新的页面时，工具栏都会保留(==被重新创建)。</p><p id="3eed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这段代码引用了两个常数，分别定义了CSS和HTML的menuStyleTag和navBar:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/acbfcfff9bd3dcb0c5cf8d51c58aff76.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/0*FFgQd0tIG7yfstx2.png"/></div></figure><h1 id="9999" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">3.实现链接到工具栏选项的快照功能</h1><p id="6b7f" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">当<em class="nh">拍摄快照</em>选项被触发时，用于拍摄页面快照的剧作家功能被激活；这将创建一个PNG文件，其中包含浏览器内容在当前滚动位置的可见视口中的图像。注意:在拍摄快照时，工具栏本身应该是隐藏的。</p><p id="c24d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工具栏选项<em class="nh">拍摄快照</em>链接到功能<em class="nh">窗口。</em></p><pre class="km kn ko kp gt mw mx my mz aw na bi"><span id="53ae" class="nb ls iq mx b gy nc nd l ne nf">&lt;li style="float:right"&gt;<br/>&lt;a class="active" onclick="window.snapshotFunction('FloatingDemo')"&gt;Take Snapshot&lt;/a&gt;<br/>&lt;/li&gt;</span></pre><p id="3406" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该函数通过以下调用被注入到窗口对象中:</p><pre class="km kn ko kp gt mw mx my mz aw na bi"><span id="f2ab" class="nb ls iq mx b gy nc nd l ne nf">await context.exposeBinding('snapshotFunction', snapshotter)</span></pre><p id="a806" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该函数是函数<em class="nh">快照</em>(在节点上下文中)的代理(在浏览器上下文中)。该功能定义如下:</p><p id="fe6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">传递给snapshotter的第一个参数是由剧作家提供的:任何对通过exposeBinding公开的函数的调用都会有这个由剧作家添加的<em class="nh"> source </em>参数；它包含呼叫发生的相关上下文细节；非常重要的是，它包含了<em class="nh">页面</em>对象，它是DOM和JavaScript上下文的链接。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/99d872f2816d20201ba7891ba574ec41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*jfPS30O-dpP67Gdv.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Node function that is triggered when Take Snapshot is clicked in the toolbar; this function hides the toolbar, takes the snapshot and shows the toolbar again</figcaption></figure><p id="c732" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该函数在工具栏上获得一个句柄(通过页面。$eval)并隐藏div(使用style，。display = 'none '。接下来，通过页面对象上的剧作家函数<em class="nh">截图</em>，导出快照文件的名称——包括标签参数和时间戳——并拍摄和保存快照。随后，工具栏再次可见。</p><p id="5012" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此时，工具栏中的<em class="nh">拍摄快照</em>功能被激活。当页面加载到嵌入式剧作家浏览器中时，通过单击工具栏选项来拍摄快照。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/90066fb94bbfdd5896d063582d9f0e95.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/0*v61XAkTNGeq_qGjv.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">This image shows how the toolbar shows on the Playwright.dev website and how to snapshots result in two PNG files — that do not contain the toolbar itself</figcaption></figure><p id="06a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个例子中，我已经在https://playwright.dev/<a class="ae lb" href="https://playwright.dev/" rel="noopener ugc nofollow" target="_blank">加载了剧作家主页。我拍了一张快照，导航到文档部分，滚动页面，拍了第二张快照。图的底部显示了打开两个快照文件的VS代码。请注意，工具栏不是快照的一部分。</a></p><h1 id="c7a5" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">4.使用快捷键组合显示和隐藏工具栏</h1><p id="fe96" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">工具栏有时会碍手碍脚，所以最好能把它隐藏起来。再放一遍。我们可以使用快捷键来实现。在这篇文章中，我描述了如何将一个快捷键通过剧作家注入到任何页面中。按照本文的说明，设置快捷键CTRL+B在隐藏和可见工具栏之间切换相对容易。</p><p id="996c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一段代码中定义了两个浏览器端JavaScript函数:handleShortCutKey()是一个函数，它将检查刚刚释放的键；如果那个键需要一个特殊的动作，这个函数将触发一个特殊的函数来处理那个键。目前该函数只检查CTRL+b；根据该组合键，它调用第二个浏览器端功能:toggleToolbar()。这个函数定位带有工具栏标识符的DOM元素(从常量TOOLBAR_ID读入这个函数的定义)。根据style.display的当前值，该属性将从none切换到block，反之亦然。这将显示或隐藏工具栏div和整个工具栏。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/5a15e7f67955006838dc757ff31a1dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*n3fwYG7HWsHAQXJ_.png"/></div></figure><p id="17da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，对document.addEventListener()的调用将函数handleShortCutKey()配置为keyUp事件的处理程序。</p><p id="a1c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这两个函数定义和对document.addEventListener()的最后调用都是在const <em class="nh"> shortCutJS中定义的。</em>该常量被添加到<em class="nh"> addInitScript </em>中传递的<em class="nh">内容</em>中，因此将在每个页面和框架中执行。每当我们运行一个页面，工具栏就会被添加，我们可以用CTRL+b隐藏它，然后用同样的组合把它带回来。</p><h1 id="bad9" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">5.添加用于保存页面中所有图像的工具栏选项</h1><p id="a063" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">这一步不是严格要求的——但它很有趣，而且考虑到我们已经拥有的所有部分，这是一个很容易解决的难题。另外，请阅读我之前的一篇关于添加快捷键来下载所有图片的文章:<a class="ae lb" href="https://medium.com/javascript-in-plain-english/use-playwright-to-inject-shortcut-keys-into-any-web-page-for-example-to-download-all-images-59195cf557a5" rel="noopener">使用剧作家将快捷键注入任何网页——例如下载所有图片</a></p><p id="e1e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，在工具栏中添加一个选项来保存所有图像:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/066cfe42de9eea76870b4d7904796291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*bWw-1oI9uJhG-bdF.png"/></div></figure><p id="f64b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后定义函数allImageDownloader及其所需的所有内容(包括函数streamImageFromURL、const IMAGE_PATH和用于<em class="nh">请求</em>和<em class="nh"> fs </em>的require语句)。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/7bd08bfd912c631cedda761f3ca1b974.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*-B-OuJawdrN5aSM_.png"/></div></figure><p id="76d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，在窗口对象中公开这个函数allImageDownloader，使它可用于工具栏选项上的onclick操作:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/65918eeee0fe73cf6c8b54f85b562cb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*6o25LsmdugKXfDXK.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Make Node function allImageDownloader accessible in browser context as window.saveAllImagesFunction</figcaption></figure><p id="b1f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以:工具栏有onclick动作的链接；这将在浏览器上下文中调用window.saveAllImagesFunction。这个调用被转发到节点函数allImageDownloader。该函数定位当前页面中的所有图像，并从图像src url中检索它们的内容，并将其保存到本地<em class="nh">图像</em>目录中。</p><p id="1736" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工具栏有保存图像的额外选项。我加载了一个荷兰新闻网站。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/16573244cbfdd6df5687e13f7a7aa4a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*VnMcyAHzooGZZ4p8.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Dutch news website with toolbar floating</figcaption></figure><p id="3980" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在按下保存图像之前，这是VS代码中图像文件夹的样子:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/606bea5fa26c2c1e3b4d50aad6a67a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/0*2u4qFR1lqt6SCjFX.png"/></div></figure><p id="879e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是按下工具栏选项后的样子:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/262122240f3092cd6407e72aeec744ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*MdqdzMr9cIS-dFCk.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Dozens of image files were created when the Save Images option in the toolbar was activated</figcaption></figure><h1 id="9478" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">资源</h1><p id="c3df" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">本文所有代码均可在GitHub上获得:<a class="ae lb" href="https://github.com/lucasjellema/playwright-scenarios/tree/main/floating_menu" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/lucasjellema/剧作家-场景/tree/main/floating_menu </a>。</p><p id="429a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另外，请阅读我之前的一篇关于添加快捷键来下载所有图片的文章:<a class="ae lb" href="https://medium.com/javascript-in-plain-english/use-playwright-to-inject-shortcut-keys-into-any-web-page-for-example-to-download-all-images-59195cf557a5" rel="noopener">使用剧作家将快捷键注入任何网页——例如下载所有图片</a></p><p id="eba3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我在之前的一篇文章中介绍过剧作家——它是什么，它能用来做什么。</p><p id="16dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">水平导航栏上的W3Schools—<a class="ae lb" href="https://www.w3schools.com/howto/howto_js_navbar_slide.asp" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/howto/howto_js_navbar_slide.asp</a>和其他</p><p id="b9e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用JavaScript设置CSS样式—【https://dev.to/karataev/set-css-styles-with-javascript-3nl5 T2】</p><p id="4cd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">AddInitScript上的剧作家文档:<a class="ae lb" href="https://microsoft.github.io/playwright/docs/1.6.1/api/class-browsercontext#browsercontextaddinitscriptscript-arg" rel="noopener ugc nofollow" target="_blank">https://Microsoft . github . io/剧作家/文档/1 . 6 . 1/API/class-browser context # browsercontextaddinitscriptscript-arg</a></p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="8326" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nh">原载于2020年12月28日</em><a class="ae lb" href="https://technology.amis.nl/2020/12/28/inject-generic-floating-toolbar-into-any-web-application-or-site-using-playwright/" rel="noopener ugc nofollow" target="_blank"><em class="nh">https://technology . amis . nl</em></a><em class="nh">。</em></p></div></div>    
</body>
</html>