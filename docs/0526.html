<html>
<head>
<title>Creating Art with HTML Canvas and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用HTML画布和JavaScript创作艺术</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introduction-to-html5-canvas-for-generative-art-f8093e3c5ba2?source=collection_archive---------2-----------------------#2019-11-03">https://javascript.plainenglish.io/introduction-to-html5-canvas-for-generative-art-f8093e3c5ba2?source=collection_archive---------2-----------------------#2019-11-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a825cbf0b8e708ed1901caf4e4eb2b32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YkKgLfAJc1Q_ln737HkHYA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">First attempt at creative coding</figcaption></figure><h1 id="f3e8" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak">动机</strong></h1><p id="c272" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">在过去的几个月里，除了创作<a class="ae lv" href="https://koonchi.com" rel="noopener ugc nofollow" target="_blank"> Koonchi </a>，我对生殖艺术产生了浓厚的兴趣。</p><blockquote class="lw lx ly"><p id="a122" class="kx ky lz kz b la ma lc ld le mb lg lh mc md lk ll me mf lo lp mg mh ls lt lu ig bi translated">“生成艺术通常指的是<a class="ae lv" href="https://en.wikipedia.org/wiki/Algorithmic_art" rel="noopener ugc nofollow" target="_blank">算法艺术</a>(由算法决定的计算机生成的艺术作品)”—维基百科</p></blockquote><p id="65b8" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">也被称为创造性编码，它是创造性和现代计算机所能提供的一切的结合。我已经作为软件工程师专业工作了8年多，但我仍然很难理解为什么我不认为写代码是创造艺术。但正如他们所说的，迟到总比不到好，所以让我们开始我们的冒险吧。</p><p id="d931" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">我计划写一系列关于我的创造性编码之旅的文章，这个过程的第一步是探索HML5 <code class="fe mi mj mk ml b">&lt;canvas&gt;</code>元素。</p><p id="7f19" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">你可能会问为什么<code class="fe mi mj mk ml b">&lt;canvas&gt;</code>元素如此特别，简单的答案是:它可以用来用JavaScript绘制图形。它提供了操纵照片的API，创建游戏和动画的工具，并且它使得创建生成性艺术变得非常容易。</p><p id="9425" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">这是否意味着我们只能在网络上使用JavaScript进行艺术创作？绝对不行！所有语言都有大量的库、资源和框架。你可能需要做一些调查，但是我在github 上找到了一个很棒的列表。</p><h1 id="880e" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">HTML5画布如何入门？</h1><p id="cab8" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">这是一个分两步走的过程。</p><p id="3511" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io">步骤1 </strong>:在你的HTML文档中添加<code class="fe mi mj mk ml b">&lt;canvas&gt;</code>元素，比如</p><p id="7d3b" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe mi mj mk ml b">&lt;canvas id="myCanvas"&gt;&lt;/canvas&gt;</code></p><p id="898a" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io">第二步</strong>:在JavaScript中使用canvas的context API进行绘制</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="9af3" class="mu ka in ml b gy mv mw l mx my">const canvas = document.querySelector("#myCanvas")<br/>const ctx = canvas.getContext("2d")</span></pre><p id="cbd8" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">如果你想跳过实现细节，转而看一个完整的工作示例check out<a class="ae lv" href="https://codepen.io/varunio/pen/NWWXvVg" rel="noopener ugc nofollow" target="_blank">codepen</a>&amp;<a class="ae lv" href="https://codepen.io/varunio/pen/wvvpPaY" rel="noopener ugc nofollow" target="_blank">codepen</a>。</p><h1 id="84ff" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是语境？</h1><p id="e498" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">Canvas允许使用JavaScript API进行绘图和像素操作。这幅画必须在画布上进行。把context想象成一个要绘画的页面，把API想象成可用的工具(或者画笔)。上下文可以是“2d”或“web GL”(3d)。出于介绍的目的，我们将始终假设“2d”上下文。</p><h1 id="4852" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">如何设置画布的宽度和高度？</h1><p id="dc80" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">canvas元素的维度可以在HTML中静态设置，也可以使用JavaScript动态设置，或者两者结合使用。</p><p id="ce0f" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">使用HTML:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="0069" class="mu ka in ml b gy mv mw l mx my">&lt;canvas id="myCanvas" width="200" height="300"&gt;&lt;/canvas&gt;</span></pre><p id="28dd" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">使用JavaScript:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="3b0c" class="mu ka in ml b gy mv mw l mx my">const canvas = document.querySelector("#myCanvas")</span><span id="7419" class="mu ka in ml b gy mz mw l mx my">canvas.width  = 200<br/>canvas.height = 300</span><span id="9095" class="mu ka in ml b gy mz mw l mx my">// To set width and height of current viewport do</span><span id="5292" class="mu ka in ml b gy mz mw l mx my">// canvas.width  = window.innerWidth<br/>// canvas.height = window.innerHeight</span></pre><h1 id="1dae" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">网格或坐标空间</h1><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/bb0ff9bb3924b5f5cd09653bc313fc7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*D_MWsJiU74ZhIqEwXafrmA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">1: A rectangle on canvas at position 0, 0</figcaption></figure><p id="62a5" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">如果您希望按照需要定位元素，理解画布的坐标空间是很重要的。画布左上方代表<strong class="kz io"> (0，0) </strong>或<strong class="kz io">原点</strong>坐标。画布上的所有元素都是参照这个原点放置的。网格上的1点大致相当于1px。<br/>图1进一步阐述:我们的画布周围有红色边框，我们用蓝色的<em class="lz">笔画</em>绘制了一个<em class="lz">宽<em class="lz">高</em>100像素的矩形</em>。</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/4978af22c37e7e795a3c0378bd5c9898.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*cB2T6mF5VPpvL6-gjbVLVw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">2: A rectangle on canvas at position 20, 20</figcaption></figure><p id="c0ab" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">提供x和y坐标会相对于画布的原点坐标平移元素。如图2所示，我们的矩形向右下方移动了20个像素，因为我们将x和y的值设置为20。</p><h1 id="ddf9" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">怎么画基本形状？</h1><p id="873d" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">很容易画出基本的形状，如矩形、三角形、正方形、圆形、多边形或两点之间的简单直线。但是默认情况下Canvas只提供了绘制矩形的方法。然而，形状的其余部分可以通过使用路径API以及直线和圆弧API的组合来连接点来创建。让我们看一些代码示例来进一步阐述。</p><p id="55b3" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io">矩形:</strong>矩形可以根据上下文使用<code class="fe mi mj mk ml b">fillRect(x, y, width, height)</code>和<code class="fe mi mj mk ml b">strokeRect(x, y, width, height)</code>方法绘制。<code class="fe mi mj mk ml b">fill</code>和<code class="fe mi mj mk ml b">stroke</code>是<strong class="kz io">墨水</strong>方法，每种情况都意味着用填充颜色画一个矩形，或者画一个颜色的矩形轮廓。默认颜色是黑色。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="cf69" class="mu ka in ml b gy mv mw l mx my">const ctx = canvas.getContext("2d")</span><span id="aa92" class="mu ka in ml b gy mz mw l mx my">// fill color of rectangle<br/>ctx.fillStyle = "tomato"    </span><span id="423c" class="mu ka in ml b gy mz mw l mx my">// draw rectangle, and fill it with "tomato" color  <br/>// x = 10  <br/>// y = 20  <br/>// width = 200  <br/>// height = 300  <br/>ctx.fillRect(10, 20, 200, 300)</span><span id="f145" class="mu ka in ml b gy mz mw l mx my">// now change style to stroke <br/>ctx.strokeStyle = "green"    </span><span id="a108" class="mu ka in ml b gy mz mw l mx my">// draw rectangle with "green" color stroke (no fill)  <br/>ctx.strokeRect(100, 100, 200, 100)</span></pre><p id="ff70" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io"> Circle: </strong>正如我们之前提到的，没有直接的方法来创建一个圆，但是我们可以使用<strong class="kz io">path API</strong>和<strong class="kz io"> arc </strong>方法的组合来绘制我们的圆。再多了解一点<strong class="kz io">路径:</strong></p><blockquote class="lw lx ly"><p id="7675" class="kx ky lz kz b la ma lc ld le mb lg lh mc md lk ll me mf lo lp mg mh ls lt lu ig bi translated">“路径是连接起来形成不同形状的点的列表”。</p></blockquote><p id="de70" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">这意味着可以在屏幕上的两个给定点之间形成一条路径。它可以是直线或弧形，也可以是任何形状或颜色。使用路径创建形状需要遵循三个步骤:</p><ol class=""><li id="1672" class="nb nc in kz b la ma le mb li nd lm ne lq nf lu ng nh ni nj bi translated">在上下文a上调用<code class="fe mi mj mk ml b">beingPath()</code>方法创建一个新路径。一旦创建了一个路径，所有将来要绘制的命令都将应用于该路径。</li><li id="1d91" class="nb nc in kz b la nk le nl li nm lm nn lq no lu ng nh ni nj bi translated">接下来使用绘图方法创建一个路径，比如<code class="fe mi mj mk ml b">lineTo</code>、<code class="fe mi mj mk ml b">moveTo</code>、<code class="fe mi mj mk ml b">arc</code>、<code class="fe mi mj mk ml b">rect</code>等等。<a class="ae lv" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D#Paths" rel="noopener ugc nofollow" target="_blank">请参考MDN </a>获取与path一起使用的所有可用方法的列表。</li><li id="68fc" class="nb nc in kz b la nk le nl li nm lm nn lq no lu ng nh ni nj bi translated">一旦创建了路径，它就需要实际呈现在画布上；我们可以使用<strong class="kz io">墨水</strong>方法<code class="fe mi mj mk ml b">fill</code>和<code class="fe mi mj mk ml b">stroke</code>来实现。</li></ol><p id="fffc" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">让我们继续画我们的圆圈。我们必须在上下文中使用<code class="fe mi mj mk ml b">arc(x, y, radius, startAngle, endAngle)</code>方法来画我们的圆。如果我们试图回忆基本的几何图形，用量角器画一个圆，我们需要一个<strong class="kz io">半径、</strong>和一个<strong class="kz io">开始&amp;结束角度</strong>。半圆从角度0开始，到180度或π弧度结束。所以一个完整的圆延伸得更远，刚好在2*PI或360度处结束。这个确切的概念可以用来使用<code class="fe mi mj mk ml b">arc</code>方法画圆。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="dc28" class="mu ka in ml b gy mv mw l mx my">  // Step 1. Invoke path method<br/>  ctx.beginPath()<br/>  <br/>  // Step 2. Creating a circular path<br/>  // x = 300<br/>  // y = 320<br/>  // start angle =  0<br/>  // end angle = 360 or 2*PI<br/>  ctx.arc(300, 320, 75, 0, 2*Math.PI)<br/>  <br/>  // Fill with Lavender color<br/>  ctx.fillStyle = "Lavender"<br/>  <br/>  //Step 3. Now ink on canvas <br/>  ctx.fill()</span></pre><p id="baa6" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io">线:</strong>我们使用<code class="fe mi mj mk ml b">moveTo(x, y)</code>和<code class="fe mi mj mk ml b">lineTo(x, y)</code>方法在两点之间画一条线。如果我们考虑两个点A &amp; B分别有x和y坐标，那么<code class="fe mi mj mk ml b">moveTo</code>作为A在画布上的位置，而<code class="fe mi mj mk ml b">lineTo</code>作为B点的位置。</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="3bb4" class="mu ka in ml b gy mv mw l mx my">  ctx.beginPath();</span><span id="4905" class="mu ka in ml b gy mz mw l mx my">  // Point A<br/>  ctx.moveTo(350, 50);<br/>  // Point B<br/>  ctx.lineTo(400, 100);<br/>  <br/>  ctx.strokeStyle = "DeepPink"<br/>  ctx.stroke();</span></pre><p id="3f37" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io">三角形:</strong>三角形简单来说就是三条线连在一起。我们将使用一种叫做<code class="fe mi mj mk ml b">closePath()</code>的特殊路径方法来完成我们的三角形。<code class="fe mi mj mk ml b">closePath</code>基本上是在路径内添加一条从终点坐标到起点坐标的直线。如果我们假设一个三角形由三个点A，B &amp; C组成，那么我们可以把我们的三角形画成:</p><pre class="mm mn mo mp gt mq ml mr ms aw mt bi"><span id="54fe" class="mu ka in ml b gy mv mw l mx my">  ctx.beginPath();<br/>  <br/>  // Point A<br/>  ctx.moveTo(250, 250);<br/>  <br/>  // Point B<br/>  ctx.lineTo(500, 400);<br/>  <br/>  // Point C<br/>  ctx.lineTo(100, 25);<br/>  <br/>  // Join C &amp; A<br/>  ctx.closePath()</span><span id="6ce6" class="mu ka in ml b gy mz mw l mx my">  ctx.strokeStyle = "Navy"<br/>  ctx.stroke();</span></pre><p id="e06b" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">原来如此！创造性编码要复杂得多，我们只是触及了表面。在接下来的几篇文章中，我们将看看如何添加随机性、噪声、矢量和更多的概念来生成一幅艺术作品。敬请关注！</p><p id="f4ed" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">下面的CodePen提供了本帖中提到的所有代码的完整示例:</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="2a1b" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">这是一支额外的钢笔，所有的基本元素都配有令人愉悦的颜色:</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="np nq l"/></div></figure></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><p id="89e7" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">自从我开始探索以来，我对基础数学的理解越来越丰富。我总是想知道我将在哪里应用我在学校学到的物理、几何和复杂算法的概念。现在我想我有答案了！</p><h1 id="4041" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">资源</h1><ol class=""><li id="0de2" class="nb nc in kz b la lb le lf li ny lm nz lq oa lu ng nh ni nj bi translated"><a class="ae lv" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial" rel="noopener ugc nofollow" target="_blank">MDN上的画布API</a></li><li id="0e9e" class="nb nc in kz b la nk le nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae lv" href="https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/HTML-canvas-guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010542-CH1-SW1" rel="noopener ugc nofollow" target="_blank">苹果在画布上的文档</a></li><li id="f48f" class="nb nc in kz b la nk le nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae lv" href="https://www.youtube.com/channel/UCvjgXvBlbQiydffZU7m1_aw" rel="noopener ugc nofollow" target="_blank">对Youtube上的火车频道进行编码</a></li></ol><p id="f61f" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">让你的创造力发挥到极致，创造出令人惊叹的东西！</p><p id="9ca6" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">合十礼🙏🏾</p></div></div>    
</body>
</html>