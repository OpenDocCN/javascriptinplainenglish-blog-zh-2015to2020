<html>
<head>
<title>JavaScript and the Web — Layouts and Styles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript和网络——布局和风格</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-and-the-web-layouts-and-styles-e5d7efa1c419?source=collection_archive---------7-----------------------#2020-06-17">https://javascript.plainenglish.io/javascript-and-the-web-layouts-and-styles-e5d7efa1c419?source=collection_archive---------7-----------------------#2020-06-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3a4815d64f8c2d1d4c53377cb8c760d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jfEP4UIvvJbm7-4W"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mucky?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Guillaume Muckensturm</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="46e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是世界上最流行的编程语言之一。为了有效地使用它，我们必须了解它的基本知识。</p><p id="c189" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何在我们的web应用程序中使用JavaScript。</p><p id="1660" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看看如何在JavaScript中改变元素的布局和样式。</p><h1 id="da3a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">布局</h1><p id="5818" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用JavaScript动态改变元素的布局。</p><p id="9864" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个元素节点对象有一些属性，我们可以用它们来改变它们的样式。</p><p id="4e35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">offsetWidth</code>和<code class="fe me mf mg mh b">offsetHeight</code>属性给了我们一个元素以像素为单位的空间。</p><p id="dd46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像素是浏览器中的基本度量单位。</p><p id="1d4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">clientWidth</code>和<code class="fe me mf mg mh b">clientHeight</code>给我们元素内部的空间，忽略边框宽度。</p><p id="f177" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getBoundingClientRect </code>给我们一个元素在屏幕上的精确位置。</p><p id="823e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回<code class="fe me mf mg mh b">top</code>、<code class="fe me mf mg mh b">bottom</code>、<code class="fe me mf mg mh b">left</code>和<code class="fe me mf mg mh b">right</code>属性，这些属性具有相对于屏幕左上角的每一边的像素数。/</p><p id="ee0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想要相对于整个文档的位置，那么我们添加当前的滚动位置，这是通过<code class="fe me mf mg mh b">pageXOffset</code>和<code class="fe me mf mg mh b">pageYOffset</code>属性获得的。</p><p id="683f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，给定以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c832" class="mq lc iq mh b gy mr ms l mt mu">&lt;p&gt;<br/>  a<br/>&lt;/p&gt;<br/>&lt;p&gt;<br/>  b<br/>&lt;/p&gt;<br/>&lt;p&gt;<br/>  c<br/>&lt;/p&gt;</span></pre><p id="6d5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="98e0" class="mq lc iq mh b gy mr ms l mt mu">const para = document.body.getElementsByTagName("p")[0];<br/>console.log(para.offsetWidth)<br/>console.log(para.offsetHeight)</span></pre><p id="d407" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取元素的宽度和高度。</p><p id="d637" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9c82" class="mq lc iq mh b gy mr ms l mt mu">console.log(para.getBoundingClientRect())</span></pre><p id="3312" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在一个函数中获取包括宽度和高度在内的所有内容。</p><h1 id="b470" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">式样</h1><p id="917a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用元素的<code class="fe me mf mg mh b">style</code>属性来设计样式。</p><p id="9abc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cd69" class="mq lc iq mh b gy mr ms l mt mu">&lt;p style='color: green'&gt;<br/>  a<br/>&lt;/p&gt;</span></pre><p id="1b35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到一些绿色文本。</p><p id="9da4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript可以让我们动态地做同样的事情。</p><p id="0349" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">样式位于DOM元素节点的<code class="fe me mf mg mh b">style</code>属性中。</p><p id="5d49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b66a" class="mq lc iq mh b gy mr ms l mt mu">const para = document.getElementsByTagName("p")[0];<br/>para.style.color = "magenta";</span></pre><p id="997b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以看到文本变成了洋红色。</p><p id="e74f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在JavaScript中，带有破折号的样式被转换成驼色。</p><p id="c0cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以CSS中的<code class="fe me mf mg mh b">font-family</code>和JavaScript中的<code class="fe me mf mg mh b">style.fontFamily</code>是一样的。</p><h1 id="f64e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">级联样式</h1><p id="ce75" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">HTML的样式系统称为CSS，代表级联样式表。</p><p id="342b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">样式表是一组关于如何设计文档中元素样式的规则。</p><p id="15ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以把它们放在一个内嵌的样式标签中。</p><p id="aa8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以把它们放在一个单独的文件里。</p><p id="bf24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f6c8" class="mq lc iq mh b gy mr ms l mt mu">p {<br/>  color: 'magenta';<br/>}</span></pre><p id="b7f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们指定所有的<code class="fe me mf mg mh b">p</code>元素的内容颜色设置为洋红色。</p><p id="4ad2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以通过编写以下内容来选择具有特定id或类别的项目:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e25f" class="mq lc iq mh b gy mr ms l mt mu">#foo {<br/>  color: 'magenta';<br/>}</span><span id="d8a8" class="mq lc iq mh b gy mv ms l mt mu">.bar {<br/>  color: 'green';<br/>}</span></pre><p id="518f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">#foo</code>表示我们选择一个ID为<code class="fe me mf mg mh b">foo</code>的元素。<code class="fe me mf mg mh b">#</code>表示ID。</p><p id="31ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们选择带有类别<code class="fe me mf mg mh b">bar</code>和<code class="fe me mf mg mh b">.</code>的元素</p><p id="cda9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">&gt;</code>表示我们选择给定元素的直接子元素。</p><p id="1eea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写<code class="fe me mf mg mh b">p &gt; a</code>来选择所有<code class="fe me mf mg mh b">p</code>的直接后代<code class="fe me mf mg mh b">a</code>元素。</p><h1 id="57c3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">查询选择器</h1><p id="2e7d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">选择器语法可以与<code class="fe me mf mg mh b">querySelector</code>或<code class="fe me mf mg mh b">querySelectorAll</code>方法一起使用，以更灵活的方式选择元素。</p><p id="3a34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="94c4" class="mq lc iq mh b gy mr ms l mt mu">&lt;p&gt;<br/>  a<br/>  &lt;span&gt;foo&lt;/span&gt;<br/>  &lt;span&gt;bar&lt;/span&gt;<br/>&lt;/p&gt;</span></pre><p id="1020" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b335" class="mq lc iq mh b gy mr ms l mt mu">const span = document.querySelector('p &gt; span');</span></pre><p id="abe2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择<code class="fe me mf mg mh b">p</code>元素中的第一个<code class="fe me mf mg mh b">span</code>元素。</p><p id="0f74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要选择它们并在节点列表中返回它们，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fef4" class="mq lc iq mh b gy mr ms l mt mu">const spans = document.querySelectorAll('p &gt; span');</span></pre><p id="c6d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由<code class="fe me mf mg mh b">querySelectorAll</code>返回的对象不是活动的，所以当我们改变文档时它们不会改变。</p><p id="1e35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为它是一个节点列表，我们可以使用spread操作符或<code class="fe me mf mg mh b">Array.from</code>将其转换为一个数组。</p><h1 id="047f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">定位和动画</h1><p id="d023" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">position</code>样式属性让我们改变元素的位置。</p><p id="2914" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认情况下，它被设置为<code class="fe me mf mg mh b">'static'</code>，这意味着它位于文档中的正常位置。</p><p id="db88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，我们可以将其设置为<code class="fe me mf mg mh b">relative</code>或<code class="fe me mf mg mh b">absolute</code>，然后我们可以通过<code class="fe me mf mg mh b">top</code>和<code class="fe me mf mg mh b">left</code>属性来改变元素的位置。</p><p id="448e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="72dd" class="mq lc iq mh b gy mr ms l mt mu">let p = document.querySelector("p");<br/>let pos = 0;</span><span id="a202" class="mq lc iq mh b gy mv ms l mt mu">const animate = (time, lastTime) =&gt; {<br/>  if (lastTime !== null) {<br/>    pos = time;<br/>  }<br/>  p.style.top = `${pos}px`<br/>  p.style.left = `${pos}px`<br/>  requestAnimationFrame(newTime =&gt; animate(newTime, time));<br/>}<br/>requestAnimationFrame(animate);</span></pre><p id="e371" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要制作动画:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2548" class="mq lc iq mh b gy mr ms l mt mu">&lt;p style='position: fixed;'&gt;foo&lt;/p&gt;</span></pre><p id="6e66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">animate</code>函数改变<code class="fe me mf mg mh b">p</code>元素的位置，该函数用参数的时间来获取<code class="fe me mf mg mh b">time</code>和<code class="fe me mf mg mh b">lastTime</code>参数。</p><p id="18c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们设置<code class="fe me mf mg mh b">pos</code>变量。</p><p id="639d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们设置<code class="fe me mf mg mh b">style</code>的<code class="fe me mf mg mh b">top</code>和<code class="fe me mf mg mh b">left</code>属性来移动<code class="fe me mf mg mh b">p</code>元素。</p><p id="eaad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">requestAnimationFrame</code>来获取下一帧。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/b77fafcdf57049f66578b22f92084d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eq9wv6fO0YA7Kll3"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@charlotablunarova?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Charlota Blunarova</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="eaee" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b3cd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以设置元素的位置来激活它们。</p><p id="b9e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以用<code class="fe me mf mg mh b">style</code>属性来设置它们的样式。</p><p id="c953" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以得到具有各种属性的元素的维数。</p><h2 id="88d6" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="09e2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>