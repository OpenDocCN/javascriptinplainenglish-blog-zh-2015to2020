<html>
<head>
<title>Top React Hooks — Github and States</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Top React挂钩— Github和States</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/top-react-hooks-github-and-states-7461c025f11c?source=collection_archive---------6-----------------------#2020-09-10">https://javascript.plainenglish.io/top-react-hooks-github-and-states-7461c025f11c?source=collection_archive---------6-----------------------#2020-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/83a698976598d4a450c1b800b3730dcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UEEP40LFU_XsSKRC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@maswdl95?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Miguel Ángel Sanz</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6214" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Hooks包含了React应用程序中的逻辑代码。</p><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以创建自己的钩子，使用别人提供的钩子。</p><p id="c5df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看一些有用的React挂钩。</p><h1 id="867a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@d2k/react-github</h1><p id="912b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@d2k/react-github是一系列让我们从github获取数据的react钩子。</p><p id="786f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="69b0" class="mn lc iq mj b gy mo mp l mq mr">npm i @d2k/react-github --save</span></pre><p id="273c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过编写以下代码来使用<code class="fe ms mt mu mj b">useLatestRelease</code>钩子:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="956d" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useLatestRelease } from "@d2k/react-github";</span><span id="1960" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { release, loading, error } = useLatestRelease("facebook", "react");</span><span id="0e12" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;{JSON.stringify(release)}&lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="62eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过使用带有用户和回购名称的<code class="fe ms mt mu mj b">useLatestRelease</code>钩子来获取最新的错误。</p><p id="b8b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe ms mt mu mj b">release</code>有一个带有发布数据的对象。</p><p id="95ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">loading</code>和<code class="fe ms mt mu mj b">error</code>有加载和出错状态。</p><p id="68fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe ms mt mu mj b">useTaggedRelease</code>钩子从我们的应用程序中获得一个带标签的版本。</p><p id="532a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使用它，我们写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dca5" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useTaggedRelease } from "@d2k/react-github";</span><span id="b753" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { release, loading, error } = useTaggedRelease(<br/>    "facebook",<br/>    "react",<br/>    "v16.8.4"<br/>  );<br/>  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;{JSON.stringify(release)}&lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="e872" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还有一个<code class="fe ms mt mu mj b">useForks</code>钩子来获取回购的叉。</p><p id="c7d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是用户。</p><p id="3d3a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个理由是回购。</p><p id="dd8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第三个是标签版本。</p><p id="6ba3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8bb7" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useForks } from "@d2k/react-github";</span><span id="0fc9" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { forks, loading, error } = useForks("facebook", "react");</span><span id="b105" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;{JSON.stringify(forks)}&lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="1aa1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">得到反应的叉子。</p><h1 id="03ff" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">@d2k/react-localstorage</h1><p id="a5fd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">@d2k/react-localstorage是一个带有操作本地存储钩子的包。</p><p id="dc25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使用它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b284" class="mn lc iq mj b gy mo mp l mq mr">npm i @d2k/react-localstorage --save</span></pre><p id="98e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来安装它。</p><p id="15b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c257" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import useLocalStorage from "@d2k/react-localstorage";</span><span id="0395" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [firstName, setFirstName, removeFirstName] =   useLocalStorage(<br/>    "firstName",<br/>    "mary"<br/>  );<br/>  const [lastName, setLastName, removeLastName] = useLocalStorage(<br/>    "lastName",<br/>    "smith"<br/>  );</span><span id="21df" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;&gt;<br/>      &lt;div&gt;<br/>        {firstName &amp;&amp; lastName &amp;&amp; (<br/>          &lt;p&gt;<br/>            Hello {firstName} {lastName}<br/>          &lt;/p&gt;<br/>        )}<br/>      &lt;/div&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="6bc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了返回当前值的<code class="fe ms mt mu mj b">useLocalStorage</code>钩子，这是一个用给定的键更新项目的函数，并按此顺序删除带有给定键的项目。</p><p id="570f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关键是钩子的第一个参数。</p><p id="ab0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认值是第二个参数。</p><p id="a70c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用它们来更新我们的本地存储，而不是直接操作它。</p><h1 id="ab00" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">钩子状态</h1><p id="89e2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Hookstate包允许我们在应用程序中全局管理状态。</p><p id="e42e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以作为Redux或Mobx等状态管理解决方案的替代方案。</p><p id="78a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ee85" class="mn lc iq mj b gy mo mp l mq mr">npm install --save @hookstate/core</span></pre><p id="4bd7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8ba4" class="mn lc iq mj b gy mo mp l mq mr">yarn add @hookstate/core</span></pre><p id="b99a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来安装它。</p><p id="b808" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用它附带的钩子来写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="700c" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { createState, useState } from "@hookstate/core";<br/>const globalState = createState(0);</span><span id="1d62" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const state = useState(globalState);<br/>  return (<br/>    &lt;&gt;<br/>      &lt;p&gt;Counter value: {state.get()}&lt;/p&gt;<br/>      &lt;button onClick={() =&gt; state.set(p =&gt; p + 1)}&gt;Increment&lt;/button&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="f7f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe ms mt mu mj b">createState</code>函数来创建一个全局状态。</p><p id="b7fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以将它传递给Hookstate的<code class="fe ms mt mu mj b">useState</code>钩子，这样我们就可以对它做一些事情。</p><p id="9e4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe ms mt mu mj b">get</code>来获取当前状态。</p><p id="50f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe ms mt mu mj b">set</code>来设置新的状态。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b8e8339e1810d8206176a8db50a4f3b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kOmSowR3__sYzPyK"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@maswdl95?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Miguel Ángel Sanz</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8d11" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6acd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从Github获取数据以及管理本地存储和应用程序状态有一些有用的挂钩。</p><h2 id="2447" class="mn lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="7164" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>