<html>
<head>
<title>Stop using the ‘else’ keyword in your code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止在代码中使用“else”关键字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/stop-using-the-else-keyword-in-your-code-907e82b3054a?source=collection_archive---------0-----------------------#2020-03-06">https://javascript.plainenglish.io/stop-using-the-else-keyword-in-your-code-907e82b3054a?source=collection_archive---------0-----------------------#2020-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="6b31" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://medium.com/tag/thought-programmer" rel="noopener">思维程序员</a></h2><div class=""/><div class=""><h2 id="febf" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">从今天开始，不要在JavaScript代码中使用它</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/9cda8363d9d0a50c67678bfad983c355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0cr_CSr7dFEUPP0hZPPl7g.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">don’t use else keyword</figcaption></figure><p id="d914" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">几乎每种编程语言都内置了关键字，简单的条件逻辑对任何人来说都很容易理解。如果你是程序员，你知道<code class="fe ma mb mc md b">else</code>关键字。但是如果你是一个优秀的程序员，就不要用这个关键词。我在开始时犯的最大错误之一是在写条件语句时过度使用else关键字。自从5年前，我就不再在我的程序中使用这个关键词了。让我解释一下！</p><h1 id="cd83" class="me mf iq bd mg mh mi mj mk ml mm mn mo kf mp kg mq ki mr kj ms kl mt km mu mv bi translated">为什么</h1><p id="3529" class="pw-post-body-paragraph le lf iq lg b lh mw ka lj lk mx kd lm ln my lp lq lr mz lt lu lv na lx ly lz ij bi translated">想想还有什么意思，意思是“如果A那么这个，如果不是A那么那个；。如果A是二进制的，这不是问题——问题空间只有两种情况。但是如果A是二进制变量的组合，或者包含更大的变量，你的负问题空间会出乎意料的大，难以理解，测试和维护。避免if/else if，只使用if语句，花时间确保if组的进入标准是互斥的，这样答案就不依赖于执行的顺序。</p><ul class=""><li id="0f74" class="nb nc iq lg b lh li lk ll ln nd lr ne lv nf lz ng nh ni nj bi translated">它促进了主执行通道，有一些特殊情况。</li><li id="26ec" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">它迫使我们在每个函数的开头写下处理数据所需的所有条件。</li><li id="cd28" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">用一个<code class="fe ma mb mc md b">switch — case</code>的说法。</li><li id="f789" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">使用多态处理复杂的条件情况，让代码更清晰像<strong class="lg ja">状态模式</strong>。</li></ul><div class="np nq gp gr nr ns"><a href="https://medium.com/datadriveninvestor/known-knowns-unknown-knowns-and-unknown-unknowns-b35013fb350d" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ja gy z fp nx fr fs ny fu fw iz bi translated">已知的已知，未知的已知，和未知的未知</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">你知道什么，不知道什么？</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ky ns"/></div></div></a></div><h1 id="7817" class="me mf iq bd mg mh mi mj mk ml mm mn mo kf mp kg mq ki mr kj ms kl mt km mu mv bi translated">例子</h1><p id="1d81" class="pw-post-body-paragraph le lf iq lg b lh mw ka lj lk mx kd lm ln my lp lq lr mz lt lu lv na lx ly lz ij bi translated">我们的示例是一个交通灯(即traffic light对象),有三种不同的状态:红色、黄色和绿色，每种状态都有自己的一套规则。规则是这样的:</p><ul class=""><li id="1e28" class="nb nc iq lg b lh li lk ll ln nd lr ne lv nf lz ng nh ni nj bi translated">假设交通灯是红色的。延迟后，红色状态变为绿色状态。</li><li id="27ed" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">然后，在另一个延迟之后，绿色状态变为黄色状态。</li><li id="dbf6" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">经过短暂的延迟后，黄色状态变为红色。</li><li id="8d5f" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">等等等等。</li></ul><h2 id="0e1d" class="oh mf iq bd mg oi oj dn mk ok ol dp mo ln om on mq lr oo op ms lv oq or mu iw bi translated">不要使用if-else关键字</h2><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><h2 id="4b06" class="oh mf iq bd mg oi oj dn mk ok ol dp mo ln om on mq lr oo op ms lv oq or mu iw bi translated">简单的方法</h2><p id="c4f2" class="pw-post-body-paragraph le lf iq lg b lh mw ka lj lk mx kd lm ln my lp lq lr mz lt lu lv na lx ly lz ij bi translated">我们只去掉else关键字，重写所有条件。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="80c0" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">或者我们可以用一个<code class="fe ma mb mc md b">switch</code>代替<code class="fe ma mb mc md b">if-else</code>。A <code class="fe ma mb mc md b">switch</code>当你要合并案例的时候看起来干净多了。一个<code class="fe ma mb mc md b">if-else</code>就会迅速失控。</p><blockquote class="ou"><p id="73bb" class="ov ow iq bd ox oy oz pa pb pc pd lz dk translated">如果有很多好的例子，一个<code class="fe ma mb mc md b">switch</code>语句可能比<code class="fe ma mb mc md b">if-else </code>语句更快。</p></blockquote><figure class="pe pf pg ph pi kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="dff1" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">样式约定是。</p><ul class=""><li id="2d09" class="nb nc iq lg b lh li lk ll ln nd lr ne lv nf lz ng nh ni nj bi translated">将每个<code class="fe ma mb mc md b">case</code>与<code class="fe ma mb mc md b">switch</code>对齐。</li><li id="4f39" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">在每个<code class="fe ma mb mc md b">case</code>内缩进代码。</li><li id="1dfb" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">以一个清晰的<code class="fe ma mb mc md b">break</code>结束每个<code class="fe ma mb mc md b">case</code>。</li><li id="7710" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">避免失败。</li><li id="39f6" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">用一个<code class="fe ma mb mc md b">default</code>结束切换，以确保即使没有匹配的情况，也总是有一个合理的结果。</li></ul><h2 id="0246" class="oh mf iq bd mg oi oj dn mk ok ol dp mo ln om on mq lr oo op ms lv oq or mu iw bi translated">我们可以使用状态模式来删除这些代码中的所有if-else关键字</h2><p id="52c2" class="pw-post-body-paragraph le lf iq lg b lh mw ka lj lk mx kd lm ln my lp lq lr mz lt lu lv na lx ly lz ij bi translated">这里，我们引入了许多if-else块/switch语句来保护各种条件。状态模式适合这样的环境。它允许您的对象基于当前状态表现不同，并且您可以定义特定于状态的行为。在这个模式中，我们开始考虑交通灯的可能状态，您相应地分离代码。</p><ul class=""><li id="8770" class="nb nc iq lg b lh li lk ll ln nd lr ne lv nf lz ng nh ni nj bi translated">对于特定于状态的行为，您有单独的对象。</li><li id="924b" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">交通灯中定义的操作将行为委托给当前状态的对象。</li><li id="8cde" class="nb nc iq lg b lh nk lk nl ln nm lr nn lv no lz ng nh ni nj bi translated">状态本身会触发状态转换。</li></ul><p id="025f" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">红绿灯:<code class="fe ma mb mc md b">Green (1 minute) → Yellow (10 seconds)→ Red (1 minute)</code></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><h2 id="1116" class="oh mf iq bd mg oi oj dn mk ok ol dp mo ln om on mq lr oo op ms lv oq or mu iw bi translated">它们输出如下所示</h2><pre class="kp kq kr ks gt pj md pk pl aw pm bi"><span id="5c11" class="oh mf iq md b gy pn po l pp pq">Green → for 1 minute<br/>Yellow → for 10 seconds<br/>Red → for 1 minute<br/>Green → for 1 minute<br/>Yellow → for 10 seconds<br/>Red → for 1 minute<br/>Green → for 1 minute<br/>Yellow → for 10 seconds<br/>Red → for 1 minute<br/>Green → for 1 minute<br/>Yellow → for 10 seconds</span></pre><p id="617e" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">就是这些坏代码和好代码的例子。最后，感谢阅读，希望我已经涵盖了一切。</p><div class="np nq gp gr nr ns"><a href="https://medium.com/javascript-in-plain-english/dont-use-collection-directly-93a5457a8e40" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ja gy z fp nx fr fs ny fu fw iz bi translated">不要直接使用集合</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">创建一流的收藏</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="pr l od oe of ob og ky ns"/></div></div></a></div><h1 id="fc5e" class="me mf iq bd mg mh mi mj mk ml mm mn mo kf mp kg mq ki mr kj ms kl mt km mu mv bi translated">参考</h1><p id="6f86" class="pw-post-body-paragraph le lf iq lg b lh mw ka lj lk mx kd lm ln my lp lq lr mz lt lu lv na lx ly lz ij bi translated">[1]埃里希·伽马&amp;理查德·赫尔姆&amp;拉尔夫·约翰逊&amp;约翰·维里西德斯。<em class="ps">设计模式:可重用面向对象软件的要素</em>。艾迪森-韦斯利专业版，1994年。</p><p id="bc1e" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">感谢阅读😘，再见👋，别忘了👏最多50次并跟随！</p></div></div>    
</body>
</html>