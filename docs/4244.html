<html>
<head>
<title>Object-Oriented JavaScript — Removing Nodes and Document</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向对象的JavaScript —删除节点和文档</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/object-oriented-javascript-removing-nodes-and-document-bb65fe26bb94?source=collection_archive---------8-----------------------#2020-11-27">https://javascript.plainenglish.io/object-oriented-javascript-removing-nodes-and-document-bb65fe26bb94?source=collection_archive---------8-----------------------#2020-11-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0b7fccadd9d5a4581e2ceea4896bec8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-rCtpw369oCLbWoR"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@k8_iv?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">K8</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="38e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript部分是面向对象的语言。</p><p id="7b04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要学习JavaScript，我们必须学习JavaScript的面向对象部分。</p><p id="6eb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究DOM和一些有用的<code class="fe lb lc ld le b">document</code>属性。</p><h1 id="6a13" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">删除节点</h1><p id="3cb6" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以调用<code class="fe lb lc ld le b">removeChild</code>方法来删除一个子节点。</p><p id="300e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="adbf" class="mq lg iq le b gy mr ms l mt mu">&lt;body&gt;<br/>  &lt;p class="opener"&gt;foo&lt;/p&gt;<br/>  &lt;p&gt;&lt;em&gt;bar&lt;/em&gt; &lt;/p&gt;<br/>  &lt;p id="closer"&gt;baz&lt;/p&gt;<br/>  &lt;!-- the end --&gt;<br/>&lt;/body&gt;</span></pre><p id="94da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下内容来删除节点:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="6e20" class="mq lg iq le b gy mr ms l mt mu">const p = document.querySelector('p');<br/>const removed = document.body.removeChild(p);</span></pre><p id="7ef9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后用<code class="fe lb lc ld le b">removeChild</code>将<code class="fe lb lc ld le b">p</code>元件从机体上取下。</p><p id="a529" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">移除的节点被返回。</p><p id="2333" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有一种<code class="fe lb lc ld le b">replaceChild</code>方法，让我们移除一个节点，并在适当的位置放置另一个节点。</p><p id="d8ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="47db" class="mq lg iq le b gy mr ms l mt mu">const p1 = document.querySelector('.opener');<br/>const p2 = document.querySelector('#closer');<br/>const removed = document.body.replaceChild(p1, p2);</span></pre><p id="c800" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用具有类<code class="fe lb lc ld le b">opener</code>的节点替换ID为<code class="fe lb lc ld le b">closer</code>的节点。</p><h1 id="c99c" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">HTML —仅DOM对象</h1><p id="4487" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">有多种方法可以访问纯HTML的DOM对象。</p><p id="0e1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用现代浏览器中的一些属性来访问than。</p><p id="2d6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">document.body</code>有<code class="fe lb lc ld le b">body</code>元素。</p><p id="aaa9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它是DOM Level 0规范中的元素之一，被移到了DOM规范的HTML扩展中。</p><p id="c90a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其他属性包括<code class="fe lb lc ld le b">document.images</code>来获取img元素。</p><p id="7a65" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">document.applets</code>让我们获取applet元素。</p><p id="9ca3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">document.links</code>获取<code class="fe lb lc ld le b">link</code>元素。</p><p id="8d8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">document.anchors</code>获取我们锚定的<code class="fe lb lc ld le b">a</code>元素。</p><p id="0dd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们拿表格。</p><p id="847e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="5442" class="mq lg iq le b gy mr ms l mt mu">document.forms[0];</span></pre><p id="c6f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与以下内容相同:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="f3e3" class="mq lg iq le b gy mr ms l mt mu">document.getElementsByTagName('forms')[0];</span></pre><p id="57ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有以下形式:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="90e2" class="mq lg iq le b gy mr ms l mt mu">&lt;form&gt;<br/>  &lt;input name="name" id="name" type="text" size="50" maxlength="255" value="Enter name" /&gt;<br/>&lt;/form&gt;</span></pre><p id="e7b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以获取输入元素，并用以下内容设置值:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c95f" class="mq lg iq le b gy mr ms l mt mu">document.forms[0].elements[0].value = 'foo';</span></pre><p id="53db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过以下方式禁用输入:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="094f" class="mq lg iq le b gy mr ms l mt mu">document.forms[0].elements[0].disabled = true;</span></pre><p id="1ddb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过它的<code class="fe lb lc ld le b">name</code>属性得到输入:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c0e8" class="mq lg iq le b gy mr ms l mt mu">document.forms[0].elements['name'];</span></pre><p id="a01a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="144d" class="mq lg iq le b gy mr ms l mt mu">document.forms[0].elements.name;</span></pre><h1 id="82c3" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">document.write()方法</h1><p id="4470" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">document.write</code>方法让我们将HTML写入页面。</p><p id="3a68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="1873" class="mq lg iq le b gy mr ms l mt mu">document.write(`&lt;p&gt;${new Date()}&lt;/p&gt;`);</span></pre><p id="c4fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">把日期写到屏幕上。</p><p id="993b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们加载页面，<code class="fe lb lc ld le b">document.write</code>将替换页面上的所有内容。</p><h1 id="2c91" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">Cookies、标题、推荐人和域</h1><p id="bf92" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以用<code class="fe lb lc ld le b">document.cookie</code>属性获取并设置客户端cookies。</p><p id="d740" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个包含一些键值和有效期的字符串。</p><p id="f9c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当服务器向客户机发送页面时，它可能会将<code class="fe lb lc ld le b">Set-Cookie</code> HTTP响应头和cookie一起发送回去。</p><p id="c3eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">document.title</code>属性让我们获取并设置页面的标题，因此我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="00f0" class="mq lg iq le b gy mr ms l mt mu">document.title = 'title';</span></pre><p id="c26e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">属性拥有当前页面的域名。</p><p id="d0aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们在那里，我们可能会得到类似<code class="fe lb lc ld le b">“jsfiddle.net”</code>的东西。</p><p id="797e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不能将它设置到不同的域，所以如果我们在jsfiddle.net，我们就不能写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="d826" class="mq lg iq le b gy mr ms l mt mu">document.domain = 'example.com'</span></pre><p id="11fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将得到错误:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="3f8a" class="mq lg iq le b gy mr ms l mt mu">Uncaught DOMException: Failed to set the 'domain' property on 'Document': 'example.com' is not a suffix of 'jsfiddle.net'.</span></pre><p id="85ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对保护用户有好处。我们不想让脚本去任何他们喜欢的领域。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/b6399e492514a492931073b8bc4af662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7_FWlmxqDnhBB3ma"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@eprouzet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eric Prouzet</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="034e" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="186b" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以用DOM方法删除节点。</p><p id="8808" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe lb lc ld le b">document</code>的各种属性和方法来操作文档。</p><p id="51e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>