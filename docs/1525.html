<html>
<head>
<title>Vue Components — Dynamic Slot Names and Shorthands</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue组件—动态插槽名称和快捷键</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-components-dynamic-slot-names-and-shorthands-efbace3990f1?source=collection_archive---------3-----------------------#2020-03-27">https://javascript.plainenglish.io/vue-components-dynamic-slot-names-and-shorthands-efbace3990f1?source=collection_archive---------3-----------------------#2020-03-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3cf7a9185c58929e8b0b89da8bcb4e18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*450wS3gJUI5ekbU8"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@erol?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Erol Ahmed</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="10be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用框架，我们可以用它来开发交互式前端应用。</p><p id="4edb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究添加动态插槽名称。</p><h1 id="8458" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">动态插槽名称</h1><p id="3b50" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从Vue.js 2.6.0开始，我们可以用<code class="fe me mf mg mh b">v-slot</code>传入动态槽名。例如，我们可以如下使用它:</p><p id="55cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d7bb" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("user", {<br/>  data() {<br/>    return {<br/>      user: {<br/>        firstName: "Joe",<br/>        lastName: "Smith"<br/>      }<br/>    };<br/>  },<br/>  template: `&lt;p&gt;<br/>    &lt;slot v-bind:user="user" name='first-name'&gt;&lt;/slot&gt;<br/>    &lt;slot v-bind:user="user" name='last-name'&gt;&lt;/slot&gt;<br/>  &lt;/p&gt;`<br/>});</span><span id="b3bc" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    firstname: "first-name",<br/>    lastname: "last-name"<br/>  }<br/>});</span></pre><p id="b230" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="49c8" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;user&gt;<br/>        &lt;template v-slot:[firstname]="{ user }"&gt;<br/>          {{ user.firstName }}<br/>        &lt;/template&gt;<br/>        &lt;template v-slot:[lastname]="{ user }"&gt;<br/>          {{ user.lastName }}<br/>        &lt;/template&gt;<br/>      &lt;/user&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="aea8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，<code class="fe me mf mg mh b">data</code>中的<code class="fe me mf mg mh b">firstname</code>和<code class="fe me mf mg mh b">lastname</code>被设置为我们的根模板中的槽名。</p><h1 id="4005" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">命名插槽速记</h1><p id="d6bf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">v-slot</code>有简写。我们可以把<code class="fe me mf mg mh b">v-slot:</code>缩写成符号<code class="fe me mf mg mh b">#</code>。例如，我们可以将示例重写如下:</p><p id="7381" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7090" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("user", {<br/>  data() {<br/>    return {<br/>      user: {<br/>        firstName: "Joe",<br/>        lastName: "Smith"<br/>      }<br/>    };<br/>  },<br/>  template: `&lt;p&gt;<br/>    &lt;slot v-bind:user="user" name='first-name'&gt;&lt;/slot&gt;<br/>    &lt;slot v-bind:user="user" name='last-name'&gt;&lt;/slot&gt;<br/>  &lt;/p&gt;`<br/>});</span><span id="9899" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="de61" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4e40" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;user&gt;<br/>        &lt;template #first-name="{ user }"&gt;<br/>          {{ user.firstName }}<br/>        &lt;/template&gt;<br/>        &lt;template #last-name="{ user }"&gt;<br/>          {{ user.lastName }}<br/>        &lt;/template&gt;<br/>      &lt;/user&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="cd6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了引用默认插槽，我们必须编写<code class="fe me mf mg mh b">#default</code>。例如，我们写道:</p><p id="2c6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ba3c" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("user", {<br/>  data() {<br/>    return {<br/>      user: {<br/>        firstName: "Joe",<br/>        lastName: "Smith"<br/>      }<br/>    };<br/>  },<br/>  template: `&lt;p&gt;<br/>    &lt;slot v-bind:user="user"&gt;&lt;/slot&gt;    <br/>  &lt;/p&gt;`<br/>});</span><span id="d407" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="f3cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="75d2" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;user&gt;<br/>        &lt;template #default="{ user }"&gt;<br/>          {{ user.firstName }} {{ user.lastName }}<br/>        &lt;/template&gt;<br/>      &lt;/user&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/61f5e9cca14e30dec1870e3bf25c8de0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oLnU6NUw6uez58so"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@davidmarcu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">David Marcu</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="16af" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">与v-for一起使用</h1><p id="916f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以向列表中提供的后备内容添加一个槽，并允许我们更改父列表中的内容。例如，我们可以这样写:</p><p id="3557" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/index.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a33c" class="mq lc iq mh b gy mr ms l mt mu">Vue.component("people", {<br/>  data() {<br/>    return {<br/>      persons: [<br/>        { name: "Joe", isAdult: true },<br/>        { name: "Jane", isAdult: false }<br/>      ]<br/>    };<br/>  },<br/>  template: `<br/>    &lt;ul&gt;  <br/>      &lt;li v-for='person of persons'&gt;<br/>        &lt;slot v-bind:person="person"&gt;&lt;/slot&gt;    <br/>      &lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  `<br/>});</span><span id="040e" class="mq lc iq mh b gy mv ms l mt mu">new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="22b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">index.html</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e2c0" class="mq lc iq mh b gy mr ms l mt mu">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;people v-bind:persons="persons"&gt;<br/>        &lt;template #default="{ person }"&gt;<br/>          {{person.name}}<br/>          &lt;span v-if="person.isAdult"&gt; - Adult&lt;/span&gt;<br/>          &lt;span v-else&gt; - Child&lt;/span&gt;<br/>        &lt;/template&gt;<br/>      &lt;/people&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="4b30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有带有<code class="fe me mf mg mh b">persons</code>数据的<code class="fe me mf mg mh b">people</code>组件。我们在<code class="fe me mf mg mh b">people</code>组件中使用<code class="fe me mf mg mh b">v-for</code>渲染<code class="fe me mf mg mh b">persons</code>，并通过<code class="fe me mf mg mh b">v-bind</code>使条目可用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1bf8" class="mq lc iq mh b gy mr ms l mt mu">&lt;slot v-bind:person="person"&gt;&lt;/slot&gt;</span></pre><p id="647f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在根模板中，我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cf4e" class="mq lc iq mh b gy mr ms l mt mu">&lt;people v-bind:persons="persons"&gt;<br/>  &lt;template #default="{ person }"&gt;<br/>    {{person.name}}<br/>    &lt;span v-if="person.isAdult"&gt; - Adult&lt;/span&gt;<br/>    &lt;span v-else&gt; - Child&lt;/span&gt;<br/>  &lt;/template&gt;<br/>&lt;/people&gt;</span></pre><p id="0dc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从<code class="fe me mf mg mh b">people</code>中获取<code class="fe me mf mg mh b">person</code>，然后提供一个<code class="fe me mf mg mh b">template</code>来显示我们想要的条目，而无需修改<code class="fe me mf mg mh b">people</code>组件。</p><h1 id="3904" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="f125" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从Vue 2.6.0开始，我们可以使用动态插槽名称，而不是硬编码的名称。</p><p id="8a69" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，命名槽的简写是<code class="fe me mf mg mh b">#</code>。对于默认插槽，我们总是要写<code class="fe me mf mg mh b">#default</code>。</p><p id="2c18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们可以将它与<code class="fe me mf mg mh b">v-for</code>一起使用，让我们定义一个可以与每个条目一起使用的<code class="fe me mf mg mh b">template</code>。我们在数组的条目上使用<code class="fe me mf mg mh b">v-bind</code>，而不是整个数组，然后我们可以访问父组件中的数据，并添加一个<code class="fe me mf mg mh b">templarte</code>，通过在父组件中定义它来以我们喜欢的方式显示数据。</p></div></div>    
</body>
</html>