<html>
<head>
<title>Best of Modern JavaScript — Parameters and Spread</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代JavaScript的精华——参数和传播</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/best-of-modern-javascript-parameters-and-spread-7282aeaab7?source=collection_archive---------11-----------------------#2020-09-17">https://javascript.plainenglish.io/best-of-modern-javascript-parameters-and-spread-7282aeaab7?source=collection_archive---------11-----------------------#2020-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/94ffc4b75dbfd8eb2a239c4ef615a738.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h-sAOt49g8oWa9dS"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@louishansel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Louis Hansel @shotsoflouis</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4f92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自2015年以来，JavaScript有了巨大的进步。</p><p id="c894" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在用起来比以前舒服多了。</p><p id="193a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何使用对象和数组参数析构以及spread操作符。</p><h1 id="3ece" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">可选参数</h1><p id="4eec" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过将参数设置为<code class="fe me mf mg mh b">undefined</code>来创建可选参数，以表明它是可选的。</p><p id="a7cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ec41" class="mq lc iq mh b gy mr ms l mt mu">function foo(x, optional = undefined) {<br/>  //···<br/>}</span></pre><p id="eb3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">optional</code>设置为<code class="fe me mf mg mh b">undefined</code>,表示它是可选的。</p><h1 id="3a9a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">必需的参数</h1><p id="565a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们有必需的参数，没有好的方法来确保它们适合ES5。</p><p id="a527" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可能需要做一些事情，比如:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d93c" class="mq lc iq mh b gy mr ms l mt mu">function foo(required) {<br/>  if (required === undefined) {<br/>    throw new Error();<br/>  }<br/>  //···<br/>}</span></pre><p id="cce7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="42c7" class="mq lc iq mh b gy mr ms l mt mu">function foo(required) {<br/>  if (arguments.length &lt; 1) {<br/>    throw new Error();<br/>  }<br/>  //···<br/>}</span></pre><p id="0998" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们不太优雅。</p><p id="564b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，我们可以通过用ES6编写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7da9" class="mq lc iq mh b gy mr ms l mt mu">function checkRequired() {<br/>  throw new Error();<br/>}</span><span id="5941" class="mq lc iq mh b gy mv ms l mt mu">function foo(required = checkRequired()) {<br/>  return required;<br/>}</span></pre><p id="4b07" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们给参数分配了一个函数调用，这样当<code class="fe me mf mg mh b">required</code>为<code class="fe me mf mg mh b">undefined</code>时，它就会运行。</p><p id="debd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它抛出一个错误，所以当它是<code class="fe me mf mg mh b">undefined</code>的时候就很明显了。</p><p id="646c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以强制要求参数有一个值。</p><h1 id="4a41" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">强制实施最大数量的参数</h1><p id="aacc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript无法控制传递给函数的参数数量。</p><p id="c047" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，在ES6中，我们可以通过检查rest操作符传入的参数数量来轻松做到这一点。</p><p id="6ca6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a5e6" class="mq lc iq mh b gy mr ms l mt mu">function foo(...args) {<br/>  if (args.length &gt; 2) {<br/>    throw new Error();<br/>  }<br/>  //...<br/>}</span></pre><p id="12af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">rest操作符返回一个数组，所以我们可以用<code class="fe me mf mg mh b">length</code>属性检查它的长度。</p><p id="5d88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果参数比我们想要的多，那么我们可以抛出一个错误。</p><p id="60d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0b30" class="mq lc iq mh b gy mr ms l mt mu">function foo(x, y, ...empty) {<br/>  if (empty.length &gt; 0) {<br/>    throw new Error();<br/>  }<br/>}</span></pre><p id="b2ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以确保我们没有额外的参数。</p><h1 id="c851" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">扩展运算符</h1><p id="21c6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用spread操作符将数组条目作为函数调用的参数进行传播。</p><p id="17b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0765" class="mq lc iq mh b gy mr ms l mt mu">Math.max(...[-1, 2, 3, 4])</span></pre><p id="b2b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这与以下内容相同:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0f61" class="mq lc iq mh b gy mr ms l mt mu">Math.max(-1, 2, 3, 4)</span></pre><p id="bc50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">push</code>方法做同样的事情。</p><p id="c9e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8265" class="mq lc iq mh b gy mr ms l mt mu">const arr1 = [1, 2];<br/>const arr2 = [3, 4];</span><span id="4636" class="mq lc iq mh b gy mv ms l mt mu">arr1.push(...arr2);</span></pre><p id="e4b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">arr2</code>作为<code class="fe me mf mg mh b">push</code>的自变量展开。</p><p id="0a04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">spread运算符也适用于构造函数。</p><p id="6c09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="36b5" class="mq lc iq mh b gy mr ms l mt mu">new Date(...[2020, 11, 25])</span></pre><p id="a45f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将参数传播到<code class="fe me mf mg mh b">Date</code>构造函数中。</p><p id="d823" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">spread运算符也适用于数组。</p><p id="73b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="41de" class="mq lc iq mh b gy mr ms l mt mu">[1, ...[2, 3], 4]</span></pre><p id="adcb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了返回的<code class="fe me mf mg mh b">[1, 2, 3, 4]</code>。</p><p id="3e7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用它把数组合并成一个。</p><p id="f95c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e34e" class="mq lc iq mh b gy mr ms l mt mu">const x = [1, 2];<br/>const y = [3];<br/>const z = [4, 5];</span><span id="8ea1" class="mq lc iq mh b gy mv ms l mt mu">const arr = [...x, ...y, ...z];</span></pre><p id="e1d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">x</code>、<code class="fe me mf mg mh b">y</code>和<code class="fe me mf mg mh b">z</code>数组展开成数组。</p><p id="dfdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">arr</code>就是<code class="fe me mf mg mh b"> [1, 2, 3, 4, 5]</code>，因为条目被分散到新的数组中。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/53cd4f60555b4478ff00f502eccffd06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dPPgYWS_iwup9UUL"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="750b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="8897" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过各种方式添加可选的和必需的参数。</p><p id="95b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用spread操作符将数组分布在不同的位置。</p><h2 id="d4d7" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="4904" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码获得更多类似内容，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>