<html>
<head>
<title>Introducing new plugins in Babel to create react app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Babel中引入新插件来创建react应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introduce-babel-new-plugins-to-create-react-app-ea55f56c3811?source=collection_archive---------1-----------------------#2019-05-01">https://javascript.plainenglish.io/introduce-babel-new-plugins-to-create-react-app-ea55f56c3811?source=collection_archive---------1-----------------------#2019-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3251feb3302cd20a8828a2fa3e4c7d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E9xEKAbkAgdhUHHuOhcxsA.jpeg"/></div></div></figure><p id="9ac2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/facebook/create-react-app/releases/tag/v3.0.0" rel="noopener ugc nofollow" target="_blank"> create react app v3.0.0 </a>，2019年4月底发布，新增功能包括支持<a class="ae kw" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">钩子</a>。react-scripts v3.0.0包括<code class="fe kx ky kz la b">@babel/core@7.4.3</code>、<code class="fe kx ky kz la b">babel-loader@8.0.5</code>和<code class="fe kx ky kz la b">babel-eslint@10.0.1</code>，这意味着它可以与一些很棒的<a class="ae kw" href="https://babeljs.io/docs/en/plugins#experimental" rel="noopener ugc nofollow" target="_blank">实验插件</a>一起使用。</p><p id="4576" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将介绍一些实验性插件以及如何在<code class="fe kx ky kz la b">create react app</code>中使用它们。</p><h2 id="759a" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">用react-app-rewired设置一个create react app</h2><p id="6590" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">使用babel插件而不弹出，需要安装<a class="ae kw" href="https://github.com/timarney/react-app-rewired" rel="noopener ugc nofollow" target="_blank"> react-app-rewired </a>和<a class="ae kw" href="https://github.com/arackaf/customize-cra/blob/3046d395878afc0e6ad8508f9be5a90edb46b9ef/readme.md" rel="noopener ugc nofollow" target="_blank"> customize-cra </a>。</p><p id="9e9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在您的项目中安装create-react-app:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="0501" class="lb lc iq la b gy mh mi l mj mk">yarn create react-app my-app</span></pre><p id="6360" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">移动<code class="fe kx ky kz la b">my-app</code>目录，增加<code class="fe kx ky kz la b">react-app-rewired</code>和<code class="fe kx ky kz la b">customize-cra</code>:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="6660" class="lb lc iq la b gy mh mi l mj mk">yarn add -D react-app-rewired customize-cra</span></pre><p id="55c7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在根目录下创建一个<code class="fe kx ky kz la b">config-overrides.js</code>文件:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="c2b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kx ky kz la b">useBabelRc()</code>用于在您的项目中使用<code class="fe kx ky kz la b">.babelrc</code>。默认情况下，create react app不允许你使用<code class="fe kx ky kz la b">.babelrc</code>，所以你需要在这里打开。(Webpack配置可以在这里看到<a class="ae kw" href="https://github.com/facebook/create-react-app/blob/a2ae8a79c0f6c0d07c6c2f1155d63f10efce9089/packages/react-scripts/config/webpack.config.js#L361" rel="noopener ugc nofollow" target="_blank">。)</a></p><p id="8819" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并将<code class="fe kx ky kz la b">package.json</code>中的<code class="fe kx ky kz la b">scripts</code>改为这样:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="f135" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，现在您可以用<code class="fe kx ky kz la b">yarn start</code>启动开发服务器，并看到它工作正常。</p><h2 id="ce25" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">创建一个巴别塔配置</h2><p id="2ad3" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">接下来，您将在项目中添加一个babel配置文件。</p><p id="86f9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在根项目中添加<code class="fe kx ky kz la b">.babelrc</code>:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="5ec4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，你没有任何插件，但我将在稍后解释如何添加它们。</p><h2 id="9f3c" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">创建ESLint配置</h2><p id="57c5" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">对于babel特性和代码格式化，您希望在项目中使用ESLint。</p><p id="3f74" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装一些配置插件:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="aa2f" class="lb lc iq la b gy mh mi l mj mk">yarn add -D eslint eslint-config-prettier eslint-plugin-babel eslint-plugin-prettier prettier</span></pre><p id="10e8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在根项目中添加<code class="fe kx ky kz la b">.eslintrc.js</code>。我的ESLint配置是这样的，但是你可以随意编辑它:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="dac7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，现在你需要做的事情都完成了，让我们开始<code class="fe kx ky kz la b">yarn start</code>吧。接下来我要说的是巴别塔插件。</p><h2 id="2a76" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">实验插件</h2><p id="5aeb" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">所有的巴别塔外挂都可以在这里<a class="ae kw" href="https://babeljs.io/docs/en/plugins#experimental" rel="noopener ugc nofollow" target="_blank">看到</a>。我已经把其中一些介绍给我的真实项目，发现它们真的很有帮助。所以我要谈以下几点:</p><ul class=""><li id="72cf" class="mn mo iq ka b kb kc kf kg kj mp kn mq kr mr kv ms mt mu mv bi translated"><a class="ae kw" href="https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-pipeline-运营商</a></li><li id="09e7" class="mn mo iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated"><a class="ae kw" href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-可选-链接</a></li><li id="8ff6" class="mn mo iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated"><a class="ae kw" href="https://babeljs.io/docs/en/babel-plugin-proposal-logical-assignment-operators" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-logic-assignment-operators</a></li><li id="a379" class="mn mo iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated"><a class="ae kw" href="https://babeljs.io/docs/en/babel-plugin-proposal-do-expressions" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-do-expressions</a></li></ul><h2 id="b078" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">@ babel/plugin-proposal-pipeline-operator</h2><p id="9631" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">首先，我要去找管道运营商。管道方案应配置有<code class="fe kx ky kz la b">proposal</code>选项，包括:</p><ul class=""><li id="2b99" class="mn mo iq ka b kb kc kf kg kj mp kn mq kr mr kv ms mt mu mv bi translated"><code class="fe kx ky kz la b">minimal</code> <a class="ae kw" href="https://github.com/tc39/proposal-pipeline-operator/" rel="noopener ugc nofollow" target="_blank">最小管道</a></li><li id="9967" class="mn mo iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated"><code class="fe kx ky kz la b">smart</code> <a class="ae kw" href="https://github.com/js-choi/proposal-smart-pipelines" rel="noopener ugc nofollow" target="_blank">智能管道</a></li><li id="ff22" class="mn mo iq ka b kb mw kf mx kj my kn mz kr na kv ms mt mu mv bi translated"><code class="fe kx ky kz la b">fsharp</code> <a class="ae kw" href="https://github.com/valtech-nyc/proposal-fsharp-pipelines" rel="noopener ugc nofollow" target="_blank"> F#型管道</a>(尚未实施)</li></ul><p id="fca1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并且现在可以使用<code class="fe kx ky kz la b">minimal</code>和<code class="fe kx ky kz la b">smart</code>选项(截至2019年4月)。</p><p id="4af3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装插件:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="9edc" class="lb lc iq la b gy mh mi l mj mk">yarn add -D @babel/plugin-proposal-pipeline-operator</span></pre><p id="eede" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe kx ky kz la b">.babelrc</code>中添加配置:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="6bae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">管道操作符是带有单个参数的函数调用的一个有用的语法糖。在函数式编程中，管道用于将几个函数链接在一起，以获得更好的可读性。</p><p id="9509" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">先说以下功能:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="1d0b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通常你可以这样使用它们:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="0c9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将它们与管道运算符一起使用时:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="c862" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它更好，可读性更强。</p><p id="64cd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">多重论证呢？给定以下函数:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="e146" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将它们与管道运算符一起使用时:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="2edc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kx ky kz la b">_</code>代表输入参数，因此您可以随意更改名称。</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="3013" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这似乎有点多余。它可以使用目前处于第一阶段的<code class="fe kx ky kz la b"><a class="ae kw" href="https://babeljs.io/blog/2019/03/19/7.4.0#partial-application-9343-https-githubcom-babel-babel-pull-9343-and-9474-https-githubcom-babel-babel-pull-9474" rel="noopener ugc nofollow" target="_blank">partial application proposal</a></code>进行改进(最后一次提交是在2018年7月)。</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="96d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不错！但是你现在不能在<code class="fe kx ky kz la b">create react app</code>项目中使用它，因为<code class="fe kx ky kz la b">babel-loader@8.0.5</code>是基于<code class="fe kx ky kz la b">@babel/core@7.2.0</code>的，它需要上面的<code class="fe kx ky kz la b">7.4.0</code>。</p><p id="ea53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">异步函数呢？现在，您不能使用<code class="fe kx ky kz la b">minimal</code>选项。你很快就可以用<code class="fe kx ky kz la b">fsharp</code>选项来试试了，就像这样:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="204d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可读性好得多，而且它是如此的声明性。很快就要使用<code class="fe kx ky kz la b">await</code>了，我真的很兴奋。</p><h2 id="c0f8" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">@ babel/plugin-proposal-可选-链接</h2><p id="bc85" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">可选链接目前处于阶段1。可选的chaining运算符允许您深入访问嵌套对象，而无需在临时变量中重复分配结果。如果你熟悉Ruby，你就把它当成像<a class="ae kw" href="https://rubyinrails.com/2017/11/17/safe-navigation-operator-ampersand-dot-in-ruby/" rel="noopener ugc nofollow" target="_blank">安全导航操作符</a>。</p><p id="641b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们安装它:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="9ca9" class="lb lc iq la b gy mh mi l mj mk">yarn add -D @babel/plugin-proposal-optional-chaining</span></pre><p id="b999" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并在<code class="fe kx ky kz la b">.babelrc</code>中进行配置:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="b419" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们访问深度嵌套的属性:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="e89b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">和访问可选方法:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="194d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">没有未定义的错误。酷！你可以点击查看所有例子<a class="ae kw" href="https://github.com/tc39/proposal-optional-chaining" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="307d" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">@ babel/plugin-proposal-logical-assign-operators</h2><p id="8bfd" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">逻辑运算符和赋值目前处于第一阶段，受到了<a class="ae kw" href="https://docs.ruby-lang.org/en/2.5.0/syntax/assignment_rdoc.html#label-Abbreviated+Assignment" rel="noopener ugc nofollow" target="_blank"> Rubys </a>的高度启发。</p><p id="9a5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装它:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="0224" class="lb lc iq la b gy mh mi l mj mk">yarn add -D @babel/plugin-proposal-logical-assignment-operators</span></pre><p id="d67e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并在<code class="fe kx ky kz la b">.babelrc</code>中进行配置:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="44b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">测试一下:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="be8d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果<code class="fe kx ky kz la b">a</code>的值为空或未定义，则将<code class="fe kx ky kz la b">b</code>分配给<code class="fe kx ky kz la b">a</code>。如果<code class="fe kx ky kz la b">c</code>有真值，将<code class="fe kx ky kz la b">d</code>赋值给<code class="fe kx ky kz la b">c</code>。这里可以看到详细的<a class="ae kw" href="https://github.com/tc39/proposal-logical-assignment" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="01b3" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">@ babel/plugin-proposal-do-expressions</h2><p id="6f0a" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">do表达式当前处于阶段1，该阶段执行一个块，块内的最终值成为Do表达式的值。</p><p id="2e5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装它:</p><pre class="lz ma mb mc gt md la me mf aw mg bi"><span id="2a74" class="lb lc iq la b gy mh mi l mj mk">yarn add -D @babel/plugin-proposal-do-expressions</span></pre><p id="ca67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并在<code class="fe kx ky kz la b">.babelrc</code>中进行配置:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="ad11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以用面向表达式的方式编写:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="8eba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在JSX，您可以使用<code class="fe kx ky kz la b">do</code>，它有条件地显示一个组件。通常情况下，您可以像这样实现条件组件:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="54c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是当像这样使用<code class="fe kx ky kz la b">do</code>时:</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="5147" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">其他用法见<a class="ae kw" href="https://github.com/tc39/proposal-do-expressions" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><h2 id="cf79" class="lb lc iq bd ld le lf dn lg lh li dp lj kj lk ll lm kn ln lo lp kr lq lr ls lt bi translated">结论</h2><p id="0924" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">在<code class="fe kx ky kz la b">create react app</code>中，你必须要么使用react-app-rewired要么弹出自定义巴别塔配置。但是作为另一种选择，你可以把它安装成一个<a class="ae kw" href="https://github.com/kentcdodds/babel-plugin-macros" rel="noopener ugc nofollow" target="_blank"> babel-plugins-macro </a>。对于管道操作员，可以使用我介绍的<code class="fe kx ky kz la b"><a class="ae kw" href="https://github.com/Andarist/pipeline.macro" rel="noopener ugc nofollow" target="_blank">pipeline.macro</a></code>。项目中有一堆宏<a class="ae kw" href="https://github.com/jgierer12/awesome-babel-macros" rel="noopener ugc nofollow" target="_blank">，所以你会找到你想要的。</a></p><p id="0d99" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我已经在我的真实项目中使用了这些插件，它们真的很有用。我希望你能从这件作品中找到一些灵感。</p></div></div>    
</body>
</html>