<html>
<head>
<title>Conditional Rendering in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的条件渲染</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/conditional-rendering-in-react-22e890dfdeed?source=collection_archive---------3-----------------------#2020-06-22">https://javascript.plainenglish.io/conditional-rendering-in-react-22e890dfdeed?source=collection_archive---------3-----------------------#2020-06-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c909e3af26bb585f762e13053eef65e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bsUst1JNh5eBlO8DuVdVKA.png"/></div></div></figure><p id="e32a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">React是一个高效的声明式JavaScript框架，用于构建交互式ui或用户界面，非常灵活和简单。此外，该框架在为各种应用程序状态设计无缝视图方面提供了许多优势，并在数据更改时更容易有效地更新和呈现正确的组件。</p><p id="8246" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ReactJS是一个非常动态和有能力的应用程序，以灵活和协调的方式准备更大的web应用程序，其中应用程序ui可以以快速和可伸缩的方式设计。<em class="kw"> React development </em>继续发展，以跟上市场的发展趋势和需求。</p><h2 id="51b4" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak">反应条件渲染</strong></h2><p id="3d30" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">在框架中，您可以构建可识别的组件来封装您需要的行为。然后，根据应用程序的状态，您可以只渲染其中的一部分。在React中，条件渲染的工作方式类似于JavaScript条件。</p><p id="f3c5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">JSX或JavaScript XML是一个强大的JS扩展，它使<em class="kw"> React开发者</em>能够定义用户界面的组件。然而，它不直接支持条件表达式或循环。</p><p id="05ba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可以使用JS操作符(例如if或条件操作符)来构建表示当前状态的元素，并允许React更新用户界面以匹配它们。</p><h2 id="886d" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak">五种条件渲染方式</strong></h2><p id="a57d" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">随着当代web应用程序的负载从后端转移到前端，我们不得不花更多的时间来考虑优化性能。此外，条件渲染实现也是如此。这就是为什么要考虑花适当的时间优化你的代码，同时尽可能地重用组件。</p><p id="2f0e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将有助于在运输时间和质量之间取得适当的平衡。考虑使用组件中心，如Bit.dev来记录、发布和组织组件。通过这种方式，所有的组件都可以在所有的开发项目中重用。</p><h2 id="543d" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak"> 1。if/else </strong></h2><p id="669e" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">可以应用React逻辑中的if-else条件JSX。你应该记住，JSX在执行前被编译成JavaScript，这就是为什么我们用JS代码编写的原因。</p><p id="b50b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">性能</strong></p><p id="4bac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">if-else语句可能会导致框架中的重新渲染浪费。在中小型应用程序中，可能感觉不到这一点。无论如何，在拥有数百甚至数千个组件的大型应用程序中，performance app仍然非常引人注目。</p><p id="632e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看看这个例子:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/e18a69967bd1b68464a64643e7c01c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*bjGZmnW7avyDFjBwYr-Zjw.png"/></div></figure><p id="5b32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">基于一个条件，安装组件A、B和C。如果昭和道具是真的，则渲染a、B、C。如果为假，A将被跳过，只渲染B和c。这里的问题是React的不同算法。框架利用该算法来确定何时避免浪费渲染。</p><p id="143f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个真正的昭和具有根据它们的A -&gt; B -&gt; C结构渲染的组件。只要昭和是真实的并且道具没有改变，React就不会重新渲染。尽管如此，只要showA变为false，渲染结构就会改变。</p><p id="3120" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">结构将是B -&gt; C，React将看到与前一个不同的结构，并重新呈现组件B和C，即使它们的状态/属性保持不变也不需要重新呈现。这是一个浪费的重新渲染。</p><h2 id="de4d" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak"> 2。三元运算符</strong></h2><p id="045a" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">较短的“if-else”条件形式。第一部分陈述条件，而第二部分是如果为真则返回的值。最后一个是false时返回的值。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/47ee8b2f62cd15d3096ee07602208b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*NXJ7K9uunXno2uQvsTsdZw.png"/></div></figure><p id="0944" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">看看这个:</strong></p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/a236410e399df6aa56a4cdf255f98785.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*kqlmEfeoj59UizYr9xiMrw.png"/></div></figure><h2 id="c824" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak"> 3。元素变量条件渲染</strong></h2><p id="3f25" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">保存JavaScript XML元素，以便可以在平台组件的任何地方使用它。它使得阅读和理解代码更加容易，因为它避免了组件中的多个return语句。下面是实现它的标准方法:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/340af9750c7e3bf3ea6c9d111b878cf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*w-c0QD8c52Tk_KBBITB5zw.png"/></div></figure><p id="fc40" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的组件中，我们有几个return语句。我们利用if-else来有条件地呈现用户界面的一部分。此外，我们可以使用元素变量来存储每个返回的条件语句的返回元素。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/6d040dde1145469862d7e6b80dd3c917.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*Pd151oJkYMv_uxef-wyCxA.png"/></div></figure><p id="6735" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">元素变量是我们用来保存finale元素的变量，该元素应该在评估语句if-else时呈现。通过利用元素变量，我们构建了一个易于阅读且更加简洁的代码。</p><p id="b632" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">性能</strong></p><p id="0973" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的关注点与前面提到的if-else项中的关注点相同。</p><h2 id="fe12" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">4.(&amp;&amp;)和运算符</h2><p id="6a8f" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">AND运算符用于检查左右表达式是否为真。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/e1202af38634eeed2745eb4d1fb94522.png" data-original-src="https://miro.medium.com/v2/resize:fit:342/format:webp/1*tRPeT2r0CW5VmabVRzrxgA.png"/></div></figure><p id="1492" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果表达式解析为TRUE，那么AND运算符将返回正确的表达式求值结果。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/285a9fe367e6023fa3aa78c27060476c.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*3zWS5VJRdTqVkwksIlg1HQ.png"/></div></figure><p id="1eaa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，如果表达式解析为FALSE，则AND运算符将返回FALSE:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/f7692f628239e452cf342c63cb0adb13.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*4oOjrtmokjw7_XCy8yqkPg.png"/></div></figure><p id="9509" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这种情况下，我们可以使用这个操作符以及AND操作符在React框架中有条件地呈现JSX。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/92e2c7f3bd89335a1e7573ab22ba1a0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*aufJNoZvM0TZWsQDki75EQ.png"/></div></figure><p id="48b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们利用JavaScript XML的AND运算符。花括号支持添加和计算JSX JavaScript表达式。</p><p id="9a7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">性能</strong></p><p id="4a66" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然本质上它与前面两种条件呈现方式没有什么不同，但AND (&amp;&amp;)和JSX表达式运算符被认为是更好的选择，因为它迫使您在以条件方式返回和呈现元素时返回相同的结构。</p><h2 id="5356" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">5.返回Null</h2><p id="7807" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">可以设置一个组件返回一个空值，而不是简单的JSX表达式，所以虽然它不会呈现任何东西，但会被计算。当组件返回null时，它会阻止React挂载组件。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/b73492ca2908f4618a563b4c723a8db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*1oPQAd3d9LOHr0Ii22QMbw.png"/></div></div></figure><p id="a163" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果设置了noRender prop，则组件返回null。这就是为什么我们会设置noRender道具<appnorender/>如果你不喜欢App组件渲染的话。请注意，无论如何，返回null生命周期方法的组件都会被触发。</p><p id="6001" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">表现</strong></p><p id="a66e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">即使返回的组件不会呈现任何东西，它仍然会被计算。这意味着不必要的计算，这可能会在大型应用程序中产生相当大的影响。</p><h2 id="7c63" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak">结论</strong></h2><p id="7d82" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">总之，我们看到了许多实现React条件渲染的方法。每种方法都有其优点，与其他方法相比，有些方法有助于获得更易读的代码。然而，在使用任何方法时，简单性也是一个重要的考虑因素。</p><p id="cdb8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有需要的用例可能只是if操作符。实际上，选择最适合您的使用实例的方法。</p></div></div>    
</body>
</html>