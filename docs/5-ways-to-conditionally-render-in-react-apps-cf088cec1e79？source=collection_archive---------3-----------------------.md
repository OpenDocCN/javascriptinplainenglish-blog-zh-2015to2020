# 在 React 应用中有条件渲染的 5 种方式

> 原文：<https://javascript.plainenglish.io/5-ways-to-conditionally-render-in-react-apps-cf088cec1e79?source=collection_archive---------3----------------------->

## 条件渲染的权威指南

![](img/c1c5bef0f438d2a1876cdb58d4912caa.png)

Photo by [Martin Adams](https://unsplash.com/@martinadams?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/hide-seek?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

**条件渲染**在 React 中，这个术语描述了基于特定条件渲染不同 UI 元素或组件的能力。这种想法经常用于以下情况:

*   **显示或隐藏一个元素/组件:**例如，只有用户登录时才显示注销按钮，反之亦然。
*   **从 API 渲染数据:**当应用程序获取数据时，会显示一个加载组件，一旦应用程序接收到数据，就会将数据渲染到屏幕上。如果加载数据时出现错误，则会显示一条错误消息。

在本文中，我们将根据不同的条件，研究在 React 中有条件地呈现元素或组件的各种方法。

# 1.使用 If 和 else 语句

`if..else`语句是有条件地呈现组件或元素的最常见方式。如果指定的条件为真， **if** / **else 语句**将呈现一个元素。

让我们看一个例子:

登录和注销的选项总是要呈现的。让我们用 if/else 语句更新上面的代码，以便在用户未登录时只呈现登录按钮，在用户登录时只呈现注销按钮。

# 2.使用三元运算符

这是编写 if/else 语句的快捷方式。让我们看下面一个简单的例子。

正如你所看到的，这个例子比典型的 if/else 语句要简洁得多，因此对于像这样的简单例子来说，它是一个很好的选择。

# 3.子组件

子组件是放在尚未导出的`.jsx`文件中的组件。这意味着它只能在那个特定的文件中使用。这些子组件将包含可以嵌套在另一个 React 组件中的 JSX 元素。这种技术将使代码看起来整洁，因为它将条件呈现逻辑从主组件提取到子组件中。让我们看一个例子:

我们使用子组件`ButtonComponent`作为排序变量来返回需要根据条件显示的按钮。

# 4.使用 switch 语句

switch 语句是一种选择控制机制，用于允许变量或表达式的值改变程序的控制流。

假设用户登录后，如果用户是管理员、客户或供应商，应用程序会以不同的方式呈现用户界面。让我们看看下面的一个例子:

注意:变量的`user`可以是`'CUSTOMER'`或`'ADMIN'`，也可以是`'SUPPLIER’`。

从上面的例子可以看出，这和我们见过的 if/else 语句非常相似。这有两个好处。首先，我们有一个默认条件，如果其他情况都不匹配，就调用这个条件。在我们的例子中，我们决定不返回任何东西。第二，我们可以将多个条件作为案例添加到 switch 语句中，这可以用于更复杂的条件。

# 5.使用&&(和)

当您想要确保在表达式求值期间没有副作用时，这种技术非常有用。只有当且仅当条件为真时，`&&`后的元素或组件才会呈现，否则根本不会呈现。

假设我们想在客户登录时向他们显示特定的文本。如果另一种类型的用户登录(例如管理员用户)，则不执行任何操作。让我们看看下面的一个例子:

正如您在第 19 行看到的，我们已经向所有类型为`'CUSTOMER'`的用户显示了“Hello Customers”。

# 结论

本文研究了在 React 应用程序中实现条件呈现的 5 种不同方式。在决定这些不同的渲染技术时，主要考虑以下几点:

*   如果你期待一个结果，评估可能是最好的方法。
*   对于有两个结果的情况，可以使用 if/else 条件语句。确保将逻辑提取到一个函数中。
*   三元运算符对于有两个结果的情况也是一个很好的解决方案，并且更加简洁，更容易遵循 if/else 语句。
*   对于有 3 个或更多结果的情况，开关盒可以派上用场。

想想如何重构现有代码，将条件逻辑从组件的返回语句中提取到函数、子组件或变量中，以进一步提高代码的可读性。