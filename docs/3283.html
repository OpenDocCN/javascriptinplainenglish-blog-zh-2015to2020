<html>
<head>
<title>Implementing a light and dark theme with persistence using React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React实现具有持久性的明暗主题</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implementing-a-light-and-dark-theme-in-react-with-persistence-329aa4bc4da5?source=collection_archive---------11-----------------------#2020-09-15">https://javascript.plainenglish.io/implementing-a-light-and-dark-theme-in-react-with-persistence-329aa4bc4da5?source=collection_archive---------11-----------------------#2020-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/255647334dd206e9b98fbcd207a85664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/1*ytSchndR9KZY2ct2UnshZA.gif"/></div></figure><h2 id="2c6d" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">介绍</h2><p id="86ec" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">所以，你已经到了创建网站的时候，你想做一些看起来“很酷”的事情，比拥有一个允许用户将网站主题从亮到暗翻转(然后再转回来)的按钮更酷的是什么(或更多关于品牌与2020)。</p><p id="5af9" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">毫无疑问，你已经注意到越来越多的网站提供这种功能，但是实现起来有多容易呢？我来告诉你:相对容易。只要你知道一点反应和一些CSS，这将是一个(社会距离)在公园散步。</p><p id="bd7b" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">本教程的所有代码都在这里<a class="ae lq" href="https://github.com/mojiwa/react-light-dark-theme" rel="noopener ugc nofollow" target="_blank">可用。<br/>这个项目的一个例子可以是</a><a class="ae lq" href="http://dark-light-theme-react.netlify.app" rel="noopener ugc nofollow" target="_blank">看这里</a>。</p><h2 id="339b" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">目标</h2><p id="e901" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">有一个简单的开关或一组按钮，用户可以按下改变网站从一个明亮的主题到一个黑暗的主题(或主题1到主题2)，然后再回来。用户的选择也必须在下次访问网站时被记住。</p><p id="1e2d" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">以下是建议解决方案的一个示例:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/255647334dd206e9b98fbcd207a85664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/1*ytSchndR9KZY2ct2UnshZA.gif"/></div></figure><h2 id="fd85" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">解决方案</h2><p id="76f4" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated"><strong class="ks ir">先决条件:</strong></p><p id="df05" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">您可以自己设置React解决方案，使用现有的解决方案，或者克隆下面的git库:<br/><a class="ae lq" href="https://github.com/mojiwa/react-light-dark-theme.git" rel="noopener ugc nofollow" target="_blank">https://github.com/mojiwa/react-light-dark-theme.git</a></p><p id="8070" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">对于这个例子，我在普通CSS中使用标准的React。节点版本是14.10.1，你可以<a class="ae lq" href="https://nodejs.org/dist/v14.10.1/" rel="noopener ugc nofollow" target="_blank">在这里</a>下载。</p><p id="ef44" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">如果您正在克隆上面的库，您将需要运行<code class="fe lv lw lx ly b">npm install</code>来安装所有的包。</p><p id="69f9" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">颜色选择:</strong></p><p id="8f0d" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">在我们开始之前，仔细考虑你使用的明暗颜色是很重要的。我不打算讲一整节色彩选择的科学课，但我倾向于选择两种反转时效果很好的颜色(例如，当主题切换时，浅色作为背景，深色作为文本)；以及链接、下划线、按钮等的高亮颜色。这与背景/字体颜色都很好。找到这些颜色可能会花你一点时间，但值得花时间去做。</p><p id="b947" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">在这篇文章中，我将使用我为我的个人网站<a class="ae lq" href="https://mojiwa.com" rel="noopener ugc nofollow" target="_blank">选择的相同颜色，因为它们配合得非常好:</a></p><p id="188e" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">光亮:<a class="ae lq" href="https://www.colorhexa.com/e2e8f0" rel="noopener ugc nofollow" target="_blank">https://www.colorhexa.com/e2e8f0</a>T2<a class="ae lq" href="https://www.colorhexa.com/1a202c" rel="noopener ugc nofollow" target="_blank">https://www.colorhexa.com/1a202c</a><br/>高亮:<a class="ae lq" href="https://www.colorhexa.com/319795" rel="noopener ugc nofollow" target="_blank">https://www.colorhexa.com/319795</a></p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/066c32c99bfd5d88b15c879c562a5a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*ijhEou5Vg5Nef85JJvKd7g.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Example theme colours</figcaption></figure><p id="4ecc" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">开始:</strong></p><p id="72e3" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我将在App.js中工作，我将从把所有的颜色定义为常量开始，这样我就可以在代码中很容易地引用它们:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="e70e" class="ju jv iq ly b gy mi mj l mk ml"><em class="mm">const</em> THEME_LIGHT_HEX = '#E2E8F0'<br/><em class="mm">const</em> THEME_DARK_HEX = '#1A202C';<br/><em class="mm">const</em> THEME_HIGHLIGHT_HEX = '#319795';</span></pre><p id="1f81" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我还将创建一个Enum来存储这两个主题，以便以后在设置主题时可以对它们执行一个简单的if/else语句。考虑到这一点，App.js的框架现在看起来像这样:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="6940" class="ju jv iq ly b gy mi mj l mk ml">import React from 'react';</span><span id="d88b" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">const</em> THEME_LIGHT_HEX = '#E2E8F0'<br/><em class="mm">const</em> THEME_DARK_HEX = '#1A202C';<br/><em class="mm">const</em> THEME_HIGHLIGHT_HEX = '#319795';<br/><em class="mm">const</em> THEMES = {<br/> Light: THEME_LIGHT_HEX,<br/> Dark: THEME_DARK_HEX<br/>};</span><span id="d55d" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">function</em> App() {<em class="mm"> </em><br/> return (<br/>  &lt;div&gt;<br/>   This is an example of how we can set themes using React.<br/>  &lt;/div&gt;<br/> );<br/>}</span><span id="b25b" class="ju jv iq ly b gy mn mj l mk ml">export default App;</span></pre><p id="8f7c" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">这就足够让我们开始了。确保您告诉您的index.js文件将<App/>渲染到您的html入口点(无论是“根”还是其他什么)。</p><p id="0df3" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">创建开关:</strong></p><p id="22fc" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">有很多方法可以在网站上切换主题。您可以使用按钮、复选框或切换开关。你使用什么并不重要，因为它们中的任何一个都可以工作，JavaScript代码也是一样的。在这一点上，一切都取决于个人喜好。</p><p id="3c2f" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我将创建两个按钮，一个切换到亮，一个切换到暗。我们现在将进入一些CSS来设置按钮的样式(实际上是div样式，而不是HTML按钮)。</p><p id="e2bd" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我有一个导入到App.js中的index.css文件，我将在那里创建我的按钮。同样，有很多方法可以做到这一点，但是我选择了不涉及额外工具/框架的最简单的方法。使用任何您认为适合创建样式元素的方法:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="fa01" class="ju jv iq ly b gy mi mj l mk ml">.button-holder {<br/> display: flex;<br/>}</span><span id="0c57" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-light</em> {<br/> height: 25px;<br/> width: 60px;<br/> border-radius: 10%;<br/> padding: 2px;<br/> display: flex;<br/> align-items: center;<br/> justify-content: center;<br/> cursor: pointer;<br/> background-color: #cbd5e0;<br/> color: #1a202c;<br/>}</span><span id="910b" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-dark</em> {<br/> height: 25px;<br/> width: 60px;<br/> border-radius: 10%;<br/> padding: 2px;<br/> display: flex;<br/> align-items: center;<br/> justify-content: center;<br/> cursor: pointer;<br/> background-color: #2d3748;<br/> color: #e2e8f0;<br/>}</span><span id="156c" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-light:hover</em> {<br/> background-color: #e2e8f0;<br/>}</span><span id="aee2" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-dark:hover</em> {<br/> background-color: #1a202c;<br/>}</span></pre><p id="7826" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">然后，您可以将它们放入您的页面(不要忘记将css导入App.js -如果您不确定如何操作，请参见本文底部的完整代码输出):</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="1c3f" class="ju jv iq ly b gy mi mj l mk ml"><em class="mm">function</em> App() {<br/> return (<br/>  &lt;div&gt;<br/>   This is an example of how we can set themes using React.<br/>   &lt;div className='button-holder&gt;<br/>    &lt;div <em class="mm">className</em>='theme-button-dark'&gt;Dark&lt;/div&gt;<br/>    &lt;div <em class="mm">className</em>='theme-button-light'&gt;Light&lt;/div&gt;<br/>   &lt;/div&gt;<br/>  &lt;/div&gt;<br/> );<br/>}</span></pre><p id="59a4" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">您最终会得到如下结果(请注意，对于一些简单的用户反馈，按钮上有一个悬停效果):</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/4ce86780d045ee51e0626d2957030df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*uA9pSZSiWczlm9_tN4-zog.jpeg"/></div></figure><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/0150416e2ce82ac14a05105658856300.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*Fqojg8qFv3troZC1ZgjYhA.png"/></div></figure><p id="cf21" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">按钮接线:</strong></p><p id="ff7b" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我们需要做的下一件事是连接按钮，当你点击它们时执行一个功能。编辑两个按钮div，使其看起来像这样:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="f8fd" class="ju jv iq ly b gy mi mj l mk ml">&lt;div <em class="mm">className</em>='theme-button-dark' <em class="mm">onClick</em>={() =&gt; applyTheme(THEMES.Dark)}&gt;Dark&lt;/div&gt;<br/>&lt;div <em class="mm">className</em>='theme-button-light' <em class="mm">onClick</em>={() =&gt; applyTheme(THEMES.Light)}&gt;Light&lt;/div&gt;</span></pre><p id="5267" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">您会注意到，我们调用了函数“applyTheme”，但是还没有这样的函数，所以我们假设:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="cfd3" class="ju jv iq ly b gy mi mj l mk ml">function applyTheme(theme) {<br/>}</span></pre><p id="62d7" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">设置主题:</strong></p><p id="8052" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">为了能够看到发生的任何事情，我们需要为我们选择的东西设置背景和文本颜色。为了简单起见，我将通过JavaScript代码来设置页面的主体样式:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="3fcf" class="ju jv iq ly b gy mi mj l mk ml">function applyTheme(theme) {<br/> document.body.style.backgroundColor = theme;</span><span id="623d" class="ju jv iq ly b gy mn mj l mk ml"> document.body.style.color = theme === THEMES.Dark ? THEMES.Light : THEMES.Dark;<br/>}</span></pre><p id="bfe5" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我们在上面所做的就是为传入的主题设置背景颜色。然后，我们使用if语句将文本颜色设置为相反的颜色，以检查我们传入的是深色主题还是浅色主题(如果传入深色主题，则将文本颜色设置为浅色主题，反之亦然)。</p><p id="7ea5" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">现在，当您运行它时，您将得到类似上面建议的解决方案的内容:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/255647334dd206e9b98fbcd207a85664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/1*ytSchndR9KZY2ct2UnshZA.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Working implementation of theme switching</figcaption></figure><p id="921a" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">持久性和默认值:</strong></p><p id="22af" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">剩下要做的最后一件事是保存主题，这样当站点再次被加载时，它会记住之前选择的内容。我们还需要确保在站点第一次加载时就设置了主题(所以它不只是默认的白色背景)。我们使用web存储和“ComponentDidMount”或“UseEffect”(如果使用React Hooks，则使用后者)来实现这些功能。这个示例项目使用了钩子，所以如果你不熟悉，你可以<a class="ae lq" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">在这里</a>阅读。</p><p id="86f8" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">网络存储是为网络应用程序存储信息的一种很酷的方式。你可以<a class="ae lq" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API" rel="noopener ugc nofollow" target="_blank">在这里</a>了解更多信息。我们可以使用web存储在本地保存我们的主题，这样即使我们关闭并重新打开浏览器，我们的选择也会被保存。我们也不需要担心使用cookies时的安全问题，因为没有数据被传输到服务器——所有数据都保存在本地。与cookies相比的另一个优势是，web存储使用起来更加直观<em class="mm">和</em>它可以存储更多的内容(最多5MB用于会话存储，更多用于本地存储)。</p><p id="aadf" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">我为web存储创建了两个函数。一个提交数据，另一个检索数据。它们看起来像这样:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="ef4d" class="ju jv iq ly b gy mi mj l mk ml"><em class="mm">const</em> THEME_KEY = 'THEME';</span><span id="0b6a" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">// Save the chosen theme to web storage<br/>function</em> SaveSettings(<em class="mm">value</em>) {<br/> window.localStorage.setItem(THEME_KEY, value);<br/>}</span><span id="7bf0" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">// Get the saved theme from web storage<br/>function</em> GetSettings() {<br/><em class="mm">// Return the saved theme if a theme has been saved.<br/>// If no theme has been saved, default to the light theme.<br/> </em>return window.localStorage.getItem(THEME_KEY) ?? THEMES.Light;<br/>}</span></pre><p id="7f34" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">你可以把这段代码放在你的应用程序函数上面。<br/>要在我们更改主题时保存主题，我们只需在主题更改时调用“SaveSettings()”。像这样更新“applyTheme()”方法:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="65e7" class="ju jv iq ly b gy mi mj l mk ml">function applyTheme(theme) {<br/> document.body.style.backgroundColor = theme;</span><span id="c5d0" class="ju jv iq ly b gy mn mj l mk ml"> document.body.style.color = theme === THEMES.Dark ? THEMES.Light : THEMES.Dark;</span><span id="f420" class="ju jv iq ly b gy mn mj l mk ml"> SaveSettings(theme);<br/>}</span></pre><p id="e1d0" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">要在打开页面时应用保存的设置(或者在第一次加载时默认为light主题),您可以执行以下操作(如果您使用React Hooks ),或者只调用ComponentDidMount()中的相同函数:</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="f5c7" class="ju jv iq ly b gy mi mj l mk ml"><em class="mm">// When we load the site, we attempt to get the saved theme from web storage.<br/></em>useEffect(() =&gt; {<br/> applyTheme(GetSettings());<br/>});</span></pre><p id="1b06" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">仅此而已。现在你有了一个主题开关，可以在亮暗主题之间切换，并保存到本地web存储器中。</p><p id="18ac" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">最终的代码应该如下所示:</p><p id="4b2c" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">App.js</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="5fec" class="ju jv iq ly b gy mi mj l mk ml">import React from 'react';<br/>import './index.css';</span><span id="a098" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">const</em> THEME_LIGHT_HEX = '#E2E8F0'<br/><em class="mm">const</em> THEME_DARK_HEX = '#1A202C';<br/><em class="mm">const</em> THEME_HIGHLIGHT_HEX = '#319795';<br/><em class="mm">const</em> THEMES = {<br/> Light: THEME_LIGHT_HEX,<br/> Dark: THEME_DARK_HEX<br/>};<br/><em class="mm">const</em> THEME_KEY = 'THEME';</span><span id="c4dc" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">// Save the chosen theme to web storage<br/>function</em> SaveSettings(<em class="mm">value</em>) {<br/> window.localStorage.setItem(THEME_KEY, value);<br/>}</span><span id="870c" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">// Get the saved theme from web storage<br/>function</em> GetSettings() {<br/><em class="mm">// Return the saved theme if a theme has been saved.<br/>// If no theme has been saved, default to the light theme.<br/> </em>return window.localStorage.getItem(THEME_KEY) ?? THEMES.Light;<br/>}</span><span id="a0d8" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">function</em> App() {<em class="mm"> <br/> // When we load the site, we attempt to get the saved theme from  web storage.<br/> </em>useEffect(() =&gt; {<br/>  applyTheme(GetSettings());<br/> });</span><span id="acd5" class="ju jv iq ly b gy mn mj l mk ml">function applyTheme(theme) {<br/> document.body.style.backgroundColor = theme;<br/> document.body.style.color = theme === THEMES.Dark ? THEMES.Light :  THEMES.Dark;<br/> SaveSettings(theme);<br/>}</span><span id="842f" class="ju jv iq ly b gy mn mj l mk ml">return (<br/>  &lt;div&gt;<br/>   This is an example of how we can set themes using React.<br/>   &lt;div className='button-holder&gt;<br/>    &lt;div <em class="mm">className</em>='theme-button-dark' <em class="mm">onClick</em>={() =&gt; applyTheme(THEMES.Dark)}&gt;Dark&lt;/div&gt;<br/>    &lt;div <em class="mm">className</em>='theme-button-light' <em class="mm">onClick</em>={() =&gt; applyTheme(THEMES.Light)}&gt;Light&lt;/div&gt;<br/>   &lt;/div&gt;<br/>  &lt;/div&gt;<br/> );<br/>}</span><span id="411e" class="ju jv iq ly b gy mn mj l mk ml">export default App;</span></pre><p id="d895" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">index.css</p><pre class="lr ls lt lu gt me ly mf mg aw mh bi"><span id="64d4" class="ju jv iq ly b gy mi mj l mk ml">.button-holder {<br/> display: flex;<br/>}</span><span id="f46d" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-light</em> {<br/> height: 25px;<br/> width: 60px;<br/> border-radius: 10%;<br/> padding: 2px;<br/> display: flex;<br/> align-items: center;<br/> justify-content: center;<br/> cursor: pointer;<br/> background-color: #cbd5e0;<br/> color: #1a202c;<br/>}</span><span id="1cac" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-dark</em> {<br/> height: 25px;<br/> width: 60px;<br/> border-radius: 10%;<br/> padding: 2px;<br/> display: flex;<br/> align-items: center;<br/> justify-content: center;<br/> cursor: pointer;<br/> background-color: #2d3748;<br/> color: #e2e8f0;<br/>}</span><span id="58ee" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-light:hover</em> {<br/> background-color: #e2e8f0;<br/>}</span><span id="4b8f" class="ju jv iq ly b gy mn mj l mk ml"><em class="mm">.theme-button-dark:hover</em> {<br/> background-color: #1a202c;<br/>}</span></pre><h2 id="d75e" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">简单英语的JavaScript</h2><p id="995f" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae lq" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ks ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="ks ir">！</strong></p></div></div>    
</body>
</html>