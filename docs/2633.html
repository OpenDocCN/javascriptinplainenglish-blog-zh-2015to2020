<html>
<head>
<title>Useful JavaScript Tips —Maps, Checkboxes, and Existence</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的JavaScript技巧—地图、复选框和存在</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/useful-javascript-tips-maps-checkboxes-and-exisrence-4a0025cfc6c0?source=collection_archive---------12-----------------------#2020-07-10">https://javascript.plainenglish.io/useful-javascript-tips-maps-checkboxes-and-exisrence-4a0025cfc6c0?source=collection_archive---------12-----------------------#2020-07-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/58df9752e7bd121586f55d03d0179d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XLBv_paICY60gbVc"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@anniespratt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Annie Spratt</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1c23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些应该遵循的技巧，以便更快更好地编写JavaScript代码。</p><h1 id="65ad" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">地图</h1><p id="ab9d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">映射对于存储键值对非常有用。</p><p id="92fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它是使用<code class="fe me mf mg mh b">Map</code>构造函数创建的。</p><p id="c245" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了创建它，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="37d9" class="mq lc iq mh b gy mr ms l mt mu">const map = new Map();</span></pre><h1 id="9914" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">向地图添加项目</h1><p id="0c51" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">set</code>方法向一个<code class="fe me mf mg mh b">Map</code>添加项目。</p><p id="39ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="03f0" class="mq lc iq mh b gy mr ms l mt mu">map.set('color', 'brown');<br/>map.set('age', 2);</span></pre><h1 id="6c82" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">通过键从地图中获取项目</h1><p id="fba2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">get</code>方法通过它的键获得一个地图条目。</p><p id="fdde" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="309a" class="mq lc iq mh b gy mr ms l mt mu">map.get('color');<br/>map.get('age');</span></pre><h1 id="6d8d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">通过键从地图中删除项目</h1><p id="b65c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Map</code>实例有<code class="fe me mf mg mh b">delete</code>方法通过键移除一个项目。</p><p id="026e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bf56" class="mq lc iq mh b gy mr ms l mt mu">map.delete('color');</span></pre><h1 id="1b5b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">从地图中删除所有项目</h1><p id="f90a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">clear</code>方法删除<code class="fe me mf mg mh b">Map</code>中的所有条目。</p><p id="f9ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d359" class="mq lc iq mh b gy mr ms l mt mu">map.clear()</span></pre><h1 id="f5f5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查地图是否有带有给定关键字的项目</h1><p id="4bcc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">has</code>方法让我们检查具有给定键的项目是否在<code class="fe me mf mg mh b">Map</code>实例中。</p><p id="b7e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8c19" class="mq lc iq mh b gy mr ms l mt mu">const hasColor = map.has('color');</span></pre><h1 id="66e4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">查找地图中项目的数量</h1><p id="0674" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">属性返回一个<code class="fe me mf mg mh b">Map</code>中的项目数。</p><p id="035a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7d2f" class="mq lc iq mh b gy mr ms l mt mu">const size = map.size;</span></pre><h1 id="231c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建带有值的地图</h1><p id="b1b5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在构造函数中传递一个带有键值对的数组。</p><p id="66ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ebf3" class="mq lc iq mh b gy mr ms l mt mu">const map = new Map([['color', 'white'], ['breed', 'poodle'], ['age', 2]])</span></pre><p id="5025" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个条目是键，第二个是每个数组条目中的值。</p><h1 id="dd60" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">迭代映射键</h1><p id="249b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Map</code>实例具有<code class="fe me mf mg mh b">keys</code>方法。</p><p id="a127" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个带有映射键的迭代器，所以我们可以遍历它们。</p><p id="a3ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9770" class="mq lc iq mh b gy mr ms l mt mu">for (const key of map.keys()) {<br/>  console.log(key)<br/>}</span></pre><h1 id="6d15" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">迭代地图值</h1><p id="aa7b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">values</code>方法遍历这些值。</p><p id="16f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b00d" class="mq lc iq mh b gy mr ms l mt mu">for (const val of map.values()) {<br/>  console.log(val)<br/>}</span></pre><h1 id="9f8f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">迭代键值对</h1><p id="3801" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Map</code>实例有<code class="fe me mf mg mh b">entries</code>方法来遍历键值对。</p><p id="90d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="23cf" class="mq lc iq mh b gy mr ms l mt mu">for (const [key, val] of map.<!-- -->entries<!-- -->()) {<br/>  console.log(key, val)<br/>}</span></pre><p id="e332" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写作；</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="97e1" class="mq lc iq mh b gy mr ms l mt mu">for (const [key, val] of map) {<br/>  console.log(key, val)<br/>}</span></pre><h1 id="529e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将地图转换为数组</h1><p id="54f6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将映射键和值分散到一个数组中。</p><p id="07ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3162" class="mq lc iq mh b gy mr ms l mt mu">const keys = [...m.keys()]</span></pre><p id="70d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1b50" class="mq lc iq mh b gy mr ms l mt mu">const values = [...m.values()]</span></pre><h1 id="554b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">WeakMaps</h1><p id="9f6c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">WeakMaps是一种特殊的地图，其条目可以被垃圾收集。</p><p id="f4a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们不能迭代WeakMap中的kets或值。</p><p id="a142" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也不能清除武器地图上的所有物品。</p><p id="dd01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的大小也无从查起。</p><p id="6779" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，我们可以用<code class="fe me mf mg mh b">get</code>得到一个带有关键字的项目</p><p id="286b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用<code class="fe me mf mg mh b">set</code>给武器地图添加一个物品。</p><p id="e774" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">has</code>检查具有给定键的项目。</p><p id="6e37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">delete</code>从Weakmap中删除一个物品。</p><h1 id="12b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查是否选中了复选框</h1><p id="973e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过<code class="fe me mf mg mh b">checked</code>属性发现复选框是否被选中。</p><p id="e272" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="06b7" class="mq lc iq mh b gy mr ms l mt mu">document.getElementById('selected').checked</span></pre><p id="d407" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查看ID为<code class="fe me mf mg mh b">selected</code>的复选框是否被选中。</p><h1 id="2cdf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查未定义的对象属性</h1><p id="4b5c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法可以检查未定义的对象属性。</p><p id="6501" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以直接把一个属性比作<code class="fe me mf mg mh b">undefined</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="999b" class="mq lc iq mh b gy mr ms l mt mu">obj.prop === undefined</span></pre><p id="da61" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">hasOwnProperty</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bdb0" class="mq lc iq mh b gy mr ms l mt mu">!obj.hasOwnProperty('prop')</span></pre><p id="3494" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它使用参数中给定的名称检查<code class="fe me mf mg mh b">obj</code>的自身属性。</p><p id="ac56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">typeof</code>操作符:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0d74" class="mq lc iq mh b gy mr ms l mt mu">typeof obj.prop === 'undefined'</span></pre><h1 id="9802" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查DOM元素是否存在</h1><p id="d601" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过jQuery轻松做到这一点。</p><p id="15d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以选择元素并获得返回列表的长度:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f078" class="mq lc iq mh b gy mr ms l mt mu">$(selector).length</span></pre><p id="7487" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以调用<code class="fe me mf mg mh b">exists</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8466" class="mq lc iq mh b gy mr ms l mt mu">$(selector).exists()</span></pre><p id="c9b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们导致普通JavaScript的<code class="fe me mf mg mh b">querySelectorAll</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3bee" class="mq lc iq mh b gy mr ms l mt mu">document.querySelectorAll(<!-- -->selector).length</span></pre><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/ad4618db0dafa6fa0936cc88a38f5767.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ycuX5x9P37OgEk1s"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mbenna?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Benna</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="d2d2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="57e9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">映射对于存储键值对非常有用。</p><p id="8b29" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以检查一个元素是否用检查值进行了检查。</p><p id="d639" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过选择元素并获得返回列表的长度来判断元素是否存在。</p><h2 id="7868" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="25f2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>