<html>
<head>
<title>How to build PWAs (Progressive Web Apps) using Angular, Ionic Framework and Firebase Hosting.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Angular、Ionic框架和Firebase托管来构建PWAs(渐进式Web应用程序)。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-pwas-progressive-web-apps-using-angular-ionic-framework-and-firebase-hosting-bfe43e025eba?source=collection_archive---------3-----------------------#2019-12-22">https://javascript.plainenglish.io/how-to-build-pwas-progressive-web-apps-using-angular-ionic-framework-and-firebase-hosting-bfe43e025eba?source=collection_archive---------3-----------------------#2019-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7f1333d461d04eafed719a67cc1fbe99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cEAwb3pEkxZoVZCL.png"/></div></div></figure><p id="5148" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">简单的第4步</strong>构建<strong class="ka ir">生产就绪PWA </strong>并在Firebase上托管它。<br/> <code class="fe kw kx ky kz b">PWAs are best to build mobile friendly web-apps.</code> <code class="fe kw kx ky kz b">PWAs can install</code>在你的设备上，<code class="fe kw kx ky kz b">It receives push notifications and even many more..</code></p><h2 id="bc5f" class="la lb iq bd lc ld le dn lf lg lh dp li kj lj lk ll kn lm ln lo kr lp lq lr ls bi translated">什么是PWA？</h2><blockquote class="lt lu lv"><p id="887e" class="jy jz lw ka b kb kc kd ke kf kg kh ki lx kk kl km ly ko kp kq lz ks kt ku kv ij bi translated"><strong class="ka ir"><em class="iq">PWA:P</em></strong><em class="iq">rogressive</em><strong class="ka ir"><em class="iq">W</em></strong><em class="iq">EB</em><strong class="ka ir"><em class="iq">A</em></strong><em class="iq">application是一种通过web交付的应用软件，使用常见的web技术构建，包括</em><code class="fe kw kx ky kz b"><em class="iq">HTML</em></code><em class="iq"/><code class="fe kw kx ky kz b"><em class="iq">CSS</em></code><em class="iq">和</em> <code class="fe kw kx ky kz b"><em class="iq">JavaScript</em></code> <em class="iq">。它适用于使用符合标准的浏览器的</em> <code class="fe kw kx ky kz b"><em class="iq">work on any platform</em></code> <em class="iq">。</em></p></blockquote></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><p id="81f7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们从创建一个<strong class="ka ir">新的Ionic应用</strong>开始:PWA功能将在稍后添加。<br/>在您的终端/命令提示符下运行该命令:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="643e" class="la lb iq kz b gy mp mq l mr ms">sudo ionic start pwaChitChat sidemenu --type=angular</span></pre><p id="c40c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(设置<code class="fe kw kx ky kz b">sudo</code>以管理员身份执行该命令-对于<strong class="ka ir"> Mac/Linux用户</strong>和<strong class="ka ir"> Windows用户</strong> <em class="lw"> →搜索命令提示符→右键单击，然后单击‘以管理员身份运行’</em>|<code class="fe kw kx ky kz b"><strong class="ka ir">sudo</strong></code>对于Windows用户不需要)</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/09e5fa4f07244859c46462fb1af78968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9c9i9q6uJpaVh1r3lT2g1Q.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">This command will generate a new directory of app by name: ‘pwaChitChat’</figcaption></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="8096" class="my lb iq bd lc mz na nb lf nc nd ne li nf ng nh ll ni nj nk lo nl nm nn lr no bi translated">#1运行:在本地开发服务器上运行Ionic blank应用程序。</h1><ul class=""><li id="fd13" class="np nq iq ka b kb nr kf ns kj nt kn nu kr nv kv nw nx ny nz bi translated">转到我们新创建的项目:<code class="fe kw kx ky kz b">cd ./pwaChitChat</code></li><li id="0960" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">在应用程序目录中运行<code class="fe kw kx ky kz b">ionic serve</code>来查看我们的应用程序(这将在本地主机的8100端口上提供我们的应用程序)</li></ul><p id="1bfc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">安装后，我们将测试空白Ionic应用程序在我们的PWA清单中的得分。为了执行审计，我们将使用Google建议的工具，</em><a class="ae of" href="https://developers.google.com/web/tools/lighthouse/" rel="noopener ugc nofollow" target="_blank"><em class="lw">light house</em></a><em class="lw">。</em></p><p id="2eda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">所以我们要安装并使用</em> <a class="ae of" href="https://developers.google.com/web/tools/lighthouse/#cli" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> Lighthouse命令行实用程序</em> </a> <em class="lw">。打开你的终端，安装</em> <code class="fe kw kx ky kz b"><em class="lw">lighthouse</em></code></p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="f545" class="la lb iq kz b gy mp mq l mr ms">sudo npm install -g lighthouse</span></pre><p id="0e15" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(<code class="fe kw kx ky kz b">-g</code>代表全局)(<code class="fe kw kx ky kz b">lighthouse</code>是包的名字)和(<code class="fe kw kx ky kz b">npm</code>是<strong class="ka ir"> N </strong> ode包<strong class="ka ir"> M </strong>管理器安装像lighthouse这样的第三方库)</p><p id="c39b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">该命令将安装</em> <code class="fe kw kx ky kz b"><em class="lw">lighthouse</em></code> <em class="lw">，允许我们对Ionic app进行审计。用起来真的很简单，跑就行...</em></p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="cbe2" class="la lb iq kz b gy mp mq l mr ms">lighthouse URL-TO-TEST --view</span></pre><p id="f285" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">(注意，我们使用</em> <code class="fe kw kx ky kz b"><em class="lw">--view</em></code> <em class="lw">参数运行Lighthouse，以立即在浏览器中打开HTML报告)</em></p><p id="0bb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过运行以下命令对Lighthouse进行审计:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="4074" class="la lb iq kz b gy mp mq l mr ms">lighthouse http://localhost:8100/home --view</span></pre><p id="3ee3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">(确保您的</em> <code class="fe kw kx ky kz b"><em class="lw">ionic serve</em></code> <em class="lw">正在端口</em> <code class="fe kw kx ky kz b"><em class="lw">8100</em></code> <em class="lw"> ) </em></p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/dd7730ee45e608b3538ff1f5fc2dcfdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cBdXfhpmcNd4QBq9RfBCew.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Run: [ <code class="fe kw kx ky kz b"><strong class="bd oh">lighthouse http://localhost:8100/home --view</strong></code> ] in your terminal/command-prompt | and this is how it’s looks like after running Lighthouse</figcaption></figure><p id="8207" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该执行将为我们的PWA生成并打开灯塔报告。 <br/>看下面👇<em class="lw">PWA的初始审核结果不佳</em> ( <strong class="ka ir"> 0/100 </strong>)，因为我们从开发本地服务器提供应用程序，也因为代码不是使用性能增强(缩小等)构建的。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/784b8af9bc6444096dd8b7e789f62576.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-pNgWw2TX9PIUcL5VcRDvA.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">PWA has bad results (<strong class="bd oh">0/100</strong>)</figcaption></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="2739" class="my lb iq bd lc mz na nb lf nc nd ne li nf ng nh ll ni nj nk lo nl nm nn lr no bi translated">#2运行:在本地生产服务器上运行Ionic blank应用程序。</h1><p id="9ec8" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated"><strong class="ka ir">这一次，我们将在构建应用时考虑性能。</strong>通过运行…</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="025c" class="la lb iq kz b gy mp mq l mr ms">sudo ionic build --prod</span></pre><p id="6711" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将执行性能增强的构建过程，并将在我们的<strong class="ka ir"> /www </strong>文件夹中获得输出。</p><blockquote class="lt lu lv"><p id="8da9" class="jy jz lw ka b kb kc kd ke kf kg kh ki lx kk kl km ly ko kp kq lz ks kt ku kv ij bi translated">(除了生产版本，我们还将使用更合适的web服务器运行我们的应用程序，而不是使用Ionic CLI自带的开发服务器。为此，我们将使用<code class="fe kw kx ky kz b"> http-server</code>包。这个软件包使我们能够创建一个本地web服务器来提供您计算机上任何目录的内容。)</p></blockquote><p id="3dfa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要安装<code class="fe kw kx ky kz b">http-server</code>运行:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="1959" class="la lb iq kz b gy mp mq l mr ms">sudo npm install -g http-server</span></pre><p id="1835" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装后，使用<code class="fe kw kx ky kz b">http-server</code>实用程序真的很容易。</p><p id="a600" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在项目文件夹内，通过运行以下命令启动http服务器:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="cf27" class="la lb iq kz b gy mp mq l mr ms">http-server ./www -p 8888</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi om"><img src="../Images/767f60937270398887fe95f8ef68927c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6I6ZVbPkp_1qbYkqchL_A.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Run: [ <code class="fe kw kx ky kz b"><strong class="bd oh">http-server ./www -p 8888</strong></code> ] in your terminal/command-prompt</figcaption></figure><p id="53fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(这将在本地主机的端口8888上为我们的应用程序提供服务)然后通过简单地在new-terminal/new-command-prompt中运行命令来用Lighthouse执行审计:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="bea5" class="la lb iq kz b gy mp mq l mr ms">lighthouse http://localhost:8888 --view</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi on"><img src="../Images/8d89ad96d6d26570a71d944a21056aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hqduMHafByF5BNWagpGscw.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Run: [ <code class="fe kw kx ky kz b"><strong class="bd oh">lighthouse http://localhost:8888 --view</strong></code> ] in new terminal/command-prompt</figcaption></figure><p id="89da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">看下面👇PWA的初始审核结果不佳(<strong class="ka ir"> 0/100 </strong>)，尽管我们将性能从<strong class="ka ir"> 0/100 </strong>提高到<strong class="ka ir"> 72/100 </strong>，但仍有进步空间。我们甚至还没有谈到构成PWA的任何原则。我们会马上报道。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/126b0bc13e70c683f899f690e1d311bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NiEfAwEWHIQ1f0MPgDhAQQ.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Improved performance from <strong class="bd oh">0/100</strong> to <strong class="bd oh">72/100</strong></figcaption></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="8fd0" class="my lb iq bd lc mz na nb lf nc nd ne li nf ng nh ll ni nj nk lo nl nm nn lr no bi translated">#3运行:在本地生产服务器上运行Ionic blank应用程序——这次使用PWA (@angular/pwa)</h1><p id="56d3" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated">PWA的两个主要要求是<code class="fe kw kx ky kz b">Service Worker</code>和<code class="fe kw kx ky kz b">Web Manifest</code>。虽然可以手动将这两者添加到应用程序中，但我强烈建议使用<code class="fe kw kx ky kz b">@angular/pwa</code>包自动将服务人员和应用程序清单添加到应用程序中。要将此包添加到应用程序，只需运行:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="c67a" class="la lb iq kz b gy mp mq l mr ms">sudo ng add @angular/pwa</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/3a78fa8b0d94cef8d39263d276a1750e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uX6-v7CeVJlURm9-Si5jvg.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Run: [ <code class="fe kw kx ky kz b"><strong class="bd oh">sudo ng add @angular/pwa</strong></code> ] in your terminal/command-prompt</figcaption></figure><blockquote class="lt lu lv"><p id="708b" class="jy jz lw ka b kb kc kd ke kf kg kh ki lx kk kl km ly ko kp kq lz ks kt ku kv ij bi translated"><a class="ae of" href="https://medium.com/@AnkitMaheshwariIn/what-angular-is-5d27bffb1fb1" rel="noopener"> <em class="iq">点击此处</em> </a> <em class="iq">了解更多我们有单独的文章来详细报道</em> <a class="ae of" href="https://medium.com/@AnkitMaheshwariIn/what-angular-is-5d27bffb1fb1" rel="noopener"> <em class="iq">棱角分明</em> </a> <em class="iq">。</em></p></blockquote><p id="c241" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">是时候看看Ionic应用程序在PWA功能上的表现了。</strong>重新构建应用程序(以包含新的PWA功能),只需运行:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="1aa2" class="la lb iq kz b gy mp mq l mr ms">sudo ionic build --prod</span></pre><p id="dfd3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后通过运行以下命令启动http服务器:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="22d7" class="la lb iq kz b gy mp mq l mr ms">http-server ./www -p 8888</span></pre><p id="ad32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，通过运行以下命令对Lighthouse进行审计:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="12cc" class="la lb iq kz b gy mp mq l mr ms">lighthouse http://localhost:8888 --view</span></pre><p id="2abe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请看下面的“灯塔报告”页面👇<strong class="ka ir">PWA图标被激活</strong> —这些检查验证渐进式Web应用程序的各个方面。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/500393770ece2af29e92ebb030cf6199.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vn7_N7cuey25hu0UK934wQ.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Here the ‘<strong class="bd oh">Progressive Web App</strong>’ icon is Activated!</figcaption></figure><p id="81c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们也可以通过向下滚动“灯塔报告”页面来查看有关PWA的详细信息:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/dba8e463cde94003150eb52c85947005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LMaX_Wknf2p0r6at4NugIw.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">‘Lighthouse Report’ page shows the details about Progressive Web App</figcaption></figure><p id="bfb7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">👏我们已经完成了工作👨‍💻用Angular，Ionic 4/Ionic框架构建渐进式Web App (PWA)。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="dee6" class="my lb iq bd lc mz na nb lf nc nd ne li nf ng nh ll ni nj nk lo nl nm nn lr no bi translated">#4运行:Ionic blank应用程序，PWA (@angular/pwa)部署到Firebase主机。</h1><p id="8840" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated">Firebase Hosting非常容易使用，而且它是免费的，并为渐进式网络应用程序提供了许多好处，包括快速响应时间(感谢CDN)，默认情况下启用HTTPS，以及支持HTTP2推送。</p><p id="a391" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">跟我来，我会告诉你如何部署我们的离子PWA到Firebase。</p><h1 id="1902" class="my lb iq bd lc mz oo nb lf nc op ne li nf oq nh ll ni or nk lo nl os nn lr no bi translated">开始前..</h1><p id="eb19" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated"><strong class="ka ir">我们需要创建</strong> <a class="ae of" href="https://medium.com/@AnkitMaheshwariIn/steps-to-setup-firebase-firestore-instruction-to-setup-firebase-firestore-database-c7cc49ce96de" rel="noopener"> <strong class="ka ir">设置一个Firebase项目</strong> </a> <strong class="ka ir">。</strong> <br/> <a class="ae of" href="https://medium.com/@AnkitMaheshwariIn/steps-to-setup-firebase-firestore-instruction-to-setup-firebase-firestore-database-c7cc49ce96de" rel="noopener">点击此处👆</a>了解安装Firebase的步骤(通过web在Firebase Firestore中创建新数据库。)</p><p id="9d4c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，我假设你已经按照上面的链接↑中的每一步设置了一个Firebase项目。</p><p id="4ddb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正确地<a class="ae of" href="https://medium.com/@AnkitMaheshwariIn/steps-to-setup-firebase-firestore-instruction-to-setup-firebase-firestore-database-c7cc49ce96de" rel="noopener">建立一个Firebase项目</a>之后，部署到Firebase就变得很容易了。</p><p id="196f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在部署到Firebase之前，我们应该始终准备生产版本。 <br/>让我们准备生产构建以提高性能。<br/>要这样做，请遵循说明👇👇</p><blockquote class="lt lu lv"><p id="f62d" class="jy jz lw ka b kb kc kd ke kf kg kh ki lx kk kl km ly ko kp kq lz ks kt ku kv ij bi translated">如果您正在构建<strong class="ka ir"> Angular App </strong>，只需在您的命令提示符/终端中运行:</p></blockquote><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="2319" class="la lb iq kz b gy mp mq l mr ms">ng build --prod</span></pre><p id="6b24" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">您可能需要将“sudo”放在该命令的开头，以管理员身份执行该命令。或者，如果您是Windows用户，只需以管理员身份打开您的命令提示符。</em></p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="d53a" class="my lb iq bd lc mz na nb lf nc nd ne li nf ng nh ll ni nj nk lo nl nm nn lr no bi translated">🎉要在本地测试您的角度生产制造:</h1><ol class=""><li id="c63b" class="np nq iq ka b kb nr kf ns kj nt kn nu kr nv kv ot nx ny nz bi translated">构建您的应用:<code class="fe kw kx ky kz b"><strong class="ka ir">ng build --prod</strong></code></li><li id="d62d" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv ot nx ny nz bi translated">安装为应用服务的http-server:<code class="fe kw kx ky kz b">sudo <strong class="ka ir">npm i -g http-server</strong></code></li><li id="09af" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv ot nx ny nz bi translated">cd(更改目录)放入<br/>的编译位置<code class="fe kw kx ky kz b"><strong class="ka ir">cd dist/my-project-name/</strong></code></li><li id="c524" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv ot nx ny nz bi translated">使用<code class="fe kw kx ky kz b"><strong class="ka ir">http-server</strong></code>运行应用程序</li><li id="0160" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv ot nx ny nz bi translated">打开http-server url，应该是这样的<code class="fe kw kx ky kz b"><a class="ae of" href="http://127.0.0.1:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir">http://127.0.0.1:8080/</strong></a></code></li></ol></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><blockquote class="lt lu lv"><p id="e1e1" class="jy jz lw ka b kb kc kd ke kf kg kh ki lx kk kl km ly ko kp kq lz ks kt ku kv ij bi translated">如果您正在构建<strong class="ka ir"> Ionic App </strong>，只需在您的命令提示符/终端中运行:</p></blockquote><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="51c0" class="la lb iq kz b gy mp mq l mr ms">ionic build --prod</span></pre><p id="d17c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">您可能需要将“sudo”放在该命令的开头，以管理员身份执行该命令。或者，如果您是Windows用户，只需以管理员身份打开您的命令提示符。</em></p><p id="132d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它到底是做什么的？<strong class="ka ir"> — prod </strong>标志根据类型将整个项目最小化并优化为一个文件。它还会忽略你已经包含但没有使用的插件/导入。</p><h1 id="22cb" class="my lb iq bd lc mz oo nb lf nc op ne li nf oq nh ll ni or nk lo nl os nn lr no bi translated">伟大的工作👏👏<br/>我们现在准备将我们的项目部署到Firebase🚀</h1><p id="5804" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated">只需运行以下命令即可部署应用程序:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="e46b" class="la lb iq kz b gy mp mq l mr ms">firebase deploy</span></pre><p id="ff81" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">您可能需要将“sudo”放在该命令的开头，以管理员身份执行该命令。或者，如果您是Windows用户，只需以管理员身份打开您的命令提示符。</em></p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/be81637116c5a1fa3d3d5b4c9ce650be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZoqYfpBfSnUvVrM3MLJ8w.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Run: [ <code class="fe kw kx ky kz b"><strong class="bd oh">firebase deploy</strong></code> ] in your terminal/command-prompt</figcaption></figure><p id="833a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">一旦应用程序部署完毕</strong>，运行以下命令对Lighthouse进行审计:</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="f681" class="la lb iq kz b gy mp mq l mr ms">lighthouse PATH-TO-YOUR-FIREBASE-HOSTING-URL --view</span></pre><p id="3b4f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我的firebase托管路径:(用你自己的路径替换下面的路径)</p><pre class="mh mi mj mk gt ml kz mm mn aw mo bi"><span id="f71e" class="la lb iq kz b gy mp mq l mr ms">lighthouse https://pwachitchat.firebaseapp.com --view</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/d7f41b5883e7217737ae96365ef57dd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OQkmP-zL77KjSWINX57CFg.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Run: [ <code class="fe kw kx ky kz b"><strong class="bd oh">lighthouse </strong>PATH-TO-YOUR-FIREBASE-HOSTING-URL<strong class="bd oh"> --view</strong></code> ] in your terminal/command-prompt</figcaption></figure><p id="65f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">🤩<strong class="ka ir">祝贺你！</strong>看下面👇Lighthouse报告页面显示，我们使用Ionic Framework构建了一个渐进式Web应用程序，涵盖了所有原则——您可以选择向下滚动该页面并修复建议的问题，以便获得高达100%的性能分数。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oi"><img src="../Images/9c61623b71425d6fe1cd4f6e16a6a020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pw8Ec1fsY96PCez_s4NKQA.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">PWA Improved performance from <strong class="bd oh">71/100</strong> to <strong class="bd oh">88/100</strong></figcaption></figure><p id="74f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在你的移动chrome浏览器中打开URL: <code class="fe kw kx ky kz b"><a class="ae of" href="https://pwachitchat.firebaseapp.com/" rel="noopener ugc nofollow" target="_blank">https://pwachitchat.firebaseapp.com</a></code>(或者你的-FIREBASE-HOSTING-URL)。<br/>这将要求您在主屏幕上添加应用程序<em class="lw"> →您可以随时从您的应用程序<code class="fe kw kx ky kz b">/src</code>目录内的</em> <code class="fe kw kx ky kz b">manifest.json</code>文件或<code class="fe kw kx ky kz b">manifest.webmanifest</code>文件更改您的应用程序闪屏的 <code class="fe kw kx ky kz b"><em class="lw">app-name</em></code> <em class="lw">、</em> <code class="fe kw kx ky kz b"><em class="lw">theme-color</em></code> <em class="lw">、</em> <code class="fe kw kx ky kz b"><em class="lw">background-color</em></code> <em class="lw">。</em></p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ou"><img src="../Images/ec02c03430f808ec1bcf79ac8dae34f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H8lG6DPruMqLd6XQGDdJ1A.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk"><strong class="bd oh">Steps to add ‘App’ </strong>on<strong class="bd oh"> ‘Home Screen’</strong></figcaption></figure><h1 id="f86b" class="my lb iq bd lc mz oo nb lf nc op ne li nf oq nh ll ni or nk lo nl os nn lr no bi translated">iOS上PWAs的功能</h1><p id="6430" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated">借助iOS上的网络平台，您可以访问:</p><ul class=""><li id="4580" class="np nq iq ka b kb kc kf kg kj ov kn ow kr ox kv nw nx ny nz bi translated">地理定位</li><li id="0d3f" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">传感器(磁力计、加速计、陀螺仪)</li><li id="2840" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">照相机</li><li id="3d60" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">音频输出</li><li id="e3c7" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">语音合成(仅连接耳机)</li><li id="4831" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">Apple Pay</li><li id="4d4e" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">WebAssembly，WebRTC，WebGL以及其他许多实验性的特性都在一个旗帜下。</li></ul><h1 id="bad1" class="my lb iq bd lc mz oo nb lf nc op ne li nf oq nh ll ni or nk lo nl os nn lr no bi translated">PWAs在Android上能做什么(在iOS上不能)</h1><ul class=""><li id="558d" class="np nq iq ka b kb nr kf ns kj nt kn nu kr nv kv nw nx ny nz bi translated">在安卓系统上，你可以存储超过50 Mb的数据</li><li id="a2e4" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">如果你不使用应用程序，Android不会删除文件，但它可以在存储压力下删除文件。此外，如果用户大量安装或使用，PWA可以请求永久存储。</li><li id="0c8e" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">BLE设备的蓝牙接入</li><li id="e100" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">用于访问本机共享对话框的Web共享</li><li id="f34d" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">语音识别</li><li id="7d62" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">后台同步和网络推送通知</li><li id="0d33" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">邀请用户安装应用程序的Web应用程序横幅</li><li id="fd90" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">你可以自定义(一点点)闪屏和你想要的方向</li><li id="9e8e" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">使用WebAPK和Chrome，用户不能安装一个以上的PWA实例</li><li id="5c80" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">有了WebAPK和Chrome，PWAs出现在设置下，可以看到数据使用情况；在iOS上，所有内容都显示在Safari下。</li><li id="d8ce" class="np nq iq ka b kb oa kf ob kj oc kn od kr oe kv nw nx ny nz bi translated">通过WebAPK和Chrome，PWA管理其URL的意图，因此如果您获得PWA的链接，它将在独立模式下打开，而不是在浏览器窗口中打开。</li></ul></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="c5fc" class="my lb iq bd lc mz na nb lf nc nd ne li nf ng nh ll ni nj nk lo nl nm nn lr no bi translated">搞定了。🤩构建PWA就是这么简单。</h1><p id="a1f2" class="pw-post-body-paragraph jy jz iq ka b kb nr kd ke kf ns kh ki kj oj kl km kn ok kp kq kr ol kt ku kv ij bi translated">再见👋👋</p><blockquote class="oy"><p id="b968" class="oz pa iq bd pb pc pd pe pf pg ph kv dk translated">请在评论框中随意评论…如果我错过了什么，或者什么是不正确的，或者什么对你不起作用:)</p><p id="5c25" class="oz pa iq bd pb pc pd pe pf pg ph kv dk translated">更多文章敬请关注:<br/><a class="ae of" href="https://medium.com/@AnkitMaheshwariIn" rel="noopener">https://medium.com/@AnkitMaheshwariIn</a></p></blockquote></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><p id="14dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi pi translated">如果你不介意给它一些掌声👏 👏既然有帮助，我会非常感谢:)帮助别人找到这篇文章，所以它可以帮助他们！</p><p id="1a0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">永远鼓掌…</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/2f4712882de180d90c9dcdb0cb91ae69.png" data-original-src="https://miro.medium.com/v2/resize:fit:156/1*ZyakciENSuUWo7tqu84tXQ.gif"/></div></figure><h1 id="fc73" class="my lb iq bd lc mz oo nb lf nc op ne li nf oq nh ll ni or nk lo nl os nn lr no bi translated">下一步是添加—通过Ionic4和Firebase托管将通知推送到渐进式Web应用程序(PWA)。点击这里👇👇</h1><div class="ps pt gp gr pu pv"><a href="https://medium.com/@AnkitMaheshwariIn/adding-push-notifications-to-progressive-web-app-pwa-with-ionic-4-and-firebase-hosting-e31784427f34" rel="noopener follow" target="_blank"><div class="pw ab fo"><div class="px ab py cl cj pz"><h2 class="bd ir gy z fp qa fr fs qb fu fw ip bi translated">使用Ionic 4和Firebase托管将推送通知添加到渐进式Web应用程序(PWA)。</h2><div class="qc l"><h3 class="bd b gy z fp qa fr fs qb fu fw dk translated">我们可以通过添加推送通知让我们的产品或服务更具吸引力…</h3></div><div class="qd l"><p class="bd b dl z fp qa fr fs qb fu fw dk translated">medium.com</p></div></div><div class="qe l"><div class="qf l qg qh qi qe qj jw pv"/></div></div></a></div></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><p id="6cbf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lw">原载于2019年12月22日</em><a class="ae of" href="https://www.codewithchintan.com/how-to-build-pwa-progressive-web-app-using-angular-ionic4-ionic-framework-and-firebase-hosting/" rel="noopener ugc nofollow" target="_blank"><em class="lw">【https://www.codewithchintan.com】</em></a><em class="lw">。</em></p><p id="ccac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">【JavaScript用简单的英语写的一句话:我们总是乐于帮助推广高质量的内容。如果你有一篇文章想用简单的英语提交给JavaScript，用你的中级用户名发邮件到submissions@javascriptinplainenglish.com<a class="ae of" href="mailto:submissions@javascriptinplainenglish.com" rel="noopener ugc nofollow" target="_blank">给我们，我们会把你添加为作者。</a></p></div></div>    
</body>
</html>