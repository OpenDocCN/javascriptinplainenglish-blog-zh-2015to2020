<html>
<head>
<title>6 Tips to Improve Your Conditional Statements for Better Readability</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高条件语句可读性的6个技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/6-tips-to-improve-your-conditional-statements-for-better-readability-56256c5a5245?source=collection_archive---------0-----------------------#2020-08-17">https://javascript.plainenglish.io/6-tips-to-improve-your-conditional-statements-for-better-readability-56256c5a5245?source=collection_archive---------0-----------------------#2020-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d5e8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果你希望你的代码干净，尽量避免条件语句。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f5b9fb7d9911d280d7b97246b5c5b753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VkY6u7wuucQ_4e6iZl-qxw.png"/></div></div></figure><p id="3fb9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于条件语句，您不必总是使用经典的if/switch语法。这实际上取决于你工作的环境。</p><p id="bbd7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ES6给你更多的能力来编写更好的条件语句。它更短更干净。</p><p id="df4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就是我将在本文中向您展示的——根据上下文改进条件语句的6种方法。</p><p id="20a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">继续读。</p><h1 id="43ae" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">1.提前返回而不是if…else</h1><p id="cd6c" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">嵌套条件难看，难控制，容易产生bug。如果有多层嵌套块，像Macbook 13 ' '这样的小屏幕无法显示完整的代码行。你有时必须水平滚动才能看到整个代码，这并不能满足你。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="9767" class="mp lo iq ml b gy mq mr l ms mt">const isBabyPet = (pet, age) =&gt; {<br/>  if (pet) {<br/>    if (isPet(pet)) {<br/>      console.log(‘It is a pet!’);<br/>      <br/>      if (age &lt; 1) {<br/>        console.log(‘It is a baby pet!’);<br/>      }<br/>    } else {<br/>      throw new Error(‘Not a pet!’);<br/>    }<br/>  } else {<br/>    throw new Error(‘Error!’);<br/>  }<br/>};</span></pre><p id="7208" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么，如何展平嵌套条件呢？早点回来。具体来说，如果有错误或无效的东西，应该在函数开始时返回。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="d226" class="mp lo iq ml b gy mq mr l ms mt">const isBabyPet = (pet, age) =&gt; {<br/>  if (!pet) throw new Error(‘Error!’);<br/>  if (!isPet(pet)) throw new Error(‘Not a pet!’);<br/>  <br/>  console.log(‘It is a pet!’);</span><span id="276e" class="mp lo iq ml b gy mu mr l ms mt">  if (age &lt; 1) {<br/>    console.log(‘It is a baby pet!’);<br/>  }<br/>};</span></pre><h1 id="aa62" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">2.使用数组. includes</h1><p id="63be" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">假设您需要检查动物是否是宠物，如下所示:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="c995" class="mp lo iq ml b gy mq mr l ms mt">const isPet = animal =&gt; {<br/>  if (animal === ‘cat’ || animal === ‘dog’) {<br/>    return true;<br/>  }<br/>  <br/>  return false;<br/>};</span></pre><p id="91ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果收集的宠物只包括猫和狗，那就可以了。但是如果它有更多呢？像猫，狗，鸟，蛇。这样的例子不胜枚举。当然，您可以添加更多的<strong class="kt ir"> || </strong>操作符来完成任务。然而，我得到了一个更好的方式:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="7539" class="mp lo iq ml b gy mq mr l ms mt">const isPet = animal =&gt; {<br/>  const pets = [‘cat’, ‘dog’, ‘snake’, ‘bird’];<br/>  <br/>  return pets.includes(animal);<br/>};</span></pre><p id="7413" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你看，比用more ||运算符好看。因此，对于上述多个条件，使用Array.includes</p><h1 id="f199" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">3.使用默认函数参数</h1><p id="3e58" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我们通常确保参数不为空或未定义。如果它是null，我们需要在使用它之前给它分配一个默认值。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="a424" class="mp lo iq ml b gy mq mr l ms mt">const isBabyPet = (pet, age) =&gt; {<br/>  if (!pet) pet = ‘cat’;<br/>  if (!age) age = 1;</span><span id="cedb" class="mp lo iq ml b gy mu mr l ms mt">  if (age &lt; 1) {<br/>    // Do something<br/>  }<br/>};</span></pre><p id="9d32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们真的需要写前两个if语句吗？不可以。通过使用默认值，您可以删除它们。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="9d8e" class="mp lo iq ml b gy mq mr l ms mt">const isBabyPet = (pet = ‘cat’, age = 1) =&gt; {<br/>  if (age &lt; 1) {<br/>    console.log(‘baby’);<br/>  }<br/>};</span></pre><h1 id="6f5d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">4.使用Array.every</h1><p id="52f8" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">如果给你一组宠物，并要求你检查所有的宠物是否都有四条腿，那会怎样？</p><p id="e1d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通常，我们将按如下方式操作:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="e682" class="mp lo iq ml b gy mq mr l ms mt">const pets = [<br/>  { name: ‘cat’,   nLegs: 4 },<br/>  { name: ‘snake’, nLegs: 0 },<br/>  { name: ‘dog’,   nLegs: 4 },<br/>  { name: ‘bird’,  nLegs: 2 }<br/>];</span><span id="e139" class="mp lo iq ml b gy mu mr l ms mt">const check = (pets) =&gt; {<br/>  for (let i = 0; i &lt; pets.length; i++) {<br/>    if (pets[i].nLegs != 4) {<br/>      return false;<br/>    }<br/>  }</span><span id="2954" class="mp lo iq ml b gy mu mr l ms mt">  return true;<br/>}</span><span id="f0fb" class="mp lo iq ml b gy mu mr l ms mt">check(pets); // false</span></pre><p id="320e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里我们有一个针对T3的T2和一个针对if T5的T4语句。这不是很多，但如果我们能摆脱他们，这仍然是伟大的。事实上，我们只用一行代码就可以完成任务:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="f83b" class="mp lo iq ml b gy mq mr l ms mt">let areAllFourLegs = pets.every(p =&gt; p.nLegs === 4);</span></pre><p id="e228" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">很大的进步，不是吗？</p><h1 id="b71e" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">5.使用Array.some</h1><p id="8b68" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">让我们稍微改变一下任务。现在我们将检查是否至少有一只宠物有四条腿。是时候使用数组了</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="7139" class="mp lo iq ml b gy mq mr l ms mt">let check = pets.some(p =&gt; p.nLegs === 4);</span></pre><h1 id="bcc6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">6.使用索引代替开关…大小写</h1><p id="d13c" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">下面的switch语句将返回给定普通宠物的品种。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="67f2" class="mp lo iq ml b gy mq mr l ms mt">const getBreeds = pet =&gt; {<br/>  switch (pet) {<br/>    case ‘dog’:<br/>      return [‘Husky’, ‘Poodle’, ‘Shiba’];<br/>    case ‘cat’:<br/>      return [‘Korat’, ‘Donskoy’];<br/>    case ‘bird’:<br/>      return [‘Parakeets’, ‘Canaries’];<br/>    default:<br/>      return [];<br/>  }<br/>};</span><span id="b340" class="mp lo iq ml b gy mu mr l ms mt">let dogBreeds = getBreeds(‘dog’); //[“Husky”, “Poodle”, “Shiba”]</span></pre><p id="2a19" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有<strong class="kt ir">情况…返回</strong>、<strong class="kt ir">情况…返回</strong>，以及<strong class="kt ir">情况…再次返回</strong>。我是一名程序员，也是一名作家，所以我觉得重复有点无聊。看看下面更干净的方法。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="0e2a" class="mp lo iq ml b gy mq mr l ms mt">const breeds = {<br/>  ‘dog’: [‘Husky’, ‘Poodle’, ‘Shiba’],<br/>  ‘cat’: [‘Korat’, ‘Donskoy’],<br/>  ‘bird’: [‘Parakeets’, ‘Canaries’]<br/>};</span><span id="64f1" class="mp lo iq ml b gy mu mr l ms mt">const getBreeds = pet =&gt; {<br/>  return breeds[pet] || [];<br/>};</span><span id="67fb" class="mp lo iq ml b gy mu mr l ms mt">let dogBreeds = getBreeds(‘cat’); //[“Korat”, “Donskoy”]</span></pre><p id="b06f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你和我一样，你会喜欢第二种方法，而不是第一种。</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><p id="6188" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样。使用条件语句时要灵活。</p><p id="8dee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我错过了什么更好的方法吗？如果有，请在下面的评论中告诉我。</p><p id="2e88" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">希望你喜欢这篇文章。</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h2 id="6358" class="mp lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">进一步阅读</h2><div class="nn no gp gr np nq"><a href="https://medium.com/javascript-in-plain-english/15-simple-coding-techniques-to-get-your-tasks-done-with-shorter-code-in-javascript-59d46801db0" rel="noopener follow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">15种简单的编码技术，用更短的JavaScript代码完成任务</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">不要浪费时间写长代码，而你可以把它写得更短，更清晰，更易读。</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">medium.com</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe kp nq"/></div></div></a></div></div></div>    
</body>
</html>