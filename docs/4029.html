<html>
<head>
<title>Periodic Table of Elements in Svelte</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">纤细的元素周期表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/periodic-table-of-elements-in-svelte-52fafddb19dd?source=collection_archive---------11-----------------------#2020-11-11">https://javascript.plainenglish.io/periodic-table-of-elements-in-svelte-52fafddb19dd?source=collection_archive---------11-----------------------#2020-11-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/55fda7443261a35f3064726fe395726f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J7InoiGvvqyrq46viqeCQw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Periodic Table of Svelements and final output for this tutorial</figcaption></figure><p id="851d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最近，我一直在玩<code class="fe kx ky kz la b">Svelte</code>，我惊讶于它的简单易懂。还有很少的样板代码，所以您可以在最小的阻力下开始编码。</p><p id="a188" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在一个化学相关的行业工作，我不时地使用元素周期表，并想知道在<code class="fe kx ky kz la b">Svelte</code>中实现它会是什么样子。在这篇文章中，我分享了我建造<code class="fe kx ky kz la b">Periodic Table of Svelements</code>的旅程(抱歉，忍不住加入了所有与<code class="fe kx ky kz la b">Svelte</code>相关的双关语！).希望这个简短的教程也可以作为那些不太熟悉的人对<code class="fe kx ky kz la b">Svelte</code>的简单介绍。</p></div><div class="ab cl lb lc hr ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ig ih ii ij ik"><h1 id="4349" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">初始设置</h1><p id="6978" class="pw-post-body-paragraph jz ka in kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ig bi translated">对于这个项目，我选择将<code class="fe kx ky kz la b">Svelte</code>与<code class="fe kx ky kz la b">Tailwind CSS</code>一起使用，这是另一个很棒的框架，可以更容易地对组件进行样式化。<code class="fe kx ky kz la b">Tailwind CSS</code>是一个实用优先的CSS框架，它允许你通过添加实用类而不是使用预先样式化的组件来调整组件的样式。如果你对<code class="fe kx ky kz la b">Tailwind</code>不熟悉，建议你也去看看。</p><p id="0a31" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">对于主项目，一个简单的开始方式是在<a class="ae ml" href="https://github.com/colinbate/svelte-ts-tailwind-template" rel="noopener ugc nofollow" target="_blank">https://github.com/colinbate/svelte-ts-tailwind-template</a>使用模板。模板包括<code class="fe kx ky kz la b">Svelte</code>和<code class="fe kx ky kz la b">Tailwind</code>。它还包括对<code class="fe kx ky kz la b">TypeScript</code>的支持，但是我们现在不会在我们的项目中使用它。您可以通过进入您的<code class="fe kx ky kz la b">terminal</code>并遵循以下步骤来快速启动模板。</p><pre class="mm mn mo mp gt mq la mr ms aw mt bi"><span id="43e5" class="mu lj in la b gy mv mw l mx my">npx degit colinbate/svelte-ts-tailwind-template svelte-app<br/>cd svelte-app</span><span id="dc1b" class="mu lj in la b gy mz mw l mx my">npm install</span></pre><p id="69d5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">您可以在根目录下使用<code class="fe kx ky kz la b">npm run dev</code>启动应用程序。然后，您可以在网络浏览器中转至<code class="fe kx ky kz la b">localhost:5000</code>。这将调出一个带有<code class="fe kx ky kz la b">HELLO WORLD</code>的页面。</p><p id="3965" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">除了starter模板，我们还需要一些包含元素信息的数据。你可以从<a class="ae ml" href="https://github.com/Bowserinator/Periodic-Table-JSON" rel="noopener ugc nofollow" target="_blank">https://github.com/Bowserinator/Periodic-Table-JSON</a>得到一个<code class="fe kx ky kz la b">json</code>和所有需要的数据。</p><p id="cbc8" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">接下来，在你的<code class="fe kx ky kz la b">src</code>文件夹中创建一个名为<code class="fe kx ky kz la b">Data</code>的文件夹，并将这个<code class="fe kx ky kz la b">json</code>放入其中。我们将使用这些数据来填充我们的周期表。</p><p id="3ca1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">从本地文件获取<code class="fe kx ky kz la b">json</code>数据有许多不同的方法，一种简单的方法是使用<code class="fe kx ky kz la b">rollup</code>插件<code class="fe kx ky kz la b">@rollup/plugin-json</code>。您可以按照下面的步骤进行安装。</p><pre class="mm mn mo mp gt mq la mr ms aw mt bi"><span id="058f" class="mu lj in la b gy mv mw l mx my">npm install @rollup/plugin-json</span></pre><p id="745f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">然后在你的<code class="fe kx ky kz la b">rollup.config.js</code>文件里面。导入<code class="fe kx ky kz la b">json</code>模块并将其放在<code class="fe kx ky kz la b">typescript</code>的导入下方。</p><pre class="mm mn mo mp gt mq la mr ms aw mt bi"><span id="ffa3" class="mu lj in la b gy mv mw l mx my">import typescript from '@rollup/plugin-typescript';<br/>import json from '@rollup/plugin-json';</span></pre><p id="2594" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，在<code class="fe kx ky kz la b">rollup.config.js</code>插件下添加<code class="fe kx ky kz la b">json()</code>。可以放在<code class="fe kx ky kz la b">commonjs()</code>下面。</p><pre class="mm mn mo mp gt mq la mr ms aw mt bi"><span id="58fc" class="mu lj in la b gy mv mw l mx my">plugins: [<br/>...<br/>commonjs(),<br/>json(),<br/>...<br/>]</span></pre></div><div class="ab cl lb lc hr ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ig ih ii ij ik"><h1 id="22bc" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">我们走吧</h1><p id="6c65" class="pw-post-body-paragraph jz ka in kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ig bi translated">看元素周期表，可以看到元素是以表格形式排列在单元格中的，因此得名。然而，一个表也可以被认为是一个<code class="fe kx ky kz la b">grid</code>，所以我们大概可以使用<code class="fe kx ky kz la b">CSS grid</code>来实现同样的事情。我想我喜欢那个计划，所以让我们继续吧。</p><p id="5f50" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">让我们从删除<code class="fe kx ky kz la b">App.svelte</code>中不必要的代码开始。移除除了<code class="fe kx ky kz la b">Tailwind CSS</code>的导入之外的所有内容。我们也可以移除<code class="fe kx ky kz la b">TypeScript</code>语言支持(<code class="fe kx ky kz la b">lang="ts"</code>)以保持简单。</p><p id="f637" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，让我们添加一个标题，这样我们就可以在页面上看到一些东西。您应该会得到下面的代码块。运行<code class="fe kx ky kz la b">npm run dev</code>应该会弹出一个带有适当样式标题的页面。这就是初始设置。</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure></div><div class="ab cl lb lc hr ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ig ih ii ij ik"><h1 id="6fcb" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">创建单个元素</h1><p id="fdbb" class="pw-post-body-paragraph jz ka in kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ig bi translated">在我们创建表格之前，让我们创建我们的<code class="fe kx ky kz la b">&lt;Element /&gt;</code>组件来利用来自<code class="fe kx ky kz la b">json</code>文件的数据。</p><p id="e466" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在<code class="fe kx ky kz la b">src</code>中创建一个名为<code class="fe kx ky kz la b">Components</code>的文件夹。创建一个名为<code class="fe kx ky kz la b">Element.svelte</code>的新文件。复制下面的代码块，让我解释一下接下来会发生什么。</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="793d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在我们的<code class="fe kx ky kz la b">script</code>标签中，我们做了几件事。</p><ol class=""><li id="0901" class="nc nd in kb b kc kd kg kh kk ne ko nf ks ng kw nh ni nj nk bi translated">使用<code class="fe kx ky kz la b">object destructuring</code>将<code class="fe kx ky kz la b">json</code>数据导入并提取到名为<code class="fe kx ky kz la b">elements</code>的变量中。</li><li id="6800" class="nc nd in kb b kc nl kg nm kk nn ko no ks np kw nh ni nj nk bi translated">我们向我们的父对象<code class="fe kx ky kz la b">component</code> ( <code class="fe kx ky kz la b">Table.svelte</code>，我们还没有创建它)公开了两个道具。<code class="fe kx ky kz la b">atomicNumber</code>属性将用于传递适当的原子序数，我们的<code class="fe kx ky kz la b">&lt;Element /&gt;</code>组件将使用该原子序数从<code class="fe kx ky kz la b">json</code>文件中检索适当的数据。我们还公开了一个<code class="fe kx ky kz la b">style</code> prop，我们可以用它像普通HTML一样传递CSS样式。</li><li id="ca15" class="nc nd in kb b kc nl kg nm kk nn ko no ks np kw nh ni nj nk bi translated">我们还创建了一个名为<code class="fe kx ky kz la b">toCamelCase()</code>的函数，顾名思义，它将字符串转换成camelCase。因为<code class="fe kx ky kz la b">json</code>文件中的类别是带空格的字符串，所以我们用这个来转换它们，这样我们就可以很容易地用CSS来定位它们。这一步不是必需的，只是一个偏好。</li></ol><p id="2f6f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在<code class="fe kx ky kz la b">&lt;style /&gt;</code>中，我们基本上通过使用<code class="fe kx ky kz la b">vw</code>作为我们的尺寸单位来使我们的设计具有响应性。我们也为不同的类别设置颜色。</p><p id="14d1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，<code class="fe kx ky kz la b">style</code>下面是<code class="fe kx ky kz la b">&lt;Element /&gt;</code>组件的标记。我们将每个元素设置为一个<code class="fe kx ky kz la b">button</code>。然后，我们通过<code class="fe kx ky kz la b">Tailwind's</code>实用程序类添加样式。我们通过使用它们在<code class="fe kx ky kz la b">elements</code>数组中的索引(它们的原子序数减1)来访问它们，从而访问每个元素的信息。类似<code class="fe kx ky kz la b">name</code>和<code class="fe kx ky kz la b">symbol</code>的属性是来自<code class="fe kx ky kz la b">json</code>的属性名。</p></div><div class="ab cl lb lc hr ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ig ih ii ij ik"><h1 id="7857" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">将元素带入表中</h1><p id="1974" class="pw-post-body-paragraph jz ka in kb b kc mg ke kf kg mh ki kj kk mi km kn ko mj kq kr ks mk ku kv kw ig bi translated">下一步是将我们的元素放入表格(网格)。在<code class="fe kx ky kz la b">Components</code>文件夹中创建一个名为<code class="fe kx ky kz la b">Table.svelte</code>的文件。将下面的代码添加到文件中。</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="b7b7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们基本上用18列创建网格。然后我们用我们的<code class="fe kx ky kz la b">&lt;Element /&gt;</code>组件填充网格。接下来我们需要弄清楚的是如何根据周期表来定位我们的元素。</p><p id="bb48" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">幸运的是，我们一开始导入的<code class="fe kx ky kz la b">json</code>数据包含了我们实现这一目标所需的所有信息。它将元素的原子序数存储在<code class="fe kx ky kz la b">number</code>属性中，并将每个元素的x和y位置分别存储在<code class="fe kx ky kz la b">xpos</code>和<code class="fe kx ky kz la b">ypos</code>属性中。</p><p id="3dcc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">然后我们使用<code class="fe kx ky kz la b">Svelte's</code>超级方便的<code class="fe kx ky kz la b">{#each}</code>块来循环我们的元素数组。我们现在差不多完成了。我们只需要在我们的<code class="fe kx ky kz la b">App.svelte</code>文件中导入我们的<code class="fe kx ky kz la b">&lt;Table /&gt;</code>组件。</p><p id="b850" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">编辑<code class="fe kx ky kz la b">App.svelte</code>,如下图所示。</p><figure class="mm mn mo mp gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="3821" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果您还没有运行<code class="fe kx ky kz la b">npm run dev</code>，那么我们就完成了！在<code class="fe kx ky kz la b">localhost:5000</code>你应该有一个本地运行的灵敏而灵活的s元素周期表。</p><p id="cc9c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">你可以在<a class="ae ml" href="https://github.com/kinxiel/Periodic-Table-of-Svelements" rel="noopener ugc nofollow" target="_blank">https://github.com/kinxiel/Periodic-Table-of-Svelements</a>找到完整的项目和所有的源代码。</p><p id="4ccb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在这一点上，我们有了周期表，但它没有任何用处。在第2部分中，我们将探索如何在元素周期表中添加一些基本的控件来显示额外的数据。</p><p id="487f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">更新:第二部分已经准备好了，你可以在<a class="ae ml" href="https://medium.com/javascript-in-plain-english/periodic-table-of-elements-in-svelte-part-2-98f3f7b2515" rel="noopener">https://medium . com/JavaScript-in-plain-English/elements-table-in-svelte-Part-2-98 F3 F7 b 2515</a>找到它</p></div></div>    
</body>
</html>