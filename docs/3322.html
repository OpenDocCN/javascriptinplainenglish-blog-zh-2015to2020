<html>
<head>
<title>How to adopt Static Typing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何采用静态类型</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-adopt-a-static-typing-c59de0973cca?source=collection_archive---------10-----------------------#2020-09-18">https://javascript.plainenglish.io/how-to-adopt-a-static-typing-c59de0973cca?source=collection_archive---------10-----------------------#2020-09-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="79c2" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">静态打字并不适合所有人！</h2><div class=""/><div class=""><h2 id="5272" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">TypeScript为团队提供了协同作用</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/fbbfdd17995f7280f2445901cf2b9cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NeeFW_XgLlird9xEk2DjPw.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@glenncarstenspeters?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Glenn Carstens-Peters</a> on <a class="ae le" href="https://unsplash.com/s/photos/typing-machine?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1a32" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">“变得有条理是自尊的表现。” —加贝·伯恩斯坦</p><p id="ab2f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">用JavaScript编程的全部思想是理解系统。一个优秀程序员的关键标志之一是<strong class="lh ja">总是知道他在和哪些类型的人一起工作</strong>。我们正在<strong class="lh ja">不断调整编码风格</strong>，这将使我们的变量及其类型更加明显。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="6b23" class="mj mk iq bd ml mm mn mo mp mq mr ms mt kf mu kg mv ki mw kj mx kl my km mz na bi translated">静态类型给了我们什么？</h1><p id="baec" class="pw-post-body-paragraph lf lg iq lh b li nb ka lk ll nc kd ln lo nd lq lr ls ne lu lv lw nf ly lz ma ij bi translated">截至2012年，我们使用JavaScript时没有任何语法上的麻烦。2012年，<a class="ae le" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>(缩写TS)由<a class="ae le" href="https://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript" rel="noopener ugc nofollow" target="_blank">微软</a>推出，作为一种新工具，它通过向语言添加类型来扩展JavaScript。TS的主要目标是<strong class="lh ja">限制可以进入类型比较</strong>的值的种类。</p><p id="eb60" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我认为<strong class="lh ja">添加静态类型可以提高你的代码质量</strong>不管你喜不喜欢。如果你不喜欢静态打字系统，你可以试试<a class="ae le" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> Linter </a>。这是一个很好的工具，它给你一个选项来决定哪个规则将适用。</p><p id="dba3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">考虑到Linter的可配置性，有经验的开发人员可能更喜欢使用它。你可以很容易地抓住所有你不想做的事情。你可以建立一个强大的插件，它可以解决你的大部分错误。请记住，您不能用这个工具来防止逻辑错误。</p><p id="84a2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当你独自工作时，Linter是一个完美的工具。但是，如果你是团队的一员呢？团队必须民主地决定哪种工具是合适的。没有一种工具能适合每个团队。如你所见，没有个人独裁者替所有人做决定的空间！</p><p id="66b8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我看来，静态打字工具如<strong class="lh ja"> TypeScript </strong>和<strong class="lh ja"> Flow </strong>都是很棒的工具，我很高兴它们的存在。我没有使用它们，因为我没有在团队中工作。我个人不需要它们，因为它们解决了我没有的问题。一切都在于视角。</p><p id="f741" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我没有说我不用TS，因为我没有障碍。然而，我解决这些问题的方式不同。因为TS是一个抽象概念，所以会有一些复杂性，你不会学到JavaScript引擎是如何在幕后工作的。在我看来，我不喜欢用自己不了解的系统。</p><p id="def9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果我们想讨论TypeScript，我们将首先解释使用静态类型系统的好处:</p><ol class=""><li id="a14d" class="ng nh iq lh b li lj ll lm lo ni ls nj lw nk ma nl nm nn no bi translated">TypeScript将捕捉与类型相关的错误。有必要避免产生类型错误。每个开发人员都希望有一个工具能够理解他的意图，从而帮助他正确地完成任务。</li><li id="daf5" class="ng nh iq lh b li np ll nq lo nr ls ns lw nt ma nl nm nn no bi translated"><strong class="lh ja"> TypeScript在推断类型的时候超级聪明。</strong>我们可以说，这有助于我们编写对其他开发人员来说更容易上手的代码。这个系统的主要意图是我们称之为<a class="ae le" href="https://www.typescriptlang.org/docs/handbook/typescript-tooling-in-5-minutes.html#type-annotations" rel="noopener ugc nofollow" target="_blank">类型注释</a>的东西——一个建立在JavaScript代码之上的特性。</li><li id="94c6" class="ng nh iq lh b li np ll nq lo nr ls ns lw nt ma nl nm nn no bi translated">最酷的是一个进入源代码的选项。我知道这对开源软件来说很常见，但是如果我们开始使用<a class="ae le" href="https://www.typescriptlang.org/docs/handbook/2/type-declarations.html#external-definitions" rel="noopener ugc nofollow" target="_blank">类型定义</a>文件，就会显示出全部能力。我们可以浏览这些文件，了解我们正在使用的库的流程——我们甚至不需要使用文档。</li><li id="6489" class="ng nh iq lh b li np ll nq lo nr ls ns lw nt ma nl nm nn no bi translated"><strong class="lh ja">因为这些很酷的类型定义特性，我们可以分析工具生态系统，它可以在我们的IDE中实时显示。</strong>不要忘记自动完成特性和采用面向对象范例的可能性。</li><li id="37a2" class="ng nh iq lh b li np ll nq lo nr ls ns lw nt ma nl nm nn no bi translated"><strong class="lh ja"> TypeScript集成到</strong><a class="ae le" href="https://en.wikipedia.org/wiki/Integrated_development_environment" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja">IDE</strong></a><strong class="lh ja">令人印象深刻，尤其是</strong> <a class="ae le" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> Visual Studio代码</strong> </a> <strong class="lh ja">。你必须记住VS Code和TypeScript都是微软的产品。</strong></li></ol><p id="4656" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">TypeScript并不是提供这些强大功能的唯一工具。我前面提到了心流。<a class="ae le" href="https://flow.org/" rel="noopener ugc nofollow" target="_blank"> Flow </a>是脸书在2014年开始的一个项目。它不像TypeScript那样在社区中被接受，但我毫不怀疑它将很快成为一个不错的竞争对手。</p><h1 id="0d8f" class="mj mk iq bd ml mm nu mo mp mq nv ms mt kf nw kg mv ki nx kj mx kl ny km mz na bi translated">总有不好的一面！</h1><p id="727c" class="pw-post-body-paragraph lf lg iq lh b li nb ka lk ll nc kd ln lo nd lq lr ls ne lu lv lw nf ly lz ma ij bi translated">像每个系统一样，TypeScript也有它的警告。我说过类型推理是这个系统最强的王牌之一。但是，这是一个依赖于一些参数的算法。我们不能完全依赖他，因为这是一种猜测，而不是保证。</p><p id="e311" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们无法确定编译时会发生什么。在这种情况下，你设计系统的能力就凸显出来了。如果你有一个糟糕的设计，并让系统推断类型，你可能不会从中得到任何好处。如果系统不能猜出变量类型，它将把它设置为默认值- <em class="mb"> any </em>。</p><p id="51c0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">如果TS猜不出类型，那就说明我们有问题。</strong>这可能导致不好的做法，因为TypeScript建议避免将值标记为type <em class="mb"> any </em>。如果你喜欢用any类型操作，类型系统是没用的，因为用纯JavaScript也能达到同样的效果。</p><p id="0808" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">也许你不是来自打字世界，你不能理解我在说什么，所以我将给出一个简单的<a class="ae le" href="https://gist.github.com/alenvlahovljak/db8cb937f2b9491125a737503c5e211b" rel="noopener ugc nofollow" target="_blank">例子</a>:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/d3e32c629356fb9aebdef6f75fef32ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*K85ocX-xR2s-tO3XMGrpyw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">TypeScript’s Type Inference in action</figcaption></figure><p id="4476" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">正如我们所看到的，类型推断基于数组的初始化来猜测类型。从现在开始，这个数组只能<strong class="lh ja">包含数字:</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oa"><img src="../Images/be47a2f9bcf4daaf1a090551229c003d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BkCx3c1PFjR88DYajB93dw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Type Inference has its power</figcaption></figure><p id="b06a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请看，<strong class="lh ja">我们不能向数组中添加字符串或任何其他类型，只能添加数字</strong>。如果我们做下一件事，事情就会变得混乱:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/67682730384b0cc51491ad6ad806c74c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*V5ZcswWV0CDGXwUX6KZPcQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Type Inference’s default type is ‘any’</figcaption></figure><p id="6812" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因为我们初始化了一个空数组，所以系统无法猜测我们在做什么。在这些情况下，TypeScript将设置一个默认值，即<em class="mb"> any </em>。为了解决这个问题，我们必须注释类型:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/7d3a0ecaf2102aa2b76cf657c02dc377.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*ciRYQCfblLIzsKFoCtfg7Q.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">TypeScript’s Type Annotation in action</figcaption></figure><p id="f80e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">结论:<strong class="lh ja">没有注释的每一种类型，不管是我们使用的代码还是库，都可能导致问题，并导致错误的安全感。我们必须非常小心类型推断。</strong></p></div></div>    
</body>
</html>