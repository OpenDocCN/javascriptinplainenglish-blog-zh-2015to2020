<html>
<head>
<title>React Native Carousel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应本机旋转木马</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-carousel-4df6db1c3303?source=collection_archive---------3-----------------------#2020-08-31">https://javascript.plainenglish.io/react-native-carousel-4df6db1c3303?source=collection_archive---------3-----------------------#2020-08-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b2dc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">制作响应式水平旋转木马</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6747baa53dcef3640034f99bc2796a1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihENoahoGgVlv486RGq_yQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ckturistando?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">ckturistando</a> on <a class="ae kv" href="https://unsplash.com/s/photos/carousel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3e70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我将在React Native上创建一个漂亮而有效的旋转木马。如果你不知道什么是<code class="fe ls lt lu lv b">Carousel</code>，它是一个水平顺序的动态滚动元素列表，其中上一个和下一个元素是部分可见的。</p><p id="7f16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">乍一看，这似乎很复杂，幸运的是，我会告诉你如何一步一步地容易。让我们一起变魔术吧。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="6884" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">设置项目</h1><p id="5dcb" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">在我们开始编写carousel逻辑之前，我们必须在React Native上创建一个应用程序。我们可以通过运行下面几行代码来创建应用程序:</p><pre class="kg kh ki kj gt na lv nb nc aw nd bi"><span id="4513" class="ne me iq lv b gy nf ng l nh ni">react-native init react_native_carousel<br/>cd react_native_carousel<br/>npm run ios</span></pre><p id="cffc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，我们已经成功创建了React本机应用程序。我们准备好编码了！💪</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="378f" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">制作旋转木马</h1><p id="4a0f" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我将使用<code class="fe ls lt lu lv b"><a class="ae kv" href="https://github.com/archriss/react-native-snap-carousel" rel="noopener ugc nofollow" target="_blank">react-native-snap-carousel</a></code> lib来制作水平响应转盘。这是React Native上的一个有用的库，具有预览、多种布局和对大量项目的高性能处理。兼容安卓&amp; iOS。您可以使用以下命令安装它:</p><pre class="kg kh ki kj gt na lv nb nc aw nd bi"><span id="6fde" class="ne me iq lv b gy nf ng l nh ni">npm install --save react-native-snap-carousel</span></pre><p id="d83c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，让我们为转盘定义常数:</p><pre class="kg kh ki kj gt na lv nb nc aw nd bi"><span id="71de" class="ne me iq lv b gy nf ng l nh ni">// carousel slider width<br/>export const SCREEN_WIDTH = Dimensions.get('window').width;<br/>export const CAROUSEL_VERTICAL_OUTPUT = 56;<br/>export const CAROUSEL_ITEM_WIDTH = SCREEN_WIDTH - CAROUSEL_VERTICAL_OUTPUT;</span></pre><p id="7a18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，我们将编写两个主要函数<code class="fe ls lt lu lv b">renderItem</code>和<code class="fe ls lt lu lv b">renderPagination</code>。我们将对轮播内容使用常量数据。这里有一个<code class="fe ls lt lu lv b"><a class="ae kv" href="https://github.com/Gapur/react-native-carousel/blob/master/constants.js" rel="noopener ugc nofollow" target="_blank">data of carousel</a></code>的链接。此外，我们将在本地状态中存储当前活动的幻灯片，并在转盘改变幻灯片时更新它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="3079" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">更多动画</h1><p id="ff61" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">React Native为动画提供动画API。动画API侧重于输入和输出之间的声明性关系，中间有可配置的转换，以及控制基于时间的动画执行的启动/停止方法。</p><p id="63bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用<code class="fe ls lt lu lv b">Animated.spring</code>为我们的应用制作动画。它跟踪速度状态，以在to值更新时创建流体运动。当转盘滑道改变时，我们将改变<code class="fe ls lt lu lv b">backgroundColor</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="5fc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面，我们使用<code class="fe ls lt lu lv b">useRef</code>来保存动画值。<code class="fe ls lt lu lv b">useRef</code>返回一个可变的ref对象，其<code class="fe ls lt lu lv b">.current</code>属性被初始化为传递的参数。</p><p id="c55f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们应该通过在动画配置中指定<code class="fe ls lt lu lv b">useNativeDriver: false</code>来使用本地驱动。因为本机驱动程序不支持Animated.spring。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="0b22" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">让我们演示一下我们的旋转木马</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/d77590fe942ad86272b724508afd5e48.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/1*KDJGLrL0Sd96EU8x6QUB4w.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">React Native Carousel</figcaption></figure><p id="dafb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想检查所有代码，这里有<a class="ae kv" href="https://github.com/Gapur/react-native-carousel" rel="noopener ugc nofollow" target="_blank"> Github </a>的链接。</p><p id="ab5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读，希望这篇文章对你有用。编码快乐！</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="d211" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">资源</h1><div class="nm nn gp gr no np"><a href="https://medium.com/@rossbulat/react-native-carousels-with-horizontal-scroll-views-60b0587a670c" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">React Native:带有水平滚动视图的旋转木马</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">如何使用本地组件创建流畅且响应迅速的传送带</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">medium.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od kp np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://github.com/Gapur/react-native-carousel" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">Gapur/react-native-carousel</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">🤠React-Native dissolve GitHub上的响应式水平旋转木马是超过5000万开发者共同工作的家园…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">github.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od kp np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://github.com/archriss/react-native-snap-carousel" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">arch riss/react-native-snap-carousel</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">你想了解更多吗？这些是我们创建的大量使用插件的实时应用。不要害羞，分享一下…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">github.com</p></div></div><div class="ny l"><div class="of l oa ob oc ny od kp np"/></div></div></a></div></div></div>    
</body>
</html>