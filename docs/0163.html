<html>
<head>
<title>Smooth Scrolling with React and the GreenSock Animation Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和GreenSock动画平台实现平滑滚动</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/smooth-scrolling-with-react-and-the-greensock-animation-platform-883c7e10f9b3?source=collection_archive---------0-----------------------#2019-06-08">https://javascript.plainenglish.io/smooth-scrolling-with-react-and-the-greensock-animation-platform-883c7e10f9b3?source=collection_archive---------0-----------------------#2019-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5ade" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">没有2000年和迟到</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ffc160b244b5382ff275170e68314991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVIlIHkzszlSo3Jv247YGw.jpeg"/></div></div></figure><p id="8a26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从一开始，平滑滚动就一直是开发人员心中的一个问题。我们已经做了很多事情来制作页面动画，但是当你有不断变化的动态内容时会发生什么呢？固定高度滚动条和百分比值是如此2000年和后期。现在是2019年，我们已经有了Resize Observer——一种确定内容高度的完全可靠的方法，同时始终保持用户习惯的原生滚动感觉。平滑滚动应该增强UX，而不是降低它。</p><p id="9e6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们开始吧。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="9075" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们将创建一个包含两个div的SmoothScroll组件，一个作为视口，另一个为实际主体添加一个高度，这样我们就可以滚动页面并将它们添加为引用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="1ec0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们设置App.js，这样我们就可以使用它了。我决定从unsplash加载图像，并使用状态将它们映射到DOM中，并添加了一个按钮，这样我们可以根据需要添加任意多或少的图像。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="fe64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们做一些基本的造型，这样看起来就不会那么丑了。</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><p id="591f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们来看本质。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="7fac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">resize observer返回一个名为observe(elements)的方法，该方法接受一个元素数组或单个元素。以防万一你想增加一个数组，我决定增加一个小循环。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="7364" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们为窗口添加一个滚动监听器，并将其映射到组件的onScroll方法。一旦resize observer检测到高度发生了变化，我们也将更新状态。我们用GSAP的TweenLite制作动画，用他们的Power4.easeOut算法缓解它，瞧。您已经拥有了一个非常平滑的滚动页面，当内容更新时，它会自动更新。</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><p id="a6f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以在这里看看最终产品<a class="ae lw" href="https://87lq2.codesandbox.io/" rel="noopener ugc nofollow" target="_blank">或者你可以在CodeSandbox查看下面的完整源代码。</a></p><div class="lx ly gp gr lz ma"><a href="https://codesandbox.io/embed/nostalgic-sea-87lq2?fontsize=14" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd ir gy z fp mf fr fs mg fu fw ip bi translated">反应+ GSAP平滑滚动-代码沙盒</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">CodeSandbox是一个为web应用程序量身定制的在线编辑器。</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">codesandbox.io</p></div></div></div></a></div><p id="748e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢你的时间，我希望你学到了一些东西。再见。</p><p id="18c4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在你走之前，看看我的社交网站:👀</p><h2 id="33d2" class="mj mk iq bd ml mm mn dn mo mp mq dp mr la ms mt mu le mv mw mx li my mz na nb bi translated">🔗<a class="ae lw" href="https://alekangelov.com" rel="noopener ugc nofollow" target="_blank">我的网站/作品集</a></h2><h2 id="ef4e" class="mj mk iq bd ml mm mn dn mo mp mq dp mr la ms mt mu le mv mw mx li my mz na nb bi translated">🐦<a class="ae lw" href="https://twitter.com/39strife" rel="noopener ugc nofollow" target="_blank">推特</a></h2><h2 id="0328" class="mj mk iq bd ml mm mn dn mo mp mq dp mr la ms mt mu le mv mw mx li my mz na nb bi translated">📷<a class="ae lw" href="https://instagram.com/angelov.alek" rel="noopener ugc nofollow" target="_blank"> Instagram </a></h2></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><p id="fcfc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我工作的数字机构:<a class="ae lw" href="https://digitalpresent.io" rel="noopener ugc nofollow" target="_blank">数字呈现</a></p></div></div>    
</body>
</html>