<html>
<head>
<title>What is GraphQL?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-graphql-375f8f2c227f?source=collection_archive---------8-----------------------#2020-04-26">https://javascript.plainenglish.io/what-is-graphql-375f8f2c227f?source=collection_archive---------8-----------------------#2020-04-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5987" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建API的新方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a2eb01857e6251801eb95ae58bc326e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0f4dvSifVihCIgWtXuBXnQ.png"/></div></div></figure><p id="2512" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">官网是这样说的:</p><blockquote class="ln"><p id="75bf" class="lo lp iq bd lq lr ls lt lu lv lw lm dk translated">GraphQL是一种用于API的查询语言。</p></blockquote><p id="2653" class="pw-post-body-paragraph kr ks iq kt b ku lx jr kw kx ly ju kz la lz lc ld le ma lg lh li mb lk ll lm ij bi translated">这到底是什么意思？</p><p id="14a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，我们需要知道什么是API。如果你已经知道这一点，请随意跳过。</p><p id="681f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">简单来说，API是应用程序前端和后端之间的链接。每当页面请求数据时，它调用一个API来传递它所请求的数据。然后，API将数据带回前端进行显示。</p><blockquote class="md me mf"><p id="9373" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated">我们以Trivago为例，它是一个酒店预订网站。当你查找一家酒店时，它从所有不同的酒店预订网站收集数据，并将所有数据带到它自己的<strong class="kt ir">前端</strong>进行显示。它不从这些网站带来模板，并按原样显示，而只是显示数据。这是API的核心。</p></blockquote><blockquote class="ln"><p id="491a" class="lo lp iq bd lq lr mj mk ml mm mn lm dk translated">API只是向前端返回信息而不是模板。</p></blockquote><h2 id="805a" class="mo mp iq bd mq mr ms dn mt mu mv dp mw la mx my mz le na nb nc li nd ne nf ng bi translated"><strong class="ak">一个API有哪些用例？</strong></h2><ol class=""><li id="84e8" class="nh ni iq kt b ku nj kx nk la nl le nm li nn lm no np nq nr bi translated">我们如何将Vue.js这样的前端框架与Laravel这样的后端框架一起使用，并且仍然使用SPAs的功能？<em class="mc">答案是使用API </em>。</li><li id="e33f" class="nh ni iq kt b ku ns kx nt la nu le nv li nw lm no np nq nr bi translated">另一个用例是当您的后端需要服务许多不同的应用程序时。比方说，你有一个iOS应用，一个Android应用和一个网页。您将希望为这个场景使用一个API，因为您不希望创建三个相似的后端来服务三个不同的平台。</li></ol><blockquote class="md me mf"><p id="9eb1" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated">好了，这是对API的简单介绍。现在回到GraphQL。</p></blockquote><p id="1bb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，创建API的主要方式之一是使用RESTful方法，正如您所猜测的，构建的API被称为REST APIs。当然，另一种方法是使用GraphQL。</p><p id="39d8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们来看一个场景。我们必须创建一个类似于脸书的新闻源。如果你不知道什么是新闻订阅，它就是你登录脸书时看到的页面。它有各种各样的邮件。这很复杂，但对于我们的情况，让我们把它变得简单一些。</p><p id="7647" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">假设每个提要(或帖子)都有一个作者和提要的内容。我们如何提取存储在后端的所有信息，并在前端显示出来？<strong class="kt ir"> <em class="mc">这里我不想采用更传统的方法，后端和前端是一个整体。这意味着你可能没有使用任何API。</em>T11】</strong></p><h2 id="f2f4" class="mo mp iq bd mq mr nx dn mt mu ny dp mw la nz my mz le oa nb nc li ob ne nf ng bi translated"><strong class="ak">第一种方法——使用REST </strong></h2><p id="7ca1" class="pw-post-body-paragraph kr ks iq kt b ku nj jr kw kx nk ju kz la oc lc ld le od lg lh li oe lk ll lm ij bi translated">比方说，我们的REST API有两个路由或端点</p><ol class=""><li id="465e" class="nh ni iq kt b ku kv kx ky la of le og li oh lm no np nq nr bi translated"><strong class="kt ir"> /authors </strong>:这个路径返回我的数据库中的所有作者。</li><li id="962c" class="nh ni iq kt b ku ns kx nt la nu le nv li nw lm no np nq nr bi translated"><strong class="kt ir"> /{authorname}/stories </strong>:该路由返回名字为authorname的作者的所有故事。</li></ol><blockquote class="md me mf"><p id="c896" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated"><em class="iq">如果你不知道什么是</em>终点<em class="iq">，它只是一个对</em>路线的花哨称呼。</p></blockquote><p id="aeb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要填充我们的新闻提要，我们必须首先点击(或转到)authors端点(/authors)。这会给我们所有的作者。现在，对于每个作者，我们必须达到stories端点(/{authorname}/stories)。</p><p id="7967" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您明智地考虑，每次用户加载新闻提要时都会有很多请求。这仍然是一个非常简单的场景。</p><blockquote class="md me mf"><p id="bdda" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated">一种解决方案是创建一个专用的路由或端点(/newsfeed)，但是这种解决方案有自己的注意事项。我不会在这里谈论这个。</p></blockquote><p id="f8c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个问题的解决方法是什么？GraphQL前来救援。</p><h2 id="ce70" class="mo mp iq bd mq mr nx dn mt mu ny dp mw la nz my mz le oa nb nc li ob ne nf ng bi translated">第二种方法—使用GraphQL</h2><p id="7612" class="pw-post-body-paragraph kr ks iq kt b ku nj jr kw kx nk ju kz la oc lc ld le od lg lh li oe lk ll lm ij bi translated">我们又想做同样的事情，因为，为什么不呢？GraphQL如何帮助降低请求的数量？</p><p id="e2ed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里我们不需要创建两个独立的端点。此外，我们根本不需要调用这些端点。</p><p id="5234" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">GraphQL总是命中单个端点(/graphql)。马上就会有明显的好处。此端点不是由您定义的，而是默认情况下存在的。</p><p id="12d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在重要的问题是，GraphQL如何从单个端点请求所有这些信息？为此，GraphQL使用了一种叫做查询的东西。对上述内容的查询如下所示</p><h2 id="f60c" class="mo mp iq bd mq mr nx dn mt mu ny dp mw la nz my mz le oa nb nc li ob ne nf ng bi translated">询问</h2><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="da50" class="mo mp iq oj b gy on oo l op oq">query{<br/>    authors{<br/>        stories{<br/>            name <br/>            content<br/>        }<br/>    }<br/>}</span></pre><p id="e094" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在后端，我们制作一个模式，而不是一个端点列表。这个查询寻找写在模式上的特定点。通过这样做，它知道返回什么，并且返回的格式与查询的格式完全相同。</p><p id="0f68" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，我们正在呼叫所有作者，对于每个作者，我们请求他/她的故事，对于每个故事，我们请求故事的名称和内容。是不是简单优雅？这就是GraphQL的强大之处。</p><p id="dc36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你仔细看了，上面的查询指定了它需要什么信息。在RESTful方法中，您不能这样做。你的申请总是会被你不需要的信息弄脏。当然，GraphQL不仅仅是这些。</p><h2 id="82c8" class="mo mp iq bd mq mr nx dn mt mu ny dp mw la nz my mz le oa nb nc li ob ne nf ng bi translated">变化</h2><p id="807b" class="pw-post-body-paragraph kr ks iq kt b ku nj jr kw kx nk ju kz la oc lc ld le od lg lh li oe lk ll lm ij bi translated">突变类似于查询，但是我们不是从后端请求数据，而是将数据发送到后端。例如，在脸书上注册用户时，我们会做一个突变。</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="5632" class="mo mp iq oj b gy on oo l op oq">mutation{<br/>    createUser( <br/>        username: "myusername"<br/>        password: "mypassword"<br/>        email: "myemail@example.com"<br/>    )<br/>}user{<br/>    username<br/>}</span></pre><p id="8551" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，我们用用户提供的用户名、密码和电子邮件地址注册了一个用户。这些是我们给函数createUser()的参数。这个函数是在模式中定义的，所以GraphQL非常清楚如何使用它。后面的部分是变异会把我们带回来。在这种情况下，它返回用户及其用户名。如果您已经在模式中定义了可调用性，那么您还可以请求他的电子邮件和密码。</p><h2 id="0e66" class="mo mp iq bd mq mr nx dn mt mu ny dp mw la nz my mz le oa nb nc li ob ne nf ng bi translated">与休息相似</h2><blockquote class="md me mf"><p id="5dfa" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated">REST中的<strong class="kt ir"> GET </strong>可以比作GraphQL中的<strong class="kt ir">查询</strong>。</p><p id="6da3" class="kr ks mc kt b ku kv jr kw kx ky ju kz mg lb lc ld mh lf lg lh mi lj lk ll lm ij bi translated">REST中的<strong class="kt ir"> POST </strong>可以比作GraphQL中的<strong class="kt ir">突变</strong>。</p></blockquote><p id="4a48" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我建议你浏览一下官方文档，在YouTube上寻找GraphQL。</p><p id="1e5a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是我对GraphQL的一点介绍(或者你可以说是初学者的视角)。一定要去GraphQL的官网结账。</p><div class="or os gp gr ot ou"><a href="https://graphql.org/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">GraphQL:一种API查询语言。</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">学习准则社区规范行为准则基金会景观学习准则社区规范行为准则基金会…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">graphql.org</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kp ou"/></div></div></a></div><p id="a17f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我用Vue + Laravel + GraphQL创建了一个开源项目。如果你想知道更多关于集成或项目的任何其他细节，让我知道。想看项目，这里有链接。</p><div class="or os gp gr ot ou"><a href="https://flowwith.netlify.app" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">流动</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">编辑描述</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">flowwith.netlify.app</p></div></div></div></a></div><p id="e99a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想用GraphQL搭配Laravel，有一个很好的包叫Lighthouse。这将使您在Laravel中使用GraphQL更加容易。</p><div class="or os gp gr ot ou"><a href="https://lighthouse-php.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">灯塔</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">GraphQL server for Laravel入门→使用GraphQL模式定义您的模式，无需任何样板文件…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">lighthouse-php.com</p></div></div></div></a></div><p id="1c4a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在前端你可以使用Apollo GraphQL。如果你像我一样喜欢Vue，这里有一个软件包可以让你更容易地使用Apollo GraphQL。</p><div class="or os gp gr ot ou"><a href="https://vue-apollo.netlify.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">阿波罗万岁</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">🚀将GraphQL集成到您的Vue.js应用中！开始→不要考虑更新UI或重新提取查询…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">vue-apollo.netlify.com</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi kp ou"/></div></div></a></div><p id="c0ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有一篇使用Lighthouse在Laravel上设置GraphQL服务器的文章。</p><div class="or os gp gr ot ou"><a href="https://www.toptal.com/graphql/laravel-graphql-server-tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">用Laravel构建GraphQL服务器</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">如果你还不熟悉它，GraphQL是一种用于与你的API交互的查询语言，它提供了…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">www.toptal.com</p></div></div><div class="pd l"><div class="pk l pf pg ph pd pi kp ou"/></div></div></a></div><p id="fe1b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仅此而已。我希望你喜欢这个小小的介绍。再见..</p><h2 id="5022" class="mo mp iq bd mq mr nx dn mt mu ny dp mw la nz my mz le oa nb nc li ob ne nf ng bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="e2f1" class="pw-post-body-paragraph kr ks iq kt b ku nj jr kw kx nk ju kz la oc lc ld le od lg lh li oe lk ll lm ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae pl" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kt ir">AI in Plain English</strong></a><a class="ae pl" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kt ir">UX in Plain English</strong></a><a class="ae pl" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kt ir">Python in Plain English</strong></a><strong class="kt ir"/>——谢谢，继续学习！</p><p id="e640" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae pl" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">submissions @ plain English . io</strong></a><strong class="kt ir"/>，并附上您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>