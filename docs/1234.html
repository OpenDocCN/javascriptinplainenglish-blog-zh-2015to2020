<html>
<head>
<title>JavaScript Arrow Functions: How to debug them with name inference</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript箭头函数:如何使用名称推断来调试它们</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-arrow-functions-how-to-debug-them-with-name-inference-ac0d7cd5c43b?source=collection_archive---------0-----------------------#2020-02-16">https://javascript.plainenglish.io/javascript-arrow-functions-how-to-debug-them-with-name-inference-ac0d7cd5c43b?source=collection_archive---------0-----------------------#2020-02-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d444" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简短、有用的JavaScript课程——让它变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6b424bcba20ddd192d8c6cd0e1e1026f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LeYBjLHr6kmYIoSx-aHdDA.png"/></div></div></figure><p id="51db" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">箭头函数是<strong class="kt ir">匿名的</strong>，也就是说没有命名。如果您想调试，这个<strong class="kt ir">是个问题，因为您将无法跟踪函数的名称。在调试会话期间，匿名函数被标记为匿名，这个no提供了关于正在执行的代码的线索。</strong></p><p id="0b29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，如您所见，箭头函数名是空的</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="9f97" class="ls lt iq lo b gy lu lv l lw lx">( param  =&gt; param * 2  ).name;<br/>// ""</span></pre><p id="32ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">相反，在常规函数中，我们可以有函数的名称</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="4a61" class="ls lt iq lo b gy lu lv l lw lx">(function multiply(param){ return param *2 }).name<br/>//"multiply"</span></pre><p id="9579" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了解决这个问题，你可以使用ES2015-ES6中引入的一个特性，即<strong class="kt ir">函数名推断。</strong></p><p id="49cd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个<strong class="kt ir"> </strong>背后的思想是JavaScript可以从它的语法位置确定箭头函数名:例如，从保存函数对象的变量名。</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="4f56" class="ls lt iq lo b gy lu lv l lw lx">const multiply = param =&gt; param * 2;</span><span id="742f" class="ls lt iq lo b gy ly lv l lw lx">multiply.name; // =&gt; 'multiply'<br/>//"multiply"</span></pre><p id="069e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，我们可以看到一个稍微复杂一点的例子，它是一个执行匿名函数的代码的调试会话。</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="27f8" class="ls lt iq lo b gy lu lv l lw lx">let  counter = 10;</span><span id="26fc" class="ls lt iq lo b gy ly lv l lw lx">const counterFunction = (initialCount = 0) =&gt; {</span><span id="3c35" class="ls lt iq lo b gy ly lv l lw lx">let intervalId = setInterval(<em class="lz">() =&gt; {<br/>   debugger;<br/>   counter --;<br/>   if(counter == 0 ){<br/>      console.log("Done!");<br/>      clearInterval(intervalId);<br/>   }<br/>   console.log(counter);<br/>  }</em>, 1000 );<br/>}</span><span id="1ad3" class="ls lt iq lo b gy ly lv l lw lx">counterFunction();</span></pre><p id="c403" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如下图所示，调用堆栈由一个标记为匿名的函数组成。从这样的调用栈信息中得不到任何有用的东西。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/8b232e5fd3fee8a2e690af4fca72b02b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9837kBOAHDmBi7sJB_gRQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Anonymous inner arrow function</figcaption></figure><p id="1a58" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们用使用名称推理的<strong class="kt ir">代码检查一个调试会话:</strong></p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="fd0f" class="ls lt iq lo b gy lu lv l lw lx">let  counter = 10;</span><span id="cd69" class="ls lt iq lo b gy ly lv l lw lx">const <strong class="lo ir">decreaseFunction </strong>= () =&gt; {<br/>    debugger;<br/>    counter --;<br/>    if(counter == 0 ){<br/>        console.log("Done!");<br/>        clearInterval(intervalId);<br/>    }<br/>    console.log(counter);<br/>}</span><span id="87e6" class="ls lt iq lo b gy ly lv l lw lx">decreaseFunction.name;<br/>//"decreaseFunction"</span><span id="c7e5" class="ls lt iq lo b gy ly lv l lw lx">const counterFunction = (initialCount = 0) =&gt; {<br/>     let intervalId = setInterval(<strong class="lo ir">decreaseFunction</strong>, 1000 );<br/>}</span><span id="8304" class="ls lt iq lo b gy ly lv l lw lx">counterFunction();</span></pre><p id="858d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里，调用堆栈给出了关于正在执行的代码的更多信息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/d3381c007e01fa1d053ff2e9844ccfc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YVBEimBIHR3k7OqDic97HQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Anonymous inner arrow function assigned to a variable</figcaption></figure><p id="c3f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">总之，如果您想调试代码，使用函数名推断来命名箭头函数是一个很好的实践。</p><h2 id="5d0c" class="ls lt iq bd mg mh mi dn mj mk ml dp mm la mn mo mp le mq mr ms li mt mu mv mw bi translated">如果这对你有帮助，请点击下面的拍手按钮。谢谢！！</h2></div></div>    
</body>
</html>