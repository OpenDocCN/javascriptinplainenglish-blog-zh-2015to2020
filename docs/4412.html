<html>
<head>
<title>Vuetify — Form Validation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">验证—表单验证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vuetify-form-validation-918d2d91409b?source=collection_archive---------2-----------------------#2020-12-09">https://javascript.plainenglish.io/vuetify-form-validation-918d2d91409b?source=collection_archive---------2-----------------------#2020-12-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2b2d3a59306aed7bde9d150bcf86766b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9vxl-nueHmbI5Y5G"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jonnyswales1989?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jonny Swales</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2dd5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vuetify是一个流行的Vue应用程序UI框架。</p><p id="4633" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Vuetify框架。</p><h1 id="c6e8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">通过提交和清除进行验证</h1><p id="c53b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">this.$refs.form.reset()</code>方法重置一个表单。</p><p id="6086" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">this.$refs.form.resetValidation()</code>方法重置表单验证。</p><p id="c0f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="117d" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;v-container&gt;<br/>    &lt;v-row&gt;<br/>      &lt;v-col col="12"&gt;<br/>        &lt;v-form ref="form" v-model="valid" lazy-validation&gt;<br/>          &lt;v-text-field v-model="name" :counter="10" :rules="nameRules" label="Name" required&gt;&lt;/v-text-field&gt;</span><span id="6a3c" class="mq lc iq mh b gy mv ms l mt mu">          &lt;v-text-field v-model="email" :rules="emailRules" label="E-mail" required&gt;&lt;/v-text-field&gt;</span><span id="f6b2" class="mq lc iq mh b gy mv ms l mt mu">          &lt;v-select<br/>            v-model="select"<br/>            :items="items"<br/>            :rules="[v =&gt; !!v || 'Item is required']"<br/>            label="Item"<br/>            required<br/>          &gt;&lt;/v-select&gt;</span><span id="e360" class="mq lc iq mh b gy mv ms l mt mu">          &lt;v-checkbox<br/>            v-model="checkbox"<br/>            :rules="[v =&gt; !!v || 'You must agree']"<br/>            label="Do you agree?"<br/>            required<br/>          &gt;&lt;/v-checkbox&gt;</span><span id="9546" class="mq lc iq mh b gy mv ms l mt mu">          &lt;v-btn :disabled="!valid" color="success" class="mr-4" @click="validate"&gt;Validate&lt;/v-btn&gt;<br/>          &lt;v-btn color="error" class="mr-4" @click="reset"&gt;Reset Form&lt;/v-btn&gt;<br/>          &lt;v-btn color="warning" @click="resetValidation"&gt;Reset Validation&lt;/v-btn&gt;<br/>        &lt;/v-form&gt;<br/>      &lt;/v-col&gt;<br/>    &lt;/v-row&gt;<br/>  &lt;/v-container&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>export default {<br/>  name: "HelloWorld",<br/>  data: () =&gt; ({<br/>    valid: true,<br/>    name: "",<br/>    nameRules: [<br/>      (v) =&gt; !!v || "Name is required",<br/>      (v) =&gt; (v &amp;&amp; v.length &lt;= 10) || "Name must be less than 10 characters",<br/>    ],<br/>    email: "",<br/>    emailRules: [<br/>      (v) =&gt; !!v || "E-mail is required",<br/>      (v) =&gt; /.+@.+\..+/.test(v) || "E-mail must be valid",<br/>    ],<br/>    select: null,<br/>    items: ["Item 1", "Item 2", "Item 3", "Item 4"],<br/>    checkbox: false,<br/>  }),</span><span id="99ef" class="mq lc iq mh b gy mv ms l mt mu">  methods: {<br/>    validate() {<br/>      this.$refs.form.validate();<br/>    },<br/>    reset() {<br/>      this.$refs.form.reset();<br/>    },<br/>    resetValidation() {<br/>      this.$refs.form.resetValidation();<br/>    },<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="5601" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在每个输入组件上都有带有规则的<code class="fe me mf mg mh b">rules</code>道具。</p><p id="192b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们有名称和电子邮件的规则。</p><p id="266e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些方法让我们可以重置应用程序的值和验证。</p><p id="9ca0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">validate</code>方法让我们验证表单字段。</p><p id="12dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">reset</code>和<code class="fe me mf mg mh b">resetValidation</code>方法来重置表单。</p><h1 id="44c9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Vuelidate</h1><p id="5b96" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用Vuelidate库将表单验证合并到我们的Vuetify表单中。</p><p id="7f5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0bce" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;v-container&gt;<br/>    &lt;v-row&gt;<br/>      &lt;v-col col="12"&gt;<br/>        &lt;form&gt;<br/>          &lt;v-text-field<br/>            v-model="name"<br/>            :error-messages="nameErrors"<br/>            :counter="10"<br/>            label="Name"<br/>            required<br/>            <a class="ae kc" href="http://twitter.com/input" rel="noopener ugc nofollow" target="_blank">@input</a>="$v.name.$touch()"<br/>            <a class="ae kc" href="http://twitter.com/blur" rel="noopener ugc nofollow" target="_blank">@blur</a>="$v.name.$touch()"<br/>          &gt;&lt;/v-text-field&gt;<br/>          &lt;v-text-field<br/>            v-model="email"<br/>            :error-messages="emailErrors"<br/>            label="E-mail"<br/>            required<br/>            <a class="ae kc" href="http://twitter.com/input" rel="noopener ugc nofollow" target="_blank">@input</a>="$v.email.$touch()"<br/>            <a class="ae kc" href="http://twitter.com/blur" rel="noopener ugc nofollow" target="_blank">@blur</a>="$v.email.$touch()"<br/>          &gt;&lt;/v-text-field&gt;<br/>          &lt;v-select<br/>            v-model="select"<br/>            :items="items"<br/>            :error-messages="selectErrors"<br/>            label="Item"<br/>            required<br/>            <a class="ae kc" href="http://twitter.com/change" rel="noopener ugc nofollow" target="_blank">@change</a>="$v.select.$touch()"<br/>            <a class="ae kc" href="http://twitter.com/blur" rel="noopener ugc nofollow" target="_blank">@blur</a>="$v.select.$touch()"<br/>          &gt;&lt;/v-select&gt;<br/>          &lt;v-checkbox<br/>            v-model="checkbox"<br/>            :error-messages="checkboxErrors"<br/>            label="Do you agree?"<br/>            required<br/>            <a class="ae kc" href="http://twitter.com/change" rel="noopener ugc nofollow" target="_blank">@change</a>="$v.checkbox.$touch()"<br/>            <a class="ae kc" href="http://twitter.com/blur" rel="noopener ugc nofollow" target="_blank">@blur</a>="$v.checkbox.$touch()"<br/>          &gt;&lt;/v-checkbox&gt;</span><span id="10c5" class="mq lc iq mh b gy mv ms l mt mu">&lt;v-btn class="mr-4" <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="submit"&gt;submit&lt;/v-btn&gt;<br/>          &lt;v-btn <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="clear"&gt;clear&lt;/v-btn&gt;<br/>        &lt;/form&gt;<br/>      &lt;/v-col&gt;<br/>    &lt;/v-row&gt;<br/>  &lt;/v-container&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import { validationMixin } from "vuelidate";<br/>import { required, maxLength, email } from "vuelidate/lib/validators";</span><span id="20d8" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  name: "HelloWorld",<br/>  mixins: [validationMixin],</span><span id="aa0b" class="mq lc iq mh b gy mv ms l mt mu">validations: {<br/>    name: { required, maxLength: maxLength(10) },<br/>    email: { required, email },<br/>    select: { required },<br/>    checkbox: {<br/>      checked(val) {<br/>        return val;<br/>      },<br/>    },<br/>  },</span><span id="3218" class="mq lc iq mh b gy mv ms l mt mu">data: () =&gt; ({<br/>    name: "",<br/>    email: "",<br/>    select: null,<br/>    items: ["Item 1", "Item 2", "Item 3", "Item 4"],<br/>    checkbox: false,<br/>  }),</span><span id="2775" class="mq lc iq mh b gy mv ms l mt mu">computed: {<br/>    checkboxErrors() {<br/>      const errors = [];<br/>      if (!this.$v.checkbox.$dirty) return errors;<br/>      !this.$v.checkbox.checked &amp;&amp; errors.push("You must agree");<br/>      return errors;<br/>    },<br/>    selectErrors() {<br/>      const errors = [];<br/>      if (!this.$v.select.$dirty) return errors;<br/>      !this.$v.select.required &amp;&amp; errors.push("Item is required");<br/>      return errors;<br/>    },<br/>    nameErrors() {<br/>      const errors = [];<br/>      if (!this.$v.name.$dirty) return errors;<br/>      !this.$v.name.maxLength &amp;&amp;<br/>        errors.push("Name must be at most 10 characters long");<br/>      !this.$v.name.required &amp;&amp; errors.push("Name is required.");<br/>      return errors;<br/>    },<br/>    emailErrors() {<br/>      const errors = [];<br/>      if (!this.$v.email.$dirty) return errors;<br/>      !this.$v.email.email &amp;&amp; errors.push("Must be valid e-mail");<br/>      !this.$v.email.required &amp;&amp; errors.push("E-mail is required");<br/>      return errors;<br/>    },<br/>  },</span><span id="aa47" class="mq lc iq mh b gy mv ms l mt mu">  methods: {<br/>    submit() {<br/>      this.$v.$touch();<br/>    },<br/>    clear() {<br/>      this.$v.$reset();<br/>      this.name = "";<br/>      this.email = "";<br/>      this.select = null;<br/>      this.checkbox = false;<br/>    },<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="ac10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加表单域。</p><p id="b691" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们合并了Vuelidate提供的<code class="fe me mf mg mh b">validationMixin</code>。</p><p id="0a57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了带有关键字<code class="fe me mf mg mh b">name</code>、<code class="fe me mf mg mh b">email</code>和<code class="fe me mf mg mh b">select</code>的<code class="fe me mf mg mh b">validations</code>对象，它们有规则。</p><p id="4d54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们有每个字段的计算属性和计算错误消息。</p><p id="b563" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们从<code class="fe me mf mg mh b">$v</code>对象中获取字段，并在<code class="fe me mf mg mh b">validations</code>属性中获取键。</p><p id="06d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">返回的错误信息可通过每个字段上的<code class="fe me mf mg mh b">error-message</code>属性进行设置。</p><p id="853e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">methods</code>对象中，我们有<code class="fe me mf mg mh b">reset</code>方法来清除验证。</p><p id="a4c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些项目也会被重置。</p><p id="e99c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">submit</code>方法中，我们有<code class="fe me mf mg mh b">$touch</code>方法来触发验证。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/33c4a803029a98852d44f9e85355480d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UJYIhvbb4Z3NRqsi"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@llhheather?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Heather Lo</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="b505" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="f01c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加带有Vuetify和Vuelidate验证的表单。</p><p id="80b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>