<html>
<head>
<title>Why do we have to wrap React components?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我们必须包装React组件？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-do-we-have-to-wrap-react-components-b168232dbd3a?source=collection_archive---------5-----------------------#2020-11-06">https://javascript.plainenglish.io/why-do-we-have-to-wrap-react-components-b168232dbd3a?source=collection_archive---------5-----------------------#2020-11-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/06da0e307a75219adb015823c156ad4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8J9Lbr6cuonG1KjF"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><a class="ae jd" href="https://unsplash.com/@ffstop" rel="noopener ugc nofollow" target="_blank">@ffstop</a> Unsplashed.com</figcaption></figure><div class=""/><div class=""><h2 id="a9ae" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">理解React应用程序中的div包装！</h2></div><h1 id="4bfb" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">问题是</h1><p id="9ee9" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">因此，当您第一次开始使用react时，您肯定会编写类似下面这样的代码</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="11f0" class="ms kw jg mo b gy mt mu l mv mw">const App = () =&gt; {<br/>    return(<br/>      &lt;p&gt;Hello&lt;/p&gt;<br/>      &lt;p&gt;World&lt;/p&gt;<br/>     )<br/>  }<br/></span></pre><p id="45ea" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">你可能会问这有什么错？</p><p id="dbef" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">React试图转换我们的JSX，这个弹出</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="3b81" class="ms kw jg mo b gy mt mu l mv mw">Failed to compile.<br/> ./src/App.js<br/>Syntax error: Adjacent JSX elements must be wrapped in an enclosing tag (6:8)</span></pre><p id="3f59" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">在组件中编写的所有JSX语句的幕后，它们需要被包装到一个容器中。但是等等为什么有必要？</p><h1 id="5e36" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">幕后的反应</h1><p id="c2f5" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">要回答这个问题，我们必须考虑当React将我们的JSX最终变成我们在页面上看到的HTML时会发生什么。这个过程的第一步是将任何JSX语句转换成一个对象。在幕后，React使用我们的JSX，Babel这样的transpiler将JSX的各个部分输入到<code class="fe nc nd ne mo b">React.createElement</code>函数中。</p><p id="d114" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">如果我们看看createElement的API</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="3939" class="ms kw jg mo b gy mt mu l mv mw">function createElement(elementType, props, …children) {}</span></pre><p id="af15" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">参数被定义为</p><ol class=""><li id="4e71" class="nf ng jg lp b lq mx lt my lw nh ma ni me nj mi nk nl nm nn bi translated"><code class="fe nc nd ne mo b">elementType</code> —您想要显示的HTML标签</li><li id="0e6d" class="nf ng jg lp b lq no lt np lw nq ma nr me ns mi nk nl nm nn bi translated"><code class="fe nc nd ne mo b">props</code> —您想要传递的属性或样式等数据</li><li id="8bc2" class="nf ng jg lp b lq no lt np lw nq ma nr me ns mi nk nl nm nn bi translated"><code class="fe nc nd ne mo b">children</code> —你想在最终的HTML标签之间传递的任何东西，最有可能是<br/>一些文本，但也可以是其他东西(见下文！)</li></ol><p id="eebd" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">这是我们从上面看到的JSX的例子</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="8804" class="ms kw jg mo b gy mt mu l mv mw">&lt;p&gt;Hello&lt;/p&gt; // JSX</span></pre><p id="ca26" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">成为</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="f0a7" class="ms kw jg mo b gy mt mu l mv mw">React.createElement(&lt;p&gt;, null, 'Hello')</span></pre><p id="286f" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated"><code class="fe nc nd ne mo b">React.createElement</code>函数只接受一个“元素类型”，也就是我们想要最终显示的JSX元素的<code class="fe nc nd ne mo b">&lt;p&gt;</code>部分。</p><p id="4bbc" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">我们不能让两个JSX语句分别具有独立的<code class="fe nc nd ne mo b">React.createElement</code>功能。这意味着两个return语句和React将抛出一个错误！在JavaScript中，每个函数只能返回一个值。</p><h1 id="58ec" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">解决方案</h1><p id="d6d1" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">那么这个难题的解决方案是什么呢？</p><p id="2091" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">我们将JSX包装成一个div。</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="85d7" class="ms kw jg mo b gy mt mu l mv mw">const App = () =&gt; {<br/>    return( <br/>       &lt;div&gt;<br/>         &lt;p&gt;Hello&lt;/p&gt;<br/>         &lt;p&gt;World&lt;/p&gt;<br/>      &lt;/div&gt;<br/>     )<br/>  }</span></pre><p id="3975" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">在幕后，这是它看起来的样子</p><pre class="mj mk ml mm gt mn mo mp mq aw mr bi"><span id="5383" class="ms kw jg mo b gy mt mu l mv mw">Return (<br/>     React.createElement('div', 'null',       <br/>        [React.createElement('p','null','Hello'),<br/>        React.createElement('p','null','Hello')]<br/>        )<br/>     )</span></pre><p id="4204" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">App函数只能返回一个值，通过使我们的JSX语句成为一个div的子语句，我们可以指定任意多的<code class="fe nc nd ne mo b">createElement</code>来得到我们想要的输出。</p><p id="c5a4" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">现在这里的问题是，我们最终在最终的HTML中用无意义的div来膨胀DOM。对于一个简单的组件来说，这可能不是问题，但是对于更复杂的组件来说，你可以想象这会如何影响组件和应用程序的最终运行。</p><p id="7c42" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">您可能接触到的另一个问题是React应用程序中的布局。你可以想象一下，如果有div元素出现在不应该出现的地方，使用FlexBox来布局你的页面可能看起来不像你想要的样子。</p><p id="3e85" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">如何处理这个问题，我们将在下一篇文章中看到！</p><h1 id="56e4" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">其他文章</h1><div class="ip iq gp gr ir nt"><a href="https://towardsdatascience.com/approach-to-learning-python-f1c9a02024f8" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">学习Python的方法</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">今天如何最大限度地学习python</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ix nt"/></div></div></a></div><div class="ip iq gp gr ir nt"><a href="https://towardsdatascience.com/efficient-web-scraping-with-scrapy-571694d52a6" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jh gy z fp ny fr fs nz fu fw jf bi translated">使用Scrapy进行有效的网页抓取</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">Scrapy的新功能使您的刮削效率</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh ix nt"/></div></div></a></div><h1 id="dffb" class="kv kw jg bd kx ky kz la lb lc ld le lf km lg kn lh kp li kq lj ks lk kt ll lm bi translated">关于作者</h1><p id="1410" class="pw-post-body-paragraph ln lo jg lp b lq lr kh ls lt lu kk lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我是一名执业医师和教育家，也是一名网站开发者。</p><p id="732b" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">请点击此处查看我的博客和其他帖子中关于项目的更多细节。</p><p id="1030" class="pw-post-body-paragraph ln lo jg lp b lq mx kh ls lt my kk lv lw mz ly lz ma na mc md me nb mg mh mi ij bi translated">我将非常感谢任何评论，或者如果你想与python合作或需要帮助，请联系我。如果你想和我联系，请点击这里</p></div></div>    
</body>
</html>