<html>
<head>
<title>10 things I learned from Covid-19 with D3.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用D3.js从新冠肺炎身上学到的10件事</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/combining-what-i-learned-from-covid-19-with-d3-js-2c03d9df521e?source=collection_archive---------11-----------------------#2020-04-17">https://javascript.plainenglish.io/combining-what-i-learned-from-covid-19-with-d3-js-2c03d9df521e?source=collection_archive---------11-----------------------#2020-04-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ba8e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">制作开源项目的指南</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/f62344112a1079835f3c9a4405a59ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Yn_5OrW-PWLuPdu0bin6Vg.gif"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Global Timeline of Covid19 by Stacy S. Cho</figcaption></figure><h1 id="9a63" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">概观</h1><p id="b403" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><strong class="li io">全球Covid19时间轴</strong>已经赚了不少了💌 👏 😍从很多人那里。我非常感谢大家的支持</p><blockquote class="mc"><p id="f22f" class="md me in bd mf mg mh mi mj mk ml mb dk translated">截至2020年4月16日，</p><p id="ea0a" class="md me in bd mf mg mh mi mj mk ml mb dk translated">全球Covid19时间表赢得</p><p id="2769" class="md me in bd mf mg mh mi mj mk ml mb dk translated">- 9K+用户流量</p><p id="9f35" class="md me in bd mf mg mh mi mj mk ml mb dk translated">- 58个赞&amp; 15条评论来自<a class="ae mm" href="https://www.linkedin.com/feed/update/urn:li:activity:6651510551711109120/" rel="noopener ugc nofollow" target="_blank"> <em class="mn"> LinkedIn帖子</em> </a></p><p id="f681" class="md me in bd mf mg mh mi mj mk ml mb dk translated"><em class="mn"> - 100+访问&amp; 25+克隆自</em> <a class="ae mm" href="https://github.com/stacello19/Covid19-D3" rel="noopener ugc nofollow" target="_blank"> <em class="mn"> Github库</em> </a></p></blockquote><figure class="mp mq mr ms mt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi mo"><img src="../Images/bbc6a6b77d4df641f072a99448abec54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bv3kYGDF9MLiZuMO"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Photo by <a class="ae mm" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Priscilla Du Preez</a> on <a class="ae mm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fb70" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">《银河系漫游指南》的作者道格拉斯·诺埃尔·亚当斯曾经说过，</p><blockquote class="mc"><p id="8eea" class="md me in bd mf mg mh mi mj mk ml mb dk translated">编程让事情得以完成</p></blockquote><figure class="mp mq mr ms mt kh gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/b205a033c93a957755a970e507d98ae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*S69XRA2cakK1Ovqh"/></div></figure><p id="ddf8" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">在Corona病毒席卷纽约和新泽西之前，我一直在纽约积极寻找软件工程师的工作。我已经安排了很多面试，我非常有希望和动力开始我的软件工程师生涯。</p><p id="e427" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">病毒席卷了美国，尤其是纽约，我收到了许多电子邮件和信息，关于面试过程因病毒而被搁置和拒绝。纽约人被要求呆在家里，我的求职期也停止了，直到另行通知。</p><p id="ef8c" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">在我的身份从<strong class="li io">求职者</strong>变成<strong class="li io">失业者的头几天，约翰·霍普斯金的</strong> Covid网站<strong class="li io"> </strong> &amp; <strong class="li io">谷歌的</strong>冠状病毒(新冠肺炎)地图成了我的网飞。我每小时都在查看图表和世界地图，希望趋势下降，一切恢复正常，但趋势与我希望的相反。</p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="2892" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">我需要一个遥控器</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi nr"><img src="../Images/244cb9269cac64ea8b1ef97b4c73ad80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UR5qYTtNH0GJvcbf"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Photo by <a class="ae mm" href="https://unsplash.com/@freestocks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">freestocks</a> on <a class="ae mm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7ba9" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">受害者和确诊病例的数量每天都在增加。每天都有数千例确诊病例增加，图表向右上方呈线性&amp;世界地图变得越来越暗</p><p id="3d2e" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">有一天，我想看看世界地图比两周前变暗了多少，但我无法从约翰·霍普斯金的Covid网站和谷歌的冠状病毒(新冠肺炎)地图中获得趋势信息。我做了更多的研究，发现<strong class="li io"> HealthMap </strong>制作了一个图形网站，显示病毒在世界各地传播的趋势。但是，我不能控制图形；这是不可阻挡的，直到视频结束像兰博基尼跑车没有休息</p><blockquote class="mc"><p id="2724" class="md me in bd mf mg mh mi mj mk ml mb dk translated">我就像“我需要一个遥控器”来看看新冠肺炎传播的趋势，那里的全球COVID19时间轴项目已经开始</p></blockquote></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="f608" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">全球COVID19时间表</h1><p id="4cf7" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><strong class="li io">全球COVID19时间轴中的特性</strong></p><ul class=""><li id="f711" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated">Covid19在该时间段内的传播显示在世界地图上</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/65952dd31d2f5f42d076fccce4e22413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*ZgqghMfLsviq-WxAKAo_aQ.gif"/></div></figure><ul class=""><li id="9142" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated">时间线上的控制器。用户可以<strong class="li io">播放</strong>、<strong class="li io">暂停</strong>、<strong class="li io">选择某个日期</strong></li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi ob"><img src="../Images/45609413b3dff602d39b983da75968e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0M-AC_t39L8xcL79OxLD8w.png"/></div></div></figure><ul class=""><li id="3cf3" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated">用户可以在世界地图上点击一个国家，并获得所选国家的信息</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/6f49babe7ce2134a223212abc5cd35bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*IU509uYDXHUbZUn18cZdyw.png"/></div></figure><ul class=""><li id="a68e" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated">数据每10 ~ 15分钟更新一次</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi od"><img src="../Images/ec5c0df6f731705991f198077d1cda2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*a4VV5UJiYYbz0EU6RZeduQ.png"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="4856" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">&gt;技术概述</h1><h2 id="5b35" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">-技能堆栈</h2><ul class=""><li id="8935" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated">D3.js</li><li id="2c47" class="ns nt in li b lj ot lm ou lp ov lt ow lx ox mb nx ny nz oa bi translated">香草JS</li><li id="9aab" class="ns nt in li b lj ot lm ou lp ov lt ow lx ox mb nx ny nz oa bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</li><li id="49be" class="ns nt in li b lj ot lm ou lp ov lt ow lx ox mb nx ny nz oa bi translated">超文本标记语言</li></ul></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="75e2" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">技术成就</h1><h2 id="5bf0" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">1:数据预处理</h2><h2 id="ff27" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated"><strong class="ak">来自API的国家/时间数据(时间数据)</strong></h2><ul class=""><li id="7ab4" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated">我需要一份日期时间内国家和地区的确诊病例和伤亡数据<strong class="li io">伊森·温特斯</strong> &amp; <strong class="li io">沃尔特·科拉莱斯</strong>做出了伟大的<a class="ae mm" href="https://github.com/NovelCOVID/API" rel="noopener ugc nofollow" target="_blank"><strong class="li io">T22】covid 19时间轴API  </strong> </a></li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="960a" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">来自API a.k.a .的国家/地区大纲数据(地区数据)</h2><ul class=""><li id="eacd" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated">我从<a class="ae mm" href="https://bl.ocks.org/piwodlaiwo/3734a1357696dcff203a94012646e932" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="nd">地形图&amp;世界地图</em> </strong> </a>中获取国家领土在世界地图上的经纬度</li><li id="f574" class="ns nt in li b lj ot lm ou lp ov lt ow lx ox mb nx ny nz oa bi translated">它由<code class="fe pa pb pc pd b">MultiPolygon</code>类型和数字组成的一组地图上的经度&amp;纬度</li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="8a69" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">在国家id和国家名称之间建立关系</h2><ul class=""><li id="5d0f" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated"><code class="fe pa pb pc pd b">"id": "840"</code>代表美国</li><li id="1b65" class="ns nt in li b lj ot lm ou lp ov lt ow lx ox mb nx ny nz oa bi translated">国家领土轮廓经纬度数据表示为<code class="fe pa pb pc pd b">country id</code>；因此，我需要将<code class="fe pa pb pc pd b">country id</code>转换为<code class="fe pa pb pc pd b">country name</code></li></ul><p id="0bf1" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">换句话说，我需要在国家id和国家名称之间建立关系，因为</p><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="7674" class="oe kp in pd b gy pi pj l pk pl"><strong class="pd io">Time data API </strong>represents a country using its `country name` in plain English </span><span id="352e" class="oe kp in pd b gy pm pj l pk pl">&amp;</span><span id="058f" class="oe kp in pd b gy pm pj l pk pl"><strong class="pd io">Territory data API</strong> represents a country using `country id`</span></pre><h2 id="70e6" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated"><strong class="ak">ISO 3166–1个数字</strong></h2><ul class=""><li id="aacc" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated"><strong class="li io">ISO 3166-1数字</strong>(或数字-3)代码是三位数的国家代码，代表国家、属地和特殊地理区域</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/4a5293b7c69a6ec9c0b792c17db7e671.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*whvWoRJ3LnpJM7-Osq01hA.png"/></div></figure><p id="8965" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">在<a class="ae mm" href="https://en.wikipedia.org/wiki/ISO_3166-1_numeric" rel="noopener ugc nofollow" target="_blank">维基百科的</a> <strong class="li io">当前代码</strong>表中，我找到了关于<strong class="li io">代码&amp;国家名称</strong>的表格</p><p id="be2a" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">我创建了一个名为<code class="fe pa pb pc pd b">country_id.txt</code>的文件，并在IDE中通过拖拽和粘贴的方式将表格的内容复制到<code class="fe pa pb pc pd b">country_id.txt</code>中</p><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="aa67" class="oe kp in pd b gy pi pj l pk pl">// country_id.txt</span><span id="1aae" class="oe kp in pd b gy pm pj l pk pl">004 Afghanistan</span><span id="b07c" class="oe kp in pd b gy pm pj l pk pl">008 Albania</span><span id="3b2e" class="oe kp in pd b gy pm pj l pk pl">010 Antarctica</span><span id="4274" class="oe kp in pd b gy pm pj l pk pl">012 Algeria<br/>...<br/>// 249 lines</span></pre><h2 id="8062" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">用于读写文件的JS fs模块</h2><p id="9576" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在JavaScript中将它转换成<code class="fe pa pb pc pd b">object</code>(key-pair)类型</p><ul class=""><li id="55d0" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated">虽然我和其他软件工程师一样懒惰，但我使用Regex和fs模块将纯文本转换成JavaScript对象</li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="59e0" class="oe kp in pd b gy pi pj l pk pl">// public/output.txt</span><span id="3215" class="oe kp in pd b gy pm pj l pk pl">{<br/>    004:Afghanistan,<br/>    008:Albania,<br/>    010:Antarctica,<br/>    012:Algeria,<br/>}</span></pre></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="9ed9" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">转换数据格式</h2><p id="cdb7" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">因为我想显示给定日期在<strong class="li io">全世界确诊病例的数量，所以我想要这个格式</strong></p><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="bc11" class="oe kp in pd b gy pi pj l pk pl">{<br/> date1 : [ {country-A: # }, {country-B: # } {...} ],<br/> date2 : [ {country-A: # }, {country-B: # } {...} ]<br/>}</span></pre><p id="5a25" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">而不是(原始数据格式)</p><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="2729" class="oe kp in pd b gy pi pj l pk pl">country: [ { date1 : # } , { date2 : # } {...} ]</span></pre><p id="0a92" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">因此，</p><p id="93d0" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">我使用上面使用<code class="fe pa pb pc pd b">fs</code>模块创建的国家名称-国家id对象来转换数据</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><h2 id="ffb5" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated"><strong class="ak"> 1 reformatData对象</strong></h2><ul class=""><li id="e9f3" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated"><strong class="li io">如果在对象中没有找到关键字(日期)，</strong>创建一个空对象，并最初为<code class="fe pa pb pc pd b">C</code>(确诊病例)&amp; <code class="fe pa pb pc pd b">D</code>(死亡)创建关键字-值对</li></ul><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="2475" class="oe kp in pd b gy pi pj l pk pl">if (!reformatData[date]) { // 1              <br/>    reformatData[date] = {};          <br/>  }</span><span id="27be" class="oe kp in pd b gy pm pj l pk pl">reformatData[date][countryName] = { // 1<br/>  'C': country.timeline.cases[date],<br/>  'D': country.timeline.deaths[date]          <br/>}</span></pre><ul class=""><li id="6d9b" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated"><strong class="li io">目不斜视，</strong>传递到<code class="fe pa pb pc pd b">cleanData</code>功能。<code class="fe pa pb pc pd b">cleanData</code>函数聚合键<code class="fe pa pb pc pd b">C</code> &amp; <code class="fe pa pb pc pd b">D</code>的值</li></ul><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="a5b4" class="oe kp in pd b gy pi pj l pk pl">if (country.country === countryName &amp;&amp; prev === country.country) {<br/> <br/>cleanData(countryName, <br/>          country.timeline.cases, country.timeline.deaths, <br/>          reformatData) // 1  <br/>}</span><span id="3e73" class="oe kp in pd b gy pm pj l pk pl"><strong class="pd io">// cleanData function<br/></strong>function cleanData(country, timelineC, timelineD, obj) {</span><span id="e26c" class="oe kp in pd b gy pm pj l pk pl">  for(let date in timelineC) {</span><span id="ebd1" class="oe kp in pd b gy pm pj l pk pl">    let value = obj[date]</span><span id="3f63" class="oe kp in pd b gy pm pj l pk pl">    value[country]['C'] += timelineC[date]</span><span id="a412" class="oe kp in pd b gy pm pj l pk pl">    value[country]['D'] += timelineD[date]</span><span id="bed0" class="oe kp in pd b gy pm pj l pk pl">  }</span><span id="ca92" class="oe kp in pd b gy pm pj l pk pl">};</span></pre></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="c824" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">2:给世界地图着色</h1><p id="5e88" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我想根据确诊病例数在地图上给个颜色。换句话说，确诊病例越多，颜色就变得越深</p><ul class=""><li id="ac28" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated"><code class="fe pa pb pc pd b">d3.scaleLinear()</code>D3 . js中的方法有我想要的</li></ul><h2 id="541b" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">d3 .线性标度</h2><h2 id="cbd8" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">示例1</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="6e46" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">这个简单的代码产生了这个美丽的色谱</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi po"><img src="../Images/9708b8eba13bf1427912d0dd726d9b9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JiIiGL3ibzpZjg0a0709RQ.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">pictures from Observable</figcaption></figure><h2 id="cb49" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">示例2</h2><p id="1d7a" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">您也可以将它与域范围一起使用</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi pp"><img src="../Images/2b2d3ba6bb2bc164fc021311eee955ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6UzPWvpjRNg9W4AAP_BgpA.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">picture from Observable</figcaption></figure><p id="6449" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">同样的，</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><ul class=""><li id="0307" class="ns nt in li b lj my lm mz lp nu lt nv lx nw mb nx ny nz oa bi translated">我给出一个数字范围(0 ~ 15000)和一个颜色范围(黄色<code class="fe pa pb pc pd b">rgb(252,237,69)</code> &amp;红色<code class="fe pa pb pc pd b">rgb(226,21,21)</code></li></ul><blockquote class="mc"><p id="cccd" class="md me in bd mf mg pq pr ps pt pu mb dk translated">有人可能会问:如果数据超过了最大值15，000，会发生什么呢？答案是颜色变成了“<strong class="ak">黑色”。接得好。</strong></p></blockquote></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="0819" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">将颜色“填充”到国家的“更新”功能</h2><p id="15f0" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><code class="fe pa pb pc pd b">update</code>功能使用上面定义的<code class="fe pa pb pc pd b">linearV</code>变量</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="aa22" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">每0.5秒启动一次“更新”功能</h2><p id="b3ac" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><code class="fe pa pb pc pd b">update</code>函数给地图一种颜色，我使用<code class="fe pa pb pc pd b">setInterval</code>函数每0.5秒调用一次<code class="fe pa pb pc pd b">update</code>函数</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><blockquote class="mc"><p id="a7e7" class="md me in bd mf mg pq pr ps pt pu mb dk translated">塔-达！🙌</p><p id="c61d" class="md me in bd mf mg mh mi mj mk ml mb dk translated">最后，地图的颜色不断变化</p></blockquote><figure class="mp mq mr ms mt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/6de3222cbc002a8ec7ccf9870f2b24d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*YE_LKA5d8Gex9vEPK2orEQ.gif"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="d549" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">3:控制地图</h1><p id="5aff" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">就像我上面说的，我想给用户<strong class="li io">遥控器</strong>，这样用户就可以播放、暂停和移动到某个日期</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi pv"><img src="../Images/5c6b89a9b99a45c082a5c2f6fdba4dbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2hZjfbYIVIcqqMI2"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Photo by <a class="ae mm" href="https://unsplash.com/@glenncarstenspeters?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Glenn Carstens-Peters</a> on <a class="ae mm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="mc"><p id="e475" class="md me in bd mf mg pq pr ps pt pu mb dk translated">我认为网络浏览器很酷，很有趣，因为用户可以与组件互动。</p></blockquote><p id="bcec" class="pw-post-body-paragraph lg lh in li b lj pw jo ll lm px jr lo lp py lr ls lt pz lv lw lx qa lz ma mb ig bi translated">用户已经有了这么多遥控器，也就是所谓的事件</p><p id="1dc8" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated"><strong class="li io">点击、Keyup、MouseOut、滚轮、拖动&amp;Drop……这么多事件</strong></p><p id="588d" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">我想给用户提供交互式世界地图信息图的完整体验</p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="5052" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated"><strong class="ak">暂停，启动时间轴</strong></h2><p id="6312" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">用户可以<strong class="li io">暂停</strong> &amp; <strong class="li io">启动</strong>时间轴</p><p id="b469" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">我使用<code class="fe pa pb pc pd b">clearInterval</code>暂停时间线，使用<code class="fe pa pb pc pd b">setInterval</code>恢复时间线</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="18d2" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">重置时间线</h2><p id="77d0" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">用户还可以回到Covid19爆发的第1天</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="c10a" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">在时间线中选择某个日期</h2><blockquote class="mc"><p id="2b66" class="md me in bd mf mg mh mi mj mk ml mb dk translated">网络环境之美！！😍许多事件，许多遥控器</p></blockquote><p id="61eb" class="pw-post-body-paragraph lg lh in li b lj pw jo ll lm px jr lo lp py lr ls lt pz lv lw lx qa lz ma mb ig bi translated">我监听滑块的<code class="fe pa pb pc pd b">input</code>、<code class="fe pa pb pc pd b">mouseup</code>、<code class="fe pa pb pc pd b">click</code>事件，我将最后一个索引作为<strong class="li io">结束日期</strong></p><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="c733" class="oe kp in pd b gy pi pj l pk pl">slider.setAttribute('max', dateArr.length-1);</span></pre><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><blockquote class="mc"><p id="901c" class="md me in bd mf mg pq pr ps pt pu mb dk translated">塔-达！🙌</p><p id="b910" class="md me in bd mf mg mh mi mj mk ml mb dk translated">你可以控制时间线</p><p id="5470" class="md me in bd mf mg mh mi mj mk ml mb dk translated">使用2个按钮和1个滑块</p></blockquote><figure class="mp mq mr ms mt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/ffec9b15de1b4d860210b539c93edb51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*fgS7XVv8UkT91upqExs8dw.gif"/></div></figure></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="a6dc" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">4:在全国上空盘旋</h1><p id="2018" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">最后但同样重要的是，当鼠标悬停在世界地图上时，我会给出一个国家地图工具提示</p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="d3d4" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">最初声明工具提示</h2><p id="4ad1" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我最初在世界地图上全局声明tooltip，并通过给出一个类名<code class="fe pa pb pc pd b">hidden</code>来隐藏它</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="a33c" class="oe kp in pd b gy pi pj l pk pl">// css<br/>.hidden {<br/> display: none;</span><span id="dd85" class="oe kp in pd b gy pm pj l pk pl">}</span></pre></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h2 id="0a26" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">d3 .鼠标悬停事件的鼠标事件</h2><ul class=""><li id="df82" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated">当<code class="fe pa pb pc pd b">mouseover</code>事件发生时，换句话说，当鼠标悬停在某个国家时，我计算鼠标的位置<code class="fe pa pb pc pd b">mouse</code>并删除类<code class="fe pa pb pc pd b">hidden</code></li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><h2 id="5d29" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">1画出所选国家的轮廓</h2><ul class=""><li id="9c36" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated">将光标改为指针，并给所选国家的<code class="fe pa pb pc pd b">black</code>添加一种笔画颜色</li></ul><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="642d" class="oe kp in pd b gy pi pj l pk pl">d3.select(this).style("cursor", "pointer")</span><span id="e689" class="oe kp in pd b gy pm pj l pk pl">   .style("stroke", "black");</span></pre><h2 id="433f" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">2制作工具提示</h2><ul class=""><li id="ecc5" class="ns nt in li b lj lk lm ln lp oq lt or lx os mb nx ny nz oa bi translated">工具提示显示<strong class="li io">国家名称</strong>在</li></ul><p id="726d" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated"><code class="fe pa pb pc pd b">currentMousePosition X</code> + 20 &amp; <code class="fe pa pb pc pd b">currentMousePosition Y</code> + 30，哪一点点<code class="fe pa pb pc pd b">down right</code></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi qb"><img src="../Images/a0f60b29c0c8e47e68356a1272308e66.png" data-original-src="https://miro.medium.com/v2/resize:fit:276/format:webp/1*WP0oxMsZQ1eHYfaJ3qX61A.png"/></div></figure><pre class="kd ke kf kg gt pe pd pf pg aw ph bi"><span id="fc7e" class="oe kp in pd b gy pi pj l pk pl">tooltip.classed('hidden', null)  <br/>       .attr('transform', <br/>             `translate(${(mouse[0]+20)}, ${(mouse[1]+30)})`)<br/>      .attr('fill', 'black')<br/>      .attr('fill-stoke', 5)<br/>      .attr('font-size', '25px')<br/>      .html(`${country}`);</span></pre></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="43d7" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">最终产品</h1><h2 id="cf8d" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated">全交互式世界地图信息图</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi kc"><img src="../Images/eb3e385e80dbf938a5b1623abfc17ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*s4qdAPTnD8gP442HsDbbqg.gif"/></div></div></figure><p id="4522" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated"><a class="ae mm" href="https://s3.amazonaws.com/covid20.today/index.html" rel="noopener ugc nofollow" target="_blank">网址</a></p><p id="8513" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">LinkedIn帖子</p><p id="5b19" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated"><a class="ae mm" href="https://github.com/stacello19/Covid19-D3" rel="noopener ugc nofollow" target="_blank"> Github </a></p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><h1 id="b048" class="ko kp in bd kq kr nm kt ku kv nn kx ky jt no ju la jw np jx lc jz nq ka le lf bi translated">结论</h1><p id="a95e" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">从2019年11月开始，我在4个月内争分夺秒地找工作，直到病毒蔓延。许多采访已经消失，沉默已经到来。作为一名求职者，这是一段不幸的时期，但作为一名软件工程师，我非常享受这段时期。我重新开始学习D3.js，并制作了<strong class="li io"> Global Covid19 Timeline </strong>，这赢得了许多好评、喜欢和用户流量。</p><p id="9b26" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">希望病毒很快结束，这样世界就可以回归正常&amp;希望很快有机会在纽约和许多有才华的软件工程师一起工作🏢 👊 🙏</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="f549" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">最后但同样重要的是，我真的很感谢医生、护士、志愿者和所有与病毒作斗争并无私为社区服务的人</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi qc"><img src="../Images/34955cfe0402abbdde092f7455e62d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8y1D5Vb43os-iaFU"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Photo by <a class="ae mm" href="https://unsplash.com/@wilhelmgunkel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Wilhelm Gunkel</a> on <a class="ae mm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="76ab" class="oe kp in bd kq of og dn ku oh oi dp ky lp oj ok la lt ol om lc lx on oo le op bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="dbb2" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我们推出了三种新的出版物！通过以下方式表达对我们新出版物的热爱:<a class="ae mm" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="li io"/></a><a class="ae mm" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="li io">【UX】</strong></a><a class="ae mm" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="li io">【Python】</strong></a><strong class="li io"/>——谢谢您，继续学习！</p><p id="61c3" class="pw-post-body-paragraph lg lh in li b lj my jo ll lm mz jr lo lp na lr ls lt nb lv lw lx nc lz ma mb ig bi translated">我们也一直对帮助推广高质量内容感兴趣。如果您有文章想提交给我们的任何出版物，请用您的中用户名在<a class="ae mm" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="li io">submissions @ plain English . io</strong></a><strong class="li io"/>发邮件给我们，我们会将您添加为作者。另外，请告诉我们您想添加到哪个出版物中。</p></div></div>    
</body>
</html>