<html>
<head>
<title>How to Intercept the HTTP Requests in Angular (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中拦截HTTP请求(第1部分)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-intercept-the-http-requests-in-angular-2a67df423020?source=collection_archive---------3-----------------------#2020-01-14">https://javascript.plainenglish.io/how-to-intercept-the-http-requests-in-angular-2a67df423020?source=collection_archive---------3-----------------------#2020-01-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0dfc858a03d5e16860e1f655f90f384f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PEIeGIaKBS6nrNfULdCylw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@dnevozhai?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Denys Nevozhai</a> on <a class="ae kc" href="https://unsplash.com/s/photos/interchange?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="75b6" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">内容</strong></h1><p id="6b5b" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">本文由第一部分和第二部分两部分组成。</p><p id="c1a7" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">第1部分-简介，角拦截器的一些优点。</p><p id="224e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">第2部分——实现拦截器的实用说明。</p><h1 id="8e3b" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">简介</strong></h1><p id="bdc1" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">从Angular 4.3开始，一个新的特性就出现了，它可以全局地修改所有传出的http请求和传入的响应。换句话说，我们可以预处理所有的http请求和响应。有了这个新特性，Angular开发人员可以减少不必要的工作，用更少的精力和更少的代码来完成任务。</p><p id="87d3" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在进入编码和实现部分之前，让我列出http拦截器可以做什么，这样您就可以很好地了解我们为什么需要拦截器以及哪里需要拦截器。</p><p id="c069" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">通过HttpInterceptor接口，</p><h2 id="b83d" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated"><strong class="ak"> 1。您可以添加新的头和修改http请求的现有头。</strong></h2><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="274e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><a class="ae kc" href="https://stackoverflow.com/questions/48683476/how-to-add-multiple-headers-in-angular-5-httpinterceptor" rel="noopener ugc nofollow" target="_blank">了解更多信息</a></p><h2 id="7796" class="me ke iq bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated">2.对于某些http错误，我们可以多次重试请求。</h2><p id="f9f0" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">网络错误是常见的，我们可以多次重试请求以获得成功。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="d8da" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><a class="ae kc" href="https://stackoverflow.com/questions/51905963/retry-http-requests-in-angular-6\" rel="noopener ugc nofollow" target="_blank">了解更多..</a></p><p id="0722" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld ir"> 3。我们可以创建一个假的后端并模拟响应。</strong></p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="4e4e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><a class="ae kc" href="https://blog.bitsrc.io/how-to-mock-a-backend-in-angular-using-httpinterceptor-667794d45e8d" rel="noopener ugc nofollow" target="_blank">了解更多信息..</a></p><p id="501e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld ir"> 4。我们可以缓存响应。</strong></p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="8f96" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><a class="ae kc" href="https://medium.com/@vikeshm/data-caching-angular-http-interceptor-2d87f95e2340" rel="noopener">了解更多信息..</a></p><p id="1f3a" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld ir"> 5。可以进行响应的转换。</strong></p><p id="c8a5" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">当API以我们不喜欢的格式发送数据时，我们可以在这里将其转换为我们喜欢的格式。(例如:XML &gt;&gt;&gt;&gt; Json)</p><p id="a4e2" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">6。获取数据时可以显示加载程序。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="ad33" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">7。我们可以操纵和改变网址</p><p id="a087" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">比方说，我们想改变<em class="mw">。com的</em>部分URL转换成<em class="mw">。lk </em>由于某种原因。这里也可以。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="6533" class="kd ke iq bd kf kg ne ki kj kk nf km kn ko ng kq kr ks nh ku kv kw ni ky kz la bi translated">结论</h1><p id="ee30" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">拦截器在Angular中是一个很好的工具，在这里你可以用更少的努力做更好的事情，而不需要复制你的代码并创建一个惊人的应用程序。一切都取决于你的创造力。</p><p id="db66" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">让我们实现一个拦截器类，并用它做一些小把戏。阅读本文的下一部分:</p><p id="6ffd" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><a class="ae kc" href="https://medium.com/javascript-in-plain-english/how-to-intercept-the-http-requests-in-angular-part-2-a5aface03744" rel="noopener">如何在Angular中拦截HTTP请求(第二部分)</a></p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="0786" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">享受这一天！！！</p></div></div>    
</body>
</html>