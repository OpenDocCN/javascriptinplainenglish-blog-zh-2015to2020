<html>
<head>
<title>Solutions to Common JavaScript Date Formatting Tasks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">常见JavaScript日期格式任务的解决方案</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/solutions-to-common-javascript-date-formatting-tasks-8a77f0a8f3c6?source=collection_archive---------12-----------------------#2020-05-17">https://javascript.plainenglish.io/solutions-to-common-javascript-date-formatting-tasks-8a77f0a8f3c6?source=collection_archive---------12-----------------------#2020-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/144e991b8ca03541b0aa7eec6b28d612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZbMu-02MiW4vpe94"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Priscilla Du Preez</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5d63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在JavaScript中，<code class="fe lb lc ld le b">Date</code>构造函数为我们提供了一些日期和时间操作功能。然而，许多操作不能只用一个方法调用来完成。</p><p id="23da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究一些解决我们中许多人都会遇到的常见日期处理问题的方法。</p><h1 id="223d" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">用JavaScript格式化本地日期</h1><p id="407f" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">在JavaScript中有很多格式化日期的方法。JavaScript <code class="fe lb lc ld le b">Date</code>实例有许多内置方法，可以按照我们的意愿将日期格式化为字符串。</p><p id="516a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下<code class="fe lb lc ld le b">Date</code>对象:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="07c3" class="mq lg iq le b gy mr ms l mt mu">const date = new Date(2019, 0, 1);</span></pre><p id="6152" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以调用下面的方法来按照我们希望的方式格式化日期。</p><p id="95fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样称呼<code class="fe lb lc ld le b">toString</code>方法:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="ea77" class="mq lg iq le b gy mr ms l mt mu">date.toString()</span></pre><p id="3b19" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到的是“2019年1月1日星期二00:00:00 GMT-0800(太平洋标准时间)”</p><p id="81f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">toTimeString</code>同，我们称之为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="ee42" class="mq lg iq le b gy mr ms l mt mu">date.toTimeString()</span></pre><p id="18ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的时间是“00:00:00 GMT-0800(太平洋标准时间)”</p><p id="992e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">toUTCString</code>法，我们称之为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="2dd8" class="mq lg iq le b gy mr ms l mt mu">date.toUTCString())</span></pre><p id="0e3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到的是“2019年1月1日星期二，08:00:00 GMT”。</p><p id="2ce5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有<code class="fe lb lc ld le b">toDateString</code>法:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="8bdf" class="mq lg iq le b gy mr ms l mt mu">date.toDateString()</span></pre><p id="3fed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到的是“2019年1月1日星期二”。</p><p id="de72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用<code class="fe lb lc ld le b">toISOString</code>法:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="b644" class="mq lg iq le b gy mr ms l mt mu">date.toISOString()</span></pre><p id="24c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到“2019-01-01t 08:00:00.000 z”</p><p id="c709" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">toLocaleString</code>为我们提供了一个带有AM和PM指示器的日期和时间的日期字符串，我们称之为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="66e5" class="mq lg iq le b gy mr ms l mt mu">date.toLocaleString()</span></pre><p id="2232" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到的是“2019年1月1日，12:00:00 AM”。</p><p id="f870" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">toLocaleTimeString</code>方法从日期对象中获取时间，我们称之为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="89cb" class="mq lg iq le b gy mr ms l mt mu">date.toLocaleTimeString()</span></pre><p id="bd92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到的是“12:00:00 AM”。</p><p id="0ecd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getDate</code>方法得到的是月日，从1到31为月日。</p><p id="131a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="4e1a" class="mq lg iq le b gy mr ms l mt mu">date.getDate()</span></pre><p id="15f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到1。</p><p id="4a0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getDay</code>方法得到一周中的某一天，0是星期天，6是星期六。</p><p id="cf0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="98ab" class="mq lg iq le b gy mr ms l mt mu">date.getDay()</span></pre><p id="2029" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到2，这是星期二。</p><p id="4b1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getFullYear</code>方法得到整年的数字。例如，我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="f7f8" class="mq lg iq le b gy mr ms l mt mu">date.getFullYear()</span></pre><p id="63a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">得到2019年。</p><p id="2fea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getMonth</code>获取<code class="fe lb lc ld le b">Date</code>实例的月份，1月从0开始，12月从11开始。</p><p id="1955" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="fb39" class="mq lg iq le b gy mr ms l mt mu">date.getMonth()</span></pre><p id="2e4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一月份得到0。</p><p id="38e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getHours</code>方法从<code class="fe lb lc ld le b">Date</code>实例返回日期的小时，我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a95a" class="mq lg iq le b gy mr ms l mt mu">date.getHours()</span></pre><p id="80cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取0，因为它是0小时，这是默认的小时。</p><p id="45f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们有<code class="fe lb lc ld le b">getMinutes()</code>和<code class="fe lb lc ld le b">getSeconds()</code>方法，分别是分和秒，得到分和秒。</p><p id="608c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样称呼他们:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="e63a" class="mq lg iq le b gy mr ms l mt mu">date.getMinutes()<br/>date.getSeconds()</span></pre><p id="7182" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">分别得到0。</p><p id="a1a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getMilliseconds</code>获取在<code class="fe lb lc ld le b">Date</code>实例中设置的毫秒数，它相对于一天的开始。</p><p id="5bf8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们这样称呼它时:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="3a92" class="mq lg iq le b gy mr ms l mt mu">date.getMilliseconds()</span></pre><p id="75b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到0，因为它是默认值。</p><p id="b169" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getTime</code>方法获取自1970年1月1日00:00:00 UTC以来经过的毫秒数。</p><p id="2408" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们这样称呼它时:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c35c" class="mq lg iq le b gy mr ms l mt mu">date.getTime()</span></pre><p id="6d7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到1546329600000。</p><p id="b09f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getTimezoneOffset</code>方法以分钟为单位获取相对于UTC的时区差异。</p><p id="6621" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们在太平洋时区，我们打电话给<code class="fe lb lc ld le b">date.getTimezoneOffset()</code>会得到480分钟，因为它比UTC晚8个小时。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/33156ac9a276f341e90c77d2755f4a24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_qPMCQLlaKTviX2p"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@luiscortestamez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luis Cortes</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="b2ad" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">用JavaScript格式化UTC日期</h1><p id="8a59" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">上述方法都依赖于当地时间，JavaScript的<code class="fe lb lc ld le b">Date</code>构造函数也有返回UTC值而不是当地时区值的方法。</p><p id="f933" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有下面的<code class="fe lb lc ld le b">date</code>对象:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="d085" class="mq lg iq le b gy mr ms l mt mu">const date = new Date(2019, 0, 1);</span></pre><p id="d388" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以调用下面的UTC方法。</p><p id="fd0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getUTCDate</code>方法从<code class="fe lb lc ld le b">Date</code>实例返回一个月的日期。我们可以这样称呼它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="aee0" class="mq lg iq le b gy mr ms l mt mu">date.getUTCDate()</span></pre><p id="9df6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为日期被设置为1。</p><p id="53fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getUTCDay</code>以UTC返回一周中的某一天，范围从0表示星期日到6表示星期六。</p><p id="7060" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们调用<code class="fe lb lc ld le b">date.getUTCDay()</code>，我们得到星期二的2。</p><p id="0da9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getUTCFullYear</code>方法返回给定<code class="fe lb lc ld le b">Date</code>对象的完整年份。</p><p id="708a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们打电话:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="05e1" class="mq lg iq le b gy mr ms l mt mu">date.getUTCFullYear()</span></pre><p id="a6ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到2019年。</p><p id="16f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getUTCMonth</code>返回<code class="fe lb lc ld le b">Date</code>对象的月份，范围从0表示一月到11表示十二月。</p><p id="50e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们打电话:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="543a" class="mq lg iq le b gy mr ms l mt mu">date.<!-- -->getUTCMonth()<!-- --> </span></pre><p id="8066" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一月份我们得到0。</p><p id="6861" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getUTCHours</code>获取一天中相对于当地时间的UTC时间。因此，如果我们从太平洋时区的设备中调用它，如下所示:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="d0b1" class="mq lg iq le b gy mr ms l mt mu">date.getUTCHours()</span></pre><p id="4ab7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到它返回8，因为太平洋时间的0小时是UTC的上午8点。</p><p id="714d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">getUTCMinutes</code>、<code class="fe lb lc ld le b">getUTCSeconds</code>、<code class="fe lb lc ld le b">getUTCMilliseconds</code>返回在<code class="fe lb lc ld le b">Date</code>对象中设置的分、秒和毫秒。如果我们这样称呼它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="aca7" class="mq lg iq le b gy mr ms l mt mu">date.getUTCMinutes()<br/>date.getUTCSeconds()<br/>date.getUTCMilliseconds())</span></pre><p id="754c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们每个人得0分。</p><h1 id="00d1" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="4c4d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">有许多<code class="fe lb lc ld le b">Date</code>实例方法可以通过内置的日期方法获得日期的各个部分。在考虑使用图书馆之前，我们应该利用它们。</p><h1 id="9da7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">简明英语笔记</strong></h1><p id="e152" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">您知道我们已经推出了一个YouTube频道吗？我们制作的每段视频都旨在教会您一些新东西。通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">点击这里</strong> </a>查看我们，一定要订阅这个频道😎</p></div></div>    
</body>
</html>