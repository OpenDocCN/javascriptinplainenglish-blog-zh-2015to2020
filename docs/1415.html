<html>
<head>
<title>Import local packages in React Native using NPM Link and Haul</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NPM链接和运输在React Native中导入本地包</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/import-local-packages-in-react-native-using-npm-link-and-haul-d6b2fae313a3?source=collection_archive---------4-----------------------#2020-03-13">https://javascript.plainenglish.io/import-local-packages-in-react-native-using-npm-link-and-haul-d6b2fae313a3?source=collection_archive---------4-----------------------#2020-03-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4e1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在React Native with NPM链接中使用本地包并不像它应该的那样简单。拖运会起作用的。</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/f70c3862983e32c3744c0313551a4d2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TFUFuYSR3Yu2xQcA.png"/></div></div></figure></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><p id="075e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我正在建立一个新的React原生项目，并想使用一些NPM仓库中没有的本地包。我以为NPM·林克会在几分钟内使这成为可能，但我错了。显然，React本机打包程序不支持符号链接，这意味着您的本地包在运行时将是未知的。<br/> Haul取代React原生打包程序来捆绑你的应用并修复我的问题。</p><div class="lf lg gp gr lh li"><a href="https://github.com/callstack/haul" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd ir gy z fp ln fr fs lo fu fw ip bi translated">调用堆栈/运输</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">用于开发React Native apps Haul的命令行工具是基于open……</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">github.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw ld li"/></div></div></a></div></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="fbd1" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">设置</h1><p id="6086" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated">我创建了一个“custompackage ”,它包含一个返回“包含包”的函数。这个设置的唯一目标是在React本机应用程序中显示这个字符串。通过完成这一步，包链接将会成功。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi na"><img src="../Images/e1e3e76d1c26987e8316d57baa637049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7BwFshUX224rCxRHvr61vQ.png"/></div></div></figure><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nb"><img src="../Images/e4f79effccdae03faa5fe352a3881c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IbU3JWDXCUrWbbsMC-CLnQ.png"/></div></div></figure><p id="714d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我还初始化了一个React原生应用。</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="6c77" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">把我们的包裹连在一起，不要拖拉</h1><p id="fd58" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated">在我们的“custompackage”项目中执行“npm link”。这将为我们的项目创建一个符号链接:</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nc"><img src="../Images/d134d3358499f38ebb352005d62fa33c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hLe3xqqpMjljE0M-ePjzfw.png"/></div></div></figure><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nd"><img src="../Images/15309894bb71b5c28463b7933a33ba87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y-TYsSDDa72ok_wNSH1pBA.png"/></div></div></figure><p id="1f9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在在React本地项目中执行“npm link custompackage”。完成后，我们将在node_modules中看到我们的包，如下所示:</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi ne"><img src="../Images/86124e538867bfcb89a0bd4c21c7fb9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*e9yXfvesJNrIf_e38FHslA.png"/></div></div></figure><p id="38f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当用Visual Studio代码编写我们的代码时，编辑器会识别我们的包。所以一切看起来都很好，不是吗？</p><div class="ku kv kw kx gt ab cb"><figure class="nf ky ng nh ni nj nk paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><img src="../Images/e1cbcf4bec41ff5fa0f2c0aca678c499.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*Mn0FhZc2285oRHYVJwJ08w.png"/></div></figure><figure class="nf ky nl nh ni nj nk paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><img src="../Images/5a22b5c1116992b592ab19a9a6133a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/1*heijsFQvwCyxEWLkysKuVQ.png"/></div></figure><figure class="nf ky nm nh ni nj nk paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><img src="../Images/f96623743fc1d81cf9343028d666d0e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*ZOto6tVYJgDoELxgf2UwjQ.png"/></div></figure></div><p id="f0a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么，让我们运行这个应用程序。在这一点上，我们将期待一个简单的视图，其中包含“包”印在上面。</p><pre class="ku kv kw kx gt nn no np nq aw nr bi"><span id="5c2f" class="ns ly iq no b gy nt nu l nv nw">react-native run-android</span></pre><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/d4edde0937f435fe4c59798c8f5b59ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*6w1qh6cgGKHlr0Vh7WLF4g.png"/></div></figure><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="oa ob gj gh gi oc od bd b be z dk">Exactly my face 24 hours ago</figcaption></figure><p id="8415" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以让我们试着解决这个问题！</p></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="0746" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">链接我们的包裹并使用拖运</h1><p id="1693" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated"><em class="kl">查看文档:</em></p><div class="lf lg gp gr lh li"><a href="https://github.com/callstack/haul" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd ir gy z fp ln fr fs lo fu fw ip bi translated">调用堆栈/运输</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">用于开发React Native apps Haul的命令行工具是基于open……</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">github.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw ld li"/></div></div></a></div><p id="0a4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们将Haul作为一个依赖项添加到React本地项目中，并对其进行配置:</p><pre class="ku kv kw kx gt nn no np nq aw nr bi"><span id="2763" class="ns ly iq no b gy nt nu l nv nw">npm install --save-dev @haul-bundler/cli</span><span id="c13f" class="ns ly iq no b gy oe nu l nv nw">npx haul init</span></pre><p id="2849" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">链接我们的定制套餐:</p><pre class="ku kv kw kx gt nn no np nq aw nr bi"><span id="446f" class="ns ly iq no b gy nt nu l nv nw">npm link custompackage</span></pre><p id="1bee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行运输:</p><pre class="ku kv kw kx gt nn no np nq aw nr bi"><span id="9a0d" class="ns ly iq no b gy nt nu l nv nw">npx haul start</span></pre><p id="dc9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开另一个终端并运行React本地应用程序:</p><pre class="ku kv kw kx gt nn no np nq aw nr bi"><span id="dff0" class="ns ly iq no b gy nt nu l nv nw">react-native run-android</span></pre><p id="291b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果应该是这样的:</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi of"><img src="../Images/f345c453fcc84221c4aa8878f6925658.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*U25BqG2BdUylhAploh16iA.png"/></div></figure><h1 id="ed52" class="lx ly iq bd lz ma og mc md me oh mg mh mi oi mk ml mm oj mo mp mq ok ms mt mu bi translated">就是这样！</h1><figure class="ku kv kw kx gt ky"><div class="bz fp l di"><div class="ny nz l"/></div></figure></div><div class="ab cl km kn hu ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="ij ik il im in"><h1 id="31d1" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">限制..热重装:-(</h1><p id="e5ed" class="pw-post-body-paragraph jn jo iq jp b jq mv js jt ju mw jw jx jy mx ka kb kc my ke kf kg mz ki kj kk ij bi translated">遗憾的是，Haul似乎不支持热重装。真遗憾..但只要按两次“R ”,你就可以轻松地在Android模拟器中重新加载你的应用..编码快乐！</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi ol"><img src="../Images/4de48a6815d9ece96471562702fdae36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y2q73M3sBQfKvRPQW-YPrg.png"/></div></div></figure></div></div>    
</body>
</html>