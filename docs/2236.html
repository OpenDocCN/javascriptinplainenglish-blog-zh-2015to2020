<html>
<head>
<title>FizzBuzz using . reduce in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用FizzBuzz。减少JavaScript中的错误</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/fizzbuzz-using-reduce-in-javascript-quick-and-readable-but-is-it-fast-690cf5fa83a7?source=collection_archive---------4-----------------------#2020-06-02">https://javascript.plainenglish.io/fizzbuzz-using-reduce-in-javascript-quick-and-readable-but-is-it-fast-690cf5fa83a7?source=collection_archive---------4-----------------------#2020-06-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="4d8e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">快速易读，但速度快吗？</h2></div><p id="e586" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">网上有无数关于Fizz Buzz的解决方案，有些超级聪明，有些很难读懂，有些很快，有些很慢(看看你的“for loop”；)但在我看来，就工作负载与性能的对比而言，使用reduce或map是最有效的(据我所知，性能最好的是将迭代次数减少到28次)。</p><p id="7fb4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么为什么要缩小地图呢？</p><p id="548e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">理论上，答案很简单——当您将空字符串作为第二个参数<em class="ky">传递时，减少聚合值中的返回字符串。reduce(回调，initial value)</em><em class="ky">映射</em>返回处理过的数组行，所以你需要在最后连接得到一个字符串。</p><p id="16d3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是浏览器中的测试已经产生了有趣的结果——基于铬的浏览器非常支持reduce，而map慢了60-70%:<br/><em class="ky">(在铬81、83、85中尝试——结果在误差范围内)</em></p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/3d56c9227aaea91ea220205dc9c646e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ClmheGIVY6NLCq7CtKgB9Q.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">JSPerf Chrome 83</figcaption></figure><p id="b353" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在火狐中，我们看到两者之间的差别很小，但是仍然支持减少，map要慢25-30%</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi lp"><img src="../Images/6f244274542a86c6622b5a4d14df8404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ve5S45pzvldAasug_Szg3g.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">JSPerf Firefox 76</figcaption></figure><p id="2755" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有趣的是，在Safari中，速度降低了10%-15%。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi lq"><img src="../Images/33e0d64b44335916fe87dedc34901091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TmsJoYPFmbf2TTrp0YZfDQ.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">JSPerf Safari 13.1</figcaption></figure><p id="6b04" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> <em class="ky">你可以在这里自己试试:</em></strong><br/><a class="ae lr" href="https://jsperf.com/fizzbuzzmapvsreduce" rel="noopener ugc nofollow" target="_blank">https://jsperf.com/fizzbuzzmapvsreduce</a></p><p id="dc55" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以我检查了自毁装置是否是罪魁祸首——事实并非如此。<br/>还尝试了不同的基准站点(jsbench.me)，结果相似(百分比):</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/801b8c6a9d4247a0cce69900a741de35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*EFk7hBbQN_BwaBEJAy6SUA.png"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Safari Test</figcaption></figure><h2 id="895c" class="lt lu in bd lv lw lx dn ly lz ma dp mb kl mc md me kp mf mg mh kt mi mj mk ml bi translated">只是为了查看手机…</h2><p id="6427" class="pw-post-body-paragraph kc kd in ke b kf mm jo kh ki mn jr kk kl mo kn ko kp mp kr ks kt mq kv kw kx ig bi translated">所以在移动Safari上，结果是相似的……</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mr"><img src="../Images/05301682e71eb732c09a7e968ba81e0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wfeR2hW6PpMTZ1CO_bPWLg.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">iPhone 11 Simulator</figcaption></figure><p id="d891" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Android上的Chrome(物理设备，三星Galaxy S9+)，略有不同，但趋势依然存在。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi ms"><img src="../Images/79e90790147e699e07a3eb93d0d7d371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_CsjqiityCQ0OREueEp_Yg.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Chrome on Samsung Galaxy S9+</figcaption></figure><h1 id="6977" class="mt lu in bd lv mu mv mw ly mx my mz mb jt na ju me jw nb jx mh jz nc ka mk nd bi translated">减少:</h1><figure class="la lb lc ld gt le"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Reduce FizzBuzz</figcaption></figure><h1 id="22be" class="mt lu in bd lv mu mv mw ly mx my mz mb jt na ju me jw nb jx mh jz nc ka mk nd bi translated">地图:</h1><figure class="la lb lc ld gt le"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Map FizzBuzz</figcaption></figure><p id="026c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">精简版代码沙箱游乐场:</strong></p><figure class="la lb lc ld gt le"><div class="bz fp l di"><div class="ng nf l"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">CodeSandbox for you to play with.</figcaption></figure></div></div>    
</body>
</html>