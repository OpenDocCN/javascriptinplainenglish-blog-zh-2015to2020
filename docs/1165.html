<html>
<head>
<title>JavaScript Algorithm: Viral Advertising</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:病毒式广告</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-algorithm-viral-advertising-168a872cb557?source=collection_archive---------4-----------------------#2020-02-06">https://javascript.plainenglish.io/javascript-algorithm-viral-advertising-168a872cb557?source=collection_archive---------4-----------------------#2020-02-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a6a8709e452685ad4d627625cdf67be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*svPMO_hU2UkBQe9gk0yTWQ.png"/></div></div></figure><p id="77bc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于今天的算法，我们将编写一个名为<code class="fe kw kx ky kz b">viralAdvertising</code>的函数，它将接受一个整数<code class="fe kw kx ky kz b">n</code>作为输入。</p><p id="d960" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">想象你正在采用一种新的病毒式广告策略。你推出一款新产品，第一天你就在社交媒体上与5个人分享。一半的人喜欢这个广告，每个喜欢这个广告的人都和他们的三个朋友分享这个广告。随着广告接触到更多的人，喜欢的数量每天都在增加。这个函数的目标是输出在<code class="fe kw kx ky kz b">n</code>天后有多少人喜欢这个广告。让我们做一个例子，统计一下这个广告在4天后有多少人喜欢。</p><p id="79bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们知道，在第一天，广告与5个人分享。</p><p id="7d92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一天:</p><ul class=""><li id="4e0c" class="la lb iq ka b kb kc kf kg kj lc kn ld kr le kv lf lg lh li bi translated">股份- 5</li><li id="9844" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">喜欢- 2</li><li id="06f2" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">累计喜欢数- 2</li></ul><p id="7b25" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一半的人喜欢这个广告，所以如果我们把答案向下取整，<code class="fe kw kx ky kz b">5 / 2</code>就是2。第一天，到目前为止我们已经有2个累计赞了。</p><p id="8d82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第二天:</p><ul class=""><li id="4d38" class="la lb iq ka b kb kc kf kg kj lc kn ld kr le kv lf lg lh li bi translated">股份- 6</li><li id="2774" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">喜欢- 3</li><li id="660a" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">累计喜欢数- 5</li></ul><p id="f07a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第二天，前一天喜欢这个广告的两个人和他们的三个朋友<code class="fe kw kx ky kz b">2 * 3 = 6</code>分享了这个广告，所以在第二天这个广告增长到了6个分享。这6个人中有一半喜欢广告<code class="fe kw kx ky kz b">6 / 2 = 3</code>，给我们留下了3个喜欢。我们目前有2个累计喜欢，所以我们添加了第1天和第2天的喜欢，并更新了累计喜欢的数量。<code class="fe kw kx ky kz b">cumulative likes = cumulative likes from current day + cumulative likes from previous day</code>。这种模式一直持续到第<code class="fe kw kx ky kz b">n</code>天。</p><p id="705c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第三天:</p><ul class=""><li id="d331" class="la lb iq ka b kb kc kf kg kj lc kn ld kr le kv lf lg lh li bi translated">股份- 9</li><li id="3743" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">喜欢- 4</li><li id="d4b8" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">累计喜欢数- 9</li></ul><p id="8a2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第4天</p><ul class=""><li id="62d1" class="la lb iq ka b kb kc kf kg kj lc kn ld kr le kv lf lg lh li bi translated">股份- 12</li><li id="4f00" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">喜欢- 6</li><li id="0995" class="la lb iq ka b kb lj kf lk kj ll kn lm kr ln kv lf lg lh li bi translated">累计喜欢数- 15</li></ul><p id="7c90" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在四天内，广告累计15个喜欢，所以该功能将输出15。</p><p id="82bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们把这变成代码。</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="2715" class="lw lx iq kz b gy ly lz l ma mb">let shared = 5;<br/>let cumulative = 0;<br/>let liked = 0;</span></pre><p id="b482" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们的<code class="fe kw kx ky kz b">shared</code>变量从第一天分享广告的人数开始，即5人。</p><p id="7cb9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">cumulative</code>变量将携带广告在<code class="fe kw kx ky kz b">n</code>天内收到的赞数。我们从0开始。该函数将输出此变量。</p><p id="e20a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe kw kx ky kz b">liked</code>变量将携带每天的点赞数。我们从0开始。</p><p id="a228" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们使用for循环来遍历天数:</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="f5fe" class="lw lx iq kz b gy ly lz l ma mb">for (let i = 1; i &lt;= n; i++){<br/>    liked = Math.floor(shared/2);<br/>    cumulative += liked;<br/>    shared = liked * 3;<br/>}</span></pre><p id="aff0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">查看每条陈述，我们知道在第一天，我们与5个人分享了我们的广告。与你分享广告的人中有一半喜欢这个广告。我们使用<code class="fe kw kx ky kz b">Math.floor()</code>向下舍入。</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="1bed" class="lw lx iq kz b gy ly lz l ma mb">liked = Math.floor(shared/2);</span></pre><p id="cc32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的累积变量中，我们使用加法运算符来增加我们每天累积的点赞数。</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="a3cb" class="lw lx iq kz b gy ly lz l ma mb">cumulative += liked;</span></pre><p id="ff21" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每个喜欢这个广告的人，分享给他们的三个朋友。这将是我们第二天开始的股票数量。</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="705f" class="lw lx iq kz b gy ly lz l ma mb">shared = liked * 3;</span></pre><p id="b365" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦循环完成，我们返回<code class="fe kw kx ky kz b">cumulative</code>变量，它将给出我们在<code class="fe kw kx ky kz b">n</code>天内收到的赞数。</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="f7b6" class="lw lx iq kz b gy ly lz l ma mb">return cumulative;</span></pre><p id="ceaa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是剩余的代码，</p><pre class="lo lp lq lr gt ls kz lt lu aw lv bi"><span id="f0ca" class="lw lx iq kz b gy ly lz l ma mb">function viralAdvertising(n) {<br/>  let shared = 5;<br/>  let cumulative = 0;<br/>  let liked = 0;<br/>  <br/>  for (let i = 1; i &lt;= n; i++){<br/>    liked = Math.floor(shared/2);<br/>    cumulative += liked;<br/>    shared = liked * 3;<br/>  }<br/>  <br/>  return cumulative;<br/>}</span></pre></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="e055" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您觉得这个算法有帮助或有用，请查看我的其他JavaScript算法解决方案文章:</p><div class="mj mk gp gr ml mm"><a href="https://levelup.gitconnected.com/javascript-algorithm-time-conversion-71dc15dd13b8" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">JavaScript算法:时间转换</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">对于今天的算法，我们将创建一个名为timeConversion的函数。这个函数将接受一个字符串作为…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na jw mm"/></div></div></a></div><div class="mj mk gp gr ml mm"><a href="https://medium.com/javascript-in-plain-english/javascript-algorithm-migratory-birds-848ad6a99ac3" rel="noopener follow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">JavaScript算法:候鸟</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">对于今天的算法，我们将编写一个名为migratoryBirds的函数，在这个函数中，我们将接受一个…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">medium.com</p></div></div><div class="mv l"><div class="nb l mx my mz mv na jw mm"/></div></div></a></div><div class="mj mk gp gr ml mm"><a href="https://medium.com/javascript-in-plain-english/javascript-algorithm-electronics-shop-240a4fcb0e85" rel="noopener follow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd ir gy z fp mr fr fs ms fu fw ip bi translated">JavaScript算法:电子商店</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">对于今天的算法，我们将编写一个名为getMoneySpent的函数，它将接受三个输入:两个数组…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">medium.com</p></div></div><div class="mv l"><div class="nc l mx my mz mv na jw mm"/></div></div></a></div></div></div>    
</body>
</html>