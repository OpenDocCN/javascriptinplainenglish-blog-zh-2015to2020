<html>
<head>
<title>Drawing Complex Shapes in RaphaelJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在拉斐尔作品中画复杂的形状</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/drawing-complex-shapes-in-raphaeljs-99e18a4654cc?source=collection_archive---------10-----------------------#2020-09-30">https://javascript.plainenglish.io/drawing-complex-shapes-in-raphaeljs-99e18a4654cc?source=collection_archive---------10-----------------------#2020-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d5bd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用SVG路径规范在RaphaelJS中绘制复杂形状</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1d6f9ccc95d9292f2500d80e4284fde2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3rU_Jtc0PNT1eo_g"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@bernardhermant?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Bernard Hermant</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ee00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">SVG path元素用于绘制SVG path规范中的复杂形状。它是绘制<a class="ae kv" href="https://medium.com/p/vector-graphics-with-raphaeljs-3355e82b0fd3?source=email-779762a86f7b--writer.postDistributed&amp;sk=7c6c1a88a4c2b903f4fedefb60622c45" rel="noopener">内置</a>形状最复杂的元素。</p><p id="1174" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">路径使用命令表示对象轮廓的几何图形。他们用一个属性来描述要画什么。</p><p id="fe74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在SVG中，路径元素由<code class="fe ls lt lu lv b">&lt;path d=”” /&gt;</code>表示，d将获取路径字符串。</p><p id="bebd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在RaphaelJS中，路径字符串被提供给库来处理绘图。</p><h1 id="90c7" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">设置</h1><p id="8d66" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">我们将使用一个500乘500像素的网格来覆盖路径的主题。下面给出了创建网格的代码:</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="2fa5" class="mx lx iq lv b gy my mz l na nb">&lt;html&gt;<br/> &lt;head&gt;<br/> &lt;title&gt;Paths Arrow Absolute&lt;/title&gt;<br/> &lt;style&gt;<br/> #container {<br/> clear:both;<br/> width:500px;<br/> height:500px;<br/> background:url(grid.jpg) repeat;<br/> display: block;<br/> margin: 0 auto;<br/> }<br/> &lt;/style&gt;<br/> &lt;/head&gt;<br/> &lt;body&gt;<br/> &lt;div id=”container”&gt;&lt;/div&gt;<br/> &lt;script src=”<a class="ae kv" href="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js</a>"&gt;&lt;/script&gt;<br/> &lt;script&gt;<br/> paper = Raphael(‘container’, 500, 500);<br/> // Write code here<br/> &lt;/script&gt;<br/> &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="8561" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">grid.jpg文件如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/b114383de1457cdce154f93e99f91bfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/format:webp/1*4JkN-bVD8xvROar9EXEn1A.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Grid Image</figcaption></figure><h1 id="a34f" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">通用命令</h1><p id="1692" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">在绝对坐标中使用时，所有路径命令都用大写字母，在相对坐标中使用时用小写字母。</p><h2 id="b734" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">m还是m</h2><p id="25c6" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这是移动命令。它将路径图移动到用户指定的点。</p><h2 id="b265" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">z还是z</h2><p id="cafb" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这将关闭路径字符串的路径，使其返回到路径开始的位置。它通过将一个点连接回其初始点来结束该点。</p><h1 id="9320" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">线路命令</h1><h2 id="db4e" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">l还是l</h2><p id="279f" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这将从当前点到指定的终点绘制一条直线。</p><h2 id="590e" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">h还是h</h2><p id="86d0" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这将从当前点到指定的终点绘制一条水平线。</p><h2 id="320e" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">v还是v</h2><p id="ac99" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这将从当前点到指定的终点绘制一条垂直线。</p><h1 id="1b44" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">把所有的东西放在一起</h1><p id="d199" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">在这一部分，我们将画一个简单的箭头。执行此操作的代码如下所示:</p><p id="d815" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper . path(" M100 200 H300 V150 L450 250 L300 350 V300 H100 Z ")；</p><p id="7d7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">生成下图所示的箭头:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/913015375f1b7e7c9d4c5d70eff0f641.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*YuoLCxQEpdmOaSpgJAiPHg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Paths Absolute Arrow</figcaption></figure><p id="ebaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们检查创建箭头的命令。</p><p id="393d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">M100 200使图形的起点位于网格的100，200处。请注意，绘图的原点在网格的左上角。</p><p id="6c0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">H300 V150画一条水平线到离原点300的点，然后在网格上画一条垂直线到150。</p><p id="0bf3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">L450 250 L300 350在网格上画一条线，指向450，250，然后指向300，350。</p><p id="b30c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">V300 H100在网格的y轴上垂直于点300画一条线，在x轴上画一条回到点100的水平线。</p><p id="745b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">z通过画一条线回到初始点m来完成形状。</p><p id="6bfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使用相对路径，我们可以用不同的方法，因为我们必须获取每个点的相对位置。使用相对路径的好处是我们可以通过移动一个点来移动形状。</p><p id="8983" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用相对路径绘制箭头的代码如下所示:</p><p id="8e35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper . path(" M100 200 h200 v-50 l150 100 l-150 100v-50h-200 z ")；</p><p id="bdad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">M100 200与绝对路径命令一样，将从网格的点100，200开始绘图。</p><p id="655b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">h200将从起点画一条长度为200的水平线。v-50会在负方向画一条线50。</p><p id="f558" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">l150 100从当前点到箭头尖端绘制一条直线。l-150 100从箭头尖端到左下部分画一条线。</p><p id="788b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">v-50 h-200绘制箭头的剩余部分。z完成箭头。</p><h1 id="276f" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">曲线命令</h1><p id="a0fc" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">它们用于绘制曲线。SVG中有3种类型的曲线，它们是:</p><ol class=""><li id="ed0d" class="np nq iq ky b kz la lc ld lf nr lj ns ln nt lr nu nv nw nx bi translated">二次方曲线</li><li id="9b12" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">三次曲线</li><li id="c8e7" class="np nq iq ky b kz ny lc nz lf oa lj ob ln oc lr nu nv nw nx bi translated">弧形曲线</li></ol><h2 id="729a" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">二次方曲线</h2><p id="6d93" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">二次曲线包含两个坐标。第一个是用于绘制曲线的控制点的位置，第二个是曲线的终点。</p><p id="316c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码:</p><p id="91e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper . path(" M100 200 Q150 100 200 200 ")；</p><p id="acaa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将创建如下所示的弧:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/3045b75f4d51ca5c30dc31118fc4b1f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*nB3PxFKoz7SRIpYKKsBw-w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Quadratic Curve with Control Point at 150,100</figcaption></figure><p id="f779" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们用如下所示的代码将控制点移动到200，200:</p><p id="1816" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper . path(" M100 200 Q200 200 200 200 ")；</p><p id="4476" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们会得到一条二次曲线，看起来像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/93215850690767883a775e97ac05967a.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*ji9Amf6oKFIQtxOQ5_S-dA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Quadratic Curve with Control Point at 200,200</figcaption></figure><p id="7dfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，现在曲线是一条直线。这是因为控制点位于中间，并且与曲线的起点和终点在同一条线上。</p><p id="0ccb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码:</p><p id="6c85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper . path(" M100 200 Q150 100 200 200T 300 200 ")；</p><p id="f8a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将创建曲线的反转，并将其拖动到端点，给出如下所示的二次曲线:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/9afd676989f43a47954bf35db0180bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*Oq5Qc1dYJMnv6fAVnljtdg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Sine Wave</figcaption></figure><h2 id="a6c8" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">三次曲线</h2><p id="9d27" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">与二次曲线不同，三次曲线有两个控制点。</p><p id="5112" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码由120、160和180、240处的控制点组成，曲线在200、200处的新位置写为:</p><p id="6d7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper.path("M100 200 C120 160，180 240，200 200 ")；</p><p id="4950" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将创建路径:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/bbe095eac63ef29469de8239a938052a.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*imstati_NxVbnFEBzo1ZyA.png"/></div></figure><h2 id="0fd0" class="mx lx iq bd ly nd ne dn mc nf ng dp mg lf nh ni mi lj nj nk mk ln nl nm mm nn bi translated">弧形曲线</h2><p id="537e" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">弧形曲线采用以下参数:</p><p id="b780" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">rx ry x轴旋转y轴旋转大圆弧标志扫描标志x y</p><p id="cba6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码:</p><p id="6dc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">paper.path("M100 200 A100 100，0，0 1，200 200 ")；</p><p id="36eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将绘制如下所示的曲线:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/b1dc963ca07e9aa92c0a2c9a3acf79f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*5a0mOL_5GugJSO7b5P1dDg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Drawing an Arc</figcaption></figure><h1 id="06b2" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">结论</h1><p id="a9f9" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">路径变得太复杂，无法手动创建，您应该使用像Inkscape这样的矢量图形编辑器。然而，理解上面的命令将有助于您理解程序在幕后做什么。</p></div></div>    
</body>
</html>