<html>
<head>
<title>How to host a React app on Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Azure上托管React应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/hosting-a-react-app-on-azure-app-service-ccc5b3291b86?source=collection_archive---------1-----------------------#2019-09-21">https://javascript.plainenglish.io/hosting-a-react-app-on-azure-app-service-ccc5b3291b86?source=collection_archive---------1-----------------------#2019-09-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/ddc8cbb68bae1f885751429588a56313.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/0*mS5tVS_U6c6Q_YHN"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Hosting React application on azure app service.</figcaption></figure><div class=""/><p id="5449" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Azure App Service是一个PaaS，允许您托管web、移动应用、web API和逻辑应用。这篇文章解释了如何在azure app service上托管react应用。假设你已经在你的机器上安装了<a class="ae kx" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>和<a class="ae kx" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>，按顺序执行以下步骤。</p><ol class=""><li id="4e59" class="ky kz jc kb b kc kd kg kh kk la ko lb ks lc kw ld le lf lg bi translated">开放VS代码终端。</li></ol><p id="1f29" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">2.通过运行<strong class="kb jd">‘npx create-react-app my-app’</strong>命令创建一个react app。</p><p id="c1a9" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">3.应用程序的文件夹结构应该是这样的。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/46503f0538e2c5da771cbe8b8e0e47fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/0*2Fus3C_zXp8STUtL"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">React app Folder Structure.</figcaption></figure><p id="871a" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">4.将<strong class="kb jd"> web.config </strong>添加到公共文件夹中，内容如下。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="6648" class="lr ls jc ln b gy lt lu l lv lw">&lt;?xml version="1.0"?&gt;<br/>&lt;configuration&gt;<br/> &lt;system.webServer&gt;<br/>   &lt;rewrite&gt;<br/>     &lt;rules&gt;<br/>       &lt;rule name="React Routes" stopProcessing="true"&gt;<br/>         &lt;match url=".*" /&gt;<br/>         &lt;conditions logicalGrouping="MatchAll"&gt;<br/>          &lt;add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" /&gt;<br/>          &lt;add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" /&gt;<br/>          &lt;add input="{REQUEST_URI}" pattern="^/(api)" negate="true" /&gt;<br/>         &lt;/conditions&gt;<br/>         &lt;action type="Rewrite" url="/" /&gt;<br/>       &lt;/rule&gt;<br/>     &lt;/rules&gt;<br/>   &lt;/rewrite&gt;<br/> &lt;/system.webServer&gt;<br/>&lt;/configuration&gt;</span></pre><p id="0549" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">5.通过运行<strong class="kb jd">‘CD my-app’</strong>命令在项目内移动。</p><p id="f1f6" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">6.运行<strong class="kb jd">‘NPM运行构建’</strong>命令。现在，这会将生产应用程序构建到构建文件夹中。它正确地捆绑了生产模式中的React，并优化了构建以获得最佳性能。构建被缩小，并且文件名包括散列。您的应用程序已准备好进行部署。</p><p id="64b4" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">7.运行<strong class="kb jd">‘NPM start’</strong>在本地启动。访问<a class="ae kx" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>在浏览器中启动并查看。</p><p id="3471" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">8.切换到VS代码，安装<strong class="kb jd">‘Azure App Services’</strong>扩展。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/2fef97458afe9906d1fb4fb6d3f29861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/0*HPqXnvU40ViM5HVX"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Azure App Service Extension for VS Code</figcaption></figure><p id="2006" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">9.选择Azure应用服务选项卡，然后<strong class="kb jd">单击“+”图标</strong>创建一个新的web应用。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ly"><img src="../Images/95e199ee66d1eaec9484d067b9bed838.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eWSa1r3sfEk09_p9"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Selecting Azure App Service tab and Creating new web app</figcaption></figure><p id="ddb0" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">10.出现提示时，<strong class="kb jd">用您的<strong class="kb jd"> azure凭据</strong>登录</strong>，或者如果您没有凭据，请在此注册<a class="ae kx" href="https://azure.microsoft.com/en-in/free/search/?&amp;ef_id=EAIaIQobChMI_s7Nravd5AIVw4RwCh3X5Ap1EAAYASAAEgIhNPD_BwE:G:s&amp;OCID=AID2000081_SEM_viCfsIhe&amp;MarinID=viCfsIhe_326091507018_%2Bazure%20%2Bcredits_b_c__67435384710_aud-395027706889:kwd-212642124328&amp;lnkd=Google_Azure_Brand&amp;dclid=CM2TgK-r3eQCFdCDcAod3TcDZg" rel="noopener ugc nofollow" target="_blank">创建一个免费帐户。</a></p><p id="0aa1" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">11.<strong class="kb jd">选择合适的订阅</strong>，选择一个<strong class="kb jd">全局唯一名称</strong>(在我的例子中是react-appserviceDemo)，选择<strong class="kb jd"> Windows </strong>作为环境并继续。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lz"><img src="../Images/ca87d59fd902297d39906f715b9b796b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pUAVHe_8gM2qHIzr"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Creating a new web-app with unique name</figcaption></figure><p id="3f98" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">12.当提示部署或取消时，<strong class="kb jd">选择了部署</strong>选项。</p><p id="1c72" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">13.出现文件夹浏览选项提示时，选择<strong class="kb jd"> my-app/build文件夹</strong>进行部署。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ma"><img src="../Images/b8c47f82ddc9863148725814e3ea9439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5s6S7VfCh8i6-lmQ"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Browse Folder option</figcaption></figure><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mb"><img src="../Images/4539fd84d2af826c36dd7781ccf7c386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m1cktCIfxxN7Zm70"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Select Build Folder</figcaption></figure><p id="515c" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">14.一旦部署完成，浏览到应用服务url(在我的例子中是<a class="ae kx" href="https://react-appservicedemo.azurewebsites.net/" rel="noopener ugc nofollow" target="_blank">https://react-appservicedemo.azurewebsites.net</a>)然后哇！！我们的react现已部署到Azure应用服务中。</p><figure class="li lj lk ll gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mc"><img src="../Images/a547d401e5a743188d0cc66712455e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NNGshfXYj5jgJ_zQ"/></div></div></figure></div></div>    
</body>
</html>