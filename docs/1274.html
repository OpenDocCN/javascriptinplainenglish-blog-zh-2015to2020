<html>
<head>
<title>The smart way to filtering data in a table in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中过滤表中数据的聪明方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-filtering-data-in-a-table-little-more-smartly-b0f6e401b5f1?source=collection_archive---------3-----------------------#2020-02-23">https://javascript.plainenglish.io/react-filtering-data-in-a-table-little-more-smartly-b0f6e401b5f1?source=collection_archive---------3-----------------------#2020-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/ff7dd709eddda4654b7e0feb99f20625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*CcNOFaQYlAvEfhYcMP8zmQ.png"/></div></figure><h1 id="0063" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">TL；博士(查看是做什么的)</h1><blockquote class="ks"><p id="f689" class="kt ku iq bd kv kw kx ky kz la lb lc dk translated">点按表格标题，看看会发生什么</p></blockquote><blockquote class="ld le lf"><p id="77c6" class="lg lh li lj b lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md lc ij bi translated">如果您观察到某些值没有被排列</p><p id="cc3d" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated">举个例子，</p><p id="5d41" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated">点击<strong class="lj ir">学生页</strong>标题，0值不被过滤(停留在底部)</p><p id="bca9" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><strong class="lj ir">学生邮编</strong>的“不适用”值</p><p id="a21e" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated">你在正确的轨道上</p></blockquote><h1 id="4234" class="ju jv iq bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">观看动作并玩它</h1><p id="6762" class="pw-post-body-paragraph lg lh iq lj b lk mj lm ln lo mk lq lr ml mm lu lv mn mo ly lz mp mq mc md lc ij bi translated"><em class="li">奖励:我们将学习如何在每个标题</em>旁边向下&amp;向上&amp;画箭头</p><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="mv mw l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="adc7" class="ju jv iq bd jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn ni kp kq kr bi translated">一.它的作用</h1><ul class=""><li id="a206" class="nj nk iq lj b lk mj lo mk ml nl mn nm mp nn lc no np nq nr bi translated">它能够<strong class="lj ir">而不是</strong>过滤某些值</li></ul><blockquote class="ld le lf"><p id="94c7" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><strong class="lj ir">例如，0 </strong>代表<strong class="lj ir">学生人数</strong>或<strong class="lj ir">不适用</strong>代表<strong class="lj ir">学生人数</strong></p><p id="1fe9" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><strong class="lj ir">用例:</strong>很多情况下，0和N/A是作为错误的占位符，空值；没有太大的意义。没有人希望在他们的数据图表顶部看到没有意义的数据(如果按降序排列)</p></blockquote><ul class=""><li id="cb31" class="nj nk iq lj b lk me lo mf ml ns mn nt mp nu lc no np nq nr bi translated">上下箭头告诉用户数据当前是按降序还是升序排序</li></ul><blockquote class="ld le lf"><p id="ed2c" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><strong class="lj ir">例如</strong>默认不排序数据，不需要箭头。当用户点击表格标题对数据进行排序时，会出现箭头</p><p id="26d6" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated">2.它是<strong class="lj ir">而不是</strong>简单地将数据按升序或降序排序的布尔值。</p></blockquote><blockquote class="ks"><p id="4cbc" class="kt ku iq bd kv kw nv nw nx ny nz lc dk translated">只要对if语句做一行修改，就可以将这个逻辑用于任何其他表过滤</p></blockquote></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="0f54" class="ju jv iq bd jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn ni kp kq kr bi translated">二。它是如何工作的(初始状态)</h1><ol class=""><li id="3fbf" class="nj nk iq lj b lk mj lo mk ml nl mn nm mp nn lc oa np nq nr bi translated">大多数情况下，为了正确排序数据，您可能需要维护两种状态(<strong class="lj ir"> originalData，sortedData) </strong></li></ol><ul class=""><li id="8604" class="nj nk iq lj b lk me lo mf ml ns mn nt mp nu lc no np nq nr bi translated">原始数据是事实的来源</li><li id="1ef9" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated"><strong class="lj ir"> sortedData </strong>用于向用户展示数据</li></ul><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="og mw l"/></div></figure><p id="1082" class="pw-post-body-paragraph lg lh iq lj b lk me lm ln lo mf lq lr ml mg lu lv mn mh ly lz mp mi mc md lc ij bi translated">2.除了过滤，我还画了一个箭头来显示当前的过滤模式(升序，降序)。排序有三种情况(<strong class="lj ir">未排序</strong>(默认)、<strong class="lj ir">降序排序</strong>、<strong class="lj ir">升序排序</strong>)</p><ul class=""><li id="d7e2" class="nj nk iq lj b lk me lo mf ml ns mn nt mp nu lc no np nq nr bi translated">我用一个数字来表示这三种情况</li><li id="59e5" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated"><strong class="lj ir">未排序:</strong> 0</li><li id="38a4" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated"><strong class="lj ir">降序排序:</strong> 1</li><li id="00d6" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated"><strong class="lj ir">升序排序:</strong> -1</li></ul><p id="ae5c" class="pw-post-body-paragraph lg lh iq lj b lk me lm ln lo mf lq lr ml mg lu lv mn mh ly lz mp mi mc md lc ij bi translated">3.通过点击某个标题，用户通过点击标题的关键字过滤数据。例如，<strong class="lj ir"> sortType </strong>代表数据的排序关键字</p><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="og mw l"/></div><figcaption class="oh oi gj gh gi oj ok bd b be z dk">Initial state for sort functinonality</figcaption></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="be64" class="ju jv iq bd jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn ni kp kq kr bi translated">三。它是如何工作的(过滤逻辑)</h1><ul class=""><li id="88d7" class="nj nk iq lj b lk mj lo mk ml nl mn nm mp nn lc no np nq nr bi translated">我用做了一个叫做<strong class="lj ir">的函数，它就像一个嵌套的开关(开关里面的开关)；有2个<strong class="lj ir"> if语句</strong></strong></li><li id="c8a2" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated"><strong class="lj ir">第一条if语句:</strong>通过检查<strong class="lj ir"> sortToggle </strong>来检查之前是否排序过</li><li id="58e5" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated"><strong class="lj ir">第二个if语句:*重要* </strong>现在您可以为<strong class="lj ir">智能排序添加任何附加逻辑— </strong>您不想在排序中排序的属性</li></ul><blockquote class="ld le lf"><p id="d2e3" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated">例如，在这种情况下，我不想对“N/A”和0的值进行排序，</p><p id="19ee" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><code class="fe ol om on oo b"><em class="iq">if (a[key] == null || a[key] == 0 || a[key] == "N/A") return 1;</em></code></p><p id="346b" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><code class="fe ol om on oo b"><em class="iq">if (b[key] == null || b[key] == 0 || b[key] == "N/A") return -1;</em></code></p></blockquote><ul class=""><li id="41c9" class="nj nk iq lj b lk me lo mf ml ns mn nt mp nu lc no np nq nr bi translated">最后，我使用这个<code class="fe ol om on oo b">sortType</code>函数作为原始数据的排序逻辑</li></ul><blockquote class="ld le lf"><p id="d33c" class="lg lh li lj b lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma mi mc md lc ij bi translated"><code class="fe ol om on oo b"><em class="iq">const sortedData = originalData.sort(compareBy(sortType));</em></code></p></blockquote><figure class="mr ms mt mu gt jr"><div class="bz fp l di"><div class="og mw l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="7434" class="ju jv iq bd jw jx ne jz ka kb nf kd ke kf ng kh ki kj nh kl km kn ni kp kq kr bi translated">四。结论</h1><p id="c92a" class="pw-post-body-paragraph lg lh iq lj b lk mj lm ln lo mk lq lr ml mm lu lv mn mo ly lz mp mq mc md lc ij bi translated">通过向使用该功能的每个组件添加GUID或任何唯一标识，当前的过滤功能可以容易地扩展到多个组件</p><ul class=""><li id="a6be" class="nj nk iq lj b lk me lo mf ml ns mn nt mp nu lc no np nq nr bi translated"><strong class="lj ir">例如，</strong>如果有两个不同的数据列表，其中的对象具有相同的键(例如名字)，那么您可以给组件A &amp; B唯一的标识符，例如<strong class="lj ir">compA</strong>&amp;<strong class="lj ir">compB</strong></li><li id="b48d" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated">然后，简单地组合唯一标识符和排序类型(例如，<strong class="lj ir">compa first name</strong>&amp;<strong class="lj ir">compbfirst name</strong>)</li><li id="4e64" class="nj nk iq lj b lk ob lo oc ml od mn oe mp of lc no np nq nr bi translated">你只需给每个组件<strong class="lj ir">唯一的标识符</strong>就可以让它具有可伸缩性</li></ul><blockquote class="ks"><p id="df73" class="kt ku iq bd kv kw nv nw nx ny nz lc dk translated">感谢您的阅读！— GP LEE</p></blockquote></div></div>    
</body>
</html>