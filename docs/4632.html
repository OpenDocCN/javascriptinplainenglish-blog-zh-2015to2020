<html>
<head>
<title>The Best Way To Reinstall Node.js (Mac/Linux/Windows)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重新安装Node.js的最佳方法(Mac/Linux/Windows)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-best-way-to-reinstall-node-js-mac-linux-windows-d5f3212fdd2e?source=collection_archive---------2-----------------------#2020-12-27">https://javascript.plainenglish.io/the-best-way-to-reinstall-node-js-mac-linux-windows-d5f3212fdd2e?source=collection_archive---------2-----------------------#2020-12-27</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/f16e39d030579859e8b57e7abae743a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T55Ua1THiGNRTZ5U"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Photo by <a class="ae kd" href="https://unsplash.com/@4themorningshoot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Oliver Hale</a> on <a class="ae kd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e514" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如何安装Node.js最简单的方法之一就是去官方网站，下载安装程序并安装。后来，当开发人员需要切换到Node.js的另一个版本或更新它时，他可能会面临一种情况。</p><p id="94ed" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">仍然可以从官方网站安装它，但是一个系统中已经存在多少节点呢？在已安装的版本之间切换的速度有多快？</p><p id="8a0c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">也许这是一个很好的时机来卸载它们，并设置系统能够在几秒钟内切换节点，总是知道已安装版本的数量，并能够在一个简单的命令中删除任何版本。</p></div><div class="ab cl lc ld hv le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ik il im in io"><h1 id="c697" class="lj lk ir bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">如何从Mac OS卸载Node.js</h1><p id="13c5" class="pw-post-body-paragraph ke kf ir kg b kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ml kz la lb ik bi translated">首先，我们需要卸载旧的节点版本以及与之相关的所有东西。如果你用自制软件安装了以前的版本，你是幸运的。自制方法是在Mac上安装或卸载节点的最简单的方法之一。</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="8b67" class="mv lk ir mr b gz mw mx l my mz">brew uninstall --force node</span></pre><p id="c485" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在终端中键入以下命令。brew将卸载<strong class="kg is">所有</strong>已安装的Node.js版本。</p><p id="58e1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">之后，最好运行<code class="fe na nb nc mr b">brew cleanup</code>，它将删除所有未使用的依赖项和文件夹。</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="bf2d" class="mv lk ir mr b gz mw mx l my mz">brew cleanup</span></pre><p id="2301" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果Node.js的安装方式不同，这不是问题。您需要手动删除它。有一堆文件夹，它们可以从finder或一个终端中一个接一个地删除。</p><p id="8f66" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">node . js和npm定位或存储其资源的文件夹列表</strong>:</p><ul class=""><li id="45c8" class="nd ne ir kg b kh ki kl km kp nf kt ng kx nh lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">/usr/local/lib</code>中的<code class="fe na nb nc mr b">node</code>和/或<code class="fe na nb nc mr b">node_modules</code></li><li id="372e" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">/usr/local/include</code>中的<code class="fe na nb nc mr b">node</code>和/或<code class="fe na nb nc mr b">node_modules</code></li><li id="9bdc" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">/usr/local/bin</code>中的<code class="fe na nb nc mr b">node</code>、<code class="fe na nb nc mr b">node-debug</code>和<code class="fe na nb nc mr b">node-gyp</code></li><li id="6586" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">.npmrc</code>在您的主目录中(这是npm设置，<strong class="kg is">如果您打算立即重新安装节点，请不要删除它</strong>)</li><li id="c37b" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">.npm</code>在您的主目录中</li><li id="4db6" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">.node-gyp</code>在您的主目录中</li><li id="c4e4" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">.node_repl_history</code>在您的主目录中</li><li id="ad66" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">/usr/local/share/man/man1/</code>中的<code class="fe na nb nc mr b">node*</code></li><li id="f352" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">npm*</code>在<code class="fe na nb nc mr b">/usr/local/share/man/man1/</code></li><li id="2ff0" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">node.d</code>在<code class="fe na nb nc mr b">/usr/local/lib/dtrace/</code>中</li><li id="b1bc" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">node</code>在<code class="fe na nb nc mr b">/opt/local/bin/</code></li><li id="3535" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">/opt/local/include/</code>中的<code class="fe na nb nc mr b">node</code></li><li id="2a36" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">/opt/local/lib/</code>中的<code class="fe na nb nc mr b">node_modules</code></li><li id="72c5" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">node</code>在<code class="fe na nb nc mr b">/usr/local/share/doc/</code></li><li id="868b" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated"><code class="fe na nb nc mr b">node.stp</code>在<code class="fe na nb nc mr b">/usr/local/share/systemtap/tapset/</code></li></ul><p id="abc2" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果您不想手动搜索所有这些文件夹和文件，您可以在终端中运行一个命令:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="5a52" class="mv lk ir mr b gz mw mx l my mz">sudo rm -rf /usr/local/{lib/node{,/.npm,_modules},bin,share/man}/{npm*,node*,man1/node*}</span></pre><p id="5ab1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这个命令不涉及您的主目录，所以您可以稍后决定如何处理其余的文件。</p><p id="ad7d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在，我们可以删除随npm一起安装的所有全局软件包:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="f180" class="mv lk ir mr b gz mw mx l my mz">rm -rf ~/.npm</span></pre><p id="64c0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">执行这些命令后，Node.js和npm将从系统中完全删除。</p><h1 id="5266" class="lj lk ir bd ll lm nr lo lp lq ns ls lt lu nt lw lx ly nu ma mb mc nv me mf mg bi translated">如何在Mac上安装Node.js</h1><p id="7262" class="pw-post-body-paragraph ke kf ir kg b kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ml kz la lb ik bi translated">清理之后，我们可以继续安装新的Node.js，但是我们不会直接安装。因为如果我们安装某个版本，我们在未来仍会有多个节点和维护的问题。</p><p id="70de" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了解决这个问题，我们应该安装一个额外的<a class="ae kd" href="https://github.com/nvm-sh/nvm" rel="noopener ugc nofollow" target="_blank">小工具:NVM </a>。</p><p id="09c1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">对于这个工具，我们只有一个要求——安装命令行工具。因此，如果您的系统中没有安装它们，您应该运行:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="eade" class="mv lk ir mr b gz mw mx l my mz">xcode-select --install</span></pre><p id="c2e8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们准备安装NVM。最简单的处理方法是. sh脚本。<br/>下载并运行这个脚本我们可以用下一个命令:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="c51b" class="mv lk ir mr b gz mw mx l my mz">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash</span></pre><p id="a6db" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> 0.37.2 </strong>是本文撰写当天的最新版本。可以在<a class="ae kd" href="https://github.com/nvm-sh/nvm/releases" rel="noopener ugc nofollow" target="_blank"> NVM GitHub </a>上查看版本。</p><p id="681d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">当然也可以手动安装。您需要克隆一个存储库并将可执行文件添加到PATH中。在<a class="ae kd" href="https://github.com/nvm-sh/nvm#git-install" rel="noopener ugc nofollow" target="_blank"> NVM自述文件</a>中描述了详细说明。如果您需要在CI管道中使用NVM，这将非常有用。我建议将NVM添加到管道中使用的Docker映像中。我在上一篇文章中描述的关于提高CI性能的更多技巧:</p><div class="nw nx gq gs ny nz"><a href="https://medium.com/javascript-in-plain-english/improving-ci-performance-aka-how-to-save-your-money-31ff691360e4" rel="noopener follow" target="_blank"><div class="oa ab fp"><div class="ob ab oc cl cj od"><h2 class="bd is gz z fq oe fs ft of fv fx iq bi translated">提高CI绩效(也称为如何省钱)</h2><div class="og l"><h3 class="bd b gz z fq oe fs ft of fv fx dk translated">如何使用缓存和Docker映像提高CI/CD管道速度</h3></div><div class="oh l"><p class="bd b dl z fq oe fs ft of fv fx dk translated">medium.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on jx nz"/></div></div></a></div><blockquote class="oo op oq"><p id="be28" class="ke kf or kg b kh ki kj kk kl km kn ko os kq kr ks ot ku kv kw ou ky kz la lb ik bi translated">不要忘记重启终端窗口来刷新环境变量</p></blockquote><p id="eba8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们差不多完成了。现在，我们可以轻松地安装Node.js的任何版本。例如，该命令将安装最新版本:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="6991" class="mv lk ir mr b gz mw mx l my mz">nvm install node</span></pre><p id="82b8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果您希望安装LTS版本，但使用最新的npm，您可以执行以下操作:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="a3ee" class="mv lk ir mr b gz mw mx l my mz">nvm install --lts --latest-npm</span></pre><p id="1068" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以提供任何版本，而不是使用像<code class="fe na nb nc mr b">—-lts</code>这样的标志:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="ef43" class="mv lk ir mr b gz mw mx l my mz">nvm install 8.9.1 # or 10.10.0, 12, etc</span></pre><p id="f18d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">要查看已安装版本的列表，您需要运行以下命令:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="be96" class="mv lk ir mr b gz mw mx l my mz">nvm list</span></pre><p id="66c4" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">安装后，您需要为您的系统选择默认版本:</p><pre class="mm mn mo mp gu mq mr ms mt aw mu bi"><span id="7c90" class="mv lk ir mr b gz mw mx l my mz">nvm use --lts</span></pre><p id="a1e9" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">但是windows用户呢？</strong></p><p id="52a3" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">对于windows可用的一个非常类似的工具:<a class="ae kd" href="https://github.com/coreybutler/nvm-windows" rel="noopener ugc nofollow" target="_blank">Windows的节点版本管理器(nvm)</a>。这是一个不同的项目，但它实现了相同的东西。您仍然可以安装/卸载/列出和切换Node.js的任何版本</p><h1 id="a3d7" class="lj lk ir bd ll lm nr lo lp lq ns ls lt lu nt lw lx ly nu ma mb mc nv me mf mg bi translated">摘要</h1><p id="af3a" class="pw-post-body-paragraph ke kf ir kg b kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ml kz la lb ik bi translated">借助NVM，您可以实现:</p><ul class=""><li id="580c" class="nd ne ir kg b kh ki kl km kp nf kt ng kx nh lb ni nj nk nl bi translated">如何安装/卸载任何版本的Node.js的简单方法</li><li id="8412" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated">在节点间切换的最佳工具</li><li id="282c" class="nd ne ir kg b kh nm kl nn kp no kt np kx nq lb ni nj nk nl bi translated">拆卸和安装一样简单</li></ul><p id="8479" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">将来你会感受到它的好处，尤其是当你需要更新Node.js的时候。</p><p id="2e81" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">感谢阅读！</strong></p></div></div>    
</body>
</html>