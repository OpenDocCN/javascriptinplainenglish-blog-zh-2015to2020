<html>
<head>
<title>Understanding Generators in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的生成器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-generators-in-javascript-4a1c1011905b?source=collection_archive---------11-----------------------#2020-12-11">https://javascript.plainenglish.io/understanding-generators-in-javascript-4a1c1011905b?source=collection_archive---------11-----------------------#2020-12-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="73b3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过实例了解JavaScript生成器</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5e338e356c20a20b551f383993d45450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ubJlr1RdPgmkvV-T"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@nubelsondev?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nubelson Fernandes</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="e8f2" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="179a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><strong class="lq ir">生成器</strong>看起来像一个普通的函数，但是它允许我们暂停函数的执行，稍后再继续。也许你在ES6中听说过这个功能，或者你只是没有时间玩它。然而，这是你需要明白的事情。</p><p id="d2ca" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本文中，我们将通过一些实例来了解JavaScript中的生成器。让我们开始吧。</p><h1 id="e627" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">发电机功能</h1><p id="3f99" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">生成器函数提供了一个强大的选择:它们允许您通过编写一个执行不连续的函数来定义一个迭代算法。</p><p id="9436" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下面你可以看到一个发电机的例子，我们将分解它，看看它是如何工作的:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="1591" class="mu kx iq mq b gy mv mw l mx my"><strong class="mq ir">function*</strong> avengersGenerator() { // Declaring the generator<br/>  <strong class="mq ir">yield</strong> "Hulk"; // Pausing the execution<br/>  <strong class="mq ir">yield</strong> "Thor";<br/>  <strong class="mq ir">yield</strong> "Iron man";<br/>  <strong class="mq ir">return</strong> "Ultron"; // Example of finishing the generator<br/>  <strong class="mq ir">yield</strong> "Spiderman";<br/>}<br/><br/>const <strong class="mq ir">iterator</strong> = avengersGenerator(); // Creating iterator<br/><br/>iterator.<strong class="mq ir">next()</strong>; // Iterating on the generator</span></pre><p id="9cb7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">生成器看起来与普通函数相似，唯一的区别是我们必须在关键字<code class="fe mz na nb mq b">function</code>后定义一个<code class="fe mz na nb mq b">*</code>(星号)。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="f62f" class="mu kx iq mq b gy mv mw l mx my">function<strong class="mq ir">*</strong> avengersGenerator() {<br/>  ...<br/>}</span></pre><h1 id="99d2" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">关键词“产量”</h1><p id="3808" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们可以<code class="fe mz na nb mq b">yield</code>这个函数，它基本上会在到达第一个<code class="fe mz na nb mq b">yield</code>时停止函数的执行。</p><p id="b788" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="83d4" class="mu kx iq mq b gy mv mw l mx my">function<strong class="mq ir">*</strong> avengersGenerator() {<br/>  <strong class="mq ir">yield</strong> "Hulk" // The execution would pause here.<br/>  <strong class="mq ir">yield</strong> "Iron man" // When we resume we would start here.<br/>}</span></pre><p id="0a41" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如你所见，关键字<code class="fe mz na nb mq b">yield</code>用于停止函数的执行。</p><h1 id="cf54" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">创建迭代器</h1><p id="2f46" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在迭代器上，我们可以简单地调用我们的函数。这样，我们就可以准备好发电机了。</p><p id="a646" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="b828" class="mu kx iq mq b gy mv mw l mx my">const iterator = avengersGenerator();</span></pre><p id="9099" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">所以迭代器对于生成器来说非常重要。具体来说，迭代器是通过使用一个返回具有两个属性的对象的<code class="fe mz na nb mq b"><strong class="lq ir">next()</strong></code>方法来实现<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol" rel="noopener ugc nofollow" target="_blank">迭代器协议</a>的任何对象:</p><p id="6d88" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">属性<code class="fe mz na nb mq b">value</code>是迭代序列中的下一个值。以及属性<code class="fe mz na nb mq b">done</code>，如果序列中的最后一个值已经被消耗，则该属性为<code class="fe mz na nb mq b">true</code>。如果“值”出现在“完成”旁边，它就是迭代器的返回值。</p><h1 id="8802" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">下一个方法</h1><p id="4416" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这使我们能够继续执行该功能。此外，该方法还为我们提供了具有生成值的对象，以及生成器是否已经生成了它的最后一个值，如布尔值。</p><p id="d8c8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8df3" class="mu kx iq mq b gy mv mw l mx my">iterator.next(); // [1] Object {value: "Hulk", done: false}<br/>iterator.next(); // [2] Object {value: "Thor", done: false}<br/>iterator.next(); // [3] Object {value: "Iron man", done: false}<br/>iterator.next(); // [4] Object {value: undefined, done: true}</span></pre><h1 id="236d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">返回/退出</h1><p id="4b39" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">一旦调用了return，它将完成生成器。它基本上将<code class="fe mz na nb mq b">done</code>属性设置为<code class="fe mz na nb mq b">true</code>。</p><p id="6142" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="ba5d" class="mu kx iq mq b gy mv mw l mx my">function* avengersGenerator() {<br/>  yield "Hulk";<br/>  return "Ultron"; // Example of finishing the generator<br/>  yield "Thor"; //  Sad Thor and Spiderman wouldn't be called<br/>  yield "Spiderman";<br/>}<br/><br/>iterator.next(); // [1] Object {value: "Hulk", done: false}<br/>iterator.next(); // [2] Object {value: "Ultron", done: true}</span></pre><h1 id="60b4" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="f169" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">正如您所看到的，发电机是一个很酷的玩物，或者至少知道它是做什么的。确保这只是对生成器的介绍，我鼓励你从<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators" rel="noopener ugc nofollow" target="_blank"> MDN </a>文档中学习更多。</p><p id="79df" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您阅读本文，希望您觉得有用。</p><h1 id="88c6" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">更多阅读</h1><div class="nc nd gp gr ne nf"><a href="https://medium.com/javascript-in-plain-english/how-to-use-axios-in-vanilla-javascript-2dbf176e08d4" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd ir gy z fp nk fr fs nl fu fw ip bi translated">如何在普通JavaScript中使用Axios</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">通过实例了解Axios</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt kp nf"/></div></div></a></div></div></div>    
</body>
</html>