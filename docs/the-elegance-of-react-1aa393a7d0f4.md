# ç¼–å†™ä¼˜é›…çš„ React ä»£ç 

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/the-elegance-of-react-1aa393a7d0f4?source=collection_archive---------5----------------------->

> ä½œä¸ºä¸€å React å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¦‚ä½•è®©æˆ‘ä»¬çš„ä»£ç æ›´ç®€å•ã€æ›´æ˜“è¯»ã€‚ä»Šå¤©æˆ‘ä¼šç»™ä½ ä¸€äº›å…³äº react çš„æç¤ºå’ŒæŠ€å·§ï¼Œå¸®åŠ©ä½ ä¼˜é›…åœ°ç¼–å†™ä»£ç ã€‚è¿™åªæ˜¯ React ä¸Šçš„åŸºæœ¬ä¼˜é›…ï¼Œæˆ‘ä¼šè¯•ç€å†™æ›´å¤šå…³äºè¿™ä¸ªç¥å¥‡çš„åº“çš„å¸–å­ã€‚
> 
> Pd:è¿™æ˜¯ä¸€ç¯‡å…³äºå¦‚ä½•åœ¨ React ä¸Šæœ‰ä¸€ä¸ªå¥½çš„ä»£ç çš„æ–‡ç« ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œæˆ‘ä¼šç»™ä½ ä¸€äº›æœ‰æ›´å¤šä¿¡æ¯çš„æ–‡ç« ã€‚

![](img/8926944f12e975fe1ddb92718175559c.png)

SEUNGWON HONG

æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œæˆä¸ºä¸€åä¼˜ç§€çš„ç¨‹åºå‘˜ä¼šæœ‰ä¸€ç‚¹å›°éš¾ï¼Œå¦‚æœä½ ä¸çŸ¥é“ä»»ä½•å…³äº JavaScript çš„å¥½çš„å®è·µï¼Œå›°éš¾ä¼šæ›´å¤§ã€‚å› æ­¤ï¼Œåœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®º React å’Œä¸€äº›æˆ‘ä»¬éœ€è¦ä¿æŒçš„è‰¯å¥½å®è·µï¼Œ**è®©æˆ‘ä»¬å¼€å§‹å§ï¼**

# ç´¢å¼•

1.  çº¯ç»„ä»¶æˆ–ç»„ä»¶
2.  ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ React ä¸Šä½¿ç”¨ææ„ï¼Ÿ
3.  å­¦ä¹ æ­£ç¡®ä½¿ç”¨ setState æ–¹æ³•ã€‚

# çº¯ç»„ä»¶æˆ–ç»„ä»¶

å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç±»ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ä¸åŒçš„é€‰æ‹©:ä½¿ç”¨ä¸€ä¸ª**çº¯ç»„ä»¶**æˆ–**ç»„ä»¶**é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ

å¦‚æœæˆ‘ä»¬åœ¨ **React** æ–‡æ¡£ä¸­å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç ”ç©¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º s **houldComponentUpdate** çš„æ–¹æ³•ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:

![](img/7fc7fac3b999840e615cc06fcdf032df.png)

å› æ­¤ï¼Œè¿™ä¸ªå‡½æ•°å°†åœ¨ä¸‹ä¸€ä¸ªå±æ€§å€¼å’Œä½ çš„ç»„ä»¶çš„å®é™…å±æ€§å€¼ä¹‹é—´è¿›è¡Œæ¯”è¾ƒ(è®°ä½ **React æ˜¯å¼‚æ­¥çš„**),æ‰€ä»¥ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°è¿”å› trueï¼Œä½ çš„ç»„ä»¶å°†ä¼šç”¨æ–°çš„å±æ€§å€¼é‡æ–°æ¸²æŸ“ã€‚

æœ€å¤§çš„åŒºåˆ«åœ¨äºä½ æ˜¯å¦ä½¿ç”¨äº† **Reactã€‚PureComponent** ä½ ä¸éœ€è¦ç¼–å†™è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸º React çŸ¥é“å®ƒéœ€è¦è‡ªå·±è¿›è¡Œæ¯”è¾ƒï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ çœŸçš„éœ€è¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä½ éœ€è¦ä½¿ç”¨ **Reactã€‚ç»„ä»¶**ã€‚

> æ˜¯çš„ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥äº†è§£æ›´å¤šå…³äº React çš„ç”Ÿå‘½å‘¨æœŸğŸ‘‹

# ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ React ä¸Šä½¿ç”¨ææ„ï¼Ÿ

åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬æœ‰ææ„åŠŸèƒ½ï¼Œå¦‚æœä½ ä¸çŸ¥é“ææ„æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Mozilla çš„å§‹ç»ˆå¯é çš„ [*MDN æ¥æœç´¢å®ƒï¼Œä»¥äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚*](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)

é€šè¿‡ææ„ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°æå–æ•°ç»„æˆ–å¯¹è±¡å†…éƒ¨çš„ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è§‚å¯Ÿè¿™ä¸¤å¹…å›¾åƒçš„ä¸åŒæ¥è§£é‡Šææ„:

![](img/31b618e3205920df57a4266862f17815.png)

å¦‚ä½ æ‰€è§ï¼Œæˆ‘æ­£è¯•å›¾ç”¨æ­£å¸¸çš„æ–¹æ³•å¾—åˆ°ä¸€æ¡é¾™æ¥å¾—åˆ°æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„

![](img/28af89f34a7f81b6cdd5f692c25cf8e9.png)

æ‰€ä»¥ï¼Œè¿™å°±æ˜¯æ¯ç­ã€‚é€šè¿‡ææ„ï¼Œæˆ‘ä»¬å¯ä»¥æå–æ•°ç»„æˆ–å¯¹è±¡å†…éƒ¨çš„ä¸€äº›å€¼æˆ–å±æ€§ã€‚

## ååº”æ—¶ææ„

å½“æˆ‘ä»¬ä½¿ç”¨ **React** æ—¶ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦åˆ›å»ºè®¸å¤šé“å…·ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä½¿ç”¨ **this.props.propName** (å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ç±»ç»„ä»¶)æˆ–ä¸€ä¸ªç®€å•çš„å‚æ•°å«åš **props** (åœ¨åŠŸèƒ½ç»„ä»¶ä¸­)å¹¶ä½¿ç”¨ææ„ã€‚

æˆ‘å°†å±•ç¤ºä¸¤ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ²¡æœ‰ææ„ï¼Œå¦ä¸€ä¸ªæœ‰ææ„

![](img/712ac0ebbfe24fc1cdc7d0c6222427fd.png)

å¦‚æœä½ ä¸éœ€è¦å¾ˆå¤šé“å…·ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ éœ€è¦åˆ›é€ å¾ˆå¤šé“å…·ï¼Œä½ éœ€è¦éµå¾ªçš„æœ€å¥½çš„æ–¹æ³•å°±æ˜¯è§£æ„

![](img/c31664e80742811f7d231785b40c3903.png)

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ææ„æ¥åˆ›å»ºä¸€äº›æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„é“å…·ï¼Œè¿™æ ·æ›´å®¹æ˜“é˜…è¯»å’Œä¿å­˜ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨å®ƒã€‚

è¿™é‡Œæœ‰ä¸€äº›ä¾‹å­æ¥è¯´æ˜åŒºåˆ«ï¼Œä½†æ˜¯ä½¿ç”¨å‡½æ•°ç»„ä»¶ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦å¾ˆå¤šé“å…·ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨é’©å­æ—¶ï¼Œäº†è§£æ›´å¤šçš„ææ„æ˜¯è‡³å…³é‡è¦çš„ã€‚

![](img/a93052bf6bb1365d31435d95e435dd1f.png)

å½“æˆ‘ä»¬ä½¿ç”¨å‡½æ•°ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåä¸º **props** çš„å‚æ•°æ¥åˆ›å»ºå±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ææ„æ¥ç®€åŒ–å®ƒ

![](img/de9d0983dbaba1f14a183aa255361d75.png)

è®°ä½ï¼Œä¸€ä¸ªå‡½æ•°ç»„ä»¶å°†æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ææ„æ¥åˆ›å»ºæ–°çš„å±æ€§ï¼Œè€Œä¸ç”¨ä½¿ç”¨æ­£å¸¸çš„æ–¹æ³•ã€‚

# å­¦ä¹ æ­£ç¡®ä½¿ç”¨ setState æ–¹æ³•

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ **React ç»„ä»¶**æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬åœ¨**ä¸Šä½¿ç”¨çš„æ¯ä¸ªç»„ä»¶éƒ½ååº”**å®ƒå°±åƒä¸€ä¸ªçº¯å‡½æ•°ï¼Œè¿™æ„å‘³ç€ç›¸åŒçš„é“å…·ä¼šç»™æˆ‘ä»¬ç›¸åŒçš„ç»“æœã€‚

å¦‚æœä½ è®°å¾—æˆ‘è¯´è¿‡ **React** æ˜¯åŸºäºå‡½æ•°å¼ç¼–ç¨‹èŒƒä¾‹ç¼–å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç›´æ¥æ”¹å˜ç»„ä»¶çš„çŠ¶æ€ã€‚

å› æ­¤ï¼Œç†è§£ **setState** æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¿™æ˜¯æˆ‘ä»¬éœ€è¦ä¸€ç›´ä¿æŒçš„ï¼Œä¾‹å¦‚:

![](img/fb0aa64ff69ed3bf4c881746d42a3cae.png)

è®©æˆ‘è§£é‡Šä¸€ä¸‹è¿™æ®µä»£ç ï¼Œæˆ‘æ­£åœ¨å°è¯•æ›´æ”¹ **isHappy** çš„å®é™…å€¼ï¼Œæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘æ²¡æœ‰å°è¯•ç›´æ¥æ›´æ”¹å®ƒï¼Œè¿™å°†è¿”å›ä¸€ä¸ªå¸¦æœ‰æ–°å€¼çš„æ–°çŠ¶æ€ã€‚

![](img/e5bb36609aa7a81dc6a667aa0589da70.png)

å¦‚ä½•é¿å…è¿™ç§æƒ…å†µï¼Ÿæ­£å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼ŒsetState æœ‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è·å– **inputValue** çš„å®é™…å€¼ã€‚

å¦‚æœä½ å¯¹å›è°ƒä¸€æ— æ‰€çŸ¥ï¼Œé‚£å°±æ˜¯ [***â€œåªæ˜¯ä¸€ä¸ªåœ¨å¦ä¸€ä¸ªå‡½æ•°ä¹‹åæ‰§è¡Œçš„å‡½æ•°â€***](https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced) *ã€‚*å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ›´æ”¹åç”Ÿæˆæ§åˆ¶å°æ—¥å¿—ï¼Œè¿™å°†ä¸ºæˆ‘ä»¬æä¾› **inputValue** çš„å®é™…å€¼:

![](img/dfe30fe58b8741aeaa11e2c7e15e783a.png)

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ setState å›è°ƒæ¥æ˜¾ç¤º **inputValue** çš„å®é™…å€¼ã€‚

å¦‚æœæ‚¨æƒ³é‡‡å–æ¯”æ§åˆ¶å°æ—¥å¿—æ›´å¤šçš„æ“ä½œï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸã€‚

![](img/0e0f346f0feb5ffe93856f0ada70bfc6.png)

æœ‰æ—¶å€™ä½ éœ€è¦å¯¹ä¸åŒçš„é“å…·ä½¿ç”¨ç›¸åŒçš„åŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºåŠ¨æ€é”®ã€‚

> [å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šä¿¡æ¯](https://medium.com/@lcriswell/destructuring-props-in-react-b1c295005ce0) âœŒï¸

> â€œç»™æˆ‘ä¸€äº›æŒå£°ï¼Œå¦‚æœè¿™æœ‰åŠ©äºä½ ã€‚å˜¿ï¼Œæˆ‘æœ‰å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼Œä¹Ÿè®¸ä½ ä¼šæ„Ÿå…´è¶£

[](https://medium.com/javascript-in-plain-english/tips-from-a-junior-front-end-developer-aa0080781367) [## åˆçº§å‰ç«¯å¼€å‘äººå‘˜çš„å»ºè®®

### å½“ä½ å¼€å§‹ä»äº‹ web å¼€å‘æ—¶ï¼Œä½ å¿…é¡»æŒæ¡çš„æ‰€æœ‰ä¸œè¥¿ã€‚

medium.com](https://medium.com/javascript-in-plain-english/tips-from-a-junior-front-end-developer-aa0080781367)  [## åœ¨ React ä¸­è§£æ„é“å…·

### å½“æˆ‘ç¬¬ä¸€æ¬¡å­¦ä¹ ç”¨ JavaScript è¿›è¡Œææ„æ—¶ï¼Œæˆ‘å¾ˆçŠ¹è±«è¦ä¸è¦æŠŠå®ƒæ•´åˆåˆ°æˆ‘çš„ React åº”ç”¨ç¨‹åºä¸­ã€‚æˆ‘å‘ç°â€¦

medium.com](https://medium.com/@lcriswell/destructuring-props-in-react-b1c295005ce0) [](https://reactjs.org/docs/react-component.html#setstate) [## åšå‡ºååº”ã€‚æˆåˆ†-ååº”

### è¯¥é¡µé¢åŒ…å« React ç»„ä»¶ç±»å®šä¹‰çš„è¯¦ç»† API å‚è€ƒã€‚å®ƒå‡è®¾æ‚¨ç†Ÿæ‚‰â€¦

reactjs.org](https://reactjs.org/docs/react-component.html#setstate)