<html>
<head>
<title>Getting Started with Storybook for Vue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue故事书入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-storybook-for-vue-3e9857cb535d?source=collection_archive---------6-----------------------#2020-12-19">https://javascript.plainenglish.io/getting-started-with-storybook-for-vue-3e9857cb535d?source=collection_archive---------6-----------------------#2020-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f9b062c282ce2ad076715e4cce976e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lxfsVBj94jhrIoe5"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sunnystate?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Reuben Juarez</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ed08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Storybook是一个独立开发UI组件的开源工具。</p><p id="454e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它与React、Vue、Angular和其他框架一起工作。</p><p id="40fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何将Storybook添加到我们的Vue项目中，并创建我们的组件。</p><h1 id="7772" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">安装故事书</h1><p id="938d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了开始使用Storybook，我们用Vue CLI创建了一个新的Vue项目。</p><p id="5074" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在一个空项目文件夹中运行<code class="fe me mf mg mh b">npx vue create .</code>来创建一个Vue项目。</p><p id="91b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们按照说明来完成这个过程。</p><p id="10a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们这样做了，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b665" class="mq lc iq mh b gy mr ms l mt mu">npx sb init</span></pre><p id="379c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建故事书项目。</p><p id="3de4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们这样做了，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1a02" class="mq lc iq mh b gy mr ms l mt mu">npm run storybook</span></pre><p id="020b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的Vue项目文件夹中运行故事书。</p><p id="aee0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们应该在浏览器中看到故事书屏幕。</p><p id="4e58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它有一个链接到故事书组件的集合，我们可以预览它们。</p><h1 id="05b8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">故事</h1><p id="b59e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">一旦我们有了故事书，我们就可以创作自己的故事了。</p><p id="2e5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">故事是我们可以在Storybook中预览的组件的集合。</p><p id="6cb9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">预览包括可能的状态和道具，以及它们的样子。</p><p id="b7ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还包括文档。</p><p id="085c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在预览界面中，我们可以编辑道具，并在控件标签中预览它们的效果。</p><h1 id="46ea" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">写故事</h1><p id="473b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以把故事放在<code class="fe me mf mg mh b">strotries</code>文件夹里。</p><p id="dd05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们为我们的故事添加一个<code class="fe me mf mg mh b">.js</code>或<code class="fe me mf mg mh b">.ts</code>文件。</p><p id="6fa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以创建一个按钮。</p><p id="394c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">stories</code>文件夹中，我们添加一个<code class="fe me mf mg mh b">Button.vue</code>文件来创建我们的故事书组件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="47e3" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;button type="button" :class="classes" <a class="ae kc" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="onClick" :style="style"&gt;{{ label }}&lt;/button&gt;<br/>&lt;/template&gt;</span><span id="30f1" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>import './button.css';</span><span id="8246" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  name: 'my-button',</span><span id="26fe" class="mq lc iq mh b gy mv ms l mt mu">props: {<br/>    label: {<br/>      type: String,<br/>      required: true,<br/>    },<br/>    primary: {<br/>      type: Boolean,<br/>      default: false,<br/>    },<br/>    size: {<br/>      type: String,<br/>      default: 'medium',<br/>      validator (value) {<br/>        return ['small', 'medium', 'large'].includes(value);<br/>      },<br/>    },<br/>    backgroundColor: {<br/>      type: String,<br/>    },<br/>  },</span><span id="a384" class="mq lc iq mh b gy mv ms l mt mu">  computed: {<br/>    classes() {<br/>      return {<br/>        'button': true,<br/>        'button-primary': this.primary,<br/>        [`button-${this.size}`]: true,<br/>      };<br/>    },<br/>    style() {<br/>      return {<br/>        backgroundColor: this.backgroundColor,<br/>      };<br/>    },<br/>  },</span><span id="1c55" class="mq lc iq mh b gy mv ms l mt mu">  methods: {<br/>    onClick() {<br/>      this.$emit('onClick');<br/>    },<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="e674" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的组件需要一些道具来设计我们的按钮。</p><p id="745d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">label</code>为标签文本。</p><p id="84e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">primary</code>是一个用于改变按钮颜色的布尔值。</p><p id="8a5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">size</code>是按钮的大小。</p><p id="9d54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">backgroundColor</code>是背景色。</p><p id="d242" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在同一个文件夹中导入了<code class="fe me mf mg mh b">button.css</code>，其中有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b3bb" class="mq lc iq mh b gy mr ms l mt mu">.button {<br/>  border-radius: 3em;<br/>  cursor: pointer;<br/>  display: inline-block;<br/>}<br/>.button-primary {<br/>  color: white;<br/>  background-color: lightblue;<br/>}<br/>.button-small {<br/>  font-size: 12px;<br/>}<br/>.button-medium {<br/>  font-size: 16px;<br/>}<br/>.button-large {<br/>  font-size: 20px;<br/>}</span></pre><p id="0cf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了让它在Storybook中显示，我们必须添加一个包含以下代码的<code class="fe me mf mg mh b">Button.stories.js</code>文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="126c" class="mq lc iq mh b gy mr ms l mt mu">import MyButton from './Button.vue';</span><span id="1b85" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  title: 'Example/Button',<br/>  component: MyButton,<br/>  argTypes: {<br/>    backgroundColor: { control: 'color' },<br/>    size: { control: { type: 'select', options: ['small', 'medium', 'large'] } },<br/>  },<br/>};</span><span id="0547" class="mq lc iq mh b gy mv ms l mt mu">const Template = (args, { argTypes }) =&gt; ({<br/>  props: Object.keys(argTypes),<br/>  components: { MyButton },<br/>  template: '&lt;my-button @onClick="onClick" v-bind="$props" /&gt;',<br/>});</span><span id="4ace" class="mq lc iq mh b gy mv ms l mt mu">export const Primary = Template.bind({});<br/>Primary.args = {<br/>  primary: true,<br/>  label: 'Button',<br/>};</span><span id="1491" class="mq lc iq mh b gy mv ms l mt mu">export const Large = Template.bind({});<br/>Large.args = {<br/>  size: 'large',<br/>  label: 'Button',<br/>};</span><span id="83f6" class="mq lc iq mh b gy mv ms l mt mu">export const Small = Template.bind({});<br/>Small.args = {<br/>  size: 'small',<br/>  label: 'Button',<br/>};</span></pre><p id="439b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有导出的项目将通过故事书显示。</p><p id="8145" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认导出有<code class="fe me mf mg mh b">title</code>、<code class="fe me mf mg mh b">component</code>和<code class="fe me mf mg mh b">argTypes</code>。</p><p id="e6aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">title</code>是故事书里显示的标题。</p><p id="42a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">component</code>是我们要预览的组件。</p><p id="985e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">argTypes</code>定义我们可以设置来改变属性值的控件。</p><p id="1132" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">名称与道具名称相同。</p><p id="c1f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还有将<code class="fe me mf mg mh b">props</code>设置为<code class="fe me mf mg mh b">argType</code>键的<code class="fe me mf mg mh b">Template</code>对象。</p><p id="ad8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">components</code>同构件预览。</p><p id="642b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">template</code>为要预览的组件。</p><p id="0e3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">v-bind='$props'</code>将所有道具传递给<code class="fe me mf mg mh b">my-button</code>组件。</p><p id="fb17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后底部的3个导出定义了我们想要显示按钮的预设样式。</p><p id="cc42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入一些<code class="fe me mf mg mh b">args</code>，它们将被设置为道具。</p><p id="d3f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们应该看到组件显示在侧边栏中。</p><h1 id="92c6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5620" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过创建一个Vue CLI项目来创建一个故事书，然后向其中添加故事书代码。</p><p id="6c59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以添加我们的组件和故事。</p><p id="009c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>