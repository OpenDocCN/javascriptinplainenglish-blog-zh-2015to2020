<html>
<head>
<title>Angular Input Output Properties</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度输入输出属性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-input-output-properties-cb02a1a543f8?source=collection_archive---------2-----------------------#2020-04-13">https://javascript.plainenglish.io/angular-input-output-properties-cb02a1a543f8?source=collection_archive---------2-----------------------#2020-04-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/10813d4155831ccd8d4e23d1aceecaa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WiGQTpTKNFjvrPNO.png"/></div></div></figure><div class=""/><div class=""><h2 id="130a" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">如何处理组件交互</h2></div><p id="da42" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">由于Angular框架是建立在多个组件之上的，因此需要将数据从父组件传递到子组件。为了做到这一点，我们引入了@Input和@Output属性。</p><p id="2dda" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们可以为自己创建的组件定义属性，并使它们在整个应用程序中可用。在Angular中，使用"<strong class="ks jc"> events </strong>"我们可以通知父组件一些事情已经改变。</p><p id="010b" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">输入</strong>属性指定我们可以在父组件上设置的属性，而<strong class="ks jc">输出</strong>属性标识组件可以触发的事件，以将信息从其子组件发送到其父组件。</p><h1 id="d96f" class="lm ln jb bd lo lp lq lr ls lt lu lv lw kh lx ki ly kk lz kl ma kn mb ko mc md bi translated">@输入属性</h1><p id="4141" class="pw-post-body-paragraph kq kr jb ks b kt me kc kv kw mf kf ky kz mg lb lc ld mh lf lg lh mi lj lk ll ij bi translated">Angular input decorator只是告诉<em class="mj"> Angular </em>嘿，当你找到一个与这个名字绑定的属性时，把它映射到我的另一个名字的组件属性。或者如果我不给你一个别名，就用我的组件属性名。</p><p id="277a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">现在，尽管Angular支持这个名称别名，但推荐的做法是在默认情况下避免使用这种方法，而是使用call属性名。</p><figure class="ml mm mn mo gt is gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/628f4a9d641da2fcce3c27061ee20b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*F8DdKshZOpqtPutzpLDPyw.png"/></div></figure><p id="084e" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">装饰器将类字段标记为输入属性，并提供配置元数据。输入属性被绑定到模板中的DOM属性。在变化检测过程中，Angular自动用DOM属性值更新数据属性。</p><p id="d58f" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">让我们看一个例子，我们如何实现这一点。</p><p id="297c" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">子组件:</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="7649" class="mu ln jb mq b gy mv mw l mx my">import { Component, Input } from '@angular/core'; <br/>// First, import Input</span><span id="bd88" class="mu ln jb mq b gy mz mw l mx my">export class HeroDetailComponent implements OnInit{<br/>  <strong class="mq jc">@Input() heroName: string; // decorate the property with @Input()</strong><br/>}</span></pre><p id="4f21" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在上面的示例中，<strong class="ks jc"> <em class="mj"> @Input() </em> </strong>修饰属性heroName，它具有字符串类型，但是，<strong class="ks jc"> <em class="mj"> @Input() </em> </strong>属性可以具有任何类型，如数字、字符串、布尔值或对象。项目的值将来自父组件。</p><p id="84dc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">子组件模板:</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="218d" class="mu ln jb mq b gy mv mw l mx my">&lt;p&gt;<br/>  {{heroName}} arrived.<br/>&lt;/p&gt;</span></pre><p id="3b86" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">现在来看父组件模板，我们将在其中绑定属性。这里，<strong class="ks jc"><em class="mj">【app-hero-detail】</em></strong>是子选择器，在父组件模板中作为指令使用。然后，我们使用属性绑定将子节点中的属性绑定到父节点的属性。</p><p id="af15" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">父组件模板:</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="2e49" class="mu ln jb mq b gy mv mw l mx my">&lt;app-hero-detail [heroName]="currentHero"&gt;&lt;/app-hero-detail&gt;</span><span id="ac3e" class="mu ln jb mq b gy mz mw l mx my">src/app/dashboard/dashboard.component.ts --&gt; <br/>export class DashboardComponent implements OnInit {<br/>   currentHero = 'Batman';<br/>}</span></pre><p id="7ed7" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在上例中，<strong class="ks jc"><em class="mj">【heroName】</em></strong>是来自子节点的<strong class="ks jc"> <em class="mj"> @Input </em> </strong>属性，其中as<strong class="ks jc"><em class="mj">current ero</em></strong>是来自父节点的属性。</p><h1 id="111f" class="lm ln jb bd lo lp lq lr ls lt lu lv lw kh lx ki ly kk lz kl ma kn mb ko mc md bi translated">@输出属性</h1><p id="5124" class="pw-post-body-paragraph kq kr jb ks b kt me kc kv kw mf kf ky kz mg lb lc ld mh lf lg lh mi lj lk ll ij bi translated">它帮助我们将数据从孩子传递给父母。装饰器将类字段标记为输出属性，并提供配置元数据。在变化检测期间，绑定到输出属性的DOM属性会自动更新。</p><p id="5b19" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">一个<strong class="ks jc"> <em class="mj"> @Output() </em> </strong>属性通常应该初始化为一个Angular EventEmitter，其值作为事件流出组件。</p><figure class="ml mm mn mo gt is gh gi paragraph-image"><div class="gh gi na"><img src="../Images/43a9d7b71b0545d4861147efb968ed4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*u7I9_O49wXE9DatmtbrrCg.png"/></div></figure><p id="9a52" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> <em class="mj"> @Output() </em> </strong>将子组件中的一个属性标记为一个入口，帮助我们将数据从子组件传递到父组件。然后，子组件必须引发一个事件来通知父组件发生了变化。</p><p id="e2ad" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">要引发事件，<strong class="ks jc"> <em class="mj"> @Output() </em> </strong>必须使用EventEmitter，它是@angular/core中用于发出自定义事件的类。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="66ad" class="mu ln jb mq b gy mv mw l mx my">import { Output, EventEmitter } from '@angular/core';</span><span id="a250" class="mu ln jb mq b gy mz mw l mx my">export class HeroesComponent implements OnInit {<br/><strong class="mq jc">@Output() newHero = new EventEmitter&lt;Hero&gt;();</strong></span><span id="8fac" class="mu ln jb mq b gy mz mw l mx my">addNewHero(hero: Hero) {<br/>    this.newHero.emit(hero);<br/>  }<br/>}</span></pre><p id="f214" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这里，</p><ul class=""><li id="940d" class="nb nc jb ks b kt ku kw kx kz nd ld ne lh nf ll ng nh ni nj bi translated"><strong class="ks jc"> @Output() : </strong>一个装饰函数，将属性标记为数据从子节点到父节点的一种方式</li><li id="07ce" class="nb nc jb ks b kt nk kw nl kz nm ld nn lh no ll ng nh ni nj bi translated"><strong class="ks jc">new hero:</strong><strong class="ks jc"><em class="mj">@ Output()</em></strong>的名称</li><li id="0c9e" class="nb nc jb ks b kt nk kw nl kz nm ld nn lh no ll ng nh ni nj bi translated"><strong class="ks jc">新事件发射器&lt;英雄&gt; () : </strong>告诉Angular创建一个新的事件发射器，并且它发出的数据是英雄对象类型。类型可以是任何类型，如数字、布尔等。</li><li id="249b" class="nb nc jb ks b kt nk kw nl kz nm ld nn lh no ll ng nh ni nj bi translated"><strong class="ks jc"> addNewHero : </strong>使用<strong class="ks jc"> <em class="mj"> @Output() </em> </strong>，<strong class="ks jc"> <em class="mj"> newHero </em> </strong>来引发一个事件，在这个事件中它发出英雄值。</li></ul><h1 id="dc07" class="lm ln jb bd lo lp lq lr ls lt lu lv lw kh lx ki ly kk lz kl ma kn mb ko mc md bi translated">总而言之:</h1><figure class="ml mm mn mo gt is gh gi paragraph-image"><div class="gh gi np"><img src="../Images/fe23c9107560b82e7ed02f21e5859c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/0*PRHQ0F9fFZnhWTlD.png"/></div></figure><ul class=""><li id="faf0" class="nb nc jb ks b kt ku kw kx kz nd ld ne lh nf ll ng nh ni nj bi translated"><strong class="ks jc"> <em class="mj"> @Input() </em> </strong>和<strong class="ks jc"> <em class="mj"> @Output() </em> </strong>允许Angular在父上下文和子指令或组件之间共享数据。它们充当子组件的API或应用程序编程接口，因为它们允许子组件与父组件通信。</li><li id="2e25" class="nb nc jb ks b kt nk kw nl kz nm ld nn lh no ll ng nh ni nj bi translated">一个<strong class="ks jc"> <em class="mj"> @Input() </em> </strong>属性是可写的，而一个<strong class="ks jc"> <em class="mj"> @Output() </em> </strong>属性是可观察的。</li><li id="6311" class="nb nc jb ks b kt nk kw nl kz nm ld nn lh no ll ng nh ni nj bi translated"><strong class="ks jc"> <em class="mj"> @Input() </em> </strong>和<strong class="ks jc"> <em class="mj"> @Output() </em> </strong>是独立的</li><li id="b763" class="nb nc jb ks b kt nk kw nl kz nm ld nn lh no ll ng nh ni nj bi translated">我们也可以像下面这样做混叠，尽管如前所述不建议这样做。</li></ul><p id="95bd" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">元数据别名</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="b5be" class="mu ln jb mq b gy mv mw l mx my">inputs: ['input1: heroName'], // propertyName:alias<br/>outputs: ['outputEvent1: newHero']</span></pre><p id="2823" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">装饰工走样</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="f7ba" class="mu ln jb mq b gy mv mw l mx my">@Input('heroName') input2: string;  //  <a class="ae nq" href="http://twitter.com/Input" rel="noopener ugc nofollow" target="_blank">@Input</a>(alias)<br/>@Output('newHero') outputEvent2 = new EventEmitter&lt;Hero&gt;(); //  @Output(alias) propertyName = ...</span></pre></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h2 id="b740" class="mu ln jb bd lo ny nz dn ls oa ob dp lw kz oc od ly ld oe of ma lh og oh mc oi bi translated">参考</h2><p id="445e" class="pw-post-body-paragraph kq kr jb ks b kt me kc kv kw mf kf ky kz mg lb lc ld mh lf lg lh mi lj lk ll ij bi translated"><a class="ae nq" href="https://angular.io/guide/template-syntax#input-and-output-properties" rel="noopener ugc nofollow" target="_blank">棱角分明。IO </a></p><h2 id="2ddc" class="mu ln jb bd lo ny nz dn ls oa ob dp lw kz oc od ly ld oe of ma lh og oh mc oi bi translated">用简单英语写的JavaScript的注释</h2><p id="f5e9" class="pw-post-body-paragraph kq kr jb ks b kt me kc kv kw mf kf ky kz mg lb lc ld mh lf lg lh mi lj lk ll ij bi translated">我们总是有兴趣帮助推广高质量的内容。如果你有一篇文章想用简单的英语提交给JavaScript，用你的中级用户名发邮件到submissions@javascriptinplainenglish.com<a class="ae nq" href="mailto:submissions@javascriptinplainenglish.com" rel="noopener ugc nofollow" target="_blank"><strong class="ks jc"/></a>给我们，我们会把你添加为作者。</p><p id="093a" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们还推出了三种新的出版物！请关注我们的新出版物:<a class="ae nq" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="ks jc">AI in Plain English</strong></a><a class="ae nq" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="ks jc">UX in Plain English</strong></a><a class="ae nq" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="ks jc">Python in Plain English</strong></a><strong class="ks jc"/>——谢谢，继续学习！</p></div></div>    
</body>
</html>