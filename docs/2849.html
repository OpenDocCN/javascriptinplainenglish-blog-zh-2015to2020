<html>
<head>
<title>jQuery Tips — Disable Scroll, Copy for Formatting, Toggle Elements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">jQuery提示-禁用滚动、复制格式、切换元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/jquery-tips-disable-scroll-copy-for-formatting-toggle-elements-3058fd27795b?source=collection_archive---------4-----------------------#2020-07-29">https://javascript.plainenglish.io/jquery-tips-disable-scroll-copy-for-formatting-toggle-elements-3058fd27795b?source=collection_archive---------4-----------------------#2020-07-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fe78e37d0d093f969e99003732316c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*11mp1Z_MW6wCFi_M"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@blizzard88?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Grant Durr</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f257" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管已经过时，jQuery仍然是一个流行的操纵DOM的库。</p><p id="f2a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些使用jQuery的技巧。</p><h1 id="d77b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">暂时禁用滚动</h1><p id="aef3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过隐藏正在滚动的div的溢出来暂时禁用滚动。</p><p id="00fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以创建<code class="fe me mf mg mh b">disableScroll</code>功能来禁用滚动。</p><p id="03f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过写信来实现这一点:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="41e3" class="mq lc iq mh b gy mr ms l mt mu">function disableScroll() {<br/>  document.getElementById('scrollbar').style.display = 'block';<br/>  document.body.style.overflow = 'hidden';<br/>}</span></pre><p id="5d58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到ID为<code class="fe me mf mg mh b">scrollbar</code>的元素，并将其显示为块元素。</p><p id="ada5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后设置<code class="fe me mf mg mh b">overflow</code>为隐藏。</p><h1 id="c1ce" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用jQuery复制到带格式的剪贴板</h1><p id="9b74" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要使用jQuery将带有格式的文本复制到剪贴板，我们可以使带有格式的元素可编辑。</p><p id="d680" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以为焦点事件设置一个处理程序。</p><p id="e83f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当元素被聚焦时，我们调用<code class="fe me mf mg mh b">document.execCommand</code>方法选择所有项目。</p><p id="af82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦选择了项目，我们就可以调用文档上的<code class="fe me mf mg mh b">copy</code>命令。</p><p id="a1c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在元素上调用<code class="fe me mf mg mh b">removeChild</code>。</p><p id="f071" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="57ed" class="mq lc iq mh b gy mr ms l mt mu">const copyWithFormatting = (elementId) =&gt; {<br/>  const temp = document.createElement("div");<br/>  temp.setAttribute("contentEditable", true);<br/>  temp.innerHTML = document.getElementById(elementId).innerHTML;<br/>  temp.setAttribute("onfocus", "document.execCommand('selectAll', false, null)"); <br/>  document.body.appendChild(temp);<br/>  temp.focus();<br/>  document.execCommand("copy");<br/>  document.body.removeChild(temp);<br/>}</span></pre><p id="4f3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建一个临时div，然后通过设置<code class="fe me mf mg mh b">contentEditable</code>属性使其可编辑。</p><p id="2a23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们从带有<code class="fe me mf mg mh b">elementId</code>的元素中获取HTML，并将其设置为<code class="fe me mf mg mh b">temp</code>元素的<code class="fe me mf mg mh b">innerHTML</code>的HTML内容。</p><p id="c0ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在它上面添加一个焦点处理程序来选择元素中的所有项目:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f6b8" class="mq lc iq mh b gy mr ms l mt mu">temp.setAttribute("onfocus", "document.execCommand('selectAll', false, null)");</span></pre><p id="9a31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们称之为<code class="fe me mf mg mh b">appendChild</code>将其附着在身体上。</p><p id="fb8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们专注于我们创建的临时元素。</p><p id="a220" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们这样做了，我们就可以调用<code class="fe me mf mg mh b">'copy'</code>命令来复制临时元素的内容，因为我们已经选择了所有内容。</p><p id="4d5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后当我们完成复制时，我们调用<code class="fe me mf mg mh b">removeChild</code>来移除临时元素。</p><p id="4cfa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，我们必须知道<code class="fe me mf mg mh b">execCommand</code>被标记为过时。</p><p id="69e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当新的剪贴板API被广泛使用时，我们应该用新的API替换它。</p><h1 id="e040" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">跳到jQuery .每个()中的下一个迭代</h1><p id="70b5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用<code class="fe me mf mg mh b">$.each</code>跳转到下一个迭代，我们可以在回调中返回<code class="fe me mf mg mh b">true</code>跳转到下一个迭代。</p><p id="5d8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a953" class="mq lc iq mh b gy mr ms l mt mu">const arr = ['foo', 'bar', 'baz', 'qux'];<br/>$.each(arr, (i) =&gt; {<br/>  if (arr[i] === 'bar') {<br/>    return true;<br/>  }<br/>  console.log(arr[i]);<br/>});</span></pre><p id="cb88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过在回调中返回<code class="fe me mf mg mh b">true</code>跳到下一个迭代，正如我们在:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cfac" class="mq lc iq mh b gy mr ms l mt mu">if (arr[i] === 'bar') {<br/>  return true;<br/>}</span></pre><h1 id="5884" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用jQuery更改CSS显示无或块属性</h1><p id="534b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">jQuery有专门的方法让我们改变元素来显示块或不显示。</p><p id="f673" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2fb4" class="mq lc iq mh b gy mr ms l mt mu">$('#foo').hide();</span></pre><p id="8d8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">隐藏标识为<code class="fe me mf mg mh b">foo</code>的元素。</p><p id="5b36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b9cf" class="mq lc iq mh b gy mr ms l mt mu">$('#foo').show();</span></pre><p id="1741" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示我们的ID为<code class="fe me mf mg mh b">foo</code>的元素。</p><p id="56f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用CSS方法来做同样的事情。</p><p id="dd02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="78e9" class="mq lc iq mh b gy mr ms l mt mu">$("#foo").css("display", "none");</span></pre><p id="7eb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">隐藏该元素并为其他元素释放空间。</p><p id="1941" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3408" class="mq lc iq mh b gy mr ms l mt mu">$("#foo").css("display", "block");</span></pre><p id="8b9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使ID为<code class="fe me mf mg mh b">foo </code>的元素显示为块元素。</p><h1 id="ebd5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用jQuery在“Enter”上提交表单</h1><p id="fb3f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">keypress</code>方法监听按键事件，在Enter键被按下时提交一个表单。</p><p id="8646" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="15ad" class="mq lc iq mh b gy mr ms l mt mu">$('.input').keypress((e) =&gt; {<br/>  if (e.which === 13) {<br/>    $('form#task').submit();<br/>    return false;<br/>  }<br/>});</span></pre><p id="7381" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们监听类为<code class="fe me mf mg mh b">input</code>的元素上的按键事件。</p><p id="c81e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">keypress</code>来添加按键监听器。</p><p id="a9b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在处理程序回调中，我们使用<code class="fe me mf mg mh b">which</code>属性来获取被按下的键的键码。</p><p id="8d8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是13，就按回车键。</p><p id="8eb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用ID为<code class="fe me mf mg mh b">task</code>的表单元素上的<code class="fe me mf mg mh b">submit </code>来提交表单的内容。</p><p id="db33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须在最后返回<code class="fe me mf mg mh b">false</code>来停止默认的提交行为，并停止按键事件的传播。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/bb33008ecba279327504385095cafebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qwmPN83TukAANcvd"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@photoripey?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ibrahim Rifath</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="4e1f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7813" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过禁止从主体溢出来禁止滚动。</p><p id="1e73" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要从一个元素中复制内容，我们可以使用<code class="fe me mf mg mh b">document.execCommand</code>方法来完成。</p><p id="0f1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管它已经过时了，但我们可以使用它，直到剪贴板API广泛可用。</p><p id="7486" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们使用<code class="fe me mf mg mh b">each</code>时，我们可以返回<code class="fe me mf mg mh b">true</code>来跳过一次迭代。</p><h2 id="9ce7" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="c297" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>