<html>
<head>
<title>Creating a Confirm Dialog in React and Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React和Tailwind CSS中创建确认对话框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-a-confirm-dialog-in-react-and-tailwind-css-3b99f6e56fab?source=collection_archive---------1-----------------------#2020-09-15">https://javascript.plainenglish.io/creating-a-confirm-dialog-in-react-and-tailwind-css-3b99f6e56fab?source=collection_archive---------1-----------------------#2020-09-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/b855d426aa429ec79417c1c9b27eac0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*5QD8DKhOjRe-gcYjozlLNQ.png"/></div></figure><p id="0476" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在这篇文章中，我们将介绍如何使用React和Tailwind CSS创建一个确认对话框。这篇文章将大致回顾我的另一篇文章中的逻辑，在React和Material UI中创建确认对话框，然而这篇文章将使用Tailwind CSS。</p></div><div class="ab cl kq kr hr ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ig ih ii ij ik"><p id="4597" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在每个应用程序中都有你想删除某些东西的时候。所以像每个开发者一样，你添加一个按钮，当点击它时，删除资源。</p><p id="81b6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">无论是一篇博客文章、一个购物车中的商品，还是禁用一个帐户，您都希望防止不必要的按钮点击。</p><p id="28f3" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">进入确认对话框。</p><p id="0a20" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">有时候你确实想执行一个动作而不总是提示用户一个确认对话框，有时候总是提示用户会很烦人。</p><blockquote class="kx ky kz"><p id="4455" class="jr js la jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ig bi translated">嘿，你想这么做吗？</p><p id="cd06" class="jr js la jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ig bi translated">不，真的，你想这么做吗？</p></blockquote><p id="d631" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">有时候，我会很烦，告诉自己，还有应用。是啊！我当然想做动作。不然我为什么会点击它？</p><p id="4ba6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">然而，当涉及到删除敏感数据时，比如一篇博客文章，我建议添加一个确认对话框，这样用户就可以得到警告，如果他们不小心误点击了它，就可以退出。</p><p id="738d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在我们开始之前，让我们看看如何实现这是原生JavaScript。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="7325" class="ln lo in lj b gy lp lq l lr ls">var shouldDelete = confirm('Do you really want to delete this awesome Medium article?');</span><span id="a853" class="ln lo in lj b gy lt lq l lr ls">if (shouldDelete) {<br/>  deleteArticle();<br/>}</span></pre><p id="ccd9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这将提示一个默认的确认框，并提示用户“您真的想删除这篇很棒的文章吗？”</p><p id="8b72" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">如果用户单击Yes，那么它会将shouldDelete布尔值设置为true，并运行deleteArticle函数。如果他们单击“否”或“取消”，将关闭对话框。</p><p id="507f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">但是确认对话框的本地浏览器实现有点无聊，所以让我们用React和Tailwind CSS做一个看起来不错的版本。</p><p id="9734" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">让我们从创建一个可重用的组件开始。您可以在任何使用React和Tailwind的应用程序中使用它。</p><p id="b0c0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我还可以提一下，我正在使用NextJs和Typescript来服务我的React组件。</p><p id="a675" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先，我们需要构建一个对话框组件。我将使用另一篇文章来帮助构建基本的对话框。您可以遵循本文或使用我制作的组件。</p><div class="lu lv gp gr lw lx"><a href="https://codeburst.io/creating-a-modal-dialog-with-tailwind-css-42722c9aea4f" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">用Tailwind CSS创建一个模态对话框</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">在我探索、学习和使用最近发布的Tailwind CSS“实用优先”CSS框架时，我想与大家分享…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">codeburst.io</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jp lx"/></div></div></a></div><h1 id="7a41" class="mm lo in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">基本对话框</h1><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="aa9c" class="ln lo in lj b gy lp lq l lr ls">import ExitIcon from '@components/Icons/Exit';<br/>import IconButton from '@components/Button/IconButton';</span><span id="06a7" class="ln lo in lj b gy lt lq l lr ls">interface Props {<br/>  children: React.ReactNode;<br/>  open: boolean;<br/>  onClose: Function;<br/>}</span><span id="eb6a" class="ln lo in lj b gy lt lq l lr ls">export default function Dialog(props: Props) {<br/>  const { open, onClose } = props;<br/>  if (!open) {<br/>    return &lt;&gt;&lt;/&gt;;<br/>  }</span><span id="8821" class="ln lo in lj b gy lt lq l lr ls">  return (<br/>    &lt;div className="fixed inset-0 z-50 overflow-auto bg-smoke-light flex"&gt;<br/>      &lt;div className="relative p-8 bg-white w-full max-w-md m-auto flex-col flex rounded-lg"&gt;<br/>      &lt;div&gt;{props.children}&lt;/div&gt;<br/>      &lt;span className="absolute top-0 right-0 p-4"&gt;     </span><span id="afa6" class="ln lo in lj b gy lt lq l lr ls">       &lt;IconButton onClick={() =&gt; onClose()}&gt;<br/>         &lt;ExitIcon /&gt;<br/>       &lt;/IconButton&gt;<br/>     &lt;/span&gt;<br/>     &lt;/div&gt;<br/>   &lt;/div&gt;<br/> );<br/>}</span></pre><p id="0242" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我已经预先制作了一些其他的辅助组件，如图标按钮和退出图标。</p><h1 id="6705" class="mm lo in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">图标按钮</h1><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="145e" class="ln lo in lj b gy lp lq l lr ls">interface Props {<br/>  children: React.ReactNode;<br/>  onClick?: (event: React.MouseEvent&lt;HTMLButtonElement&gt;) =&gt; void;<br/>  className?: string;<br/>}</span><span id="3f72" class="ln lo in lj b gy lt lq l lr ls">export default function IconButton(props: Props) {<br/>  const {<br/>    children,<br/>    onClick = (event: React.MouseEvent&lt;HTMLButtonElement&gt;) =&gt; {},<br/>    className = '',<br/>  } = props;</span><span id="6796" class="ln lo in lj b gy lt lq l lr ls">  return (<br/>    &lt;button<br/>      onClick={onClick}<br/>      className={`focus:outline-none focus:border-none hover:bg-gray-400 hover:bg-opacity-25 p-2 rounded-full inline-flex items-center ${className}`}<br/>    &gt;<br/>      {children}<br/>    &lt;/button&gt;<br/>  );<br/>}</span></pre><h1 id="7b97" class="mm lo in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">ExitIcon</h1><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="bc7b" class="ln lo in lj b gy lp lq l lr ls">export default function ExitIcon() {<br/>  return (<br/>    &lt;svg<br/>      className="h-6 w-6 fill-current text-grey hover:text-grey-darkest"<br/>      role="button"<br/>      <br/>      viewBox="0 0 20 20"<br/>    &gt;<br/>      &lt;path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" /&gt;<br/>    &lt;/svg&gt;<br/>  );<br/>}</span></pre><h1 id="3c4e" class="mm lo in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">纽扣</h1><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="b3c2" class="ln lo in lj b gy lp lq l lr ls">interface Props {<br/>  children: React.ReactNode;<br/>  type?: 'submit' | 'button' | 'reset';<br/>  onClick?: (event: React.MouseEvent&lt;HTMLButtonElement, MouseEvent&gt;) =&gt; void;<br/>  className?: string;<br/>}</span><span id="f119" class="ln lo in lj b gy lt lq l lr ls">export default function Button(props: Props) {<br/>  const { type = 'button', children, onClick, className = '' } = props;<br/>  return (<br/>    &lt;button<br/>      className={`bg-primary hover:bg-primary-light text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${className}`}<br/>      type={type}<br/>      onClick={onClick}<br/>    &gt;<br/>      {children}<br/>    &lt;/button&gt;<br/>  );<br/>}</span></pre><h1 id="0ebe" class="mm lo in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">确认对话框</h1><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="ff98" class="ln lo in lj b gy lp lq l lr ls">import Dialog from './Dialog';<br/>import Button from '@components/Button/Button';</span><span id="7b05" class="ln lo in lj b gy lt lq l lr ls">interface Props {<br/>  title: string;<br/>  children: React.ReactNode;<br/>  open: boolean;<br/>  onClose: Function;<br/>  onConfirm: Function; <br/>}</span><span id="9c02" class="ln lo in lj b gy lt lq l lr ls">export default function Confirm(props: Props) {<br/>  const { open, onClose, title, children, onConfirm } = props;<br/>  if (!open) {<br/>    return &lt;&gt;&lt;/&gt;;<br/>  }<br/>  <br/>  return (<br/>    &lt;Dialog open={open} onClose={onClose}&gt;<br/>      &lt;h2 className="text-xl"&gt;{title}&lt;/h2&gt;<br/>      &lt;div className="py-5"&gt;{children}&lt;/div&gt;<br/>      &lt;div className="flex justify-end"&gt;<br/>        &lt;div className="p-1"&gt;<br/>          &lt;Button<br/>            onClick={() =&gt; onClose()}<br/>            className="bg-secondary hover:bg-secondary-light"<br/>          &gt;<br/>            No<br/>          &lt;/Button&gt;<br/>        &lt;/div&gt;<br/>        &lt;div className="p-1"&gt;<br/>          &lt;Button<br/>            onClick={() =&gt; {<br/>              onClose();<br/>              onConfirm();<br/>            }}<br/>          &gt;<br/>            Yes<br/>          &lt;/Button&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/Dialog&gt;<br/>  );<br/>}</span></pre><p id="0894" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">该组件将接受这些道具:</p><ol class=""><li id="96d1" class="nj nk in jt b ju jv jy jz kc nl kg nm kk nn ko no np nq nr bi translated">标题—这是将显示为对话框标题的内容</li><li id="7d77" class="nj nk in jt b ju ns jy nt kc nu kg nv kk nw ko no np nq nr bi translated">孩子—这是将在对话框内容中显示的内容。这可以是一个字符串，也可以是另一个更复杂的组件。</li><li id="103f" class="nj nk in jt b ju ns jy nt kc nu kg nv kk nw ko no np nq nr bi translated">打开—这是告诉对话框显示的内容。</li><li id="ea7e" class="nj nk in jt b ju ns jy nt kc nu kg nv kk nw ko no np nq nr bi translated">onClose —这是一个状态函数，将对话框的状态设置为关闭。</li><li id="f2a3" class="nj nk in jt b ju ns jy nt kc nu kg nv kk nw ko no np nq nr bi translated">onConfirm —这是用户单击“是”时的回调函数。</li></ol><p id="ed1a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这只是一个基本的确认对话框，您可以修改它以满足您的需要，例如更改“是”或“否”按钮。</p><p id="1e1e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在让我们看看如何在我们的应用程序中使用这个组件。</p><p id="f72f" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">例如，假设我们有一个列出博客文章的表。我们希望当我们单击一个删除图标时运行一个函数，它将显示这个确认对话框，当我们单击“是”时，它将运行一个deletePost函数。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="d8b8" class="ln lo in lj b gy lp lq l lr ls">&lt;div&gt;<br/>  &lt;IconButton aria-label="delete" onClick={() =&gt;     setConfirmOpen(true)}&gt;<br/>    &lt;DeleteIcon /&gt;<br/>  &lt;/IconButton&gt;<br/>  &lt;ConfirmDialog<br/>    title="Delete Post?"<br/>    open={confirmOpen}<br/>    onClose={() =&gt; setConfirmOpen(false)}<br/>    onConfirm={deletePost}<br/>  &gt;<br/>    Are you sure you want to delete this post?<br/>  &lt;/ConfirmDialog&gt;<br/>&lt;/div&gt;</span></pre><p id="3e4e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在这个组件中，我们需要用属性open、onClose和onConfirm实现ConfirmDialog。Open和setOpen通过使用React状态来控制，onConfirm接受一个名为deletePost的函数，该函数调用一个API来删除这个特定的帖子。实现这些超出了本文的范围。我将让它来实现这些函数的实际功能。</p><p id="8e88" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">你有它！创建一个可重复使用的确认对话框非常容易，它看起来比默认的本地浏览器对话框要好一百万倍。</p><figure class="le lf lg lh gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi nx"><img src="../Images/df8414840940382ed67aada641a25c7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OyMlFlGmOwl1eyGUaSTEvg.png"/></div></div></figure><h1 id="7399" class="mm lo in bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">顺风CSS注释</h1><p id="2e1e" class="pw-post-body-paragraph jr js in jt b ju oc jw jx jy od ka kb kc oe ke kf kg of ki kj kk og km kn ko ig bi translated">我最近发现了Tailwind CSS，我喜欢它的每一分钟。Tailwind CSS是一个实用至上的CSS框架，易于使用，可以在几秒钟内让一些东西看起来很棒。Material UI和Tailwind CSS之间的区别在于，前者有大量预构建的组件，这些组件在各个应用程序之间看起来都是一样的，而后者使用实用程序类来构建您想要的组件，在不同的应用程序上，您可以为每个应用程序配置自己的外观。请查看并给我留下评论。</p><div class="lu lv gp gr lw lx"><a href="https://tailwindcss.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">tailwind CSS——一个实用的CSS框架，用于快速构建定制设计</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">它们带有各种预先设计的组件，如按钮、卡片和警报，可以帮助您快速移动…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">tailwindcss.com</p></div></div><div class="mg l"><div class="oh l mi mj mk mg ml jp lx"/></div></div></a></div><p id="bace" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">另外，快速喊出这个网站，它使得SVG图标在使用Tailwind CSS的React组件中更容易使用。</p><div class="lu lv gp gr lw lx"><a href="https://heroicons.dev/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">开源SVG图标库</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">新的，麻省理工学院开源SVG图标库设计的史蒂夫肖格尔。实心和笔画变体，一键复制粘贴，以及…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">heroicons.dev</p></div></div><div class="mg l"><div class="oi l mi mj mk mg ml jp lx"/></div></div></a></div><h2 id="4065" class="ln lo in bd mn oj ok dn mr ol om dp mv kc on oo mz kg op oq nd kk or os nh ot bi translated"><strong class="ak">用简单英语写的JavaScript</strong></h2><p id="2b2b" class="pw-post-body-paragraph jr js in jt b ju oc jw jx jy od ka kb kc oe ke kf kg of ki kj kk og km kn ko ig bi translated">你知道我们有三份出版物和一个YouTube频道吗？在<a class="ae kp" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank">T3【plain English . ioT5】找到一切的链接！</a></p></div></div>    
</body>
</html>