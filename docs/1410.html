<html>
<head>
<title>How to make your React Native apps still look good on phones with notches</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何让您的React Native应用程序在有缺口的手机上看起来仍然不错</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-safe-area-padding-bbc155295aec?source=collection_archive---------5-----------------------#2020-03-12">https://javascript.plainenglish.io/react-native-safe-area-padding-bbc155295aec?source=collection_archive---------5-----------------------#2020-03-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6dccd6d953441fec15ce5e2831d46566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4iNMlLJRdM3DAEGJwhtMpw.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@bhaguz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Bagus Hernawan</a> on <a class="ae jz" href="https://unsplash.com/s/photos/iphone-x?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6d2e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">“新的”苹果手机X和所有其他现在有缺口的新手机看起来都很棒，他们肯定做了正确的事情，否则我们就不会和他们一起走了。</p><p id="5a31" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不幸的是，你的移动应用需要的填充对每部手机来说都是不同的。Android不同，iPhone X不同于iPhone 8等等。幸运的是，有一个软件包可以帮助您。</p><p id="1ee4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">反应原生社区的<a class="ae jz" href="https://github.com/react-native-community/react-native-safe-area-view" rel="noopener ugc nofollow" target="_blank">反应原生安全区视图</a>是一个了不起的反应原生社区建立的伟大的包。它是开源的，并且仍然不时更新。</p><h1 id="a671" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">建立以博览会回应本土</h1><p id="073b" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">好吧，我将通过使用<a class="ae jz" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank"> Expo </a>构建一个示例来解释这一点，这是一个您可以使用的工具，也是React Native的团队实际上推荐的工具。</p><p id="622c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mb">提示:如果您已经知道如何使用Expo建立项目，您可以跳到下一个大标题。名为“添加安全视图”</em></p><p id="a4ac" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以继续打开你最喜欢的工具。(我的是Jetbrains的网络风暴。很高兴成为一名学生。)并打开命令行。我假设你已经安装了Expo，否则你可以按照这里的<a class="ae jz" href="https://reactnative.dev/docs/getting-started" rel="noopener ugc nofollow" target="_blank"/>操作。</p><p id="616b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在控制台中运行以下代码，使用Expo初始化一个项目。当然，你可以把名字从<code class="fe mc md me mf b">reactNativeSafeAreaExample </code>改成你喜欢的任何名字。</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="ab75" class="mo kz in mf b gy mp mq l mr ms">expo init reactNativeSafeAreaExample &amp;&amp; cd reactNativeSafeAreaExample</span></pre><p id="3184" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">系统将提示您选择一个模板。用箭头键选择默认(空白)模板，然后按enter键。世博会现在将启动这个项目。</p><p id="bdbc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">确保你的命令行也进入了新的文件夹，或者使用<code class="fe mc md me mf b">cd</code>命令。</p><p id="7a33" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用<code class="fe mc md me mf b">yarn start</code>运行项目，并按照给定的说明在手机上打开应用程序。请确保在您的手机上安装Expo应用程序。您可以在<a class="ae jz" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank">世博会</a>网站上找到使用说明。</p><h2 id="7cc2" class="mo kz in bd la mt mu dn le mv mw dp li kl mx my lm kp mz na lq kt nb nc lu nd bi translated">删除样式</h2><p id="0922" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">在这种情况下，Hello World应用程序的默认样式是居中的文本。打开您的App.js，在底部应该有一些如下所示的代码:</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">App.js</figcaption></figure><p id="4239" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是造型发生的地方。继续移除所有的造型。或者至少是<code class="fe mc md me mf b">alignItems </code>和<code class="fe mc md me mf b">justifyContent</code>。如果你保存app.js，你的手机或模拟器上的应用程序应该会更新，你的文本应该移到左上角的某个地方，没有填充。在iPhone X或类似产品上，它可能很难阅读，因为它在凹槽下面，在应该是透明的状态栏下面。</p><h1 id="ed5f" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">添加安全区域视图</h1><p id="256a" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">在mac上按<code class="fe mc md me mf b">ctrl + c</code>或<code class="fe mc md me mf b">cmd + c</code>停止命令行。在项目文件夹中运行以下命令。</p><p id="ab3c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mc md me mf b">expo install react-native-safe-area-view react-native-safe-area-context</code></p><p id="b369" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将安装您需要的软件包。之后，您可以使用<code class="fe mc md me mf b">yarn start</code>再次运行应用程序。</p><p id="6f2f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当软件包安装完成后，您需要将它添加到您的项目中。通过在顶部添加这一行来更新您的App.js:</p><p id="7d27" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mc md me mf b">import { SafeAreaProvider } from ‘react-native-safe-area-context’;</code></p><p id="d029" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你现在可以用新获得的<code class="fe mc md me mf b">&lt;SafeAreaProvider&gt;</code>包围你的<code class="fe mc md me mf b">&lt;View&gt;</code>。你的App.js看起来应该有点像这样:(不包括样式和其他导入)</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">App.js</figcaption></figure><p id="415a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，您还需要通过在顶部添加这一行来导入<code class="fe mc md me mf b">SafeAreaView</code>:</p><p id="9361" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mc md me mf b">import SafeAreaView from ‘react-native-safe-area-view’;</code></p><p id="86dd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">导入后，您可以在App.js中更新您的return语句，以包含SafeAreaView。</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">App.js</figcaption></figure><p id="961c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你现在在你的手机或模拟器上刷新你的应用程序，你会看到安全区域视图已经被应用，你的文本将再次可读。</p><h2 id="f60c" class="mo kz in bd la mt mu dn le mv mw dp li kl mx my lm kp mz na lq kt nb nc lu nd bi translated">在组件上使用安全区域视图</h2><p id="37de" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">当然，你可能不希望在整个应用程序上应用SafeAreaView。你可能需要一个背景颜色或其他特征，你仍然需要访问那个“不安全”的区域。这很容易做到。您可以创建一个新组件，而不是在App.js中包围主视图:</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">CoolText.js</figcaption></figure><p id="77b7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我还在文本上添加了一些样式，但这是可选的。</p><p id="23d2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，我们需要导入安全区域视图并用<code class="fe mc md me mf b">&lt;SafeAreaView&gt;</code>组件包围<code class="fe mc md me mf b">&lt;Text&gt;</code>。这里不需要safeAreaProvider。</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">CoolText.js</figcaption></figure><p id="2fb5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，更新您的App.js以包含CoolText组件，并移除SafeAreaView</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">App.js</figcaption></figure><p id="9a9e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在你知道了。一个应用程序，使用安全区域视图和安全区域提供者。</p><h1 id="9fb4" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="f5e8" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">如果你想要更深入的信息，你可以查看这个网站的官方网站，或者如果你想看完整个例子，你可以在我的GitHub上查看。</p><p id="8d41" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我希望这是有帮助的，非常感谢您的阅读。</p></div></div>    
</body>
</html>