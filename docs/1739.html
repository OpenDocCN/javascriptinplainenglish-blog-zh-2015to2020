<html>
<head>
<title>Defining Nested Routes with Vue Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vue路由器定义嵌套路由</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/defining-nested-routes-with-vue-router-2ce874cf2ca0?source=collection_archive---------2-----------------------#2020-04-18">https://javascript.plainenglish.io/defining-nested-routes-with-vue-router-2ce874cf2ca0?source=collection_archive---------2-----------------------#2020-04-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/048fe2f316783ec8d1ae7b03f192b03e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lb7D5bAZp9nr2D4a"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">chuttersnap</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b292" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js是一个易于使用的web应用框架，我们可以用它来开发交互式前端应用。</p><p id="85c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Vue路由器定义嵌套路由。</p><h1 id="ecb7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">为什么我们需要嵌套路由？</h1><p id="c863" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们需要嵌套路由来组织组件嵌套多层的路由。</p><p id="2648" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们必须找到一种组织路线的方法，如:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="42c5" class="mn lc iq mj b gy mo mp l mq mr">/user/bar/profile                     <br/>/user/bar/posts</span></pre><p id="491e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">变成一个连贯的地方。</p><h1 id="21f5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">定义嵌套路线</h1><p id="3146" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过在路由条目中添加一个<code class="fe ms mt mu mj b">children</code>数组来定义嵌套路由，然后在父路由的模板中，我们必须添加<code class="fe ms mt mu mj b">router-view</code>来显示子路由。</p><p id="9eab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样写:</p><p id="c2e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">src/index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a8bb" class="mn lc iq mj b gy mo mp l mq mr">const Profile = { template: "&lt;p&gt;{{$route.params.user}}'s profile&lt;/p&gt;" };<br/>const Posts = { template: "&lt;p&gt;{{$route.params.user}}'s posts&lt;/p&gt;" };<br/>const User = {<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;p&gt;user - {{$route.params.user}}&lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>`<br/>};<br/>const routes = [<br/>  {<br/>    path: "/user/:user",<br/>    component: User,<br/>    children: [<br/>      { path: "posts", component: Posts },<br/>      { path: "profile", component: Profile }<br/>    ]<br/>  }<br/>];</span><span id="68b8" class="mn lc iq mj b gy mv mp l mq mr">const router = new VueRouter({<br/>  routes<br/>});</span><span id="bb0d" class="mn lc iq mj b gy mv mp l mq mr">new Vue({<br/>  el: "#app",<br/>  router<br/>});</span></pre><p id="3a76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.html</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5381" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue-router/dist/vue-router.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue-router/dist/vue-router.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;div&gt;<br/>        &lt;router-link to="/user/foo"&gt;Foo User&lt;/router-link&gt;<br/>        &lt;router-link to="/user/foo/posts"&gt;Foo Post&lt;/router-link&gt;<br/>        &lt;router-link to="/user/foo/profile"&gt;Foo Profile&lt;/router-link&gt;<br/>      &lt;/div&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c367" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="159a" class="mn lc iq mj b gy mo mp l mq mr">const routes = [<br/>  {<br/>    path: "/user/:user",<br/>    component: User,<br/>    children: [<br/>      { path: "posts", component: Posts },<br/>      { path: "profile", component: Profile }<br/>    ]<br/>  }<br/>];</span></pre><p id="3487" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">定义子路由。</p><p id="59ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">Posts</code>和<code class="fe ms mt mu mj b">Profile</code>组件就像我们通常定义的任何组件一样。</p><p id="1506" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，<code class="fe ms mt mu mj b">User</code>组件有<code class="fe ms mt mu mj b">router-view</code>来显示<code class="fe ms mt mu mj b">Posts</code>和<code class="fe ms mt mu mj b">Profile</code>组件的内容。</p><p id="9d15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在模板中，我们有3条通向根路由和子路由的路由器链路:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e06e" class="mn lc iq mj b gy mo mp l mq mr">&lt;router-link to="/user/foo"&gt;Foo User&lt;/router-link&gt;<br/>&lt;router-link to="/user/foo/posts"&gt;Foo Post&lt;/router-link&gt;<br/>&lt;router-link to="/user/foo/profile"&gt;Foo Profile&lt;/router-link&gt;</span></pre><p id="84c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们应该看到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="55f1" class="mn lc iq mj b gy mo mp l mq mr">Foo User Foo Post Foo Profile<br/>user - foo</span><span id="cff2" class="mn lc iq mj b gy mv mp l mq mr">foo's posts</span></pre><p id="1038" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们转到<code class="fe ms mt mu mj b">/#/user/foo/posts</code>或点击<code class="fe ms mt mu mj b">Foo Post</code>时。</p><p id="6494" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该看到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b4f4" class="mn lc iq mj b gy mo mp l mq mr">Foo User Foo Post Foo Profile</span><span id="7f00" class="mn lc iq mj b gy mv mp l mq mr">user - foo</span><span id="c707" class="mn lc iq mj b gy mv mp l mq mr">foo's profile</span></pre><p id="d11e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们转到<code class="fe ms mt mu mj b">/#/user/foo/profile</code>或点击<code class="fe ms mt mu mj b">Foo Profile</code>时。</p><p id="2471" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们转到<code class="fe ms mt mu mj b">/#/user/foo</code>或点击<code class="fe ms mt mu mj b">Foo User</code>时，我们会看到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4ca7" class="mn lc iq mj b gy mo mp l mq mr">Foo User Foo Post Foo Profile</span><span id="42ea" class="mn lc iq mj b gy mv mp l mq mr">user - foo</span></pre><p id="66e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">任何以<code class="fe ms mt mu mj b">/</code>开头的嵌套路径都将被视为根路径。这让我们可以使用组件嵌套，而不必使用嵌套的URL。</p><p id="325f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，父路由和子路由都可以访问相同的路由参数。</p><p id="b978" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以将一个<code class="fe ms mt mu mj b">UserHome</code>组件及其路由添加到上面的示例中，如下所示:</p><p id="5e3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">src/index.js</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8bcb" class="mn lc iq mj b gy mo mp l mq mr">const Profile = { template: "&lt;p&gt;{{$route.params.user}}'s profile&lt;/p&gt;" };<br/>const Posts = { template: "&lt;p&gt;{{$route.params.user}}'s posts&lt;/p&gt;" };<br/>const UserHome = { template: "&lt;p&gt;{{$route.params.user}} home&lt;/p&gt;" };<br/>const User = {<br/>  template: `<br/>    &lt;div&gt;<br/>      &lt;p&gt;user - {{$route.params.user}}&lt;/p&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>`<br/>};<br/>const routes = [<br/>  {<br/>    path: "/user/:user",<br/>    component: User,<br/>    children: [<br/>      { path: "", component: UserHome },<br/>      { path: "posts", component: Posts },<br/>      { path: "profile", component: Profile }<br/>    ]<br/>  }<br/>];</span><span id="4d1a" class="mn lc iq mj b gy mv mp l mq mr">const router = new VueRouter({<br/>  routes<br/>});</span><span id="f4ae" class="mn lc iq mj b gy mv mp l mq mr">new Vue({<br/>  el: "#app",<br/>  router<br/>});</span></pre><p id="2f4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">index.html</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ad1b" class="mn lc iq mj b gy mo mp l mq mr">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae kc" href="https://unpkg.com/vue-router/dist/vue-router.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue-router/dist/vue-router.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;div&gt;<br/>        &lt;router-link to="/user/foo"&gt;Foo User&lt;/router-link&gt;<br/>        &lt;router-link to="/user/foo/posts"&gt;Foo Post&lt;/router-link&gt;<br/>        &lt;router-link to="/user/foo/profile"&gt;Foo Profile&lt;/router-link&gt;<br/>      &lt;/div&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="e4f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们转到<code class="fe ms mt mu mj b">/user/foo</code>或点击<code class="fe ms mt mu mj b">Foo User</code>，我们会看到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9bd2" class="mn lc iq mj b gy mo mp l mq mr">Foo User Foo Post Foo Profile</span><span id="54b0" class="mn lc iq mj b gy mv mp l mq mr">user - foo</span><span id="6a96" class="mn lc iq mj b gy mv mp l mq mr">foo home</span></pre><p id="8b28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其他一切都保持不变。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/08955c99b998dd6c74a3bee30f618b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AQ8422ZZ8Fs2Tv5V"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@davidsonluna?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">D A V I D S O N L U N A</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="22bd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0c22" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过添加一个带有路由数组的<code class="fe ms mt mu mj b">children</code>属性来添加嵌套路由。</p><p id="135d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们必须将<code class="fe ms mt mu mj b">router-view</code>添加到父路由中，这样我们就可以看到子路由的内容。</p><p id="2f1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">父路由和子路由都可以访问相同的路由参数。</p><h2 id="68e7" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="9916" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a><a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a><a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>——谢谢，继续学习！</p><p id="5267" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，并附上您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>