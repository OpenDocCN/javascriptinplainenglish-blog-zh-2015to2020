<html>
<head>
<title>6 Common Git Mistakes and How to Fix Them</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">6个常见的Git错误以及如何修复它们</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/6-common-git-mistakes-and-how-to-fix-them-b519bd351001?source=collection_archive---------4-----------------------#2020-10-02">https://javascript.plainenglish.io/6-common-git-mistakes-and-how-to-fix-them-b519bd351001?source=collection_archive---------4-----------------------#2020-10-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fcaa" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何通过这些简单的命令立即摆脱困境</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="http://How most developers would like to name their commits"><div class="gh gi kf"><img src="../Images/4f75b123eeb10b6cafac67ab50b27031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xhcHyUIxhrkAqw4IcZE80Q.png"/></div></a><figcaption class="kn ko gj gh gi kp kq bd b be z dk">How most developers would like to name their commits</figcaption></figure><p id="9e91" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作为开发人员，Git可能是您最好的朋友，但它也可能是您工作流程中相当多错误的来源。这里列出了最常见的问题、日常问题以及解决方法。</p><p id="de38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">注意:如果你不知道这里显示的任何命令，你可以在文章底部找到它们的官方Git文档链接。</em></p><h1 id="746e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">1.您拼错了最后一条提交消息</h1><p id="8a4d" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">你意识到你刚刚提交了一个错误的拼写，比如<code class="fe ml mm mn mo b">"Fix lanting page"</code>，你不想让你的同事觉得你很笨。</p><p id="14f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">只需使用:</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="3bbe" class="mt lp iq mo b gy mu mv l mw mx">git commit --amend<!-- --> </span></pre><p id="b7bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">或者</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="8f4a" class="mt lp iq mo b gy mu mv l mw mx">git commit --amend -m "Fix landing page"</span></pre><p id="b3b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此命令将允许您将任何暂存的更改与您的最后一次提交相结合。如果没有暂存任何内容，您可以使用它来更新提交消息，就像在这种情况下一样，或者通过新的CLI提示符(如第一个命令所示),或者直接使用它(如第二个命令所示)。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="5846" class="lo lp iq bd lq lr nf lt lu lv ng lx ly jw nh jx ma jz ni ka mc kc nj kd me mf bi translated">2.您在上次提交时忘记了一个文件</h1><p id="74f2" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">在这种情况下，你也可以使用<code class="fe ml mm mn mo b">git commit --amend</code>，比如，假设你在最后一次提交时忘记了一个文件。</p><p id="fc38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">只需将其添加到临时区域，然后再次运行该命令。</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="1213" class="mt lp iq mo b gy mu mv l mw mx">git add landingpage.js<br/>git commit --amend</span></pre></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="4ffc" class="lo lp iq bd lq lr nf lt lu lv ng lx ly jw nh jx ma jz ni ka mc kc nj kd me mf bi translated">3.您推送了一个有问题的提交</h1><p id="4a2f" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">您意识到您用一些您认为可以运行的代码进行了提交，但是它实际上是不可接受的。</p><p id="d693" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以通过运行以下命令来解决这个问题:</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="607e" class="mt lp iq mo b gy mu mv l mw mx">git revert &lt;SHA&gt;</span></pre><p id="5eb7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该命令将创建一个与您出错的提交相反的提交。有点像往火上泼水。旧提交中删除的任何内容都将被添加到新恢复的提交中，类似地，以前添加的内容也将被删除。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="e609" class="lo lp iq bd lq lr nf lt lu lv ng lx ly jw nh jx ma jz ni ka mc kc nj kd me mf bi translated">4.你想取消一些未提交的代码</h1><p id="a94a" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">当你意识到你在写完全无用的东西时，你会想尽快摆脱它。</p><p id="9b7a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果还没有提交任何东西，您可以通过运行:</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="9e01" class="mt lp iq mo b gy mu mv l mw mx">git checkout --&lt;bad filename&gt;</span></pre><p id="d8ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个命令将把工作目录中的文件恢复到Git以前知道的状态。你可以给它提供一个分支名、文件夹名，甚至是你想返回的特定的<code class="fe ml mm mn mo b">SHA</code>。但是在使用它之前要小心，因为这个命令会完全取消你撤销的所有操作，并且你不能再恢复它。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="fc0a" class="lo lp iq bd lq lr nf lt lu lv ng lx ly jw nh jx ma jz ni ka mc kc nj kd me mf bi translated">5.您想要取消一些未推送的提交</h1><p id="c6f4" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">你开始写一个特性的一部分，然后意识到所有的东西都是垃圾。</p><p id="b2c4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想去掉你留下的任何脚印，你可以通过跑步来实现:</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="ab7a" class="mt lp iq mo b gy mu mv l mw mx">git reset &lt;last good SHA&gt;</span></pre><p id="743e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">或者:</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="a534" class="mt lp iq mo b gy mu mv l mw mx">git reset --hard &lt;last good SHA&gt;</span></pre><p id="137a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该命令会将您的历史倒回到指定的<code class="fe ml mm mn mo b">SHA</code>。不过，在第一种情况下，工作目录将被保留，这意味着您的提交将被删除，但仍在磁盘上。</p><p id="9dfd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在第二种情况下，甚至您执行的那些更改都将被删除。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="a669" class="lo lp iq bd lq lr nf lt lu lv ng lx ly jw nh jx ma jz ni ka mc kc nj kd me mf bi translated">6.您在主分支上进行了一些提交</h1><p id="686a" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">因此，你疯狂地开始为一个新特性输入代码，自豪地提交一些代码，却意识到你在主分支上推动了那些变化。</p><p id="038a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意:确保你首先提交或保存你的更改，否则一切都将丢失。</p><p id="b899" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以使用以下三个命令将所有这些更改回滚到一个新分支:</p><pre class="kg kh ki kj gt mp mo mq mr aw ms bi"><span id="df73" class="mt lp iq mo b gy mu mv l mw mx">git branch future-brunch<br/>git reset HEAD~ --hard<br/>git checkout future-brunch</span></pre><p id="206a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这三个命令将在将master回滚到更改前的位置之前创建一个新的分支，然后实际移动到您希望最初进行更改的分支。</p><h2 id="fb4a" class="mt lp iq bd lq nk nl dn lu nm nn dp ly la no np ma le nq nr mc li ns nt me nu bi translated">结论</h2><p id="d02e" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">像你看到的这种常见的Git错误会成为你日常生活中的一大障碍。现在你应该有了一个小工具包，可以轻松快速地解决这些问题。一如既往，感谢您花时间阅读这些文章，不要忘记在下面的评论区发表您的意见！</p><p id="0279" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">— <em class="ln">皮耶罗</em></p><h2 id="52b9" class="mt lp iq bd lq nk nl dn lu nm nn dp ly la no np ma le nq nr mc li ns nt me nu bi translated">资源</h2><ul class=""><li id="64ae" class="nv nw iq kt b ku mg kx mh la nx le ny li nz lm oa ob oc od bi translated"><a class="ae oe" href="https://git-scm.com/docs/git-commit" rel="noopener ugc nofollow" target="_blank">T5】Git提交命令T7】。</a></li><li id="048a" class="nv nw iq kt b ku of kx og la oh le oi li oj lm oa ob oc od bi translated"><a class="ae oe" href="https://git-scm.com/docs/git-revert" rel="noopener ugc nofollow" target="_blank"> <em class="ln"> Git回复</em> </a> <em class="ln">。</em></li><li id="7a76" class="nv nw iq kt b ku of kx og la oh le oi li oj lm oa ob oc od bi translated"><a class="ae oe" href="https://git-scm.com/docs/git-checkout" rel="noopener ugc nofollow" target="_blank"> <em class="ln"> Git结账</em> </a> <em class="ln">。</em></li><li id="73b8" class="nv nw iq kt b ku of kx og la oh le oi li oj lm oa ob oc od bi translated"><a class="ae oe" href="https://git-scm.com/docs/git-reset" rel="noopener ugc nofollow" target="_blank"> <em class="ln"> Git复位</em> </a> <em class="ln">。</em></li><li id="f97a" class="nv nw iq kt b ku of kx og la oh le oi li oj lm oa ob oc od bi translated"><a class="ae oe" href="https://git-scm.com/docs/git-branch" rel="noopener ugc nofollow" target="_blank"> <em class="ln">吉特科</em> </a> <em class="ln">。</em></li></ul></div></div>    
</body>
</html>