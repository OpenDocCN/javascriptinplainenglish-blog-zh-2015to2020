<html>
<head>
<title>Create a Weather Application in Svelte</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个苗条的天气应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-weather-application-using-svelte-ecc2ecb889a2?source=collection_archive---------1-----------------------#2020-02-14">https://javascript.plainenglish.io/create-weather-application-using-svelte-ecc2ecb889a2?source=collection_archive---------1-----------------------#2020-02-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5d35" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我听说苗条又简单又快速。所以我决定通过建立一些东西来学习苗条。</p><h2 id="0b80" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">先决条件</h2><p id="4d80" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">我使用的是节点版本12.13.1</p><p id="1a70" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我将使用<code class="fe lg lh li lj b">OpenWeatherMap API</code>获取天气信息。注册并记住API密钥。</p><div class="lk ll gp gr lm ln"><a href="https://openweathermap.org/" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab fo"><div class="lp ab lq cl cj lr"><h2 class="bd io gy z fp ls fr fs lt fu fw im bi translated">с当前天气和预报- OpenWeatherMap</h2><div class="lu l"><h3 class="bd b gy z fp ls fr fs lt fu fw dk translated">获取您所在城市的当前天气、每小时天气预报、16天的每日天气预报和5天的3小时天气预报…</h3></div><div class="lv l"><p class="bd b dl z fp ls fr fs lt fu fw dk translated">openweathermap.org</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb mc ln"/></div></div></a></div><p id="8f41" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你不知道如何使用API，阅读<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" rel="noopener ugc nofollow" target="_blank"> MDN web docs关于获取API </a>。</p></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="0309" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">开始项目前</h2><p id="d702" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">我将在每一节后写哈希值。如果您想获得该版本的源代码，请执行以下命令。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="f353" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">使用模板创建新项目</h2><p id="e3ed" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">Svelte为想要使用Svelte创建新项目的程序员提供模板。我们可以通过一行命令克隆模板源代码。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="0450" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想检查初始模板代码是如何工作的，在你的<code class="fe lg lh li lj b">project's root directory</code>上运行这个命令，并使用浏览器访问<code class="fe lg lh li lj b">http://localhost:5000</code>。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/e50a7301e2a4f4ccf1e2f19e1bb9a305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*ZOtytmEuq09xkVQjDnfDPg.png"/></div></figure><blockquote class="mu mv mw"><p id="e279" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:be32f0e</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="d808" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">简单设计应用程序</h2><p id="7e90" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">在写一些代码之前，我简单地设计了应用程序。这将有助于这个项目。</p><ol class=""><li id="5289" class="nb nc in jm b jn jo jr js jv nd jz ne kd nf kh ng nh ni nj bi translated">应用程序应该有一个输入城市名称的输入表单。</li><li id="5d07" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">应用程序应该有一个按钮来添加天气卡。</li><li id="6882" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">天气卡上应显示城市名称、天气图标、当前温度(摄氏度)。</li><li id="5321" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">如果用户点击天气卡超过1.5秒，将显示删除模式。</li><li id="c4ed" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">如果用户点击删除模式，天气卡将被删除。</li></ol><p id="c9c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我在创建应用程序之前想到的简单用户界面。</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi np"><img src="../Images/d2697357a526e45a405ed08986a51210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JYfXoqDYyIS5TPhPGDZK4A.png"/></div></div></figure></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="42a8" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">安装SASS预处理器</h2><p id="d32c" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">我决定用<a class="ae md" href="https://github.com/ls-age/svelte-preprocess-sass" rel="noopener ugc nofollow" target="_blank"> svelte-preprocess-sass </a>来使用sass。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="5342" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了使用这个包，我修改了<code class="fe lg lh li lj b">/rollup.config.js</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="8ed7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过这种修改，我可以在组件风格中使用scss语法。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="7ec0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了测试SASS预处理器是否工作，我修改了<code class="fe lg lh li lj b">/src/App.svelte</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="be5e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你能在你的浏览器上看到改变的字体颜色，它就工作了！</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/02275041dc846658f031e6290a109987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*_pxJUb1CiHGVsCKBxBmIjQ.png"/></div></figure><blockquote class="mu mv mw"><p id="5019" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:cdae25d</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="2e27" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">添加标题</h2><p id="b08b" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">我将为应用程序创建标题，但在创建之前，我必须修改<code class="fe lg lh li lj b">/public/global.css</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="296f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们创建<code class="fe lg lh li lj b">/src/Header.svelte</code>组件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="b753" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建组件后，我将这个组件添加到我的<code class="fe lg lh li lj b">/src/App.svelte</code>中。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="c244" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我可以使用<code class="fe lg lh li lj b">import</code>语句轻松添加组件。</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi nv"><img src="../Images/a99c164849a65d1c037453e2bd285caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0pGn9-a6hbS2GHhHrcLN2w.png"/></div></div></figure><blockquote class="mu mv mw"><p id="4bb4" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:a865e3d</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="94b4" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">添加商店</h2><p id="623e" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">在官方文件中，他们是这样定义一个<code class="fe lg lh li lj b">svelte/store</code>模块的。</p><blockquote class="mu mv mw"><p id="3018" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">商店是一种对象，它允许通过简单的商店契约对值进行被动访问。</p></blockquote><p id="eb64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了访问任何组件的值，我应该将store添加到我的应用程序中。我添加了<code class="fe lg lh li lj b">/src/store.js</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="6192" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我导入了允许更新和订阅阅读的<code class="fe lg lh li lj b">writable</code>。<code class="fe lg lh li lj b">writable</code>有三种控制数据的方法。</p><p id="6fdf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一种方法是<code class="fe lg lh li lj b">subscribe</code>。此方法用于向订阅者通知值的更改。第二种方法是<code class="fe lg lh li lj b">set</code>。此方法用于设置要存储的值。它替换存储值，因为该方法只接收<code class="fe lg lh li lj b">new_value</code>作为参数。第三种方法是<code class="fe lg lh li lj b">update</code>。此方法也用于设置要存储的值。但是它具有参数功能。所以如果我想部分改变存储值，我应该使用这个方法。</p><p id="952c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">再看我的<code class="fe lg lh li lj b">/src/store.js</code>文件。我导出<code class="fe lg lh li lj b">weatherList</code>，这也有三个方法。第一个是我已经解释过的<code class="fe lg lh li lj b">subscirbe</code>。第二个是<code class="fe lg lh li lj b">add</code>，用于添加天气信息。第三个是<code class="fe lg lh li lj b">remove</code>，用于使用城市名称从商店中删除天气信息。我用我之前解释的<code class="fe lg lh li lj b">update</code>来定义<code class="fe lg lh li lj b">add</code>和<code class="fe lg lh li lj b">remove</code>方法。</p><blockquote class="mu mv mw"><p id="706c" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:e10b3b5</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="3766" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">添加搜索表单</h2><p id="3fd3" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">在创建搜索表单之前，将<code class="fe lg lh li lj b">OpenWeatherMap API</code>键设置为我的应用程序。我使用js文件设置密钥，因为这个应用程序是测试应用程序，它没有任何服务器或数据库。我创建了<code class="fe lg lh li lj b">/src/key.js</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="866a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要将天气卡添加到我的应用程序中，我必须创建具有<code class="fe lg lh li lj b">input</code>和<code class="fe lg lh li lj b">button</code>元素的搜索组件来检索天气信息。我制作<code class="fe lg lh li lj b">/src/Search.svelte</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="5c7b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了使用存储在组件中，我导入了<code class="fe lg lh li lj b">weatherList</code>。我定义了一个函数来将天气信息添加到存储中。在这个文件中，你应该可以看到下面这些细节。</p><ol class=""><li id="e037" class="nb nc in jm b jn jo jr js jv nd jz ne kd nf kh ng nh ni nj bi translated">为了将<code class="fe lg lh li lj b">cityName</code>变量绑定到<code class="fe lg lh li lj b">input</code>元素的值，我使用了<code class="fe lg lh li lj b">bind:value={cityName}</code>语句。</li><li id="c922" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">为了将<code class="fe lg lh li lj b">addWeatherInfo</code>函数绑定到<code class="fe lg lh li lj b">button</code>元素的click事件，我使用了<code class="fe lg lh li lj b">on:click={addWeatherInfo}</code>语句。</li><li id="2714" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">在<code class="fe lg lh li lj b">addWeatherInfo</code>函数中，我使用了<code class="fe lg lh li lj b">weatherList.add</code>方法来更新存储。</li></ol><p id="69fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将<code class="fe lg lh li lj b">Search</code>组件添加到<code class="fe lg lh li lj b">/src/App.svelte</code>中。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi nw"><img src="../Images/be4783229e9fd6ccf24015d8b7610d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6W88xM4Rg1O8wgwcsO7AYQ.png"/></div></div></figure><blockquote class="mu mv mw"><p id="21e2" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:ba5925e</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="d30d" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">修改商店(这是我的错)</h2><p id="a289" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">当我开始实施<code class="fe lg lh li lj b">WeatherCard</code>时，我意识到我的<code class="fe lg lh li lj b">weatherList.remove</code>方法并不合适。为什么那不合适？因为我不用计算就能得到指数。所以我修改了<code class="fe lg lh li lj b">remove</code>的方法。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><blockquote class="mu mv mw"><p id="d801" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:2dc0b3d</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="5175" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">添加天气卡片</h2><p id="7fe9" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">如果我在<code class="fe lg lh li lj b">input</code>元素中输入城市名称并点击<code class="fe lg lh li lj b">button</code>元素，我可以检索天气信息。这些信息只是文本数据类型的<code class="fe lg lh li lj b">json</code>，我需要创建天气卡来轻松获取这些数据。</p><p id="2ed4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是数据的结构。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="2707" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我创建了用于天气预报卡列表的board组件。我创建了<code class="fe lg lh li lj b">/src/Board.svelte</code>文件。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="01cc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">并将板卡组件添加到<code class="fe lg lh li lj b">/src/App.svelte</code>文件中。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="43c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您搜索城市，字符串化的天气信息将显示在board组件上。然后，我使用这些信息创建天气卡组件。创建<code class="fe lg lh li lj b">/src/WeatherCard.svelte</code>。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="33a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个文件中，我建议你应该详细了解鼠标事件。为了满足我的简单规范，我必须实现鼠标事件。</p><p id="89fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">检查点击事件的持续时间，如果持续时间超过1.5秒，将显示删除部分。</p><p id="3b70" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">实现天气卡组件后修改<code class="fe lg lh li lj b">/src/Board.svelte</code>。</p><figure class="ml mm mn mo gt mp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="5a7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">显示我没有写属性名。苗条支持简短声明。<code class="fe lg lh li lj b">{weather}</code>语句完全等同于<code class="fe lg lh li lj b">weather={weather}</code>。</p><p id="9b91" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的第一个svelt申请完成了！</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi nx"><img src="../Images/959f0713c2593bc0d233f68e9b0711ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*R9vsGq8Va3rx6z1Dc-JDUQ.gif"/></div></div></figure><blockquote class="mu mv mw"><p id="fd64" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:e3a9f85</p></blockquote></div><div class="ab cl me mf hr mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ig ih ii ij ik"><h2 id="30e2" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">从<code class="fe lg lh li lj b">ENVIRONMENT VARIABLES</code>获取API密钥</h2><p id="77c6" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">将API密钥作为文件来管理是非常危险的。如果我犯了错误，所以把API密匙推给了github，所有人都可以使用我的API密匙。</p><p id="71d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以我修改了我的一些代码(其实是我老板修改的)。</p><p id="8fe9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我安装了<code class="fe lg lh li lj b">replace</code>插件。捆绑时替换插件替换文件中的字符串。</p><pre class="ml mm mn mo gt ny lj nz oa aw ob bi"><span id="6abd" class="ki kj in lj b gy oc od l oe of">npm install <a class="ae md" href="http://twitter.com/rollup/plugin-replace" rel="noopener ugc nofollow" target="_blank">@rollup/plugin-replace</a> --save-dev</span></pre><p id="c613" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">其次，我修改了我的<code class="fe lg lh li lj b">src/key.js</code>文件，如下所示。</p><pre class="ml mm mn mo gt ny lj nz oa aw ob bi"><span id="8d81" class="ki kj in lj b gy oc od l oe of">export const key = 'API_KEY';</span></pre><p id="3178" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第三，我在我的<code class="fe lg lh li lj b">/rollup.config.js </code>文件上应用了通过设置配置来替换插件。</p><pre class="ml mm mn mo gt ny lj nz oa aw ob bi"><span id="5afb" class="ki kj in lj b gy oc od l oe of">import replace from '@rollup/plugin-replace';<br/>...</span><span id="7931" class="ki kj in lj b gy og od l oe of">plugins: [<br/>    replace({<br/>        'API_KEY': process.env.API_KEY<br/>    }),<br/>],<br/>...</span></pre><p id="ddc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们可以使用<code class="fe lg lh li lj b">ENVIRONMENT_VARIABLE</code>运行应用程序。运行以下命令。</p><pre class="ml mm mn mo gt ny lj nz oa aw ob bi"><span id="d0cd" class="ki kj in lj b gy oc od l oe of">API_KEY=&lt;api-key&gt; npm run dev</span></pre><blockquote class="mu mv mw"><p id="1a5c" class="jk jl mx jm b jn jo jp jq jr js jt ju my jw jx jy mz ka kb kc na ke kf kg kh ig bi translated">哈希值:a212007</p></blockquote><h2 id="798f" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">结论</h2><p id="3a97" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">苗条很简单，公文很酷。需要多学习！</p><h2 id="a9fe" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">更改日志</h2><ol class=""><li id="f99c" class="nb nc in jm b jn lb jr lc jv oh jz oi kd oj kh ng nh ni nj bi translated">从<code class="fe lg lh li lj b">ENVIRONMENT VARIABLES</code>获取API密钥</li><li id="4e4e" class="nb nc in jm b jn nk jr nl jv nm jz nn kd no kh ng nh ni nj bi translated">2020.03.04我把这个应用发布到我的<a class="ae md" href="https://www.jangwook.net/svelte-weather/public/" rel="noopener ugc nofollow" target="_blank"> GitHub页面</a>。<br/>输入你的API密匙，搜索！</li></ol><h2 id="8d60" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">用简单英语写的JavaScript的注释</h2><p id="f5e9" class="pw-post-body-paragraph jk jl in jm b jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd lf kf kg kh ig bi translated">我们总是有兴趣帮助推广高质量的内容。如果你有一篇文章想用简单的英语提交给JavaScript，用你的中级用户名发邮件到submissions@javascriptinplainenglish.com<a class="ae md" href="mailto:submissions@javascriptinplainenglish.com" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"/></a>给我们，我们会把你添加为作者。</p><p id="093a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们还推出了三种新的出版物！请关注我们的新出版物，表达对它们的爱:<a class="ae md" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="jm io">AI in Plain English</strong></a>，<a class="ae md" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="jm io">UX in Plain English</strong></a>，<a class="ae md" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="jm io">Python in Plain English</strong></a><strong class="jm io"/>—谢谢，继续学习！</p></div></div>    
</body>
</html>