<html>
<head>
<title>Chart.js — Titles and Legends</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Chart.js标题和图例</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/chart-js-titles-and-legends-4a53a892384b?source=collection_archive---------8-----------------------#2020-12-04">https://javascript.plainenglish.io/chart-js-titles-and-legends-4a53a892384b?source=collection_archive---------8-----------------------#2020-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f4106fc8f6fe5df91ac320ea2a9946ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tezUCXJc7qOG6EG7"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@victor_g?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Victor Garcia</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b134" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用Chart.js使在网页上创建图表变得容易。</p><p id="f429" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Chart.js创建图表。</p><h1 id="5740" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">图例项选项</h1><p id="f055" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以更改许多选项来配置图例。</p><p id="af92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">text</code>有标签文本。</p><p id="4822" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">fillStyle</code>具有图例框的填充样式。</p><p id="3a5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">lineCap</code>是一个带有边框的字符串CSS。</p><p id="b9c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">lineDash</code>是画布框边框的数字数组。</p><p id="e181" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">lineDashOffset</code>有画布框边界偏移。</p><p id="4581" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">lineJoin</code>拥有画布上下文<code class="fe me mf mg mh b">lineJoin</code>属性值。</p><p id="f4d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">lineWidth</code>具有框边框的宽度。</p><p id="adab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">strokeStyle</code>具有图例笔画的颜色。</p><p id="02db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">pointStyle</code>具有图例框的点样式。</p><p id="27d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">rotation</code>有以度为单位的点的旋转。</p><p id="7f4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下内容来链接两个数据集的显示:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a91d" class="mq lc iq mh b gy mr ms l mt mu">var defaultLegendClickHandler = Chart.defaults.global.legend.onClick;<br/>var newLegendClickHandler = function(e, legendItem) {<br/>  var index = legendItem.datasetIndex;<br/>  if (index &gt; 1) {<br/>    defaultLegendClickHandler(e, legendItem);<br/>  } else {<br/>    let ci = this.chart;<br/>    [<br/>      ci.getDatasetMeta(0),<br/>      ci.getDatasetMeta(1)<br/>    ].forEach(function(meta) {<br/>      meta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;<br/>    });<br/>    ci.update();<br/>  }<br/>};</span><span id="25df" class="mq lc iq mh b gy mv ms l mt mu">var ctx = document.getElementById('myChart').getContext('2d');<br/>var myChart = new Chart(ctx, {<br/>  type: 'bar',<br/>  data: {<br/>    labels: ['Red', 'Blue', 'Yellow'],<br/>    datasets: [{<br/>      label: '# of Votes',<br/>      data: [12, 19, 3],<br/>      borderWidth: 1<br/>    }, {<br/>      label: '# of Votes',<br/>      data: [10, 19, 3],<br/>      borderWidth: 1<br/>    }]<br/>  },<br/>  options: {<br/>    legend: {<br/>      onClick: newLegendClickHandler<br/>    },<br/>    scales: {<br/>      yAxes: [{<br/>        ticks: {<br/>          beginAtZero: true<br/>        }<br/>      }]<br/>    }<br/>  }<br/>});</span></pre><p id="51ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">else</code>块在两个数据集上调用<code class="fe me mf mg mh b">update</code>。</p><p id="9f1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一个没有被隐藏，如</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a18f" class="mq lc iq mh b gy mr ms l mt mu">meta.hidden === null</span></pre><p id="84d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么其他条也将显示为:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bbee" class="mq lc iq mh b gy mr ms l mt mu">!ci.data.datasets[index].hidden</span></pre><p id="d858" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">ci.update</code>来更新图表。</p><p id="ebdc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用这个函数作为<code class="fe me mf mg mh b">options.legend.onClick</code>属性的值，如果我们单击图例，就可以打开和关闭这两个条。</p><h1 id="f200" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">HTML图例</h1><p id="72ac" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们还可以添加<code class="fe me mf mg mh b">legendCallback</code>属性来呈现一个HTML图例。</p><p id="e809" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="26c4" class="mq lc iq mh b gy mr ms l mt mu">var ctx = document.getElementById('myChart').getContext('2d');<br/>var myChart = new Chart(ctx, {<br/>  type: 'bar',<br/>  data: {<br/>    labels: ['Red', 'Blue', 'Yellow'],<br/>    datasets: [{<br/>      label: '# of Votes',<br/>      data: [12, 19, 3],<br/>      backgroundColor: [<br/>        'rgba(255, 99, 132, 0.2)',<br/>        'rgba(54, 162, 235, 0.2)',<br/>        'rgba(255, 206, 86, 0.2)',<br/>      ],<br/>      borderColor: [<br/>        'rgba(255, 99, 132, 1)',<br/>        'rgba(54, 162, 235, 1)',<br/>        'rgba(255, 206, 86, 1)',<br/>      ],<br/>      borderWidth: 1<br/>    }]<br/>  },<br/>  options: {<br/>    legendCallback(chart) {<br/>      //...<br/>    },<br/>    scales: {<br/>      yAxes: [{<br/>        ticks: {<br/>          beginAtZero: true<br/>        }<br/>      }]<br/>    }<br/>  }<br/>});</span></pre><h1 id="6ae8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">标题</h1><p id="1dbf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以改变图表标题在图表顶部的呈现方式。</p><p id="caf2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0700" class="mq lc iq mh b gy mr ms l mt mu">var ctx = document.getElementById('myChart').getContext('2d');<br/>var myChart = new Chart(ctx, {<br/>  type: 'bar',<br/>  data: {<br/>    labels: ['Red', 'Blue', 'Yellow'],<br/>    datasets: [{<br/>      label: '# of Votes',<br/>      data: [12, 19, 3],<br/>      backgroundColor: [<br/>        'rgba(255, 99, 132, 0.2)',<br/>        'rgba(54, 162, 235, 0.2)',<br/>        'rgba(255, 206, 86, 0.2)',<br/>      ],<br/>      borderColor: [<br/>        'rgba(255, 99, 132, 1)',<br/>        'rgba(54, 162, 235, 1)',<br/>        'rgba(255, 206, 86, 1)',<br/>      ],<br/>      borderWidth: 1<br/>    }]<br/>  },<br/>  options: {<br/>    title: {<br/>      display: true,<br/>      text: 'Chart Title'<br/>    },<br/>    scales: {<br/>      yAxes: [{<br/>        ticks: {<br/>          beginAtZero: true<br/>        }<br/>      }]<br/>    }<br/>  }<br/>});</span></pre><p id="d54e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置<code class="fe me mf mg mh b">options.title.text</code>属性来设置选项文本。</p><h1 id="2306" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="d36c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用一些属性来改变标题和图例选项。</p><p id="7196" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>