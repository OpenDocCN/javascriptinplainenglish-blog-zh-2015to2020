<html>
<head>
<title>The World’s Most Empowering Tic-Tac-Toe JavaScript Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">世界上最强大的井字游戏JavaScript教程</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-worlds-most-empowering-tic-tac-toe-javascript-tutorial-a889e4c20883?source=collection_archive---------0-----------------------#2019-05-01">https://javascript.plainenglish.io/the-worlds-most-empowering-tic-tac-toe-javascript-tutorial-a889e4c20883?source=collection_archive---------0-----------------------#2019-05-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="096d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">井字游戏对于任何新程序员来说都是一个很好的入门项目！</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/a3a637586fe797f243378a7d10b31c1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*EwpvDBIfjJiPH100l51UGg.png"/></div></figure><p id="f3de" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">本教程是为绝对初学者准备的。我包含了文档的链接。请过目一下。本教程是100%的普通JavaScript，只有最少的CSS和HTML。慢慢来，让我知道结果如何。</p><p id="41f3" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">编辑:如果你真的让<em class="lg">卡住了</em>，这里是完整的代码:<a class="ae lh" href="https://github.com/annaelizabeth2019/tictactoetwo" rel="noopener ugc nofollow" target="_blank">https://github.com/annaelizabeth2019/tictactoetwo</a></p><p id="2a8c" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">你将需要:</strong></p><ul class=""><li id="200f" class="li lj in km b kn ko kq kr kt lk kx ll lb lm lf ln lo lp lq bi translated">VS代码</li><li id="e797" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">互联网(既然你正在阅读在线教程，那么你已经成功了一半！好样的。)</li></ul><h1 id="8718" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><strong class="ak">入门</strong></h1><p id="0b34" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">首先在你的电脑中创建一个名为<em class="lg">谢丽尔的井字游戏</em>的目录，并创建这些子目录:<em class="lg"> js </em>，<em class="lg">CSS</em>；还有这三个文件:<em class="lg">index.html</em>、<em class="lg"> css/style.css </em>、<em class="lg"> js/main.js </em>。</p><p id="7f51" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">复习基础:</strong></p><p id="89a1" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在开始任何编程任务时，总是先明确你想做什么，然后把它分解成小步骤。如果你有足够的时间，一小步可以让你到达任何地方。如果你卡住了，把它分解小一点，女孩！</p><p id="47a3" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">井字游戏是一种在<strong class="km io">3 x 3格子上进行的<strong class="km io">双人游戏</strong>。</strong>选手<strong class="km io">轮番上阵</strong>。一个<strong class="km io">标记“X”</strong>，另一个<strong class="km io">“O”</strong>。当一名玩家能够<strong class="km io">将他们的3个标记排成一行、一列或对角线</strong>时，就宣布<strong class="km io">赢家</strong>。在不再有可用空间并且没有人获胜的情况下，<strong class="km io">宣布平局</strong>。分解一下，这是我们的游戏计划:</p><ul class=""><li id="4a08" class="li lj in km b kn ko kq kr kt lk kx ll lb lm lf ln lo lp lq bi translated">3 x 3网格</li><li id="31e8" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">留下你的印记</li><li id="c677" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">轮流</li><li id="1e8a" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">“X”和“O”</li><li id="6571" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">获胜逻辑:将3排成一行、一列或对角线</li><li id="2690" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">宣布平局</li><li id="9a81" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">游戏结束了</li></ul><h1 id="daa8" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><strong class="ak">3×3网格</strong></h1><p id="9fb3" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">啊，我们游戏的基础！</p><p id="2670" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果你是在VS代码中，通过输入<code class="fe mt mu mv mw b">!</code> <em class="lg"> + enter </em>创建一个HTML样板文件(因为我告诉你你是这样的，如果我们不能互相信任，我们就不能做这个教程，现在我们能吗？)</p><p id="19b5" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">通过将CSS和JavaScript包含在HTML的头部来链接它们:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="9652" class="nb lx in mw b gy nc nd l ne nf">&lt;head&gt;</span><span id="e537" class="nb lx in mw b gy ng nd l ne nf">&lt;meta <em class="lg">charset</em>="UTF-8"&gt;</span><span id="350f" class="nb lx in mw b gy ng nd l ne nf">&lt;meta <em class="lg">name</em>="viewport" <em class="lg">content</em>="width=device-width, initial-scale=1.0"&gt;</span><span id="8166" class="nb lx in mw b gy ng nd l ne nf">&lt;meta <em class="lg">http-equiv</em>="X-UA-Compatible" <em class="lg">content</em>="ie=edge"&gt;</span><span id="043a" class="nb lx in mw b gy ng nd l ne nf">&lt;!-- this is how we link up the stylesheet --&gt;</span><span id="9ebc" class="nb lx in mw b gy ng nd l ne nf">&lt;link <em class="lg">href</em>="css/style.css" <em class="lg">rel</em>="stylesheet" <em class="lg">type</em>="text/css"&gt;</span><span id="7b31" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">&lt;!-- And this is how we link up the JS! --&gt;</em></span><span id="9c32" class="nb lx in mw b gy ng nd l ne nf">&lt;script <em class="lg">defer</em> <em class="lg">src</em>="js/main.js"&gt;&lt;/script&gt;</span><span id="2526" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">&lt;!-- Be sure to give your game a fun title --&gt;</em></span><span id="5d12" class="nb lx in mw b gy ng nd l ne nf">&lt;title&gt;Empowering Tic Tac Toe for the Good of Humanity&lt;/title&gt;</span><span id="55c0" class="nb lx in mw b gy ng nd l ne nf">&lt;/head&gt;</span></pre><p id="fb57" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">注意<code class="fe mt mu mv mw b">&lt;script&gt;</code>标签中的<code class="fe mt mu mv mw b">defer</code>:单词<em class="lg"> defer </em>将告诉浏览器<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script" rel="noopener ugc nofollow" target="_blank">等待执行</a>那个JS块，直到DOM被完全解析。这样，它可以安全地包含在我们的HTML文档的顶部。</p><p id="def6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">我是你的控制台AMA: </strong>通过在<em class="lg"> main.js </em>中写下这一行代码来测试你的<em class="lg"> main.js </em>是否链接上了:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="7222" class="nb lx in mw b gy nc nd l ne nf">console.log('Your JS is linked up. Be the person you needed when you were little.')</span></pre><p id="8442" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果你打开一个文档的实时服务器并检查你的<a class="ae lh" href="https://developers.google.com/web/tools/chrome-devtools/" rel="noopener ugc nofollow" target="_blank">开发工具</a>，你应该在控制台看到你的消息。</p><p id="fcdf" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">回到<em class="lg">中的<code class="fe mt mu mv mw b">&lt;body&gt;</code>index.html</em>:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="ed82" class="nb lx in mw b gy nc nd l ne nf">&lt;h1&gt;Tic-Tac-Toe&lt;/h1&gt;</span><span id="a6c1" class="nb lx in mw b gy ng nd l ne nf">&lt;h2&gt;It's X's turn!&lt;/h2&gt;</span><span id="9b45" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">&lt;!-- Many websites are just divs on divs on divs. Pay attention to the class and id attributes. We will be using those later to style and find elements in the document --&gt;</em></span><span id="e85e" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="flex-container flex-column"&gt;</span><span id="43e5" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="flex-container flex-wrap" <em class="lg">id</em>="board"&gt;</span><span id="5d2f" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="0b0f" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="c193" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="cc64" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="bfaa" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="1c83" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="dd88" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="576c" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="5d63" class="nb lx in mw b gy ng nd l ne nf">&lt;div <em class="lg">class</em>="square"&gt;&lt;/div&gt;</span><span id="ec85" class="nb lx in mw b gy ng nd l ne nf">&lt;/div&gt;</span><span id="6c2f" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">&lt;!-- A reset button because users are going to want to play round after round of your glorious game without ever refreshing the browser! --&gt;</em></span><span id="f982" class="nb lx in mw b gy ng nd l ne nf">&lt;button <em class="lg">id</em>="reset-button"&gt;reset&lt;/button&gt;</span><span id="f1dc" class="nb lx in mw b gy ng nd l ne nf">&lt;/div&gt;</span></pre><p id="7458" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">许多程序员不喜欢写CSS。许多人会让我们相信这是因为他们是不想在CSS琐事上浪费时间的程序员，然而，我亲爱的谢丽尔或拉里，或者不管你是谁，你对自己的能力很有信心，你知道演示是你产品体验的一个重要部分。因此，我将提供一些基本的<strong class="km io">样式，但是你不会害怕让它成为你自己的样式！去吧！让它发光吧，谢丽尔！</strong></p><p id="84d4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在<em class="lg"> css/style.css </em>中:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="8482" class="nb lx in mw b gy nc nd l ne nf">body {</span><span id="dd67" class="nb lx in mw b gy ng nd l ne nf">text-align: center;</span><span id="e068" class="nb lx in mw b gy ng nd l ne nf">font-family: Arial, Helvetica, sans-serif;</span><span id="5642" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="27cd" class="nb lx in mw b gy ng nd l ne nf">h2 {</span><span id="3e41" class="nb lx in mw b gy ng nd l ne nf">margin: 0 auto;</span><span id="6ae4" class="nb lx in mw b gy ng nd l ne nf">font-size: 35px;</span><span id="6492" class="nb lx in mw b gy ng nd l ne nf">margin: 10px;</span><span id="e52c" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="c592" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">.flex-container</em> {</span><span id="0a7c" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/* In order to use flex-box we need to first set our display property */</em></span><span id="6094" class="nb lx in mw b gy ng nd l ne nf">display: flex;</span><span id="64b9" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/* center the container horizontally */</em></span><span id="06a9" class="nb lx in mw b gy ng nd l ne nf">justify-content: center;</span><span id="9d40" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/* this will center content vertically */</em></span><span id="7ac0" class="nb lx in mw b gy ng nd l ne nf">align-items: center;</span><span id="83c6" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/* tells the container to align the children in columns rather than rows */</em></span><span id="88ff" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="42da" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">.flex-column</em> {</span><span id="bece" class="nb lx in mw b gy ng nd l ne nf">height: 100%;</span><span id="b1da" class="nb lx in mw b gy ng nd l ne nf">width: 100%;</span><span id="e7f7" class="nb lx in mw b gy ng nd l ne nf">flex-direction: column;</span><span id="5b94" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="7e97" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">.flex-wrap</em> {</span><span id="278c" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/* tells the container to drop down once it reaches max-width */</em></span><span id="4abc" class="nb lx in mw b gy ng nd l ne nf">flex-wrap: wrap;</span><span id="cd37" class="nb lx in mw b gy ng nd l ne nf">height: 432px;</span><span id="daf7" class="nb lx in mw b gy ng nd l ne nf">width: 432px;</span><span id="2c7e" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="ec04" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">.square</em> {</span><span id="da9c" class="nb lx in mw b gy ng nd l ne nf">border: 2px solid rgba(0, 0, 0, .75);</span><span id="a2c9" class="nb lx in mw b gy ng nd l ne nf">height: 140px;</span><span id="363d" class="nb lx in mw b gy ng nd l ne nf">width: 140px;</span><span id="a4ab" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="a600" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">#reset-button</em> {</span><span id="d4af" class="nb lx in mw b gy ng nd l ne nf">text-align: center;</span><span id="7427" class="nb lx in mw b gy ng nd l ne nf">font-size: 20px;</span><span id="0842" class="nb lx in mw b gy ng nd l ne nf">border: 1px solid black;</span><span id="01dd" class="nb lx in mw b gy ng nd l ne nf">height: 55px;</span><span id="cd01" class="nb lx in mw b gy ng nd l ne nf">width: 100px;</span><span id="b992" class="nb lx in mw b gy ng nd l ne nf">margin: 10px;</span><span id="4af3" class="nb lx in mw b gy ng nd l ne nf">}</span></pre><p id="a60c" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果你没有使用过flex-box，你应该知道它是一个强大的布局工具。另一个很好的选择是CSS <a class="ae lh" href="https://css-tricks.com/snippets/css/complete-guide-grid/" rel="noopener ugc nofollow" target="_blank">网格</a>。不要害怕他们，要变得凶猛，在这里读<a class="ae lh" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="3e90" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">留下你的印记</h1><p id="4ae0" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">我们有一个华丽的3 x 3游戏板，我们的CSS和JS连接在一起，让我们做我们的标记，好吗？</p><p id="debd" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">用这些标题组织你的<em class="lg"> js/main.js </em>:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="64d0" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- constants -----*/</em></span><span id="e54b" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/*----- app's state (variables) -----*/</em></span><span id="9be6" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/*----- cached element references -----*/</em></span><span id="5027" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/*----- event listeners -----*/</em></span><span id="0d82" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">/*----- functions -----*/</em></span></pre><p id="0b69" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这一点组织将有助于保持我们的代码<strong class="km io">干净</strong>和<strong class="km io">可读</strong>。它还将帮助我们组织我们的代码，以便我们可以更有效地编写。继续吧，谢丽尔，继续吧。</p><p id="45be" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lg">做记号是什么意思？</em>做标记意味着有一个可以做标记的地方:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="7f08" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- app's state (variables) -----*/</em></span><span id="728b" class="nb lx in mw b gy ng nd l ne nf">let board;</span></pre><p id="f346" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">做标记意味着游戏已经开始。</p><p id="d9e6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">让我们使用一个函数将棋盘初始化为一个由9个空字符串组成的<a class="ae lh" href="https://www.w3schools.com/js/js_arrays.asp" rel="noopener ugc nofollow" target="_blank">数组</a>。我们的JS对HTML文档还一无所知。JS数组中的每个位置将对应HTML板上的一个方块。让我们模仿HTML中的3 x 3网格来给自己一个视觉辅助。数组的3 x 3结构不会改变什么。它可以写在一行上！</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="2923" class="nb lx in mw b gy nc nd l ne nf">function init() {</span><span id="650e" class="nb lx in mw b gy ng nd l ne nf">board = [</span><span id="4cfc" class="nb lx in mw b gy ng nd l ne nf">'', '', '',</span><span id="dcd3" class="nb lx in mw b gy ng nd l ne nf">'', '', '',</span><span id="2b55" class="nb lx in mw b gy ng nd l ne nf">'', '', ''</span><span id="c8ad" class="nb lx in mw b gy ng nd l ne nf">];</span><span id="ffd2" class="nb lx in mw b gy ng nd l ne nf">};</span><span id="73ba" class="nb lx in mw b gy ng nd l ne nf">//be sure to call the init function!</span><span id="343a" class="nb lx in mw b gy ng nd l ne nf">init();</span></pre><p id="764c" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">做标记意味着渲染游戏中的变化。</p><p id="24ad" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">让我们建立一个渲染函数:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="04dc" class="nb lx in mw b gy nc nd l ne nf">function render() {</span><span id="4fea" class="nb lx in mw b gy ng nd l ne nf">}</span></pre><p id="2a2d" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在，让我们想想我们想做什么。这个渲染函数将需要<strong class="km io">在我们的棋盘数组上迭代</strong>，并将标记“注入”到正确的div中。让我们使用一个叫做<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noopener ugc nofollow" target="_blank">的方便的小功能。forEach() </a>。这个函数接受一个<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" rel="noopener ugc nofollow" target="_blank">回调函数</a>，它将调用数组中的每个元素:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="f348" class="nb lx in mw b gy nc nd l ne nf">function render() {</span><span id="5e10" class="nb lx in mw b gy ng nd l ne nf">board.forEach(function(mark, index){<br/>console.log(mark, index);<br/>});</span><span id="7ade" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="4990" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">调用render():</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="c57e" class="nb lx in mw b gy nc nd l ne nf">function init() {</span><span id="4bee" class="nb lx in mw b gy ng nd l ne nf">board = [</span><span id="4eeb" class="nb lx in mw b gy ng nd l ne nf">'', '', '',</span><span id="8dd5" class="nb lx in mw b gy ng nd l ne nf">'', '', '',</span><span id="8b27" class="nb lx in mw b gy ng nd l ne nf">'', '', ''</span><span id="2c77" class="nb lx in mw b gy ng nd l ne nf">];</span><span id="8ab5" class="nb lx in mw b gy ng nd l ne nf">// new code here<br/>render();</span><span id="b173" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="9416" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">继续打开一个服务器，然后点击<em class="lg"> cmd + opt + i </em>查看你的控制台！你应该能看到板上所有的索引号！试着把一些东西扔进棋盘阵列上的空字符串，看看控制台会发生什么。</p><p id="ee02" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">做标记意味着标记显示在页面上。</p><p id="ff32" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">抓住我们的方块:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="0acf" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- cached element references -----*/</em></span><span id="3926" class="nb lx in mw b gy ng nd l ne nf">const squares = Array.from(document.querySelectorAll('#board div'));</span></pre><p id="47d7" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" rel="noopener ugc nofollow" target="_blank"> Array.from() </a>函数将从<a class="ae lh" href="https://www.w3schools.com/jsref/met_document_queryselectorall.asp" rel="noopener ugc nofollow" target="_blank"> querySelectorAll </a>返回的所有元素中创建一个数组。请注意，querySelectorAll正在查找id为<em class="lg">的元素。board </em>并选择<strong class="km io">该元素的所有div子元素</strong>。这样，我们不必给每个方块一个id，分别选择它们，然后构建一个新的数组。JavaScript为我们做到了！相当酷！</p><p id="ac96" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">将它们传递给render():</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="c653" class="nb lx in mw b gy nc nd l ne nf">function render() {</span><span id="0eb1" class="nb lx in mw b gy ng nd l ne nf">board.forEach(function(mark, index) {</span><span id="29aa" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">//this sets the text content of the square of the same position to the mark on the board. </em></span><span id="fbb7" class="nb lx in mw b gy ng nd l ne nf">squares[index].textContent = mark;</span><span id="2faf" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="40f8" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="792d" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在，你做了一个标记，谢丽尔！犒劳自己！</p><h1 id="bcbb" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><strong class="ak">轮流</strong></h1><p id="f868" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated"><em class="lg">轮流是什么意思？</em>拐个弯就是有个弯。</p><p id="0548" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">回到州区，像老板一样抛出你的回合变量:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="211b" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- app's state (variables) -----*/</em></span><span id="e1f4" class="nb lx in mw b gy ng nd l ne nf">let board;</span><span id="8afa" class="nb lx in mw b gy ng nd l ne nf">let turn = 'X';</span></pre><p id="44b6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">进行一个回合意味着一个事件(例如“点击”)已经发生。</p><p id="21bf" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">听黑板上的咔嗒声。我们将需要使用<a class="ae lh" href="https://www.w3schools.com/jsref/met_document_getelementbyid.asp" rel="noopener ugc nofollow" target="_blank"> getElementById </a>()来“抓取”一个HTML元素，然后将事件监听器链接到它上面:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="51ca" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- event listeners -----*/</em></span><span id="adfb" class="nb lx in mw b gy ng nd l ne nf">document.getElementById('board').addEventListener('click', handleTurn);</span></pre><p id="4a48" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" rel="noopener ugc nofollow" target="_blank"> addEventListener() </a>有两个参数，一个是要监听的事件，另一个是当事件被监听时要执行的回调函数。我们需要编写回调函数:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="de3f" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- functions -----*/</em></span><span id="ee25" class="nb lx in mw b gy ng nd l ne nf">function handleTurn(event) {</span><span id="f510" class="nb lx in mw b gy ng nd l ne nf">let idx = squares.findIndex(function(square) {</span><span id="6529" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">return</em> square === event.target;</span><span id="d04f" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="83fd" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="1c84" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">“<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/API/Event" rel="noopener ugc nofollow" target="_blank">事件</a>是点击，“<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target" rel="noopener ugc nofollow" target="_blank">目标</a>是事件发生的元素——我们点击的方块。<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" rel="noopener ugc nofollow" target="_blank"> findIndex() </a>在我们的squares数组中查找与用户点击的方块相匹配的方块的索引！</p><p id="5776" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">干得好！你可以改变世界，谢丽尔。</p><p id="d171" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我说世界了吗？我指的是<em class="lg">板</em>。改变我们持有的状态:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="aeab" class="nb lx in mw b gy nc nd l ne nf">function handleTurn(event) {</span><span id="f695" class="nb lx in mw b gy ng nd l ne nf">let idx = squares.findIndex(function(square) {</span><span id="36c0" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">return</em> square === event.target;</span><span id="8387" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="631d" class="nb lx in mw b gy ng nd l ne nf">// new code below</span><span id="f743" class="nb lx in mw b gy ng nd l ne nf">board[idx] = turn;</span><span id="994e" class="nb lx in mw b gy ng nd l ne nf">// check your console logs to make sure it's working!</span><span id="7511" class="nb lx in mw b gy ng nd l ne nf">console.log(board);</span><span id="7c67" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="6c6c" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">你的状态变了吗？你在这场比赛中和你的人生中都走在正确的轨道上。你能行的。你可以把板子变得更好！</p><h1 id="49f1" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><strong class="ak">“X”和“O”</strong></h1><p id="bbce" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">我们仍然没有在这个游戏中包含“O ”,这使得它很容易获胜，但玩起来并不有趣。所以，我们用一个三元组来更新这个状态。</p><p id="d5f8" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">名词似乎会使人迷惑。今天就学会写一篇，感谢一直以来的自己。这里是我们的逻辑:<em class="lg">如果是X的回合，那么把回合分配给O；如果不是轮到X，则将该回合分配给X。</em>让我们将该逻辑放入三元结构中:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="51a8" class="nb lx in mw b gy nc nd l ne nf">&lt;condition&gt; ? &lt;if condition is true, this&gt; : &lt;else if condition is false, this&gt;</span></pre><p id="e894" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">将赋值“turn =”放在三元组前面，并尝试通过控制台将其注销。如果这需要一分钟也没关系。深呼吸谢丽尔。完成后，不要忘记调用render()函数。总的来说应该是这样的:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="fcd0" class="nb lx in mw b gy nc nd l ne nf">function handleTurn() {</span><span id="439e" class="nb lx in mw b gy ng nd l ne nf">let idx = squares.findIndex(function(square) {</span><span id="3f02" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">return</em> square === event.target;</span><span id="891a" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="fb50" class="nb lx in mw b gy ng nd l ne nf">board[idx] = turn;</span><span id="1a55" class="nb lx in mw b gy ng nd l ne nf">// This is tidy</span><span id="c50c" class="nb lx in mw b gy ng nd l ne nf">turn = turn === 'X' ? 'O' : 'X';</span><span id="0bda" class="nb lx in mw b gy ng nd l ne nf">// In an if statement it would look like: </span><span id="ef91" class="nb lx in mw b gy ng nd l ne nf">// if (turn === 'X') {<br/>// turn = 'O' <br/>// } else {<br/>// turn = 'X' <br/>// };</span><span id="2c60" class="nb lx in mw b gy ng nd l ne nf">// writing the ternary saved you from all that. </span><span id="a951" class="nb lx in mw b gy ng nd l ne nf">render();</span><span id="649e" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="e425" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">他妈的哒哒！现在我们有一个井字游戏！没有什么能让你内心闪耀的光芒暗淡！</p><p id="45a8" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">让我们修复我们的<h2>,这样我们的用户就能得到正确的信息，并知道什么时候轮到他们了:</h2></p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="df8b" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- cached element references -----*/</em></span><span id="7968" class="nb lx in mw b gy ng nd l ne nf">const squares = Array.from(document.querySelectorAll('#board div'));</span><span id="e9ca" class="nb lx in mw b gy ng nd l ne nf">// new code below</span><span id="8f17" class="nb lx in mw b gy ng nd l ne nf">const messages = document.querySelector('h2');</span></pre><p id="7d1f" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我们应该什么时候改变信息？当我们渲染时！</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="182e" class="nb lx in mw b gy nc nd l ne nf">function render() {</span><span id="2bb7" class="nb lx in mw b gy ng nd l ne nf">board.forEach(function(val, idx) {</span><span id="90de" class="nb lx in mw b gy ng nd l ne nf">squares[idx].textContent = val;</span><span id="8219" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="b3a4" class="nb lx in mw b gy ng nd l ne nf">// new code below</span><span id="9d32" class="nb lx in mw b gy ng nd l ne nf">messages.textContent = `It's ${turn}'s turn!`;</span><span id="86fa" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="a131" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">反斜线(`)允许我们使用<a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" rel="noopener ugc nofollow" target="_blank">模板文字</a>在字符串中嵌入JS表达式。</p><h1 id="92e8" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><strong class="ak">胜利逻辑</strong></h1><p id="8582" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated"><em class="lg">胜利意味着什么？</em></p><p id="3576" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">赢意味着有赢这种东西:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="aceb" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- app's state (variables) -----*/</em></span><span id="150c" class="nb lx in mw b gy ng nd l ne nf">let board;</span><span id="399f" class="nb lx in mw b gy ng nd l ne nf">let turn = 'X';</span><span id="3ca8" class="nb lx in mw b gy ng nd l ne nf">// new code below</span><span id="6346" class="nb lx in mw b gy ng nd l ne nf">let win;</span></pre><p id="ab4b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">每次玩家走一个回合，我们都需要检查他们是否走了致胜的一步。让我们从第一排开始。它有从0到2的索引。因此，获胜的逻辑将是:如果在索引0中有一个标记，并且它与索引1和2中的标记相匹配，则存在获胜。一整天。</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="220f" class="nb lx in mw b gy nc nd l ne nf">win = board[0] &amp;&amp; board[0] === board[1] &amp;&amp; board[0] === board[2] ? board[0] : null;</span></pre><p id="918f" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">请注意，我们首先检查board[0]中是否有内容。如果我们只是检查所有三个位置是相同的，当它们都是空的时，我们会得到一个赢家。第一个<code class="fe mt mu mv mw b">board[0]</code>防止了这一点。这个三元组有三个条件，但它仍然是相同的结构:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="cdf9" class="nb lx in mw b gy nc nd l ne nf">&lt;condition1 &amp;&amp; condition2 &amp;&amp; condition3 &gt; ? &lt;if all 3 conditions are true, this&gt; : &lt;else, this&gt;</span></pre><p id="54ed" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">通过键入<em class="lg"> win </em>并查看您的控制台返回true还是false，使用您的控制台检查您的win变量是否正常工作。你可以写下所有这些陈述，这将有助于你的成功逻辑，或者…</p><h2 id="41e0" class="nb lx in bd ly nh ni dn mc nj nk dp mg kt nl nm mi kx nn no mk lb np nq mm nr bi translated"><strong class="ak">重构</strong></h2><p id="a4ca" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">我们有3(行)+ 3(列)+ 2(对角线)= 8种可能的获胜方式。让我们制作一个获胜组合的索引数组。在这里，你会发现我们的3 x 3形状的棋盘阵列有助于找到获胜组合的索引号。制作一个组合数组，其中每个元素都是获胜移动的索引号的嵌套数组:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="e23d" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- constants -----*/</em></span><span id="4c0c" class="nb lx in mw b gy ng nd l ne nf">const winningCombos = [</span><span id="0070" class="nb lx in mw b gy ng nd l ne nf">[0, 1, 2],</span><span id="6fa3" class="nb lx in mw b gy ng nd l ne nf">[3, 4, 5],</span><span id="ed56" class="nb lx in mw b gy ng nd l ne nf">[6, 7, 8],</span><span id="99db" class="nb lx in mw b gy ng nd l ne nf">[0, 3, 6], </span><span id="1b36" class="nb lx in mw b gy ng nd l ne nf">[1, 4, 7],</span><span id="1ca8" class="nb lx in mw b gy ng nd l ne nf">[2, 5, 8],</span><span id="68dd" class="nb lx in mw b gy ng nd l ne nf">[0, 4, 8],</span><span id="87a5" class="nb lx in mw b gy ng nd l ne nf">[2, 4, 6]</span><span id="9d7b" class="nb lx in mw b gy ng nd l ne nf">];</span></pre><p id="a6f5" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">创建一个新的函数来测试每一轮的赢家:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="c49f" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- functions -----*/</em></span><span id="9d62" class="nb lx in mw b gy ng nd l ne nf">function getWinner() {</span><span id="1602" class="nb lx in mw b gy ng nd l ne nf">// just stub it up for now.</span><span id="f931" class="nb lx in mw b gy ng nd l ne nf">}</span></pre><p id="c556" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在，让我们重构handleTurn()函数来调用getWinner()，并将其输出赋给win变量:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="aa09" class="nb lx in mw b gy nc nd l ne nf">function handleTurn() {</span><span id="34bc" class="nb lx in mw b gy ng nd l ne nf">let idx = squares.findIndex(function(square) {</span><span id="63b7" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">return</em> square === event.target;</span><span id="9587" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="86a6" class="nb lx in mw b gy ng nd l ne nf">board[idx] = turn;</span><span id="b59c" class="nb lx in mw b gy ng nd l ne nf">// new code here</span><span id="1676" class="nb lx in mw b gy ng nd l ne nf">win = getWinner();</span><span id="9360" class="nb lx in mw b gy ng nd l ne nf">render();</span><span id="8d97" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="2344" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">谢丽尔，你是一个宝藏。现在，我们需要getWinner()函数来遍历winningCombos数组，并检查是否有一个玩家在棋盘上有获胜的标记组合。我们可以使用winningCombos.forEach()来做到这一点。这样，我们只需要编写一次获胜逻辑，但它将根据我们所有8种可能的获胜组合进行检查。我们的forEach()回调函数将接受两个参数，数组中的元素和元素的索引:<code class="fe mt mu mv mw b">function(combo, index)</code>同样，我们可以使用相同的逻辑，但我们将测试是否所有三个标记都匹配获胜组合数组中的组合。试试看！您将得到类似这样的结果:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="e3a8" class="nb lx in mw b gy nc nd l ne nf">function getWinner() {</span><span id="08eb" class="nb lx in mw b gy ng nd l ne nf">let winner = null;</span><span id="c9e2" class="nb lx in mw b gy ng nd l ne nf">winningCombos.forEach(function(combo, index) {</span><span id="0e00" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">    if</em> (board[combo[0]] &amp;&amp; board[combo[0]] === board[combo[1]] &amp;&amp; board[combo[0]] === board[combo[2]]) winner = board[combo[0]];</span><span id="2639" class="nb lx in mw b gy ng nd l ne nf">  });</span><span id="23f1" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">  return</em> winner;</span><span id="4f0a" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="b874" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这看起来像我们以前的逻辑，但是我们写了一个函数来一次检查所有获胜的组合。使用console.log()检查您的功能。</p><p id="2121" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Werk！让我们更新我们的消息，以便当有获胜者时，它显示获胜者。这可以用我们的朋友三元组在一行中完成。</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="ff70" class="nb lx in mw b gy nc nd l ne nf">messages.textContent = win ? `${win} wins the game!` : `It's ${turn}'s turn!`;</span></pre><h1 id="dc37" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">宣布平局</h1><p id="f78a" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">平局是什么意思？这意味着棋盘已满，没有剩余的棋步或获胜的机会。让我们将它放入getWinner()函数中:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="e7ab" class="nb lx in mw b gy nc nd l ne nf">function getWinner() {</span><span id="72f9" class="nb lx in mw b gy ng nd l ne nf">let winner = null;</span><span id="8e6b" class="nb lx in mw b gy ng nd l ne nf">winningCombos.forEach((combo, index) =&gt; {</span><span id="441d" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">if</em> (board[combo[0]] &amp;&amp; board[combo[0]] === board[combo[1]] &amp;&amp; board[combo[0]] === board[combo[2]]) {</span><span id="5533" class="nb lx in mw b gy ng nd l ne nf">winner = board[combo[0]];</span><span id="058f" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="461a" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="38c4" class="nb lx in mw b gy ng nd l ne nf">// new code below</span><span id="7442" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">return</em> winner ? winner : board.includes('') ? null : 'T';</span><span id="0f5f" class="nb lx in mw b gy ng nd l ne nf">};</span></pre><p id="97da" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">或者，如果你想看没有三元的:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="7576" class="nb lx in mw b gy nc nd l ne nf">function getWinner() {</span><span id="9947" class="nb lx in mw b gy ng nd l ne nf">let winner = null;</span><span id="9daa" class="nb lx in mw b gy ng nd l ne nf">winningCombos.forEach((combo, index) =&gt; {</span><span id="c2dc" class="nb lx in mw b gy ng nd l ne nf"><em class="lg">if</em> (board[combo[0]] &amp;&amp; board[combo[0]] === board[combo[1]] &amp;&amp; board[combo[0]] === board[combo[2]]) {</span><span id="2332" class="nb lx in mw b gy ng nd l ne nf">winner = board[combo[0]];</span><span id="36ab" class="nb lx in mw b gy ng nd l ne nf">}</span><span id="934d" class="nb lx in mw b gy ng nd l ne nf">});</span><span id="d245" class="nb lx in mw b gy ng nd l ne nf">// new code below</span><span id="145b" class="nb lx in mw b gy ng nd l ne nf">if (winner) {<br/>  return winner <br/>} else if (board.includes('')) {<br/>  return null // if there's an empty space, return null (no winner yet)<br/>} else {<br/>  return 'T' // no winner and no empty spaces? That's a tie!<br/>}</span></pre><p id="8e63" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在，让我们更新消息，这样它就不会显示“赢不了游戏”!“如果有平局的话。试着看看这个嵌套的三元组，并把它翻译成通俗易懂的语言:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="5d06" class="nb lx in mw b gy nc nd l ne nf">messages.textContent = win === 'T' ? `That's a tie, queen!` : win ? `${win} wins the game!` : `It's ${turn}'s turn!`;</span></pre><p id="5be6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">消息的文本内容将是:如果<code class="fe mt mu mv mw b">win</code>不是“那么”，那就是平局，女王！“，如果有赢的话，“&lt;胜者&gt;胜游戏！”，扬手，“该&lt;轮到&gt;了。“乍一看，这可能会令人困惑，但这并不会使你的坏蛋身份减少。再看一遍，或者试着在if…else语句中写出等价的语句。如果你卡住了，不要担心！我已经把解决方案写在下面了。</p><p id="730a" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">经典if/else语句版本:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="1126" class="nb lx in mw b gy nc nd l ne nf">if ( win === 'T' ) {<br/>  messages.textContent = `That's a tie, queen!`<br/>} else if (win) { <br/>  messages.textContent = `${win} wins the game!`<br/>} else {<br/>  messages.textContent = `It's ${turn}'s turn!`<br/>}</span></pre><p id="7ba4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Ternaries很有趣，但需要注意的是:不是每个人都喜欢看到它们嵌套，因为这会降低可读性，但我不希望你在遇到它们时感到困惑。</p><h1 id="4399" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">游戏结束了</h1><p id="fd0b" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">游戏结束了。让我们按下重置键，这样我们就能有一个新的开始:</p><pre class="kd ke kf kg gt mx mw my mz aw na bi"><span id="45f6" class="nb lx in mw b gy nc nd l ne nf"><em class="lg">/*----- event listeners -----*/</em></span><span id="2843" class="nb lx in mw b gy ng nd l ne nf">document.getElementById('board').addEventListener('click', handleMove);</span><span id="c8f7" class="nb lx in mw b gy ng nd l ne nf">//new code</span><span id="225b" class="nb lx in mw b gy ng nd l ne nf">document.getElementById('reset-button').addEventListener('click', init);</span></pre><p id="d7d1" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我只是重用了init()函数来重置游戏，但你不必这样做。这是你的世界，谢丽尔。</p><p id="4c65" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">回顾工作游戏，试着挑战自己，寻找改进的方法。以下是一些想法:</p><ul class=""><li id="d9af" class="li lj in km b kn ko kq kr kt lk kx ll lb lm lf ln lo lp lq bi translated">让玩家可以记录分数</li><li id="f28e" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">让玩家可以选择谁先走(现在，X总是先走)</li><li id="592b" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">添加一些更酷的风格</li><li id="da4d" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">当一个正方形被一个标记填满后，它就不能被改变了</li><li id="71d0" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">看看你能否用不同的方式重写一个函数</li><li id="9002" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">让它对移动用户做出响应</li><li id="6bb4" class="li lj in km b kn lr kq ls kt lt kx lu lb lv lf ln lo lp lq bi translated">拿出你自己的改进，然后把它建出来！</li></ul><h2 id="2567" class="nb lx in bd ly nh ni dn mc nj nk dp mg kt nl nm mi kx nn no mk lb np nq mm nr bi translated">继续吧，谢丽尔，继续吧。</h2></div></div>    
</body>
</html>