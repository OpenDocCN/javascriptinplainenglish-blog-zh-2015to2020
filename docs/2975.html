<html>
<head>
<title>Angular Two-Way Data Binding — An Easy Introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度双向数据绑定—简单介绍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-two-way-data-binding-an-easy-introduction-35c87648c652?source=collection_archive---------1-----------------------#2020-08-13">https://javascript.plainenglish.io/angular-two-way-data-binding-an-easy-introduction-35c87648c652?source=collection_archive---------1-----------------------#2020-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/bbc2dcab4c7bd087fce101806cf4a2f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qAgSwIP_07RtoAsZFeoSaA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="30bf" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">学习角度双向数据绑定技术的基础</h2></div><p id="3973" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">Angular framework提供的最大特性之一是它管理应用程序逻辑和呈现给用户的视图之间的变量变化的方式。</p><p id="ccd2" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">通过绑定一个变量，你告诉Angular观察它的变化，如果检测到变化，框架会负责<strong class="ks jc">相应地更新视图</strong>。</p><p id="2937" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><em class="lm">与以前的编码范式相比，这种方法是开创性的，并且是使Angular如此受欢迎的主要特性之一</em> <strong class="ks jc"> <em class="lm">，</em> </strong> <em class="lm">，在此之前，使用</em> <strong class="ks jc"> <em class="lm">普通JavaScript </em> </strong> <em class="lm">甚至像</em><strong class="ks jc"><em class="lm">【jQuery</em></strong><em class="lm">这样的库，更新用户屏幕上显示的内容取决于开发人员。</em></p><h1 id="cf59" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">单向绑定</h1><p id="c8c4" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated"><strong class="ks jc">双向数据绑定</strong>顾名思义，是指通过使用特定的模板语法来创建<strong class="ks jc">双向数据流</strong>的能力。</p><p id="d7e5" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">你可以控制这个流程，你甚至可以决定哪一层可以修改你的变量的值。</p><p id="66df" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">显示绑定值的最常见方式是将它们显示为另一个DOM元素的子元素。</p><p id="d73e" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们可以从模板中引用我们的变量，用两边的大括号把它的名字<strong class="ks jc">括起来。</strong></p><p id="af48" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">请记住，此方法只提供单向数据绑定。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="6bf5" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">为了在屏幕上显示名为<em class="lm"> "first_name" </em>的变量的值，我们需要在组件的模板中创建一个绑定。</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="3289" class="mv lo jb mr b gy mw mx l my mz">&lt;p&gt;{{ first_name }}&lt;/p&gt;</span></pre><p id="de23" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">因为我们使用括号来区分变量名和普通文本，<strong class="ks jc">我们也可以将这个语法和文本</strong>结合起来。</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="cadb" class="mv lo jb mr b gy mw mx l my mz">&lt;p&gt;Hello, my name is {{ first_name }} {{ last_name }}&lt;/p&gt;</span></pre><h1 id="a3ce" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">将变量作为属性传递</h1><p id="ccc2" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">一些HTML元素和角度组件<strong class="ks jc">要求使用属性将值传递给它们。</strong></p><p id="7345" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这些数据绑定被称为属性绑定。</p><p id="5255" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">语法是相似的，就像我们将值附加到元素的子元素上，不同的是<strong class="ks jc">我们使用了带有属性</strong>的语法。</p><p id="6e9c" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">通过属性获取值的元素之一是<strong class="ks jc">输入标签</strong>。</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="f824" class="mv lo jb mr b gy mw mx l my mz">&lt;input id="first_name" value="{{ first_name }}" /&gt;</span></pre><p id="79a7" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">因为到处都有大括号看起来有点混乱，有一个替代语法<strong class="ks jc">更好，也是推荐的语法。</strong></p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="795b" class="mv lo jb mr b gy mw mx l my mz">&lt;input id="first_name" [value]="first_name" /&gt;</span></pre><p id="0753" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在内容中没有大括号，现在属性名用方括号<strong class="ks jc">括起来，双引号<strong class="ks jc">里面是我们的变量名</strong>。</strong></p><h1 id="4a4c" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">绑定到事件</h1><p id="0f1b" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">到目前为止，我们只使用数据绑定来显示从控制器到视图的变量值。</p><h2 id="7a4c" class="mv lo jb bd lp na nb dn lt nc nd dp lx kz ne nf lz ld ng nh mb lh ni nj md nk bi translated"><em class="nl">但是如果我们想对用户的行为做出反应呢？</em></h2><p id="129d" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">我们要做的是<strong class="ks jc">将相应的事件(例如点击事件)绑定到组件逻辑</strong>中声明的方法。</p><p id="6584" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">为此，我们使用属性，用圆括号将我们要绑定的事件的名称括起来:</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="9b3c" class="mv lo jb mr b gy mw mx l my mz">&lt;button (click)="onButtonClicked()"&gt;Change First Name&lt;/button&gt;</span></pre><p id="455f" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们要触发的方法是<code class="fe nm nn no mr b">onButtonClicked</code>。</p><p id="2173" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">当然，我们也有<strong class="ks jc">来实现我们的组件</strong>中的方法:</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h1 id="166c" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">传递事件对象</h1><p id="b85c" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">在鼠标事件(以及其他事件)的情况下，通常需要接收原始事件来访问有用的信息。</p><p id="5a5c" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们可以通过使用特殊的<code class="fe nm nn no mr b"><em class="lm">$event</em></code>语法将原始事件传递给我们的方法:</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="e0e9" class="mv lo jb mr b gy mw mx l my mz">&lt;button (click)="onButtonClicked($event)"&gt;Change Name&lt;/button&gt;</span></pre><p id="e85e" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><em class="lm">注意，该参数的拼写必须和上面完全一样，包括美元符号。</em></p><p id="f4fa" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们可以通过向我们的方法添加一个参数来接收事件:</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="c5ad" class="mv lo jb mr b gy mw mx l my mz">onButtonClicked(evt: MouseEvent) {<br/>    ...<br/>}</span></pre><h1 id="173b" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">什么是双向数据绑定？</h1><p id="2b20" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">通过双向数据绑定，Angular不仅监视变量的变化，还跟踪用户的动作(例如输入元素和按钮点击),并且<strong class="ks jc">相应地更新绑定变量</strong>。</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f5cd68d63ca870b4c464ba3fb31af7e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*Q1l8xQzQhJhTkt4o99O-4Q.png"/></div></figure><p id="dc4b" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">这样，代码中的变量总是代表视图中显示的内容。</p><h1 id="d41c" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">如何在Angular中使用双向数据绑定</h1><p id="d33d" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">有一个常用的指令使得双向数据绑定成为可能，它被称为<strong class="ks jc"> ngModel </strong>。</p><p id="d0e1" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc"> NgModel </strong>可以和<strong class="ks jc"> form-elements </strong>一起使用，比如输入，实现双向数据绑定。</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="8e39" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">为此，我们必须使用一个非常特殊的语法:<strong class="ks jc"> [(ngModel)] </strong>。</p><blockquote class="nq nr ns"><p id="eccb" class="kq kr lm ks b kt ku kc kv kw kx kf ky nt la lb lc nu le lf lg nv li lj lk ll ij bi translated">它是单向和事件绑定语法的组合。</p></blockquote><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="79cd" class="mv lo jb mr b gy mw mx l my mz">&lt;input [(ngModel)]="first_name" /&gt;</span></pre><p id="9236" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">使用这种语法，变量“first_name”的值不仅显示为输入值<strong class="ks jc">，而且当用户在输入字段</strong>中键入时，这两个值都会改变。</p><h1 id="3b86" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">双向数据绑定的工作原理</h1><figure class="mk ml mm mn gt is gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/65f1d4b10970afab5de69de36dabf8cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*6ZgfCN5xn-PnXX1KS4lNsA.png"/></div></figure><p id="2365" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">事实证明，组合语法不是巧合，它只是一个更漂亮的版本，一个普通的数据绑定在屏幕上显示值，一个事件绑定<strong class="ks jc">更新变量值。</strong></p><p id="5f11" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">上面的例子也可以写成:</p><pre class="mk ml mm mn gt mq mr ms mt aw mu bi"><span id="7ece" class="mv lo jb mr b gy mw mx l my mz">&lt;input [ngModel]="first_name" (ngModelChange)="first_name = $event" /&gt;</span></pre><p id="05cb" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><strong class="ks jc">这个版本比</strong>更长，但是给了你更多的控制发生了什么，而不是仅仅用最近的事件更新<strong class="ks jc"><em class="lm">【first _ name】</em></strong>变量的值，<strong class="ks jc">当值改变时你可以做各种事情</strong>。</p><h1 id="1d7a" class="ln lo jb bd lp lq lr ls lt lu lv lw lx kh ly ki lz kk ma kl mb kn mc ko md me bi translated">结论</h1><p id="ff8d" class="pw-post-body-paragraph kq kr jb ks b kt mf kc kv kw mg kf ky kz mh lb lc ld mi lf lg lh mj lj lk ll ij bi translated">在本教程中，我们发现了如何在Angular应用程序中使用数据绑定的强大功能，这是对该主题的快速介绍，但它足以提高模板语法的效率，并为您提供了开始创建更复杂的解决方案的基础。</p><p id="8bb4" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated"><em class="lm">感谢阅读！</em></p></div></div>    
</body>
</html>