<html>
<head>
<title>Getting started with ReasonReact</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ReasonReact入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/tutorial-getting-started-with-reasonreact-984069b898ac?source=collection_archive---------13-----------------------#2020-04-14">https://javascript.plainenglish.io/tutorial-getting-started-with-reasonreact-984069b898ac?source=collection_archive---------13-----------------------#2020-04-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/08540db1cbe70e09e2d7ab4e638c8732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MfzqROVYhM9RZzdjEQ_-8Q.png"/></div></div></figure><div class=""/><p id="8690" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇博文中，我们将使用ReasonReact构建一个小型CRUD应用程序。我们将在本教程中介绍以下内容:</p><ul class=""><li id="3a59" class="kw kx jb ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated">使用<a class="ae lf" href="https://github.com/reasonml-labs/bs-css" rel="noopener ugc nofollow" target="_blank"> bs-css </a>进行造型</li><li id="f3bc" class="kw kx jb ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated">用<a class="ae lf" href="https://github.com/glennsl/bs-json" rel="noopener ugc nofollow" target="_blank">@ glensl/bs-JSON</a>进行JSON编码/解码</li><li id="62a1" class="kw kx jb ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated">本地存储操作</li><li id="0f2c" class="kw kx jb ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated">使用<strong class="ka jc"> useReducer </strong>挂钩</li></ul><p id="8a0f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于那些想先看看代码的人，Github链接在这里。</p><div class="ip iq gp gr ir ll"><a href="https://github.com/varunmulloli/reasonreact-example-list" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab fo"><div class="ln ab lo cl cj lp"><h2 class="bd jc gy z fp lq fr fs lr fu fw ja bi translated">varunmulloli/reason react-example-list</h2><div class="ls l"><h3 class="bd b gy z fp lq fr fs lr fu fw dk translated">一个ReasonReact示例应用程序，它呈现localstorage中的项目列表，并对其执行基本操作。至…</h3></div><div class="lt l"><p class="bd b dl z fp lq fr fs lr fu fw dk translated">github.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz ix ll"/></div></div></a></div></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="2780" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated">目录结构</h2><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="88b8" class="mh mi jb nf b gy nj nk l nl nm">reasonml-example-list/<br/>|<br/>|- public/<br/>|  |- edit.png<br/>|  |- delete.png<br/>|- src/<br/>|  |- apis/<br/>|  |  |- ListAPI.re<br/>|  |- components/<br/>|  |  |- header/<br/>|  |  |  |- Header.re<br/>|  |  |  |- HeaderCSS.re<br/>|  |  |- listItems/<br/>|  |  |  |- ListItems.re<br/>|  |  |  |- ListItemsCSS.re<br/>|  |  |- modal/<br/>|  |  |  |- Modal.re<br/>|  |  |  |- ModalCSS.re<br/>|  |- helpers/<br/>|  |  |- JsonHelper.re<br/>|  |- services/<br/>|  |  |- ListService.re<br/>|  |- theme/<br/>|  |  |- Theme.re<br/>|  |- types/<br/>|  |  |- Types.re<br/>|  |- App.re<br/>|  |- Index.re<br/>|<br/>|- bsconfig.json<br/>|- index.html<br/>|- package.json<br/>|- watcher.js</span></pre><p id="6df5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我知道文件组织对于这样一个基本的演示应用程序来说有点大材小用，但是我相信这将是构建更大的应用程序的良好起点，所以我没有费心去简化它。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="9853" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated">装置</h2><p id="1f69" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">如果你的机器上还没有安装<a class="ae lf" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka jc"> Node.js </strong> </a>，你可以从<a class="ae lf" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">node . js网站</a>下载安装。安装完成后，在命令行/终端上运行以下命令，安装负责将您的<a class="ae lf" href="https://reasonml.github.io/" rel="noopener ugc nofollow" target="_blank"> ReasonML </a>代码编译成Javascript的<a class="ae lf" href="https://bucklescript.github.io/" rel="noopener ugc nofollow" target="_blank"> Bucklescript </a>。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="06e0" class="mh mi jb nf b gy nj nk l nl nm">npm install --global bs-platform@6.2.1</span></pre><p id="a4f4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦这些步骤成功完成，导航到您打算启动这个项目的文件夹并创建这两个文件—<strong class="ka jc"><em class="ns">package . JSON</em></strong>和<strong class="ka jc"><em class="ns">bs config . JSON</em></strong>。</p><blockquote class="nt nu nv"><p id="a9d5" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">package.json</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="1471" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">bsconfig.json</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="af23" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">确保您的当前工作目录与命令行中的相同，并通过运行以下命令安装所有依赖项</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="5630" class="mh mi jb nf b gy nj nk l nl nm">npm install</span></pre></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="4482" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated">你好世界</h2><p id="96f0" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">现在，我们将设置从ReasonReact应用程序运行“Hello World”所需的文件。我使用的服务器设置与您运行<code class="fe ob oc od nf b">bsb -init</code>命令时得到的设置相同。</p><blockquote class="nt nu nv"><p id="2c9f" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">index.html</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="b194" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">watcher.js</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="5282" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/Index.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="fe3d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦创建了这些文件，返回命令行并运行</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="f106" class="mh mi jb nf b gy nj nk l nl nm">npm run start</span></pre><p id="499c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该命令将编译代码，并监视更改。现在为命令行打开一个新的选项卡/窗口，确保您在同一个工作目录中并运行</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="dc5d" class="mh mi jb nf b gy nj nk l nl nm">npm run server</span></pre><p id="150f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将启动端口8000上的服务器。我们可以通过打开浏览器并导航到<a class="ae lf" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000 </a>来检查输出。如果一切顺利，你会在浏览器窗口看到“Hello World”。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="1fed" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated">用<a class="ae lf" href="https://github.com/reasonml-labs/bs-css" rel="noopener ugc nofollow" target="_blank"> bs-css </a>造型</h2><p id="d4a4" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">现在我们已经完成了设置阶段，我们将继续一步一步地构建应用程序。首先，我们将制作一个组件，并使用<strong class="ka jc"> <em class="ns"> bs-css </em> </strong>对其进行样式化。将<strong class="ka jc"> src/Index.re </strong>的内容修改为:</p><blockquote class="nt nu nv"><p id="e4b5" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/Index.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="862b" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/App.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="a25f" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/theme/Theme.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="2abd" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/components/header/header . re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="181e" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/components/header/header CSS . re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="a536" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请注意，我们已经将全局和公共样式分离到一个单独的主题文件中，这样它就可以很容易地在其他CSS模块之间共享。由于watcher正在运行，您的浏览器将在保存时自动刷新并加载我们新编写的代码的输出。如果一切顺利，浏览器窗口现在将显示我们新创建的标题。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="c8a7" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated">用@glennsl/bs-json进行JSON编码/解码</h2><p id="6118" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">我们的应用程序旨在操作对象列表，我们计划通过在Reason end创建记录并将其作为JSON字符串存储在<code class="fe ob oc od nf b">localStorage</code>中来实现持久性。现在我们将定义记录类型，并为其编写JSON编码和解码函数。</p><blockquote class="nt nu nv"><p id="311e" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/types/Types.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="0833" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/helpers/JsonHelper.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="d86a" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated"><strong class="ak">本地存储操作</strong></h2><p id="c834" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">现在我们将继续使用我们刚刚创建的JSON编码器和解码器为这些记录定义localStorage CRUD操作。</p><blockquote class="nt nu nv"><p id="46af" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/services/ListService.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="25ce" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/apis/ListAPI.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="1fe3" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ListService的模块签名将控制所有方法通过其实现模块公开的内容。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="4757" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated">使用<strong class="ak"> useReducer </strong>挂钩</h2><p id="df21" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">现在，我们将使用我们创建的API来连接应用程序。剩下的唯一部分是构建实际的UI本身，这是我们现在要做的。让我们回到我们之前创建的<strong class="ka jc"> src/App.re </strong>并更新它的内容。</p><blockquote class="nt nu nv"><p id="e83f" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/App.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="0b84" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/components/listitem/listitem . re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="fa67" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/components/listItems/listItems CSS . re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="eafb" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/components/modal/Modal.re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><blockquote class="nt nu nv"><p id="7456" class="jy jz ns ka b kb kc kd ke kf kg kh ki nw kk kl km nx ko kp kq ny ks kt ku kv ij bi translated">src/components/modal/modal CSS . re</p></blockquote><figure class="na nb nc nd gt is"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="5a57" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这就完成了我们的示例ReasonReact应用程序的代码。需要注意的一点是，<code class="fe ob oc od nf b">React.useEffect0(effect)</code>在初始渲染时只运行一次，因为它相当于在React中调用<code class="fe ob oc od nf b">React.useEffect(effect, [])</code>。所以<code class="fe ob oc od nf b">Fetch</code>不会在每次组件重新渲染时被调度。</p><p id="f066" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这篇博文对你有帮助。欢迎所有建议/反馈/批评！:)</p><h2 id="bd0f" class="mh mi jb bd mj mk ml dn mm mn mo dp mp kj mq mr ms kn mt mu mv kr mw mx my mz bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="4875" class="pw-post-body-paragraph jy jz jb ka b kb nn kd ke kf no kh ki kj np kl km kn nq kp kq kr nr kt ku kv ij bi translated">我们推出了三种新的出版物！通过以下方式表达对我们新出版物的热爱:<a class="ae lf" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="ka jc"/></a><a class="ae lf" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="ka jc">【UX】</strong></a><a class="ae lf" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="ka jc">【Python】</strong></a><strong class="ka jc"/>——谢谢您，继续学习！</p><p id="ffc4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们也一直对帮助推广高质量内容感兴趣。如果您有文章想提交给我们的任何出版物，请用您的中用户名在<a class="ae lf" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ka jc">submissions @ plain English . io</strong></a><strong class="ka jc"/>发邮件给我们，我们会将您添加为作者。另外，请告诉我们您想添加到哪个出版物中。</p></div></div>    
</body>
</html>