<html>
<head>
<title>An easy way to localize your React application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">本地化React应用程序的简单方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/an-easy-way-to-localize-your-react-application-aa8a3e81a543?source=collection_archive---------7-----------------------#2020-12-12">https://javascript.plainenglish.io/an-easy-way-to-localize-your-react-application-aa8a3e81a543?source=collection_archive---------7-----------------------#2020-12-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/b3da71599aba32a364157c0f84f2ff0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tIuinfUW27fdO-WY2r3GQ.png"/></div></div></figure><div class=""/><p id="5086" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">反应JS。当然现在是趋势框架。它更轻。并且易于使用。在许多库的支持下，您可以在您的React项目中实现许多事情。所以今天，我将向您展示如何在React中进行本地化，使用一个名为i18next和react-i18next的简单库。</p><h1 id="c4d4" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">i18next和react-i18next</h1><p id="53f9" class="pw-post-body-paragraph jv jw iy jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">i18next是一个著名的基于JavaScript的项目框架。因为它是纯JavaScript，你将很难把它转换成React。但是不用担心。有了名为react-i18next的库，这就简单多了。react-i18next是一个为react制作的包装器，基于i18next。所以不需要转换任何东西。我们可以简单地通过一些小的配置来使用这个库。</p><p id="a97f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以，没有更多的理论，让我们进入实际。</p><h1 id="e59d" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第一步。创建一个React项目，然后安装i18next</h1><p id="7fa1" class="pw-post-body-paragraph jv jw iy jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我将使用以下命令创建我的项目:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="19e2" class="mf ku iy mb b gy mg mh l mi mj">npx create-react-app react-localization</span></pre><p id="b14e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后。让我们安装i18next和react-i18next。用您最喜欢的编辑器打开项目。我的是VS代码。打开终端。使用下面的代码，您可以安装两个库。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="182a" class="mf ku iy mb b gy mg mh l mi mj">yarn add i18next react-i18next</span></pre><p id="cdc9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mk"> React现在带有纱线，而不是npm。所以最好总是使用纱线。</em></p><p id="8fc5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">酷毙了。现在我们有了一个新的React项目，安装了i18next。</p><h1 id="415c" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">第二步。创建本地文件</h1><p id="1934" class="pw-post-body-paragraph jv jw iy jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">语言环境文件是保存翻译的文件。在我们的申请中，我只有两种语言。英语和瑞典语。所以我需要本地文件。创建一个名为locales的文件夹，并添加两个JSON文件。</p><figure class="lw lx ly lz gt ip gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/f93ac382625d79fda7c177a7990729c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*kmwPOiqUMTlQzT-9khFyNw.jpeg"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Locale files</figcaption></figure><p id="1da0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们在那里补充一些词。</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">sv.json</figcaption></figure><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">en.json</figcaption></figure><h1 id="4a8e" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak">第三步。创建i18下一个配置文件</strong></h1><p id="dcd6" class="pw-post-body-paragraph jv jw iy jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">这是i18next的主要配置文件。在根目录下创建一个名为i18n.js的新文件。以及index.js。</p><figure class="lw lx ly lz gt ip gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/a2ca8c42e80cf21f350ff64779679f8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*0jTIDnn-XCUiwVQDjvBSXQ.jpeg"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">i18n.js</figcaption></figure><p id="0408" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们需要在那里进行必要的配置。在我的应用程序中，我希望默认语言是瑞典语。所以我配置了我的i18n.js如下。</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">i18n.js</figcaption></figure><p id="1f1a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建i18n.js后，必须将其导入index.js。</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">index.js</figcaption></figure><h1 id="69bd" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">步骤4 —修改您的组件以支持本地化</h1><p id="501d" class="pw-post-body-paragraph jv jw iy jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在这里，我将把内容添加到我的App.js文件中。你要做的主要事情是用“withTranslation”导出评论。这是react-i18next给出的函数。您可以通过下面的代码片段看到我是如何做到的。</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="d751" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如你所见，我已经导入了“withTranslation ”,也导出了组件。另一个值得注意的是</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="585a" class="mf ku iy mb b gy mg mh l mi mj">const { t } = props;</span></pre><p id="4e80" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个“t”函数用于呈现译文。我们需要换行，用“t”来翻译内容。您可以在下面的代码中看到我是如何包装文本的。</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Texts are wrapped with the t function.</figcaption></figure><p id="27fc" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你现在运行你的项目，你可以看到文本被翻译成瑞典语。</p><figure class="lw lx ly lz gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mt"><img src="../Images/7486bfb6578f89773c271bcb2c43d226.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X4LbYpeWuVo-hKUqXDYMyQ.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Translated App.js</figcaption></figure><p id="0808" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是因为我已经将我的默认语言设置为Svenska。</p><h1 id="76b3" class="kt ku iy bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">步骤5-添加语言切换按钮</h1><p id="4116" class="pw-post-body-paragraph jv jw iy jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">网站应该有办法改语言吧？所以我们要添加一个按钮，在英语和斯文斯卡语之间切换语言。</p><p id="017a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通常这个按钮被添加在标题中。由于我没有使用header，所以我将在App.js中添加按钮。在这里，我们必须使用一些react-i18next函数来更改语言。您可以在下面的代码中看到我是如何做到这一点的。</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="b8af" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是最终结果:</p><figure class="lw lx ly lz gt ip"><div class="bz fp l di"><div class="mu mr l"/></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Final result</figcaption></figure><p id="529c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，使用React进行本地化非常容易。希望你能从中学到一些东西。</p><p id="6d8f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在这里找到示例项目。</p><div class="im in gp gr io mv"><a href="https://github.com/ayeshN/react-localization.git" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iz gy z fp na fr fs nb fu fw ix bi translated">ayeshN/react-本地化</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">这个项目是用Create React App引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj iu mv"/></div></div></a></div></div></div>    
</body>
</html>