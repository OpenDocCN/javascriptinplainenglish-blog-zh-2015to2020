# 为反应中的所有输入类型创建一个事件处理程序

> 原文：<https://javascript.plainenglish.io/creating-one-event-handler-for-all-input-types-in-react-62bcd039025e?source=collection_archive---------5----------------------->

## 反应中的 onChange 处理程序

![](img/c2208e4eba03b79537f20b41b1b87ec0.png)

Photo by [Kit Suman](https://unsplash.com/@cobblepot?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

我最近遇到了这种情况，在这种情况下，我需要一个表单中的十几个输入。在所有事件处理程序上设置单独的事件处理程序会导致更多的重复代码。相反，对于所有输入类型，如文本、广播、复选框等，只有一个更好。

在本文中，我们将看到如何为多种输入类型设置一个变更事件处理程序。

## 单输入

让我们创建一个输入类型的文本，并用反作用钩子来设置它。

我们基本上有一个**名称**变量，它处于我们正在设置的状态。

事件处理程序**处理变更**非常简单。我们正在为我们的 state 属性设置事件的目标值。

现在我们有了一个受控的组件，它可以捕获变化并相应地更新状态。

## 多端输入

让我们在表单中再添加一个输入，看看我们的处理程序是否有所改变。

如果您注意到这里，我们在两个输入中添加了**名称**道具，以在我们的处理程序中区分它们。必须对我们的**手柄进行轻微的调整，将**功能更改如下:

我们正在从事件对象中提取**值**，并将其分配给用方括号生成的动态键。 **evt.target.name** 这里采用的是我们表单中输入的名称。

## 单选按钮

这是带有单选按钮的表单:

这有一个用单选按钮设置的初学者/中间切换状态，并且**勾选了**的道具被分配了相应状态的值。**处理程序更改**事件处理程序保持不变，不会有任何变化。

## 文本区域输入

这里添加了一个新的 textarea 输入，其值绑定到**值** prop。这里，handleChange 也保持不变，因为 textarea 的功能与输入类型文本完全相同。

## 选择输入

通过**选择**，通过父选择元素上的**值**道具设置当前选择的值。初始选择值由初始 **state.color** 值设定。**值**子选项元素上的道具是要更改的潜在值。

同样，现在 **handleChange** 事件处理程序发生了变化。

## 复选框输入

复选框也有**勾选**的道具，就像单选按钮一样，但是它们的控件是独立的，并且在表单中它们被分配了一个单独的**名称**。

我们现在必须对处理程序稍作调整，以适应下面这样的复选框类型。

由于复选框的行为有点像切换，我们检查事件目标类型是否为复选框，并基于此设置值。

## 结论

我们已经成功地为所有输入类型创建了一个处理程序。除了 checkbox 之外，几乎所有的输入在它们的变更处理程序上都是一样的。

这里是沙盒链接共:[https://codesandbox.io/s/async-glade-x7ofl](https://codesandbox.io/s/async-glade-x7ofl)

## 简单英语的 JavaScript

喜欢这篇文章吗？如果有，通过 [**订阅我们的 YouTube 频道**](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw) **获取更多类似内容！**