<html>
<head>
<title>Algorithms 101: Can Place Flowers in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">算法101:可以在JavaScript中放置鲜花</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/algorithms-101-can-place-flowers-in-javascript-b87c6cb1dc24?source=collection_archive---------1-----------------------#2019-10-20">https://javascript.plainenglish.io/algorithms-101-can-place-flowers-in-javascript-b87c6cb1dc24?source=collection_archive---------1-----------------------#2019-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e0fb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Noob诉Leetcode #15，数组操作</h2></div><p id="b37f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lb" href="https://leetcode.com/problems/can-place-flowers/" rel="noopener ugc nofollow" target="_blank">今天来自LeetCode的挑战</a>让我期待下一个种植季节:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/4a1ed1f267667dcd472a52487f6924ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*1Pyi4ILSdKAc7IFUIhAOhw.png"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">sunflower from my garden …</figcaption></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lo"><img src="../Images/d555aefa54a66f0ff41e1b8b2684e6b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oivcPMBmkHbMRy8peX5Xpg.png"/></div></div></figure><h2 id="81b2" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">分解问题。</h2><p id="a923" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">我们可以通过以下几个步骤来解决上面的简单例子:</p><ol class=""><li id="adbb" class="mr ms iq kh b ki kj kl km ko mt ks mu kw mv la mw mx my mz bi translated">从零开始计数。</li><li id="bb92" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated">从左到右，连续寻找三个空图(零)。</li><li id="dfe0" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated">如果你发现连续三块空地，在中间种一朵花，然后增加你的计数器。如果你的计数器等于你应该种的花的数量，你的工作就完成了！返回<code class="fe nf ng nh ni b"> true.</code>如果没有，继续前进。</li></ol><p id="a372" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.从你刚刚种的花右边的空白地块开始，回到第2步，重复直到你的<code class="fe nf ng nh ni b">counter = n</code>或者直到你的地块用完。</p><h2 id="a29c" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">第一步。设置计数器。</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nj"><img src="../Images/05721559e825edd81e0f35dff8b1de01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UTvrHx6Ci-0NYZRmxs8eTA.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">ok, that was easy.</figcaption></figure><h2 id="f80c" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">第二步。更难的部分:连续搜索三个零。</h2><p id="09ee" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">假设您有这个数组:<code class="fe nf ng nh ni b">[1,0,0,0,1]</code></p><p id="bdc2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您如何使用代码来发现一行中是否有三个零？</p><h2 id="5aae" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">选项一:使用。切片()</h2><p id="897c" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">我们可以用。<em class="nk">切片()</em>一次检查三种元素的“切片”。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nl"><img src="../Images/589c137da19305b8150e193e2fef2898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ed1_JXHQDJnInGNhT7If8g.png"/></div></div></figure><p id="b99c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们打开包装。</p><p id="4147" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第34行，我们在数组上循环。由于我们想一次检查三个项目，当<code class="fe nf ng nh ni b">i &lt; flowerbed.length -2</code>——数组中倒数第三个项目时，我们将停止循环。</p><p id="1f86" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第21行，我们抓取花坛数组的一个片段，从索引<em class="nk"> i </em>开始，到索引<em class="nk"> i+3之前的元素结束。</em></p><p id="0f04" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第22行，我们使用<em class="nk">。reduce() </em>将数组缩减为单个值，在这种情况下，是其元素的总和。如果和等于零，我们知道我们已经找到了三个元素。</p><h2 id="9c40" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">选项B:避免切片()…</h2><p id="e688" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">我们可以在数组上循环，如果找到零，我们可以检查下两个元素的值:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nm"><img src="../Images/2f39510762ea3f51929356075d5364fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IlrE6D8Es3weHGblQZEqmA.png"/></div></div></figure><p id="9855" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于slice复制了数组的三个元素，然后对它们进行操作，因此它应该比我们的第一种方法使用更多的内存，运行速度也更慢。</p><p id="7b15" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而且，没有。切片()和。reduce()更容易阅读，这意味着它也更容易维护。所以让我们使用选项b。</p><h2 id="e763" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">第三步。递增我们的计数器，并将计数器与我们应该种植的植物数量进行比较。</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nn"><img src="../Images/79fc13fdd68c73b95ae76925a3a2c6b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*slvDON2eMhmMtStPObyxog.png"/></div></div></figure><p id="3879" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，当我们找到三个零时，我们用<code class="fe nf ng nh ni b">counter++.</code>递增计数器，然后，如果计数器等于我们应该种植的植物数量，我们通过返回真打破循环。</p><p id="36cf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果没有，我们需要做一些特别的事情。假设我们从以下开始:</p><p id="77fe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nf ng nh ni b">[ 1, 0, 0, 0, 0, 1 ]</code></p><p id="8adf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们找到了三个零，(从上面的第三个零开始)，并在中间“种”了一朵花。虽然我们实际上没有用代码改变数组，但是当我们考虑未来的种植地块时，我们需要考虑到我们刚刚种了一朵花——也就是说，中间的零现在应该是数字1。</p><p id="42dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">在</strong>之前<code class="fe nf ng nh ni b"> [ 1, <strong class="kh ir">0</strong>, <strong class="kh ir">0, 0</strong>, 0, 1 ]</code></p><p id="a449" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">后:</strong>后:<code class="fe nf ng nh ni b">[ 1, <strong class="kh ir">0</strong>, <strong class="kh ir">1, 0</strong>, 0, 1 ]</code></p><p id="0cc6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面，我把我们正在看的三个元素用粗体显示。如果这三个元素在一行中不为零，我们就移到右边的下一个元素，再次搜索。</p><p id="9c93" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是如果我们找到三个零，我们就在中间加一株植物。当我们再次开始寻找时，我们不需要考虑植物(它现在是1)。相反，我们可以跳过它，看看我们刚刚种植的花之后的元素。</p><p id="2433" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记住，每次循环后，<em class="nk"> i </em>加1，这意味着我们向右移动一个元素，然后重新开始。但是在我们种下一朵花之后，我们希望<em class="nk"> i </em>增加2。我们通过在第23行添加一个<code class="fe nf ng nh ni b">i++</code>来做到这一点。然后在循环结束时，<em class="nk"> i </em>再次递增。</p><h2 id="0507" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">还是在第三步:我们成功了吗？</h2><p id="3742" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">现在，如果我们完成了循环，而计数器没有达到n，我们就不能根据规则种植n朵花。所以在if循环之后，我们需要返回false。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi no"><img src="../Images/005e6a2adc4d1f3ab3e589468c350dce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZM8p1EwaVlhcV9pW_fM_A.png"/></div></div></figure><h2 id="fb32" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">但是等等…边缘案例呢？</h2><p id="b687" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">我们有一些特殊情况需要考虑。如果一个花坛长这样，我们想种一朵花怎么办？</p><p id="9bf3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nf ng nh ni b">[ 0, 0, 1]</code></p><p id="8313" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">实际上，我们的代码将返回‘false’—因为我们的代码在决定是否可以种植时会在一行中寻找三个零。在上面的例子中，第一个零适合种植，因为它在数组的开始。</p><p id="c2b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果数组以两个零结尾，我们也会遇到同样的特殊情况:</p><p id="be45" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nf ng nh ni b">[1, 0, 0]</code></p><p id="a6a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写代码来处理这些边缘情况，如果第一个或最后两个元素是零，就将计数器递增1，然后在一个元素之后开始循环，并在一个元素之前结束循环。</p><p id="fff3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，我们可以简单地在数组的开头和结尾加一个零。</p><pre class="ld le lf lg gt np ni nq nr aw ns bi"><span id="1258" class="lt lu iq ni b gy nt nu l nv nw">flowerbed.unshift(0)<br/>flowerbed.push(0)</span></pre><p id="6d85" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe nf ng nh ni b">[ 0, 0, 1, 0, 0]</code></p><p id="a6f6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">会变成:<code class="fe nf ng nh ni b">[0, 0, 0, 1, 0, 0, 0]</code></p><p id="f6b6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用这种方法解决边缘情况，因为我们实际上永远不会将植物添加到数组中的第一个或最后一个地块；我们总是把它加到三个空地块中间。</p><h2 id="d72a" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">最终边缘情况——如果n为零呢？</h2><p id="71e1" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">我们的代码现在适用于所有情况，除了一种情况:当我们有一个已经完全种植的花坛，我们应该添加零朵花。说明提醒我们，我们得到的花坛将始终遵循种植规则。所以不管我们得到什么样的花坛，如果我们必须添加零朵花，我们应该返回true——什么也改变不了总是有可能的！</p><p id="2505" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是最终的代码:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nx"><img src="../Images/c728ce7d91bd265fa4aceb6faf5d4854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HyBNzDiC291Ke1qcldJjNQ.png"/></div></div></figure><p id="72e4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而且……(老实说，LeetCode的计时器在相同代码的后续提交之间变化很大……)它运行得相当快:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi ny"><img src="../Images/c099abd1f5cafa3e2d1231e17a15b756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Icn_m993T5ChM0HF0nWAQ.png"/></div></div></figure><p id="f878" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在repl.it 上玩代码<a class="ae lb" href="https://repl.it/@Joan_IndianaInd/canPlantFlowers" rel="noopener ugc nofollow" target="_blank">:</a></p><p id="fd33" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">https://repl.it/@Joan_IndianaInd/canPlantFlowers<a class="ae lb" href="https://repl.it/@Joan_IndianaInd/canPlantFlowers" rel="noopener ugc nofollow" target="_blank"/></p><p id="1a45" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">版权所有琼·印第安纳·琳斯2019</p><p id="55bd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以防你错过:<a class="ae lb" href="https://medium.com/javascript-in-plain-english/algorithms-101-happy-number-in-javascript-bddeb3d17035" rel="noopener"> <em class="nk">算法101，# 14:JavaScript中的快乐数字</em> </a></p></div></div>    
</body>
</html>