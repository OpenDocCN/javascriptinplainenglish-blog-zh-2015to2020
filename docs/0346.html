<html>
<head>
<title>Type Checking and React Prop Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型检查和反应正确类型</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/type-checking-and-react-prop-types-f4b8cf41b4a2?source=collection_archive---------3-----------------------#2019-09-22">https://javascript.plainenglish.io/type-checking-and-react-prop-types-f4b8cf41b4a2?source=collection_archive---------3-----------------------#2019-09-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fb47" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">什么是类型检查？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/27fe54ba5be561846fb1f0385d67b2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bYhu77NcI-0LtdJaKk2o4Q.jpeg"/></div></div></figure><p id="8ac0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">类型检查是在运行时(动态)或编译时(静态)验证数据类型的过程。这是为了确保程序能够成功执行。</p><p id="007a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">静态类型检查</em>是在编译时已知变量的类型。这意味着一些语言需要用数据类型初始化变量。</p><h2 id="e010" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">静态类型语言:</h2><ul class=""><li id="e712" class="mh mi iq kt b ku mj kx mk la ml le mm li mn lm mo mp mq mr bi translated">C</li><li id="53de" class="mh mi iq kt b ku ms kx mt la mu le mv li mw lm mo mp mq mr bi translated">C++</li><li id="5d2d" class="mh mi iq kt b ku ms kx mt la mu le mv li mw lm mo mp mq mr bi translated">C#</li><li id="ce6c" class="mh mi iq kt b ku ms kx mt la mu le mv li mw lm mo mp mq mr bi translated">Java 语言(一种计算机语言，尤用于创建网站)</li></ul><p id="3fc3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">更快地捕捉错误要容易得多，因为你的程序将无法编译。</p><p id="7642" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">动态类型检查</em>是在运行时知道变量的类型。</p><h2 id="2a2d" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">动态类型语言:</h2><ul class=""><li id="1c16" class="mh mi iq kt b ku mj kx mk la ml le mm li mn lm mo mp mq mr bi translated">java描述语言</li><li id="96aa" class="mh mi iq kt b ku ms kx mt la mu le mv li mw lm mo mp mq mr bi translated">计算机编程语言</li><li id="63b5" class="mh mi iq kt b ku ms kx mt la mu le mv li mw lm mo mp mq mr bi translated">红宝石</li><li id="3548" class="mh mi iq kt b ku ms kx mt la mu le mv li mw lm mo mp mq mr bi translated">左上臂</li></ul><p id="f065" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">错误是在运行时发现的，这意味着你的程序可以编译，但可能无法正常执行。</p><h2 id="c7b9" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">什么是反应类型？</h2><p id="fcbd" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">在React Native中，可以使用PropTypes进行类型检查。您可以通过为传递到组件中的属性分配一个数据类型来使用它们。</p><p id="26f0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用PropTypes的示例:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="7554" class="lo lp iq nb b gy nf ng l nh ni">import * as React from ‘react’;<br/> import { Text, View } from ‘react-native’;<br/> import PropTypes from ‘prop-types’;<br/> <br/> export default class HelloWorld extends React.Component {<br/>    render() {<br/>       return (<br/>          &lt;View&gt;<br/>             &lt;Text&gt;<br/>             {this.props.helloWorld}<br/>             &lt;/Text&gt;<br/>          &lt;/View&gt;<br/>      );<br/>    }<br/> }<br/> <br/> HelloWorld.propTypes = {<br/>    helloWorld: PropTypes.string,<br/> }</span></pre><p id="dab4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">HelloWorld PropType设置为string。如果一个错误的属性被传递到组件中，它会给出一个错误或警告。</p><h2 id="bdd4" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">我如何使用它们？</h2><p id="4422" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">第一步是安装React提供的prop-types包。</p><p id="5e77" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nj nk nl nb b">npm install — save prop-types</code></p><p id="134c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">或</strong></p><p id="4c35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nj nk nl nb b">yarn add prop-types</code></p><p id="01c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦将包添加到您的项目中，我们就可以将PropTypes导入到您的组件中。<code class="fe nj nk nl nb b">js</code>文件。文件顶部的导入<code class="fe nj nk nl nb b">prop-types</code>如下所示。</p><p id="34c4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nj nk nl nb b">import { PropTypes } from ‘prop-types’;</code></p><p id="b738" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在是时候向组件添加PropTypes了。</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="e4e3" class="lo lp iq nb b gy nf ng l nh ni">ComponentName.propTypes = { <br/>   propName: PropTypes, // Just a template<br/>   name: PropTypes.string,  // String PropType<br/>   age: PropTypes.number,   // Number<br/>   isWorking: PropTypes.bool // Boolean<br/>}</span></pre><p id="57f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">差不多就是这么多了。还有很多你可以使用的prop类型，我没有列出来，但是官方的React <a class="ae nm" href="https://reactjs.org/docs/typechecking-with-proptypes.html" rel="noopener ugc nofollow" target="_blank">文档</a>有。</p><h2 id="614a" class="lo lp iq bd lq lr ls dn lt lu lv dp lw la lx ly lz le ma mb mc li md me mf mg bi translated">结论</h2><p id="ac13" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">属性类型可以方便地防止错误的数据类型作为属性传入。我数不清在一个对象中传递了多少次，而这个对象应该是一个数组，反之亦然。添加PropTypes将有助于更快、更早地发现这些错误。</p></div></div>    
</body>
</html>