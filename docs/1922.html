<html>
<head>
<title>Implement AdMob in Ionic React Capacitor Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在离子反应电容应用中实现AdMob</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implement-admob-in-ionic-react-capacitor-apps-acbc382448b2?source=collection_archive---------11-----------------------#2020-05-04">https://javascript.plainenglish.io/implement-admob-in-ionic-react-capacitor-apps-acbc382448b2?source=collection_archive---------11-----------------------#2020-05-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e6a412bd9d03b6fe495785518ad00404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VCfW2wmf9qTlhCXNRTreWA.png"/></div></div></figure><blockquote class="jy jz ka"><p id="bc7a" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这篇文章是应我们成千上万的读者之一的特别要求而写的。如果你有更多的要求，请在评论中告诉我</p></blockquote><p id="64d4" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在这篇文章中，你将学习如何在Ionic React Capacitor应用中实现<strong class="ke ir"> AdMob功能，</strong>即谷歌广告。我们将在一个简单的Ionic应用程序中实现这一点，并在iOS模拟器和Android设备上进行测试。</p><h1 id="a0f9" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">什么是Admob？</h1><p id="e799" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">众所周知，广告是谷歌、脸书、推特等科技巨头的主要收入来源。谷歌广告是最受欢迎的广告之一，谷歌广告的移动版本被称为AdMob。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/57cc0eff7115d67d6738a6d2a1ecf4fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aD95WfvKex9OdEP0B6GWqg.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">An example of Google AdMob ad. The ad is prompting user to install certain app</figcaption></figure><h2 id="6b38" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">AdMob广告类型</h2><p id="97fe" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated"><strong class="ke ir">横幅</strong>:出现在设备屏幕顶部&amp;底部的基本广告格式。</p><p id="a0fe" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><strong class="ke ir">插页</strong>:整版广告出现在自然间断&amp;过渡处，比如关卡完成。支持视频内容。</p><p id="e668" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><strong class="ke ir">奖励</strong>:整页广告奖励用户观看短视频并与可播放的广告和调查互动。有利于免费游戏用户的货币化。支持视频内容。</p><p id="35ce" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><strong class="ke ir">原生</strong>:可定制的广告格式，与你的应用的外观&amp;相匹配。广告与应用程序内容一起出现。支持视频内容。目前，原生广告只能在原生应用中出现，而不能在基于Ionic或React Native的混合应用中出现。</p><p id="f894" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">让我们看看这篇文章的基本框架。<strong class="ke ir">如果你熟悉离子和电容，跳过这些部分，进入文章的代码部分。</strong></p><h1 id="b6ca" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">放弃</h1><p id="282b" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">因为这篇文章是三个框架的混合体，所以你可能是误上了这里。如果您正在寻找AdMob登录</p><ul class=""><li id="16a5" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz ng nh ni nj bi translated">反应自然——请查看<a class="ae nk" href="https://enappd.com/blog/implement-admob-in-react-native-with-firebase/133" rel="noopener ugc nofollow" target="_blank">这篇文章</a></li><li id="c8f3" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">离子反应(电容)应用——继续阅读😎</li></ul><p id="74f0" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">正如你从上面看到的，现在混合应用程序开发有不止一种选择，很容易混淆。这篇文章关注的是<strong class="ke ir"> Ionic框架</strong>，其中<strong class="ke ir"> React </strong>作为前端框架，<a class="ae nk" href="https://capacitor.ionicframework.com/docs/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> Capacitor </strong> </a>作为运行时和构建环境。</p><blockquote class="jy jz ka"><p id="51e3" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> <em class="iq">本教程的代码可在Github repo</em></strong><a class="ae nk" href="https://github.com/enappd/ionic-react-admob" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="iq">ionic-react-capacitor-admob</em></strong></a>上获得</p></blockquote><p id="ce6b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">让我们来看看对每个包含的框架的简要介绍:</p><ol class=""><li id="dc9d" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz nq nh ni nj bi translated">离子的</li><li id="e0cc" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">电容器</li></ol><h1 id="a0c2" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">什么是爱奥尼亚？</h1><p id="fc2e" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">你可能已经知道离子，但我把它放在这里只是为了初学者。<strong class="ke ir"> Ionic </strong>是一款混合移动应用开发SDK。它提供了使用CSS、HTML5和Sass等Web技术开发混合移动应用程序的工具和服务。换句话说——如果你用Android创建原生应用，你就用Java编码。如果你在iOS中创建原生应用，你用Obj-C或Swift编码。这两种语言都是强大但复杂的语言。使用Cordova(和Ionic ),你可以为你的应用编写一段代码，它可以在iOS和Android上运行。)，HTML、CSS和JS的简单性也是如此。</p><p id="36e5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">必须注意科尔多瓦/电容在其中的作用。Ionic只是一个由HTML、CSS、JS组成的UI包装器。因此，默认情况下，Ionic不能在iOS或Android设备中作为应用程序运行。Cordova/Capacitor是一个构建环境，它封装了这个Ionic web应用程序，并将其转换为一个可安装在设备上的应用程序，同时为这个应用程序提供对Camera等本地API的访问。</p><h1 id="60f5" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">电容器——它与科尔多瓦有何不同？</h1><p id="062b" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">本节仅适用于已经使用Ionic / Cordova一段时间的人员。很长一段时间以来，科尔多瓦一直是Ionic应用开发者的唯一选择。Cordova帮助将Ionic web app构建成一个设备可安装的应用程序。</p><blockquote class="jy jz ka"><p id="b35c" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> <em class="iq">电容器与Cordova非常相似，但与app工作流程</em> </strong>有一些关键区别</p></blockquote><p id="385b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">以下是Cordova和Capacitor之间的区别(只有在您之前使用过Cordova的情况下，您才能体会到这些区别，否则您可以跳过)</p><ol class=""><li id="4eb9" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz nq nh ni nj bi translated">Capacitor将每个平台项目视为一个<em class="kd">源资产</em>，而不是一个<em class="kd">构建时间资产</em>。这意味着，Capacitor希望您将平台源代码保存在存储库中，不像Cordova总是假设您将在构建时生成平台代码</li><li id="94db" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">由于上述原因，Capacitor不使用<code class="fe nr ns nt nu b">config.xml</code>或类似的定制配置进行平台设置。相反，通过编辑Android的<code class="fe nr ns nt nu b">AndroidManifest.xml</code>和Xcode的<code class="fe nr ns nt nu b">Info.plist</code>来改变配置</li><li id="6184" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">电容器不能“在设备上运行”或通过命令行仿真。相反，这些操作是通过特定于平台的IDE进行的。所以你不能使用像<code class="fe nr ns nt nu b">ionic run ios</code>这样的命令来运行离子电容应用。你必须使用Xcode运行iOS应用程序，使用Android studio运行Android应用程序</li><li id="a77c" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">由于平台代码不是<em class="kd">源资产，</em>您可以使用Xcode或Android Studio直接更改本机代码。这给了开发者更多灵活性</li></ol><p id="51f6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">本质上，电容器就像一个新鲜的，更灵活的科尔多瓦版本。</p><h1 id="4530" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">插件</h1><p id="7f2c" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">Cordova和<a class="ae nk" href="https://ionicframework.com/docs/native" rel="noopener ugc nofollow" target="_blank"> Ionic Native </a>插件可以在电容环境下使用。然而，有一些已知的Cordova插件<a class="ae nk" href="https://capacitor.ionicframework.com/docs/cordova/known-incompatible-plugins/" rel="noopener ugc nofollow" target="_blank">与电容器不兼容。</a>对于Admob功能，我们将使用<a class="ae nk" href="https://github.com/rahadur/capacitor-admob" rel="noopener ugc nofollow" target="_blank">电容Admob插件</a></p><h1 id="a3b0" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">职位结构</h1><p id="3480" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">我们将逐步探索AdMob特性的实现。这是我的博客分解</p><p id="1a45" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><strong class="ke ir">步骤</strong></p><ol class=""><li id="6b47" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz nq nh ni nj bi translated">用React创建一个基本的离子电容器应用程序</li><li id="c394" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">用Capacitor在Android中构建应用</li><li id="d628" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">设置您的AdMob帐户</li><li id="e24a" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">安装AdMob插件</li><li id="ab56" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">在你的应用中实现不同类型的广告</li><li id="0cca" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">在iOS模拟器上构建应用程序并进行测试</li><li id="364f" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz nq nh ni nj bi translated">在Android设备上构建应用程序并进行测试</li></ol><p id="08cb" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">所以让我们开始吧！</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/2b5df1c5ab3b92f538af6276da75e877.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/1*ERffcqfeSC19qC5l50L94w.gif"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">I made you laugh … didn’t I ? 😆</figcaption></figure><h1 id="5996" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤1 —使用React创建一个基本的离子电容器应用程序</h1><p id="5f83" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">从Ionic starters本身创建一个基本的应用程序。</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="b6c0" class="mp le iq nu b gy oa ob l oc od">$ ionic start ionic-react-admob tabs --type=react</span></pre><p id="4f66" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">这将在React中创建一个基本的Ionic应用程序。我选择了<code class="fe nr ns nt nu b">tabs</code> starter，这样我就可以针对不同的广告类型使用不同的标签。</p><p id="7bb3" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我们将创建一个简单的用户界面，只有几个按钮会触发广告。对于插播广告，这些触发因素通常是游戏应用程序中某个关卡的完成等。横幅广告通常是在页面加载时触发的。显示奖励广告，用户可以通过观看广告获得奖励。</p><p id="c5ae" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我的广告页面的基本用户界面如下所示</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/b03bbb5e21bfbb0c328eb969ba8b9f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eiMj9wkMmso_r_pfT8QEMw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Basic UI for AdMob implementation in Ionic React Capacitor Apps — iOS</figcaption></figure><h1 id="b55b" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第二步——用Capacitor在Android中构建应用程序</h1><p id="8418" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">为了构建设备/仿真器的应用程序，我们需要将电容器连接到应用程序。奔跑</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="b09d" class="mp le iq nu b gy oa ob l oc od">$ ionic integrations enable capacitor</span></pre><blockquote class="jy jz ka"><p id="2734" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> <em class="iq">写这篇文章的时候，我有node 12.14.0，我选择了电容1.x，虽然电容2.0也发布了。原因是为了避免更新Xcode来读取Capacitor 2.0制作的app。虽然我已经用Android测试了电容器2.0的功能，而且它工作正常</em> </strong></p></blockquote><p id="3da7" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">默认情况下，如果您运行上述命令，它将安装电容器2.0。使用Capacitor 2.0构建的应用程序需要最新的Android Studio和最新的Xcode。如果你有这些，完美！但如果你没有，坚持电容器1.x的教程，你可以稍后更新。我在这篇文章中使用了<code class="fe nr ns nt nu b">“@capacitor/core”: “1.2.0”,</code>和<code class="fe nr ns nt nu b">“@capacitor/cli”: “1.2.0”</code>。</p><p id="7015" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">添加平台并在设备中构建应用程序作为测试</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="5318" class="mp le iq nu b gy oa ob l oc od">// Add android platform<br/>$ <strong class="nu ir">npx cap add android<br/></strong>// Add iOS platform<br/>$ <strong class="nu ir">npx cap add ios<br/></strong>// Build web assets to copy to platforms<br/>$ <strong class="nu ir">ionic build<br/></strong>// copy the build assets to platforms<br/>$ <strong class="nu ir">npx cap copy<br/></strong>// open android studio to build app<br/>$ <strong class="nu ir">npx cap open android<br/></strong>// open xcode to build app<br/>$ <strong class="nu ir">npx cap open ios</strong></span></pre><p id="019d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">此时，您可以使用Xcode / Android Studio在iOS / Android设备或模拟器中运行该应用程序。您将看到UI在设备中运行良好。</p><h1 id="5dbf" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤3 —设置您的Admob帐户</h1><p id="acc9" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">这一步对于任何app都是通用的。由于Admob是一项独立于应用平台的谷歌服务，你可以拥有一个账户，并在每种类型的应用中使用它。我在每篇AdMob示例文章中都使用相同的AdMob应用程序。</p><p id="17be" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">按照以下步骤创建您的Admob帐户和Admob应用程序</p><ul class=""><li id="2f65" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz ng nh ni nj bi translated">注册，然后在<a class="ae nk" href="https://apps.admob.com/?utm_source=internal&amp;utm_medium=et&amp;utm_campaign=helpcentrecontextualopt&amp;utm_term=http://goo.gl/6Xkfcf&amp;subid=ww-ww-et-amhelpv4" rel="noopener ugc nofollow" target="_blank">https://apps.admob.com</a>登录您的AdMob帐户。</li><li id="3f16" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">点击侧边栏中的<strong class="ke ir">应用</strong>。</li><li id="63c6" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">点击<strong class="ke ir">添加应用</strong>添加新应用，或点击<strong class="ke ir">查看所有应用</strong>搜索您添加到AdMob的所有应用列表。</li><li id="f52c" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">在<strong class="ke ir">应用设置</strong>选项中，您可以看到您的<strong class="ke ir">应用ID </strong>。这是您将应用程序连接到应用程序中的Google AdMob所需的ID。</li></ul><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/85e8f18622c9976901d1d3cfc70ce534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JoDnyDkki68npDr77EitSw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Note down your App ID from App Setting in Google AdMob</figcaption></figure><ul class=""><li id="4bc8" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz ng nh ni nj bi translated">在<strong class="ke ir">广告单元</strong>部分，您可以添加多种类型的广告单元。有关添加广告单元的更多详细信息，请查看以下详细的分步说明</li></ul><p id="2c44" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">— <a class="ae nk" href="https://support.google.com/admob/answer/7311346?hl=en" rel="noopener ugc nofollow" target="_blank">横幅广告</a></p><p id="a79f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><a class="ae nk" href="https://support.google.com/admob/answer/7311435?hl=en&amp;ref_topic=7382891" rel="noopener ugc nofollow" target="_blank"> —插播广告</a></p><p id="aded" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">— <a class="ae nk" href="https://support.google.com/admob/answer/7311747?hl=en&amp;ref_topic=7382891" rel="noopener ugc nofollow" target="_blank">悬赏广告</a></p><p id="2327" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">AdMob有一大堆其他设置，比如你的广告应该如何、何时、何地出现，但这些都是以后的事了。在本帖中，我们将讨论限于<strong class="ke ir">“如何在离子反应电容应用中显示基本ad单元”</strong></p><h1 id="7b1a" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤4 —安装AdMob插件</h1><p id="e185" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">对于这篇文章，正如我之前解释的，我们使用的是<a class="ae nk" href="https://github.com/rahadur/capacitor-admob" rel="noopener ugc nofollow" target="_blank">电容Admob插件</a>。此外，由于在构建应用程序时，capacitor不会注入必要的特定于平台的变量，所以我们在构建应用程序时必须做一些小的改动</p><h2 id="7a8e" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">4.1安装电容器AdMob插件</h2><p id="2697" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">在您现有的应用程序中，使用</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="a657" class="mp le iq nu b gy oa ob l oc od"><strong class="nu ir">$ npm install --save capacitor-admob</strong></span></pre><h2 id="fe49" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">4.2在Android中构建</h2><p id="3f34" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">因为我们只添加了一个插件，所以只需使用</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="f301" class="mp le iq nu b gy oa ob l oc od">// copy the build assets to platforms<br/>$ <strong class="nu ir">npx cap sync</strong></span></pre><p id="06eb" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在Android Studio中，打开您的<code class="fe nr ns nt nu b">AndroidManifest.xml</code>文件，添加此<code class="fe nr ns nt nu b">meta-data</code>行，并用您的应用程序的实际<strong class="ke ir">应用程序ID </strong>替换该值</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="8427" class="mp le iq nu b gy oa ob l oc od">&lt;application&gt;<br/>  &lt;!-- this line needs to be added (replace the value!) --&gt;<br/>  <strong class="nu ir">&lt;meta-data android:name="com.google.android.gms.ads.APPLICATION_ID" android:value="ca-app-pub-3940256099942544~3347511713" /&gt;</strong><br/>  &lt;activity&gt;.....&lt;/activity&gt;<br/>&lt;/application&gt;</span></pre><p id="babd" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在Android Studio中打开你的Ionic Capacitor应用程序，现在打开你的应用程序的<code class="fe nr ns nt nu b">MainActivity.java</code>并注册AdMob Capacitor插件。</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="1242" class="mp le iq nu b gy oa ob l oc od">// Other imports...<br/><strong class="nu ir">import app.xplatform.capacitor.plugins.AdMob;<br/></strong>public class MainActivity extends BridgeActivity {<br/>  @Override<br/>  public void onCreate(Bundle savedInstanceState) {<br/>    super.onCreate(savedInstanceState);<br/>this.init(savedInstanceState, new ArrayList&lt;Class&lt;? extends Plugin&gt;&gt;() {{<br/>      <strong class="nu ir">add(AdMob.class);</strong>  // Add AdMob as a Capacitor Plugin<br/>    }});<br/>  }<br/>}</span></pre><p id="f802" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在设备上构建一次应用程序。如果没有错误，您的Android应用程序就可以显示广告了</p><h2 id="677f" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">4.3内置于iOS</h2><p id="65b1" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">同样，只需使用</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="db6d" class="mp le iq nu b gy oa ob l oc od">// copy the build assets to platforms<br/>$ <strong class="nu ir">npx cap sync</strong></span></pre><p id="52a6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">打开您的<code class="fe nr ns nt nu b">App/App/Info.plist</code>文件，添加此<code class="fe nr ns nt nu b">plist value</code>行，并用您的应用程序的实际应用程序ID替换该值</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="2c34" class="mp le iq nu b gy oa ob l oc od"><strong class="nu ir">&lt;key&gt;GADIsAdManagerApp&lt;/key&gt;<br/>&lt;true/&gt;<br/>&lt;key&gt;GADApplicationIdentifier&lt;/key&gt;<br/></strong>&lt;!-- replace this value with your App ID key--&gt;<br/><strong class="nu ir">&lt;string&gt;ca-app-pub-6564742920318187~7217030993&lt;/string&gt;</strong></span></pre><p id="ca90" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在设备/模拟器上构建一次应用程序。如果没有错误，你的iOS应用程序就可以显示广告了。</p><h1 id="de7b" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第5步——在应用程序中实施不同类型的广告</h1><p id="5f19" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">一旦一切都准备好了，让我们在应用程序中实现不同类型的广告。对于所有类型的广告，您需要导入插件并初始化。</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="bf27" class="mp le iq nu b gy oa ob l oc od">import { AdOptions, AdSize, AdPosition } from 'capacitor-admob';<br/>const { AdMob, Toast } = Plugins;</span></pre><p id="426b" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在构造函数中，使用初始化AdMob</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="9053" class="mp le iq nu b gy oa ob l oc od">// replace with your own App ID<br/>AdMob.initialize('ca-app-pub-3940256099942544~3347511713');</span></pre><h2 id="02d0" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">横幅广告</h2><p id="2870" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">横幅广告在表1中实现。您还需要从AdMob账户中获得横幅广告的<code class="fe nr ns nt nu b">Ad Unit ID</code>。</p><p id="5875" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">一旦您在<code class="fe nr ns nt nu b">Tab1.tsx</code>文件中有了用户界面，我们将实现四种方法</p><ul class=""><li id="0d2b" class="nb nc iq ke b kf kg kj kk la nd lb ne lc nf kz ng nh ni nj bi translated">显示横幅</li><li id="1e1e" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">pauseBanner</li><li id="3065" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">结果附件</li><li id="d77d" class="nb nc iq ke b kf nl kj nm la nn lb no lc np kz ng nh ni nj bi translated">移除横幅</li></ul><p id="5342" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">方法的名称是不言自明的。整个页面的代码如下所示</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Banner ad implementation in Ionic React Capacitor app</figcaption></figure><blockquote class="jy jz ka"><p id="0368" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">您也可以从谷歌获得测试广告标识进行测试。不要在你的生产应用程序中使用测试ID，在开发应用程序时也不要使用你的生产广告单元ID</strong></p></blockquote><h2 id="ab11" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">间质性Ad</h2><p id="67f8" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">间隙广告对触发器起作用。因为这些是整页广告，所以它们并不总是作为横幅广告出现。</p><p id="a374" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">要实现间隙广告，导入插件，初始化并遵循下面的代码</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Interstitial ad implementation in Ionic React Capacitor app</figcaption></figure><p id="5504" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">间隙广告需要<code class="fe nr ns nt nu b">load</code>后才能显示。在你的产品应用程序中，最好将这些广告加载到页面加载本身，然后在需要的时候显示出来。</p><h2 id="33b7" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">奖励广告</h2><p id="146c" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">同样，奖励广告与触发机制中的间隙广告相似。要实现，请导入所需的依赖项并遵循下面的代码</p><figure class="mh mi mj mk gt jr"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Reward ad implementation in Ionic React Capacitor app</figcaption></figure><p id="e470" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><code class="fe nr ns nt nu b">TestIds.REWARDED</code>同样是测试ID。发布应用程序时，将其替换为生产广告标识。</p><p id="9255" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated"><code class="fe nr ns nt nu b">.prepareRewardVideoAd()</code>蛊惑人心的广告。这个广告需要一些时间来加载。这就是为什么延迟后或装载成功时应调用<code class="fe nr ns nt nu b">.showRewardVideoAd()</code>的原因。</p><h1 id="e6db" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第6步:在iOS模拟器上测试应用程序</h1><p id="2047" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">要在iOS上构建代码，只需运行以下命令</p><pre class="mh mi mj mk gt nw nu nx ny aw nz bi"><span id="96da" class="mp le iq nu b gy oa ob l oc od">$ ionic build<br/>$ npx cap copy</span></pre><p id="4169" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">完成后，从Xcode构建您的应用程序，并运行该应用程序。让我们看看这些广告在iOS中会是什么样子。</p><h2 id="6691" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">横幅广告</h2><p id="c40b" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">最终的广告在iOS上看起来像这样</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/05f350f10404c4b6396b4024b28150a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/1*p3J6eokJ00Qq5xAgV6uX5Q.gif"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">AdMob Banner ads in iOS — Ionic React Capacitor app</figcaption></figure><h2 id="e135" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">间质性Ad</h2><p id="93a9" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">全屏幕上的广告看起来像是iOS上的后续广告</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/ccd91d5f0fcffdc4b078d7f168e1b500.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/1*NHIfY-6xNNUL8VCdvsr43g.gif"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">AdMob Interstitial ads in iOS — Ionic React Capacitor app</figcaption></figure><h2 id="dd81" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated">奖励广告</h2><p id="409f" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">iOS上的奖励广告将如下所示</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/bd947e9f0ca890e65ec5e422000c1049.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/1*tTq2GKkpODRvgR83nyc2Hw.gif"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">AdMob Reward ads in iOS — Ionic React Capacitor app</figcaption></figure><h1 id="1f83" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第7步:在安卓设备上测试应用程序</h1><p id="838b" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">就像iOS一样，同样的代码也会在安卓系统中显示广告。这个视频链接<a class="ae nk" href="https://youtu.be/XHzwraE4hYc" rel="noopener ugc nofollow" target="_blank">这里</a>将显示广告将如何在安卓设备上显示(只是为了完成帖子)</p><p id="4c18" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">塔达。您已经学习了如何在您的离子反应电容应用程序中实现AdMob广告。🎉</p><h1 id="7a48" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="7b07" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">在这篇博客中，我们学习了如何在Ionic React Capacitor应用程序中实现Google AdMob功能。对于用户希望从广告点击中获得一些收入的应用程序来说，AdMob功能是必不可少的。当你的应用程序有大量用户，并且你不为应用程序中的任何东西向用户收费时，这就很方便了。所以广告成为你的直接收入来源。你也可以将插播广告和奖励广告与应用内奖励相结合，如游戏升级、额外生命等。</p><blockquote class="jy jz ka"><p id="d788" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本教程的代码可以在Github repo   <a class="ae nk" href="https://github.com/enappd/ionic-react-admob" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> <em class="iq">上找到</em></strong></a></p></blockquote><p id="ee49" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">本文最初发表于<a class="ae nk" href="https://enappd.com" rel="noopener ugc nofollow" target="_blank"> Enappd </a>。</p><h2 id="4d4b" class="mp le iq bd lf mq mr dn lj ms mt dp ln la mu mv lr lb mw mx lv lc my mz lz na bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="f204" class="pw-post-body-paragraph kb kc iq ke b kf mb kh ki kj mc kl km la md kp kq lb me kt ku lc mf kx ky kz ij bi translated">我们已经推出了三种新的出版物！为我们的新出版物献上一点爱心吧，请跟随他们:<a class="ae nk" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="ke ir">AI in Plain English</strong></a>，<a class="ae nk" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="ke ir">UX in Plain English</strong></a>，<a class="ae nk" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="ke ir">Python in Plain English</strong></a><strong class="ke ir"/>——谢谢，继续学习！</p><p id="6984" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至:<a class="ae nk" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir">submissions @ plain English . io</strong></a><strong class="ke ir"/>，使用您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>