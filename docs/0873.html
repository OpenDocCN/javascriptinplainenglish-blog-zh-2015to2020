<html>
<head>
<title>Webpack: Zero To Production (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webpack:从零到生产(第1部分)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/webpack-zero-to-production-via-react-part-1-b478be7b7f29?source=collection_archive---------6-----------------------#2019-12-26">https://javascript.plainenglish.io/webpack-zero-to-production-via-react-part-1-b478be7b7f29?source=collection_archive---------6-----------------------#2019-12-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/46b4b42b5232db54b3c12a964a882f7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEu2bro4URUiey0lkBXWbA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Webpack Image</figcaption></figure><h1 id="4e13" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">Webpack:入门</h1><p id="5fc1" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我们今天编写JavaScript的方式不同于浏览器可以执行的代码。我们经常依赖其他类型的资源、编译过的语言和实验性的特性，这些在现代浏览器中还没有得到支持。Webpack是JavaScript的一个模块捆绑器，它可以弥合这一差距，并在开发者体验方面免费产生跨浏览器兼容的代码。</p><p id="22ac" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在我们开始之前，您应该记住，本Webpack教程中的所有代码也可以在<a class="ae md" href="https://github.com/vinodchauhan7/Webpack-tutorial" rel="noopener ugc nofollow" target="_blank"> GitHub上以完整的Webpack示例配置文件的形式获得。</a>如果您有任何问题，请随时参考那里的内容并回到本文。</p><p id="5dd7" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">为了一步一步地理解webpack，我在repo中做了几次提交。你可以在这个<a class="ae md" href="https://github.com/vinodchauhan7/Webpack-tutorial/commits/master" rel="noopener ugc nofollow" target="_blank">链接</a>上看到细节。以及对那些提交的检验，例如:</p><blockquote class="me"><p id="60e2" class="mf mg iq bd mh mi mj mk ml mm mn lx dk translated">请通过回购了解以下示例<a class="ae md" href="https://github.com/vinodchauhan7/Webpack-tutorial/commits/master" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></blockquote><blockquote class="mo mp mq"><p id="72b4" class="la lb mr lc b ld ms lf lg lh mt lj lk mu mv ln lo mw mx lr ls my mz lv lw lx ij bi translated">git check out 89637 f7ed 458d 8280 c 4542 a 2a 87 a6b 2397594 e7d</p></blockquote><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/730fccc26a94025ca8e85e0829f5a197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sp0qPtfwrFTw3KPc-x4ksg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">GitHub Webpack tutorial commits</figcaption></figure><h1 id="eef8" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">第一次提交:简单应用</strong></h1><p id="6875" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out 89637 F7 ed 458d 8280 c 4542 a2 a87 a6b 2397594 e7d</em></strong></p><p id="e38c" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">我做了一个简单的应用程序，它从最终用户那里获取用户名和用户标识，并将其打印在屏幕上。它还对名称和userId进行一些验证，并向最终用户显示错误。还有一个webpack徽标的图像，我们将在以后的提交中使用webpack对其进行优化。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/d097df8106c3a13101a9f03f41861cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0CuAH3ymk0GGif6vbtCMQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">WebPack Tutorial Example</figcaption></figure><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Index.html</figcaption></figure><p id="ed6a" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><a class="ae md" href="https://gist.github.com/vinodchauhan7/497643664382ace761034ee6ae080afe" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/vinodchauhan 7/497643664382 ace 761034 ee 6 AE 080 AFE</a></p><p id="f2ec" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir">打开index.html文件。</strong></p><h1 id="fb8c" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">第二次提交:将Js代码分成6个文件</strong></h1><p id="8a78" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated"><strong class="lc ir"><em class="mr">=&gt;git check out 1 ca 9 ee 0 e 85566146 f 477 c 530 f 4d 4114 f 5e 22372 f</em></strong></p><p id="a484" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这次提交中，我将js代码分成了6个文件，这样我们就可以模拟一个大的例子，这个例子有很多js文件，可以用webpack制作一个捆绑文件。</p><h2 id="6fca" class="nh kd iq bd ke ni nj dn ki nk nl dp km ll nm nn kq lp no np ku lt nq nr ky ns bi translated">第三次提交:添加Webpack和package.json文件</h2><p id="6ce2" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out b 9 e 7 EB 70469 D5 F6 BD 11 c 64 CD 54 ba 8 a 94532 fb8 a 2</em></strong></p><p id="4380" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这次提交中，我添加了package.json文件，然后添加了webpack。对于<strong class="lc ir">package . JSON</strong>:<strong class="lc ir">NPM init-y</strong>然后添加:<strong class="lc ir">NPM install—save-dev web pack web pack-CLI。</strong>为了使用webpack启动我们的应用程序，我们在package.json文件中添加了一个脚本:</p><blockquote class="me"><p id="2dbc" class="mf mg iq bd mh mi mj mk ml mm mn lx dk translated">" scripts": { "start": "webpack" }</p></blockquote><p id="9733" class="pw-post-body-paragraph la lb iq lc b ld ms lf lg lh mt lj lk ll mv ln lo lp mx lr ls lt mz lv lw lx ij bi translated">当我们在终端上点击<strong class="lc ir"> npm启动命令时。</strong>它会告诉我们需要包含“src/index.js”文件，webpack才能工作。在成功运行<strong class="lc ir"> npm start后，</strong>将会有一个包含main.js 的<strong class="lc ir"> dist的新文件夹。我们可以将那个<strong class="lc ir"> main.js </strong>包含在我们的<strong class="lc ir">index.html中。它将工作，webpack正在处理我们的应用程序。在浏览器上打开index.html查看。</strong></strong></p><h2 id="806a" class="nh kd iq bd ke ni nj dn ki nk nl dp km ll nm nn kq lp no np ku lt nq nr ky ns bi translated">第四次提交:Webpack现在捆绑我们所有应用程序</h2><p id="5124" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out a 08072 f 552066 e 02859 a21c 170 AE 243112 bbcb0d</em></strong></p><p id="e532" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这个提交中，我们使用了导入/导出将依赖项从一个文件注入到另一个文件，并且还从html中删除了<script>标记。&lt;/root&gt;</script></p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="29b3" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第五次提交:添加webpack配置文件</h1><p id="48eb" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out 194985095 f6e 24628 A8 c 69 e 05 F2 d 586 bea 96634 c</em></strong></p><p id="9110" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这个提交中，我们添加了自己的<strong class="lc ir"> webpack.config.js文件</strong>来进行配置。</p><figure class="nb nc nd ne gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><ol class=""><li id="7385" class="nt nu iq lc b ld ly lh lz ll nv lp nw lt nx lx ny nz oa ob bi translated"><strong class="lc ir">路径模块</strong>用来获取系统的路径，这样我们就可以动态的获取用户系统的路径，不会有任何混淆。这是npm给我们的。</li><li id="5684" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated"><strong class="lc ir"> module.exports </strong>是webpack将寻找的配置。</li><li id="e344" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated"><strong class="lc ir">模式:</strong>可以有两个值【开发】&amp;【生产】。我们现在使用“开发”,使事情工作起来没有任何复杂性。</li><li id="4f72" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated"><strong class="lc ir">条目:</strong>是webpack需要查找的条目文件。</li><li id="3f20" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated"><strong class="lc ir"> output.path : </strong>它会告诉webpack在哪里创建输出文件夹。<strong class="lc ir"> __dirname </strong>是获取你的项目当前在你系统中的路径的东西。您可以给输出文件夹取任何名称。我给了‘dist’。</li><li id="3ac5" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated"><strong class="lc ir"> output.filename : </strong>这里我们将告诉webpack，我们的输出文件名是什么。</li></ol><p id="4455" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">我们也正在更新<strong class="lc ir"> package.json </strong></p><blockquote class="mo mp mq"><p id="6e7f" class="la lb mr lc b ld ly lf lg lh lz lj lk mu ma ln lo mw mb lr ls my mc lv lw lx ij bi translated"><strong class="lc ir">"脚本":{ " start ":" web pack—config web pack . config . js " }</strong></p></blockquote><h1 id="1edb" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第六次提交:添加加载程序来处理css</h1><p id="9072" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">=&gt; <strong class="lc ir"> <em class="mr"> git结账b 296566130 db 6559264 BDA 7 e 7423 F2 feab 64 a 782</em></strong></p><p id="1f1e" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这个提交中，我们引入了加载器。</p><blockquote class="me"><p id="d442" class="mf mg iq bd mh mi mj mk ml mm mn lx dk translated">webpack只理解JavaScript和JSON文件。加载器允许webpack处理其他类型的文件，并将它们转换成有效的<a class="ae md" href="https://webpack.js.org/concepts/modules" rel="noopener ugc nofollow" target="_blank">模块</a>，这些模块可以被您的应用程序使用并添加到依赖图中。</p></blockquote><p id="6c0c" class="pw-post-body-paragraph la lb iq lc b ld ms lf lg lh mt lj lk ll mv ln lo lp mx lr ls lt mz lv lw lx ij bi translated">我们正在添加一个新的css文件'<strong class="lc ir"> index.css' </strong>，在其中我们正在改变网页的背景&amp;前景色，并将其包含在我们的<strong class="lc ir"> index.js </strong>文件中。为了将它加载到我们的webpack中，我们需要使用一些可以在webpack网站上找到的加载器。我们用的是<strong class="lc ir"><em class="mr">【CSS-loader】【风格-loader】</em></strong>。</p><blockquote class="me"><p id="8a00" class="mf mg iq bd mh mi mj mk ml mm mn lx dk translated">npm安装-保存-开发CSS-加载器样式-加载器</p></blockquote><p id="5a7d" class="pw-post-body-paragraph la lb iq lc b ld ms lf lg lh mt lj lk ll mv ln lo lp mx lr ls lt mz lv lw lx ij bi translated">css-loader : 将css转换成commonJs。</p><p id="e96c" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir"> style-loader : </strong>将js注入dom。</p><p id="bc11" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">将以下代码包含在<strong class="lc ir"> package.json </strong>中</p><p id="0d5d" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">模块:{ <br/>规则:[ <br/> { <br/>测试:/\。css$/，<br/>使用:["style-loader "，//将commonjs注入DOM<br/>" css-loader "//将CSS转换成commonJs<br/>]<br/>}<br/>]<br/>}</p><p id="2f16" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在模块标签中，包含<strong class="lc ir">规则</strong>标签。</p><ol class=""><li id="f63c" class="nt nu iq lc b ld ly lh lz ll nv lp nw lt nx lx ny nz oa ob bi translated"><strong class="lc ir">测试</strong>:这里我们需要添加那些需要为webpack添加loader的文件的扩展名，以构建其依赖图。</li><li id="ec2c" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated">使用:这是一个依赖数组，我们需要在其中添加所有的加载器。注意:我们需要以正确的顺序添加加载程序，以便它们能够工作。</li></ol><h2 id="8249" class="nh kd iq bd ke ni nj dn ki nk nl dp km ll nm nn kq lp no np ku lt nq nr ky ns bi translated">第七次提交:添加了Sass-loader和覆盖引导颜色</h2><p id="ccc4" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out 33 df 9811 E8 ba 4c C2 e 886 D3 ea 3 E4 aa 3d 2c 9 b 27 BF 8</em></strong></p><p id="9695" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这次提交中，我们转换了sass样式，并在webpack配置中添加了sass-loader来处理。scss文件扩展名。为了在我们的webpack中支持sass，我们需要下载两个加载器。</p><blockquote class="me"><p id="ce57" class="mf mg iq bd mh mi mj mk ml mm mn lx dk translated">npm安装-保存-开发sass-加载器节点-sass</p></blockquote><figure class="oh oi oj ok ol jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="89be" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">更新webpack.config.js的规则集:</p><p id="30c8" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir"> {测试:/\。scss$/，使用:["style-loader "，" css-loader "，" sass-loader"] } </strong></p></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><h2 id="db1d" class="nh kd iq bd ke ni nj dn ki nk nl dp km ll nm nn kq lp no np ku lt nq nr ky ns bi translated">第八次提交:缓存破坏和HtmlWebpackPlugin</h2><p id="8367" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">=&gt; <strong class="lc ir"> <em class="mr"> git结账a6e4b 0746 b 85d 63 ff 1d 82d 99867 e 09645222 ab 69</em></strong></p><p id="e500" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir">缓存破坏</strong>:当一个静态文件被缓存时，它可以被存储很长一段时间，直到过期。然而，如果你更新了一个网站，这可能是一件令人烦恼的事情，因为文件的缓存版本存储在你的访问者的浏览器中，他们<strong class="lc ir">可能看不到所做的改变</strong>。这是因为如果您的网站配置为<a class="ae md" href="https://www.keycdn.com/support/leverage-browser-caching" rel="noopener ugc nofollow" target="_blank">利用浏览器缓存</a>，访问者的浏览器将在本地存储您静态资产的缓存副本。</p><p id="09eb" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">缓存破坏通过使用唯一的文件版本标识符来告诉浏览器文件的新版本可用，从而解决了浏览器缓存问题。因此，浏览器不会从缓存中检索旧文件，而是向源服务器请求新文件。</p><p id="fa1f" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">为了在<strong class="lc ir"> webpack </strong>中实现<strong class="lc ir">缓存破坏</strong>，我们将在我们的文件名中包含<strong class="lc ir">‘内容散列’</strong>，这样当我们每次重新构建我们的应用程序时，它都会给出新的名称。它帮助我们实现了浏览器的缓存和应用程序文件的更新。</p><blockquote class="mo mp mq"><p id="4812" class="la lb mr lc b ld ly lf lg lh lz lj lk mu ma ln lo mw mb lr ls my mc lv lw lx ij bi translated">Output.filename : "main。[内容哈希]。js "</p></blockquote><p id="2132" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">到目前为止，我们使用index.html在浏览器中看到我们的结果。但是现在我们希望webpack在dist文件夹中动态地创建index.html，这样它就可以动态地包含我们的main。[内容哈希]。js，而不需要手工去做。为此，我们在src文件中创建了一个index.html，其中没有包含<script src="’index.js’/">，因此webpack会自己完成。&lt;/root&gt;</script></p><p id="2689" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">为了创建一个新文件，我们使用HtmlWebpackPlugin。并更新我们的<strong class="lc ir"> webpack.config.js </strong>。</p><p id="824d" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated"><strong class="lc ir">插件:【新HtmlWebpackPlugin({ template:"。/src/index.html" }) ]，</strong></p><h1 id="b977" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第九次提交:添加生产和开发配置，开发服务器</h1><p id="1a41" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out 070366 F8 f 133 e 50 ff a5 CBC 1 bad 6 CD 049 be 5b 6858</em></strong></p><p id="10a7" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">到目前为止，我们使用的是webpack的'<strong class="lc ir">开发</strong>模式。如果你有机会看一下dist文件夹中的<strong class="lc ir"> main.js </strong>文件，它没有被缩小，可以很容易地阅读。这是因为我们没有使用“生产”模式。</p><p id="a104" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在此提交中，我们将生产和开发文件以及两者通用的配置分开，放在webpack.common.js中。我们使用<strong class="lc ir"> webpack-merge </strong>包来合并webpack文件。</p><p id="8366" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">此外，我们还包括' webpack-dev-server '进行开发，这样我们就不需要手动重新加载文件。</p><blockquote class="mo mp mq"><p id="b774" class="la lb mr lc b ld ly lf lg lh lz lj lk mu ma ln lo mw mb lr ls my mc lv lw lx ij bi translated">npm安装-保存-开发web pack-开发-服务器web pack-合并</p></blockquote><h1 id="fc71" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第十次提交:添加html-loader、file-loader和clean-webpack-plugin</h1><p id="4d96" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out 1 F5 ce 61 e 7493 ed 020 c 0d 67 ed 48 f 7 f 9762 dcbe 94 c</em></strong></p><p id="e942" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">到目前为止，你已经看到我们给出了我们的svg图像的路径。但是在这个提交中，我们将使用webpack动态设置图像的路径。</p><ol class=""><li id="7e60" class="nt nu iq lc b ld ly lh lz ll nv lp nw lt nx lx ny nz oa ob bi translated">我们将从index.html删除图像src</li><li id="8273" class="nt nu iq lc b ld oc lh od ll oe lp of lt og lx ny nz oa ob bi translated">我们用rules标记中的以下命令更新我们的webpack.common.js。</li></ol><p id="563d" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">{测试:/ <strong class="lc ir"> \。</strong> html$/，使用:["html-loader"] }，</p><p id="4eed" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">{测试:/ <strong class="lc ir"> \。</strong> (svg|png|jpg|jpeg|gif)$/，使用:{ loader: "file-loader "，选项:{ esModule: false，name: "[name]. "。[哈希]。[ext]"，outputPath: "imgs" } }</p><p id="ac1c" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在文件加载器中，我们给出了图像的选项，并使用哈希编码设置了图像的扩展名。输出文件将位于“imgs”文件夹中。</p><p id="44df" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">接下来，我们在<strong class="lc ir"> webpack.prod.js </strong>中使用<strong class="lc ir"> CleanWebpackPlugin() </strong>，这样我们就不需要每次为我们的新构建手动删除<strong class="lc ir"> dist </strong>文件夹。</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/d8a1561d66dd865c2da1f1681558cb01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjpZrP5L7ro9qrbxy4Tu1A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Example app</figcaption></figure><h1 id="bd9c" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第十一次提交:添加供应商js文件的入口点，添加引导js</h1><p id="8036" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt; git check out 6 F4 a5 AFC 2 fa 1894 b 7737020007 CB 7 c 7 aeba 1157 f</p><p id="2d94" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">假设我们有一些第三方供应商的库，它们在不久的将来不会经常改变。使它们作为缓存一部分可用，以便最终用户将它们存储在浏览器中，从而提高应用程序的性能。我们需要在我们的webpack中给出一个新的入口点，它可以被命名为vendor，我们可以在那里包含bootstrap。为了使它有用，我们从bootstrap添加了<nav>,在我们的应用程序中需要jquery和popper.js。因为这些是第三方，我们不需要他们被用户一次又一次地重建和下载。为了满足这个需求，我们需要在webpack.common.js中创建一个条目</nav></p><p id="e393" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">条目:{ main:"。/src/index.js "，供应商:"。/src/vendor.js" }，</p><p id="8c75" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">和output . filename:filename:“[名称]。[contentHash].bundle.js "</p><p id="0e1f" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">以便可以动态加载。</p><h1 id="1b5d" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第十二次提交:在生产中缩小JS、CSS和HTML。</h1><p id="aef5" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">=&gt; <strong class="lc ir"> <em class="mr"> git结账5 f87d 427 df 21d 045 cfe 0965 B2 ff 803 DD 97360 a80</em></strong></p><p id="fd14" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">正如我们看到的，我们将css包含在js中，并在将JS注入DOM时加载它。这可能会给互联网连接速度较慢的用户带来样式问题。如果你重新加载，你可能会看到闪烁的css没有被加载。为了独立提取css和缩小css，我们需要<strong class="lc ir">mini-CSS-extract-plugin&amp;optimize-CSS-assets-web pack-plugin。</strong></p><p id="a846" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在webpack.prod.js中</p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/2cd9135a68a877f34007c688c7f15b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpDN6_orPYEdEqjlbnQdzw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">prod.js</figcaption></figure><p id="c402" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">如果你检查上面的快照，我们正在使用优化字段来优化和缩小我们的css代码，使用<strong class="lc ir">优化-css-assets-webpack-plugin。为了优化我们的js代码，我们使用了</strong>新的TerserPlugin()，它已经存在于webpack提供的节点模块中。这里使用它是因为我们正在更改webpack配置的默认实现。</p><p id="e49d" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">此外，我们正在优化我们的html文件与HtmlWebpackPlugin删除空白和评论等。</p><h1 id="bd62" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">第十三次提交:添加图像优化。</h1><p id="2db9" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">= &gt;<strong class="lc ir"><em class="mr">git check out dff 7 ab 12 dad 31 e 14 C2 ef 75 e 48587 CCF 5 af 7a 52 f 9</em></strong></p><p id="f85b" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">在这一部分中，我们在应用程序中优化我们的图像，因为如果我们的图像没有正确优化，应用程序的性能会下降一半。在这里，我们使用的是<strong class="lc ir">image-web pack-loader&amp;SVG-URL-loader。</strong></p><figure class="nb nc nd ne gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/5a3b77c7536f2f9cfb46cd9565367cbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D9OTNetKunhX0zG7umemyA.png"/></div></div></figure><p id="8211" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">我们将图像的大小设置为20 kb，这样它们就可以被压缩并用作URL编码。</p><p id="891a" class="pw-post-body-paragraph la lb iq lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx ij bi translated">到目前为止，我已经介绍了webpack的所有基本知识，在第2部分中，我将介绍webpack-react。</p></div></div>    
</body>
</html>