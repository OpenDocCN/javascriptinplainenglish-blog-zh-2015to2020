<html>
<head>
<title>Creating a Confirm Dialog in React and Material UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React和材质UI中创建确认对话框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-a-confirm-dialog-in-react-and-material-ui-3d7aaea1d799?source=collection_archive---------1-----------------------#2020-03-03">https://javascript.plainenglish.io/creating-a-confirm-dialog-in-react-and-material-ui-3d7aaea1d799?source=collection_archive---------1-----------------------#2020-03-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2ce7bf33a9f1e7b581dd44ba499975e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k2sHPi-_oKZNsM7hoz8xPg.jpeg"/></div></div></figure><p id="182c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在每个应用程序中都有你想删除某些东西的时候。所以像每个开发者一样，你添加一个按钮，当点击它时，删除资源。</p><p id="aacf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">无论是一篇博客文章、一个购物车中的商品，还是禁用一个帐户，您都希望防止不必要的按钮点击。</p><p id="1a00" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">进入确认对话框。</p><p id="2f62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有时候你确实想执行一个动作而不总是提示用户一个确认对话框，有时候总是提示用户会很烦人。</p><blockquote class="kt ku kv"><p id="afb4" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">嘿，你想这么做吗？</p><p id="b67e" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">不，真的，你真的想这么做吗？</p></blockquote><p id="65eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有时候，我会很烦，告诉自己，还有应用。是啊！我当然想做动作。不然我为什么会点击它？</p><p id="213a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，当涉及到删除敏感数据时，比如一篇博客文章，我建议添加一个确认对话框，这样用户就可以得到警告，如果他们不小心误点击了它，就可以退出。</p><p id="bd31" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们开始之前，让我们看看如何实现这是原生JavaScript。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="63a5" class="lj lk in lf b gy ll lm l ln lo">var shouldDelete = confirm('Do you really want to delete this awesome article?');</span><span id="a320" class="lj lk in lf b gy lp lm l ln lo">if (shouldDelete) {<br/>  deleteArticle();<br/>}</span></pre><p id="fde7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这将提示一个默认的确认框，并提示用户“您真的想删除这篇很棒的文章吗？”</p><p id="e2fc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果用户单击Yes，那么它会将shouldDelete布尔值设置为true，并运行deleteArticle函数。如果他们单击“否”或“取消”，将关闭对话框。</p><p id="c7b6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是确认对话框的本地浏览器实现有点无聊，所以让我们做一个版本，看起来不错，有React和Material UI。</p><p id="ee24" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们从创建一个可重用的组件开始。您可以在任何使用React和材质UI的应用程序中使用它。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="154e" class="lj lk in lf b gy ll lm l ln lo">import React from 'react';<br/>import Button from '@material-ui/core/Button';<br/>import Dialog from '@material-ui/core/Dialog';<br/>import DialogActions from '@material-ui/core/DialogActions';<br/>import DialogContent from '@material-ui/core/DialogContent';<br/>import DialogTitle from '@material-ui/core/DialogTitle';</span><span id="47c1" class="lj lk in lf b gy lp lm l ln lo">const ConfirmDialog = (props) =&gt; {<br/>  const { title, children, open, setOpen, onConfirm } = props;<br/>  return (<br/>    &lt;Dialog<br/>      open={open}<br/>      onClose={() =&gt; setOpen(false)}<br/>      aria-labelledby="confirm-dialog"<br/>    &gt;<br/>      &lt;DialogTitle id="confirm-dialog"&gt;{title}&lt;/DialogTitle&gt;<br/>      &lt;DialogContent&gt;{children}&lt;/DialogContent&gt;<br/>      &lt;DialogActions&gt;<br/>        &lt;Button<br/>          variant="contained"<br/>          onClick={() =&gt; setOpen(false)}<br/>          color="secondary"<br/>        &gt;<br/>          No<br/>        &lt;/Button&gt;<br/>        &lt;Button<br/>          variant="contained"<br/>          onClick={() =&gt; {<br/>            setOpen(false);<br/>            onConfirm();<br/>          }}<br/>          color="default"<br/>        &gt;<br/>          Yes<br/>        &lt;/Button&gt;<br/>      &lt;/DialogActions&gt;<br/>    &lt;/Dialog&gt;<br/>  );<br/>};</span><span id="5b9b" class="lj lk in lf b gy lp lm l ln lo">export default ConfirmDialog;</span></pre><p id="e4e6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该组件将接受这些道具:</p><ol class=""><li id="c339" class="lq lr in jx b jy jz kc kd kg ls kk lt ko lu ks lv lw lx ly bi translated">标题—这是将显示为对话框标题的内容</li><li id="b26a" class="lq lr in jx b jy lz kc ma kg mb kk mc ko md ks lv lw lx ly bi translated">孩子—这是将在对话框内容中显示的内容。这可以是一个字符串，也可以是另一个更复杂的组件。</li><li id="f913" class="lq lr in jx b jy lz kc ma kg mb kk mc ko md ks lv lw lx ly bi translated">打开—这是告诉对话框显示的内容。</li><li id="f54e" class="lq lr in jx b jy lz kc ma kg mb kk mc ko md ks lv lw lx ly bi translated">setOpen —这是一个状态函数，将对话框的状态设置为显示或关闭。</li><li id="ca01" class="lq lr in jx b jy lz kc ma kg mb kk mc ko md ks lv lw lx ly bi translated">onConfirm —这是用户单击“是”时的回调函数。</li></ol><p id="0be8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这只是一个基本的确认对话框，您可以修改它以满足您的需要，例如更改“是”或“否”按钮。</p><p id="e320" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们看看如何在我们的应用程序中使用这个组件。</p><p id="c22b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，假设我们有一个列出博客文章的表。我们希望当我们单击一个删除图标时运行一个函数，它将显示这个确认对话框，当我们单击“是”时，它将运行一个deletePost函数。</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="5e79" class="lj lk in lf b gy ll lm l ln lo">&lt;div&gt;<br/>  &lt;IconButton aria-label="delete" onClick={() =&gt;     setConfirmOpen(true)}&gt;<br/>    &lt;DeleteIcon /&gt;<br/>  &lt;/IconButton&gt;<br/>  &lt;ConfirmDialog<br/>    title="Delete Post?"<br/>    open={confirmOpen}<br/>    setOpen={setConfirmOpen}<br/>    onConfirm={deletePost}<br/>  &gt;<br/>    Are you sure you want to delete this post?<br/>  &lt;/ConfirmDialog&gt;<br/>&lt;/div&gt;</span></pre><p id="aad0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个组件中，我们需要用属性open、setOpen和onConfirm实现ConfirmDialog。Open和setOpen通过使用React状态来控制，onConfirm接受一个名为deletePost的函数，该函数调用一个API来删除这个特定的帖子。实现这些超出了本文的范围。我将让它来实现这些函数的实际功能。</p><p id="213d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你有它！创建一个可重复使用的确认对话框非常容易，它看起来比默认的本地浏览器对话框要好一百万倍。</p><h2 id="b881" class="lj lk in bd me mf mg dn mh mi mj dp mk kg ml mm mn kk mo mp mq ko mr ms mt mu bi translated">进一步阅读</h2><div class="mv mw gp gr mx my"><a href="https://bit.cloud/blog/how-to-build-material-ui-components-with-bit-l3isiibs" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">如何用Bit构建React材质UI组件</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Material UI是一个流行的开源()UI组件库，它将材质设计与React结合在一起。材料UI是…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">比特云</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm jt my"/></div></div></a></div><p id="0582" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kw">更多内容请看</em><a class="ae nn" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kw">plain English . io</em></strong></a><em class="kw">。报名参加我们的</em> <a class="ae nn" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kw">免费周报</em> </strong> </a> <em class="kw">。关注我们关于</em><a class="ae nn" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kw">Twitter</em></strong></a><a class="ae nn" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kw">LinkedIn</em></strong></a><strong class="jx io"><em class="kw"/></strong><a class="ae nn" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kw">YouTube</em></strong></a><strong class="jx io"><em class="kw">，以及</em></strong><em class="kw"/><a class="ae nn" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kw">不和</em> </strong> </a>  <em class="kw">对成长黑客感兴趣？检查</em> <a class="ae nn" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kw">电路</em> </strong> </a> <strong class="jx io"> <em class="kw">。</em> </strong></p></div></div>    
</body>
</html>