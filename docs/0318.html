<html>
<head>
<title>Animate the layout of an element with react-native without knowing the initial size of the container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用reaction-native制作元素布局的动画，而不需要知道容器的初始大小</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/animate-the-layout-of-an-element-with-react-native-without-knowing-the-initial-size-of-the-2ae633ab3221?source=collection_archive---------6-----------------------#2019-09-17">https://javascript.plainenglish.io/animate-the-layout-of-an-element-with-react-native-without-knowing-the-initial-size-of-the-2ae633ab3221?source=collection_archive---------6-----------------------#2019-09-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="e9a5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated"><span class="l kt ku kv bm kw kx ky kz la di"> T </span>今天，我需要一个客户在一个reaction-native应用程序中水平动画化一个绝对位于屏幕底部的条。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/ee137f608e4d754be1d5bf0ab6c78f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*Qbcy5isJNNHyONnmScRv8g.png"/></div></figure><p id="7537" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">此栏由一个位于右下方的按钮组成，当您单击该按钮时，该按钮会放大到屏幕的宽度。</p><p id="449e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然而，我遇到了几个困难:</p><ul class=""><li id="6036" class="lj lk iq jw b jx jy kb kc kf ll kj lm kn ln kr lo lp lq lr bi translated">interpolate函数是显式的，需要输入范围(其初始大小未知)和输出范围(100%的屏幕宽度)作为参数。在我写这篇文章的时候，react native不支持自动确定大小的自动值……</li><li id="c641" class="lj lk iq jw b jx ls kb lt kf lu kj lv kn lw kr lo lp lq lr bi translated">我无法推断我的组件的内容的初始大小，因为它是可变的，我的应用程序是多语言的，不同的翻译没有相同的字符数，简而言之:我不知道基本组件的大小。</li></ul><p id="5d06" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">如何为初始尺寸未知的零部件设置动画？</strong></p><h1 id="8795" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">有几个窍门，但其中一个很简单！</h1><p id="69cc" class="pw-post-body-paragraph ju jv iq jw b jx mv jz ka kb mw kd ke kf mx kh ki kj my kl km kn mz kp kq kr ij bi translated">我试了一点废话，可以举个例子，用<code class="fe na nb nc nd b">onlayout</code>道具的一个分量来计算初始尺寸，不过到最后，最好的解决方法如下:</p><p id="2913" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">使用将在0%到100%之间动画化的</strong> <code class="fe na nb nc nd b"><strong class="jw ir">minWidth</strong></code> <strong class="jw ir">(或minh8)。</strong></p><blockquote class="ne nf ng"><p id="5948" class="ju jv nh jw b jx jy jz ka kb kc kd ke ni kg kh ki nj kk kl km nk ko kp kq kr ij bi translated"><strong class="jw ir">这是怎么回事？</strong></p></blockquote><p id="affc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">当我们有0%的最小宽度时，元素自然会占据它需要的空间，并且将与最小宽度规则进行比较，让我们想象它需要30px，最小的是0px，因为0%的最小宽度，它的大小将保持在30px。</p><p id="c9d5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们有了100%，它的大小计算为30px，而<code class="fe na nb nc nd b">minWidth</code>为100%(也就是说372px宽)，我们发现规则不匹配，所以它会自然增长。</p></div></div>    
</body>
</html>