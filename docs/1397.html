<html>
<head>
<title>Let’s break Numbers in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们在JavaScript中分解数字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-break-numbers-in-javascript-632f12de6218?source=collection_archive---------7-----------------------#2020-03-10">https://javascript.plainenglish.io/lets-break-numbers-in-javascript-632f12de6218?source=collection_archive---------7-----------------------#2020-03-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7190" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你擅长算术吗？JavaScript呢</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0193681d399f2b0f9467edcbe4ec741f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f1WGD9ghReT7q6Ri"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@mparzuchowski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Michał Parzuchowski</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="914a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">任何了解JavaScript的人都会知道为什么会有<code class="fe ls lt lu lv b">{} !== {}</code>和<code class="fe ls lt lu lv b">{} != {}</code>。这很好，因为JavaScript在这里与使用引用来比较对象是一致的。</p><p id="1ac5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是让我们来看看JavaScript的一些真正奇怪的地方。让我们试试这些。如果你的电脑上安装了node.js，你只需打开一个终端并输入<code class="fe ls lt lu lv b">node</code>就可以轻松地完成。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="3a51" class="ma mb iq lv b gy mc md l me mf">typeof []<br/>// 'object'</span><span id="cd5f" class="ma mb iq lv b gy mg md l me mf">typeof {}<br/>// 'object'</span><span id="fe5b" class="ma mb iq lv b gy mg md l me mf">typeof new Date()<br/>// 'object'</span><span id="d36f" class="ma mb iq lv b gy mg md l me mf">typeof new String()<br/>// 'object'</span><span id="3c9d" class="ma mb iq lv b gy mg md l me mf">typeof null<br/>// 'object'</span></pre><p id="2f6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">🤔没什么意义，是吗？我们继续。<code class="fe ls lt lu lv b">NaN</code>定义为<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" rel="noopener ugc nofollow" target="_blank">非数字</a>。所以试图像对待T5一样对待一个不是T4的值会产生这样的结果。例如</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="9067" class="ma mb iq lv b gy mc md l me mf">Number('blabla');<br/>// NaN</span><span id="665f" class="ma mb iq lv b gy mg md l me mf">"hello" - 5<br/>// NaN</span></pre><p id="cfff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一切都有道理。当然，一个字符串不是一个数字。但是让我们试试这个:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="af22" class="ma mb iq lv b gy mc md l me mf">typeof NaN<br/>// 'number'</span></pre><p id="f87f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以“不是数字”的类型是“数字”🙃。让我们探索一些其他的“数字”。在REPL，尝试以下命令:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="8f5d" class="ma mb iq lv b gy mc md l me mf">01<br/>// 1<br/>02<br/>// 2<br/>03<br/>// 3<br/>04<br/>// 4<br/>05<br/>// 5<br/>06<br/>// 6<br/>07<br/>// 7<br/>08<br/>// 8</span></pre><p id="b4e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相当标准。01是1，02是2，03是3等等。但是等我们到了10号。在JavaScript领域<code class="fe ls lt lu lv b">09</code>是<code class="fe ls lt lu lv b">9</code>但是<code class="fe ls lt lu lv b">010</code>是<code class="fe ls lt lu lv b">8</code>。但是等等，我觉得这有点奇怪……似乎有一种模式:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="fa4d" class="ma mb iq lv b gy mc md l me mf">010<br/>// 8<br/>011<br/>// 9<br/>012<br/>// 10<br/>013<br/>// 11<br/>014<br/>// 12<br/>015<br/>// 13<br/>016<br/>// 14<br/>017<br/>// 15</span></pre><p id="4601" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那好吧。结论:JavaScript很奇怪，但仍然是符合逻辑的。这似乎有一定的逻辑……我们继续，试试<code class="fe ls lt lu lv b">018</code>。等等。<code class="fe ls lt lu lv b">018</code>的输出是… <code class="fe ls lt lu lv b">18</code>。所以…我不知道该说什么。这些怪癖使得javascript很难理解。有一个规则，但这是一个奇怪的规则。老实说，我不知道JavaScript的这个规则或“特性”有什么用。但如果你想了解它，<a class="ae kv" href="https://stackoverflow.com/questions/30386993/why-in-javascript-does-10-010-result-in-false/30387040" rel="noopener ugc nofollow" target="_blank">这篇stackoverflow帖子</a>描述得很好。这和JavaScript中的<code class="fe ls lt lu lv b">010 === 10</code>是<code class="fe ls lt lu lv b">false</code>是一个道理。</p><p id="f8ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的JavaScript控制台或节点REPL中，让我们现在尝试一个大的数字。输入<code class="fe ls lt lu lv b">9999999999999999</code>。您看到下一行返回了什么？<code class="fe ls lt lu lv b">10000000000000000</code>。等等，这两个数字怎么会一样。这一定是由于某种舍入机制，对吗？因为这些数字肯定是不一样的…或者是吗？</p><p id="ad65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">9999999999999999 === 10000000000000000</code>返回<code class="fe ls lt lu lv b">true</code>。酷毙了。如果我给<code class="fe ls lt lu lv b">9999999999999999</code>加1呢。<code class="fe ls lt lu lv b">9999999999999999 + 1 === 10000000000000000</code>也会还真吗？是的。好吧，这个有道理。那么如果我们做了:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="37ce" class="ma mb iq lv b gy mc md l me mf">9999999999999999 + 1 === 9999999999999999<br/>// true</span></pre><p id="21d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">哼。一个数加一怎么能等于它自己？从中减去1怎么样？</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="99c2" class="ma mb iq lv b gy mc md l me mf">9999999999999999 - 1 === 9999999999999999<br/>// true</span></pre><p id="70aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也是真的。太好了。让我们发现更多的疯狂。我们看到了非常大的数字。这次我们来看一些小的。让我们试试<code class="fe ls lt lu lv b">0.1 + 0.2</code>。很简单，对吗？你可能会这么想……但不是。结果是<code class="fe ls lt lu lv b">0.30000000000000004</code>。我们甚至不需要去看那些非常小的数字就能发现一些奇怪的东西。不如我们试试小一个数量级:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="d762" class="ma mb iq lv b gy mc md l me mf">0.01 + 0.02<br/>// 0.03</span></pre><p id="e360" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的。所以现在我们恢复了理智。但是为什么这些操作都可以，上面的不行呢？嘘JavaScript教会不欢迎这种问题。</p><p id="3fe6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你用过JavaScript，你会知道<code class="fe ls lt lu lv b">0</code>就是<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" rel="noopener ugc nofollow" target="_blank"> falsy </a>。所以<code class="fe ls lt lu lv b">0 == false</code>给了我们<code class="fe ls lt lu lv b">true</code>。酷有道理。而且<code class="fe ls lt lu lv b">null</code>也是假的，所以<code class="fe ls lt lu lv b">null == false</code>也给了我们<code class="fe ls lt lu lv b">true</code>。酷毙了。那<code class="fe ls lt lu lv b">0 == null</code>呢。这是错误的。但是因为我们很奇怪，我们用JavaScript编码，我们知道<code class="fe ls lt lu lv b">==</code>不是一个严格的“等于”操作符，我们仍然可以理解这个奇怪的逻辑。但是如果我们做<code class="fe ls lt lu lv b">0 &lt;= null</code>呢。这给了我们真实…那么自然地，既然<code class="fe ls lt lu lv b">0 != null</code>和<code class="fe ls lt lu lv b">0 &lt;= null</code>，那么它一定意味着<code class="fe ls lt lu lv b">0 &lt; null</code>。不😁。我们忘记了在JavaScript领域，事情并不总是有意义的。</p><p id="042d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这只是对我们最喜欢的语言如何处理数字的一个快速浏览。更多这样的乐趣，跟随我这里，或更多的随机性；在推特上。</p></div></div>    
</body>
</html>