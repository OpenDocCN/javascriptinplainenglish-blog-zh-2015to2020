<html>
<head>
<title>A Simple To-Do app with Deno &amp; React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Deno &amp; React Native的简单待办应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-simple-to-do-app-with-deno-react-native-fe54b9c6b460?source=collection_archive---------6-----------------------#2020-06-29">https://javascript.plainenglish.io/a-simple-to-do-app-with-deno-react-native-fe54b9c6b460?source=collection_archive---------6-----------------------#2020-06-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a350" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用Deno和React Native构建待办事项应用程序</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/7fec983d8207923f6c43dd83dee8e353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*059CAD7dlBjmFeKiPcPeUA.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Unsplash: <a class="ae ks" href="https://unsplash.com/@carlheyerdahl" rel="noopener ugc nofollow" target="_blank">Carl Heyerdahl</a></figcaption></figure><p id="87f7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最近Deno(node . js的替代品)发布了。许多人都在谈论它，因为它是新的，听起来有一些很酷的功能。今天我们就用Deno做一个简单的待办app作为REST API。</p><p id="c7d1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们会看到这些不同的东西:</p><ul class=""><li id="5fbd" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">Oak(类似Express.js的HTTP框架)</li><li id="2f2f" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">denon(node mon的替代)</li><li id="5f60" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">实现一个CRUD</li></ul><p id="f833" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们的申请将非常简单，但我们会很开心。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="5635" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">设置环境</h1><p id="4203" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">由于我们不熟悉Deno，我们需要安装它:</p><p id="a1c2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在macOS / Linux上:</p><pre class="kd ke kf kg gt nh ni nj nk aw nl bi"><span id="0ab7" class="nm ml in ni b gy nn no l np nq">curl -fsSL https://deno.land/x/install/install.sh | sh</span></pre><p id="7456" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在windows上:</p><pre class="kd ke kf kg gt nh ni nj nk aw nl bi"><span id="0746" class="nm ml in ni b gy nn no l np nq">iwr https://deno.land/x/install/install.ps1 -useb | iex</span></pre><p id="29b6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一旦您安装了Deno，您将能够启动它:</p><pre class="kd ke kf kg gt nh ni nj nk aw nl bi"><span id="79da" class="nm ml in ni b gy nn no l np nq">deno</span></pre><p id="21b0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">由于我们不喜欢每次修改时都重新运行应用程序，我们将使用<a class="ae ks" href="https://deno.land/x/denon" rel="noopener ugc nofollow" target="_blank">Denon</a>(node mon的替代方案):</p><pre class="kd ke kf kg gt nh ni nj nk aw nl bi"><span id="6eb4" class="nm ml in ni b gy nn no l np nq">deno install --allow-read --allow-run --allow-write --allow-net -f --unstable https://deno.land/x/denon@v2.2.0/denon.ts</span></pre><p id="30d4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">奖金</strong></p><p id="7f12" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果使用的是VS代码，可以安装<a class="ae ks" href="https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno" rel="noopener ugc nofollow" target="_blank"> Deno扩展</a>:</p><ul class=""><li id="c518" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">通过URL查找模块</li><li id="546c" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">缓存远程导入</li><li id="251c" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi">…</li></ul></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="64af" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">创建我们的项目</h1><p id="1342" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">现在我们的环境已经准备好了，我们可以开始编码了。让我们创建一个新文件夹并运行以下命令:</p><pre class="kd ke kf kg gt nh ni nj nk aw nl bi"><span id="9547" class="nm ml in ni b gy nn no l np nq">denon --init</span></pre><p id="d2b4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它将生成一个Denon文件来运行您的脚本(有点像package.json):</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">denon.json</figcaption></figure><p id="e147" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们现在可以在src/index.ts下创建条目文件</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">index.ts</figcaption></figure><p id="4bc2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这个文件非常简单，它:</p><ul class=""><li id="0ecd" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">在端口3000上创建带有Oak的服务器</li><li id="1bd9" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">提供来自“router.ts”的路由</li></ul><p id="17da" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，我们需要创建路由器文件:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">router.ts</figcaption></figure><p id="a82e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">路由器将导入控制器并在不同的URL上为其服务。</p><p id="6646" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们需要创建控制器，但在此之前，我们将创建一个连接到MongoDB数据库的文件。因此，我们将创建一个新文件“utils/db.ts ”,如下所示:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">utils/db.ts</figcaption></figure><p id="c429" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们用的是<a class="ae ks" href="https://deno.land/x/mongo" rel="noopener ugc nofollow" target="_blank"> deno_mongo模块</a>(暂时不是很稳定)。</p><h2 id="b196" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated">创建任务控制器</h2><p id="254a" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">在创建控制器之前，我们将创建一个模型来定义我们的任务对象。创建一个新文件<strong class="kv io"> models/Task.ts </strong>:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">models/Task.ts</figcaption></figure><h2 id="7518" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated"><strong class="ak">创建任务</strong></h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">createTask</figcaption></figure><h2 id="de2c" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated"><strong class="ak">获取任务</strong></h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">getTasks</figcaption></figure><h2 id="5940" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated"><strong class="ak">更新任务</strong></h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="38f1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以看到我正在使用<code class="fe oe of og ni b">checkOid</code>功能。这个函数有助于检查id是否是mongo ObjectId。在我写这篇文章的时候，mongo模块是不稳定的，如果ObjectId不正确，就会崩溃。我已经在<strong class="kv io"> utils/checkOid.ts </strong>下创建了函数:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">utils/checkOid.ts</figcaption></figure><h2 id="6fe8" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated"><strong class="ak">删除任务</strong></h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h2 id="c5d1" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated">修改denon.json</h2><p id="fa5f" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">现在我们的应用程序已经编写好了，我们需要修改<strong class="kv io"> denon.json </strong>文件来运行它:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">denon.json</figcaption></figure><p id="bd6d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们的API已经可以使用了，我们可以创建我们的React本地应用程序了。</p><p id="f56c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以在这里找到API的代码:<a class="ae ks" href="http://dmg.link/blog-todo-api-repo" rel="noopener ugc nofollow" target="_blank">dmg.link/blog-todo-api-repo</a></p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="a611" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">反应本地零件</h1><p id="77db" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">我们现在可以创建我们的应用程序了。我们将使用Expo最低配置:</p><pre class="kd ke kf kg gt nh ni nj nk aw nl bi"><span id="0846" class="nm ml in ni b gy nn no l np nq">expo init ToDo</span></pre><p id="6952" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们现在可以创建组件了:</p><ul class=""><li id="cc5b" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">主屏幕(所有任务和创建任务)</li><li id="5b74" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">撰写任务</li><li id="3314" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">工作</li></ul><h2 id="05fc" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated">让我们从<strong class="ak">主屏幕</strong>开始:</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">HomeScreen.tsx</figcaption></figure><p id="06cf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它将获取任务并在平面列表中显示它们。</p><h2 id="55e0" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated">我们的任务组件:</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Task.tsx</figcaption></figure><p id="6f40" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这个组件中，我们显示任务，并允许用户将其标记为完成✅或删除它🗑</p><h2 id="611e" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated">然后编写任务组件:</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">ComposeTask.tsx</figcaption></figure><p id="ec2b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们的应用程序可以使用我们的新Deno API。你可以在这里找到代码和样式:【dmg.link/blog-todo-app-repo】T2。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="b653" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">GitLab回购:</p><ul class=""><li id="3195" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">app:【dmg.link/blog-todo-app-repo T4】</li><li id="b076" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">API:<a class="ae ks" href="http://dmg.link/blog-todo-api-repo" rel="noopener ugc nofollow" target="_blank">dmg.link/blog-todo-api-repo</a></li></ul><p id="a351" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">你可以在这里</strong>  <strong class="kv io">找到我的其他文章并关注我</strong> <a class="ae ks" href="https://dmg.link/blog" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">。感谢阅读，我希望你今天学到了一些新东西🚀</strong></a></p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><div class="kd ke kf kg gt oh"><a href="https://levelup.gitconnected.com/automate-your-react-native-app-with-fastlane-ea516b4a893" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">使用浪子自动化您的React原生应用程序</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">简化截图、测试版部署、应用商店部署和React原生应用的登录🚀</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov km oh"/></div></div></a></div><div class="ow ox gp gr oy oh"><a href="https://medium.com/swlh/how-to-use-face-id-with-react-native-or-expo-134231a25fe4" rel="noopener follow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">如何在React Native或Expo中使用Face ID</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">将生物认证应用到React Native或Expo应用中。让您的用户使用它登录。</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">medium.com</p></div></div><div class="oq l"><div class="oz l os ot ou oq ov km oh"/></div></div></a></div></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h2 id="4e8e" class="nm ml in bd mm nt nu dn mq nv nw dp mu lc nx ny mw lg nz oa my lk ob oc na od bi translated">坦白地说</h2><p id="0c5c" class="pw-post-body-paragraph kt ku in kv b kw nc jo ky kz nd jr lb lc ne le lf lg nf li lj lk ng lm ln lo ig bi translated">喜欢这篇文章吗？如果有，通过<a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">订阅我们的YouTube频道</strong> </a> <strong class="kv io">获取更多类似内容！</strong></p></div></div>    
</body>
</html>