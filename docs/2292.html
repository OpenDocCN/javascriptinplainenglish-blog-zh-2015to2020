<html>
<head>
<title>How to Dockerize your React application in minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在几分钟内完成你的React应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-dockerize-your-react-application-in-minutes-66ddd773f833?source=collection_archive---------9-----------------------#2020-06-08">https://javascript.plainenglish.io/how-to-dockerize-your-react-application-in-minutes-66ddd773f833?source=collection_archive---------9-----------------------#2020-06-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f257" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用React和Docker进行设置</h2></div><p id="6597" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Docker是一个很棒的工具，可以简化应用程序的部署和创建。Docker基本上将你的代码注入到一个叫做容器的东西中。容器是一个微小的独立环境。将容器中的应用程序想象成一个可移动的房子。您的应用程序需要的一切都包含在其中。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/91ea48f34950ac80290def8b0c254106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHTcNw50tddBUExCtpimGA.png"/></div></div></figure><h1 id="fac0" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">为什么是Docker？</h1><p id="6c0f" class="pw-post-body-paragraph kc kd in ke b kf mc jo kh ki md jr kk kl me kn ko kp mf kr ks kt mg kv kw kx ig bi translated">我使用Docker已经有一段时间了。它为我节省了几个小时的故障排除时间。它几乎消除了管理在我的机器上运行的依赖项的需要，但奇怪的是在一个对等机器上崩溃了应用程序。它结束了相当大的可变性，消除了许多麻烦，让您专注于作为开发人员的主要任务。</p><p id="31dc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因为Docker本质上是一个承载应用程序的容器，所以框架或语言不是一个约束。在本文中，让我们在Docker上获得React应用程序。</p><p id="805f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">注意:</strong>本文主要关注使用<code class="fe mh mi mj mk b">create-react-app</code>创建的React应用程序</p><h1 id="388d" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">在Docker上获得React应用程序</h1><p id="392e" class="pw-post-body-paragraph kc kd in ke b kf mc jo kh ki md jr kk kl me kn ko kp mf kr ks kt mg kv kw kx ig bi translated">从在电脑上安装Docker开始。安装Docker 相当简单。可以从他们的官方网站<a class="ae ml" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank">下载</a>。</p><p id="6892" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您还没有React应用程序，您可能想使用<code class="fe mh mi mj mk b">create-react-app &lt;application_name&gt;</code>创建一个</p><h1 id="b080" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">从……开始。dockerignore</h1><p id="1a40" class="pw-post-body-paragraph kc kd in ke b kf mc jo kh ki md jr kk kl me kn ko kp mf kr ks kt mg kv kw kx ig bi translated">一旦你有了一个工作的React应用程序，在你的项目的根目录下，你可能想从创建<code class="fe mh mi mj mk b">.dockerignore</code>文件开始。这个文件类似于现在流行的<code class="fe mh mi mj mk b">.gitignore</code>。你添加到<code class="fe mh mi mj mk b">.dockerignore</code>的任何文件或文件夹都会被Docker忽略。将<code class="fe mh mi mj mk b">node_modules</code>放在这个文件中是个好主意。我的Dockerignore如下所示</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="be5e" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">移动到Dockerfile</h1><p id="2e0b" class="pw-post-body-paragraph kc kd in ke b kf mc jo kh ki md jr kk kl me kn ko kp mf kr ks kt mg kv kw kx ig bi translated">接下来，创建一个<code class="fe mh mi mj mk b">Dockerfile</code>。这个文件是创建图像的配方。它是独立命令的集合，这些命令按顺序执行以获得最终图像。</p><p id="799e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Dockerfile文件的内容如下</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">Dockerfile</figcaption></figure><p id="a3f0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">打开终端或命令提示符，并导航到项目文件夹。Dockerfile文件可以总结为8个步骤。</p><p id="889e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">第2行</em>:我们从指定节点版本开始。这就是我们想要的容器的基础。</p><p id="db26" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">第5行</em>:然后我们在Docker环境中创建一个目录，并将其指定为工作目录。</p><p id="229b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">第8行</em>:然后我们将<code class="fe mh mi mj mk b">package.json</code>复制到Docker容器中的<code class="fe mh mi mj mk b">package.json</code>。</p><p id="fb22" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">json是应用程序成功执行所需的所有第三方模块的集合。</p><p id="d5a6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">第11行</em>:为了安装上面提到的模块，我们运行<code class="fe mh mi mj mk b">npm install</code><code class="fe mh mi mj mk b">RUN</code>命令告诉Docker运行下面的命令</p><p id="5cad" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">第17行</em>:我们将所有文件从你的项目目录中复制到Docker容器中的工作目录，包括源代码、资产等。我们在第5行制作了这个工作目录。</p><p id="8a1b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">第20行</em>:然后我们公开我们的应用程序将要运行的端口。因为React默认端口为3000，所以我们在Docker文件中公开端口3000。</p><p id="04de" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，我们用我们心爱的<code class="fe mh mi mj mk b">npm start</code>启动轮子</p><p id="697d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这差不多就是我们要做的全部了。我们现在可以继续用Docker构建应用程序了。</p><h1 id="34b3" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">码头工人建造</h1><p id="79bf" class="pw-post-body-paragraph kc kd in ke b kf mc jo kh ki md jr kk kl me kn ko kp mf kr ks kt mg kv kw kx ig bi translated">为了使用上面创建的docker文件构建docker容器，我们运行</p><p id="d9ae" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mh mi mj mk b">docker build -t &lt;identifier-for-your-app&gt; .</code></p><p id="a9b8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该命令是docker build。<code class="fe mh mi mj mk b">-t</code>是用来给React项目容器赋值的标签，以将它与您以后可能构建的任何其他容器区分开来。把它想象成你的容器的名字。我将我的容器命名为<code class="fe mh mi mj mk b">market-react-app</code></p><p id="2795" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mh mi mj mk b">docker build -t market-react-app .</code></p><p id="e620" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后的<code class="fe mh mi mj mk b">.</code>表示当前上下文。它告诉docker从你当前的目录开始构建。当前目录应该是项目的根目录。</p><h1 id="a61c" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">最后的步骤</h1><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mt"><img src="../Images/d2e17bb2caf3cdef633e450a769eebaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j7AR_6VZVXbNFvxnKSv1mA.png"/></div></div></figure><p id="dfbd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">到目前为止，我们已经创建了一个可选但推荐的<code class="fe mh mi mj mk b">.dockerignore</code>文件，一个<code class="fe mh mi mj mk b">Dockerfile</code>，构建了docker容器。现在，我们将使用</p><p id="2938" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mh mi mj mk b">docker run -p 8000:3000 market-react-app</code></p><p id="42b2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面的命令绑定了两个端口。根据文档，它向主机发布容器端口。</p><p id="a0ff" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，启动您的web浏览器并导航到<code class="fe mh mi mj mk b">localhost:8000</code>您应该会看到React应用程序的辉煌。</p><h2 id="02f8" class="mu ll in bd lm mv mw dn lq mx my dp lu kl mz na lw kp nb nc ly kt nd ne ma nf bi translated">简单英语的JavaScript</h2><p id="c40a" class="pw-post-body-paragraph kc kd in ke b kf mc jo kh ki md jr kk kl me kn ko kp mf kr ks kt mg kv kw kx ig bi translated">喜欢这篇文章吗？如果有，通过<a class="ae ml" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io">订阅我们的YouTube频道</strong> </a> <strong class="ke io">获取更多类似内容！</strong></p></div></div>    
</body>
</html>