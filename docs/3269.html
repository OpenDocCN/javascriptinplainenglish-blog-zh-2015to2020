<html>
<head>
<title>Doubly Linked Lists: Twice as Nice</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">双向链表:好两倍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/twice-as-nice-doubly-linked-lists-c7421b9e4f16?source=collection_archive---------14-----------------------#2020-09-14">https://javascript.plainenglish.io/twice-as-nice-doubly-linked-lists-c7421b9e4f16?source=collection_archive---------14-----------------------#2020-09-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c55ee9cf40e25f0f75651f9b006ab490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KFeJjzbRLToInJQN"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@diesektion?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Robert Anasch</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6366" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我一直在研究数据结构，并在其上实现通用方法，以帮助我的理解，并通过Chrome开发工具使它们变得更加有趣。上周我研究了单链表。如果您没有检查它，您可以在这里进行检查。</p><p id="f940" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我一点也不知道我已经使用了一个很好的双向链表的例子有一段时间了…浏览器历史。每个网页(节点)都有一个指向上一页或下一页的指针(除非它是列表/当前页面的尾部)。</p><p id="ba15" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们描述一下这个DS的形状，然后我们可以为它添加一些方法来获得<em class="ky">乐趣</em>。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="573c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">双向链表是节点的集合。它们中的每一个都有一段与之相关的数据(数字、字符串、对象)。每个<code class="fe lg lh li lj b">node</code>还有两个属性，帮助我们遍历列表，并显示与节点的关系。</p><p id="817b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lg lh li lj b">.next</code></p><p id="0eac" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">节点的<code class="fe lg lh li lj b">.next</code>属性将我们指向列表中的下一个<code class="fe lg lh li lj b">node</code>。我们可以用它来遍历列表并访问列表中的每一项。</p><p id="8af9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lg lh li lj b">.prev</code></p><p id="b67d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一个<code class="fe lg lh li lj b">node</code>的<code class="fe lg lh li lj b">.prev</code>属性指向列表中的前一个<code class="fe lg lh li lj b">node</code>。这是双向链表的关键部分，它允许我们从<code class="fe lg lh li lj b">tail</code>开始遍历链表。(这是我们不能用单链表做的事情)</p><p id="ab4f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在纸上画出来，它可能看起来像这张来自<a class="ae jz" href="https://visualgo.net/en/list" rel="noopener ugc nofollow" target="_blank"> Visualgo </a>的图片</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/e125086b05d06de23bc65598f682acaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*8gSg_PDelJ6F2GHN6eMkTA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">screenshot from visualgo.net</figcaption></figure><p id="3bed" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">数字代表我们的数据(本例中是数字)，箭头代表我们的<code class="fe lg lh li lj b">.prev</code>和<code class="fe lg lh li lj b">.next</code>属性。</p><p id="3534" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们给双向链表添加一些功能</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><h2 id="272b" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated"><code class="fe lg lh li lj b">push(val)</code></h2><p id="80ce" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated"><code class="fe lg lh li lj b">push()</code>添加到双向链表的末尾。这非常类似于单链表中的实现，但是我们不能忘记我们的新朋友<code class="fe lg lh li lj b"> .prev</code>属性</p><p id="cf96" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">伪代码！</p><blockquote class="mn mo mp"><p id="6a4b" class="ka kb ky kc b kd ke kf kg kh ki kj kk mq km kn ko mr kq kr ks ms ku kv kw kx ig bi translated">//定义一个名为push(val)的函数，它接受一个值作为参数<br/>//使用作为参数传递的值创建一个新节点<br/>//如果列表为空，则将头和尾设置为新创建的节点<br/>//否则将当前尾的next属性设置为新节点<br/>//将新节点的prev属性设置为当前尾<br/>//将尾设置为新创建的节点<br/>//增加列表的长度并返回整个列表。</p></blockquote><p id="9a4d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">花些时间考虑一下，看看你是否能让它工作。</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/beaf965dfa3ba45ddf6f2cd10429d20b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q43F-inzx95KC1dR"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@nate_dumlao?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nathan Dumlao</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2e57" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你表现如何？</p><p id="daad" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是我的实现</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="210d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我看来，这里最容易出错的地方是<code class="fe lg lh li lj b">else</code>街区。在将<code class="fe lg lh li lj b">this.tail</code>重新分配给<code class="fe lg lh li lj b">newNode</code>之前，你必须确保分配了<code class="fe lg lh li lj b">.next</code>和<code class="fe lg lh li lj b">.prev</code>属性<strong class="kc io">。否则，你不会使用旧的尾巴。</strong></p><p id="8e19" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们再做一次</p><h2 id="5411" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated"><code class="fe lg lh li lj b">get(index)</code></h2><p id="ad50" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated"><code class="fe lg lh li lj b">get()</code>将一个<code class="fe lg lh li lj b">index</code>作为参数，并在您传入的<code class="fe lg lh li lj b">index</code>处返回<code class="fe lg lh li lj b">node</code>。记住链表节点不像数组那样被索引，所以我们的程序不知道链表第五项在内存中的位置。为了找到第5项，我们需要遍历列表。双向链表的额外好处是能够从<code class="fe lg lh li lj b">head</code> <strong class="kc io">或</strong><code class="fe lg lh li lj b">tail</code>开始查找。也就是说，如果你有一个一百万个条目的列表，并且需要倒数第二个条目，你可以从<code class="fe lg lh li lj b">tail</code>开始，这样可以节省999，998次迭代。</p><p id="3e53" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">伪代码！</p><p id="3f69" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">//定义一个名为get()的函数，它接收一个索引并返回该位置的节点<br/>//检查传入的索引是否有效。我们不能使用负索引，或者大于或等于长度的索引<br/>//从头开始遍历列表，直到找到要查找的索引<br/>//优化<br/>//如果要查找列表后半部分的项，则从末尾开始向后查找<br/>//如果要查找列表前半部分的项，则从开头开始向前查找<br/>//返回找到的节点</p><p id="d506" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在检查我下面的实现之前，请自行尝试。</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/e288d5099ae2e271af6290e3ed79a12e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Skyq6o8xKqx3CQlr"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@marceloleal80?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marcelo Leal</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a799" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">怎么样了？</p><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="883c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通过检查我们想要的<code class="fe lg lh li lj b">index</code>相对于列表中心的位置，优化利用了双向链表和单向链表之间的巨大差异。</p><p id="67fa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">类似于使用一个数组的递归二分搜索法，我们想在第一步就把列表切掉一半，这样我们就把需要浏览的条目数量切掉一半。最坏情况下的时间复杂度是O(n/2 ),简化为O(n)。</p><p id="d628" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我添加了一些其他方法，并把要点放在文章的最后，以展示我是如何实现它们的。如果你想在看到我实现的解决方案之前尝试一下，我列出了下面的方法。一定要先写伪代码！</p><ol class=""><li id="e2ee" class="mx my in kc b kd ke kh ki kl mz kp na kt nb kx nc nd ne nf bi translated"><code class="fe lg lh li lj b">pop()</code>从列表中删除最后一个节点</li><li id="2136" class="mx my in kc b kd ng kh nh kl ni kp nj kt nk kx nc nd ne nf bi translated">从列表中删除第一个节点</li><li id="7b79" class="mx my in kc b kd ng kh nh kl ni kp nj kt nk kx nc nd ne nf bi translated"><code class="fe lg lh li lj b">unshift(value)</code>使用传入的值将节点添加到列表的开头</li><li id="610f" class="mx my in kc b kd ng kh nh kl ni kp nj kt nk kx nc nd ne nf bi translated"><code class="fe lg lh li lj b">set(index, value)</code>在传入的索引处查找节点，并用传入的值替换其值</li><li id="91aa" class="mx my in kc b kd ng kh nh kl ni kp nj kt nk kx nc nd ne nf bi translated"><code class="fe lg lh li lj b">insert(index, value)</code>用传入的值创建一个新节点，并将其放在传入的索引处。</li><li id="7476" class="mx my in kc b kd ng kh nh kl ni kp nj kt nk kx nc nd ne nf bi translated"><code class="fe lg lh li lj b">remove(index)</code>从列表中删除给定索引处的节点</li><li id="416f" class="mx my in kc b kd ng kh nh kl ni kp nj kt nk kx nc nd ne nf bi translated"><code class="fe lg lh li lj b">reverse()</code>颠倒列表顺序，不创建新列表(就地)</li></ol><p id="e82a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我希望你花时间给他们一个尝试。如果你像我一样，在纸上或用便利贴工作，讨论将要发生的事情。将这些步骤制作成你的伪代码，然后开始工作。经常测试，看看你是否能使用一些你已经写好的方法来帮助你解决这些问题。</p><h1 id="9ca4" class="nl lq in bd lr nm nn no lu np nq nr lx ns nt nu ma nv nw nx md ny nz oa mg ob bi translated">黑客快乐！</h1><h2 id="df11" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">资源:</h2><div class="oc od gp gr oe of"><a href="https://visualgo.net/en/list" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd io gy z fp ok fr fs ol fu fw im bi translated">链表(单链表，双链表)，堆栈，队列，队列</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">链表是一种数据结构，由一组顶点(节点)组成，它们共同代表一个序列。在…下面</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">visualgo.net</p></div></div><div class="oo l"><div class="op l oq or os oo ot jt of"/></div></div></a></div><div class="oc od gp gr oe of"><a href="https://www.geeksforgeeks.org/doubly-linked-list/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd io gy z fp ok fr fs ol fu fw im bi translated">双向链表|集合1(介绍和插入)- GeeksforGeeks</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">我们强烈建议参考以下职位作为这个职位的先决条件。链表介绍插入一个节点…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">www.geeksforgeeks.org</p></div></div><div class="oo l"><div class="ou l oq or os oo ot jt of"/></div></div></a></div><h2 id="7e26" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">与我联系:</h2><div class="oc od gp gr oe of"><a href="https://www.github.com/MisterRK" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd io gy z fp ok fr fs ol fu fw im bi translated">MisterRK -概述</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">我喜欢构建东西，通常是用代码，但总是有高水平的细节。我曾经为…解决问题</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">www.github.com</p></div></div><div class="oo l"><div class="ov l oq or os oo ot jt of"/></div></div></a></div><div class="oc od gp gr oe of"><a href="https://www.linkedin.com/in/robert-keller-dev/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd io gy z fp ok fr fs ol fu fw im bi translated">罗伯特·凯勒——志愿者——软件工程师——战斗流行病| LinkedIn</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">我喜欢做东西，通常用代码，有时用木头，总是有很高水平的细节。我曾经解决过…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">www.linkedin.com</p></div></div></div></a></div><h2 id="8dd4" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">解决方案:</h2><figure class="ll lm ln lo gt jo"><div class="bz fp l di"><div class="mu mv l"/></div></figure></div></div>    
</body>
</html>