<html>
<head>
<title>How to Develop an Automated Email Sender Engine using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js开发一个自动化的邮件发送引擎</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-clock-face-with-svg-in-react-native-e0611d41eec5?source=collection_archive---------5-----------------------#2020-09-25">https://javascript.plainenglish.io/build-a-clock-face-with-svg-in-react-native-e0611d41eec5?source=collection_archive---------5-----------------------#2020-09-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3a5a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">只需从您的Web应用程序发送电子邮件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f3e072f0f0d6631a111a323cf549969b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WuJohJSA0lIQfWOx"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@blackpoetry?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">pixpoetry</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9ca3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天我将展示如何通过集成Nodejs从您的web应用程序发送电子邮件。你可以使用任何前端技术，这没有问题。通过向使用Nodejs构建的API发送电子邮件发送请求，您可以在任何情况下自动发送电子邮件。</p><p id="f7e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个电子邮件发送引擎支持所有类型的电子邮件提供商(gmail，雅虎，outlook等)，但对于这篇文章，我将使用Gmail。</p><p id="60fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要开始，您需要在电子邮件提供商内部创建电子邮件实例。</p><p id="628b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">对于GMAIL用户:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/ec46fa64b8a0a52b65c20785d1a36caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MSRHmz689vQwQ9zD"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@solenfeyissa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Solen Feyissa</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1e2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">a.去https://security.google.com/settings/security/apppasswords的<a class="ae kv" href="https://security.google.com/settings/security/apppasswords" rel="noopener ugc nofollow" target="_blank">T3</a>。可能会要求您登录您的Google帐户。请确保登录正确的帐户。</p><p id="0e6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">b.从可用应用列表中选择<strong class="ky ir">邮件</strong></p><p id="0253" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">c.从设备列表中选择<strong class="ky ir">其他</strong></p><p id="5e92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">d.输入您的自定义名称。你可以把“简单邮件”放进去。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lt"><img src="../Images/8cc041aac51f6b2ffd41768d1f37ce37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itYBKPpVzLWE3bEpjsgiNQ.png"/></div></div></figure><p id="3492" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">e.点击<strong class="ky ir">生成</strong>按钮</p><p id="550f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">f.将密码复制并保存到您的计算机上。</p><p id="b514" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">g.点击<strong class="ky ir">完成</strong>按钮，完成。</p><p id="c0d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您需要保存密码以备将来使用。否则，你必须重新生成一个新的密码，因为一旦你点击完成按钮，谷歌不允许你查看密码。</p><p id="5712" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="lu">希望你已经准备好了申请&amp;的密码！</em> </strong></p><h1 id="e5f8" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">让我们开始编码吧</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mn"><img src="../Images/cc851035d446f6097742b7a9b8369076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IIQ2OqKyknGLCxhL"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@lazizli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lala Azizli</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7bfd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">项目结构:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="4ab2" class="mt lw iq mp b gy mu mv l mw mx"><strong class="mp ir">&gt;&gt; GMAIL-SENDER</strong></span><span id="b693" class="mt lw iq mp b gy my mv l mw mx">→ config<br/>  |- web-server.js</span><span id="7175" class="mt lw iq mp b gy my mv l mw mx">→ controllers<br/>  |- sender.js</span><span id="e9a1" class="mt lw iq mp b gy my mv l mw mx">→ services<br/>  |- web-server.js<br/>  |- router.js<br/>  |- mailsender.js</span><span id="52da" class="mt lw iq mp b gy my mv l mw mx">index.js</span></pre><p id="d63e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们创建所需的项目文件！</p><ol class=""><li id="3a95" class="mz na iq ky b kz la lc ld lf nb lj nc ln nd lr ne nf ng nh bi translated"><strong class="ky ir">在配置文件夹内</strong></li></ol><p id="a9c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">web-server.js</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="b6aa" class="mt lw iq mp b gy mu mv l mw mx">module.exports = {</span><span id="f3cf" class="mt lw iq mp b gy my mv l mw mx">port: process.env.HTTP_PORT || 3000</span><span id="5f60" class="mt lw iq mp b gy my mv l mw mx">};</span></pre><p id="4b3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 2。在服务文件夹内</strong></p><p id="bbc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">web-server.js</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="dd20" class="mt lw iq mp b gy mu mv l mw mx">const http = require('http');</span><span id="319c" class="mt lw iq mp b gy my mv l mw mx">const express = require('express');</span><span id="7090" class="mt lw iq mp b gy my mv l mw mx">const webServerConfig = require('../config/web-server.js');</span><span id="2d4b" class="mt lw iq mp b gy my mv l mw mx">const morgan = require('morgan');</span><span id="a7df" class="mt lw iq mp b gy my mv l mw mx">const router = require('./router.js');</span><span id="3fb3" class="mt lw iq mp b gy my mv l mw mx">let httpServer;</span><span id="1500" class="mt lw iq mp b gy my mv l mw mx">function initialize() {</span><span id="f960" class="mt lw iq mp b gy my mv l mw mx">return new Promise((resolve, reject) =&gt; {</span><span id="9789" class="mt lw iq mp b gy my mv l mw mx">const app = express();</span><span id="e224" class="mt lw iq mp b gy my mv l mw mx">httpServer = http.createServer(app);</span><span id="3b7f" class="mt lw iq mp b gy my mv l mw mx">app.use(morgan('combined'));</span><span id="e904" class="mt lw iq mp b gy my mv l mw mx">// Parse incoming JSON requests and revive JSON.</span><span id="33e4" class="mt lw iq mp b gy my mv l mw mx">app.use(express.json({</span><span id="fabf" class="mt lw iq mp b gy my mv l mw mx">reviver: reviveJson</span><span id="d801" class="mt lw iq mp b gy my mv l mw mx">}));</span><span id="a5de" class="mt lw iq mp b gy my mv l mw mx">app.use(function(req, res, next) {</span><span id="26fc" class="mt lw iq mp b gy my mv l mw mx">res.header("Access-Control-Allow-Origin", "http://localhost:4401");</span><span id="1caa" class="mt lw iq mp b gy my mv l mw mx">res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");</span><span id="a497" class="mt lw iq mp b gy my mv l mw mx">res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');</span><span id="1166" class="mt lw iq mp b gy my mv l mw mx">res.setHeader('Access-Control-Allow-Credentials', true);</span><span id="b638" class="mt lw iq mp b gy my mv l mw mx">next();</span><span id="b35c" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="b12c" class="mt lw iq mp b gy my mv l mw mx">app.use('/api', router);</span><span id="077b" class="mt lw iq mp b gy my mv l mw mx">httpServer.listen(webServerConfig.port)</span><span id="376c" class="mt lw iq mp b gy my mv l mw mx">.on('listening', () =&gt; {</span><span id="db96" class="mt lw iq mp b gy my mv l mw mx">console.log(`Web server listening on localhost:${webServerConfig.port}`);</span><span id="7d59" class="mt lw iq mp b gy my mv l mw mx">resolve();</span><span id="fa98" class="mt lw iq mp b gy my mv l mw mx">})</span><span id="486c" class="mt lw iq mp b gy my mv l mw mx">.on('error', err =&gt; {</span><span id="f1ef" class="mt lw iq mp b gy my mv l mw mx">reject(err);</span><span id="1ce2" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="8182" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="c02e" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="9c66" class="mt lw iq mp b gy my mv l mw mx">module.exports.initialize = initialize;</span><span id="1fed" class="mt lw iq mp b gy my mv l mw mx">function close() {</span><span id="05b3" class="mt lw iq mp b gy my mv l mw mx">return new Promise((resolve, reject) =&gt; {</span><span id="a45d" class="mt lw iq mp b gy my mv l mw mx">httpServer.close((err) =&gt; {</span><span id="9c6a" class="mt lw iq mp b gy my mv l mw mx">if (err) {</span><span id="cdbf" class="mt lw iq mp b gy my mv l mw mx">reject(err);</span><span id="5367" class="mt lw iq mp b gy my mv l mw mx">return;</span><span id="e3d4" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="d049" class="mt lw iq mp b gy my mv l mw mx">resolve();</span><span id="12c0" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="9179" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="2d4f" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="badf" class="mt lw iq mp b gy my mv l mw mx">module.exports.close = close;</span><span id="8e27" class="mt lw iq mp b gy my mv l mw mx">const iso8601RegExp = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/;</span><span id="7997" class="mt lw iq mp b gy my mv l mw mx">function reviveJson(key, value) {</span><span id="44c3" class="mt lw iq mp b gy my mv l mw mx">if (typeof value === 'string' &amp;&amp; iso8601RegExp.test(value)) {</span><span id="8611" class="mt lw iq mp b gy my mv l mw mx">return new Date(value);</span><span id="1a0a" class="mt lw iq mp b gy my mv l mw mx">} else {</span><span id="f661" class="mt lw iq mp b gy my mv l mw mx">return value;</span><span id="2505" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="54a7" class="mt lw iq mp b gy my mv l mw mx">}</span></pre><p id="da5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">router.js</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="757b" class="mt lw iq mp b gy mu mv l mw mx">const express = require('express');</span><span id="de8e" class="mt lw iq mp b gy my mv l mw mx">const router = new express.Router();</span><span id="21b4" class="mt lw iq mp b gy my mv l mw mx">const sender = require('../controllers/sender.js');</span><span id="f04b" class="mt lw iq mp b gy my mv l mw mx">router.route('/sender/')</span><span id="5762" class="mt lw iq mp b gy my mv l mw mx">.post(sender.post);</span><span id="afbd" class="mt lw iq mp b gy my mv l mw mx">module.exports = router;</span></pre><p id="d241" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">mailsender.js</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="4610" class="mt lw iq mp b gy mu mv l mw mx">const nodemailer = require('nodemailer');</span><span id="4483" class="mt lw iq mp b gy my mv l mw mx">var transport = nodemailer.createTransport({</span><span id="4ed3" class="mt lw iq mp b gy my mv l mw mx">host: "smtp.googlemail.com",</span><span id="641a" class="mt lw iq mp b gy my mv l mw mx">port: 465,</span><span id="ee2d" class="mt lw iq mp b gy my mv l mw mx">auth: {</span><span id="104a" class="mt lw iq mp b gy my mv l mw mx">user: "YOUR EMAIL ADDRESS",</span><span id="f8f4" class="mt lw iq mp b gy my mv l mw mx">pass: "YOUR GENERATED PASSWORD INISDE EMAIL"</span><span id="a253" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="eb7b" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="919f" class="mt lw iq mp b gy my mv l mw mx">async function sendMail(mailText, subject, toSend, fromWho)</span><span id="9d95" class="mt lw iq mp b gy my mv l mw mx">{</span><span id="3ce9" class="mt lw iq mp b gy my mv l mw mx">const message = {</span><span id="48e7" class="mt lw iq mp b gy my mv l mw mx">from: fromWho, // Sender address</span><span id="1f63" class="mt lw iq mp b gy my mv l mw mx">to: toSend,         // List of recipients</span><span id="0b9f" class="mt lw iq mp b gy my mv l mw mx">subject: subject, // Subject line</span><span id="4103" class="mt lw iq mp b gy my mv l mw mx">html: mailText // Plain text body</span><span id="f417" class="mt lw iq mp b gy my mv l mw mx">};</span><span id="3c89" class="mt lw iq mp b gy my mv l mw mx">transport.sendMail(message, function(err, info) {</span><span id="5c3f" class="mt lw iq mp b gy my mv l mw mx">if (err) {</span><span id="960e" class="mt lw iq mp b gy my mv l mw mx">console.log(err)</span><span id="a269" class="mt lw iq mp b gy my mv l mw mx">} else {</span><span id="c4b3" class="mt lw iq mp b gy my mv l mw mx">console.log(info);</span><span id="b7d9" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="811e" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="3bff" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="4ae8" class="mt lw iq mp b gy my mv l mw mx">module.exports.sendMail=sendMail;</span></pre><p id="3f96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 3。控制器文件夹内</strong></p><p id="260a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">sender.js</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="6dbe" class="mt lw iq mp b gy mu mv l mw mx">const mailSender = require('../services/mailsender.js');</span><span id="1a40" class="mt lw iq mp b gy my mv l mw mx">async function post(req, res, next) {</span><span id="3ab9" class="mt lw iq mp b gy my mv l mw mx">const stringWithPlaceholders = `&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span><span id="ff95" class="mt lw iq mp b gy my mv l mw mx">&lt;html &gt;</span><span id="ccd4" class="mt lw iq mp b gy my mv l mw mx">&lt;head&gt;</span><span id="7968" class="mt lw iq mp b gy my mv l mw mx">&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;</span><span id="564d" class="mt lw iq mp b gy my mv l mw mx">&lt;title&gt;Email Sender Design&lt;/title&gt;</span><span id="f45e" class="mt lw iq mp b gy my mv l mw mx">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;</span><span id="e3d1" class="mt lw iq mp b gy my mv l mw mx">&lt;style&gt;</span><span id="cd7f" class="mt lw iq mp b gy my mv l mw mx">body {</span><span id="c184" class="mt lw iq mp b gy my mv l mw mx">text-align: left;</span><span id="4933" class="mt lw iq mp b gy my mv l mw mx">font-family: sans-serif;</span><span id="167b" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="d661" class="mt lw iq mp b gy my mv l mw mx">&lt;/style&gt;</span><span id="4ad7" class="mt lw iq mp b gy my mv l mw mx">&lt;/head&gt;</span><span id="0e67" class="mt lw iq mp b gy my mv l mw mx">&lt;body&gt;</span><span id="b771" class="mt lw iq mp b gy my mv l mw mx">&lt;p&gt;Hi Sir/ Madam,&lt;/p&gt;</span><span id="5fb8" class="mt lw iq mp b gy my mv l mw mx">&lt;p&gt;</span><span id="093d" class="mt lw iq mp b gy my mv l mw mx">We would like to invite you to the community.</span><span id="153c" class="mt lw iq mp b gy my mv l mw mx">&lt;/p&gt;</span><span id="8292" class="mt lw iq mp b gy my mv l mw mx">&lt;p&gt;</span><span id="0c7e" class="mt lw iq mp b gy my mv l mw mx">Please click on below link for registration.</span><span id="125e" class="mt lw iq mp b gy my mv l mw mx">&lt;/p&gt;</span><span id="b4e9" class="mt lw iq mp b gy my mv l mw mx">##link##</span><span id="a08f" class="mt lw iq mp b gy my mv l mw mx">&lt;br&gt;</span><span id="80c8" class="mt lw iq mp b gy my mv l mw mx">Best Regards,</span><span id="4017" class="mt lw iq mp b gy my mv l mw mx">&lt;br&gt;</span><span id="ee67" class="mt lw iq mp b gy my mv l mw mx">Your Name</span><span id="3339" class="mt lw iq mp b gy my mv l mw mx">&lt;/P&gt;</span><span id="dac8" class="mt lw iq mp b gy my mv l mw mx">&lt;/body&gt;</span><span id="a0f5" class="mt lw iq mp b gy my mv l mw mx">&lt;/html&gt;`;</span><span id="68e1" class="mt lw iq mp b gy my mv l mw mx">let url='&lt;p&gt;&lt;a href="http://localhost:4200/invite'&gt;Click here&lt;/a&gt;&lt;/p&gt;';</span><span id="aebe" class="mt lw iq mp b gy my mv l mw mx">let message = stringWithPlaceholders.replace(/{\w+}/g, placeholder =&gt;</span><span id="f8bb" class="mt lw iq mp b gy my mv l mw mx">replacements[placeholder.substring(1, placeholder.length - 1)] || placeholder,</span><span id="8295" class="mt lw iq mp b gy my mv l mw mx">);</span><span id="6530" class="mt lw iq mp b gy my mv l mw mx">message = message.replace("##link##", url);</span><span id="f4d6" class="mt lw iq mp b gy my mv l mw mx">mailSender.sendMail(message, 'Invite Community Member', req.email,'youremail@gmail.com');</span><span id="6c32" class="mt lw iq mp b gy my mv l mw mx">console.log("email sent");</span><span id="8854" class="mt lw iq mp b gy my mv l mw mx">} catch (err) {</span><span id="754d" class="mt lw iq mp b gy my mv l mw mx">next(err);</span><span id="aa09" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="935a" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="8ffb" class="mt lw iq mp b gy my mv l mw mx">module.exports.post = post;</span></pre><p id="4718" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 4。根目录内</strong></p><p id="ea80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">索引. js</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="24d4" class="mt lw iq mp b gy mu mv l mw mx">const webServer = require('./services/web-server.js');</span><span id="6f36" class="mt lw iq mp b gy my mv l mw mx">async function startup() {</span><span id="d4f5" class="mt lw iq mp b gy my mv l mw mx">console.log('Starting application');</span><span id="c864" class="mt lw iq mp b gy my mv l mw mx">try {</span><span id="b135" class="mt lw iq mp b gy my mv l mw mx">} catch (err) {</span><span id="0cc3" class="mt lw iq mp b gy my mv l mw mx">console.error(err);</span><span id="d2d6" class="mt lw iq mp b gy my mv l mw mx">process.exit(1); // Non-zero failure code</span><span id="d909" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="f77f" class="mt lw iq mp b gy my mv l mw mx">try {</span><span id="2bb4" class="mt lw iq mp b gy my mv l mw mx">console.log('Initializing web server module');</span><span id="58eb" class="mt lw iq mp b gy my mv l mw mx">await webServer.initialize();</span><span id="13f5" class="mt lw iq mp b gy my mv l mw mx">} catch (err) {</span><span id="3a32" class="mt lw iq mp b gy my mv l mw mx">console.error(err);</span><span id="639b" class="mt lw iq mp b gy my mv l mw mx">process.exit(1); // Non-zero failure code</span><span id="e969" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="9e29" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="7f36" class="mt lw iq mp b gy my mv l mw mx">startup();</span><span id="0a8b" class="mt lw iq mp b gy my mv l mw mx">async function shutdown(e) {</span><span id="ef49" class="mt lw iq mp b gy my mv l mw mx">let err = e;</span><span id="87ec" class="mt lw iq mp b gy my mv l mw mx">console.log('Shutting down');</span><span id="4fd6" class="mt lw iq mp b gy my mv l mw mx">try {</span><span id="af90" class="mt lw iq mp b gy my mv l mw mx">console.log('Closing web server module');</span><span id="9a60" class="mt lw iq mp b gy my mv l mw mx">await webServer.close();</span><span id="0408" class="mt lw iq mp b gy my mv l mw mx">} catch (e) {</span><span id="1658" class="mt lw iq mp b gy my mv l mw mx">console.log('Encountered error', e);</span><span id="331d" class="mt lw iq mp b gy my mv l mw mx">err = err || e;</span><span id="a166" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="129b" class="mt lw iq mp b gy my mv l mw mx">console.log('Exiting process');</span><span id="34fd" class="mt lw iq mp b gy my mv l mw mx">if (err) {</span><span id="a578" class="mt lw iq mp b gy my mv l mw mx">process.exit(1); // Non-zero failure code</span><span id="bd6f" class="mt lw iq mp b gy my mv l mw mx">} else {</span><span id="1929" class="mt lw iq mp b gy my mv l mw mx">process.exit(0);</span><span id="1506" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="1daa" class="mt lw iq mp b gy my mv l mw mx">}</span><span id="2f83" class="mt lw iq mp b gy my mv l mw mx">process.on('SIGTERM', () =&gt; {</span><span id="b2d9" class="mt lw iq mp b gy my mv l mw mx">console.log('Received SIGTERM');</span><span id="03d9" class="mt lw iq mp b gy my mv l mw mx">shutdown();</span><span id="76c5" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="f52b" class="mt lw iq mp b gy my mv l mw mx">process.on('SIGINT', () =&gt; {</span><span id="133f" class="mt lw iq mp b gy my mv l mw mx">console.log('Received SIGINT');</span><span id="fde1" class="mt lw iq mp b gy my mv l mw mx">shutdown();</span><span id="f70e" class="mt lw iq mp b gy my mv l mw mx">});</span><span id="589d" class="mt lw iq mp b gy my mv l mw mx">process.on('uncaughtException', err =&gt; {</span><span id="e656" class="mt lw iq mp b gy my mv l mw mx">console.log('Uncaught exception');</span><span id="dd05" class="mt lw iq mp b gy my mv l mw mx">console.error(err);</span><span id="2b54" class="mt lw iq mp b gy my mv l mw mx">shutdown(err);</span><span id="5620" class="mt lw iq mp b gy my mv l mw mx">});</span></pre><p id="2b8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望你现在已经开发了需要的文件。现在，电子邮件发送引擎已经准备好了！</p><p id="c351" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们运行程序:</p><p id="e6d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开一个终端，在项目文件夹中运行这个命令</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="c019" class="mt lw iq mp b gy mu mv l mw mx">node index.js</span></pre><p id="fe59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在浏览器中输入以下URL:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="183e" class="mt lw iq mp b gy mu mv l mw mx"><a class="ae kv" href="http://localhost:3000/api/sender" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/api/sender</a></span></pre><h1 id="60e6" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">摘要</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/a600caaa3fc2bb72bebe5fc67b462e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UX5kWXpmZzVP5B31"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jasonpofahlphotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jason Pofahl</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b5a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要从您的前端应用程序传递值，只需向api url发送一个HTTP POST请求—<a class="ae kv" href="http://localhost:3000/api/sender" rel="noopener ugc nofollow" target="_blank">HTTP://localhost:3000/API/sender</a>，然后电子邮件将立即被触发并发送。</p><p id="7b78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这个有帮助。如果您对指定的步骤有任何疑问，请在评论部分告诉我。谢谢你&amp;再见！！！</p></div></div>    
</body>
</html>