<html>
<head>
<title>Advanced ReactJS: Best Practices for React + Redux + Sagas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高级React js:React+Redux+Sagas的最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/another-react-tutorial-best-practices-for-react-redux-sagas-19d62851725?source=collection_archive---------1-----------------------#2018-08-15">https://javascript.plainenglish.io/another-react-tutorial-best-practices-for-react-redux-sagas-19d62851725?source=collection_archive---------1-----------------------#2018-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/11187c60ae99f7e97cec17f379fd7287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SsqoA_cPnZQZ-X6Bpbo-Ag.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">coffee for thought</figcaption></figure><p id="2532" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">首先，快速介绍一下什么是React。这是一个用于构建用户界面的JavaScript库。它一问世就改变了前端开发的格局。因此，如果你渴望成为一名前端web开发人员，学习React或Vue.js这样的库在当今的行业中几乎是必不可少的。如果你刚刚开始学习React，这里有一个很棒的教程。<a class="ae kx" href="https://reactjs.org/tutorial/tutorial.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/tutorial/tutorial.html</a>。</p><p id="f990" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我记得我开始学React的时候。我总是有一种焦虑的感觉，我永远无法学会我需要的一切，不断变化的JavaScript语言笼罩着我的头，如果我做对了什么，我总是会问自己，这真的是最好的方法吗？在数百个在线教程、Youtube搜索和未喝完的(很可能是未洗过的)咖啡之后，我终于牢牢抓住了React试图将什么带入JavaScript表中。</p><p id="0c42" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">然而，我一直在努力寻找一个教程，将React的所有高级概念捆绑到一个紧凑的教程中。</p><p id="27a4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">此外，我记得当它们被用在一个大的源代码中时，我很难理解这些概念。这就是本文试图填补的空白。高级工具和概念嵌入到我们的简单应用程序中，这仅用于教程目的，如果你的应用程序不需要它们，你不应该使用这些概念。</p><p id="6d28" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">闲聊到此为止。我们来谈谈代码。从这个repo下载完成的代码，并按照自述文件，这样你就可以看到并感受到我们将要在这里构建什么。https://github.com/jelorivera08/react-starter-pack<a class="ae kx" href="https://github.com/jelorivera08/react-starter-pack" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ky"><img src="../Images/7c740ef47de87c11f8e0a77762ca6bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jz9n_GOxmeVEhoVtbP-TCw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Landing page of the app</figcaption></figure><p id="a0a3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">上面，您可以看到显示的计数状态和四个触发各自操作的按钮。他们的行为不言自明。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ld"><img src="../Images/f51a5bab2038de9ecc8b352ed0ebb98a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9MDTpjlFIGlzf1wmUvtpg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">selectors</figcaption></figure><p id="7335" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">转到计数器容器中的selectors.js文件，我们在这里处理的第一个高级概念是<strong class="kb io"> createSelector。</strong>通过查看代码，首先，const count变量使用state.get('count ')获取redux状态树内部的计数状态。</p><p id="edec" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">然后，我们使用上述方法创建一个选择器。这个<strong class="kb io"> </strong>帮助我们格式化从redux状态树中接收到的状态/数据，通过这样做，我们节省了大量时间来编写新的函数，这些函数处理状态重构或格式化目标状态，每次我们需要它来在前端呈现一些东西。在这个例子中，我没有改变我收到的状态。我只是出于演示的目的返回了普通状态。</p><p id="27ea" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">然后，结果函数将在mapStateToProps内部使用，对于mapStateToProps，接下来要配置的自然是mapDispatchToProps。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi le"><img src="../Images/1a20347b4fe61da623e466ab57ca6d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZPhuOY7GDhlN7mDAwpBEhg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">create actions</figcaption></figure><p id="b32e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">每当调度reducer动作时，我们总是必须向reducer声明它的类型和相应的开关情况，reducer稍后将进入这个状态，以便改变应用程序的状态。有了reduxsauce的createActions包，我们可以一石二鸟。为了从这个包中充分受益，我们还应该用reduxsauce格式化reducer。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lf"><img src="../Images/e3f6500899e309061746093ef7468b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IeMZsw0wajXZwGLzzvMN2A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">reducer</figcaption></figure><p id="c791" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">以上是我们app的减压器。初始状态被fromJS API封装在不可变的包中，随着包名的应用，它保护初始状态不被改变。React对这一概念非常严格，因此请始终牢记这一点。reduxsauce中的createReducer API有两个参数。</p><p id="9aae" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">第一，初始状态。第二，对象拥有动作类型和值的键，一旦类型匹配调度调用，reducer将触发这个函数。然后，Merge会相应地更改redux状态树。现实生活中没有不知道如何处理异步API调用的应用程序，对吗？没错。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lg"><img src="../Images/28055cf89b28859c7112f00c2a688665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_Fuk5lWdlAVxPNSWMz0nQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">redux saga</figcaption></figure><p id="b4cc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是我们节目的传奇部分。一切都是一样的，除了我们称呼自己行为的方式。我们利用之前创建的类型动作，并在我们的watcher saga中使用它们，以便调度异步调用，这将在稍后影响我们的redux状态树。</p><p id="27cd" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">延迟是为了模拟网络延迟，以获得更好的应用异步体验。哦，最后，让我们确保不要忘记性能。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lh"><img src="../Images/900b72e1de8339a184f8980ba10ca38e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3WtLiOSdXR5ikzBi-SCZA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">code splitting</figcaption></figure><p id="b1d9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">代码分割是提高web应用程序性能的一个很好的方法。JavaScript代码对用户数据的影响最大。请记住，通过代码拆分，最终用户只需下载数据消耗效率所需的部分代码。</p><h2 id="f876" class="li lj in bd lk ll lm dn ln lo lp dp lq kk lr ls lt ko lu lv lw ks lx ly lz ma bi translated"><strong class="ak">总之，</strong></h2><p id="7d93" class="pw-post-body-paragraph jz ka in kb b kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw ig bi translated">有很多软件包和工具可以帮助我们，软件工程师创建一个更干净和更有效的代码。这是有代价的，理解底层系统的代价，那就是<em class="mg">在React中的思考。</em></p><p id="f519" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">学习React需要你将你的编码范式转变成一种与以前前端编码思维模式大不相同的范式。我在本文中讨论的工具和软件包概括了在React中漂亮而高效地编码所需的那些原则，这就是优秀开发人员的素质。</p><p id="b8f9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="mg">总是一些小事。</em></p><p id="a864" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">至此，我希望我已经通过这篇小文章帮助您加深了对React的理解。干杯！</p></div></div>    
</body>
</html>