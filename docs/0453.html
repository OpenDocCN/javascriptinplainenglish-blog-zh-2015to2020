<html>
<head>
<title>Learn JavaScript Reduce in 10 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟学会JavaScript Reduce</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/learn-javascript-reduce-in-10-minutes-495cc64635c3?source=collection_archive---------7-----------------------#2019-10-17">https://javascript.plainenglish.io/learn-javascript-reduce-in-10-minutes-495cc64635c3?source=collection_archive---------7-----------------------#2019-10-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3f14" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">希望这能减少JavaScript中reduce函数的混乱。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8afe5368425527ff72d36ce0d5ee9b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IQJd4VqUwiSjSjx9.png"/></div></div></figure><p id="86c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我学习和教授JavaScript的经验中，<code class="fe ln lo lp lq b">reduce</code>是最难攻克的概念之一。在这篇文章中，我将尝试解决一个核心问题…</p><blockquote class="lr ls lt"><p id="ff8e" class="kr ks lu kt b ku kv jr kw kx ky ju kz lv lb lc ld lw lf lg lh lx lj lk ll lm ij bi translated">什么是<code class="fe ln lo lp lq b">reduce</code>，为什么这么叫？</p></blockquote><h1 id="9b5c" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">Reduce有很多名字</h1><p id="76be" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">根据维基百科的说法，其中一些人<a class="ae mv" href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)" rel="noopener ugc nofollow" target="_blank">是</a></p><ul class=""><li id="b76b" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nb nc nd ne bi translated">减少</li><li id="7afc" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">折叠</li><li id="cb74" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">积聚</li><li id="eb6d" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">总计</li><li id="1865" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">压缩</li></ul><p id="d9c5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">都在暗示核心思想。这就是把一个结构分解成一个单一的值。</p><blockquote class="lr ls lt"><p id="66f9" class="kr ks lu kt b ku kv jr kw kx ky ju kz lv lb lc ld lw lf lg lh lx lj lk ll lm ij bi translated">Reduce将列表折叠成任何数据类型的函数。</p></blockquote><p id="f859" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就像叠盒子一样！用<code class="fe ln lo lp lq b">reduce</code>你可以把一个数组<code class="fe ln lo lp lq b">[1,2,3,4,5]</code>加起来变成数字<code class="fe ln lo lp lq b">15</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/6b8d46f32380ba53e1a9a42a5d63b896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pme39g1aQk5K7Lhm.gif"/></div></div></figure><h2 id="1801" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">老式的方法</h2><p id="dcf0" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">通常你需要一个循环来将一个列表“折叠”成一个数字。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="d7ab" class="nl lz iq lq b gy ob oc l od oe">const add = (x, y) =&gt; x + y;<br/>const numbers = [1, 2, 3, 4, 5];<br/>let total = 0;</span><span id="d58f" class="nl lz iq lq b gy of oc l od oe">for (let i = 0; i &lt; numbers.length; i++) {<br/>  total = add(total, numbers[i]);<br/>}</span><span id="0f07" class="nl lz iq lq b gy of oc l od oe">console.log(total); // 15</span></pre><h2 id="8a0d" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">酷小孩的方式</h2><p id="2d07" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">但是用<code class="fe ln lo lp lq b">reduce</code>你可以插入你的<code class="fe ln lo lp lq b">add</code>函数，循环就为你处理了！</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="56a1" class="nl lz iq lq b gy ob oc l od oe">const add = (x, y) =&gt; x + y;<br/>const numbers = [1, 2, 3, 4, 5];</span><span id="f58a" class="nl lz iq lq b gy of oc l od oe">numbers.reduce(add);<br/>// 15</span></pre><p id="a198" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你实际上是把1-5折起来得到15。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/39d2aea440f31f702f33097ddb43a0e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*32G_bCgAi8L8ZsQ6.gif"/></div></div></figure><h1 id="2b40" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">三巨头</h1><p id="38fb" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">在深入研究之前，我认为有必要分析一下<code class="fe ln lo lp lq b">reduce</code>和它著名的同伴<code class="fe ln lo lp lq b">map</code>和<code class="fe ln lo lp lq b">filter</code>。它们大大盖过了<code class="fe ln lo lp lq b">reduce</code>，让它看起来像是一群人中的怪人。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/9c7ce6fc370c3686c98835a512306489.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*oD3QxxaOjq4kU18I.jpeg"/></div></figure><p id="a459" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">尽管它们各自都很受欢迎，但是将这三个巨头结合起来，你就可以随心所欲地操纵列表了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/951ba69f8a54b115ef2a929577d55f32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*34lsfw1bxH4QKq_E.jpeg"/></div></figure><p id="e989" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">暂时迁就我一下，假装JavaScript不能使用循环、递归或数组方法，如<code class="fe ln lo lp lq b">forEach</code>、<code class="fe ln lo lp lq b">some</code>、<code class="fe ln lo lp lq b">find</code>等。剩下的只有三个<code class="fe ln lo lp lq b">map</code>、<code class="fe ln lo lp lq b">filter</code>和<code class="fe ln lo lp lq b">reduce</code>。</p><p id="5024" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，我们作为程序员的工作并没有改变。我们的应用程序仍然需要三种类型的功能。</p><ol class=""><li id="28c7" class="mw mx iq kt b ku kv kx ky la my le mz li na lm oh nc nd ne bi translated">转换列表</li><li id="f331" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">过滤列表</li><li id="2f34" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">将列表转换成其他数据类型(数字、字符串、布尔值、对象等)。</li></ol><p id="0026" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们看看我们仅有的工具——<code class="fe ln lo lp lq b">map</code>、<code class="fe ln lo lp lq b">filter</code>、<code class="fe ln lo lp lq b">reduce</code>——如何应对这一挑战。</p><h2 id="daed" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">✅数组. map转换列表</h2><p id="75ec" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">简而言之，将列表转换成其他列表是前端开发。因此<code class="fe ln lo lp lq b">map</code>涵盖了你清单上的大部分工作。</p><p id="2f60" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">假设我们的应用程序调用一个API来获取用户列表，我们需要在屏幕上显示每个用户的名字。简单地创建一个函数，返回一个用户名。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="236a" class="nl lz iq lq b gy ob oc l od oe">const getUserName = (user) =&gt; user.name;</span></pre><p id="9752" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">并将其插入到<code class="fe ln lo lp lq b">map</code>中，对整个用户列表运行。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="1d49" class="nl lz iq lq b gy ob oc l od oe">users.map(getUserName);<br/>// ['Marie', 'Ken', 'Sara', 'Geoff', ...]</span></pre><h2 id="5442" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">✅数组.过滤评委名单</h2><p id="b98e" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">如果您想要一个删除了某些项目的新列表，比如当用户搜索他们的联系人列表时，该怎么办？简单地创建一个函数，根据它的输入返回<code class="fe ln lo lp lq b">true</code>或<code class="fe ln lo lp lq b">false</code>(一个谓词)。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="2904" class="nl lz iq lq b gy ob oc l od oe">const isEven = (x) =&gt; x % 2 === 0;</span></pre><p id="26df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">并将其插入到<code class="fe ln lo lp lq b">filter</code>中以应用于整个列表。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="3a29" class="nl lz iq lq b gy ob oc l od oe">const numbers = [1, 2, 3, 4, 5];<br/>numbers.filter(isEven);<br/>// [2, 4]</span></pre><h2 id="fc59" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">✅ Array.reduce实现了所有这些功能，甚至更多</h2><p id="2b98" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">当<code class="fe ln lo lp lq b">map</code>和<code class="fe ln lo lp lq b">filter</code>还不够的时候，你就要引进大炮。<code class="fe ln lo lp lq b">reduce</code>方法可以做<code class="fe ln lo lp lq b">map</code> / <code class="fe ln lo lp lq b">filter</code>所做的事情，以及任何涉及数组循环的事情。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/a4e23fffde970ab1bc62dea5dbe504c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*3LDpGlqtfpdXYnGf.png"/></div></figure><p id="4515" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，你如何计算用户的总年龄？我们用户的年龄是25、22、29和30岁。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="27c1" class="nl lz iq lq b gy ob oc l od oe">const users = [<br/>  { name: 'Marie', age: 25 },<br/>  { name: 'Ken', age: 22 },<br/>  { name: 'Sara', age: 29 },<br/>  { name: 'Geoff', age: 30 }<br/>];</span></pre><p id="fad3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">map</code>和<code class="fe ln lo lp lq b">filter</code>只能返回数组，但是我们需要一个<code class="fe ln lo lp lq b">number</code>！</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="9d09" class="nl lz iq lq b gy ob oc l od oe">users.map(?);<br/>users.filter(?);</span><span id="3fd8" class="nl lz iq lq b gy of oc l od oe">// Nope! I need a number, not arrays.</span></pre><p id="2a0e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们有循环，我们只需遍历<code class="fe ln lo lp lq b">users</code>并在计数器中记录它们的年龄！如果我告诉你用<code class="fe ln lo lp lq b">reduce</code>会更容易呢？</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="b5d2" class="nl lz iq lq b gy ob oc l od oe">users.reduce((total, currentUser) =&gt; total + currentUser.age, 0);<br/>// 106</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/20931c2714b63c20580ff0b2a619b06c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/0*Z9gSMPe9eRJsIPAx.jpeg"/></div></figure><h1 id="c528" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">注销它</h1><p id="37e2" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">我认为最简单的消化方法是在每一步都<code class="fe ln lo lp lq b">console.log</code>。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="e952" class="nl lz iq lq b gy ob oc l od oe">const users = [<br/>  { name: 'Marie', age: 25 },<br/>  { name: 'Ken', age: 22 },<br/>  { name: 'Sara', age: 29 },<br/>  { name: 'Geoff', age: 30 }<br/>];</span><span id="bac5" class="nl lz iq lq b gy of oc l od oe">const reducer = (total, currentUser) =&gt; {<br/>  console.log('current total:', total);<br/>  console.log('currentUser:', currentUser);</span><span id="4334" class="nl lz iq lq b gy of oc l od oe">  // just for spacing<br/>  console.log('\n');</span><span id="aa51" class="nl lz iq lq b gy of oc l od oe">  return total + currentUser.age;<br/>};</span><span id="6d4a" class="nl lz iq lq b gy of oc l od oe">users.reduce(reducer, 0);</span></pre><p id="d8b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是Chrome DevTools的截图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/fdad82dc1b69bb7534081b5240037489.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ytcAQIBMhuPQg6JK.png"/></div></div></figure><h1 id="1ff2" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">将它分解</h1><p id="8a62" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">正如您刚才看到的，<code class="fe ln lo lp lq b">Array.reduce</code>有两个参数。</p><ol class=""><li id="0087" class="mw mx iq kt b ku kv kx ky la my le mz li na lm oh nc nd ne bi translated">该减速器</li><li id="f6aa" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">初始值(可选)</li></ol><p id="1497" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">减速器是做所有功的函数。当<code class="fe ln lo lp lq b">reduce</code>遍历你的列表时，它向你的reducer提供两个参数。</p><ol class=""><li id="8d3b" class="mw mx iq kt b ku kv kx ky la my le mz li na lm oh nc nd ne bi translated">累加器</li><li id="91d1" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">当前值</li></ol><p id="b73f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当前值是不言自明的，就像在常规循环中使用<code class="fe ln lo lp lq b">array[i]</code>一样。然而，累加器是一个听起来很恐怖的计算机科学术语，实际上很简单。</p><h2 id="63c9" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">累加器是最终的返回值</h2><p id="a08b" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">当你循环浏览<code class="fe ln lo lp lq b">users</code>时，你是如何记录他们的总年龄的？你需要一些计数器变量来保存它。那是蓄电池。这是最终的值<code class="fe ln lo lp lq b">reduce</code>完成后会吐出来。</p><p id="a8c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在循环中的每一步，它都会将最后一个累加器和当前项输入到缩减器中。缩减器返回的内容将成为下一个累加器。当列表完成时，循环结束，并且您有一个减少的值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/475f27619948c27b5a99d3565630231d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EmPI_dV8dAetDmcK.png"/></div></div></figure><h2 id="79ee" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">初始值是可选的</h2><p id="76ee" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated"><code class="fe ln lo lp lq b">reduce</code>的第二个参数是初始值。如果您不提供它，<code class="fe ln lo lp lq b">reduce</code>默认为列表的第一个元素。</p><p id="e0a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你对简单的数字求和，这是没问题的。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="a713" class="nl lz iq lq b gy ob oc l od oe">[1, 2, 3].reduce((total, current) =&gt; total + current);<br/>// 6</span></pre><p id="1a1a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是如果你使用一个对象或者数组，它就坏了，因为你不应该把这些东西加起来。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="75bc" class="nl lz iq lq b gy ob oc l od oe">[{ age: 1 }, { age: 2 }, { age: 3 }].reduce((total, obj) =&gt; total + obj.age);</span><span id="02cb" class="nl lz iq lq b gy of oc l od oe">// [object Object]23<br/>// Broken result, use an initial value.</span></pre><p id="0eda" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这种情况下，你应该给出<code class="fe ln lo lp lq b">0</code>的初始值。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="7040" class="nl lz iq lq b gy ob oc l od oe">[{ age: 1 }, { age: 2 }, { age: 3 }].reduce((total, obj) =&gt; total + obj.age, 0);</span><span id="e29b" class="nl lz iq lq b gy of oc l od oe">// 6<br/>// Initial value fixes it.<br/>// 0 + 1 + 2 + 3 = 6</span></pre><h1 id="00d7" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">让我们重新创建Reduce</h1><blockquote class="lr ls lt"><p id="a61d" class="kr ks lu kt b ku kv jr kw kx ky ju kz lv lb lc ld lw lf lg lh lx lj lk ll lm ij bi translated">我无法创造的东西，我不明白——理查德·费曼</p></blockquote><p id="b0fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">希望到目前为止我已经帮到你了。现在是时候写自己的<code class="fe ln lo lp lq b">reduce</code>函数来真正锤这个家了。</p><p id="95d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个函数有三个参数。</p><ol class=""><li id="68ad" class="mw mx iq kt b ku kv kx ky la my le mz li na lm oh nc nd ne bi translated">减速器</li><li id="5820" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">初始值</li><li id="78cd" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">要操作的数组</li></ol><p id="3162" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于本演示，初始值不是可选的。</p><pre class="kg kh ki kj gt nx lq ny nz aw oa bi"><span id="fecf" class="nl lz iq lq b gy ob oc l od oe">const reduce = (reducer, initialValue, array) =&gt; {<br/>  let accumulator = initialValue;</span><span id="b2c0" class="nl lz iq lq b gy of oc l od oe">  for (let i = 0; i &lt; array.length; i++) {<br/>    const currentItem = array[i];<br/>    accumulator = reducer(accumulator, currentItem);<br/>  }</span><span id="9ec9" class="nl lz iq lq b gy of oc l od oe">  return accumulator;<br/>};</span></pre><p id="62b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">令人惊讶的仅仅10行代码，6个关键步骤。我一个一个去。</p><ol class=""><li id="a151" class="mw mx iq kt b ku kv kx ky la my le mz li na lm oh nc nd ne bi translated">定义<code class="fe ln lo lp lq b">reduce</code>及其三个参数。</li><li id="d296" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用提供的<code class="fe ln lo lp lq b">initialValue</code>初始化<code class="fe ln lo lp lq b">accumulator</code>。这个变量将改变每个循环。</li><li id="1e78" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">开始遍历数组。</li><li id="cd18" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">为该周期捕获数组的<code class="fe ln lo lp lq b">currentItem</code>。</li><li id="748e" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">用<code class="fe ln lo lp lq b">accumulator</code>和<code class="fe ln lo lp lq b">currentItem</code>调用<code class="fe ln lo lp lq b">reducer</code>，保存为新的<code class="fe ln lo lp lq b">accumulator</code>。</li><li id="7e8b" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">当循环结束且<code class="fe ln lo lp lq b">accumulator</code>完成更改时，将其返回。</li></ol><h1 id="ad97" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">杂项历史</h1><p id="c30c" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">我想谈论更多关于<code class="fe ln lo lp lq b">reduce</code>和减速器的历史，但不太确定在哪里适合它。尽管如此，它非常有趣！</p><h2 id="ed46" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">减速器是古老的</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/0a94fcaa6bcc4b50b332e16d0af59f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/0*omqo6JjTbv7VIPYd.jpeg"/></div></figure><p id="e2d8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Redux 让reducers对JavaScript开发者来说很酷，但它并没有发明它们。实际上不清楚是谁创造了这个术语，但我找到了一些参考资料。</p><h2 id="9fba" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">递归理论(1952年)</h2><p id="e3bb" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated"><a class="ae mv" href="https://www.amazon.com/Introduction-Metamathematics-Stephen-Cole-Kleene/dp/0923891579" rel="noopener ugc nofollow" target="_blank">1952年的这本书</a>从元数学的角度讨论了<code class="fe ln lo lp lq b">reduce</code>，称其为<code class="fe ln lo lp lq b">fold</code>。</p><h2 id="5455" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">Lisp程序员手册(1960年)</h2><p id="16a4" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">1960年的<a class="ae mv" href="https://kyber.io/rawvids/LISP_I_Programmers_Manual_LISP_I_Programmers_Manual.pdf" rel="noopener ugc nofollow" target="_blank"> Lisp程序员手册</a>中有一节是关于<code class="fe ln lo lp lq b">reduce</code>功能的。</p><h2 id="d83d" class="nl lz iq bd ma nm nn dn me no np dp mi la nq nr mk le ns nt mm li nu nv mo nw bi translated">函数式编程导论(1988)</h2><p id="3b8b" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">1988年的这本书讲述了如何使用<code class="fe ln lo lp lq b">reduce</code>将列表转换成其他值。</p><p id="a674" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">底线——这是一个老话题。你对计算机科学研究得越多，你就越会意识到我们大多是在重新包装几十年前发现的概念。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><h1 id="45b7" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">给你的练习</h1><p id="9942" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">由于时间关系，我们到此结束。然而，我希望我至少已经暗示过<code class="fe ln lo lp lq b">reduce</code>不仅仅是数字的相加，它非常强大和有用。</p><p id="24ba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你有兴趣，试试这些练习，稍后给我发消息。我可能会写一篇关于他们的后续文章。</p><ol class=""><li id="8426" class="mw mx iq kt b ku kv kx ky la my le mz li na lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>重新实现<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> Array.map </a>函数。</li><li id="3726" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>重新实现<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank">数组。过滤</a>函数。</li><li id="3066" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>重新实现<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some" rel="noopener ugc nofollow" target="_blank">数组。some </a>函数。</li><li id="fb6a" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>重新实现<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every" rel="noopener ugc nofollow" target="_blank">数组. every </a>函数。</li><li id="bb61" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>重新实现<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" rel="noopener ugc nofollow" target="_blank">数组。find </a>函数。</li><li id="9088" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>重新实现<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noopener ugc nofollow" target="_blank"> Array.forEach </a>函数。</li><li id="c728" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>将一个数组转换成一个对象。</li><li id="7ed2" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm oh nc nd ne bi translated">使用<code class="fe ln lo lp lq b">reduce</code>将2D阵列变成1D(平面)阵列。</li></ol><h1 id="4406" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">想要免费辅导？</h1><p id="92c5" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">如果你想安排一次15-30分钟的免费通话，讨论有关代码、面试、职业或任何其他方面的前端开发问题<a class="ae mv" href="https://twitter.com/yazeedBee" rel="noopener ugc nofollow" target="_blank">请在Twitter上关注我，并给我发短信</a>。</p><p id="894d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">之后，如果你喜欢我们的第一次会议，我们可以讨论一个持续的教练关系，这将有助于你达到你的前端发展目标！</p><h1 id="d901" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">感谢阅读</h1><p id="7e35" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">更多类似的内容，请查看https://yazeedb.com。</p><p id="5971" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下次见！</p></div></div>    
</body>
</html>