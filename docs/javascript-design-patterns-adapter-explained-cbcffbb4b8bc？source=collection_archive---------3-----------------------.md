# JavaScript è®¾è®¡æ¨¡å¼:é€‚é…å™¨æ¨¡å¼

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/javascript-design-patterns-adapter-explained-cbcffbb4b8bc?source=collection_archive---------3----------------------->

![](img/269e89fbb96d53df488520f6a027f99a.png)

Cover picture by Arthur Frank

# å¿«é€Ÿä»‹ç»

è¿™æ˜¯æˆ‘è®¡åˆ’æ’°å†™çš„å…³äº JavaScript è®¾è®¡æ¨¡å¼çš„ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡ã€‚è¿™æ¬¡æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨é€‚é…å™¨æ¨¡å¼ã€‚è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•ä½†éå¸¸å¼ºå¤§ä¸”è¢«ä½ä¼°çš„æ¨¡å¼ã€‚

æˆ‘ä»¬å°†å°è¯•å›ç­”å‡ ä¸ªå…³é”®é—®é¢˜ï¼Œå¹¶çœ‹ä¸€ä¸ªå¦‚ä½•åœ¨ JavaScript åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨é€‚é…å™¨çš„ä¾‹å­ã€‚

# ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ

![](img/5ad09499d82c240f72e9115cb3186e3f.png)

æ€»çš„æƒ³æ³•å¬èµ·æ¥å¾ˆç®€å•ã€‚æ¨¡å¼æ˜¯æŸç§äº‹ç‰©ä¸æ­¢ä¸€æ¬¡çš„é‡å¤ã€‚è™½ç„¶å¯¹äºè½¯ä»¶è®¾è®¡æ¨¡å¼æ¥è¯´ï¼Œè¿™æœ‰ç‚¹æ£˜æ‰‹ï¼Œä½†æ˜¯é‡å¤çš„ä¸»è¦æ¦‚å¿µä»ç„¶é€‚ç”¨ã€‚

å¦‚æœæˆ‘ä»¬è¯•ç€ç”¨ä¸€å¥è¯æ¥æ€»ç»“å®ƒï¼Œå¬èµ·æ¥ä¼šåƒè¿™æ ·-

> è½¯ä»¶è®¾è®¡æ¨¡å¼æ˜¯å¯¹é‡ç°é—®é¢˜çš„é€šç”¨è§£å†³æ–¹æ¡ˆ

åœ¨è¿‡å»çš„å‡ åå¹´é‡Œï¼Œäººä»¬å»ºç«‹äº†ä¸€å¤§å †ä¸åŒçš„è®¾è®¡æ¨¡å¼ã€‚æˆ‘æ€ä¹ˆå¼ºè°ƒéƒ½ä¸ä¸ºè¿‡ï¼Œè¿™äº›æ¨¡å¼ä¸­çš„å¤§å¤šæ•°å°†ä¼šç®€åŒ–ä½ çš„ç¼–ç ç”Ÿæ´»ã€‚ç®€ç›´ä¸å¯æ€è®®ã€‚ä¸€æ—¦ä½ è‡³å°‘æŒæ¡äº†å…¶ä¸­çš„ä¸€äº›ï¼Œä½ ä¼šè§‰å¾—ä½ åœ¨ç”¨å®Œå…¨ä¸åŒçš„è¯­è¨€ç¼–ç ã€‚

æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ å¯ä»¥æƒ³è±¡ä¸€ä¸ªåˆšåˆšè·å¾—é©¾é©¶æ‰§ç…§çš„æ–°æ‰‹å¸æœºï¼Œä»–æˆ–å¥¹çŸ¥é“å¦‚ä½•é©¾é©¶ï¼Œä½†æ•ˆç‡ä¸é«˜ï¼Œç»å¸¸åˆ¹è½¦ï¼Œå› ä¸ºå¸æœºæ¯æ¬¡åŠ é€Ÿæ—¶éƒ½è¿‡äºç”¨åŠ›åœ°è¸©ç¦»åˆå™¨ï¼Œæˆ–è€…åœ¨ä¸‹å¡æ—¶è¸©é”™åˆ¹è½¦ã€‚çªç„¶ï¼Œå¸æœºæœ‰äº†ä¸€ä¸ªâ€œå•Šå“ˆæ—¶åˆ»â€â€”â€”å¦‚æœæˆ‘æ¯æ¬¡ä¸‹å¡æ—¶éƒ½ä½¿ç”¨æˆ‘çš„é½¿è½®æ¥è¾…åŠ©æˆ‘çš„ä¼‘æ¯ï¼Œè¿™å°†æœ‰åŠ©äºèŠ‚çœè¡¬å«ï¼Œä»¥åŠæˆ‘çš„è½¦çš„æ•´ä½“å¥åº·ã€‚

æœ¬èŠ‚çš„æ€»ç»“æ˜¯â€”â€”è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æ‚¨ä¿æŒä»£ç é«˜æ•ˆã€å¥åº·ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚

# JavaScript å’Œè®¾è®¡æ¨¡å¼

![](img/3a5ae149bf0fab4d99d6cbc58f113a77.png)

Photo by [Ã‰mile Perron](https://unsplash.com/@emilep?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

å¦‚ä½ æ‰€çŸ¥ï¼ŒJavaScript ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ç›¸æ¯”æœ‰ä¸€ç‚¹ä¸åŒï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬è°ˆåˆ°é¢å‘å¯¹è±¡æ—¶ã€‚å®ƒæœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œåˆ©å¼Šã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åˆ—å‡ºæœ€å¸¸è§çš„é—®é¢˜ï¼Œå®ƒä»¬å°†æ˜¯â€”â€”ç¼ºä¹ä¸¥æ ¼çš„ç±»å‹å’Œæ²¡æœ‰é¢å‘å¯¹è±¡çš„å¯é /æˆç†Ÿçš„æ”¯æŒã€‚

ç”±äºæˆ‘ä»¬ä¸Šé¢æåˆ°çš„å“è´¨ï¼Œè®¸å¤šäººè®¤ä¸ºè®¾è®¡æ¨¡å¼ä¸é€‚åˆ JavaScriptã€‚å·¥ç¨‹å¸ˆåªæ˜¯å¿½ç•¥å®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬ä¸â€œé€‚ç”¨â€ã€‚

ä½†æ˜¯ï¼Œä¸è¦å¿˜è®°ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†æ˜¯ä»€ä¹ˆä½¿å¾—è®¾è®¡æ¨¡å¼å¦‚æ­¤ã€‚è¿™åªæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå…³äºä½ å¦‚ä½•è®¾è®¡ä½ çš„åº”ç”¨ç¨‹åºä»£ç ã€‚å¦‚æœä½ ä¸èƒ½åƒä¹¦ä¸­æè¿°çš„é‚£æ ·åˆ©ç”¨æ•´ä¸ªæ¨¡å¼ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ä½ ä¸èƒ½å……åˆ†åˆ©ç”¨å®ƒå¹¶é€‚åº”å®ƒï¼Œå¯¹å—ï¼Ÿ

# JavaScript ä¸­çš„é€‚é…å™¨æ¨¡å¼

![](img/4259bb4c78166cb2854b4f467f129817.png)

Photo by [Frederick Tubiermont](https://unsplash.com/@callmefred?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

åœ¨æˆ‘ä»¬æ·±å…¥ JavaScript ä¸­çš„é€‚é…å™¨æ¨¡å¼ç¤ºä¾‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸‹å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆã€‚ä½ å¯èƒ½ä»ä¸€ä¸ªçœŸå®çš„å®¶åº­ä¸–ç•Œä¸­çŸ¥é“ï¼Œé€‚é…å™¨ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šä¸èƒ½ç”¨åŸå§‹æ’åº§è¿æ¥çš„ä¸œè¥¿ã€‚æ¯”å¦‚è‹±å›½æ’å¤´ä¸èƒ½å’Œæ¬§æ´²æ’åº§ä¸€èµ·ä½¿ç”¨ï¼Œæ‰€ä»¥ä½ éœ€è¦ä¸€ä¸ªé€‚é…å™¨ã€‚è¿™åŒæ ·é€‚ç”¨äºç¼–ç¨‹â€”é€‚é…å™¨æ¨¡å¼ã€‚

ä½†æ˜¯ï¼Œè¯€çªåœ¨äºï¼Œæ‚¨å¿…é¡»ç¡®å®šæŸä¸ªä¸œè¥¿éœ€è¦ä¸€ä¸ªé€‚é…å™¨ã€‚å› ä¸ºä½ å¯èƒ½çŸ¥é“ï¼Œå¦‚æœä½ æœ‰ç¼–ç ç»éªŒï¼Œç‰¹åˆ«æ˜¯ JavaScriptï¼Œäººä»¬å€¾å‘äºåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ä»»ä½•ä¸œè¥¿ã€‚æœ€ç»ˆï¼Œä»£ç åº“è¢«ç¬¬ä¸‰æ–¹ä¾èµ–é¡¹å’Œæ²¡æœ‰ä»»ä½•æ ‡å‡†çš„æ„å¤§åˆ©é¢æ¡ä»£ç æå¾—ä¸€å›¢ç³Ÿã€‚

é€‚é…å™¨æ˜¯ä¸€ç§ç»“æ„åŒ–è®¾è®¡æ¨¡å¼ï¼Œå› æ­¤å®ƒå¯ä»¥æå¤§åœ°æé«˜ä»£ç çš„è´¨é‡å’Œå¯ä¼¸ç¼©æ€§ã€‚æˆ‘å°†é€šè¿‡ä¸¤ä¸ªä¾‹å­è§£é‡Šå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„â€”â€”ç®€å•çš„å›¾è¡¨å’Œç®€å•çš„ä»£ç å®ç°ã€‚

## é€‚é…å™¨æ¨¡å¼â€”ç®€å•å›¾è¡¨

è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰é€‚é…å™¨çš„ç®€å•å›¾è¡¨ã€‚æ©™è‰²ä»£è¡¨æ‰€æœ‰ä¸å±äºä½ æˆ–ä¸ç¬¦åˆä½ æ ‡å‡†çš„ä»£ç ã€‚å¦‚æ‚¨æ‰€è§ï¼Œå®ƒä¸æ‚¨çš„ä¸»ä»£ç ç´§å¯†è€¦åˆã€‚æœ€ç»ˆï¼Œå®ƒä¼šåˆ›å»ºæ··ä¹±ä¸”ä¸å¯ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºä»£ç åº“ã€‚

![](img/fda05ac140ce91a67104f708cc6b8469.png)

Diagram without adapter | Author A. Frank

**ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹é€‚é…å™¨çš„ä¾‹å­ã€‚å¦‚ä½ æ‰€è§ï¼Œå®ƒå……å½“äº†æŸç§è¿‡æ»¤å™¨æˆ–æ¼æ–—ã€‚é€‚é…å™¨æ¶ˆè€—æ‰€æœ‰æ—§çš„æˆ–ç¬¬ä¸‰æ–¹ä»£ç ï¼Œåªè¾“å‡ºæ‚¨çš„ä»£ç éœ€è¦å’ŒæœŸæœ›çš„å†…å®¹ã€‚**

![](img/ae3b84e486fef2a0b6fddf23d492c18c.png)

Diagram with adapter | Author A. Frank

é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥æ§åˆ¶é€šè¿‡è‡ªå·±çš„æ¥å£å‘ä»£ç å…¬å¼€çš„å†…å®¹ï¼Œè¯¥æ¥å£ç¬¦åˆæ‚¨çš„æ ‡å‡†å¹¶ä¸”æ˜¯å¯ä¼¸ç¼©çš„ã€‚å¦‚æœä½ éœ€è¦ç”¨åˆ«çš„ä¸œè¥¿æ¥æ”¹å˜ç¬¬ä¸‰æ–¹æˆ–æ—§çš„ä»£ç å®ç°ï¼Œä½ æ‰€éœ€è¦çš„åªæ˜¯æ›´æ–°æˆ–æ”¹å˜é€‚é…å™¨ï¼Œä»£ç åº“çš„å…¶ä½™éƒ¨åˆ†å°†æ­£å¸¸å·¥ä½œã€‚å¤ªæ£’äº†ï¼Œä¸æ˜¯å—ï¼Ÿ

## é€‚é…å™¨æ¨¡å¼â€”ä»£ç ç¤ºä¾‹

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œéœ€è¦ç”Ÿæˆå¹¶ä½¿ç”¨`**uuid**` **(** é€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦**)ã€‚**æˆ‘ä»¬æœ‰`**index.js**` æ–‡ä»¶ï¼Œæˆ‘ä»¬å†³å®šé€šè¿‡`NPM` â€” uuid å®‰è£…ç¬¬ä¸‰æ–¹åº“ã€‚å› ä¸ºæˆ‘ä»¬ä¸æƒ³é‡æ–°å‘æ˜è½®å­ï¼Œå®ƒç›®å‰ä¼¼ä¹æ˜¯ä¸€ä¸ªåšå®çš„åº“ã€‚

æ—¢ç„¶æˆ‘ä»¬å·²ç»å®‰è£…äº†å®ƒï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨å®ƒï¼Œå°±åƒè¿™æ ·â€”

![](img/0227854fae1bc01c598dd6d0121ca236.png)

Code sample | A. Frank

å¦‚æœä½ çœ‹çœ‹è¿™ä¸ªä¾‹å­ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•°ç™¾ç”šè‡³æ•°åƒä¸ªæ–‡ä»¶çš„å¤§å‹é¡¹ç›®ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ä¸ªåº“å¯èƒ½ä¼šåœ¨å¦‚æ­¤å¤šçš„è„šæœ¬å’Œæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä»¥è‡³äºæ‚¨ä¼šä¸¢å¤±:

*   ä¿¡æ¯æŠ€æœ¯è·Ÿè¸ª(å›¾ä¹¦é¦†)
*   ç•Œé¢çš„æ§åˆ¶(æ‚¨ä½¿ç”¨ç”±åº“æ–¹æ³•æŒ‡å®šçš„)
*   å¯ä¼¸ç¼©æ€§å’Œå°†ä¸€ä¸ªå®ç°è½¬ç§»åˆ°å¦ä¸€ä¸ªå®ç°çš„èƒ½åŠ›

ä½ å¯èƒ½çŒœå¯¹äº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé€‚é…å™¨ã€‚

æˆ‘ä»¬èƒ½åšä»€ä¹ˆâ€”â€”åˆ›å»ºä¸€ä¸ªé¢å¤–çš„æ¥å£æ¥æ”¯æŒæˆ‘ä»¬çš„ä»£ç ï¼Œå¹¶éµå¾ªæˆ‘ä»¬çš„ä»£ç åº“æ ‡å‡†å’Œå‘½åçº¦å®šã€‚å‡è®¾æˆ‘ä»¬çš„ä»£ç åº“ä¸­æœ‰`**utils**/`æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ä¸ºæˆ‘ä»¬çš„`**uuid**`åº“åˆ›å»ºä¸€ä¸ªé€‚é…å™¨:

![](img/de6d760b1dd4c5768431400a5ca2531a.png)

Code sample | A. Frank

ç°åœ¨ï¼Œè¿™ä¸ªé€‚é…å™¨å°†æˆä¸ºæˆ‘ä»¬çš„ä»£ç ï¼Œç”±æˆ‘ä»¬æ§åˆ¶ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰å®ƒçš„ç»“æ„ï¼Œä»¥åŠå®ƒéµå¾ªçš„æ ‡å‡†ã€‚ä½†æ˜¯æœ€é‡è¦çš„æ˜¯**æˆ‘ä»¬ä¸ºç¬¬ä¸‰æ–¹åº“æˆ–ä»»ä½•å…¶ä»–æˆ‘ä»¬ä¸æƒ³æ³„éœ²åˆ°æˆ‘ä»¬çš„ä¸»ä»£ç ä¸­çš„ä»£ç æä¾›äº†å•ç‚¹æ³¨å…¥ã€‚**

æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„é€‚é…å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå¹¶ç¡®ä¿æˆ‘ä»¬çš„ä»£ç æ˜¯å¹²å‡€çš„å’Œå¯ä¼¸ç¼©çš„ã€‚å¦‚æœä¸‹ä¸€ä¸ª JQuery æƒ…å†µå‡ºç°ï¼Œå¯¹äºæ‚¨ä½¿ç”¨çš„åº“ï¼Œæ‚¨å°†åšå¥½å‡†å¤‡ã€‚ä½ å°†æ¯”åˆ«äººé¢†å…ˆå‡ æ­¥ï¼Œèƒ½å¤Ÿæ›´å®¹æ˜“åœ°è¿ç§»ã€åˆ‡æ¢æˆ–æ‰©å±•ä½ çš„ä»£ç ã€‚

![](img/0a8a5934a59e96c176127d6f83dca690.png)

Code sample | A. Frank

å·®ä¸å¤šå°±æ˜¯è¿™æ ·ï¼Œå°±åƒæˆ‘è¯´çš„ï¼Œéå¸¸ç®€å•ã€‚æˆ‘å¸Œæœ›æ‚¨å·²ç»äº†è§£äº†ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Œå¹¶ä¸”ç†è§£äº†ä¸è¦ä½ä¼°å®ƒå¹¶ç›¸åº”åœ°ä½¿ç”¨å®ƒçš„é‡è¦æ€§ã€‚

**å¿«ï¼Œä¸€å¥è¯æ€»ç»“ã€‚**

> é€‚é…å™¨æ¨¡å¼æ˜¯å¯¹è®¨åŒçš„æˆ–ç¬¬ä¸‰æ–¹ä»£ç çš„æŠ½è±¡ï¼Œä½ éœ€è¦åœ¨ä½ çš„ä¸»è¦å¹²å‡€çš„ä»£ç åº“ä¸­ã€‚

# æ€»ç»“

![](img/0cc33f9e17ca636c47e2737121b9ea1b.png)

Photo by [Hanny Naibaho](https://unsplash.com/@hannynaibaho?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

è°¢è°¢ä½ è¯»åˆ°è¿™ä¸€æ­¥ã€‚æˆ‘çœŸçš„å¸Œæœ›ï¼Œå¦‚æœä½ è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ å·²ç»è·å¾—äº†ä¸€äº›å¥½çš„è§è§£ï¼Œå¹¶æˆä¸ºæ›´å¥½çš„å·¥ç¨‹å¸ˆã€‚ç¥ä½ ç©å¾—æ„‰å¿«ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« å†è§ã€‚ğŸ”¥