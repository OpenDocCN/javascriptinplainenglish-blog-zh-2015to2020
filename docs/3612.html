<html>
<head>
<title>You should get used to Test Driven Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该习惯于测试驱动的开发</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/you-should-get-used-to-test-driven-development-fc1c6daac04b?source=collection_archive---------11-----------------------#2020-10-12">https://javascript.plainenglish.io/you-should-get-used-to-test-driven-development-fc1c6daac04b?source=collection_archive---------11-----------------------#2020-10-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5182" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">因为它会留在这里</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8def6c889d2c6dfb843aa65edee5cee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6wayl-bDgcrOeZ1I"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sctgrhm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Scott Graham</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3327" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我敢肯定，作为开发人员，我们都必须面对这样的情况:我们在生产中破坏了一些我们已经尽快用热修复程序修复的东西。我们能确定多少次这个热修复不会破坏任何其他功能？任何匆忙完成的事情都可能意味着我们错过了某个地方。如果有一个真正的过程，这可能意味着我们可以在很大程度上避免这一切呢？</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f605" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是TDD？</h1><p id="328a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">维基百科对TDD的定义是:</p><p id="1369" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mw">测试驱动开发(TDD)是一个</em> <a class="ae kv" href="https://en.wikipedia.org/wiki/Software_development_process" rel="noopener ugc nofollow" target="_blank"> <em class="mw">软件开发过程</em> </a> <em class="mw">依赖于一个非常短的开发周期的重复:需求被转化为非常具体的</em> <a class="ae kv" href="https://en.wikipedia.org/wiki/Test_case" rel="noopener ugc nofollow" target="_blank"> <em class="mw">测试用例</em> </a> <em class="mw">，然后代码被改进以使测试通过。</em></p><p id="f1ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简单地说，测试驱动开发就是我们首先编写测试用例，然后编写生产代码，以便传递最先编写的用例。这是软件开发中一种测试优先的方法，可以为我们节省很多最后一分钟的错误修复紧张。</p><p id="94eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了TDD，就不能保证臭虫再也不会发生了，只不过臭虫泄露出去的几率非常接近于零。有了TDD，您的应用程序的测试覆盖率也将显著提高，这给了您一个额外的优势，即生产错误更少。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7c67" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">TDD三定律</h1><p id="4f8c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我最近有机会读了罗伯特·马丁的书《干净的代码:敏捷软件工艺手册》，其中提到了TDD必须遵循的三条法则。我引述如下:</p><p id="ae56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第一定律</strong>——除非你写了一个失败的单元测试，否则你不能写生产代码。</p><p id="99f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第二定律— </strong>你写的单元测试可能不会多到足以失败的程度，不编译就是失败。</p><p id="0bdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第三定律</strong>——编写的产品代码不能超过通过当前测试的数量。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b617" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">TDD如何让您的生活变得轻松？</h1><p id="916d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">首先编写测试用例有太多的好处。让我们考虑一下大多数开发人员如何调试JavaScript代码。我们可能会写一段代码，然后在浏览器中重新加载来检查它。如果你遇到任何严重的错误，我们会检查控制台。JavaScript不会告诉我们大部分地方做错了什么，我们的超级英雄<code class="fe mx my mz na b">console.log</code>来拯救我们了。我确信是<code class="fe mx my mz na b">console.log</code>和浏览器开发工具拯救了每个前端开发人员的工作生活。在它按预期工作之前，我们大部分时间都在做——“更改-编译-重新加载”，重复时会有很多断点。想象一下，如果你不必为了检查你是否写对了一段代码而经历这一切，那该有多酷。在这种情况下，TDD可能是救生衣，可以帮助你避免淹没在错误的海洋中。</p><p id="8b7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用TDD，过程相当简单:</p><ol class=""><li id="2c72" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">您首先编写定义良好的测试用例</li><li id="543b" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">编写能够通过测试用例的代码</li><li id="ee67" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">如果测试用例失败，自信地重构你的代码</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/67cf92f2e26e44052aabbb0b79c1ccc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_E93esNqep_6LDdrJfq3Pw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image from Codica’s <a class="ae kv" href="https://www.codica.com/blog/test-driven-development-benefits/" rel="noopener ugc nofollow" target="_blank">post</a></figcaption></figure><p id="94a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">遵循这些简单的步骤，你会有很多好处。你可以节省大量的开发时间。你更了解你的工作范围。你的产品知识也会变得更好，因为你不需要进入如何编码和编码什么的细节，你有足够的时间去理解和编写你的工作成果。当你首先编写测试用例时，它也更像是一个文档化的规范。如果你的测试用例失败了，它会给你一个详细的错误报告，包括实际输出和预期输出的细节。</p><p id="5bb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设你团队中的某个人试图扩展相同的特性，当你的测试用例总是支持你的时候，破坏你已经写好并定义好的代码的可能性有多大？这可能意味着不仅为您，而且为您的整个团队和整个软件开发过程节省了大量时间。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6cf8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">TDD的好处</h1><ol class=""><li id="57b3" class="nb nc iq ky b kz mr lc ms lf nq lj nr ln ns lr ng nh ni nj bi translated">提高测试覆盖率</li><li id="8274" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">易于重构</li><li id="67ff" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">提高整个团队的生产力</li><li id="2dfd" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">帮助您编写更好的代码</li><li id="e67d" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">减少生产缺陷</li><li id="aacb" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">有助于避免过度设计</li><li id="7ec7" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">帮助维护产品的书面规范</li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="bfa3" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">最佳实践</h1><h2 id="b919" class="nt ma iq bd mb nu nv dn mf nw nx dp mj lf ny nz ml lj oa ob mn ln oc od mp oe bi translated">保持测试用例的整洁:</h2><p id="0f3d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">您的测试用例应该像您编写产品代码一样仔细编写。干净的测试用例将支持测试用例的可伸缩性。测试越灵活，代码越灵活。</p><h2 id="63c7" class="nt ma iq bd mb nu nv dn mf nw nx dp mj lf ny nz ml lj oa ob mn ln oc od mp oe bi translated">关注输出:</h2><p id="74da" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">您的测试应该是您想要构建的特性的证明。它必须清楚地定义代码的输出应该是什么样子。将来，如果任何其他开发人员研究它，您的测试用例应该会自己说话</p><h2 id="b356" class="nt ma iq bd mb nu nv dn mf nw nx dp mj lf ny nz ml lj oa ob mn ln oc od mp oe bi translated">一次一个功能:</h2><p id="099e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">编写具体的测试用例来涵盖每一个小细节，并始终记住保持简单。</p><h2 id="9b2d" class="nt ma iq bd mb nu nv dn mf nw nx dp mj lf ny nz ml lj oa ob mn ln oc od mp oe bi translated">类似地，命名您的测试用例:</h2><p id="6037" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">例如，如果你正在为一个类编写测试用例，那么你的测试类名应该类似于它所测试的组件的实际类，后跟一个后缀。这将有助于识别和定位测试用例。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5556" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="1f1b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在软件开发中，TDD也被称为“测试优先开发”。测试驱动开发最适用于可以快速测试应用程序的场景。这种开发过程最近获得了很大的吸引力，许多公司都在寻找采用它的方法。然而，在运行复杂或长时间测试的复杂应用程序的情况下，TDD的整个目的就失效了。然而，我是TDD的忠实粉丝，因为它帮助我写出更好的代码，并使我真正富有成效。如果你也是粉丝，发表评论吧。</p><p id="c58f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望您阅读愉快:)</p></div></div>    
</body>
</html>