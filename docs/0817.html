<html>
<head>
<title>How to Add Tool Tips to Your Vue.js App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向您的Vue.js应用程序添加工具提示</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-tool-tips-to-your-vue-js-app-678c41747789?source=collection_archive---------3-----------------------#2019-12-16">https://javascript.plainenglish.io/how-to-add-tool-tips-to-your-vue-js-app-678c41747789?source=collection_archive---------3-----------------------#2019-12-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="73a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工具提示通常用于提示如何使用web应用程序的不同部分。它易于添加，有助于用户更好地理解应用程序。它们对于显示过长文本也很有用。</p><p id="b4e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Vue.js中，通过位于<a class="ae kl" href="https://github.com/Akryum/v-tooltip" rel="noopener ugc nofollow" target="_blank">https://github.com/Akryum/v-tooltip</a>的V-Tooltip指令，添加工具提示很容易。它是可配置工具提示的指令。您可以更改颜色、文本、显示延迟以及许多其他与工具提示相关的选项。</p><p id="27e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将构建一个食谱应用程序，它有工具提示来指导用户如何将食谱添加到表单中。用户可以输入他们的菜名、配料、步骤，并上传照片。我们将使用Vue.js构建应用程序</p><p id="d526" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们通过运行Vue CLI开始构建应用程序。我们通过输入以下命令来运行它:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="2c0b" class="kv kw iq kr b gy kx ky l kz la">npx @vue/cli create recipe-app</span></pre><p id="616e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后选择“手动选择功能”。接下来，我们在列表中选择Babel、Vue路由器、Vuex和CSS预处理程序。之后，我们安装一些软件包。我们将安装Axios向我们的后端发出HTTP请求。BootstrapVue用于样式化，V-Tooltip用于工具提示，Vee-Validate用于表单验证。我们通过运行<code class="fe lb lc ld kr b">npm i axios bootstrap-vue v-tooltip vee-validate</code>来安装这些包。</p><p id="c1aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们继续创建组件。在<code class="fe lb lc ld kr b">components</code>文件夹中创建一个名为<code class="fe lb lc ld kr b">RecipeForm.vue</code>的文件，并添加:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="8aa0" class="kv kw iq kr b gy kx ky l kz la">&lt;template&gt;<br/>  &lt;ValidationObserver ref="observer" v-slot="{ invalid }"&gt;<br/>    &lt;b-form <a class="ae kl" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="onSubmit" novalidate&gt;<br/>      &lt;b-form-group<br/>        label="Name"<br/>        v-tooltip="{<br/>          content: 'Enter Your Recipe Name Here',<br/>          classes: ['info'],<br/>          targetClasses: ['it-has-a-tooltip'],<br/>        }"<br/>      &gt;<br/>        &lt;ValidationProvider name="name" rules="required" v-slot="{ errors }"&gt;<br/>          &lt;b-form-input<br/>            type="text"<br/>            :state="errors.length == 0"<br/>            v-model="form.name"<br/>            required<br/>            placeholder="Name"<br/>            name="name"<br/>          &gt;&lt;/b-form-input&gt;<br/>          &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;Name is requied.&lt;/b-form-invalid-feedback&gt;<br/>        &lt;/ValidationProvider&gt;<br/>      &lt;/b-form-group&gt;</span><span id="adb0" class="kv kw iq kr b gy le ky l kz la">&lt;b-form-group<br/>        label="Ingredients"<br/>        v-tooltip="{<br/>          content: 'Enter Your Recipe Description Here',<br/>          classes: ['info'],<br/>          targetClasses: ['it-has-a-tooltip'],<br/>        }"<br/>      &gt;<br/>        &lt;ValidationProvider name="ingredients" rules="required" v-slot="{ errors }"&gt;<br/>          &lt;b-form-textarea<br/>            :state="errors.length == 0"<br/>            v-model="form.ingredients"<br/>            required<br/>            placeholder="Ingredients"<br/>            name="ingredients"<br/>            rows="8"<br/>          &gt;&lt;/b-form-textarea&gt;<br/>          &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;Ingredients is requied.&lt;/b-form-invalid-feedback&gt;<br/>        &lt;/ValidationProvider&gt;<br/>      &lt;/b-form-group&gt;</span><span id="b5c2" class="kv kw iq kr b gy le ky l kz la">&lt;b-form-group<br/>        label="Recipe"<br/>        v-tooltip="{<br/>          content: 'Enter Your Recipe Here',<br/>          classes: ['info'],<br/>          targetClasses: ['it-has-a-tooltip'],<br/>        }"<br/>      &gt;<br/>        &lt;ValidationProvider name="recipe" rules="required" v-slot="{ errors }"&gt;<br/>          &lt;b-form-textarea<br/>            :state="errors.length == 0"<br/>            v-model="form.recipe"<br/>            required<br/>            placeholder="Recipe"<br/>            name="recipe"<br/>            rows="15"<br/>          &gt;&lt;/b-form-textarea&gt;<br/>          &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;Recipe is requied.&lt;/b-form-invalid-feedback&gt;<br/>        &lt;/ValidationProvider&gt;<br/>      &lt;/b-form-group&gt;</span><span id="422b" class="kv kw iq kr b gy le ky l kz la">&lt;b-form-group label="Photo"&gt;<br/>        &lt;input type="file" style="display: none" ref="file" <a class="ae kl" href="http://twitter.com/change" rel="noopener ugc nofollow" target="_blank">@change</a>="onChangeFileUpload($event)" /&gt;<br/>        &lt;b-button<br/>          <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="$refs.file.click()"<br/>          v-tooltip="{<br/>            content: 'Upload Photo of Your Dish Here',<br/>            classes: ['info'],<br/>            targetClasses: ['it-has-a-tooltip'],<br/>          }"<br/>        &gt;Upload Photo&lt;/b-button&gt;<br/>      &lt;/b-form-group&gt;</span><span id="ea38" class="kv kw iq kr b gy le ky l kz la">&lt;img ref="photo" :src="form.photo" class="photo" /&gt;</span><span id="6803" class="kv kw iq kr b gy le ky l kz la">&lt;br /&gt;</span><span id="f7ae" class="kv kw iq kr b gy le ky l kz la">&lt;b-button type="submit" variant="primary" style="margin-right: 10px"&gt;Submit&lt;/b-button&gt;<br/>      &lt;b-button type="reset" variant="danger" <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="cancel()"&gt;Cancel&lt;/b-button&gt;<br/>    &lt;/b-form&gt;<br/>  &lt;/ValidationObserver&gt;<br/>&lt;/template&gt;</span><span id="b8c6" class="kv kw iq kr b gy le ky l kz la">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="9942" class="kv kw iq kr b gy le ky l kz la">export default {<br/>  name: "RecipeForm",<br/>  mixins: [requestsMixin],<br/>  props: {<br/>    edit: Boolean,<br/>    recipe: Object<br/>  },<br/>  methods: {<br/>    async onSubmit() {<br/>      const isValid = await this.$refs.observer.validate();<br/>      if (!isValid || !this.form.photo) {<br/>        return;<br/>      }</span><span id="c097" class="kv kw iq kr b gy le ky l kz la">if (this.edit) {<br/>        await this.editRecipe(this.form);<br/>      } else {<br/>        await this.addRecipe(this.form);<br/>      }<br/>      const { data } = await this.getRecipes();<br/>      this.$store.commit("setRecipes", data);<br/>      this.$emit("saved");<br/>    },<br/>    cancel() {<br/>      this.$emit("cancelled");<br/>    },<br/>    onChangeFileUpload($event) {<br/>      const file = $event.target.files[0];<br/>      const reader = new FileReader();<br/>      reader.onload = () =&gt; {<br/>        this.$refs.photo.src = reader.result;<br/>        this.form.photo = reader.result;<br/>      };<br/>      reader.readAsDataURL(file);<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      form: {}<br/>    };<br/>  },<br/>  watch: {<br/>    recipe: {<br/>      handler(val) {<br/>        this.form = JSON.parse(JSON.stringify(val || {}));<br/>      },<br/>      deep: true,<br/>      immediate: true<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="9b25" class="kv kw iq kr b gy le ky l kz la">&lt;style&gt;<br/>.photo {<br/>  width: 100%;<br/>  margin-bottom: 10px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="caf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个文件中，我们有一个表单让用户输入他们的食谱。我们有文本输入和一个文件上传文件，让用户上传照片。我们使用Vee-Validate来验证我们的输入。我们使用<code class="fe lb lc ld kr b">ValidationObserver</code>组件来监视组件内部表单的有效性，使用<code class="fe lb lc ld kr b">ValidationProvider</code>来检查组件内部输入值的有效性规则。在<code class="fe lb lc ld kr b">ValidationProvider</code>中，我们为文本输入字段提供了BootstrapVue输入。</p><p id="2119" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个表单域都有一个带有附加说明的工具提示。指令是由V-Tooltip库提供的。我们在这里设置工具提示的内容和类，我们可以设置其他选项，比如显示延迟，工具提示的位置和背景颜色。完整的选项列表可在https://github.com/Akryum/v-tooltip获得。</p><p id="a195" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">照片上传的工作原理是让用户用上传照片按钮打开文件上传对话框。当点击上传照片按钮时，该按钮将点击隐藏文件输入。用户选择一个文件后，就会调用<code class="fe lb lc ld kr b">onChangeFileUpload</code>函数。在这个函数中，我们有<code class="fe lb lc ld kr b">FileReader</code>对象，它设置了<code class="fe lb lc ld kr b">img</code>标签的<code class="fe lb lc ld kr b">src</code>属性来显示上传的图像，还有<code class="fe lb lc ld kr b">this.form.photo</code>字段。<code class="fe lb lc ld kr b">readAsDataUrl</code>将图像读入一个字符串，这样我们就可以轻松提交了。</p><p id="1146" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个表单也用于编辑食谱，所以我们有一个<code class="fe lb lc ld kr b">watch</code>块来监视<code class="fe lb lc ld kr b">recipe</code>属性，当有需要编辑的内容时，我们会将它传递给这个组件。</p><p id="803d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们创建一个<code class="fe lb lc ld kr b">mixins</code>文件夹，并将<code class="fe lb lc ld kr b">requestsMixin.js</code>添加到<code class="fe lb lc ld kr b">mixins</code>文件夹中。在文件中，我们添加了:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="1fba" class="kv kw iq kr b gy kx ky l kz la">const APIURL = "<a class="ae kl" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a>";<br/>const axios = require("axios");</span><span id="19c5" class="kv kw iq kr b gy le ky l kz la">export const requestsMixin = {<br/>  methods: {<br/>    getRecipes() {<br/>      return axios.get(`${APIURL}/recipes`);<br/>    },</span><span id="7680" class="kv kw iq kr b gy le ky l kz la">addRecipe(data) {<br/>      return axios.post(`${APIURL}/recipes`, data);<br/>    },</span><span id="f26f" class="kv kw iq kr b gy le ky l kz la">editRecipe(data) {<br/>      return axios.put(`${APIURL}/recipes/${data.id}`, data);<br/>    },</span><span id="42db" class="kv kw iq kr b gy le ky l kz la">deleteRecipe(id) {<br/>      return axios.delete(`${APIURL}/recipes/${id}`);<br/>    }<br/>  }<br/>};</span></pre><p id="003b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些是我们在组件中用来发出HTTP请求以获取和保存数据的函数。</p><p id="32f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe lb lc ld kr b">Home.vue</code>中，将现有代码替换为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="d4b2" class="kv kw iq kr b gy kx ky l kz la">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;h1 class="text-center"&gt;Recipes&lt;/h1&gt;<br/>    &lt;b-button-toolbar class="button-toolbar"&gt;<br/>      &lt;b-button <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="openAddModal()" variant="primary"&gt;Add Recipe&lt;/b-button&gt;<br/>    &lt;/b-button-toolbar&gt;</span><span id="2de8" class="kv kw iq kr b gy le ky l kz la">&lt;b-card<br/>      v-for="r in recipes"<br/>      :key="r.id"<br/>      :title="r.name"<br/>      :img-src="r.photo"<br/>      img-alt="Image"<br/>      img-top<br/>      tag="article"<br/>      class="recipe-card"<br/>      img-bottom<br/>    &gt;<br/>      &lt;b-card-text&gt;<br/>        &lt;h1&gt;Ingredients&lt;/h1&gt;<br/>        &lt;div class="wrap"&gt;{{r.ingredients}}&lt;/div&gt;<br/>      &lt;/b-card-text&gt;</span><span id="e25c" class="kv kw iq kr b gy le ky l kz la">&lt;b-card-text&gt;<br/>        &lt;h1&gt;Recipe&lt;/h1&gt;<br/>        &lt;div class="wrap"&gt;{{r.recipe}}&lt;/div&gt;<br/>      &lt;/b-card-text&gt;</span><span id="5d26" class="kv kw iq kr b gy le ky l kz la">&lt;b-button <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="openEditModal(r)" variant="primary"&gt;Edit&lt;/b-button&gt;</span><span id="50dc" class="kv kw iq kr b gy le ky l kz la">&lt;b-button <a class="ae kl" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="deleteOneRecipe(r.id)"  variant="danger"&gt;Delete&lt;/b-button&gt;<br/>    &lt;/b-card&gt;</span><span id="6930" class="kv kw iq kr b gy le ky l kz la">&lt;b-modal id="add-modal" title="Add Recipe" hide-footer&gt;<br/>      &lt;RecipeForm <a class="ae kl" href="http://twitter.com/saved" rel="noopener ugc nofollow" target="_blank">@saved</a>="closeModal()" <a class="ae kl" href="http://twitter.com/cancelled" rel="noopener ugc nofollow" target="_blank">@cancelled</a>="closeModal()" :edit="false" /&gt;<br/>    &lt;/b-modal&gt;</span><span id="3605" class="kv kw iq kr b gy le ky l kz la">&lt;b-modal id="edit-modal" title="Edit Recipe" hide-footer&gt;<br/>      &lt;RecipeForm<br/>        <a class="ae kl" href="http://twitter.com/saved" rel="noopener ugc nofollow" target="_blank">@saved</a>="closeModal()"<br/>        <a class="ae kl" href="http://twitter.com/cancelled" rel="noopener ugc nofollow" target="_blank">@cancelled</a>="closeModal()"<br/>        :edit="true"<br/>        :recipe="selectedRecipe"<br/>      /&gt;<br/>    &lt;/b-modal&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="7d5e" class="kv kw iq kr b gy le ky l kz la">&lt;script&gt;<br/>// @ is an alias to /src<br/>import RecipeForm from "@/components/RecipeForm.vue";<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="5acd" class="kv kw iq kr b gy le ky l kz la">export default {<br/>  name: "home",<br/>  components: {<br/>    RecipeForm<br/>  },<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    recipes() {<br/>      return this.$store.state.recipes;<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.getAllRecipes();<br/>  },<br/>  data() {<br/>    return {<br/>      selectedRecipe: {}<br/>    };<br/>  },<br/>  methods: {<br/>    openAddModal() {<br/>      this.$bvModal.show("add-modal");<br/>    },<br/>    openEditModal(recipe) {<br/>      this.$bvModal.show("edit-modal");<br/>      this.selectedRecipe = recipe;<br/>    },<br/>    closeModal() {<br/>      this.$bvModal.hide("add-modal");<br/>      this.$bvModal.hide("edit-modal");<br/>      this.selectedRecipe = {};<br/>    },<br/>    async deleteOneRecipe(id) {<br/>      await this.deleteRecipe(id);<br/>      this.getAllRecipes();<br/>    },<br/>    async getAllRecipes() {<br/>      const { data } = await this.getRecipes();<br/>      this.$store.commit("setRecipes", data);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="7b2a" class="kv kw iq kr b gy le ky l kz la">&lt;style scoped&gt;<br/>.recipe-card {<br/>  width: 95vw;<br/>  margin: 0 auto;<br/>  max-width: 700px;<br/>}</span><span id="cf76" class="kv kw iq kr b gy le ky l kz la">.wrap {<br/>  white-space: pre-wrap;<br/>}<br/>&lt;/style&gt;</span></pre><p id="b5e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个文件中，我们有一个BootstrapVue卡片列表来显示配方条目列表，并让用户打开和关闭添加和编辑模式。我们在每张卡上都有按钮，让用户编辑或删除每个条目。每张卡的底部都有一张输入食谱时上传的食谱图片。</p><p id="fcda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe lb lc ld kr b">scripts</code>部分，我们用<code class="fe lb lc ld kr b">beforeMount</code>钩子在页面加载期间用我们在mixin中编写的<code class="fe lb lc ld kr b">getRecipes</code>函数获取所有密码条目。当编辑按钮被点击时，<code class="fe lb lc ld kr b">selectedRecipe</code>变量被设置，我们将它传递给<code class="fe lb lc ld kr b">RecipeForm</code>进行编辑。</p><p id="d4f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要删除一个食谱，我们在mixin中调用<code class="fe lb lc ld kr b">deleteRecipe</code>向后端发出请求。</p><p id="c191" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe lb lc ld kr b">wrap</code>类中的CSS用于将换行符呈现为换行符。</p><p id="498f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe lb lc ld kr b">App.vue</code>中，我们将现有代码替换为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="1c88" class="kv kw iq kr b gy kx ky l kz la">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-navbar toggleable="lg" type="dark" variant="info"&gt;<br/>      &lt;b-navbar-brand to="/"&gt;Recipes App&lt;/b-navbar-brand&gt;</span><span id="c6f4" class="kv kw iq kr b gy le ky l kz la">&lt;b-navbar-toggle target="nav-collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="8ca3" class="kv kw iq kr b gy le ky l kz la">&lt;b-collapse id="nav-collapse" is-nav&gt;<br/>        &lt;b-navbar-nav&gt;<br/>          &lt;b-nav-item to="/" :active="path  == '/'"&gt;Home&lt;/b-nav-item&gt;<br/>        &lt;/b-navbar-nav&gt;<br/>      &lt;/b-collapse&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="0654" class="kv kw iq kr b gy le ky l kz la">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      path: this.$route &amp;&amp; this.$route.path<br/>    };<br/>  },<br/>  watch: {<br/>    $route(route) {<br/>      this.path = route.path;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="2ed8" class="kv kw iq kr b gy le ky l kz la">&lt;style lang="scss"&gt;<br/>.page {<br/>  padding: 20px;<br/>  margin: 0 auto;<br/>  max-width: 700px;<br/>}</span><span id="dbe4" class="kv kw iq kr b gy le ky l kz la">button {<br/>  margin-right: 10px !important;<br/>}</span><span id="3ac7" class="kv kw iq kr b gy le ky l kz la">.button-toolbar {<br/>  margin-bottom: 10px;<br/>}</span><span id="eee2" class="kv kw iq kr b gy le ky l kz la">.tooltip {<br/>  display: block !important;<br/>  z-index: 10000;</span><span id="b11f" class="kv kw iq kr b gy le ky l kz la">.tooltip-inner {<br/>    background: black;<br/>    color: white;<br/>    border-radius: 16px;<br/>    padding: 5px 10px 4px;<br/>  }</span><span id="46f6" class="kv kw iq kr b gy le ky l kz la">.tooltip-arrow {<br/>    width: 0;<br/>    height: 0;<br/>    border-style: solid;<br/>    position: absolute;<br/>    margin: 5px;<br/>    border-color: black;<br/>  }</span><span id="c4b3" class="kv kw iq kr b gy le ky l kz la">&amp;[x-placement^="top"] {<br/>    margin-bottom: 5px;</span><span id="2b2e" class="kv kw iq kr b gy le ky l kz la">.tooltip-arrow {<br/>      border-width: 5px 5px 0 5px;<br/>      border-left-color: transparent !important;<br/>      border-right-color: transparent !important;<br/>      border-bottom-color: transparent !important;<br/>      bottom: -5px;<br/>      left: calc(50% - 5px);<br/>      margin-top: 0;<br/>      margin-bottom: 0;<br/>    }<br/>  }</span><span id="797b" class="kv kw iq kr b gy le ky l kz la">&amp;[x-placement^="bottom"] {<br/>    margin-top: 5px;</span><span id="dfa9" class="kv kw iq kr b gy le ky l kz la">.tooltip-arrow {<br/>      border-width: 0 5px 5px 5px;<br/>      border-left-color: transparent !important;<br/>      border-right-color: transparent !important;<br/>      border-top-color: transparent !important;<br/>      top: -5px;<br/>      left: calc(50% - 5px);<br/>      margin-top: 0;<br/>      margin-bottom: 0;<br/>    }<br/>  }</span><span id="0562" class="kv kw iq kr b gy le ky l kz la">&amp;[x-placement^="right"] {<br/>    margin-left: 5px;</span><span id="0f18" class="kv kw iq kr b gy le ky l kz la">.tooltip-arrow {<br/>      border-width: 5px 5px 5px 0;<br/>      border-left-color: transparent !important;<br/>      border-top-color: transparent !important;<br/>      border-bottom-color: transparent !important;<br/>      left: -5px;<br/>      top: calc(50% - 5px);<br/>      margin-left: 0;<br/>      margin-right: 0;<br/>    }<br/>  }</span><span id="1017" class="kv kw iq kr b gy le ky l kz la">&amp;[x-placement^="left"] {<br/>    margin-right: 5px;</span><span id="189a" class="kv kw iq kr b gy le ky l kz la">.tooltip-arrow {<br/>      border-width: 5px 0 5px 5px;<br/>      border-top-color: transparent !important;<br/>      border-right-color: transparent !important;<br/>      border-bottom-color: transparent !important;<br/>      right: -5px;<br/>      top: calc(50% - 5px);<br/>      margin-left: 0;<br/>      margin-right: 0;<br/>    }<br/>  }</span><span id="6124" class="kv kw iq kr b gy le ky l kz la">&amp;[aria-hidden="true"] {<br/>    visibility: hidden;<br/>    opacity: 0;<br/>    transition: opacity 0.15s, visibility 0.15s;<br/>  }</span><span id="67f4" class="kv kw iq kr b gy le ky l kz la">&amp;[aria-hidden="false"] {<br/>    visibility: visible;<br/>    opacity: 1;<br/>    transition: opacity 0.15s;<br/>  }<br/>}<br/>&lt;/style&gt;</span></pre><p id="73df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在页面顶部添加一个引导导航条，并添加一个<code class="fe lb lc ld kr b">router-view</code>来显示我们定义的路线。另外，我们在<code class="fe lb lc ld kr b">style</code>部分有V-Tooltip样式。这个<code class="fe lb lc ld kr b">style</code>部分没有限定范围，所以样式将适用于全球。在<code class="fe lb lc ld kr b">.page</code>选择器中，我们给页面添加一些填充，并将<code class="fe lb lc ld kr b">max-width</code>设置为700像素，这样卡片就不会太宽。我们还在按钮上添加了一些边距。</p><p id="d664" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe lb lc ld kr b">main.js</code>中，我们将现有代码替换为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="9ee7" class="kv kw iq kr b gy kx ky l kz la">import Vue from "vue";<br/>import App from "./App.vue";<br/>import router from "./router";<br/>import store from "./store";<br/>import BootstrapVue from "bootstrap-vue";<br/>import VTooltip from "v-tooltip";<br/>import "bootstrap/dist/css/bootstrap.css";<br/>import "bootstrap-vue/dist/bootstrap-vue.css";<br/>import { ValidationProvider, extend, ValidationObserver } from "vee-validate";<br/>import { required } from "vee-validate/dist/rules";<br/>extend("required", required);<br/>Vue.component("ValidationProvider", ValidationProvider);<br/>Vue.component("ValidationObserver", ValidationObserver);<br/>Vue.use(BootstrapVue);<br/>Vue.use(VTooltip);</span><span id="5754" class="kv kw iq kr b gy le ky l kz la">Vue.config.productionTip = false;</span><span id="5c19" class="kv kw iq kr b gy le ky l kz la">new Vue({<br/>  router,<br/>  store,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="c80e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在这里添加了我们需要的所有库，包括BootstrapVue JavaScript和CSS、Vee-Validate组件以及验证规则，以及我们在组件中使用的V-Tooltip指令。</p><p id="cec2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe lb lc ld kr b">router.js</code>中，我们将现有代码替换为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="4320" class="kv kw iq kr b gy kx ky l kz la">import Vue from "vue";<br/>import Router from "vue-router";<br/>import Home from "./views/Home.vue";</span><span id="a3e3" class="kv kw iq kr b gy le ky l kz la">Vue.use(Router);</span><span id="ac6c" class="kv kw iq kr b gy le ky l kz la">export default new Router({<br/>  mode: "history",<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: "/",<br/>      name: "home",<br/>      component: Home<br/>    }<br/>  ]<br/>});</span></pre><p id="ddaa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将主页包含在我们的路线中，以便用户可以看到该页面。</p><p id="c371" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe lb lc ld kr b">store.js</code>中，我们将现有代码替换为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="e746" class="kv kw iq kr b gy kx ky l kz la">import Vue from "vue";<br/>import Vuex from "vuex";</span><span id="d493" class="kv kw iq kr b gy le ky l kz la">Vue.use(Vuex);</span><span id="536e" class="kv kw iq kr b gy le ky l kz la">export default new Vuex.Store({<br/>  state: {<br/>    recipes: []<br/>  },<br/>  mutations: {<br/>    setRecipes(state, payload) {<br/>      state.recipes = payload;<br/>    }<br/>  },<br/>  actions: {}<br/>});</span></pre><p id="8122" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将我们的<code class="fe lb lc ld kr b">recipes</code>状态添加到存储中，这样我们就可以在<code class="fe lb lc ld kr b">RecipeForm</code>和<code class="fe lb lc ld kr b">HomePage</code>组件的<code class="fe lb lc ld kr b">computed</code>块中观察到它。我们有<code class="fe lb lc ld kr b">setRecipes</code>函数来更新<code class="fe lb lc ld kr b">passwords</code>状态，我们通过调用<code class="fe lb lc ld kr b">this.$store.commit(“setRecipes”, response.data);</code>在组件中使用它，就像我们在<code class="fe lb lc ld kr b">RecipeForm</code>中做的那样。</p><p id="9dcc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，在<code class="fe lb lc ld kr b">index.html</code>中，我们将现有代码替换为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="5096" class="kv kw iq kr b gy kx ky l kz la">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt;<br/>    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;<br/>    &lt;title&gt;Recipe App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;<br/>      &lt;strong<br/>        &gt;We're sorry but vue-tooltip-tutorial-app doesn't work properly without<br/>        JavaScript enabled. Please enable it to continue.&lt;/strong<br/>      &gt;<br/>    &lt;/noscript&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;!-- built files will be auto injected --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="646b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">改一下标题。</p><p id="e3cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在所有的努力之后，我们可以通过运行<code class="fe lb lc ld kr b">npm run serve</code>来启动我们的app。</p><p id="05fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了启动后端，我们首先通过运行<code class="fe lb lc ld kr b">npm i json-server</code>来安装<code class="fe lb lc ld kr b">json-server</code>包。然后，转到我们的项目文件夹并运行:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="9c31" class="kv kw iq kr b gy kx ky l kz la">json-server --watch db.json</span></pre><p id="e100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe lb lc ld kr b">db.json</code>中，将文本改为:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="d789" class="kv kw iq kr b gy kx ky l kz la">{<br/>  "<!-- -->recipes<!-- -->": [<br/>  ]<br/>}</span></pre><p id="45ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们有了在<code class="fe lb lc ld kr b">requests.js</code>中定义的<code class="fe lb lc ld kr b">recipes </code>端点。</p><p id="5e9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">经过所有的努力，我们得到了:</p><figure class="km kn ko kp gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/9a1017d9d7fd05433cab2e1350b7cb01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ioNPV0i9AKArR-ZmsbMzg.png"/></div></div></figure><figure class="km kn ko kp gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/be7d037c880e8381dda9818b02e0edb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lHBusTkdq98yWogjY-7UOw.png"/></div></div></figure><figure class="km kn ko kp gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/18628eb5d007556b703799b5f43514a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*38EKHwdzZTwYGYse0z0iog.png"/></div></div></figure><figure class="km kn ko kp gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/add82e7c655316def7f7abed402c4358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMZptzV-rx4KA2KWoFF1Gg.png"/></div></div></figure></div></div>    
</body>
</html>