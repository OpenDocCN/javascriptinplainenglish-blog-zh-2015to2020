<html>
<head>
<title>Make a quote generator with Nuxt.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Nuxt.js创建报价生成器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/make-a-quote-generator-with-nuxt-js-f7a745e287d0?source=collection_archive---------16-----------------------#2020-12-31">https://javascript.plainenglish.io/make-a-quote-generator-with-nuxt-js-f7a745e287d0?source=collection_archive---------16-----------------------#2020-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="db40" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何用Nuxt.js编写报价生成器的分步指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fb13a1aa8189a6fa665c8f9326d41998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-6UP2qmZvESPVXNF"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@cgower?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christopher Gower</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d131" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用Nuxtjs制作一个简单的随机报价生成器。</p><p id="3006" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您不熟悉Nuxtjs，请阅读下面的文章，它将帮助您快速入门。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/javascript-in-plain-english/getting-started-with-nuxt-4652bc83ddc6" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">Nuxt入门</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">Nuxtjs及其架构入门指南</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="d077" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们要安装一个新的Nuxtjs项目</p><h2 id="d6c7" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated"><strong class="ak"> Npm </strong></h2><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="9763" class="mk ml iq ne b gy ni nj l nk nl">npm init nuxt-app quote-generator</span></pre><h2 id="ea8e" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated"><strong class="ak">纱</strong></h2><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="5991" class="mk ml iq ne b gy ni nj l nk nl">yarn create nuxt-app quote-generator</span></pre><p id="20a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完成后，打开您的开发人员终端并运行下面的命令。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="afa0" class="mk ml iq ne b gy ni nj l nk nl">npm run dev </span></pre><p id="c6ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个命令将我们的应用程序服务到浏览器中，并在我们进行更改时重新热加载它。</p><p id="8aef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">给发电机组件报价</strong></p><p id="96a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导航到组件的目录并创建一个文件名为<strong class="ky ir"> <em class="nm"> Quotes.vue. </em> </strong></p><p id="bbc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在将在这里编写报价生成器组件。</p><p id="df2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还需要安装axios来发出<strong class="ky ir"> API </strong>请求。要安装axios，请运行下面的命令。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ffc5" class="mk ml iq ne b gy ni nj l nk nl">npm install axios -D</span></pre><p id="4ea2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该命令将把axios包安装到我们的应用程序中</p><p id="d174" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们编写报价生成器。</p><p id="c38a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用免费的API来获取报价<a class="ae kv" href="https://type.fit/api/quotes" rel="noopener ugc nofollow" target="_blank">https://type.fit/api/quotes</a></p><p id="8313" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在我们的Quotes.vue组件中，我们将包含下面的代码</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="0c14" class="mk ml iq ne b gy ni nj l nk nl">&lt;template&gt;</span><span id="b377" class="mk ml iq ne b gy nn nj l nk nl">&lt;div class="quotes"&gt;</span><span id="2e2a" class="mk ml iq ne b gy nn nj l nk nl">&lt;div&gt;</span><span id="a3f5" class="mk ml iq ne b gy nn nj l nk nl">&lt;h1&gt;"{{ quotes.text }}"&lt;/h1&gt;</span><span id="7e57" class="mk ml iq ne b gy nn nj l nk nl">&lt;p&gt;{{ quotes.author }}&lt;/p&gt;</span><span id="bbb0" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">&lt;!-- prevent default loading of the page --&gt;</em></span><span id="6a05" class="mk ml iq ne b gy nn nj l nk nl">&lt;button type="submit" @click.prevent="getQuotes"&gt;Get Quotes&lt;/button&gt;</span><span id="f14e" class="mk ml iq ne b gy nn nj l nk nl">&lt;/div&gt;</span><span id="dace" class="mk ml iq ne b gy nn nj l nk nl">&lt;/div&gt;</span><span id="c704" class="mk ml iq ne b gy nn nj l nk nl">&lt;/template&gt;</span></pre><p id="c407" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在按钮上，您可以看到我们附加了一个单击事件，它将侦听按钮上的任何单击事件。我们还用. prevent指令将它链接起来。</p><p id="5a55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将防止点击按钮时页面冒泡和重新加载。</p><p id="eac6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不，我们需要添加功能，将返回一个从API随机报价。</p><p id="8582" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Inside out组件中，我们将有一个名为<strong class="ky ir"> <em class="nm"> getQuotes </em> </strong>的方法，它将在每次点击按钮时发出一个API请求。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="3b19" class="mk ml iq ne b gy ni nj l nk nl">&lt;script&gt;</span><span id="b86a" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">import</em> axios <em class="nm">from</em> "axios";</span><span id="9ee5" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">export</em> <em class="nm">default</em> {</span><span id="0a3f" class="mk ml iq ne b gy nn nj l nk nl">name: "Quotes",</span><span id="e80c" class="mk ml iq ne b gy nn nj l nk nl">data() {</span><span id="67f4" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">return</em> {</span><span id="6d8d" class="mk ml iq ne b gy nn nj l nk nl">quotes: {},</span><span id="687c" class="mk ml iq ne b gy nn nj l nk nl">};</span><span id="0c0e" class="mk ml iq ne b gy nn nj l nk nl">},</span><span id="d51c" class="mk ml iq ne b gy nn nj l nk nl">methods: {</span><span id="899f" class="mk ml iq ne b gy nn nj l nk nl">async getQuotes() {</span><span id="ffe3" class="mk ml iq ne b gy nn nj l nk nl">const res = <em class="nm">await</em> axios("https://type.fit/api/quotes");</span><span id="668a" class="mk ml iq ne b gy nn nj l nk nl">const data = <em class="nm">await</em> res.data;</span><span id="973e" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">//   get a random quote from the returned data</em></span><span id="4049" class="mk ml iq ne b gy nn nj l nk nl">let randQuote = data[Math.floor(Math.random() * data.length)];</span><span id="c635" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">//   store the info to the data instance</em></span><span id="647f" class="mk ml iq ne b gy nn nj l nk nl">this.quotes = randQuote;</span><span id="3564" class="mk ml iq ne b gy nn nj l nk nl">},</span><span id="f1a0" class="mk ml iq ne b gy nn nj l nk nl">},</span><span id="e4eb" class="mk ml iq ne b gy nn nj l nk nl">};</span><span id="374c" class="mk ml iq ne b gy nn nj l nk nl">&lt;/script&gt;</span></pre><p id="96e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将导入我们安装的axios包，并使用它来发出API请求。</p><p id="3fce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的数据中，我们有一个quotes对象，它将存储来自API的报价。</p><p id="b6c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的方法中，我们有一个<em class="nm"/><strong class="ky ir"><em class="nm">get quotes</em></strong>函数，它将进行异步调用并返回一个随机报价。</p><p id="9cf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还通过在API调用中添加async await来使请求异步。</p><h2 id="b2d7" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated"><strong class="ak">获取随机报价</strong></h2><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="7e15" class="mk ml iq ne b gy ni nj l nk nl"><em class="nm">//   get a random quote from the returned data</em></span><span id="7f62" class="mk ml iq ne b gy nn nj l nk nl">let randQuote = data[Math.floor(Math.random() * data.length)];</span><span id="c06b" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">//   store the info to the data instance</em></span><span id="c915" class="mk ml iq ne b gy nn nj l nk nl">this.quotes = randQuote;</span></pre><p id="133e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将报价组件导入index.vue页面</p><p id="1e59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，由于我们的Quotes.vue是一个单独的组件，我们需要将其导入到我们的页面(index.vue)</p><p id="1e55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的index.vue中，我们导入报价组件，如下所示。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="a446" class="mk ml iq ne b gy ni nj l nk nl"><em class="nm">// lazy loading of the quotes component</em></span><span id="55f5" class="mk ml iq ne b gy nn nj l nk nl">const Quotes = () =&gt; import("@/components/Quotes");</span><span id="9cfe" class="mk ml iq ne b gy nn nj l nk nl"><em class="nm">export</em> <em class="nm">default</em> {</span><span id="5ecc" class="mk ml iq ne b gy nn nj l nk nl">components: {</span><span id="8f3e" class="mk ml iq ne b gy nn nj l nk nl">Quotes,</span><span id="e7ff" class="mk ml iq ne b gy nn nj l nk nl">},</span><span id="310a" class="mk ml iq ne b gy nn nj l nk nl">};</span></pre><p id="6ef8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们正在缓慢加载报价组件。要了解更多关于延迟加载组件的信息，请查看下面的文章。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/javascript-in-plain-english/lazy-loading-components-in-vue-js-478c9f300b71" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">在Vue.js中延迟加载组件</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">通过组件的延迟加载提高Vue.js应用程序的性能。</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="no l mg mh mi me mj kp lv"/></div></div></a></div><p id="29bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还准备了一个简单的视频，向你展示我们如何做这个简单的项目。</p><p id="5bf2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在下面查看。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="f0e1" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated"><strong class="ak">结论</strong></h2><p id="b33d" class="pw-post-body-paragraph kw kx iq ky b kz nr jr lb lc ns ju le lf nt lh li lj nu ll lm ln nv lp lq lr ij bi translated">我们已经看到了如何在Nuxtjs中制作一个简单的报价生成器。</p><p id="f4fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还学习了如何:</p><ul class=""><li id="f548" class="nw nx iq ky b kz la lc ld lf ny lj nz ln oa lr ob oc od oe bi translated">使用axios进行API调用</li><li id="890e" class="nw nx iq ky b kz of lc og lf oh lj oi ln oj lr ob oc od oe bi translated">组件的延迟加载</li></ul><p id="b19f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您通读这篇文章，如果您觉得它有帮助，请不要犹豫，分享出来。</p></div></div>    
</body>
</html>