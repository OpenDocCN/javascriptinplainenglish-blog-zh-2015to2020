<html>
<head>
<title>Introducing the JavaScript Window Object — Pixels and Document</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍JavaScript窗口对象—像素和文档</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introducing-the-javascript-window-object-pixels-and-document-48bc6070a1b5?source=collection_archive---------4-----------------------#2020-01-21">https://javascript.plainenglish.io/introducing-the-javascript-window-object-pixels-and-document-48bc6070a1b5?source=collection_archive---------4-----------------------#2020-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/52b47cd701063e421cce4b34770323d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WOvVcZH1hRtK0c1T"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@robwingate?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Rob Wingate</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="228f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">window</code>对象是一个全局对象，具有与当前DOM文档相关的属性，即浏览器选项卡中的内容。</p><p id="cee1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将继续查看<code class="fe lb lc ld le b">window</code>对象的更多属性，如<code class="fe lb lc ld le b">devicePixelRatio</code>属性，并开始查看<code class="fe lb lc ld le b">document</code>属性的属性。</p><h1 id="7225" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">window . devicepixelrratio</h1><p id="b275" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lb lc ld le b">devicePixelRatio</code>属性来获得显示设备的物理像素分辨率与CSS像素分辨率的比值。</p><p id="f80d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也就是说，一个CSS像素的大小与一个物理像素的大小的比率，或者应该使用多少实际像素来绘制一个CSS像素。这很方便，因为有各种各样的显示器。</p><p id="6439" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像4K或视网膜显示器这样的高分辨率显示器需要缩放以显示内容，这样它们就不会太小。</p><p id="c754" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在屏幕上显示一个CSS像素需要不止一个像素，以便在这些不太小的屏幕上显示更清晰的图像。</p><p id="fea9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个只读属性，当值改变时，没有办法得到通知，如果用户将窗口拖动到像素密度不同于原始像素密度的不同显示器上，可能会发生这种情况。因此，如果您想要检查该属性的更改，您必须偶尔手动检查，例如使用<code class="fe lb lc ld le b">setInterval</code>功能。</p><p id="6cd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下代码来访问它:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="51d4" class="mq lg iq le b gy mr ms l mt mu">console.log(<!-- -->window.devicePixelRatio)</span></pre><p id="1399" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过运行上面的代码，我们应该可以看到用<code class="fe lb lc ld le b">console.log</code>语句记录的每个CSS像素的物理像素数。</p><h1 id="239b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">窗口.文档</h1><p id="886c" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">属性拥有当前打开文档的所有属性和方法。这意味着它将所有的DOM节点对象和所有相关的方法解析到树中。它还具有许多属性，用于监听事件并获取关于当前浏览器选项卡中打开的文档的各种信息。<code class="fe lb lc ld le b">document</code>对象有一个构造函数，即不带参数的<code class="fe lb lc ld le b">Document</code>构造函数，它创建一个新的<code class="fe lb lc ld le b">Document</code>对象。</p><h2 id="bd45" class="mq lg iq bd lh mv mw dn ll mx my dp lp ko mz na lt ks nb nc lx kw nd ne mb nf bi translated">窗口.文档.正文</h2><p id="6305" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">document</code>对象也有许多属性。<code class="fe lb lc ld le b">document.body</code>属性让我们得到当前文档的<code class="fe lb lc ld le b">body</code>或<code class="fe lb lc ld le b">frameset</code>节点以及其中的所有内容。例如，如果我们在运行<code class="fe lb lc ld le b">console.log</code>语句时将<code class="fe lb lc ld le b">document.body</code>作为参数传入，那么我们应该从<code class="fe lb lc ld le b">console.log</code>输出中得到类似如下的结果:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a396" class="mq lg iq le b gy mr ms l mt mu">&lt;body data-n-head=""&gt;<br/>    &lt;div id="__nuxt"&gt;&lt;!----&gt;&lt;div id="__layout"&gt;&lt;div&gt;&lt;nav class="navbar navbar-expand-lg navbar-light bg-light" data-v-a3aba82c=""&gt;&lt;a href="/" class="navbar-brand nuxt-link-exact-active nuxt-link-active" data-v-a3aba82c=""&gt;John Au-Yeung's Portfolio&lt;/a&gt; &lt;button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-v-a3aba82c=""&gt;&lt;span class="navbar-toggler-icon" data-v-a3aba82c=""&gt;&lt;/span&gt;&lt;/button&gt; &lt;div id="navbarSupportedContent" class="collapse navbar-collapse" data-v-a3aba82c=""&gt;&lt;ul class="navbar-nav mr-auto" data-v-a3aba82c=""&gt;&lt;li class="nav-item active" data-v-a3aba82c=""&gt;&lt;a href="/" class="nav-link nuxt-link-exact-active nuxt-link-active" data-v-a3aba82c=""&gt;Home&lt;/a&gt;&lt;/li&gt; &lt;li class="nav-item" data-v-a3aba82c=""&gt;&lt;a href="/portfolio" class="nav-link" data-v-a3aba82c=""&gt;Portfolio&lt;/a&gt;&lt;/li&gt; &lt;li class="nav-item" data-v-a3aba82c=""&gt;&lt;a href="/resume" class="nav-link" data-v-a3aba82c=""&gt;Resume&lt;/a&gt;&lt;/li&gt; &lt;li class="nav-item" data-v-a3aba82c=""&gt;&lt;a href="/whyhireme" class="nav-link" data-v-a3aba82c=""&gt;Why Hire Me&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/nav&gt; &lt;div data-v-88e6fdf8=""&gt;&lt;div id="home" data-v-88e6fdf8=""&gt;&lt;div class="jumbotron jumbotron-fluid text-center" data-v-88e6fdf8=""&gt;&lt;/div&gt; &lt;div class="cont" data-v-88e6fdf8=""&gt;&lt;div class="col-md-12" data-v-88e6fdf8=""&gt;&lt;h1 data-v-88e6fdf8=""&gt;About John&lt;/h1&gt; &lt;p data-v-88e6fdf8=""&gt;Hire me to build a business web and mobile apps affordably.&lt;/p&gt;&lt;/div&gt; &lt;div class="col-md-12" data-v-88e6fdf8=""&gt;&lt;p data-v-88e6fdf8=""&gt;My expertise include:&lt;/p&gt; &lt;ul data-v-88e6fdf8=""&gt;&lt;li data-v-88e6fdf8=""&gt;Web app development&lt;/li&gt; &lt;li data-v-88e6fdf8=""&gt;Mobile app development&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt; &lt;div class="col-md-12" data-v-88e6fdf8=""&gt;&lt;h1 data-v-88e6fdf8=""&gt;Social Media&lt;/h1&gt; &lt;ul data-v-88e6fdf8=""&gt;&lt;li data-v-88e6fdf8=""&gt;&lt;a href="<a class="ae kc" href="https://medium.com/@hohanga" rel="noopener">https://medium.com/@hohanga</a>" target="_blank" data-v-88e6fdf8=""&gt;&lt;i class="fab fa-medium" data-v-88e6fdf8="" aria-hidden="true"&gt;&lt;/i&gt; Medium Blog<br/>            &lt;/a&gt;&lt;/li&gt; &lt;li data-v-88e6fdf8=""&gt;&lt;a href="<a class="ae kc" href="https://www.linkedin.com/in/hohanga" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/hohanga</a>" target="_blank" data-v-88e6fdf8=""&gt;&lt;i class="fab fa-linkedin" data-v-88e6fdf8="" aria-hidden="true"&gt;&lt;/i&gt;<br/>              LinkedIn<br/>            &lt;/a&gt;&lt;/li&gt; &lt;li data-v-88e6fdf8=""&gt;&lt;a href="<a class="ae kc" href="https://twitter.com/AuMayeung" rel="noopener ugc nofollow" target="_blank">https://twitter.com/AuMayeung</a>" target="_blank" data-v-88e6fdf8=""&gt;&lt;i class="fab fa-twitter" data-v-88e6fdf8="" aria-hidden="true"&gt;&lt;/i&gt;<br/>              Twitter<br/>            &lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt; &lt;div class="col-md-12" data-v-88e6fdf8=""&gt;&lt;h1 data-v-88e6fdf8=""&gt;Contact&lt;/h1&gt; &lt;ul data-v-88e6fdf8=""&gt;&lt;li data-v-88e6fdf8=""&gt;&lt;a href="<a class="ae kc" href="mailto:mayeung@telus.net" rel="noopener ugc nofollow" target="_blank">mayeung@telus.net</a>" data-v-88e6fdf8=""&gt;&lt;i class="fas fa-envelope-square" data-v-88e6fdf8="" aria-hidden="true"&gt;&lt;/i&gt;<br/>              Email<br/>            &lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt; &lt;div class="col-md-12" data-v-88e6fdf8=""&gt;&lt;h1 data-v-88e6fdf8=""&gt;Git Repositories&lt;/h1&gt; &lt;ul data-v-88e6fdf8=""&gt;&lt;li data-v-88e6fdf8=""&gt;&lt;a href="<a class="ae kc" href="https://bitbucket.org/hauyeung/" rel="noopener ugc nofollow" target="_blank">https://bitbucket.org/hauyeung/</a>" target="_blank" data-v-88e6fdf8=""&gt;&lt;i class="fab fa-bitbucket" data-v-88e6fdf8="" aria-hidden="true"&gt;&lt;/i&gt;<br/>              Bitbucket<br/>            &lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt; &lt;footer class="text-center" data-v-88e6fdf8=""&gt;&lt;i class="far fa-copyright" data-v-88e6fdf8="" aria-hidden="true"&gt;&lt;/i&gt;<br/>    2019 John Au-Yeung's Portfolio.<br/>    Icons Provided by Font Awesome.<br/>  &lt;/footer&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;window.__NUXT__={layout:"default",data:[{}],error:null,state:{},serverRendered:!0}&lt;/script&gt;&lt;script src="/_nuxt/aa95a776e06b06b1de50.js" defer=""&gt;&lt;/script&gt;&lt;script src="/_nuxt/278a2a8cea1aa4220b7f.js" defer=""&gt;&lt;/script&gt;&lt;script src="/_nuxt/49479c32fdfc8cc26830.js" defer=""&gt;&lt;/script&gt;&lt;script src="/_nuxt/a006571538a8da07f921.js" defer=""&gt;&lt;/script&gt;&lt;script src="/_nuxt/92eb89f167a526d23bc9.js" defer=""&gt;&lt;/script&gt;</span><span id="0a4e" class="mq lg iq le b gy ng ms l mt mu">&lt;/body&gt;</span></pre><p id="40a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">输出有<code class="fe lb lc ld le b">body</code>节点和它里面的所有DOM节点。我们也可以设置<code class="fe lb lc ld le b">body</code>属性。然而，如果我们这样做，我们会用你设置的覆盖体内的一切。为此，我们可以编写如下代码:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="ca22" class="mq lg iq le b gy mr ms l mt mu">const body = document.createElement('body');<br/>const hello = document.createElement('p');<br/>hello.innerHTML = 'hello';<br/>body.append(hello);<br/>document.body = body;</span></pre><p id="13f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们首先创建<code class="fe lb lc ld le b">body</code>元素。这是必需的步骤，因为我们只能用<code class="fe lb lc ld le b">body</code>或<code class="fe lb lc ld le b">frameset</code>元素设置<code class="fe lb lc ld le b">document.body</code>。否则，我们将得到一个错误，说明您没有用这些元素设置<code class="fe lb lc ld le b">document.body</code>。随着<code class="fe lb lc ld le b">body</code>元素的创建，我们可以在里面创建任何我们想要的东西，并将其附加到身体上。在上例中，我们创建了一个<code class="fe lb lc ld le b">p</code>元素，然后将其<code class="fe lb lc ld le b">innerHTML</code>属性设置为<code class="fe lb lc ld le b">'hello'</code>。之后，我们将创建的<code class="fe lb lc ld le b">p</code>元素附加到<code class="fe lb lc ld le b">body</code>上，然后将其分配给<code class="fe lb lc ld le b">document.body</code>属性。之后，我们应该在屏幕上看到“你好”这个词。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/dd73ee978265dd665068ee3954b47563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EE2vFY85vHqXdl3R"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sharonmccutcheon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sharon McCutcheon</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="575b" class="mq lg iq bd lh mv mw dn ll mx my dp lp ko mz na lt ks nb nc lx kw nd ne mb nf bi translated">window.document.characterSet</h2><p id="c502" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">characterSet</code>属性是一个只读属性，它返回当前呈现的文档的字符编码。</p><p id="9d70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">字符编码是一组字符，以及如何将组成网页的字节解释为这些字符。字符编码可以在<code class="fe lb lc ld le b">Content-Type</code>标题中被覆盖，或者放入<code class="fe lb lc ld le b">meta</code>标签中。</p><p id="58e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以用<code class="fe lb lc ld le b">&lt;meta charset=”utf-8"&gt;</code>来设置要用<code class="fe lb lc ld le b">utf-8</code>编码呈现的网页。也可以使用浏览器选项来覆盖它，比如通过右键单击Internet Explorer浏览器窗口来设置字符编码，例如，单击“编码”，然后选择要手动呈现页面的字符编码。</p><p id="6e51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过书写来查看您正在查看的页面所使用的字符编码:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c9b0" class="mq lg iq le b gy mr ms l mt mu">const charSet = document.characterSet;<br/>console.log(charSet);</span></pre><p id="4a0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该从<code class="fe lb lc ld le b">console.log</code>输出中得到类似于<code class="fe lb lc ld le b">‘UTF-8’</code>的结果。</p><p id="4928" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们研究了<code class="fe lb lc ld le b">document</code>属性和<code class="fe lb lc ld le b">devicePixelRatio</code>属性。</p><p id="7bc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">devicePixelRatio</code>属性让我们看到渲染一个CSS像素的物理像素的数量，而<code class="fe lb lc ld le b">document</code>属性是一个具有许多属性的对象，这些属性让我们获得关于当前打开的文档的信息，并允许我们给它附加事件处理程序并操纵它。</p><p id="ee55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe lb lc ld le b">document.body</code>属性将<code class="fe lb lc ld le b">body</code>元素设置为我们选择的内容，并使用相同的属性查看其属性。</p><p id="840c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们用<code class="fe lb lc ld le b">document.characterSet</code>属性获得了我们正在查看的网页的字符集。</p><p id="471d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe lb lc ld le b">document</code>对象中有更多的属性，所以请继续关注本系列的下一部分，看看<code class="fe lb lc ld le b">window</code>和<code class="fe lb lc ld le b">window.document</code>对象的更多属性。</p></div></div>    
</body>
</html>