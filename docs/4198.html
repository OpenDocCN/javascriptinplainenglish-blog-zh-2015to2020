<html>
<head>
<title>Cocktail Recipe Mobile App with Ionic and Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Ionic和Vue 3的鸡尾酒配方移动应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/cocktail-recipe-mobile-app-with-ionic-and-vue-3-4a28986453f6?source=collection_archive---------14-----------------------#2020-11-23">https://javascript.plainenglish.io/cocktail-recipe-mobile-app-with-ionic-and-vue-3-4a28986453f6?source=collection_archive---------14-----------------------#2020-11-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6dc0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第1部分—应用程序设置和随机鸡尾酒标签</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a614e068cca57ac9f4a9841a1db20134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhG3uNXXsdW9sO9-qtAf5g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by <a class="ae kv" href="https://pixabay.com/users/bridgesward-6083077/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2578446" rel="noopener ugc nofollow" target="_blank">bridgesward</a> from <a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2578446" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="e918" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几周前，Ionic的团队宣布他们已经完成了与T2 VueJs的整合。如果你不熟悉Ionic，它是一个框架，允许你用自己喜欢的Javascript框架/库(Angular、React或Vue)编写移动应用。现在，它不是一个原生的移动应用程序，但它允许您访问原生的功能，如GPS、相机、联系人等。</p><p id="55a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Ionic通过将你的应用程序包装在网络视图中来实现这一切。虽然它为快速编写跨平台应用程序提供了许多好处，但它的性能不如本机或其他跨平台应用程序(<a class="ae kv" href="https://reactnative.dev/" rel="noopener ugc nofollow" target="_blank"> React Native </a>和<a class="ae kv" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> Flutter </a>)。也就是说，除非你正在创建一个比<a class="ae kv" href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" rel="noopener ugc nofollow" target="_blank"> CRUD操作</a>多得多或者有很多动画的尖端应用，否则这已经足够了。</p><h1 id="e49f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">演示</h1><p id="1508" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在我们开始之前，让我们看一下第1部分的演示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/e541361338a2fcf5a1128318203f34be.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/1*2dMlw7zrVdQy5WpLU8Wbdg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Ionic Cocktail App Demo</figcaption></figure><h1 id="d92e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">项目设置</h1><h2 id="28bf" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">安装Ionic CLI</h2><p id="c480" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们要做的第一件事是安装<a class="ae kv" href="https://ionicframework.com/docs/cli" rel="noopener ugc nofollow" target="_blank">ion CLI</a>。为此，请打开终端并运行以下命令:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="173b" class="mq lt iq nd b gy nh ni l nj nk">npm install -g @ionic/cli</span></pre><h2 id="afe0" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">创建应用程序</h2><p id="9ed1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在我们已经安装了CLI，我们可以创建我们的应用程序。我们将通过运行以下命令来使用内置的选项卡模板:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="9e8f" class="mq lt iq nd b gy nh ni l nj nk">ionic start ionic_cocktails_app tabs</span></pre><p id="d5d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后选择以下选项:</p><ol class=""><li id="d393" class="nl nm iq ky b kz la lc ld lf nn lj no ln np lr nq nr ns nt bi translated">框架:<strong class="ky ir"> Vue </strong></li><li id="da05" class="nl nm iq ky b kz nu lc nv lf nw lj nx ln ny lr nq nr ns nt bi translated">创建免费的离子帐户？:<strong class="ky ir">由你决定</strong></li></ol><h2 id="6c49" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">启动应用程序</h2><p id="3d70" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在我们已经创建了我们的应用程序，在您最喜欢的代码编辑器中打开它(我将使用<a class="ae kv" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>)。然后在根目录中打开一个终端(在VS代码中:Terminal = &gt; New terminal)并运行以下命令:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="c8d3" class="mq lt iq nd b gy nh ni l nj nk">ionic serve</span></pre><p id="e1e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将启动一个新的浏览器窗口(我用的是chrome)。要使浏览器看起来像电话，按F12启动开发工具，并点击设备切换按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/a8802e2e87b7913f1eaaadf3329337a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*VRT0P_N7z-AtUwMfTBPTuw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Chrome Dev Tools — Device Toggle</figcaption></figure><p id="645a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在浏览器顶部，选择您选择的电话。我将使用iPhone 6/7/8，但你可以使用你喜欢的任何东西。您也可以点按“编辑”来添加其他设备的屏幕尺寸。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/af010d704e17a17481bf8bd1936abb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*UiK12B2Ctwb6MvndfLvvKA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Chrome Dev Tools — Device Dropdown</figcaption></figure><h1 id="cb32" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">应用程序接口</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/f38892d8d009218c52181e25b09ceee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*8HP0S6Y5s_RVGYeLjgtMPA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">TheCocktailDB</figcaption></figure><p id="fe0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了让鸡尾酒进入我们的应用程序，我们将使用<a class="ae kv" href="https://www.thecocktaildb.com" rel="noopener ugc nofollow" target="_blank"> TheCocktailDB </a> API。这是一个免费的API，有一些非常有用的端点。当用户启动应用程序时，我们将调用<a class="ae kv" href="https://www.thecocktaildb.com/api/json/v1/1/random.php" rel="noopener ugc nofollow" target="_blank">随机鸡尾酒端点</a>。我们还将有一个选项卡，允许用户使用<a class="ae kv" href="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita" rel="noopener ugc nofollow" target="_blank">搜索端点</a>按名称搜索鸡尾酒，另一个选项卡使用<a class="ae kv" href="https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=Gin" rel="noopener ugc nofollow" target="_blank">按成分搜索端点</a>按成分浏览。</p><h1 id="68a3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">编写应用程序</h1><h2 id="45e0" class="mq lt iq bd lu mr ms dn ly mt mu dp mc lf mv mw me lj mx my mg ln mz na mi nb bi translated">选项卡1 —随机鸡尾酒</h2><p id="06b7" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">标签图标<br/> </strong>如上所述，我们app的登陆页面会向用户显示一个随机的鸡尾酒。我们要做的第一件事是更新第一个选项卡底部的图标和标题。为此，打开src/views/Tabs.vue。在第一个选项卡中，我们将用随机图标替换图标，并将标题替换为随机。</p><p id="e1ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要从ionicons/icons导入它。因为我们不再使用三角形，所以我们将用shuffle替换它:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="c0e0" class="mq lt iq nd b gy nh ni l nj nk"><em class="oc">import</em> { ellipse, square, <strong class="nd ir">shuffle </strong>} <em class="oc">from</em> 'ionicons/icons';</span></pre><p id="a6b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在设置调用中替换triangle it:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="3d47" class="mq lt iq nd b gy nh ni l nj nk"><em class="oc">setup</em>() {<br/> <em class="oc">return</em> {<br/>  ellipse,<br/>  square,<br/>  <strong class="nd ir">shuffle,</strong><br/> }<br/>}</span></pre><p id="a3ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，替换图标并更改选项卡本身的标题:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="8fe9" class="mq lt iq nd b gy nh ni l nj nk">&lt;ion-tab-button <em class="oc">tab</em>="tab1" <em class="oc">href</em>="/tabs/tab1"&gt;<br/> &lt;ion-icon <strong class="nd ir">:<em class="oc">icon</em>="shuffle"</strong>&gt;&lt;/ion-icon&gt;<br/> &lt;ion-label&gt;<strong class="nd ir">Random</strong>&lt;/ion-label&gt;<br/>&lt;/ion-tab-button&gt;</span></pre><p id="b46a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">随机鸡尾酒方法<br/> </strong>现在我们可以开始查看了。为了保持我们的状态，我们将从Vue导入reactive并创建一个状态对象。在状态对象内部，我们将保存一个用于加载的道具和另一个用于随机混合的道具。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="daa2" class="mq lt iq nd b gy nh ni l nj nk"><em class="oc">//top of script tag<br/>import</em> { reactive } <em class="oc">from</em> "vue";</span><span id="cd78" class="mq lt iq nd b gy od ni l nj nk">//in setup<br/>const<em class="oc"> state </em>=<em class="oc"> reactive</em>({<br/> <em class="oc">randomCocktail</em>:<em class="oc"> </em>{},<br/> <em class="oc">loading</em>:<em class="oc"> false</em>,<br/>});</span></pre><p id="c2c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了调用API，我们将使用<a class="ae kv" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> Axios </a>。要安装它，请打开一个新的终端，并运行以下命令:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="4ef6" class="mq lt iq nd b gy nh ni l nj nk">npm install axios</span></pre><p id="30f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经安装了Axios，我们可以创建一个名为<em class="oc"> fetchRandomCocktail </em>的新方法。因为我们将在初始页面加载时显示加载器，而不是在刷新时显示，所以我们将向该方法传递一个布尔值来控制它。在设置方法中添加以下内容:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="f2a3" class="mq lt iq nd b gy nh ni l nj nk"><em class="oc">//top of script tag<br/>import</em> { axios } <em class="oc">from</em> "axios";</span><span id="e13c" class="mq lt iq nd b gy od ni l nj nk">//in setup<br/>const<em class="oc"> fetchRandomCocktail </em>=<em class="oc"> async </em>(<em class="oc">displayLoaderPage</em>:<em class="oc"> boolean</em>)<em class="oc"> </em>=&gt;<em class="oc"> </em>{<br/> if<em class="oc"> </em>(<em class="oc">displayLoaderPage</em>)<em class="oc"> </em>{<br/>  <em class="oc">state.loading </em>=<em class="oc"> true</em>;<br/>}</span><span id="3c64" class="mq lt iq nd b gy od ni l nj nk"> const<em class="oc"> res </em>=<em class="oc"> await axios.get</em>(<br/>  "https://www.thecocktaildb.com/api/json/v1/1/random.php"<br/> );</span><span id="b022" class="mq lt iq nd b gy od ni l nj nk"> if<em class="oc"> </em>(<em class="oc">res.data</em>)<em class="oc"> </em>{<br/>  <em class="oc">state.randomCocktail </em>=<em class="oc"> res.data?.drinks</em>[0];<br/> }</span><span id="2cd0" class="mq lt iq nd b gy od ni l nj nk"> <em class="oc">state.loading </em>=<em class="oc"> false</em>;<br/> <br/>};</span></pre><p id="f481" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们已经有了<em class="oc"> fetchRandomCocktail </em>方法，让我们创建另一个名为<em class="oc"> doRefresh </em>的方法，用于我们拉取刷新。尽管我从文档中提取了代码，但还是有一个Typescript错误，所以我只是隐藏了它。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="66e1" class="mq lt iq nd b gy nh ni l nj nk">const<em class="oc"> doRefresh </em>=<em class="oc"> </em>(<em class="oc">event</em>:<em class="oc"> CustomEvent</em>)<em class="oc"> </em>=&gt;<em class="oc"> </em>{<br/> <em class="oc">fetchRandomCocktail</em>(<em class="oc">false</em>);<br/> //<em class="oc"> eslint-disable-next-line @typescript-eslint/ban-ts-ignore<br/> </em>//<em class="oc">@ts-ignore<br/> event.target?.complete</em>();<br/>};</span></pre><p id="87ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在设置中要做的最后一件事是调用<em class="oc">fetchRandomCocktail</em>(true)并返回模板的设置数据。</p><p id="ff72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">模板<br/> </strong>在模板标签中，我们将所有的饮料数据显示在一张卡片中。我们将有一个饮料，标题和类别的图像。在所有这些下面，我们将展示说明和配料。</p><p id="3380" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">*注意:您将看到API返回15种饮料成分和测量值，不管它是否为空。所以，我选择在模板上添加一个v-if。这确实增加了模板的体积，但是我觉得遍历所有的属性有点麻烦。让我知道你的想法。</p><p id="0f5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了展示一切，我们将进口和使用大量的离子成分。我可以在模板中描述我们将要做的每一件小事，但是我会让代码自己说话。最终，您完成的文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oe of l"/></div></figure><h1 id="94b0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">视频教程</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og of l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Video Tutorial</figcaption></figure><h1 id="ff06" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="d85f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">因此，概括地说，我们已经为开发设置好了我们的应用程序，我们已经开发了用户将登陆的随机鸡尾酒页面。在<a class="ae kv" href="https://diligentdev.medium.com/cocktail-recipe-mobile-app-with-ionic-and-vue-3-8a06008d4a13" rel="noopener">第2部分</a>中，我们将通过鸡尾酒名称和鸡尾酒成分页面连接我们的搜索。如果您有任何问题、意见或顾虑，请告诉我。下次再见，祝编码愉快！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh of l"/></div></figure></div></div>    
</body>
</html>