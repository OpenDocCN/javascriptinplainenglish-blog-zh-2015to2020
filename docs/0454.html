<html>
<head>
<title>Using Debugger in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Javascript中使用调试器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-debugger-in-javascript-e5947aa528ca?source=collection_archive---------8-----------------------#2019-10-17">https://javascript.plainenglish.io/using-debugger-in-javascript-e5947aa528ca?source=collection_archive---------8-----------------------#2019-10-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7ecf" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">放慢时间，找出那些虫子藏在哪里。</h2></div><figure class="kc kd ke kf gt kg"><div class="bz fp l di"><div class="kh ki l"/></div><figcaption class="kj kk gj gh gi kl km bd b be z dk">A monster chewing a computer keyboard.</figcaption></figure><p id="5d82" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">使用debugger关键字和Chrome的dev tools面板，我们可以按照自己的步调一步一步地检查代码，查看每一个角落，寻找那些讨厌的bug。</p><p id="969a" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">让我们看一个有一些bug的项目，并试着识别它们。</p><p id="0702" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">这里我有一个Futurama报价测验，使用的是Futurama API。一句引语呈现在页面上，我们应该猜猜这句引语是哪个角色说的。我们有一个按钮，我们可以按下，这将显示字符，所以我们可以检查我们的答案！</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/bd519ed79f56a8dd9ca9cd8bf7f52cc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HnggW7I8I3nJ8FAwOy2a7g.gif"/></div></div></figure><p id="4a71" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">但是目前已经坏了！</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lr"><img src="../Images/4fbbf2cb517be1b6624df62fc61b2c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVrinMoRRIMdpFMBvlYmuA.png"/></div></div></figure><p id="8203" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">这是使用debugger关键字的绝佳机会！通过查看页面上所有未定义的内容，我担心API调用可能会以某种方式出错，所以我将从在调用API的函数中添加debugger关键字开始。</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ls"><img src="../Images/6d51889637a5c92e6b53c30ef730a077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QclofNPnmZNOPKxO0iJXGA.png"/></div></div></figure><p id="17e4" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">现在我将刷新浏览器页面，并打开Chrome开发工具。在这里，我可以访问控制台、HTML元素和sources选项卡。还有很多开发工具，我不会在这里介绍，但我们将主要使用控制台和源代码选项卡。如果我单击sources选项卡，我可以看到我的项目文件夹，包括我的。js文档，现在，我可以看到我放置debugger关键字的那一行。</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/cbd3d8fcc12b5fac539ef5dcbf007047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1KzQAAbgMdS8U5b1KSsmlw.png"/></div></div></figure><p id="bcc1" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">通过导航到传输控件，我可以恢复、进入下一个函数、后退一个函数、逐行执行、激活/停用断点或暂停异常。</p><p id="bdea" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">对于这个例子，我将单步执行函数调用getAllQuotes()，看看会发生什么…在几个步骤之后，调试器跳到我的下一个函数调用:renderAllQuotes()。</p><pre class="kc kd ke kf gt lt lu lv lw aw lx bi"><span id="203c" class="ly lz in lu b gy ma mb l mc md">function getAndRenderAllQuotes() {<br/>    getAllQuotes()          &lt;----- calls the API<br/>    .then(renderAllQuotes)  &lt;----- renders the quotes to the page<br/>    .catch(error =&gt;   alert(error.message))<br/>  }</span></pre><p id="3f74" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">这告诉我，API获取请求似乎没有问题。如果我查看范围，我可以看到来自Futurama API的响应:一个由20个quote对象组成的数组:所以API调用是正常的！</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/5b37cadbe4fcbc4f6120b376f9d96e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZDwKCIKO0EVnnE2nOSH0A.png"/></div></div></figure><p id="581d" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">我可以继续单步执行我的代码，查看范围窗格寻找线索。当我逐步执行createThenAppendQuoteDiv函数时，我注意到创建了每个元素，然后附加了引号中的一个属性。例如，在第27行创建了图像元素，当src附加到第28行时，我可以看到图像元素中反映的信息。如果我以这种方式检查每个元素，我会注意到第25行的quoteText元素没有我期望的内容。上面写着“未定义”。这可能是我们问题的根源！</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/869b97ef48fef528171f736277ece4f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hM8WwVRE88f94ZTI_VFbtQ.gif"/></div></div></figure><p id="919c" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">仔细一看，我看到quoteText.innerText被设置为quote对象的键“quoteContent”的值…不幸的是，如果我检查quote对象的键，我可以看到“quote”，但看不到“quoteContent”。我将“quoteContent”改为“quote ”,我注意到调试器显示的不是undefined，而是引用文本的值！</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi me"><img src="../Images/ddf03a15fd300ecb79a0721338d38405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*49hueHllXxQPtmkkvP6CpQ.gif"/></div></div></figure><p id="80b8" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">现在，我将在我的文本编辑器中对第25行进行修改，从我的文件中删除debugger关键字并再次刷新。希望这个测验能成功！</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/169d0263182350562ac15f6499665b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*lQk-po8LP39SbFMjZk1TZw.gif"/></div></div></figure><p id="ac21" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">是啊！测验又开始了！我现在可以从我的文件中删除调试器关键字了。</p><p id="0393" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">希望这突出了一种方式，我们可以使用debugger关键字来真正减慢我们的代码，并减慢我们自己来查看每个元素，看看问题在哪里。</p><p id="ca9d" class="pw-post-body-paragraph kn ko in kp b kq kr jo ks kt ku jr kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">如果你觉得这篇文章有帮助，请鼓掌，并在评论区添加任何问题:)</p></div></div>    
</body>
</html>