<html>
<head>
<title>Creating A Dynamic Responsive Layout With React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React创建动态响应布局</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-a-dynamic-responsive-layout-with-react-e941ac9c7f2b?source=collection_archive---------0-----------------------#2020-03-09">https://javascript.plainenglish.io/creating-a-dynamic-responsive-layout-with-react-e941ac9c7f2b?source=collection_archive---------0-----------------------#2020-03-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a0c3d75ca0c0cf4f93df3735db37743e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gL8mA8yq6dCa3uzGnZKQow.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@domenicoloia?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Domenico Loia</a> on <a class="ae jz" href="https://unsplash.com/s/photos/responsive-design?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d5ff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">响应式设计通常用于创建桌面和移动友好的网站(以及介于两者之间的任何东西！)，这也是我很久以来一直想学的web开发的一个方面，但是一直没有机会去学。我最近发现自己有机会第一次尝试它，我想我应该分享一下结果。</p><p id="88b2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在继续之前，我想解释一下我所说的“动态响应布局”是什么意思。我将在本文中描述的设计是一个动态的响应式设计，它使用额外的JavaScript逻辑根据屏幕大小有条件地呈现不同的HTML结构，然后<em class="ky">和</em>使用响应式设计来改变该结构的CSS属性。其结果是一个容易扩展的，额外的设计自由度，让你的网站布局更有创意，而不牺牲移动用户所需的简洁设计。</p><figure class="la lb lc ld gt jo gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/14714c8c395af18b5e768b2979b2903c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*RHtm9uLECwvCAupOWl4tPw.gif"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">This is my finished layout test</figcaption></figure><p id="7262" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，事实证明，响应式设计的基础非常简单，我的项目简化版只花了大约30秒，这要归功于<a class="ae jz" href="https://internetingishard.com/html-and-css/responsive-design/" rel="noopener ugc nofollow" target="_blank">这篇简单易懂的文章</a>。我想要实现的最终版本只是稍微复杂了一点，但是要想出一个我满意的解决方案需要更多的思考和创造力。因此，首先我将进入我的工作，和我的设计的简单版本。</p><p id="e38e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我的项目中，我有一个保存状态对象数组的组件。每个对象都有一个图像、描述和一个唯一的id。当呈现组件时，它将这些对象映射到另一个组件，我显式地创建该组件来显示它们的信息。点击这些图像中的任何一个，就会在图像旁边弹出描述，就像这样:</p><figure class="la lb lc ld gt jo gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/b0e54068cc723f1002a16bfb6ed4166d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*JZry8wbZ1KCpBg5nyQITcg.gif"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">I used chihuahuas and gibberish to test my code, because why not?</figcaption></figure><p id="55cf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我知道，我还应该在让文本出现和消失时添加一个过渡，但这还不是我的重点！我所关注的是，让描述出现在大屏幕上的图片旁边，就像这样，然后当网站在小屏幕上被浏览时，出现在图片下面。</p><p id="063f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了实现这一点，我使用了一个名为“媒体查询”的CSS特性，根据所用屏幕的大小，有条件地改变应用于图像的CSS。使用媒体查询非常简单，如下所示:</p><p id="f1e6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe le lf lg lh b">@media screen and (max-width: 800px){ <em class="ky">your new CSS code here </em>}</code></p><p id="de8d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这到底是怎么回事？在我的CSS文件中的一个新行上，我使用关键字“@media”后跟“screen”来调用查询，以指定我正在使用的“媒体类型”(更多关于媒体类型的信息<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" rel="noopener ugc nofollow" target="_blank">在这里</a>！).在括号中，我指定了我想要使用什么参数来有条件地改变我的元素的CSS属性。在这种情况下，参数是“max-width ”,后跟我希望显示原始CSS的最大尺寸屏幕。在花括号中，您只需写出想要应用于较小屏幕的CSS属性。</p><p id="5f37" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于这个布局，这意味着我将应用于图像和文本的伸缩方向从“行”改为“列”。下面是它的一个简化版本:</p><figure class="la lb lc ld gt jo gh gi paragraph-image"><div class="gh gi li"><img src="../Images/59eee364e0ac26c1b2f78cc1a9812655.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*ease-Tdj9PriD_SBeYZ8Og.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The original CSS up top, followed by the altered version for smaller screens</figcaption></figure><p id="4f73" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是这段代码的结果:</p><figure class="la lb lc ld gt jo gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/12be51b207c7769bbbc7b70aa01d9fae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*wrQbQYJIw1QN5Y4hnzciFQ.gif"/></div></figure><p id="e880" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">很酷，对吧？但是，这是我想要的简单版本。在最终版本中，我希望当你向下滚动页面时，我的站点的桌面布局能够在图片的左侧和右侧交替弹出文本。有几种方法可以做到这一点，但是我知道每个对象的id都是按顺序排列的，所以我选择在显示组件中使用一个条件语句使它们交替排列，该条件语句检查每个id的值，然后在基于该id的图像之前或之后呈现描述。我的代码看起来有点像这样:</p><p id="51b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe le lf lg lh b">if(this.props.id % 2 === 0) { <br/> return ( &lt;div with the image&gt; &lt;div with the text&gt; ) <br/> } else { <br/>return (&lt;div with the text&gt; &lt;div with the image&gt; ) }</code></p><p id="d0a0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这对于较大的屏幕非常有用，但是当媒体查询接管并将flex-direction切换到column时，一半的描述呈现在图像下方，另一半呈现在图像上方，导致布局混乱且不一致。我需要做的最后一个修正是在浏览器窗口中添加一个事件监听器来检查屏幕的大小，然后有条件地更新组件的状态。在Google上快速搜索了一下如何编写一个调整大小事件监听器，我碰巧找到了我所需要的解决方案:</p><figure class="la lb lc ld gt jo gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/556bdf0ee21f525a674fdd54c89c962b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*e8qIGyDwZWfsqoNW3dX7-g.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">This code was written by Stack Overflow user Chase DeAnda, and posted <a class="ae jz" href="https://stackoverflow.com/questions/48669646/how-to-add-or-remove-a-classname-when-screen-size-change-in-react" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="916c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">以这个建议为灵感，我在if-else语句的返回中修改了三元组，并将现有的条件嵌套在其中。</p><p id="695a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">瞧啊。最终的结果是一个组件，它在较大的屏幕上交替使用文本-图像布局，但在较小的屏幕上切换到干净一致的布局，如本文顶部的Gif所示。</p><p id="8d6d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">非常感谢您的阅读！</p></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="8527" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://internetingishard.com/html-and-css/responsive-design/" rel="noopener ugc nofollow" target="_blank">响应式设计教程</a></p><p id="c4c8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" rel="noopener ugc nofollow" target="_blank">媒体查询</a></p></div></div>    
</body>
</html>