<html>
<head>
<title>Here Are 7 Weird Things in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中有7件奇怪的事情</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/here-are-7-weird-things-in-javascript-42da32e7b50?source=collection_archive---------2-----------------------#2020-04-20">https://javascript.plainenglish.io/here-are-7-weird-things-in-javascript-42da32e7b50?source=collection_archive---------2-----------------------#2020-04-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ac86" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">是[] ==！[] ?</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/751faa9879396bca8cdcb573129c4f0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udAn3EsDKBHT10fHnC1Rjg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@brucebmax?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Bruce Warrington</a> on <a class="ae ks" href="https://unsplash.com/s/photos/weird?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8bf2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript是一种伟大而有趣的语言，有着微妙而怪异的东西。所以今天我要用代码例子来回顾这7个奇怪的东西。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="68e4" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><code class="fe mo mp mq mr b">[]</code>等于<code class="fe mo mp mq mr b">![]</code></h1><p id="1155" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">数组等于非数组:</p><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="ff92" class="nb lx in mr b gy nc nd l ne nf">[] == ![]; // -&gt; true<br/>+[] == +![]; // -&gt; true</span></pre><p id="6958" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">等号运算符将两边转换成数字进行比较，两边因为不同的原因变成数字<code class="fe mo mp mq mr b">0</code>。</p><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="8fcf" class="nb lx in mr b gy nc nd l ne nf">[] == ![]; // -&gt; 0 == 0 -&gt; true</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="2b1e" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><code class="fe mo mp mq mr b">true</code>不等于<code class="fe mo mp mq mr b">![]</code>，但也不等于<code class="fe mo mp mq mr b">[]</code></h1><p id="2993" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">数组不等于<code class="fe mo mp mq mr b">true</code>，但非数组也不等于<code class="fe mo mp mq mr b">true</code>，数组等于<code class="fe mo mp mq mr b">false</code>，非数组也等于<code class="fe mo mp mq mr b">false</code>:</p><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="9f4a" class="nb lx in mr b gy nc nd l ne nf">true == []; // -&gt; false<br/>true == ![]; // -&gt; false<br/><br/>false == []; // -&gt; true<br/>false == ![]; // -&gt; true</span></pre><p id="b410" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">等号运算符将两边都转换成数字，所以我们有了<code class="fe mo mp mq mr b">1</code>和<code class="fe mo mp mq mr b">0</code>数字:</p><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="f871" class="nb lx in mr b gy nc nd l ne nf">true == ![]; // -&gt; false<br/>Number(true); // -&gt; 1<br/>Number([]); // -&gt; 0<br/>1 == 0; // -&gt; false</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="d04a" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">真就是假</h1><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="34c8" class="nb lx in mr b gy nc nd l ne nf">!!"false" == !!"true"; // -&gt; true<br/>!!"false" === !!"true"; // -&gt; true</span><span id="d798" class="nb lx in mr b gy ng nd l ne nf">// true is 'truthy' and represented by value 1 (number), 'true' in string form is NaN.<br/>true == "true"; // -&gt; false<br/>false == "false"; // -&gt; false</span><span id="f4d5" class="nb lx in mr b gy ng nd l ne nf">// 'false' is not the empty string, so it's a truthy value<br/>!!"false"; // -&gt; true<br/>!!"true"; // -&gt; true</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="239d" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">比较<code class="fe mo mp mq mr b">null</code>和<code class="fe mo mp mq mr b">0</code></h1><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="1730" class="nb lx in mr b gy nc nd l ne nf">null == 0; // -&gt; false<br/>null &gt; 0; // -&gt; false<br/>null &gt;= 0; // -&gt; true</span></pre><p id="104d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">相等运算符将<code class="fe mo mp mq mr b">null</code>转换为<code class="fe mo mp mq mr b">0</code>数字。所以<code class="fe mo mp mq mr b">null == 0</code>和<code class="fe mo mp mq mr b">null &gt; 0</code>是假的。但是<code class="fe mo mp mq mr b">null &gt;= 0</code>呢？<code class="fe mo mp mq mr b">null</code>有一个特殊的规则，它不等于其他任何东西。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="0835" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">三个数的比较</h1><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="594c" class="nb lx in mr b gy nc nd l ne nf">1 &lt; 2 &lt; 3; // -&gt; true<br/>3 &gt; 2 &gt; 1; // -&gt; false</span></pre><p id="c951" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它是如何工作的:</p><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="00de" class="nb lx in mr b gy nc nd l ne nf">1 &lt; 2 &lt; 3; // 1 &lt; 2 -&gt; true<br/>true &lt; 3; // true -&gt; 1<br/>1 &lt; 3; // -&gt; true<br/><br/>3 &gt; 2 &gt; 1; // 3 &gt; 2 -&gt; true<br/>true &gt; 1; // true -&gt; 1<br/>1 &gt; 1; // -&gt; false</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="7522" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><code class="fe mo mp mq mr b">0.1 + 0.2</code>的精度</h1><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="21e7" class="nb lx in mr b gy nc nd l ne nf">0.1 + 0.2 == 0.3 // -&gt; false<br/>0.1 + 0.2 // -&gt; 0.30000000000000004</span></pre><p id="4204" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">【StackOverflow的回答:</p><blockquote class="nh ni nj"><p id="aaa0" class="kt ku nk kv b kw kx jo ky kz la jr lb nl ld le lf nm lh li lj nn ll lm ln lo ig bi translated">程序中的常数<code class="fe mo mp mq mr b">0.2</code>和<code class="fe mo mp mq mr b">0.3</code>也将是它们真实值的近似值。碰巧离<code class="fe mo mp mq mr b">0.2</code>最近的<code class="fe mo mp mq mr b">double</code>比有理数<code class="fe mo mp mq mr b">0.2</code>大，而离<code class="fe mo mp mq mr b">0.3</code>最近的<code class="fe mo mp mq mr b">double</code>比有理数<code class="fe mo mp mq mr b">0.3</code>小。<code class="fe mo mp mq mr b">0.1</code>和<code class="fe mo mp mq mr b">0.2</code>之和大于有理数<code class="fe mo mp mq mr b">0.3</code>，因此与代码中的常数不一致。</p></blockquote></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="803a" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">默认行为Array.prototype.sort()</h1><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="3ed7" class="nb lx in mr b gy nc nd l ne nf">[10, 1, 3].sort() // -&gt; [1, 10, 3]</span></pre><p id="e78a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript将元素转换成字符串，然后比较它们的UTF-16代码序列。我们应该这样排序:</p><pre class="kd ke kf kg gt mx mr my mz aw na bi"><span id="7faa" class="nb lx in mr b gy nc nd l ne nf">[10, 1, 3].sort((a, b) =&gt; a - b) // -&gt; [1, 3, 10]</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="3c8a" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">结论</h1><p id="c090" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">感谢阅读，希望这篇文章对你有用。编码快乐！</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="ced8" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h1><p id="ce57" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">我们推出了三种新的出版物！通过以下方式表达对我们新出版物的热爱:<a class="ae ks" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kv io"/></a><a class="ae ks" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kv io">【UX】</strong></a><a class="ae ks" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kv io">【Python】</strong></a><strong class="kv io"/>——谢谢您，继续学习！</p><p id="c135" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们也一直对帮助推广高质量内容感兴趣。如果您有文章想提交给我们的任何出版物，请用您的中用户名在<a class="ae ks" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">submissions @ plain English . io</strong></a><strong class="kv io"/>发邮件给我们，我们会将您添加为作者。另外，请告诉我们您想添加到哪个出版物中。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="ce41" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">资源</h1><div class="no np gp gr nq nr"><a href="https://github.com/denysdovhan/wtfjs" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">denysdovhan/wtfjs</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">有趣且棘手的JavaScript示例列表JavaScript是一种很棒的语言。它有一个简单的语法，大的生态系统…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">github.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of km nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://xtrp.io/blog/2019/12/15/strange-things-in-js/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd io gy z fp nw fr fs nx fu fw im bi translated">只有在JavaScript中才会发生的5件奇怪而有趣的事情|弗雷德·亚当斯(xtp)-完整堆栈…</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">JavaScript是一种复杂的语言，就其代码如何被解析和运行而言，可能非常令人困惑。这是一个…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">xtrp.io</p></div></div><div class="oa l"><div class="og l oc od oe oa of km nr"/></div></div></a></div></div></div>    
</body>
</html>