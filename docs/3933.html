<html>
<head>
<title>Lazy Loading Images with Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用普通JavaScript延迟加载图像</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lazy-loading-images-with-vanilla-javascript-9e5e5a246df2?source=collection_archive---------8-----------------------#2020-11-04">https://javascript.plainenglish.io/lazy-loading-images-with-vanilla-javascript-9e5e5a246df2?source=collection_archive---------8-----------------------#2020-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a4b7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过延迟加载图像提高性能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e4cfbd4a14afc27840284f5ed47a905a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GteSma1ZnIH6Z-fYQ_kNQA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image Created with ❤️ By Mehdi Aoussiad.</figcaption></figure><h1 id="7b3f" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">介绍</h1><p id="98d6" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">今天互联网上的每个网站都需要图片。无论是营销横幅、产品图像还是徽标。想象一个没有图片的网站是不可能的。但问题是，这些图像的大小很大，因此，如果我们有很多图像需要同时加载，它们会影响我们的网页的性能。但是，通过延迟加载，我们可以解决这个问题。</p><p id="b238" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">延迟加载是一种有助于改善页面加载时间和减小页面大小的技术。我们可以将这种技术与<strong class="lp ir">交叉点观察器API </strong>一起使用，这将允许我们在滚动时只加载用户屏幕上可见的图像，而不是网页上使用的所有图像。因此，这对性能和用户体验都有好处。</p><div class="mo mp gp gr mq mr"><a href="https://medium.com/javascript-in-plain-english/exploring-the-intersection-observer-api-in-javascript-d1e80d6b97c4" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">探索JavaScript中的交叉点观察器API</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">通过实例了解交叉口观察者</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf kp mr"/></div></div></a></div><p id="7c9d" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">在本文中，我们将使用带有普通JavaScript的交叉点观察器API制作一些延迟加载的图像。我们将简单地从Unsplash中获取一些图像，并使它们延迟加载。你所需要的只是一些关于<strong class="lp ir"> HTML </strong>、<strong class="lp ir"> CSS </strong>、<strong class="lp ir"> JavaScript </strong>的基础知识。让我们看看这个简单的项目是什么样子的。</p><h1 id="5bf8" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">项目演示</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="2846" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">正如你所看到的，当我们滚动页面时，只有20%的图像在屏幕上可见，单个图像才会被加载。</p><h1 id="a8d8" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">让我们从HTML开始</h1><p id="ddba" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">HTML文件将有一个容器div，我们将把从<a class="ae ni" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>导入的所有图像放在其中。所有这些图像都有一个允许我们访问它的链接，您可以通过点击它并在一个新的选项卡中打开它(在Unsplash中)来获取图像的链接。例如，下面的链接是我们的一个图片链接:</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="a99e" class="no kw iq nk b gy np nq l nr ns">https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=750&amp;q=80</span></pre><p id="e4ff" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">将<code class="fe nt nu nv nk b"><strong class="lp ir">crop&amp;w=750&amp;q=80</strong></code>更改为<code class="fe nt nu nv nk b"><strong class="lp ir">crop&amp;w=10&amp;q=80</strong></code>会使我们的图像变得模糊，并阻止图像加载。因此，我们需要在HTML中这样做，然后在图像可见时在JavaScript中更改它。这将应用于所有图像。看看下面的例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The HTML Structure.</figcaption></figure><h1 id="22ba" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">让我们来设计我们的元素</h1><p id="a272" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">所以现在，我们将使用CSS样式化我们的元素。您可以阅读下面的代码来查看我们的样式表。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Styling Our Elements with CSS.</figcaption></figure><h1 id="1acf" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">JavaScript部分</h1><p id="7c1f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在JavaScript中，我们将使用交叉点观察器API来检查屏幕上图像的可见性。如果图像的20%是可见的(阈值:0.2)，我们将改变它的链接，使其加载。因此，只会加载用户屏幕上的可见图像。您可以查看下面的代码了解更多细节。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Our JavaScript Code.</figcaption></figure><p id="3536" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">现在恭喜你，你已经用普通的JavaScript轻松地创建了一些懒惰加载的图像。</p><h1 id="2e1d" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">结论</h1><p id="de10" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">延迟加载对于提高页面性能非常有用和重要。如今，图像对每个网站和应用程序都至关重要，为了不影响页面性能和用户体验，延迟加载图像是必须的。</p><p id="3510" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">感谢您阅读本文，希望您觉得有用。</p><h2 id="7def" class="no kw iq bd kx nx ny dn lb nz oa dp lf lw ob oc lh ma od oe lj me of og ll oh bi translated">进一步阅读</h2><div class="mo mp gp gr mq mr"><a href="https://medium.com/javascript-in-plain-english/5-ways-to-improve-your-web-page-performance-1af1f57175bb" rel="noopener follow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">提高网页性能的5种方法</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">提高网页性能的5个有用技巧</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">medium.com</p></div></div><div class="na l"><div class="oi l nc nd ne na nf kp mr"/></div></div></a></div></div></div>    
</body>
</html>