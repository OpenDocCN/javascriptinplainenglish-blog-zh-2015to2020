<html>
<head>
<title>React Best Practices —Small Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应最佳实践—小组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-best-practices-small-components-f998a8e8ab7e?source=collection_archive---------10-----------------------#2020-08-08">https://javascript.plainenglish.io/react-best-practices-small-components-f998a8e8ab7e?source=collection_archive---------10-----------------------#2020-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2b0a4b8bb8c5e5af5c7dbece0674f1fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x6LXQsfFaZxd0yJE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@davies_designs?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Davies Designs Studio</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bc2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看在编写React应用程序时应该遵循的一些最佳实践。</p><h1 id="d98b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">保持组件小而具体</h1><p id="5be8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">组件应该只做一件事。</p><p id="68f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以更容易地测试和维护它们。</p><p id="fc66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个小组件都可以跨项目重用。</p><p id="72fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">社区可以使用这些组件。</p><p id="2ebd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以更容易地在更小的组件上实现性能优化，</p><p id="2586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更大的组件必须做更多的工作，并且更难维护。</p><h1 id="9ae9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">复用性</h1><p id="dadf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该创建可重用的组件，这样我们就不必一直添加新的组件。</p><p id="35d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们可以用于任何数量的项目。</p><p id="25d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一个组件变大了，我们可以把它们分解成更小的组件。</p><p id="a42b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="65a9" class="mn lc iq mj b gy mo mp l mq mr">const Button = ({ iconClass, onClick }) =&gt; {<br/>  return (<br/>    &lt;button onClick={onClick()}&gt;<br/>      &lt;i class={iconClass} /&gt;<br/>    &lt;/button&gt;<br/>  );<br/>};</span></pre><p id="0976" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">做一个可重复使用的按钮。</p><p id="90b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它使用了<code class="fe ms mt mu mj b">iconClass</code>和<code class="fe ms mt mu mj b">onClick</code>道具，这样我们就可以将点击处理程序和图标类传递给它们。</p><p id="d681" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有重复的代码，我们应该把它们合并成一个。</p><p id="2417" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以只用一个图标做任何事情。</p><h1 id="635c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将CSS放到JavaScript中</h1><p id="10e9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将CSS放入JavaScript代码中。</p><p id="07c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一个项目是用Create React App创建的，我们可以将CSS文件作为模块导入。</p><p id="e1d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为Webpack添加了CSS加载器来让我们这样做。</p><p id="00cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1465" class="mn lc iq mj b gy mo mp l mq mr">import "./styles.css";</span></pre><p id="566b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">导入样式。</p><p id="47ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以在项目中添加像EmotionJS这样的库。</p><p id="0a19" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以通过导入库来生成用于生产的CSS文件。</p><p id="8c51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过运行以下命令来安装它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d726" class="mn lc iq mj b gy mo mp l mq mr">npm install --save emotion</span></pre><p id="002f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7734" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { css } from "emotion";</span><span id="3037" class="mn lc iq mj b gy mv mp l mq mr">const color = "white";</span><span id="2b5b" class="mn lc iq mj b gy mv mp l mq mr">const Div = props =&gt; {<br/>  return (<br/>    &lt;div<br/>      className={css`<br/>        padding: 32px;<br/>        background-color: yellow;<br/>        font-size: 24px;<br/>        border-radius: 4px;<br/>        &amp;:hover {<br/>          color: ${color};<br/>        }<br/>      `}<br/>    &gt;<br/>      Hover to change color.<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="821d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加我们的CSS代码。</p><p id="3b53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这比仅仅在CSS文件中写出代码更方便，因为我们可以动态地改变样式。</p><p id="82f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe ms mt mu mj b">color</code>做到了这一点。</p><p id="94b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">css</code>标签将样式字符串转换成一个对象。</p><p id="3bcd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有其他像styled-jsx和styled-components这样的库让我们做同样的事情。</p><h1 id="228f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">仅在必要时进行注释</h1><p id="64b1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该只在必要的地方进行评论。</p><p id="ce3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们不需要用重复代码中内容的注释来搅乱我们的代码。</p><p id="0970" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们不想在代码和注释之间产生差异。</p><p id="7161" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">评论很容易过时。</p><h1 id="2f8d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">以功能命名组件</h1><p id="2b87" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">以所具有的功能来命名组件使得以后更容易找到它们。</p><p id="d067" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以更容易地找到组件在哪里，并知道它做什么。</p><p id="190c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将一个组件命名为<code class="fe ms mt mu mj b">AuthorAvatar</code>，这样我们就知道头像是为作者准备的。</p><p id="f09a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为功能命名一个函数也使它更容易被发现。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/6667bed4618774970060add73ef7f9ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S59mlW1ECGUFkllQ"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">DPhoto by <a class="ae kc" href="https://unsplash.com/@holdsworthdesign?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Brian Holdsworth</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="1f0f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7219" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该使功能变得小而可重用。我们应该根据它们的功能来命名，这样我们就能找到它们。</p><h2 id="e839" class="mn lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简单英语的JavaScript</strong></h2><p id="2332" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码获得更多类似内容，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>