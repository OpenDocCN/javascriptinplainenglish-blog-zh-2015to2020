<html>
<head>
<title>How Three Dots Manipulate Arrays in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中三个点如何操作数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-three-dots-manipulate-arrays-in-javascript-c664fea01bd8?source=collection_archive---------3-----------------------#2020-11-05">https://javascript.plainenglish.io/how-three-dots-manipulate-arrays-in-javascript-c664fea01bd8?source=collection_archive---------3-----------------------#2020-11-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0748" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们用更少的代码处理数组，同时保持可读性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1bbd27e637969db9f3c3d034f66b344c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FF6k1dTEHLnuLWpkRx0dHw.png"/></div></div></figure><p id="1037" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">spread操作符是ES6 的一大特色。它带来了一些简化代码库的好处。</p><p id="5836" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，您将了解简单的三个点<code class="fe lo lp lq lr b">(…)</code>如何比其他方法更好地操作数组。继续读。</p><h1 id="f6e4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.克隆阵列</h1><p id="0f3d" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">一开始就投身于JavaScript世界的初级开发人员可能会认为克隆数组非常简单。只需将给定数组的值赋给另一个变量，如下所示:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="712e" class="mt lt iq lr b gy mu mv l mw mx">let names = [‘Amy’, ‘James’, ‘Joey’];<br/>let clonedNames = names;<br/>console.log(clonedNames); // [“Amy”, “James”, “Joey”]</span></pre><p id="dfd2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">大错特错。</p><p id="8333" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为JavaScript中的数组是引用类型，所以上面的例子是关于指向同一个内存地址的两个变量。如果你改变其中一个的值，另一个也会改变。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="e065" class="mt lt iq lr b gy mu mv l mw mx">clonedNames[0] = ‘David’;<br/>console.log(clonedNames); // [“David”, “James”, “Joey”]<br/>console.log(names); // [“David”, “James”, “Joey”]</span></pre><p id="4f1e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如您所见，我们改变了第一个元素<code class="fe lo lp lq lr b">clonedNames</code>的值，原始数组中的第一个元素也随之改变。所以，这不是克隆。</p><p id="c317" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们来解决它:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="53c4" class="mt lt iq lr b gy mu mv l mw mx">let names = [‘Amy’, ‘James’, ‘Joey’];<br/>let clonedNames = [...names];<br/>clonedNames[0] = ‘David’;<br/>console.log(clonedNames); // [“David”, “James”, “Joey”]<br/>console.log(names); // [“Amy”, “James”, “Joey”]</span></pre><p id="cffe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这一次，我们使用三个圆点<code class="fe lo lp lq lr b">(…)</code>。现在，实际值被复制到“clonedNames”变量，而不再是内存地址。更改“clonedNames”的值不会影响原始数组值。</p><h1 id="e03f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.将节点列表转换为数组</h1><p id="7cae" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">当你需要处理html DOM时，这个非常有用。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="8315" class="mt lt iq lr b gy mu mv l mw mx">let nodes = document.querySelectorAll(‘ul’);<br/>console.log(nodes); // object NodeList<br/>let array = [...nodes];<br/>console.log(array); // [&lt;ul elements&gt;]</span></pre><h1 id="6749" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.将字符串转换为数组</h1><p id="e022" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">使用spread运算符将字符串转换为数组再简单不过了:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="1565" class="mt lt iq lr b gy mu mv l mw mx">let name = ‘Joey’;<br/>let nameArray = [...name];<br/>console.log(nameArray);</span></pre><p id="47e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">没有额外的方法。没有复杂的算法。只是三个简单的点<code class="fe lo lp lq lr b">(…)</code></p><h1 id="eede" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.合并数组</h1><p id="0b6a" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">我们有几种方法来合并数组。使用spread是最简单快捷的方法。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="e204" class="mt lt iq lr b gy mu mv l mw mx">let languages1 = [‘JavaScript’, ‘Python’, ‘C#’];<br/>let languages2 = [‘C++’, ‘Kotlin’, ‘PHP’, ‘Ruby’];<br/>let mergedLanguages = [...languages1, ...languages2];<br/>console.log(mergedLanguages); //[“JavaScript”, “Python”, “C#”, “C++”, “Kotlin”, “PHP”, “Ruby”]</span></pre><p id="15a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">或者你甚至可以在给定数组的任意索引处插入数组。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="f893" class="mt lt iq lr b gy mu mv l mw mx">let languages1 = [‘JavaScript’, ‘Python’, ‘C#’];<br/>let languages2 = [‘C++’, ‘Kotlin’, ...languages1, ‘PHP’, ‘Ruby’];<br/>console.log(languages2); // [“C++”, “Kotlin”, “JavaScript”, “Python”, “C#”, “PHP”, “Ruby”]</span></pre><h1 id="14c8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">5.将集合转换为数组</h1><p id="f963" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">如果给你一个集合，你需要使用一个索引集合而不是一个键集合，你必须把这个集合转换成一个数组。Spread operator可以帮助您轻松完成这项任务。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="0ff8" class="mt lt iq lr b gy mu mv l mw mx">let set = new Set([2, 0, 3, 1]);<br/>let array = [...set];<br/>console.log(array); // [2, 0, 3, 1]</span></pre><h1 id="2079" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">6.将地图转换为数组</h1><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="1ffd" class="mt lt iq lr b gy mu mv l mw mx">let map = new Map().set(‘key1’, 1).set(‘key2’, 2).set(‘key3’, 3);<br/>let array = [...map];<br/>console.log(array); // [[“key1”, 1], [“key2”, 2], [“key3”, 3]]</span></pre><p id="b47d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">或者只是映射键/值:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="5f5c" class="mt lt iq lr b gy mu mv l mw mx">let keys = [...map.keys()];<br/>console.log(keys); // [“key1”, “key2”, “key3”]</span><span id="b07c" class="mt lt iq lr b gy my mv l mw mx">let values = [...map.values()];<br/>console.log(values); // [1, 2, 3]</span></pre><h1 id="38e8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">7.将参数作为数组传递</h1><p id="855b" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">JavaScript的一些内置函数可以用任意数量的参数调用，比如<code class="fe lo lp lq lr b">Math.min()</code>。你有一个数组，但是你不能直接把这个数组传递给函数，因为它单独接受参数，而不是整个数组。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="4c53" class="mt lt iq lr b gy mu mv l mw mx">let numbers = [2, 5, 1, 7, 4, 3];<br/>let min = Math.min(numbers);<br/>console.log(min); // NaN</span></pre><p id="371d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如你在上面的例子中看到的，它不起作用。幸运的是，spread运算符可以解决这个问题。</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="a0d1" class="mt lt iq lr b gy mu mv l mw mx">let numbers = [2, 5, 1, 7, 4, 3];<br/>let min = Math.min(...numbers);<br/>console.log(min); // 1</span></pre><h1 id="18b5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="1472" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">在JavaScript中有很多方法可以解决数组问题。以合并数组为例，我们可以使用<code class="fe lo lp lq lr b">.concat()</code>、<code class="fe lo lp lq lr b">.push()</code>或<code class="fe lo lp lq lr b"><a class="ae ln" href="https://medium.com/javascript-in-plain-english/how-to-control-this-better-in-javascript-dcacd54bcf97" rel="noopener">.apply()</a></code>、<a class="ae ln" href="https://medium.com/javascript-in-plain-english/how-to-control-this-better-in-javascript-dcacd54bcf97" rel="noopener">函数</a>。但是最干净的方法是使用spread运算符。不是很多东西，而是三个简单的点<code class="fe lo lp lq lr b">(…)</code></p><p id="3253" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">希望你能把上面的用法应用到你的项目中。</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h1 id="6ec1" class="ls lt iq bd lu lv ng lx ly lz nh mb mc jw ni jx me jz nj ka mg kc nk kd mi mj bi translated">进一步阅读</h1><div class="nl nm gp gr nn no"><a href="https://medium.com/javascript-in-plain-english/9-tips-for-writing-scalable-javascript-code-e6bcfc791882" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">编写可伸缩JavaScript代码的9个技巧</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">您应该从一开始就准备好扩展您的项目</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">medium.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kp no"/></div></div></a></div></div></div>    
</body>
</html>