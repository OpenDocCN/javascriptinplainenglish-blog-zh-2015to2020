<html>
<head>
<title>Arrow Functions vs. Regular Functions in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的箭头函数与常规函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/arrow-functions-vs-regular-functions-in-javascript-f98687f23a6d?source=collection_archive---------1-----------------------#2020-01-25">https://javascript.plainenglish.io/arrow-functions-vs-regular-functions-in-javascript-f98687f23a6d?source=collection_archive---------1-----------------------#2020-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3934" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">它们如何工作以及使用哪一个</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0c510b39f2f41145a544f6e1ddb828f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sCGizMVpK47q7jKKRsbruA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Arrow &amp; regular functions? Let the showdown begin!</figcaption></figure><p id="0754" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您是否注意到JavaScript中除了“普通”函数之外还有另一种类型的函数，包含function-keyword？你当然有。但是你知道两者的区别吗，更何况箭头函数看起来酷多了？无论如何，这篇文章很好地总结了这两者，以便您在将来做出更好的决定:)</p><h1 id="375a" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">基本语法</h1><p id="30b6" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这里基本上是一样的功能。首先，作为常规的一个，第二个是ES6箭头功能:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="8e5d" class="mt ls iq mp b gy mu mv l mw mx">function add(a, b) {<br/>   return a + b;<br/>}</span><span id="dd7b" class="mt ls iq mp b gy my mv l mw mx">add(2, 2)   // 4</span></pre><p id="be0e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">箭头功能:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="20a4" class="mt ls iq mp b gy mu mv l mw mx">const add = (a, b) =&gt; {<br/>   return a + b;<br/>};</span><span id="74f6" class="mt ls iq mp b gy my mv l mw mx">add(2, 2)   // 4</span></pre><p id="5307" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以我们看到这两个函数在这里有相同的效果。但引人注目的是，我们将箭头函数定义为一个变量。当我们定义一个变量时，我们可以用几种方式在JavaScript中定义它。例如，我们可以使用一个<strong class="kx ir">字母</strong>或者甚至一个<strong class="kx ir">变量</strong>来代替我们函数的<strong class="kx ir">常量</strong>。不同的变量类型做什么是一个非常特殊的主题，我将在另一篇文章中讨论。</p><h1 id="ff5f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">对于箭头函数，有一些很酷的快捷键</h1><p id="5e1c" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">如果我们从头开始引用我们的Arrow函数，我们可以通过简单地省略<strong class="kx ir"> return </strong>关键字并使用圆括号代替花括号，或者甚至完全省略括号来使它变得更短。</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="5b3e" class="mt ls iq mp b gy mu mv l mw mx">const add = (a, b) =&gt; {<br/>   return a + b;<br/>}</span><span id="8158" class="mt ls iq mp b gy my mv l mw mx">// or:<br/>const add = (a, b) =&gt; ( a + b )</span><span id="1150" class="mt ls iq mp b gy my mv l mw mx">// or:<br/>const add = (a, b) =&gt; a + b</span></pre><h2 id="2a51" class="mt ls iq bd lt mz na dn lx nb nc dp mb le nd ne md li nf ng mf lm nh ni mh nj bi translated">现在它变得更小了:当我们希望括号中只有一个参数时，我们可以省略它们</h2><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="0df6" class="mt ls iq mp b gy mu mv l mw mx">const multiply = a =&gt; a * 2</span><span id="b6db" class="mt ls iq mp b gy my mv l mw mx">multiply(2)  // 4</span></pre><h1 id="0b2d" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">够审美。现在真正的区别在哪里？</h1><h2 id="8a86" class="mt ls iq bd lt mz na dn lx nb nc dp mb le nd ne md li nf ng mf lm nh ni mh nj bi translated">让我们澄清几个误解:</h2><ul class=""><li id="8d20" class="nk nl iq kx b ky mj lb mk le nm li nn lm no lq np nq nr ns bi translated">两者都可以匿名</li><li id="057f" class="nk nl iq kx b ky nt lb nu le nv li nw lm nx lq np nq nr ns bi translated">两者都可以使用一个最多无限的参数并返回结果</li><li id="8051" class="nk nl iq kx b ky nt lb nu le nv li nw lm nx lq np nq nr ns bi translated">现代JavaScript支持这两者</li></ul><h2 id="a1db" class="mt ls iq bd lt mz na dn lx nb nc dp mb le nd ne md li nf ng mf lm nh ni mh nj bi translated">差异:</h2><ul class=""><li id="c167" class="nk nl iq kx b ky mj lb mk le nm li nn lm no lq np nq nr ns bi translated">最重要的是:箭头函数不绑定自己的<strong class="kx ir">这个</strong></li><li id="2283" class="nk nl iq kx b ky nt lb nu le nv li nw lm nx lq np nq nr ns bi translated">箭头函数没有一个<strong class="kx ir">参数</strong>对象</li></ul><p id="5ab1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> this </strong>表示调用我们函数的对象，在普通函数中<br/>在Arrow函数中，然而<strong class="kx ir"> this </strong>关键字总是表示定义Arrow函数的对象，所以<strong class="kx ir"> this </strong>在封闭上下文中有其原始含义。<br/>让我们来看一个例子:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="0881" class="mt ls iq mp b gy mu mv l mw mx">const speed = 100;</span><span id="0d71" class="mt ls iq mp b gy my mv l mw mx">const Car = {<br/> speed: 200,<br/> speedUp: function() {<br/>    this.speed++;<br/>    return this.speed;<br/> }<br/>};</span><span id="cb56" class="mt ls iq mp b gy my mv l mw mx">console.log(Car.speedUp()); <em class="ny">// 201</em></span></pre><p id="5810" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以在普通函数中，使用<strong class="kx ir">这个</strong>关键字，我们可以访问我们在上下文中定义的变量。所以在我们的例子中，全局作用域<br/><strong class="kx ir">const speed = 100；<br/> </strong>将被忽略，但我们将使用物体内部的速度变量。<br/>区分变量内部的上下文和外部的上下文，是<strong class="kx ir">这个</strong>关键字的主要目的。</p><p id="816b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们现在将<strong class="kx ir">加速</strong>功能改为箭头功能，这将不再有效。两个<strong class="kx ir">速度</strong>变量都不会被使用。</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="48fe" class="mt ls iq mp b gy mu mv l mw mx">const speed = 100;</span><span id="22f6" class="mt ls iq mp b gy my mv l mw mx">const Car = {<br/> speed: 200,<br/> speedUp: () =&gt; {<br/>    this.speed++;<br/>    return this.speed;<br/> }<br/>};</span><span id="9f09" class="mt ls iq mp b gy my mv l mw mx">console.log(Car.speedUp()); <em class="ny">// NaN</em></span></pre><h1 id="992f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">何时以及为什么要使用箭头函数？</h1><ul class=""><li id="d144" class="nk nl iq kx b ky mj lb mk le nm li nn lm no lq np nq nr ns bi translated">箭头函数更容易阅读和编写，尤其是在更复杂的代码中，例如，在使用currying时:</li></ul><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="5911" class="mt ls iq mp b gy mu mv l mw mx">const add = x =&gt; y =&gt; x + y; <br/>// vs.<br/>function add(x) { <br/>  return function(y) { <br/>    return x + y; <br/>  }; <br/>}</span></pre><ul class=""><li id="9679" class="nk nl iq kx b ky kz lb lc le nz li oa lm ob lq np nq nr ns bi translated">作用域的安全性:使用箭头函数来保证来自封闭上下文的原始<strong class="kx ir"> this </strong>将被使用。这个例子将很好地工作，由于这个好处:</li></ul><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="c5ad" class="mt ls iq mp b gy mu mv l mw mx">function Car() {<br/>  this.speed = 0;<br/>  setInterval(() =&gt; {<br/>    this.speed++;<br/>    console.log(this.speed);<br/>  }, 1000);<br/>}</span><span id="bf1b" class="mt ls iq mp b gy my mv l mw mx">Car();   // will give out 1, 2, 3 etc.</span></pre><h1 id="fdb7" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">何时以及为什么使用常规函数？</h1><ul class=""><li id="eae4" class="nk nl iq kx b ky mj lb mk le nm li nn lm no lq np nq nr ns bi translated">函数声明被<strong class="kx ir"> <em class="ny">吊起</em> </strong>，所以可以在声明之前使用</li></ul><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="d1ca" class="mt ls iq mp b gy mu mv l mw mx">// this will work:<br/>hello();<br/>function hello() {<br/>  console.log(“hello”);<br/>}</span><span id="ec76" class="mt ls iq mp b gy my mv l mw mx">// this will not work:<br/>hello();<br/>const hello = () =&gt; {<br/>  console.log(“hello”);<br/>};</span></pre><ul class=""><li id="ff51" class="nk nl iq kx b ky kz lb lc le nz li oa lm ob lq np nq nr ns bi translated">全局范围内的<strong class="kx ir">窗口</strong>对象可以直接寻址</li></ul><p id="310a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最后一切都由你决定，你可以自由决定你要用哪一个。没有明显的赢家。</p><p id="3294" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">关于我，作者:)<br/> </strong>嗨！非常感谢您的阅读，我叫路易斯，是一名来自德国的18岁学生。我热爱Web开发，包括后端和前端。我最喜欢的技术是React，Vue，React Native和Node.js。</p><p id="37fe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请务必关注我，了解更多相关内容，并随时查看我的IG @ Louis . jsx &amp; @ coding culture shop</p><p id="d065" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">祝您愉快！</p></div></div>    
</body>
</html>