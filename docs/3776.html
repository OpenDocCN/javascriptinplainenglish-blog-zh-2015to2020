<html>
<head>
<title>Best of Modern JavaScript — Find Item and Holes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代JavaScript精华—查找项目和漏洞</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/best-of-modern-javascript-find-item-and-holes-776ac1e37fd6?source=collection_archive---------6-----------------------#2020-10-24">https://javascript.plainenglish.io/best-of-modern-javascript-find-item-and-holes-776ac1e37fd6?source=collection_archive---------6-----------------------#2020-10-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0cc5f04db9846cb795c468a3ba4b9aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BO67GWhclcAfZ6qC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@art_maltsev?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Artem Maltsev</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="281a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自2015年以来，JavaScript有了巨大的进步。</p><p id="c894" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在用起来比以前舒服多了。</p><p id="193a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看<code class="fe lb lc ld le b">Array</code>和holes的一些实例方法。</p><h1 id="bca2" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">array . prototype . find索引</h1><p id="1408" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">findIndex</code>方法让我们返回找到的条目的索引。</p><p id="4355" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要一个回调函数来返回我们正在寻找的条件。</p><p id="9544" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是我们在回调中使用的<code class="fe lb lc ld le b">this</code>的值。</p><p id="d5db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回满足给定条件的第一个元素的索引。</p><p id="f04b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果没有找到，则返回-1。</p><p id="4bb7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="2399" class="mq lg iq le b gy mr ms l mt mu">const index = [2, -1, 6].findIndex(x =&gt; x &lt; 0)</span></pre><p id="b9ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe lb lc ld le b">index</code>就是1。</p><p id="0a0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们写下:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="503f" class="mq lg iq le b gy mr ms l mt mu">const index = [2, 1, 6].findIndex(x =&gt; x &lt; 0)</span></pre><p id="2506" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe lb lc ld le b">index</code>就是-1。</p><p id="f2c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">签名是回拨是<code class="fe lb lc ld le b">predicate(element, index, array)</code>。</p><p id="dcf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">element</code>是被迭代的数组。</p><p id="72f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">index</code>是数组的索引。</p><p id="db96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">array</code>是它所调用的数组。</p><h1 id="d453" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">通过<code class="fe lb lc ld le b">findIndex()</code>查找<code class="fe lb lc ld le b">NaN</code></h1><p id="50eb" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">有了<code class="fe lb lc ld le b">findIndex</code>，我们就可以找到<code class="fe lb lc ld le b">NaN</code>，因为我们可以用<code class="fe lb lc ld le b">Object.is</code>与<code class="fe lb lc ld le b">NaN</code>进行比较。</p><p id="deed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a908" class="mq lg iq le b gy mr ms l mt mu">const index = [2, NaN, 6].findIndex(x =&gt; Object.is(x, NaN))</span></pre><p id="6572" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">Object.is</code>假设<code class="fe lb lc ld le b">NaN</code>与自身相同，那么我们可以用它来检查<code class="fe lb lc ld le b">NaN</code>。</p><p id="d432" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这与<code class="fe lb lc ld le b">indexOf</code>不兼容。</p><h1 id="d088" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">Array.prototype.copyWithin()</code></h1><p id="7e35" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">方法让我们将数组的一部分复制到另一个位置。</p><p id="5238" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的签名是<code class="fe lb lc ld le b">Array.prototype.copyWithin(target: number,<br/> start: number, end = this.length)</code>。</p><p id="c95c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">target</code>是要复制到的起始索引。</p><p id="650b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">start</code>是要复制的块的起始索引。</p><p id="5d25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe lb lc ld le b">end</code>是要从中复制的块的结束索引。</p><p id="4dfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="f93e" class="mq lg iq le b gy mr ms l mt mu">const arr = [1, 2, 3, 4, 5, 6];<br/>arr.copyWithin(2, 0, 2);</span></pre><p id="6916" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="afe6" class="mq lg iq le b gy mr ms l mt mu">[1, 2, 1, 2, 5, 6]</span></pre><p id="7d37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe lb lc ld le b">arr</code>的新值。</p><h1 id="6ab7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">Array.prototype.fill()</code></h1><p id="9ec4" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">Array.prototype.fill()</code>是一个让我们用给定的值填充数组的方法。</p><p id="5d89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的签名是:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9dc3" class="mq lg iq le b gy mr ms l mt mu">Array.prototype.fill(value, start=0, end=this.length)</span></pre><p id="dc30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">value</code>是要填充的值。</p><p id="3649" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">start</code>是数组填充的起始索引。</p><p id="0607" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">end</code>是要填充到数组中的结束索引。</p><p id="e27c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="3219" class="mq lg iq le b gy mr ms l mt mu">const arr = ['foo', 'bar', 'baz', 'qux'];<br/>arr.fill(7, 1, 3)</span></pre><p id="a171" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">则<code class="fe lb lc ld le b">arr</code>为<code class="fe lb lc ld le b">[“foo”, 7, 7, “qux”]</code>。</p><h1 id="3c56" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">阵列中的孔</h1><p id="8dc2" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">JavaScript允许在数组中打孔。</p><p id="1ee1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数组中没有关联元素的索引是一个洞。</p><p id="6811" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="dfd5" class="mq lg iq le b gy mr ms l mt mu">const arr = ['foo', , 'bar']</span></pre><p id="3045" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一个有洞的数组。</p><p id="c92b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ES6治疗<code class="fe lb lc ld le b">undefined</code>或<code class="fe lb lc ld le b">null</code>元素中的洞。</p><p id="8cf3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们打电话:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="eb91" class="mq lg iq le b gy mr ms l mt mu">const index = [, 'foo'].findIndex(x =&gt; x === undefined);</span></pre><p id="8800" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">index</code>为0。</p><p id="7573" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们写道:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9e41" class="mq lg iq le b gy mr ms l mt mu">const entries = ['foo', , 'bar'].entries();</span></pre><p id="8581" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">则<code class="fe lb lc ld le b">entries</code>为:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9e8b" class="mq lg iq le b gy mr ms l mt mu">[<br/>  [<br/>    0,<br/>    "foo"<br/>  ],<br/>  [<br/>    1,<br/>    null<br/>  ],<br/>  [<br/>    2,<br/>    "bar"<br/>  ]<br/>]</span></pre><p id="28af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对待他们的方式有些不一致。</p><p id="2387" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe lb lc ld le b">in</code>操作器:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="293c" class="mq lg iq le b gy mr ms l mt mu">const arr = ['foo', , 'bar'];<br/>console.log(1 in arr);</span></pre><p id="7ff3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe lb lc ld le b">arr</code>记录<code class="fe lb lc ld le b">false</code>。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/fcc268646f090058b98699737a67cea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zb_VR0K72lLp84Cf"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Paweł Czerwiński</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="1bd9" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="dd90" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">JavaScript允许在数组中打孔。</p><p id="3578" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，还有各种方法来查找带有数组的项。</p><p id="1d1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果是这样的话，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获得更多类似的内容吧！</strong></p></div></div>    
</body>
</html>