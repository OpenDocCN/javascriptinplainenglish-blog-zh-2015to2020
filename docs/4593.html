<html>
<head>
<title>Next.js — Styling Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js样式组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/next-js-styling-components-e282adde3ae?source=collection_archive---------11-----------------------#2020-12-22">https://javascript.plainenglish.io/next-js-styling-components-e282adde3ae?source=collection_archive---------11-----------------------#2020-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c6ecbeb270e1957af3e78b4e7b82dfda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GIDyNCP8nmKvesqz"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@joshuaryanphoto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Reddekopp</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cba0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以轻松地创建服务器端呈现的React应用程序和静态站点。</p><p id="b37f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Next.js设计页面样式。</p><h1 id="b08a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">内置CSS支持</h1><p id="3a93" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Next.js允许我们从JavaScript文件导入CSS。</p><p id="30c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它将<code class="fe me mf mg mh b">import</code>扩展到基本JavaScript用法之外，让我们可以导入CSS文件。</p><p id="d987" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以在项目中添加一个全局样式表。</p><p id="b0ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们只需创建一个CSS文件并将其导入到<code class="fe me mf mg mh b">pages/_app.js</code>中。</p><p id="7794" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f654" class="mq lc iq mh b gy mr ms l mt mu">body {<br/>  padding: 20px 20px 60px;<br/>  max-width: 680px;<br/>  margin: 0 auto;<br/>}</span></pre><p id="fcc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">styles.css</code>。</p><p id="6003" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe me mf mg mh b">pages/_app.js</code>中，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="93ca" class="mq lc iq mh b gy mr ms l mt mu">import '../styles/globals.css'<br/>import './styles.css'</span><span id="4515" class="mq lc iq mh b gy mv ms l mt mu">function MyApp({ Component, pageProps }) {<br/>  return &lt;Component {...pageProps} /&gt;<br/>}</span><span id="70ee" class="mq lc iq mh b gy mv ms l mt mu">export default MyApp</span></pre><p id="d336" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了<code class="fe me mf mg mh b">styles.css</code>进口。</p><p id="f58e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其余的代码是在我们创建项目时生成的。</p><p id="e2e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想从<code class="fe me mf mg mh b">node_modules</code>文件夹中导入，那么我们必须在<code class="fe me mf mg mh b">pages/_app.js</code>中这样做。</p><h1 id="8c3f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">添加组件级CSS</h1><p id="93d9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">除了全局CSS之外，我们还可以添加组件级CSS。</p><p id="5699" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们遵循<code class="fe me mf mg mh b">[name].module.css</code>的命名约定，其中<code class="fe me mf mg mh b">[name]</code>是组件的文件名。</p><p id="35f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，假设我们有<code class="fe me mf mg mh b">pages/yesno.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b796" class="mq lc iq mh b gy mr ms l mt mu">function YesNo({ data }) {<br/>  return &lt;p&gt;{data.answer}&lt;/p&gt;<br/>}</span><span id="3e36" class="mq lc iq mh b gy mv ms l mt mu">export async function getServerSideProps() {<br/>  const res = await fetch(`https://yesno.wtf/api`)<br/>  const data = await res.json()<br/>  return { props: { data } }<br/>}</span><span id="07b9" class="mq lc iq mh b gy mv ms l mt mu">export default YesNo</span></pre><p id="56fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用以下代码创建一个名为<code class="fe me mf mg mh b">yesno.module.js</code>的文件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cc6c" class="mq lc iq mh b gy mr ms l mt mu">.yesno {<br/>  padding: 20px 20px 60px;<br/>  max-width: 680px;<br/>  margin: 0 auto;<br/>}</span></pre><p id="2804" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以将其导入<code class="fe me mf mg mh b">yesno.js</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a799" class="mq lc iq mh b gy mr ms l mt mu">import styles from './yesno.module.css';</span><span id="fb55" class="mq lc iq mh b gy mv ms l mt mu">function YesNo({ data }) {<br/>  return &lt;p className={styles.yesno}&gt;{data.answer}&lt;/p&gt;<br/>}</span><span id="534b" class="mq lc iq mh b gy mv ms l mt mu">export async function getServerSideProps() {<br/>  const res = await fetch(`https://yesno.wtf/api`)<br/>  const data = await res.json()<br/>  return { props: { data } }<br/>}</span><span id="4377" class="mq lc iq mh b gy mv ms l mt mu">export default YesNo</span></pre><p id="5d30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CSS中的<code class="fe me mf mg mh b">yesno</code>类在我们导入时被转换成<code class="fe me mf mg mh b">yesno</code>属性。</p><p id="b2d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用它来填充<code class="fe me mf mg mh b">className</code>属性来设置元素的类名。</p><p id="330a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CSS模块是一个可选功能，它只对扩展名为<code class="fe me mf mg mh b">.module.css</code>的文件启用。</p><p id="4360" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着如果我们想像以前一样导入它们，我们需要文件名的<code class="fe me mf mg mh b">.module</code>部分。</p><p id="66e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以像往常一样使用<code class="fe me mf mg mh b">link</code>标签来添加我们的CSS文件。</p><p id="9f74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CSS模块被自动连接、缩小和代码分割。</p><h1 id="1e67" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Sass支持</h1><p id="ea2a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Next.js让我们导入扩展名为<code class="fe me mf mg mh b">.scss</code>和<code class="fe me mf mg mh b">.sass</code>的SASS文件。</p><p id="13e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以将它们作为CSS的修改件，使用<code class="fe me mf mg mh b">.module.scss</code>和<code class="fe me mf mg mh b">.module.sass</code>扩展。</p><p id="c58e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了在我们的Next.js应用程序中使用SASS，我们通过运行以下命令安装了<code class="fe me mf mg mh b">sass</code>包:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3c37" class="mq lc iq mh b gy mr ms l mt mu">npm install sass</span></pre><p id="5d77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">SCSS语法是CSS语法的扩展，SASS有一个不同于CSS的缩进语法。</p><p id="34e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，使用SCSS文件更容易。</p><h1 id="2cdd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">自定义Sass选项</h1><p id="2d27" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以改变样式文件的路径，使其包含在<code class="fe me mf mg mh b">next.config.js</code>文件中。</p><p id="5495" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dcd7" class="mq lc iq mh b gy mr ms l mt mu">const path = require('path')</span><span id="f760" class="mq lc iq mh b gy mv ms l mt mu">module.exports = {<br/>  sassOptions: {<br/>    includePaths: [path.join(__dirname, 'styles')],<br/>  },<br/>}</span></pre><p id="8e5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来改变我们想要包含的样式文件的路径。</p><h1 id="381d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="249c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用CSS和SASS / SCSS来设计我们的Next.js应用程序。</p><p id="1b66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>