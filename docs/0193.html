<html>
<head>
<title>It is really easy to convert local time to UTC in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Javascript中，将本地时间转换为UTC非常容易</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/it-is-really-easy-to-convert-local-time-to-utc-in-javascript-7e6a78460a7d?source=collection_archive---------0-----------------------#2019-08-02">https://javascript.plainenglish.io/it-is-really-easy-to-convert-local-time-to-utc-in-javascript-7e6a78460a7d?source=collection_archive---------0-----------------------#2019-08-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/d1b97e3c4be63e6d8e0ed7386b57e13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W26Jdk8ZEo4QDC797b7smA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="cdf2" class="pw-subtitle-paragraph jv ix iy bd b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dk translated">您是否觉得需要一个库，即使是一个像将本地日期转换为UTC格式这样的小任务？</h2></div><p id="5e55" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">当我第一次进入Javascript日期的世界时，我也有同样的感觉。今天我在这里告诉你，你试图用日期实现的大部分事情都可以用Javascript提供的原生日期构造函数来完成。所以让我们开始…</p><h1 id="ae07" class="lj lk iy bd ll lm ln lo lp lq lr ls lt ke lu kf lv kh lw ki lx kk ly kl lz ma bi translated"><strong class="ak">转换为UTC/ISO </strong></h1><p id="c8c5" class="pw-post-body-paragraph kn ko iy kp b kq mb jz ks kt mc kc kv kw md ky kz la me lc ld le mf lg lh li ig bi translated">也许在处理日期时，人们会寻找最常见的功能。</p><p id="f355" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">要将任何日期转换为ISO格式，您只需:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="eec2" class="mp lk iy ml b gy mq mr l ms mt"><strong class="ml iz">new Date('07/29/2019 04:00:00').toISOString();</strong></span><span id="b2c0" class="mp lk iy ml b gy mu mr l ms mt">// "2019-07-28T22:30:00.000Z"</span></pre><p id="78e6" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">假设我们想要ISO格式的日期:2019年7月29日04:00点</p><p id="5b77" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">我们将调用新的日期构造函数，并将日期作为参数传递。支持的格式有:</p><ol class=""><li id="e90b" class="mv mw iy kp b kq kr kt ku kw mx la my le mz li na nb nc nd bi translated"><strong class="kp iz">新日期(年、月、日、时、分、秒、毫秒)</strong></li><li id="f8bf" class="mv mw iy kp b kq ne kt nf kw ng la nh le ni li na nb nc nd bi translated"><strong class="kp iz">新日期(" 2019 . 07 . 29 04:00:00 ")</strong>//日期字符串</li><li id="d404" class="mv mw iy kp b kq ne kt nf kw ng la nh le ni li na nb nc nd bi translated"><strong class="kp iz">新日期(" 2019–07–29 ")</strong>//YYYY-MM-DD</li><li id="1240" class="mv mw iy kp b kq ne kt nf kw ng la nh le ni li na nb nc nd bi translated"><strong class="kp iz">新日期(" 07/29/2019") </strong> // MM/DD/YYYY</li><li id="7a16" class="mv mw iy kp b kq ne kt nf kw ng la nh le ni li na nb nc nd bi translated"><strong class="kp iz">新日期(" 2019–07–29t 04:00:00Z ")</strong>//ISO日期</li></ol><p id="48c2" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">我可能会错过一些，但这些是最常用的格式，尤其是1，3和4。</p><p id="3637" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">接下来，当我们的日期准备好了，我们可以链接各种方法来改变格式，其中一个方法是“toISOString”。</p><p id="212d" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">在数据库中存储数据时，ISO格式非常流行。它确保所有使用此数据的其他应用程序获得相同的日期，而不是本地转换的日期。因为请记住，您的应用程序可以有位于不同时区的多台服务器。当您的服务器是跨国分布的时，您不希望以本地时区存储日期。</p></div><div class="ab cl nj nk hr nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ig ih ii ij ik"><p id="f1c1" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">new Date构造函数提供的另一个有用的方法是“toUTCString”。</p><p id="6bd6" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">所以当我们打电话时。toUTCString它将日期转换为UTC格式，但以更易读的形式。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="bfe0" class="mp lk iy ml b gy mq mr l ms mt"><strong class="ml iz">new Date('07/29/2019 04:00:00').toUTCString();</strong></span><span id="f64e" class="mp lk iy ml b gy mu mr l ms mt">// "Sun, 28 Jul 2019 22:30:00 GMT"</span></pre><p id="5588" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">当您希望用户以更易读的格式显示UTC日期时，这个方法在前端会很有帮助。</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nq"><img src="../Images/6a7b204a6f799bb336e584ac5e694ad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UTCP-DRbpZ4AJD27xqlXew.png"/></div></div></figure><p id="d5c8" class="pw-post-body-paragraph kn ko iy kp b kq kr jz ks kt ku kc kv kw kx ky kz la lb lc ld le lf lg lh li ig bi translated">现在，如果您想要UTC格式的当前时间，该怎么办呢？感谢Javascript日期构造函数。在调用Date函数时，只需将arguments字段留空即可。因此</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="3597" class="mp lk iy ml b gy mq mr l ms mt"><strong class="ml iz">new Date();</strong></span><span id="bae1" class="mp lk iy ml b gy mu mr l ms mt">// would essentially give you the current time</span><span id="e4a3" class="mp lk iy ml b gy mu mr l ms mt"><strong class="ml iz">new Date().toISOString();</strong></span><span id="37f9" class="mp lk iy ml b gy mu mr l ms mt">// would give you the current time in ISO format</span></pre><h1 id="7996" class="lj lk iy bd ll lm ln lo lp lq lr ls lt ke lu kf lv kh lw ki lx kk ly kl lz ma bi translated">结论</h1><p id="7d9b" class="pw-post-body-paragraph kn ko iy kp b kq mb jz ks kt mc kc kv kw md ky kz la me lc ld le mf lg lh li ig bi translated">Javascript中新的日期构造函数有很多方法，我们可以用它们来进行大部分的日期操作，并且不需要使用像momentjs这样的外部库来实现这个目的，除非您想要特殊的操作，比如计算两个日期之间的时间差等等。此外，这些库很重，除非在严格需要时有效使用，否则只会降低性能。</p></div></div>    
</body>
</html>