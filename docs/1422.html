<html>
<head>
<title>Magical JavaScript behaviors II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">神奇的JavaScript行为II</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/magical-javascript-behaviors-ii-8ca9beff77b4?source=collection_archive---------11-----------------------#2020-03-13">https://javascript.plainenglish.io/magical-javascript-behaviors-ii-8ca9beff77b4?source=collection_archive---------11-----------------------#2020-03-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5e71" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简短、有用的JavaScript课程——让它变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/43f4a88882615da9aacf7aeea12e9df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmWJyfCHF9pLhkReUAxPJQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A man throwing dice</figcaption></figure><h1 id="e785" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">第二部分</h1><p id="1bc7" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">JavaScript有很多奇怪的地方。在“神奇的JavScript行为”的第二部分中，我将分享我最喜欢的列表。如果你想要更多，你可以在“<a class="ae mj" href="https://medium.com/javascript-in-plain-english/magical-javascript-behaviors-4b5c4d151663" rel="noopener">神奇的JavaScript行为I </a>”中找到更多的例子<br/>为了让这篇文章更容易理解，我把重点放在看起来最容易理解的案例上。</p><h1 id="7d72" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">案例</h1><ul class=""><li id="4a3c" class="mk ml iq lp b lq lr lt lu lw mm ma mn me mo mi mp mq mr ms bi translated">香蕉</li><li id="9777" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">真实但不真实</li><li id="97d2" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">添加数组</li><li id="d091" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">未定义和编号</li><li id="be1f" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">未定义的可以定义</li><li id="48cb" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">未定义始终是未定义的</li><li id="b3a7" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">词典排序</li><li id="e419" class="mk ml iq lp b lq mt lt mu lw mv ma mw me mx mi mp mq mr ms bi translated">null是一个对象，但undefined是未定义的</li></ul><h1 id="ada2" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">香蕉</h1><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="5374" class="nd kw iq mz b gy ne nf l ng nh">'b' + 'a' +<strong class="mz ir"> + 'a'</strong> + 'a'; <br/>//'BaNaNa'</span><span id="db44" class="nd kw iq mz b gy ni nf l ng nh">('b' + 'a' + + 'a' + 'a').toLowerCase()<br/>//banana</span></pre><p id="b700" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">解释:</p><p id="d441" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">表达式的计算结果为' ba' + ( <strong class="lp ir"> +'a' </strong>)，将+'a '转换为非数字。然后表达式NaN+'a '求值为NaN <strong class="lp ir"> a </strong>，最后结果是香蕉</p><h1 id="57b8" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">真实但不真实</h1><p id="0983" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">注意:的！！运算符将对象转换为布尔值。</p><p id="e003" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">Null是一个false值，但它不等于false。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="82e3" class="nd kw iq mz b gy ne nf l ng nh">!!null; <br/>//false<br/>null == false; <br/>//false</span></pre><p id="2bf0" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">解释:</p><p id="bbba" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">在比较相等性之前，不能将null(和undefined)转换为任何其他值，因此null == false等于false。</p><p id="0c47" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">一个数组和一个空数组总是真值，但不等于真值。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="1874" class="nd kw iq mz b gy ne nf l ng nh">!![]       <br/>//true<br/>[] == true <br/>//false</span></pre><p id="5d8b" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">解释:</p><p id="21ca" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">True转换为1，[]转换为0，因此[] ==true (0 == 1)等于false。</p><h1 id="d577" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">添加数组</h1><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="2b9f" class="nd kw iq mz b gy ne nf l ng nh">[9, 8, 7] + [6, 5, 4] <br/>//"9,8,<strong class="mz ir">76</strong>,5,4"</span></pre><p id="c8c2" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">出现这种结果是因为当您对两个集合求和时，在每个数组中都调用了“toString”，因此[9，8，7]被转换为“9，8，7”，而[6，5，4]被转换为“6，5，4”，然后发生串联。</p><h1 id="1d3c" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">未定义和编号</h1><p id="1fad" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">如果不向Number构造函数传递任何参数，则得到0。当没有参数时，你得到undefined，当有空值时，你得到0。但是对于undefined，你得到的是NaN。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="90aa" class="nd kw iq mz b gy ne nf l ng nh">Number(true)<br/>//1<br/>Number(false)<br/>//0<br/>Number(null)<br/>//0</span><span id="1e02" class="nd kw iq mz b gy ni nf l ng nh">Number()<br/>//0<br/>Number(undefined)<br/>//NaN</span></pre><p id="926b" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">解释:</p><p id="c68d" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">如果没有参数传递给函数调用，则得到0。<br/>否则，你得到ToNumber(值)。在未定义的情况下，ToNumber(未定义)返回NaN。</p><h1 id="e24f" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">未定义始终是未定义的</h1><p id="5520" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在下一个例子中，没有什么奇怪的事情发生:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="4c69" class="nd kw iq mz b gy ne nf l ng nh">let team;<br/>console.log(team == undefined); <br/>//true</span></pre><p id="30e9" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">但是这里发生了什么？</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="fb03" class="nd kw iq mz b gy ne nf l ng nh">undefined = "A Team";<br/>let team;<br/>console.log(team == undefined); <br/>//true<br/>console.log(undefined);<br/>//undefined</span></pre><p id="eb28" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">解释:</p><p id="521c" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">Undefined是JavaScript中的保留字，不能给它赋值。</p><h1 id="b533" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">词典排序</h1><p id="61f2" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">可以用sort方法对数组的元素进行排序。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="3bae" class="nd kw iq mz b gy ne nf l ng nh">[’z’, 'a’, 'b’].sort()<br/>//[ "a", "b", "z" ]</span></pre><p id="4da0" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">这里发生了什么？</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="e7ae" class="nd kw iq mz b gy ne nf l ng nh">[1,2,11].sort()<br/>//[ 1, 11, 2 ]</span></pre><p id="2d7b" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">解释:</p><p id="b54e" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">在JavaScript中，默认情况下，数值是按字典顺序排序的，这可能会产生奇怪的结果。</p><p id="1bdb" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">您可以使用比较函数来覆盖此行为:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="3b83" class="nd kw iq mz b gy ne nf l ng nh">[1,2,11].sort( (a, b) =&gt; a - b )<br/>//[ 1, 2, 11]</span></pre><h1 id="cedc" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">null是一个对象，但undefined是未定义的</h1><p id="b5a5" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">JavaScript既有null也有undefined，虽然它们看起来很相似，但却有很大的不同。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="4a6a" class="nd kw iq mz b gy ne nf l ng nh">typeof(undefined)<br/>"undefined"</span><span id="4173" class="nd kw iq mz b gy ni nf l ng nh">typeof(null)<br/>"object"</span></pre><p id="0352" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">说明</p><p id="a88d" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">这种行为是JavaScript第一次实现的副作用。值表示为类型标记加上值。但是，null是用一个空指针提供的。对象的类型标记为0。因此，null也被解释为一个对象。</p><h1 id="69f7" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">结论</h1><p id="6151" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">虽然这些案例反映了有趣的行为，但如果你想深入理解这种语言并避免在开发中出错，理解它们是至关重要的。</p><p id="cea5" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated">我希望你喜欢这篇文章。你有更多的例子在<a class="ae mj" href="https://medium.com/javascript-in-plain-english/magical-javascript-behaviors-4b5c4d151663" rel="noopener"> <strong class="lp ir">神奇的JavaScript行为我</strong> </a> <strong class="lp ir">。</strong></p><h1 id="86c6" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">参考</h1><p id="2947" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">这些例子中的大部分都受到了Brian Leroux在2012年的演讲<a class="ae mj" href="https://www.youtube.com/watch?v=et8xNAc2ic8" rel="noopener ugc nofollow" target="_blank">的启发。</a></p><p id="6a3e" class="pw-post-body-paragraph ln lo iq lp b lq nj jr ls lt nk ju lv lw nl ly lz ma nm mc md me nn mg mh mi ij bi translated"><a class="ae mj" href="https://www.pexels.com/es-es/@fotografierende?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">摄影爱好者的照片</a>。</p></div></div>    
</body>
</html>