<html>
<head>
<title>Enums TypeScript 4.0 and JavaScript Guide — All you need to know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Enums TypeScript 4.0和JavaScript指南—您需要知道的一切</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/enums-typescript-4-0-and-javascript-guide-all-you-need-to-know-5e090355bff6?source=collection_archive---------2-----------------------#2020-12-02">https://javascript.plainenglish.io/enums-typescript-4-0-and-javascript-guide-all-you-need-to-know-5e090355bff6?source=collection_archive---------2-----------------------#2020-12-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6d97" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你将读到的关于enums的最后一本指南！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fc86be3dec8bfffb13cba4f13d8680e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DWAKi4zXoperI7utIg1HTw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://www.pexels.com/@black-ice-551383" rel="noopener ugc nofollow" target="_blank">Black ice</a>, by <a class="ae kv" href="https://www.pexels.com/photo/blue-background-with-text-overlay-1314536/" rel="noopener ugc nofollow" target="_blank">pexels</a> (CC0)</figcaption></figure><p id="be5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript知道7种数据类型。命名它们:<strong class="ky ir">数字、字符串、布尔、对象、函数、符号</strong>和<strong class="ky ir">未定义</strong>。如果你认真的话，你也可以数一数<strong class="ky ir"> null </strong>。然后会有8个，但是我不指望这个，因为null是不可调用的。但是enums呢？它们在JavaScript里面吗？不，不幸的是没有。这是非常可悲的，因为我有C#背景，枚举对于计数和符号编程来说是一件光荣的事情。它们允许您为常量表示赋值。也可以将一个值多重分配给不同的表示。但是不要失去希望，我们可以在JavaScript和剧透警报中实现相似性，Typescript完全实现了它们！</p><h1 id="18fc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">JavaScript中的枚举？两种选择</h1><p id="116b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在JavaScript中没有枚举，编码人员想出了独特的解决方案。我们可以把所有这些归纳成两个基本概念。第一个是定义数字的标识符:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="bea4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，该方法基于一个对象，将显式允许的值保存为键，并将相应的数字保存为值。随后，您可以使用这些值。除此之外，你还可以读取和赋值这些值，它们是可比较的，并且有底层的名字。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7a96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript中最大的缺陷是，当您想要读取属性值时，拼写错误的属性不会引发任何错误。在运行时，它只会返回值“未定义”。反之亦然，如果你想写入一个对象，却拼错了你想写入的属性，JavaScript只是把拼错的属性作为“新”属性附加上去。</p><p id="4fe9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无论如何，这是一个巨大的问题。当你犯了这样一个错误，并且它最后在运行时引起了注意，你将有一段调试的美好时光。找出代码中的拼写错误。这个解决方案的主要缺陷是:JavaScript中没有类型安全。为什么要试图从类型安全语言中复制一个构造，而在JavaScript中实现时，类型安全语言却不能兑现它的承诺呢？答案是想出一个更好的解决方案。</p><p id="8b19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我向你展示第二种方法。使用字符串而不是类似枚举的对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="d800" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是使用字符串也会给你带来缺点。关于允许值甚至可能值的概述是什么？使用这种技术时，这可能会失败。您可能会考虑混合使用第一种和第二种方法来替代枚举。</p><p id="dec8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们用字符串而不是数字设置了枚举“itemCategory ”,现在可以用枚举表示重新分配“weapon.category”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="aaf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们保留了enum的已定义可能性的概述。当使用字符串时，这是不可能的。</p><h1 id="6386" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">对一个enum人来说很漂亮</h1><p id="1439" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我在第一章谈到了双重标记枚举值的可能性。要做到这一点，你需要一个技巧。将枚举值表示的数字定义为2的幂的基础。这样做可以将二进制组合器带到桌面上。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="dcf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我建议你为你的用法设计一个默认值。通常使用的值是0。也许我们现在可以双重赋值。例如，治疗药剂也可以是治疗物品，也可以用于制作(酿造)。为此，我们必须组合相应的值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="fb07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你坚持我在第一章中介绍的第二种选择，那么你就不能像我一样对你的属性进行双重标记。</p><p id="2adb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是你难道不认为这仍然是一个很好的解决方法吗？很聪明，但不如原来的enum。我们现在来看看Typescript。这是圣地，牛奶和蜂蜜流经的河流。</p><h1 id="8330" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">TypeScript中的枚举</h1><p id="b4d1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">TypeScript将枚举作为类型，您可以通过关键字“enum”轻松地使用它们。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="0dac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">TypeScript在这里的行为类似于C#并从0开始计数。如果你不想这样，就用你最喜欢的数字分配第一个枚举。当数字不是有意义的表示时，你也可以依赖字符串。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="c9d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mr">注意:该语言允许在同一个枚举中混合字符串和数字作为赋值。但是这款的实用性不是很好。每个枚举最好坚持一种类型的赋值。</em></p><p id="9406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以在typescript中实现枚举值的组合。确保有一个默认值(0)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="f668" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">转换回JavaScript？</h1><p id="6873" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">尽管在使用TypeScript时，您不必再用JavaScript代码思考或编码，但浏览器已经做到了。因此，TypeScript将被转换回JavaScript，这是一个紧张的部分，看看它是如何做到的！</p><p id="fe20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举这个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7958" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将代码编译回JavaScript，输出如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="12e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们一步步深入了解这个庞然大物。第一步是在第1行创建一个名为<code class="fe ms mt mu mv b">itemCategory</code>的对象。这将具有未定义的值。它将在下一步被传递给一个函数。<br/>在这个函数体中，你会看到四个赋值，分别对应于我们已知的枚举表示法“<code class="fe ms mt mu mv b">healing</code>”、“<code class="fe ms mt mu mv b">crafting</code>”、“<code class="fe ms mt mu mv b">armor</code>”、“<code class="fe ms mt mu mv b">weapon</code>”。但是等号前面是什么？让我们详细看看第二行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="5502" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们注意到，这是整个结构内部的属性的创造。<code class="fe ms mt mu mv b">itemCategory[“crafting”]</code>向新创建的对象<code class="fe ms mt mu mv b">itemCategory</code>(【X10 _ convertedtsenumintojs . js的<em class="mr"> line1)追加属性<code class="fe ms mt mu mv b">crafting</code>并将其与<code class="fe ms mt mu mv b">itemCategory[“crafting”]=1</code>一起设置为1。</em></p><p id="f78d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mr">注意:在JavaScript中，赋值将总是返回赋值后的值。这里，赋值1也是这个赋值的返回值。</em></p><p id="b643" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于赋值的返回值，代码会立即创建另一个名为“1”的属性。该属性将获得值“crafting”。如果你仔细检查这一行，你会得出结论，这是一个双重任务。我们将属性1赋值为“crafting ”,并将属性“crafting”赋值为“1”。现在有两种方法来识别“手工制作”的相同表示:“1”和“1”:“手工制作”。编译后的代码会创建一个对象，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="13f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这有助于显示枚举背后的值。</p><p id="6568" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个例子说明Typescript在这里没有做不同的事情。应该是怎样的？它必须被转换回JavaScript。Typescript所做的，让我们作为程序员的生活变得更好更安全。打字安全！它向我们介绍了一种不太容易出错的语言，在这种语言中，我们可以专注于生产和创建的任务，而不是穿过一个挑战，希望最好的，试图避免JavaScript为我们准备的每个陷阱。</p><p id="4eee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里要提到一点:const也可以使用，然后进入JavaScript编译的严格模式。你失去了理解枚举表示的两种方法之一。您无法获得该值的名称。这个选项没了。当我们查看编译后的代码时，这一点变得很清楚。我们在这里得到了类型脚本中枚举。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="e814" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后编译回JavaScript。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="3e9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没有人期望:“使用严格”。枚举完全消失了。它去哪儿了？我们从枚举中进行赋值:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7609" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一次检查编译:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="d579" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就像我说的，以值取名和以名取值这两个方向都没有了。它只留下其中一个。号码。</p><h1 id="9f77" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">还有其他方法吗？</h1><p id="968c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">是的，你可以使用所谓的“歧视联盟”。这只是一个“type”类型的变量，包含许多值中的一个。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="fd80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为不需要随时编写枚举类型，我们可以把它看作一个轻量级的替代方案。因为JavaScript与字符串一起工作，而且这种“有区别的联合”也是如此，所以您编写的代码更可能是JavaScript。这就像处理字符串的经典方式，仅限于少数允许的字符串。您可以在没有enum构造的情况下做到这一点，而仅仅依靠“类型”，但是如果您想要使用数字，那么您必须手动转换回底层的常量表示。这个工作，一个enum提供给你的已经完成了。</p><h1 id="5eeb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="8b20" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">无论你想拿什么，在整个项目中保持一致。在一个项目中混合使用只会导致混乱和不断的反思。只采用一种方法也可以减少错误。为了找到适合你需求的东西，你必须权衡所介绍的方法的利弊，就像生活中经常发生的那样！</p><p id="d596" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://arnoldcodeacademy.ck.page/26-web-dev-cheat-sheets" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">节省自己大量的时间，专注于重要的主题。</em> </strong> </a></p></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><h1 id="710e" class="ls lt iq bd lu lv nd lx ly lz ne mb mc jw nf jx me jz ng ka mg kc nh kd mi mj bi translated">继续读</h1><div class="ni nj gp gr nk nl"><a href="https://medium.com/next-level-source-code" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">下一级源代码</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">无论你想得到提高你的源代码的技巧和诀窍，还是对编程相关话题的第二种看法，这…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz kp nl"/></div></div></a></div><div class="ni nj gp gr nk nl"><a href="https://medium.com/next-level-source-code/do-you-follow-these-10-principles-for-good-programmers-1445727af447" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">你遵循了优秀程序员的这10条原则吗？</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">从接吻和干燥到足球和YAGNI和聪明屁股代码的10个原则！</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz kp nl"/></div></div></a></div><div class="ni nj gp gr nk nl"><a href="https://medium.com/next-level-source-code/javascript-es6-var-let-or-const-88da65f3a0df" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">JavaScript ES6 Var，Let或Const</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">掌握JavaScript中的变量，避免用var，let，const提升</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nu l"><div class="ob l nw nx ny nu nz kp nl"/></div></div></a></div><h1 id="b043" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">参考</h1><p id="23bb" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">[1]文件清单<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/enums.html" rel="noopener ugc nofollow" target="_blank">https://www.typescriptlang.org/docs/handbook/enums.html</a></p><p id="f773" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[2] LogRocket — <strong class="ky ir">使用类型脚本枚举编写可读代码</strong><a class="ae kv" href="https://blog.logrocket.com/writing-readable-code-with-typescript-enums-a84864f340e9/" rel="noopener ugc nofollow" target="_blank">https://blog . log rocket . com/Writing-readable-code-with-TypeScript-enums-a 84864 f 340 e 9/</a></p><p id="9f10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[3]git book—enum<a class="ae kv" href="https://basarat.gitbook.io/typescript/type-system/enums" rel="noopener ugc nofollow" target="_blank">https://basarat.gitbook.io/typescript/type-system/enums</a></p></div></div>    
</body>
</html>