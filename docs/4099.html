<html>
<head>
<title>4 Practical Use Cases of Using filter() in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中使用filter()的4个实际用例</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-practical-use-cases-of-using-filter-in-javascript-db46e2ec83b2?source=collection_archive---------4-----------------------#2020-11-16">https://javascript.plainenglish.io/4-practical-use-cases-of-using-filter-in-javascript-db46e2ec83b2?source=collection_archive---------4-----------------------#2020-11-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8401" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一些你以前可能不知道的方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b82a924b63758178d7917ddefbf6a6b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2CgDlH2seh4TaoZ8"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@marcbabin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marc Babin</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e86c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建包含给定数组元素子集的新数组是JavaScript中最常见的任务之一。</p><p id="c4ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了使用循环语句，我们可以使用<code class="fe ls lt lu lv b">filter()</code>以更短、更简洁的方式完成任务。</p><p id="0a5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是方法。</p><h1 id="7b42" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">1.删除重复值</h1><p id="94bc" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这个有点棘手。我们将利用<code class="fe ls lt lu lv b">indexOf()</code>函数。它是一个内置函数，返回数组中给定元素的第一个索引。</p><p id="8502" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用它来形成一个条件，以删除数组中的重复值，如下所示。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="3deb" class="mx lx iq lv b gy my mz l na nb">const numbers = [3, 12, 54, 12, 4, 4, 3, 12, 16];</span><span id="3167" class="mx lx iq lv b gy nc mz l na nb">const filteredNumbers = numbers.filter((number, index) =&gt; numbers.indexOf(number) === index);</span><span id="0598" class="mx lx iq lv b gy nc mz l na nb">console.log(filteredNumbers); // [3, 12, 54, 4, 16]</span></pre><p id="7f8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用回调函数的第二个参数，它是当前元素的索引。</p><p id="e48e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的想法是，我们将' indexOf()'函数返回的索引与当前元素的实际索引进行比较。如果它们不同，则当前元素是重复值。</p><p id="8976" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以上面代码片段中的数组为例。当实际指标为<code class="fe ls lt lu lv b">3</code>时，对应元素的值为<code class="fe ls lt lu lv b">12</code>。但是，如果我们对该元素使用<code class="fe ls lt lu lv b">indexOf()</code>，则返回的索引是<code class="fe ls lt lu lv b">1</code>，因为元素<code class="fe ls lt lu lv b">12</code>第一次出现在索引<code class="fe ls lt lu lv b">1</code>处。因此<code class="fe ls lt lu lv b">12</code>是重复值之一。</p><h1 id="99d7" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">2.删除无效值</h1><p id="fe4c" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">无效值被认为是会导致错误和意外行为的值。</p><p id="b6f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以年龄为例。如果年龄是一个确定的数字，它就是有效的。</p><p id="030e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在的要求是过滤所有有效年龄的人。为了完成这个任务，我们可以使用下面的代码片段。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="22dc" class="mx lx iq lv b gy my mz l na nb">const people = [<br/>  { name: ‘Amy’, gender: ‘female’, age: ‘28’ },<br/>  { name: ‘James’, gender: ‘male’, age: 13 },<br/>  { name: ‘Victor’, gender: ‘male’, age: null },<br/>  { name: ‘David’, gender: ‘male’, age: 28 },<br/>  { name: ‘Simon’, gender: ‘male’, age: undefined },<br/>  { name: ‘Anna’, gender: ‘female’, age: 21 },<br/>  { name: ‘Jane’, gender: ‘female’, age: NaN }<br/>];</span><span id="e04f" class="mx lx iq lv b gy nc mz l na nb">const filteredPeople = people.filter(person =&gt; person.age !== undefined &amp;&amp; typeof person.age === ‘number’ &amp;&amp; !isNaN(person.age));</span><span id="de32" class="mx lx iq lv b gy nc mz l na nb">console.log(filteredPeople); // [{ name: ‘James’, gender: ‘male’, age: 13 }, { name: ‘David’, gender: ‘male’, age: 28 }, { name: ‘Anna’, gender: ‘female’, age: 21 }]</span></pre><h1 id="ed0e" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">3.过滤数字数组</h1><p id="a18b" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">这个是最简单的用法。</p><p id="5d83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设你有一个数字数组，你只需要从数组中提取奇数。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="a5bb" class="mx lx iq lv b gy my mz l na nb">const numbers = [23, 54, 1, 3, 72, 28];</span><span id="9583" class="mx lx iq lv b gy nc mz l na nb">const oddNumbers = numbers.filter(number =&gt; number % 2 !== 0);</span><span id="1266" class="mx lx iq lv b gy nc mz l na nb">console.log(oddNumbers); // [23, 1, 3]</span></pre><p id="378b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者你想创建一个新的数组，包含给定数组中的所有素数。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="c18d" class="mx lx iq lv b gy my mz l na nb">const isPrime = number =&gt; {<br/>  if (number === 1) return false;<br/>  if (number === 2) return true;</span><span id="8da2" class="mx lx iq lv b gy nc mz l na nb">  for (let i = 2; i &lt; number; i++) {<br/>    if (number % i === 0) return false;<br/>  }<br/>  <br/>  return true;<br/>}</span><span id="7577" class="mx lx iq lv b gy nc mz l na nb">const numbers = [23, 54, 1, 3, 72, 28];<br/>const oddNumbers = numbers.filter(isPrime);<br/>console.log(oddNumbers); // [23, 3]</span></pre><h1 id="9e27" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">4.过滤对象数组</h1><p id="88dc" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">虽然一个对象比一个数字更复杂，但是<code class="fe ls lt lu lv b">filter()</code>的用法仍然很简单。</p><p id="27fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，假设我们有一组人。要求是找到所有年龄大于18岁的人。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="c780" class="mx lx iq lv b gy my mz l na nb">const people = [<br/>  { name: ‘Amy’, gender: ‘female’, age: 28 },<br/>  { name: ‘James’, gender: ‘male’, age: 13 },<br/>  { name: ‘Victor’, gender: ‘male’, age: 17 },<br/>  { name: ‘David’, gender: ‘male’, age: 28 },<br/>  { name: ‘Simon’, gender: ‘male’, age: 33 }<br/>];</span><span id="2d14" class="mx lx iq lv b gy nc mz l na nb">const filteredPeople = people.filter(person =&gt; person.age &gt; 18);</span><span id="2403" class="mx lx iq lv b gy nc mz l na nb">console.log(filteredPeople); // [{ name: ‘Amy’, gender: ‘female’, age: 28 }, { name: ‘David’, gender: ‘male’, age: 28 }, { name: ‘Simon’, gender: ‘male’, age: 33 }]</span></pre><p id="a58c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有18岁以上的女性呢？好吧，就给回调函数加一个附加条件。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="e88e" class="mx lx iq lv b gy my mz l na nb">const people = [<br/>  { name: ‘Amy’, gender: ‘female’, age: 28 },<br/>  { name: ‘James’, gender: ‘male’, age: 13 },<br/>  { name: ‘Victor’, gender: ‘male’, age: 17 },<br/>  { name: ‘David’, gender: ‘male’, age: 28 },<br/>  { name: ‘Simon’, gender: ‘male’, age: 33 }<br/>];</span><span id="bed4" class="mx lx iq lv b gy nc mz l na nb">const filteredPeople = people.filter(person =&gt; person.age &gt; 18 &amp;&amp; person.gender === ‘female’);</span><span id="8dbb" class="mx lx iq lv b gy nc mz l na nb">console.log(filteredPeople); // [{ name: ‘Amy’, gender: ‘female’, age: 28 }]</span></pre><p id="f921" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简单，对！？</p><h1 id="7ee2" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">结论</h1><p id="e466" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">就是这样。您已经学习了一些在JavaScript中使用<code class="fe ls lt lu lv b">filter()</code>的实用方法。</p><p id="0101" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你知道其他的使用案例吗？请在下面的评论中告诉我。</p><p id="e50d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望你喜欢这篇文章。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="4a8e" class="lw lx iq bd ly lz nk mb mc md nl mf mg jw nm jx mi jz nn ka mk kc no kd mm mn bi translated">进一步阅读</h1><div class="np nq gp gr nr ns"><a href="https://medium.com/javascript-in-plain-english/4-practical-use-cases-for-iifes-in-javascript-6481dcb0ba7d" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">JavaScript中生命的4个实际用例</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">让我们用生命编写更安全的代码</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div></div></div>    
</body>
</html>