<html>
<head>
<title>Enter Full-Screen Mode With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript进入全屏模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/enter-full-screen-mode-with-javascript-a8a782d96dc?source=collection_archive---------5-----------------------#2020-04-20">https://javascript.plainenglish.io/enter-full-screen-mode-with-javascript-a8a782d96dc?source=collection_archive---------5-----------------------#2020-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="43f0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用JavaScript全屏应用编程接口</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fb5d64ce4aa0208f39d7c766181f984c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pewInlP7N99MWtz7"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jeffgry?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Oğuzhan Akdoğan</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4df7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上，全屏API允许您使用JavaScript代码将网页转换为全屏模式。它也可以用于整个文档，甚至一个特定的元素，无论哪种方式都很容易使用。</p><p id="2f6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们跳到文本编辑器中，使用JavaScript使文档全屏显示。</p><h1 id="f99c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">开始</h1><p id="0fdb" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">下面是一个示例代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/4031ee089130d630950664b13ee4f855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*miVykmbfZ_pXdlLTFhSaQA.png"/></div></div></figure><h1 id="b977" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">全屏幕显示整个文档</h1><p id="cc1a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在JavaScript部分，添加以下代码。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="bf4e" class="mv lt iq mr b gy mw mx l my mz">&lt;script&gt;<br/>   document.documentElement.requestFullscreen().catch((e) =&gt; {<br/>      console.log(e);<br/>   });<br/>&lt;/script&gt;</span></pre><p id="5f15" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的<code class="fe na nb nc mr b">requestFullscreen()</code>功能将把文档转换成全屏模式，因为我们在<code class="fe na nb nc mr b">documentElement</code>上调用它。然后，使用<code class="fe na nb nc mr b">catch</code>，通过<strong class="ky ir"> e </strong>参数抓取错误对象，并使用<code class="fe na nb nc mr b">console.log</code>显示。</p><p id="7b79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果成功，它将进入全屏模式，如果不成功，它将在web控制台中显示错误消息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/c50bfe2444595e535ad1cb0339aeffbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KAnpKMKC1hCREq7pxHCNYQ.png"/></div></div></figure><p id="a418" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您签入web控制台时，将会出现这种错误。这意味着您只能使用全屏API，并在用户交互时以编程方式进入全屏模式。</p><p id="2590" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们需要某种事件监听器，比如双击，然后我们就可以全屏显示了。</p><h1 id="7689" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">添加事件侦听器</h1><p id="7a13" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们将在前面的事件侦听器中包装我们的代码。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="82b3" class="mv lt iq mr b gy mw mx l my mz">&lt;script&gt;<br/>   document.addEventListener('dblclick', () =&gt; {<br/>      document.documentElement.requestFullscreen().catch((e) =&gt; {<br/>         console.log(e);<br/>      });<br/>   });<br/>&lt;/script&gt;</span></pre><p id="9770" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/66c33e1904550e07d24a579b400d82f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ym-Wfl5Hb7GwWmbpvpgY1Q.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Full-screen Result</figcaption></figure><p id="8736" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">双击，现在它的工作。</p><h1 id="518b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">全屏模式下的访问元素</h1><p id="a69b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了获得全屏模式中的元素，我们可以简单地在web控制台中运行下面的代码。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0f72" class="mv lt iq mr b gy mw mx l my mz">document.fullscreenElement</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/93fe46f6a46471d2014fcd1ab5317b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YMe8EcuReU92luuVZjVOPw.png"/></div></div></figure><p id="c0fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一次执行是在全屏模式下，第二次执行是在您退出全屏模式时。这对于切换全屏模式很重要。</p><h1 id="f607" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">切换全屏模式</h1><p id="e295" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">更新我们的脚本代码如下。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="df92" class="mv lt iq mr b gy mw mx l my mz">&lt;script&gt;<br/>   function getFullscreenElement() {<br/>      return document.fullscreenElement   //standard property<br/>      || document.webkitFullscreenElement //safari/opera support<br/>      || document.mozFullscreenElement    //firefox support<br/>      || document.msFullscreenElement;    //ie/edge support<br/>   }<br/> <br/>   function toggleFullscreen() {<br/>      if(getFullscreenElement()) {<br/>         document.exitFullscreen();<br/>      }else {<br/>    document.documentElement.requestFullscreen().catch(console.log);<br/>      }<br/>   }</span><span id="c22a" class="mv lt iq mr b gy ng mx l my mz">   document.addEventListener('dblclick', () =&gt; {<br/>      toggleFullscreen();<br/>   });<br/>&lt;/script&gt;</span></pre><p id="53dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe na nb nc mr b">toggleFullscreen()</code>函数中，我们添加了一个简单的条件来检查我们是否有fullscreenElement。如果没有全屏元素，我们将请求进入全屏模式。</p><p id="24de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/1e95ba1e9785af1f1eaa8eba3a9f6343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*baKRa4XypaUHBYb3oBGpJQ.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Toggle Full-screen Mode</figcaption></figure></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="4ff8" class="ls lt iq bd lu lv no lx ly lz np mb mc jw nq jx me jz nr ka mg kc ns kd mi mj bi translated">特定元素全屏显示</h1><p id="2559" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在，我们将对一个单独的HTML元素调用全屏API。我们首先需要创造一个新的元素。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/f744f9c66cad000a076b088461a39908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*atnAZMIpnHzP_RuazoknmQ.png"/></div></div></figure><p id="192c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们添加了一个以<strong class="ky ir"> myBox </strong>作为ID的元素。我们需要改变的只是<code class="fe na nb nc mr b">toggleFullscreen()</code>功能。将<code class="fe na nb nc mr b">document.documentElement</code>更改为<code class="fe na nb nc mr b">document.getElementById</code>。就这样。</p><p id="6158" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/39eb992e5c69aafaaaa951c95c6b3157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ySmjMbrUEzEemoMw_1Ul0A.gif"/></div></div></figure><h2 id="83af" class="mv lt iq bd lu nu nv dn ly nw nx dp mc lf ny nz me lj oa ob mg ln oc od mi oe bi translated"><strong class="ak">来自JavaScript的普通英语注释</strong></h2><p id="1497" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kv" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="ky ir">AI in Plain English</strong></a><a class="ae kv" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="ky ir">UX in Plain English</strong></a><a class="ae kv" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="ky ir">Python in Plain English</strong></a><strong class="ky ir"/>——谢谢，继续学习！</p><p id="312a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kv" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">submissions @ plain English . io</strong></a><strong class="ky ir"/>，并附上您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>