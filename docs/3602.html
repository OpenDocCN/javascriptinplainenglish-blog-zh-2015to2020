<html>
<head>
<title>How to Implement an Instant Search Functionality in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中实现即时搜索功能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-implement-an-instant-search-functionality-in-angular-e0c0a1e97502?source=collection_archive---------1-----------------------#2020-10-12">https://javascript.plainenglish.io/how-to-implement-an-instant-search-functionality-in-angular-e0c0a1e97502?source=collection_archive---------1-----------------------#2020-10-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2938" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在用户键入时显示即时搜索结果</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/314defcf3b03856e2993b7f8ea9fb490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hicXJ9VDkJ9FQWrt"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Winkler</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="f639" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="9182" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">即时搜索是一种允许您在用户输入搜索查询时显示结果的功能。这有助于增强用户体验，因为用户不必在显示搜索结果之前等待很长时间。</p><p id="6d23" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本指南中，我将向您展示如何使用Angulars最强大的功能之一pipe来实现即时搜索。我们将实现的Angular应用程序将从一些数据源中搜索编程语言。</p><h1 id="bfea" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">入门指南</h1><p id="0ae8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果您还没有一个Angular应用程序，但是想继续使用，您可以使用下面的命令轻松地创建一个。我已经将我的应用程序命名为<strong class="lq ir"> <em class="mp">即时搜索</em> </strong>，但是您可以随意选择任何名称。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="f178" class="mv kx iq mr b gy mw mx l my mz">$ ng new instant-search --defaults</span></pre><p id="c525" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们将从创建用于输入搜索的用户界面开始。现在，转到app.component.html的<strong class="lq ir"><em class="mp"/></strong>，删除所有模板代码，用下面的代码替换。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="fa1c" class="mv kx iq mr b gy mw mx l my mz">&lt;section&gt;<br/>    &lt;h5&gt; Dynamic search results &lt;/h5&gt;<br/>    &lt;input name="searchInput" type="text" placeholder="Search for      programming languages" size="50"&gt;<br/>&lt;/section&gt;</span></pre><p id="79e4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">上面的代码非常简单，我们创建一个标题，然后创建一个输入字段。输入字段是您可以键入您正在寻找的编程语言的地方。此外，输入有一些占位符文本。</p><p id="e783" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在这个阶段，用户界面应该如下所示。这就是我们基本需要的一切。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/bdf0b3760138a119be55c1687299d3aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bA9uQADjhCARfZu8coRoEA.png"/></div></div></figure><p id="9c90" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">要为Angular应用程序提供服务，请从应用程序的根文件夹中运行以下命令。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="ff6c" class="mv kx iq mr b gy mw mx l my mz">$ ng serve</span></pre><h1 id="44d7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">更新组件逻辑</h1><p id="95a2" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了简单起见，我们的数据源将是一组硬编码的编程语言，但也可以是任何东西。</p><p id="2d29" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在<strong class="lq ir"><em class="mp">app . component . ts</em></strong>文件中，我们将创建一个编程语言数组，我们将从中进行搜索。此外，我们将创建一个名为<strong class="lq ir"> searchInput </strong>的string类型的属性。</p><p id="dc8f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">用如下粗体代码更新您的<strong class="lq ir"><em class="mp">app . component . ts</em></strong>。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="2cdd" class="mv kx iq mr b gy mw mx l my mz">export class AppComponent {<br/>    title = 'instant-search';<br/>    <br/>   <strong class="mr ir"> public searchInput: string;<br/>    public programmingLanguages = [<br/>      'Python','TypeScript','C','C++','Java',<br/>      'Go','JavaScript','PHP','Ruby','Swift','Kotlin'<br/>   ]</strong><br/>}</span></pre><h1 id="9f8b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">创建有角度的管道</h1><p id="4c56" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如前所述，搜索功能将建立在一个有角度的管道之上。基本上，角度管道接收一些数据输入，并返回根据管道指令格式化或转换的数据。</p><p id="3ef5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">创建一个名为<strong class="lq ir"><em class="mp">search . pipe . ts</em></strong>的文件。<strong class="lq ir"> <em class="mp"> </em> </strong>为了简单起见，我将管道文件放在保存<strong class="lq ir"><em class="mp">app . component . ts</em></strong>文件的同一个根文件夹中。您的文件夹结构现在应该如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/49c099505d7c6c825f34108ed95558c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SlPRyFhBZnesCm_MViSnaw.png"/></div></div></figure><p id="6998" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">复制下面的代码并粘贴到新创建的<strong class="lq ir"><em class="mp">search . pipe . ts</em></strong>文件中。我已经命名了管道<strong class="lq ir">搜索</strong>；这是我们在模板中引用管道时将使用的名称。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="21a9" class="mv kx iq mr b gy mw mx l my mz">import { Pipe, PipeTransform } from '@angular/core';</span><span id="edcc" class="mv kx iq mr b gy nc mx l my mz">@Pipe({<br/>    name:'search'<br/>})</span><span id="424c" class="mv kx iq mr b gy nc mx l my mz">export class SearchPipe implements PipeTransform {<br/>    transform(languages: string[], searchInput: string): any[]{     <br/>        if(!searchInput) {<br/>            return  [];<br/>        }</span><span id="45a3" class="mv kx iq mr b gy nc mx l my mz">       searchInput = searchInput.toLowerCase();<br/>       return languages.filter(<br/>           x =&gt;x.toLowerCase().includes(searchInput)<br/>       )<br/>     }<br/>}</span></pre><p id="2dbc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">上面的管道逻辑从我们的数据源中获取所有编程语言的数组，并在您键入时返回与输入文本匹配的编程语言的数组。</p><p id="d105" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果没有输入文本，它将返回一个空数组，这意味着没有任何内容可以显示。</p><p id="dc22" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">此外，请注意，我们将所有输入文本更改为小写，以确保获得适当的匹配。</p><h1 id="c913" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">将资产添加到主模块文件</h1><p id="671c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">要能够在其他组件中使用导管，必须在<strong class="lq ir"> <em class="mp"> app.module.ts </em> </strong>文件中注册。此外，还可以导入如下代码中的<strong class="lq ir">表单模块</strong>。添加到<strong class="lq ir"> <em class="mp"> app.module.ts </em> </strong>文件中的代码以粗体显示如下。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="29a2" class="mv kx iq mr b gy mw mx l my mz"><strong class="mr ir">import { SearchPipe } from './search.pipe';<br/>import { FormsModule } from '@angular/forms';</strong></span><span id="315b" class="mv kx iq mr b gy nc mx l my mz">declarations: [<br/>  AppComponent,<br/>  <strong class="mr ir">SearchPipe<br/></strong>],</span><span id="a494" class="mv kx iq mr b gy nc mx l my mz">imports: [<br/>   BrowserModule,<br/>   <strong class="mr ir">FormsModule</strong><br/>],</span></pre><h1 id="895c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">更新模板代码</h1><p id="f0c4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最后，我们需要更新模板代码，以便可以使用管道搜索并显示相应的结果。</p><p id="bf4a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">用粗体代码更新<strong class="lq ir"><em class="mp">app.component.html</em></strong>文件。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="a8b1" class="mv kx iq mr b gy mw mx l my mz">&lt;section&gt;</span><span id="837e" class="mv kx iq mr b gy nc mx l my mz"> &lt;h5&gt; Dynamic search results &lt;/h5&gt;</span><span id="f73d" class="mv kx iq mr b gy nc mx l my mz">&lt;input name="searchInput" <strong class="mr ir">[(ngModel)]="searchInput"</strong> type="text"  placeholder="Search for programming languages" size="50" &gt;</span><span id="192a" class="mv kx iq mr b gy nc mx l my mz">    <strong class="mr ir">&lt;article&gt;<br/>        &lt;h6&gt; Results &lt;/h6&gt;<br/>        &lt;ul&gt;<br/>          &lt;li *ngFor="let programmingLanguage of     <br/>                        programmingLanguages | search: searchInput"&gt;<br/>             {{programmingLanguage}}<br/>          &lt;/li&gt;<br/>        &lt;/ul&gt;<br/>    &lt;/article&gt;</strong><br/>&lt;/section&gt;</span></pre><p id="777e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我添加了一个文章部分来显示搜索结果。管道根据搜索输入过滤编程语言。</p><h1 id="0327" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">行动中的搜索</h1><p id="b258" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果你一直正确地跟随，你现在应该有一个工作的即时搜索功能。</p><p id="6fd0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">转到为您的应用程序提供服务的浏览器页面，键入我们数组中编程语言的名称。您应该会得到与下面类似的输出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/7edbfaeea37f190946f2d4043f70d9f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*3FLNR6h1d0Q2g50IOgRVfQ.gif"/></div></figure><h1 id="dafe" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="e941" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你可以看到，这是一个动态搜索，当我们键入时，它会显示即时搜索结果。</p><p id="5fa5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们在Angular管道的顶部构建了我们的搜索，这是Angular提供的一种经过良好测试的强大功能。</p><p id="735b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">订阅解码得到更多类似内容，我们的YouTube频道</strong> </a> <strong class="lq ir">！</strong></p></div></div>    
</body>
</html>