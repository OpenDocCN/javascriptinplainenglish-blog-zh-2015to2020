<html>
<head>
<title>Setup a Next.js app with TypeScript and Chakra UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript和Chakra UI设置Next.js应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/setup-a-next-js-app-with-typescript-and-chakra-ui-f3a6c39dec48?source=collection_archive---------1-----------------------#2020-06-27">https://javascript.plainenglish.io/setup-a-next-js-app-with-typescript-and-chakra-ui-f3a6c39dec48?source=collection_archive---------1-----------------------#2020-06-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5445" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">还要加入ESLint和beauty</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/555a19e062d60309e69bb76df7761a43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RIzNp-TiXtc4-OpvCiU8-w.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@blakeconnally?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Blake Connally</a> on <a class="ae ks" href="/s/photos/code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="ebb0" class="kt ku in bd kv kw kx dn ky kz la dp lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">更新</h2><p id="6cdf" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">自从我发表这篇文章以来，Next.js的团队已经使开始使用Chakra和Typescript变得简单多了。您可以简单地使用下面的命令:</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="f51b" class="kt ku in mj b gy mn mo l mp mq">// Using npx<br/>npx create-next-app --example with-chakra-ui-typescript with-chakra-ui-typescript-app<br/>// or yarn<br/>yarn create next-app --example with-chakra-ui-typescript with-chakra-ui-typescript-app</span></pre></div><div class="ab cl mr ms hr mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ig ih ii ij ik"><p id="d019" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">这是一个关于我如何用Chakra UI设置Next.js应用程序的简单演练。我将使用yarn作为我的软件包管理器的选择，所以如果你还没有安装yarn，你可以在这里找到安装说明<a class="ae ks" href="https://classic.yarnpkg.com/en/docs/install/#mac-stable" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="293c" class="nd ku in bd kv ne nf ng ky nh ni nj lb jt nk ju lf jw nl jx lj jz nm ka ln nn bi translated">使用TypeScript设置Next.js</h1><p id="b5e9" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">让我们从创建一个Next.js应用程序开始。我们将使用Next.js团队提供的<em class="no"> with-typescript </em>示例。你可以在这里找到<a class="ae ks" href="https://create-next-app.js.org/get-started-with-examples" rel="noopener ugc nofollow" target="_blank">提供的所有例子的更多细节。</a></p><p id="5ab0" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">一旦安装了所有的依赖项，您就可以进入您的项目并启动dev服务器，如下所示。</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="8e8d" class="kt ku in mj b gy mn mo l mp mq">// Create a new next.js app<br/>create-next-app my-app --example with-typescript</span><span id="6b6d" class="kt ku in mj b gy np mo l mp mq">// Jump into the app folder<br/>cd my-app</span><span id="504c" class="kt ku in mj b gy np mo l mp mq">// Start the dev server<br/>yarn dev</span></pre><p id="98e2" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">我把这个应用程序叫做<code class="fe nq nr ns mj b">my-app</code>，你可以用任何你喜欢的名字来代替它。</p><p id="b3f6" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">这将构建您的应用程序，您可以在浏览器中的<a class="ae ks" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>上查看它。它应该是这样的:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/87434c4cf0e27628d964da6eabb95fda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LfFAQRwmnwKJMToSnxWwXw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Source: Author</figcaption></figure><p id="4b57" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">这就是你开始使用Next.js和TypeScript所需要的一切。</p><h1 id="0dd8" class="nd ku in bd kv ne nf ng ky nh ni nj lb jt nk ju lf jw nl jx lj jz nm ka ln nn bi translated">Chakra UI</h1><p id="77d2" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">Chakra UI是一个相对较新的UI库，我决定将其用于我的项目。能够轻松定制主题和黑暗模式的兼容性是吸引我尝试Chakra的主要原因。你可以在这里了解更多信息<a class="ae ks" href="https://chakra-ui.com/getting-started" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="27e1" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">为了将Chakra添加到我们的应用程序中，我们必须使用以下命令将所有依赖项添加到我们的应用程序中:</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="836c" class="kt ku in mj b gy mn mo l mp mq">yarn add @chakra-ui/core @emotion/core @emotion/styled emotion-theming</span></pre><p id="c8ea" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">Next.js使用<code class="fe nq nr ns mj b">App</code>组件来初始化页面。我们需要覆盖<code class="fe nq nr ns mj b">App</code>组件来整合脉轮。要覆盖默认的<code class="fe nq nr ns mj b">App</code>，创建文件<code class="fe nq nr ns mj b">./pages/_app.tsx</code>并添加下面的代码:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nu nv l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The name of the file has to be _app.tsx</figcaption></figure><blockquote class="nw nx ny"><p id="997c" class="lp lq no lr b ls my jo lu lv mz jr lx nz na lz ma oa nb mc md ob nc mf mg mh ig bi translated">确保该文件被命名为<code class="fe nq nr ns mj b">_app.tsx</code>，并被放置在<code class="fe nq nr ns mj b">./pages</code>文件夹中</p></blockquote><p id="9927" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">在上面的代码中，我们用Chakra提供的ThemeProvider和CSSReset包装了默认的next应用程序。这允许我们将组件从Chakra UI导入并使用到我们的应用程序中。</p><p id="1599" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">要检查Chakra是否设置正确，您可以重启应用程序，查看Chakra中的默认风格是否已添加，主页如下所示:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oc"><img src="../Images/ab3b170fd50f991b419dda6faa6f9386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rs5ut-lD991Qe7WP_L-5FQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Source: Author</figcaption></figure><h1 id="94f8" class="nd ku in bd kv ne nf ng ky nh ni nj lb jt nk ju lf jw nl jx lj jz nm ka ln nn bi translated">配置ESLint和更漂亮</h1><p id="49f8" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">有许多不同的方法来为你的项目设置ESLint和Prettier。如果你独自工作，你可以简单地下载插件，并启用你喜欢的林挺规则。如果你与其他开发人员合作，这种方法是不可行的，所以我更喜欢创建一个<code class="fe nq nr ns mj b">.eslintrc.json</code>文件，让项目中的每个人都遵循相同的规则。这有助于保持格式和风格的一致性。</p><p id="fc18" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">为了完成这个任务，我们将从下载所有的依赖项到我们的项目开始，并在项目的根目录下创建<code class="fe nq nr ns mj b">.eslintrc.json</code>文件。</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="fd89" class="kt ku in mj b gy mn mo l mp mq">// Download ESLint related dependencies<br/>yarn add eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-react --dev</span><span id="484b" class="kt ku in mj b gy np mo l mp mq">// Download Prettier related dependencies<br/>yarn add prettier eslint-config-prettier eslint-plugin-prettier --dev</span><span id="ecf5" class="kt ku in mj b gy np mo l mp mq">// Create the .eslintrc.json file<br/>touch .eslintrc.json</span></pre><p id="09e4" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">一旦下载了所有的依赖项，您就可以在您选择的编辑器中打开您的<code class="fe nq nr ns mj b">.eslintrc.json</code>文件，并添加以下代码:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nu nv l"/></div></figure><blockquote class="nw nx ny"><p id="4bf1" class="lp lq no lr b ls my jo lu lv mz jr lx nz na lz ma oa nb mc md ob nc mf mg mh ig bi translated">确保<code class="fe nq nr ns mj b">plugin:prettier/recommended</code>是<code class="fe nq nr ns mj b">extends</code>阵列中的最后一个配置。</p></blockquote><p id="161a" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">这些是我在项目中使用的默认设置。您可以根据自己的喜好添加和修改规则。</p><h1 id="bfc5" class="nd ku in bd kv ne nf ng ky nh ni nj lb jt nk ju lf jw nl jx lj jz nm ka ln nn bi translated">修复ESLint问题</h1><p id="f33d" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">在添加并修改了<code class="fe nq nr ns mj b">.eslintrc.json</code>文件后，你会发现突然之间你的许多文件显示错误，因为我们文件中的代码不符合林挺规则。处理这个问题的一个有效方法是在您的<code class="fe nq nr ns mj b">package.json</code>脚本中添加以下命令。</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="bcd7" class="kt ku in mj b gy mn mo l mp mq">"scripts": {<br/>  "lint": "eslint '*/**/*.{js,ts,tsx}' --quiet --fix"<br/>}</span></pre><p id="186d" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">现在您可以运行命令<code class="fe nq nr ns mj b">yarn lint</code>，它将修复所有可以自动修复的ESLint错误，任何其他错误都将在命令行中打印出来。</p></div><div class="ab cl mr ms hr mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ig ih ii ij ik"><p id="e724" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated">这是用Chakra UI、TypeScript、ESLint和beauty设置Next.js应用程序的最简单方法。你可以在这里找到这篇博客<a class="ae ks" href="https://github.com/VarunRustomji/next-chakra-boilerplate" rel="noopener ugc nofollow" target="_blank">中提到的样板文件。</a></p></div><div class="ab cl mr ms hr mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ig ih ii ij ik"><p id="b8bc" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated"><em class="no">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lr io"> <em class="no">说白了。</em></strong></a></p><p id="54c9" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated"><em class="no">报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lr io"> <em class="no">免费周报</em> </strong> </a> <em class="no">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lr io"><em class="no">Twitter</em></strong></a>，<a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lr io"><em class="no">LinkedIn</em></strong></a><em class="no">，</em><a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="lr io"><em class="no">YouTube</em></strong></a><em class="no">，以及</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lr io"> <em class="no">不和</em> </strong> </a> <strong class="lr io"> <em class="no">。</em>T41】</strong></p><p id="169a" class="pw-post-body-paragraph lp lq in lr b ls my jo lu lv mz jr lx lc na lz ma lg nb mc md lk nc mf mg mh ig bi translated"><strong class="lr io"> <em class="no">有兴趣缩放你的软件启动</em> </strong> <em class="no">？检查</em> <a class="ae ks" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="lr io"> <em class="no">电路</em> </strong> </a> <em class="no">。</em></p><h1 id="a2c9" class="nd ku in bd kv ne nf ng ky nh ni nj lb jt nk ju lf jw nl jx lj jz nm ka ln nn bi translated">进一步阅读</h1><div class="od oe gp gr of og"><a rel="noopener  ugc nofollow" target="_blank" href="/typescript-made-easy-a-guide-to-your-first-type-safe-app-with-next-js-wundergraph-and-prisma-e197a59e2b30"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd io gy z fp ol fr fs om fu fw im bi translated">轻松编写类型脚本:使用Next.js、WunderGraph和Prisma编写第一个类型安全应用程序的指南</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">是时候抛开恐惧，学习TypeScript了。让我们给你第一次“发现！”瞬间通过建立一个完整的…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="op l"><div class="oq l or os ot op ou km og"/></div></div></a></div></div></div>    
</body>
</html>