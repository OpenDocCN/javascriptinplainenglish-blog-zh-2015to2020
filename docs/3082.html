<html>
<head>
<title>Build a dynamic Web App with Strapi and Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Strapi和Angular构建动态Web应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-dynamic-web-app-with-strapi-and-angular-2a187d3800bb?source=collection_archive---------0-----------------------#2020-08-27">https://javascript.plainenglish.io/build-a-dynamic-web-app-with-strapi-and-angular-2a187d3800bb?source=collection_archive---------0-----------------------#2020-08-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/76c45598ac4770d3a512d7365cae0d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z4dWF6EMNIU2vYX3H4lMLA.png"/></div></div></figure><p id="3276" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你想用动态的东西创建一个小的网络应用程序吗？对于文章和博客，你可以使用<a class="ae kt" href="https://wordpress.org/" rel="noopener ugc nofollow" target="_blank"> WordPress </a>。而对于其他东西，比如一个简单的求职招聘平台或者手机app动态内容呢？今天，我们将通过Strapi在几分钟内学会如何做到这一点。🤯</p><p id="106c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">什么是Strapi？</strong>这是一个<em class="ku">无头内容管理框架</em>，为开发者节省了数周的API开发时间😉它有一套令人印象深刻的功能(包括一个管理面板，强大的命令行界面，快速&amp;安全)和有用的插件。</p><p id="7b64" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">“无头”？！</strong>这意味着它通过强大的API，连接到你选择的前端框架，以及移动应用，甚至物联网(Internet-of-Things)。</p><p id="5308" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">本教程的目标是创建一个小型的招聘平台，有一个简单的角度前端和一个管理面板。<strong class="jx io">这一切都在几分钟内完成</strong>。令人兴奋，不是吗？就这么办吧！✈️</p><h1 id="73e5" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">先决条件</h1><p id="4770" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">对于本教程，您需要在您的计算机上安装:<br/><a class="ae kt" href="https://yarnpkg.com/getting-started/install" rel="noopener ugc nofollow" target="_blank">Yarn</a>和<a class="ae kt" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">node . js</a>；<br/>·对Javascript、HTML和CSS有很好的理解；<br/>·对角度框架的基本理解。</p><p id="0293" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ku">注:</em></strong><em class="ku"><br/>GitHub上有项目源代码:<br/>后端(Strapi):</em><a class="ae kt" href="http://bit.ly/tutorial-strapi-angular-api" rel="noopener ugc nofollow" target="_blank"><em class="ku">http://bit.ly/tutorial-strapi-angular-api</em></a><em class="ku"><br/>前端(Angular):</em><a class="ae kt" href="http://bit.ly/tutorial-strapi-angular-front" rel="noopener ugc nofollow" target="_blank"><em class="ku">http://bit.ly/tutorial-strapi-angular-front</em></a></p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="4d66" class="kv kw in bd kx ky mf la lb lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls bi translated">步骤1:使用Strapi的后端</h1><h2 id="04bf" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">设置</h2><p id="85a8" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">这是容易的部分。在终端中，为您的项目创建一个文件夹，并运行此命令来设置Strapi后端。项目是自动创建的，然后Strapi服务器会立即启动。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="b89b" class="mk kw in nb b gy nf ng l nh ni">yarn create strapi-app jobs-api --quickstart</span></pre><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/18fa4b7f3ae047326d8448bbcc54427f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dp3FX0Nhxg9cSZTAu7nATw.png"/></div></div></figure><p id="8c25" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">导航到<a class="ae kt" href="http://localhost:1337/admin/" rel="noopener ugc nofollow" target="_blank">http://localhost:1337/admin</a>，创建您的管理员帐户<br/> …就这样！🙃</p><h2 id="b259" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">设计数据结构</h2><p id="a50c" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">Strapi使用内容类型来定义动态数据的结构。我们现在将构建我们的工作机会和相关公司的数据形状。进入你的Strapi管理面板，点击左边栏中的<code class="fe nk nl nm nb b">Content-Types Builder</code>。有三种不同的集合类型可供选择:</p><ul class=""><li id="30d2" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated"><strong class="jx io">集合:</strong>为标准动态模型，有多个条目；<br/> <em class="ku">例如工作、公司……</em></li><li id="6df1" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated"><strong class="jx io">单:</strong>针对单入车型；<br/> <em class="ku">例如App版本、静态页面内容、… </em></li><li id="dba5" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated"><strong class="jx io">组件:</strong>用于将可重用的数据结构转换成其他类型。<br/> <em class="ku">例如，如果您稍后创建工作请求，明智的做法是为</em> <code class="fe nk nl nm nb b"><em class="ku">title</em></code> <em class="ku">和</em> <code class="fe nk nl nm nb b"><em class="ku">description</em></code> <em class="ku">创建一个组件，该组件可用于工作邀请和工作请求。</em></li></ul><p id="9e11" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">让我们创建</strong> <code class="fe nk nl nm nb b"><strong class="jx io">Company</strong></code> <strong class="jx io">集合类型。</strong> <br/>点击<code class="fe nk nl nm nb b">+ Create new collection type</code>并创建一个<code class="fe nk nl nm nb b">company</code>模型。</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/78e45c383f172e242b5e4920e54f3971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ApuRjMo2JDUlza8Dgv5KQ.png"/></div></div></figure><p id="216e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们将向这个集合类型添加一些字段。让我们为<code class="fe nk nl nm nb b">name</code>添加一个<code class="fe nk nl nm nb b">Text</code>字段。要定义验证，点击<strong class="jx io">高级设置</strong>选项卡，勾选<code class="fe nk nl nm nb b">Required field</code>并设置255个字符的最大长度。</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oc"><img src="../Images/42e02d714c6318c919c3a80f3ebcd6bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZuX22p5S2vUWxAFQJxKy9g.png"/></div></div></figure><p id="94e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ku">重要提示:</em> </strong> <em class="ku">始终为文本字段定义一个最大长度，以避免有人试图添加1，000，000，000字符的值时数据库崩溃🔥。</em></p><p id="d55d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们对其他字段也这样做:</p><ul class=""><li id="6275" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated">名为<code class="fe nk nl nm nb b">size</code>的枚举(必需)，具有以下值:</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="550f" class="mk kw in nb b gy nf ng l nh ni">small_1_to_50<br/>medium_51_to_250<br/>large_251_and_more</span></pre><ul class=""><li id="78fe" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated">名为<code class="fe nk nl nm nb b">website_url</code>的文本(最多255个字符)，包含以下正则表达式:</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="5d7a" class="mk kw in nb b gy nf ng l nh ni">https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&amp;//=]*)</span></pre><ul class=""><li id="5b7d" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated">名为<code class="fe nk nl nm nb b">contact_email</code>的电子邮件(必填，最多255个字符)</li><li id="2077" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated">名为<code class="fe nk nl nm nb b">logo</code>的媒体(单一媒体，仅图像)</li></ul><p id="26c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">按保存！给你！👌您的第一个内容类型已创建。它应该包含以下字段:</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/cdf048558ee1253f44edf5179f599cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xcrnXiVoMwTc2orcKpBdcQ.png"/></div></div></figure><p id="79d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，用以下字段创建一个新的<code class="fe nk nl nm nb b">job</code>集合类型:</p><ul class=""><li id="a7df" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated">名为<code class="fe nk nl nm nb b">title</code>的文本(必填，最多255个字符)</li><li id="c0fb" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated">名为<code class="fe nk nl nm nb b">description</code>的富文本(必需，最多65，535个字符)</li><li id="ef17" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated">将<code class="fe nk nl nm nb b">job</code>模型链接到给定<code class="fe nk nl nm nb b">company</code>的关系。<br/>选择<strong class="jx io">公司有很多岗位</strong>关系(第4个)。</li></ul><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/2849d8de1b0f2165d2e072ca1c27917f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1WX4YpfRFjRKdScSDmny2w.png"/></div></div></figure><p id="1f52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">数据结构都设置好了！</p><h2 id="917d" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">授予数据访问权限</h2><p id="4439" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">最后一件事是提供对数据的只读公共访问，供以后在Angular项目中使用。导航至<code class="fe nk nl nm nb b">Roles &amp; Permissions</code>左侧标签。您将看到两个角色:</p><ul class=""><li id="d844" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated"><strong class="jx io">已认证:</strong>已认证用户的权限；<br/> <em class="ku">例如，您和您的代理将更新工作机会</em></li><li id="82b7" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated"><strong class="jx io"> Public: </strong>对世界其他地方和你的Angular前端的权限。</li></ul><p id="1db3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们编辑<code class="fe nk nl nm nb b">Public</code>角色，并转到<code class="fe nk nl nm nb b">Permissions</code>部分。授予作业显示所需的所有权限:</p><ul class=""><li id="f387" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated">公司<code class="fe nk nl nm nb b">findOne</code>(我们不想一次给所有公司权限)；</li><li id="ddf6" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated">工作<code class="fe nk nl nm nb b">count</code>、<code class="fe nk nl nm nb b">find</code>和<code class="fe nk nl nm nb b">findOne</code>。</li></ul><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/4af32c755450689b1f3b2a266591cda6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kcoNGsxTCRxv9mZr_CutNQ.png"/></div></div></figure><p id="c1a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">按保存，太好了！</strong>👍您定义了所有的API逻辑！</p><h2 id="193e" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">添加示例数据</h2><p id="a423" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">点击左侧栏中的<code class="fe nk nl nm nb b">Companies</code>(在收藏类型下)，并点击<br/> <code class="fe nk nl nm nb b">+ Add New Company</code>。填写一些数据，上传一个logo，然后点击保存。让我们为第一个<code class="fe nk nl nm nb b">Job</code>做同样的事情。</p><blockquote class="od oe of"><p id="3352" class="jv jw ku jx b jy jz ka kb kc kd ke kf og kh ki kj oh kl km kn oi kp kq kr ks ig bi translated"><strong class="jx io">注意:</strong>Strapi富文本字段是Markdown格式。我们将在后面看到如何在角度前端渲染它。</p></blockquote><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/71d848ef79219e54806a77d0101c3cb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9j5cvTF1-3DQp4dL5QXfhw.png"/></div></div></figure><p id="5540" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">之后尝试导航到</strong><a class="ae kt" href="http://localhost:1337/jobs" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">http://localhost:1337/jobs</strong></a><br/>你的第一份工作来了！🎉开心吗？</p><p id="06d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经设置好了Strapi，让我们开始前端部分的工作吧！</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="7e01" class="kv kw in bd kx ky mf la lb lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls bi translated">步骤2:带角度的前端</h1><h2 id="c085" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">设置</h2><p id="170e" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">首先，在机器上安装<a class="ae kt" href="https://cli.angular.io/" rel="noopener ugc nofollow" target="_blank">角度控制器</a>:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ce21" class="mk kw in nb b gy nf ng l nh ni">yarn global add @angular/cli<br/>OR<br/>npm install -g @angular/cli</span></pre><p id="69e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">导航到您的项目目录(在Strapi <code class="fe nk nl nm nb b">jobs-api</code>文件夹之上)，并创建一个新的Angular项目:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="4596" class="mk kw in nb b gy nf ng l nh ni">ng new jobs-front</span></pre><p id="0e0b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">回答以下问题:</p><ul class=""><li id="c392" class="nn no in jx b jy jz kc kd kg np kk nq ko nr ks ns nt nu nv bi translated">您想要添加角度路由吗？<code class="fe nk nl nm nb b">y</code> <br/> <em class="ku">用于以后通过URL显示特定作业</em></li><li id="6d49" class="nn no in jx b jy nw kc nx kg ny kk nz ko oa ks ns nt nu nv bi translated">您想使用哪种样式表格式？<code class="fe nk nl nm nb b">Sass</code></li></ul><p id="37fc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，让我们安装<a class="ae kt" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>(默认样式套件)<a class="ae kt" href="https://jquery.com/" rel="noopener ugc nofollow" target="_blank"> jQuery </a>和<a class="ae kt" href="https://www.npmjs.com/package/ngx-markdown" rel="noopener ugc nofollow" target="_blank"> ngx-markdown </a>(将富文本工作描述呈现为HTML):</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="3ef8" class="mk kw in nb b gy nf ng l nh ni">npm install --save bootstrap jquery ngx-markdown</span></pre><p id="bf83" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">打开项目<code class="fe nk nl nm nb b">angular.json</code>文件，并包含以下依赖项:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="2008" class="mk kw in nb b gy nf ng l nh ni"><strong class="nb io">projects-&gt;architect-&gt;build-&gt;styles:</strong><br/>  "./node_modules/bootstrap/dist/css/bootstrap.css"</span><span id="1f35" class="mk kw in nb b gy oj ng l nh ni"><strong class="nb io">projects-&gt;architect-&gt;build-&gt;scripts:</strong><br/>  "./node_modules/jquery/dist/jquery.js"<br/>  "./node_modules/bootstrap/dist/js/bootstrap.js"<br/>  "./node_modules/marked/lib/marked.js"</span></pre><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ok"><img src="../Images/e944b8a7e700898215abf06ad8235081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQ-3rMPy2hfLpK1BR6fgnQ.png"/></div></div></figure><p id="072a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">完美！👌<br/> </strong>用<code class="fe nk nl nm nb b">ng serve</code>命令服务Angular，确保项目在<a class="ae kt" href="http://localhost:4200/" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200/ </a>可用</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/7ccae45e42bcf6358031921e62d32030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UF-ah-9Mgj6EzvwPpllHcw.png"/></div></div></figure><h2 id="c55c" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">定义API位置</h2><p id="0d90" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">为了给前端提供API位置，向包含Strapi开发URL的<code class="fe nk nl nm nb b">src/environments/environment.ts</code>文件添加<code class="fe nk nl nm nb b">api_base_url</code>属性。</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ol"><img src="../Images/8c061871a8144d87f6a9d3f91bb117da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RlHLx2TMKBZo5Xw91Myr3A.png"/></div></div></figure><p id="edba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们对生产文件one <code class="fe nk nl nm nb b">src/environments/environment.prod.ts</code>做同样的事情，使用一个空的URL(前端和后端将在同一个项目中合并在一起，所以它们将使用相同的基本URL)。</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi om"><img src="../Images/1472515d7075a701648b10a7b8c16a1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qaw-gzehFkoZCOceDVlxQQ.png"/></div></div></figure><h2 id="daca" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">创建模型</h2><p id="4f5b" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">创建<code class="fe nk nl nm nb b">src/models</code>文件夹，并创建第一个模型<code class="fe nk nl nm nb b">Company.ts</code>:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="fed3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ku">注:</em> </strong> <em class="ku"> </em> <code class="fe nk nl nm nb b"><em class="ku">logo</em></code> <em class="ku">提供了许多</em> <code class="fe nk nl nm nb b"><em class="ku">url</em></code> <em class="ku">以外的其他属性，如可选文字、尺寸、扩展名、缩略图等。</em></p><p id="38dd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，创建第二个模型<code class="fe nk nl nm nb b">Job.ts</code>:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="2971" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这些模型用于构建来自Strapi的数据。</p><h2 id="a783" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">创建工作服务</h2><p id="dd33" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">在<code class="fe nk nl nm nb b">src</code>目录下，创建一个<code class="fe nk nl nm nb b">services</code>文件夹，并创建<code class="fe nk nl nm nb b">jobs.service.ts</code>:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="e2a9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该服务用于从您的Strapi API中列出和获取作业。</p><h2 id="6e84" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">构建应用布局</h2><p id="088b" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">在<code class="fe nk nl nm nb b">src/app/app.module.ts</code>中，导入以下模块，并将JobsService声明为提供者:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="14a6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<code class="fe nk nl nm nb b">src/app/app.component.ts</code>中，注入<code class="fe nk nl nm nb b">JobsService</code>依赖关系，放置作业搜索和分页逻辑:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="2ce3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<code class="fe nk nl nm nb b">src/app/app.component.html</code>中，创建简单工作搜索视图:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="cd96" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">创建<code class="fe nk nl nm nb b">Job</code>组件</h2><p id="2e0a" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">最后一件事是创建一个新组件来显示作业，使用:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="5dd9" class="mk kw in nb b gy nf ng l nh ni">ng g c JobComponent</span></pre><p id="250f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">之后，更新<code class="fe nk nl nm nb b">src/app/app-routing.module.ts</code>以更改路由:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="062a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ku">重要:</em> </strong> <em class="ku">在</em> <code class="fe nk nl nm nb b"><em class="ku">imports</em></code> <em class="ku">部分，将走线模式改为</em> <code class="fe nk nl nm nb b"><em class="ku">useHash: true</em></code> <em class="ku">。<br/>这将生成哈希导航(</em> <code class="fe nk nl nm nb b"><em class="ku">/#/job/12</em></code> <em class="ku">)而不是经典导航(</em> <code class="fe nk nl nm nb b"><em class="ku">/job/12</em></code> <em class="ku">)。这需要在生产中的同一个项目中同时使用前端和后端。</em></p><p id="d45c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">打开<code class="fe nk nl nm nb b">src/app/job/job.component.ts</code>文件，粘贴以下代码:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="bc74" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，填充<code class="fe nk nl nm nb b">src/app/job/job.component.html</code>视图:</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="1648" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">现在好了！你应该看到这个:</strong></p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ob"><img src="../Images/d1b4ef270d8278be7dbccd6071d250c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aCIhrPcst1Lz_g6KeP8wZg.png"/></div></div></figure></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><h1 id="22b9" class="kv kw in bd kx ky mf la lb lc mg le lf lg mh li lj lk mi lm ln lo mj lq lr ls bi translated">第三步:上网</h1><h2 id="086d" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">构建角度前端</h2><p id="fcbe" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">一旦前端准备就绪，就在生产模式下构建它:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="a5e0" class="mk kw in nb b gy nf ng l nh ni">ng build --prod=true</span></pre><p id="a54b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">前端构建在<code class="fe nk nl nm nb b">dist/jobs-front</code>目录下。</p><p id="1970" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要在您的Strapi项目中使用frontend，请复制所有生成的文件到<code class="fe nk nl nm nb b">dist/jobs-front</code>目录(index.html，*。js文件、favicon等……)到后台项目公共目录<code class="fe nk nl nm nb b">jobs-api/public</code>。后端项目结构应该是这样的:</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ca3b" class="mk kw in nb b gy nf ng l nh ni">jobs-api/<br/>├── README.md<br/>├── api<br/>├── build<br/>├── config<br/>├── extensions<br/>├── favicon.ico<br/>├── node_modules<br/>├── package.json<br/>├── public<br/>│   ├── index.html<br/>│   ├── main-es2015.xxx.js<br/>│   ├── main-es5.xxx.js<br/>│   ├── polyfills-es2015.xxx.js<br/>│   ├── polyfills-es5.xxx.js<br/>│   ├── robots.txt<br/>│   ├── runtime-es2015.xxx.js<br/>│   ├── runtime-es5.xxx.js<br/>│   ├── scripts.xxx.js<br/>│   ├── styles.xxx.css<br/>│   └── uploads<br/>└── yarn.lock</span></pre><p id="0c1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">测试前端通过访问<a class="ae kt" href="http://localhost:1337/" rel="noopener ugc nofollow" target="_blank"> http://localhost:1337/ </a>，你应该会看到你的工作机会！🎉(如果之前停止了Strapi服务器，不要忘记用<code class="fe nk nl nm nb b">yarn develop</code>启动它)。</p><h2 id="eca3" class="mk kw in bd kx ml mm dn lb mn mo dp lf kg mp mq lj kk mr ms ln ko mt mu lr mv bi translated">部署Strapi</h2><p id="e514" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">您的web应用程序现在可以部署了！您可以遵循其中一个Strapi文档教程，将项目部署到您喜欢的云提供商(AWS、Azure、DigitalOcean、Heroku…)。</p><div class="op oq gp gr or os"><a href="https://strapi.io/documentation/v3.x/getting-started/deployment.html" rel="noopener  ugc nofollow" target="_blank"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd io gy z fp ox fr fs oy fu fw im bi translated">部署— Strapi文档</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">Strapi为您的项目或应用程序提供了许多可能的部署选项。</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">strapi.io</p></div></div></div></a></div><h1 id="277c" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">结论</h1><p id="dc0f" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">厉害了，你成功实现了这个教程！创建您的动态应用程序需要多长时间？</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/fada9a7494634769c1eb664f342af9e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*F2KcfbDXZ1IYQw4h.gif"/></div></figure><p id="30f3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请随意添加额外的功能，使这个项目适应您自己的需要，并在评论部分给出您的反馈。</p><p id="06be" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你对改进本教程感兴趣，请随时联系我。😊</p></div></div>    
</body>
</html>