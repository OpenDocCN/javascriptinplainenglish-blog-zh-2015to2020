<html>
<head>
<title>I Read The Entire React API. Here Is My Advice To New Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我阅读了整个React API。以下是我对新开发者的建议</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/i-read-the-entire-react-api-here-is-my-advice-to-new-developers-d040507e6c23?source=collection_archive---------0-----------------------#2020-04-28">https://javascript.plainenglish.io/i-read-the-entire-react-api-here-is-my-advice-to-new-developers-d040507e6c23?source=collection_archive---------0-----------------------#2020-04-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2612126b66e4f227438ec56c853ad480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8LdBw2LBM0U4AVyA.jpg"/></div></div></figure><p id="c157" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">我阅读了整个</em> <a class="ae kx" href="https://reactjs.org/docs/react-api.html" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> </em> <strong class="ka ir"> <em class="kw"> React顶级API</em></strong></a><strong class="ka ir"><em class="kw"/></strong><em class="kw">这里是我对新手学习React和有经验的程序员采用React的建议。</em></p><h1 id="bfc1" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h1><p id="575a" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">关于React(或ReactJS ),首先要克服的一个问题是对它的大肆宣传。“用于构建用户界面的JavaScript库”(不是一个框架)，通常是由大多数React专家、大师甚至核心团队开发人员从一个非常高级的角度来呈现的。似乎人们期望提升他们的编程思维来理解概念和原理。</p><p id="3656" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请注意，React不是一个框架，而是一个库，因为它依赖第三方库来提供一些核心功能，如路由，不像Angular或Vue.js这样的框架有这样的内置功能。所以它不是一个完整的框架。然而，它是前端库和框架的金童，因为它在应用高级编程概念方面非常简单。在松耦合和微服务的时代，前端库(与Angular和Vuejs等其他JavaScript框架处于同一水平)是构建复杂前端的最接近惯用JavaScript的哲学。不拘泥于Angular的TypeScript/MVC架构或者Vue.js '耦合HTML。</p><p id="5c29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更重要的是，react是一个脸书开源项目，由J<strong class="ka ir">ordan walker，</strong>创建，由一些最积极的年轻开发人员领导——Dan abra mov，他经常神秘地解释库背后的概念，几乎可以在(社交)媒体的任何React主题上看到，Brain Vaughn从图形设计过渡到编程，构建了React虚拟化，并在React核心团队中找到了一份工作</p><h1 id="baca" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">反应过来道</h1><p id="848e" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">任何一个来React的人都应该理解的高层次观点源于这样一个事实，React既不是一个框架，也不是一种编程语言，而是一个库，它的开发者选择了他们认为更适合于构建响应性和功能性用户界面的某些原则。这些原则包括<em class="kw">基于组件的设计、继承之上的组合、自顶向下的单向数据流，以实现功能反应式编程中的一致性。</em></p><p id="66a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它基于一个声明性的范例，而不是命令性的范例。此外，React结合了面向对象编程(OOP)的主要范例，最好使用现代JavaScript、ES6和更高版本来实现，尽管它对ES5具有向后兼容性。</p><p id="9fc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为React更喜欢组合而不是继承，所以你不需要实现任何接口，在<a class="ae kx" href="https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750" rel="noopener">React团队拒绝</a>使用Mixins(接口的高阶构造)之后，它们就被淘汰了。对于Java一族来说，接口是语言固有的一部分，它已经在Java 8接口中采用了Mixins。因此，这样一个来自基于类的继承范例的人最需要掌握JavaScript，学习动态类型，以及JavaScript语言的其他精彩特性，比如知道除了变量之外，一切都是函数。您可以将函数传递给普通JSON格式的方法和对象，并进行回调等等。</p><h1 id="d68b" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">一切都是组成部分</h1><p id="8b0b" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">如果你是一名经验丰富的程序员，来自基于类的继承语言，如Java、C#，并且你了解像Spring Boot这样的框架，你会发现React的主要构件是<em class="kw"> React。组件</em>类，它定义了你要实现的方法，其中一个是<em class="kw"> render()，</em>，它对于任何组件来说都是强制性的，它会呈现自己，包括它在网页上包含的其他组件。并非所有组件都可以声明一个呈现方法，只有那些将组件呈现(读取插入)到DOM并利用生命周期方法和内部状态的组件，其他组件可以将它们的状态作为道具。它们可以像普通的JavaScript变量一样被声明，并且必须被初始化或在函数中作为JSX、JavaScript XML返回，并且包含在包含render方法的另一个组件中。因此，对于理解应该重写哪些方法来获得父组件类中存在的一些功能，您没有任何困难。</p><p id="b650" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于编程新手来说，你要学习两件事，OOP的基于类的继承和基于原型的继承。例如，如果一个人仍然在React中使用类。他们需要理解对象到类的建模(OOP)和某些概念，比如静态关键字。一个典型的例子是React组件中的<em class="kw">静态getderivedstatefromprops </em>，其中<em class="kw">这个引用类的</em>关键字不能被访问。因为静态方法不是要调用它的对象的成员，但是可以在类级别访问。同样，当您编写启动React应用程序的引导程序<em class="kw"> ReactDOM.render() </em>时，会调用<em class="kw"> ReactDOM </em>函数的render方法。编程新手的学习曲线更加陡峭。</p><p id="153f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">新手可能会感到困惑，因为现在有三种编写React组件的方式都是有效的。(在Angular[非AngularJS]中，它是严格的打字稿。)它们是:</p><ol class=""><li id="5aa6" class="mb mc iq ka b kb kc kf kg kj md kn me kr mf kv mg mh mi mj bi translated">基于类的组件</li><li id="8c0e" class="mb mc iq ka b kb mk kf ml kj mm kn mn kr mo kv mg mh mi mj bi translated">功能组件</li><li id="62ea" class="mb mc iq ka b kb mk kf ml kj mm kn mn kr mo kv mg mh mi mj bi translated">类型脚本功能组件</li></ol><p id="ece6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在ES5之后采用了基于类的组件，其中每个组件都可以是一个类，并且拥有使用<em class="kw"> this.state{} </em>声明的类变量。该类在其构造函数中接受道具(属性)，该构造函数必须调用从父组件传递给它的<em class="kw">超级(道具)</em>。</p><p id="ec01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设您正在开发一个待办事项应用程序，您在一个页面上有两三个待办事项卡片，您创建了一个包含待办事项的<em class="kw">待办事项</em>组件，您将让您的父组件进行数据库调用并获取所有待办事项的数据并显示，您让每个<em class="kw">待办事项</em>组件更新其内容并保存到数据库。所以你传递给todos的初始数据是道具，每个todo的数据是它的状态。你会遇到如何使用<strong class="ka ir"> PureComponents </strong>、<strong class="ka ir">高阶组件(HOC) </strong>和Redux之类的助手库来管理状态。</p><p id="c2fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">功能组件</strong>是现今编写React组件的首选方式。它们是作为React版本16的一部分发布的。它们是惯用的JavaScript。为了操纵它们的状态，引入了<a class="ae kx" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">钩子</a>。钩子是用来“钩”入功能组件状态的函数，因为它们是无状态的，它没有<em class="kw"> this，</em>因此没有类似类的状态。一个钩子用<em class="kw">声明，使用</em>作为第一个单词。如<em class="kw">使用状态</em>。如果需要，它返回状态和设置器，或者只返回状态。</p><p id="ab48" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例子是:</p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="7063" class="my kz iq mu b gy mz na l nb nc"><em class="kw">const [count, setCount] = useState(0)</em></span></pre><p id="c8c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们初始化count = 0。我们包含了一个用于更新状态的设置器。我们不应该在组件中使用count +=1，因为它们会引入错误。相反，我们做setCount(count+1)。钩子是如此的惯用，以至于它是纯JavaScript的，所以人们不必再为太多的类知识而烦恼。<em class="kw">如果你是JavaScript专业人士，相信我，一个月就能学会React。任何东西都可以用钩子来操纵。生命周期方法反应。使用<em class="kw">使用效果</em>挂钩可以模仿所提供的组件，挂钩有以下变体:</em></p><pre class="mp mq mr ms gt mt mu mv mw aw mx bi"><span id="f7c8" class="my kz iq mu b gy mz na l nb nc">// (1) On Mount and every render<br/>useEffect (() =&gt; { <br/>  dosomething()<br/>});</span><span id="a28d" class="my kz iq mu b gy nd na l nb nc">// (2) Only on Mount<br/>useEffect (() =&gt; {<br/>  dosomething()<br/>}, []);</span><span id="ec5a" class="my kz iq mu b gy nd na l nb nc">// (3) On Mount/every time state of count changes<br/>useEffect (() =&gt; {<br/>  dosomething()<br/>}, [count]);</span><span id="c61d" class="my kz iq mu b gy nd na l nb nc">// (4) UseEffect with cleanup<br/>useEffect (() =&gt; {<br/>  dosomething();<br/>  return clearSomething(){};<br/>});</span></pre><p id="c554" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意四个useEffect挂钩的区别。第一个没有第二个参数(在挂载和每次重新渲染时运行)，另一个有一个空数组(只在挂载时运行)，第三个有数组中的<em class="kw"> count </em>(在挂载和每当<em class="kw"> count </em>的状态改变时运行)，最后一个返回一个函数，该函数用于在卸载组件时进行清理。它们用于模拟生命周期方法——componentdimount、componentDidUpdate和componentWillUnmount——我们需要在类中管理组件的安装、更新和卸载。第四个用于卸载，注意返回的函数。其他生命周期方法也可以用钩子实现- <a class="ae kx" href="https://codesandbox.io/s/react-getderivedstatefromprops-to-hooks-y9boj?from-embed" rel="noopener ugc nofollow" target="_blank"> getDerivedStateFromProps可以用组件状态</a>和Props之间的比较来实现。shouldComponentUpdate可以用React实现<a class="ae kx" href="https://stackoverflow.com/a/57405307/905494" rel="noopener ugc nofollow" target="_blank">。备忘录</a>防止重新渲染，它使用记忆。</p><p id="61d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于功能组件和类的争论在React生态系统中很常见。尽管功能组件无处不在，但仍有一些特性没有像<a class="ae kx" href="https://reactjs.org/docs/error-boundaries.html" rel="noopener ugc nofollow" target="_blank">错误边界</a>那样的功能实现来显式捕捉组件中的错误。有些人认为功能组件比类组件更快的说法是一个神话。</p><p id="1f87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">类型脚本功能组件</strong>是对功能组件的增强。引入静态类型的需求在TypeScript中已经成为可能，在TypeScript中，所有变量和参数都必须在声明和函数参数中给定一个类型。<a class="ae kx" href="https://reactjs.org/docs/typechecking-with-proptypes.html" rel="noopener ugc nofollow" target="_blank">类型检查</a>为了类型安全，在类型脚本中必须对类和函数组件中的属性类型进行检查，但对接口进行检查。</p><h1 id="22d5" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">反模式</h1><p id="2e92" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">您会经常听到一个流行词，反模式。React中的反模式是对指导如何实现React以获得最佳结果的成文和不成文原则的偏离。偏差会导致糟糕的编程实践。一个例子是改变子组件中的属性。这样做是不可取的，因为它打破了自上而下的流程。</p><h1 id="e214" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">状态管理</h1><p id="519a" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">React固有地附属于Redux(这是变化的),它是一个状态管理库，事实上React作业是与Redux一起发布的。现在，虽然我们有其他状态管理库，如Flux和Mobx，但Redux是默认选择。我们知道大多数前端应用程序管理状态，Redux提供了一个存储、reducers和动作来帮助实现这一点。在选择学习项目时，选择使用Redux的项目。这将有助于完成学习。</p><h1 id="07e1" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">专家们</h1><p id="9c2f" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">最后，React是一个很好的前端库(read framework)。我不知道Angular和我现在知道的React一样多，但我已经完成了stackblitz教程。学习React最好的地方之一是egghead . io。React的主要开发者之一Dan Abramov在那里有视频教程。然后是拥有自己网站的<a class="ae kx" href="https://kentcdodds.com/" rel="noopener ugc nofollow" target="_blank">肯特·C·多兹</a>。还有<a class="ae kx" href="https://www.taniarascia.com/redux-react-guide/" rel="noopener ugc nofollow" target="_blank">塔妮娅</a>。你可以通过谷歌找到成千上万的其他人。你实际需要的是开始思考JavaScript和OOP(基于类和基于原型)包括DOM API的知识，而不是真正的深入。React在DOM API之上提供了一个抽象，所以你不能直接操作DOM，但是如果你愿意的话，可以通过<em class="kw"> refs </em>来操作，但是你需要知道它是如何工作的。通过ReactDOM，我们能够将JSX插入到web浏览器中，因此它是平台和浏览器独立的。在React中你基本上可以做任何你想做的事情。在您变得更高级并开始构建复杂的用户界面之前，您可能不会担心底层的连接和样板代码。您可以浏览React GitHub页面，亲自了解一些事情。</p><h1 id="58c7" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="10c1" class="pw-post-body-paragraph jy jz iq ka b kb lw kd ke kf lx kh ki kj ly kl km kn lz kp kq kr ma kt ku kv ij bi translated">我不想深入探讨，因为这意味着对React世界的一个概述，而这是一篇文章或一本书所不能涵盖的。我甚至还不太了解。我正在努力学习，争取在2020年底前成为一名React摇滚明星。但是我上面所阐述的来自于边做边学，事实上我用React实现了一个计算器，阅读了整个顶级API，并且一直在Stackoverflow上回答问题。我也做过一个React原生应用，是有人启动的，我完成了。</p><p id="2cbd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我相信我已经给了React世界一个<strong class="ka ir">鸟的</strong> - <strong class="ka ir">视角</strong>。相信我，掌握了这些概念，在不到6个月的时间里，React的所有魔法和原理对你来说听起来都会很正常。一年前写这个教程的时候我还不明白这些东西。我还记得我第一次读<a class="ae kx" href="https://reactjs.org/tutorial/tutorial.html" rel="noopener ugc nofollow" target="_blank">官方的React教程</a>，它听起来像希腊语，但是今天，它很有意义。</p><p id="2df2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">jikagon syt ziry(" Go it " in<a class="ae kx" href="https://lingojam.com/EnglishtoValyrianTranslator" rel="noopener ugc nofollow" target="_blank">High Valyrian</a>)。</p><p id="31a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这篇文章已经被翻译成中文，可以在InfoQ上找到。</p></div></div>    
</body>
</html>