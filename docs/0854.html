<html>
<head>
<title>Fetch using GET, POST, PUT &amp; DELETE in React App (Part II)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React应用程序中使用GET、POST、PUT和DELETE获取(第二部分)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/fetch-using-get-post-put-delete-in-react-app-part-ii-e116f8bc69da?source=collection_archive---------0-----------------------#2019-12-23">https://javascript.plainenglish.io/fetch-using-get-post-put-delete-in-react-app-part-ii-e116f8bc69da?source=collection_archive---------0-----------------------#2019-12-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8bd1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">该项目的第二部分将致力于探索更新和删除。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a07688eeb26f06bf3b667e36c29ea4f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IOvqBuszNAv5-_fE3fv55g.jpeg"/></div></div></figure><p id="517a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在文章的第一部分中，我们讨论了与<strong class="kt ir">API</strong>交互的一些重要方面。我们了解了在开始编码之前理解<em class="lo">文档</em>的重要性，使用<strong class="kt ir"> Postman </strong>之类的工具，帮助我们使用<strong class="kt ir"> GET </strong>和<strong class="kt ir"> POST </strong>方法与API和<strong class="kt ir"> fetch </strong>函数进行交互。</p><p id="9c99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于我们的<strong class="kt ir">联系人列表</strong>的第二阶段，要探索的主题是<strong class="kt ir"> PUT </strong>，它允许我们更新当前数据(联系人)和<strong class="kt ir"> DELETE </strong>，这是我们可以从最后一种方法中获得的非常直观的结果。</p><p id="d0a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">第一步是检查更新数据的文档。在这里查看文档<a class="ae ln" href="https://assets.breatheco.de/apis/fake/contact/" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/7d14d881b754e1e9f291a6c3a1b9314d.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*YQ01LdikWuCgs4GA4MRohA.png"/></div></figure><p id="6a4d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后一项，编号8，将引用PUT方法。这将是端点“https://assets . breath eco . de/APIs/fake/contact/”+“id”。为了更新联系人，我们将传递联系人id。</p><p id="9d96" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用Postman并选择GET方法，我们可以检索数据并检查字段，包括Id。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lq"><img src="../Images/084f762b6050ccbf0e836ccf27c88c3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hoTuFnY9xubn0nnJ6M9ELg.png"/></div></div></figure><p id="bcfc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过访问数据，我们可以获得所有可用于交互的字段，包括id。现在我们有了Id、端点和API文档。</p><p id="4a09" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用端点+为该联系人选择的id，我们将更改四个字段，全名、电子邮件、电话和地址。如果请求是正确的，响应应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lq"><img src="../Images/47b10bb60d21d8cdf584b636d15eb917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2hdfwxr6JycJgN0tFP7rTA.png"/></div></div></figure><p id="7f90" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">数据被更新，这意味着端点和参数是正确的，我们可以开始编码了！</p><p id="bba9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先要做的是创建我们的更新函数，因为这个函数将做一些我们要在“flux.js”中声明的事情，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/25e757592eada662360e691b4f25e800.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*1WYV3EN8VHJz2XuGIjI_vA.png"/></div></figure><p id="cd49" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是我声明函数的方式。传递<strong class="kt ir"> id </strong>、<strong class="kt ir">姓名</strong>、<strong class="kt ir">电话</strong>、<strong class="kt ir">电子邮件</strong>、<strong class="kt ir">地址</strong>。对于获取，我们添加了“const url ”,声明在保存端点值的文件的顶部，加上id。fetch函数的第二个参数由逗号分隔，是我们需要传递以完成更新的带有规范的对象。第53行，我们再次调用<strong class="kt ir"> GET </strong>方法，这将确保在更新后我们用新值或更新后的值刷新页面。</p><p id="006d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下一步，我们将在“src/js/views”中创建另一个文件，我将其命名为“editContact.js”(在本文的下一部分，我们将讨论条件渲染)。对于内容，我们可以复制整个AddContact.js。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/873ac231f2eb67dfbb20781a67c1af70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*VnH4pe8oss74S4aEzu3G4Q.png"/></div></figure><p id="d7f6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此时的更改非常简单，在第4行，我们导入了<strong class="kt ir"> PropTypes </strong>，在第6行，我们将组件的名称改为“EditContact ”,在第15行，标题需要改为“Edit Contact”。</p><p id="e216" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们在视图中创建了EditContact，这意味着我们希望Edit成为一个新的屏幕，为此需要一些导航。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lt"><img src="../Images/49dfdbda163e74a1727de1c8ebecd7e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zh3MAy95YHqcszxG7mScog.png"/></div></div></figure><p id="ceac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在“src/js/layout.js”文件中，它需要被导入，编辑组件，我在第10行做的，同样，在第22行，它需要被指定视图的路径，加上联系人的id，id将是“:id”，冒号意味着值将通过变量动态传递。稍后我将解释为什么我们将<strong class="kt ir">索引</strong>作为路线<strong class="kt ir">的下一个值。</strong></p><p id="2ad0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您运行<em class="lo">“NPM run start”</em>并添加“/edit”，将出现一个新屏幕，我们将在此更新联系人。</p><p id="ef9c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们有编辑功能，新的组件，我们设置导航。</p><p id="6d75" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们制作一个带我们到编辑视图的按钮。js文件有一个按钮，它负责将我们带到视图，我们将在该文件中添加几行代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/c792627ce196267905bd57ed3a314ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*PBgawkJAgw7GMJWyk9eqbg.png"/></div></figure><p id="bb82" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们开始从<em class="lo"> react-router-dom </em>导入<strong class="kt ir">链接</strong>，这允许我们在屏幕之间导航。当我们在layout.js文件中指定路线时，在第22行中，结合一个包装在&lt;链接中的按钮&gt;标签与&lt;一个&gt;(锚点标签)具有相同的效果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/29acd48387ab717f74110efebfd4ff0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*P9AIWZBDLv76_lmWqdOb1A.png"/></div></figure><p id="ca2f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我们正在映射组件，所以我们可以动态地指定id。这意味着我们将使用API提供的id。保存您的更改，转到浏览器并按下我们刚刚用铅笔按钮包裹的按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/82866aecad482aadf35adf9ffac06f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*eNvlox0VgKQ64QEZLXN13g.png"/></div></figure><p id="93cd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">铅笔按钮应该将您带到编辑视图，但是编辑组件没有更新或显示任何值。那是因为我们还没有编码。请注意，左侧的联系人与我们使用Postman更新的是同一个联系人，也是我们将要在浏览器中更新的联系人。</p><p id="8a95" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在ContactCard.js中，我们有来自API的数据，并映射到所有联系人。通过props，我们将把数据传递给子组件EditContact。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/34785770e5112ac7456095dc00173c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*kJLmK4B04qjjwsF2AjBKbg.png"/></div></figure><p id="c445" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们在ContactCard.js的第73行添加将被传递给组件的属性。</p><p id="3d8e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我们将在“editContacts.js”中进行同样的操作，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/90579fe600d010c231c107c54b3061e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*fZhDSCacAuxSR2o1fhftrw.png"/></div></figure><p id="bfa1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们即将开始项目中最具挑战性的部分，所以如果有任何疑问，回到正在工作的部分，再试一次。</p><p id="a72b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">NOTE = &gt;对于editContact.js中的每个更改，要在浏览器中看到，您应该在主页中刷新页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/d8a50167747a53f82ff6dbca898b9732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*rDytakVEH7LnyKMWFGrJ1w.png"/></div></figure><p id="5912" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">否则，您将得到一个错误，即使更改是成功的，看起来也是无效的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/10d44d2c3fc465c7b7198b5d319acb79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*apDQ9equ3XYNCyYaNgOL4A.png"/></div></div></figure><p id="bcfe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在editContact.js上工作，第一步是将“props”作为组件的参数传递，因此前面的Proptypes声明将在组件之间传输数据。我在第12行添加了一个console.log，这样我们可以检查数据是否可用。因此，在控制台中，使用检查器，我们应该会得到以下结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mb"><img src="../Images/8476d168371dba820d8a3750358951fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sOwP0a-2mJieniFmTwXb0Q.png"/></div></div></figure><p id="19fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们将id作为路由传递时，我们基本上是在设置引用该id的值。现在看一下图片，在第24行，我们确定name的默认值是位于store.contacts中的值，该位置的键是<strong class="kt ir"> full_name。</strong></p><p id="2a8e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">onChange方法的设置是，在任何变化时，函数setName都会将新值赋给变量名。</p><p id="07fc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了确保正常工作，我们可以使用检查器检查，转到组件；</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/2e871be6d8d1d8e03fae9418343b963b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*22Q6tIulAehVhlUzey3MvQ.png"/></div></div></figure><p id="45d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">选择EditContact，在左侧更改全名的值，其中是David Update。因此，在右边有“David Update”状态的地方，您应该能够看到发生的变化。这就是你知道它是否有效的方法。</p><p id="4271" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">回到代码，让我们更新另外三个值，<strong class="kt ir">电话</strong>，<strong class="kt ir">电子邮件，</strong>和<strong class="kt ir">地址。</strong></p><p id="9966" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请记住，对于EditContact中的每个更改，请刷新<strong class="kt ir"> home </strong>视图中的页面，并再次访问edit以查看更改。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi md"><img src="../Images/4461656894d5f8ab111aab1c867e041d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*hEEkMWFm260QpyOIUFNZ2A.png"/></div></figure><p id="19c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果所有的步骤都做得正确，我们应该会看到编辑联系与每个输入的值，因为它是在左侧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/196b46814341ac29215ce343c8a2769e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J8h3_4lMEGNYsh1xPWOZMA.png"/></div></div></figure><p id="e705" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于editContact.js中的下一个也是最后一个步骤，我们将调用我们在"<em class="lo"> flux.js </em>中声明的函数<strong class="kt ir"> editContact </strong>，参数将是我们将通过来自父组件的props访问的id以及我们可以更新的所有变量，这些变量是<strong class="kt ir">名称</strong>、<strong class="kt ir">电话</strong>、<strong class="kt ir">电子邮件</strong>和<strong class="kt ir">地址</strong>。此外，参数需要与我们在<em class="lo"> flux.js. </em>中传递的原始函数的顺序相同</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/cd984621807064d603feb8866901f7fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*xmOcDJbDtH5A4LdCk9FdHw.png"/></div></figure><p id="abf1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">完成后，更新任何联系人，通过单击保存按钮保存并查看结果。</p><p id="ade1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果一切正常，我们应该已经在更新联系人了。</p><p id="6ecf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在实现DELETE方法之前，我们需要清理editContact.js中的代码。</p><p id="f80e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">目前，我们的代码如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/d9469f98879f9a678d6927787f1b330a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*46Bv7nkAMqINEzTjFc3tWQ.png"/></div></div></figure><p id="9fb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于每个输入，属性<strong class="kt ir"> defaultValue </strong>包含一个<em class="lo"> javascript表达式</em>,我们将用钩子中的第一个变量替换它，从第8行到第11行。比如第9行，我们有<strong class="kt ir"> const [name，set name]= useState(" ")；</strong></p><ol class=""><li id="8886" class="mh mi iq kt b ku kv kx ky la mj le mk li ml lm mm mn mo mp bi translated">对于<strong class="kt ir"> name </strong>，即保存<strong class="kt ir"> <em class="lo">初始值</em> </strong>的变量，我们可以同意这与<em class="lo"> javascript表达式</em>在第24行声明的属性<strong class="kt ir"> defaultValue的值相同。</strong></li><li id="5eed" class="mh mi iq kt b ku mq kx mr la ms le mt li mu lm mm mn mo mp bi translated"><strong class="kt ir"> setName </strong>是将改变<strong class="kt ir">状态</strong>或变量<strong class="kt ir"> name </strong>的值的函数。第25行，如果输入改变，函数<strong class="kt ir"> setName </strong>被触发，改变变量<strong class="kt ir"> name </strong>的值。</li><li id="77a3" class="mh mi iq kt b ku mq kx mr la ms le mt li mu lm mm mn mo mp bi translated">现在，<strong class="kt ir"> useState </strong>它将保存<em class="lo">初始值</em>，其中<em class="lo"> </em>当前为空，但即使为空，我们也将更新联系人的值。这是因为属性<strong class="kt ir"> defaultValue </strong>覆盖了useState的空值。</li></ol><p id="4c6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们需要重新组织代码，以便更加清晰易读。它应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/465f276a1eccdd03d3d6c0f83286412c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*vrAHXcbIORqSf8oJ-DsqFQ.png"/></div></figure><p id="0c4e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">属性<strong class="kt ir"> defaultValue，</strong>的值现在存储在名为<strong class="kt ir"> short，</strong> inline 7的变量中。我们之前在第24行的内容，现在用一种更好的方式在第11行声明了。</p><p id="02d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，属性<strong class="kt ir"> defaultValue </strong>现在采用变量名，该变量名与作为<strong class="kt ir"> useState的参数传递的变量名相同。</strong>对其他3个输入重复相同的过程。</p><p id="f371" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请注意，在第8行中，有另一个名为<strong class="kt ir"> id </strong>的变量保存着<strong class="kt ir"> props.match.params.id </strong>的值，该值将被第65行中的id所替代。</p><p id="5eb4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">至此，我们完成了PUT方法。</p><p id="c1e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">继续前进并再次访问<em class="lo"> API文档</em>，我们将获得如何删除联系人的信息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4a0d03d71aee64ecfdf630ff85d38fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*cAA9g0mhCVEh89dCUXe_Gg.png"/></div></figure><p id="c527" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据文档，我们需要向端点添加一个id。</p><p id="a413" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就是我们如何编写删除函数，它也将在"<em class="lo"> flux.js </em>"文件中声明为<strong class="kt ir">动作的值:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/7110aea7a4ae06bbde91c59cd330ab5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*P5OpxWdbwbLyOHfhTFHs0g.png"/></div></figure><p id="96fa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> deleteContact() </strong>将传递一个参数，即<strong class="kt ir"> id。</strong><strong class="kt ir">fetch()</strong>函数，此时会传递2个参数，变量<strong class="kt ir"> url </strong>加上<strong class="kt ir"> id </strong>(会根据我们要删除的联系人动态传递)和，方法“delete”。</p><p id="f136" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从第68行到第78行，我们只是触发get方法，在删除一个联系人后用新值更新页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/8f3dab1ca329af814b6fc12169a2651c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Vk31Nd5CFWCTGE8wKrzMEg.png"/></div></figure><p id="d190" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将调用<em class="lo">" src/js/component/contact card . js "，</em>中的deleteContact()函数，从第35行到第41行，我们有一个按钮，我们需要添加一个<strong class="kt ir"> onClick </strong>事件，因为我们正在映射，我们将把<strong class="kt ir"> id </strong>作为参数传递。这是由<em class="lo"> API文档</em>提出的要求。</p><p id="614c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">是时候测试一下了！</p><p id="2bae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你按照说明正确操作，你应该可以让联系人列表正常工作！</p><p id="e67c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将为此项目提供<strong class="kt ir">第三部分</strong>以实现<strong class="kt ir">模式。</strong></p><p id="6972" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你的应用程序不工作，它应该检查我的库<a class="ae ln" href="https://github.com/jhcxavier/Contact_List_Medium" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="0581" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>