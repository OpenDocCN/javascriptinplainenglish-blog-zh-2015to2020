<html>
<head>
<title>The Stupid Mistake I Made With The JavaScript Import Statement</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在JavaScript导入语句中犯的愚蠢错误</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-stupid-mistake-i-made-with-the-javascript-import-statement-75c4d111d70b?source=collection_archive---------4-----------------------#2020-12-13">https://javascript.plainenglish.io/the-stupid-mistake-i-made-with-the-javascript-import-statement-75c4d111d70b?source=collection_archive---------4-----------------------#2020-12-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2bb5" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">都是为了休息一下</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/436c516d572949c0349239cee6adfbd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A2WgatjinWOcm9xzA3AxFw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by<a class="ae ks" href="https://unsplash.com/@markusspiske" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kt">Markus Spiske</strong></a><strong class="bd kt">:</strong> Unsplash.</figcaption></figure><p id="a930" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我第一次编写包含import语句的代码时，犯了一个愚蠢的错误。尽管我有8个月使用JavaScript的经验，我还是花了大约两个晚上的时间试图找出为什么这个程序不工作。</p><p id="4269" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我想让你直接看到错误，但为了让我说的每一句话都有意义，多说这个故事也没什么大不了的。</p><p id="5663" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">许多JavaScript开发人员仍然持有那种“让我们保持老样子”的观点。我为什么要学习如何用JavaScript实现新特性？我曾经有一段时间和这些开发者一样。我忽略了很多次讨论ES6新特性的文章、教程和书籍。</p><p id="c9c1" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">每次我遇到一个新的特性，新的语法，我都试图摆脱它并实现旧的，这样做只是为了得到相同的结果，而没有学习新东西的负担。</p><p id="88b1" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">然而，这并没有持续多久。就过了一段时间，我开始学习ES6的特性。事情真的很棒，但我在学习很多东西时很挣扎，包括模块。这个特性并没有在语言中引入新的概念，它只是使用了另一个地方(外部或内部)的代码。</p><p id="d144" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">作为一个懒惰的JavaScript开发人员，我对模块一无所知。我过去常常通过包含脚本标签或通过Ajax调用来检索外部代码或信息。</p><p id="45a7" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">使用模块导入外部代码在这门语言中并不新鲜。JavaScript开发人员一直在库的帮助下使用模块，直到社区将它们作为内置特性引入ES6。</p><p id="dca4" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在让我们举一个使用import语句或模块的例子，来说明您可以使用它们的方式，以及为什么我第一次尝试时它们不工作。</p></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><h2 id="b9d0" class="lx ly in bd lz ma mb dn mc md me dp mf ld mg mh mi lh mj mk ml ll mm mn mo mp bi translated">第一个JavaScript文件</h2><p id="4ea9" class="pw-post-body-paragraph ku kv in kw b kx mq jo kz la mr jr lc ld ms lf lg lh mt lj lk ll mu ln lo lp ig bi translated">下图是我们要从中导出代码的模块，因此，模块只是一个导出一些代码的文件。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/e1930b3e2f74951ea3c2cb63938582e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wII-BIKWO0UyWZjLZMLwvw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd kt">Image by Author</strong></figcaption></figure><p id="64d5" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">因此，我们有一个JavaScript文件，名为“<em class="mw"> file1 </em>，它驻留在一个标签为“<em class="mw"> import </em>的文件夹中。如上图所示，我们的文件包含一个标签为Junior 的<em class="mw">类，它有三个属性，我们在第10行有一个导出语句。</em></p><p id="886c" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们现在所做的只是导出模块，具体来说就是<em class="mw">初级类。</em></p><h2 id="8b0a" class="lx ly in bd lz ma mb dn mc md me dp mf ld mg mh mi lh mj mk ml ll mm mn mo mp bi translated">第二个JavaScript文件:</h2><p id="dbfe" class="pw-post-body-paragraph ku kv in kw b kx mq jo kz la mr jr lc ld ms lf lg lh mt lj lk ll mu ln lo lp ig bi translated">下图是包含导入模块的文件。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/6e7a91f9309385f1522954af7d5352bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bRKFFnKFhTJslrgAzinqFg.png"/></div></div></figure><p id="62ec" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">这里我们有一个标记为<strong class="kw io">‘ex file 1</strong>’的JavaScript文件，它包含我们从第8行的‘file 1’导入的模块。我们创建了初级类的一个实例。</p><p id="b476" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在第9行，我们创建了一个高级类的实例，它是Junior的扩展版本。剩余的行将为控制台面板中的每个类输出“<strong class="kw io"> <em class="mw">年属性</em> </strong>”。</p><h2 id="37a5" class="lx ly in bd lz ma mb dn mc md me dp mf ld mg mh mi lh mj mk ml ll mm mn mo mp bi translated">Html文件:</h2><p id="b0f0" class="pw-post-body-paragraph ku kv in kw b kx mq jo kz la mr jr lc ld ms lf lg lh mt lj lk ll mu ln lo lp ig bi translated">我们的Html文件的结构:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="a46f" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">正如您看到的Html文件包含我们前面提到的JavaScript“ex file 1”代码，将这些文件放在一起并在浏览器中打开HTML文件后，打开控制台面板。</p><p id="e215" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">可预测的结果应该是:</p><p id="766b" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们的低年级朋友被判了1年。</p><p id="7112" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">我们的老朋友被判了4年。</strong></p><p id="1327" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">不幸的是，在Chrome浏览器中打开控制台面板后，我们得到了一个错误，这不是我们应该得到的:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/05184affc01293d05d947290891967f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LDKv2QGlSWyRF_9288tRLg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd kt">Image by Author.</strong></figcaption></figure><p id="3aa2" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">那么我做了什么来解决这个问题呢？我真的很匆忙，我谷歌了一下，然后我在Stack overflow中找到了解决方案。事实证明，我应该更改script标记中的type属性，因为我处理的是一个模块，而不是一个常规的JavaScript文件。</p><p id="d754" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">所以与其这样做:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="898e" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我应该这样做:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="ea40" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">然而，那对我也不起作用。控制台面板产生了另一个错误信息，如下图所示。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/1c3ff50d58cf1bf1900aab2f5b1e2f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7EEWaeFwehDRsf1DPe9A6Q.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd kt">Image by Author.</strong></figcaption></figure><p id="55ef" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">一开始，我甚至无法确定问题的核心，因为我不知道到底发生了什么，为什么它会向我显示状态404(未找到)，我在正确的位置使用了正确的文件，我关闭了计算机，然后我就睡着了。</p><p id="e7de" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">第二天早上醒来，打开Vscode，我惊讶于自己有多蠢。我忘了在“ex file 1”文件的<strong class="kw io">的第一行的导入语句中添加“js”扩展名，所以在修复了这个小错误之后，<strong class="kw io"> exfile1 </strong>文件应该是这样的:</strong></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="418d" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">结果将会是我们之前讨论过的可预测的结果。</p><p id="5935" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们的学妹被判了1年。</p><p id="0afd" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">我们学长朋友判了4年。</strong></p><h1 id="3999" class="mz ly in bd lz na nb nc mc nd ne nf mf jt ng ju mi jw nh jx ml jz ni ka mo nj bi translated">最后的想法</h1><p id="68a0" class="pw-post-body-paragraph ku kv in kw b kx mq jo kz la mr jr lc ld ms lf lg lh mt lj lk ll mu ln lo lp ig bi translated">我写这个故事不是为了教你如何使用import语句。如果你想学习如何使用一个模块，你可以去MDN网站，自学如何明智地使用它们。</p><p id="e6b5" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">虽然我犯的这个错误看起来很可笑，但是你不要忘记，最好的学习方法是通过犯错误，加上记下你犯的那个错误。</p><blockquote class="nk"><p id="c17e" class="nl nm in bd nn no np nq nr ns nt lp dk translated">“如果事情不顺利，就从中吸取教训。”未知</p></blockquote></div></div>    
</body>
</html>