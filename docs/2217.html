<html>
<head>
<title>Little Unknown Way To Get Rid Of Switch Statements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一种不为人知的摆脱Switch语句的方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-little-unknown-way-to-get-rid-of-switch-statements-15c2584f51b9?source=collection_archive---------0-----------------------#2020-06-01">https://javascript.plainenglish.io/a-little-unknown-way-to-get-rid-of-switch-statements-15c2584f51b9?source=collection_archive---------0-----------------------#2020-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cffa" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何善待你的代码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b14eb24cf38340db07aea2104787c9db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPjxCCDox2azcPU38ckYAw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Icons from beautiful <a class="ae kv" href="https://icons8.it" rel="noopener ugc nofollow" target="_blank">https://icons8.it</a></figcaption></figure><p id="8890" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像我一样，你可能已经学会在你的源代码中避免大量的<code class="fe ls lt lu lv b">if</code> <em class="lw">语句</em>。<strong class="ky ir">它们很难读懂；代码很难理解，一般来说，很难看。</strong></p><p id="e0b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看一看:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lx"><img src="../Images/84d2b4f44bcdb6ebc48e0765023d211c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmVu7IVUBRw3SsRvTksanA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">An ugly bunch of conditions</figcaption></figure><p id="394e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，这只是一个从真实应用的上下文中推断出来的例子。想象一下，我们在语句中执行函数调用。或者更多的条件检查。</p><h2 id="d59f" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lj mk ml mm ln mn mo mp mq bi translated">大多数编码人员采用的解决方案是什么？</h2><p id="368e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">让我们分析一下提供的例子。将一个表达式与一堆值进行比较，然后在其中一个值为<code class="fe ls lt lu lv b">true</code>时执行一些代码。你猜对了吗？就用一个<code class="fe ls lt lu lv b">switch</code>的说法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/a3a348fe6d30abe7d781cf6981e4f657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SiM_5c6wtpq-p7O-DvkQ4A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">An uglier bunch of conditions</figcaption></figure><p id="c3a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我故意留下了<code class="fe ls lt lu lv b">break</code>，即使因为<code class="fe ls lt lu lv b">return</code>的陈述，它们在这里是不必要的。</p><p id="8c83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你能找出这个例子的错误吗？</p><p id="fc0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过这样写，你并没有真正减少代码的冗长。老实说，甚至在复杂性上也没有。你的代码看起来仍然很奇怪，很难管理。也许这样会更容易理解你想做什么。</p><h2 id="ea67" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lj mk ml mm ln mn mo mp mq bi translated">解决方案</h2><p id="f642" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我认为你应该非常好奇的是重构过程是如何工作的。为什么这个例子很有启发性。大多数人倾向于以这种方式编写代码:</p><ul class=""><li id="7148" class="mx my iq ky b kz la lc ld lf mz lj na ln nb lr nc nd ne nf bi translated">想想问题。</li><li id="10d9" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">实施解决方案草案或原型。</li><li id="1b87" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">写代码。</li><li id="1234" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">调整它的某些部分，使其看起来、执行起来或工作起来更好。</li></ul><p id="582d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一部分通常被认为是<em class="lw">重构。</em>这不应该是一个千载难逢的问题。不要在完成后快速重构代码，然后离开文件。</p><p id="b962" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个过程不是这样的。更像是一个循环。你实现了一些东西。尽量做的好看一点。那就短一点。然后分离代码的关注点。</p><blockquote class="nl nm nn"><p id="eed8" class="kw kx lw ky b kz la jr lb lc ld ju le no lg lh li np lk ll lm nq lo lp lq lr ij bi translated"><strong class="ky ir">“代码是灵活的。你通过对它进行这种持续的仁慈行为来保持它的灵活性”。</strong></p></blockquote><p id="082c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，试着更深入地挖掘你的重构，不要在第一轮就停止。当你在处理一些已经存在的代码时，试着一接触它就让它变得更好。需要循序渐进的小步骤。</p><p id="95c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们以我们条件的最后一幕来结束。为什么不用函数代替<code class="fe ls lt lu lv b">switch</code>？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/660b27798da1162d54c33aab63f0dbce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FsZ__pHrPObB5-x_AqRUkQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A better way to perform multiple conditions</figcaption></figure><p id="31c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意我们如何定义<code class="fe ls lt lu lv b">ingredients</code>对象以避免每次调用<code class="fe ls lt lu lv b">getIngredients.</code>时都创建它，或者<code class="fe ls lt lu lv b">||</code>用于管理我们返回<code class="fe ls lt lu lv b">lemon</code>的默认情况。</p><p id="e249" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更简单、更美观、更易维护。这就是重构做得好可以做到的。根本就不要第一眼就停下来。</p><p id="53f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，您也可以使用地图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/c744f33fa554662f38b8c20104d5a67f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MiAhiOc-ddj0fveTW0vrgQ.png"/></div></div></figure><h2 id="77ca" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lj mk ml mm ln mn mo mp mq bi translated">结论</h2><p id="440e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">本文的重点不仅仅是向您展示如何改进代码。但是这给重构过程带来了光明。以及为什么我们大多数人都弄错了。我希望这有所帮助！</p><p id="9d7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">— <em class="lw">皮耶罗</em></p><h2 id="966a" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lj mk ml mm ln mn mo mp mq bi translated"><strong class="ak">简明英语笔记</strong></h2><p id="3c3e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">你知道我们推出了一个YouTube频道吗？我们制作的每个视频都旨在教给你一些新的东西。点击此处 查看我们，并确保订阅该频道😎</p></div></div>    
</body>
</html>