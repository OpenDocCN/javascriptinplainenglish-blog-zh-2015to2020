<html>
<head>
<title>Find the difference between Dates in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中找出日期之间的差异</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/find-difference-between-dates-in-javascript-80d9280d8598?source=collection_archive---------0-----------------------#2019-11-12">https://javascript.plainenglish.io/find-difference-between-dates-in-javascript-80d9280d8598?source=collection_archive---------0-----------------------#2019-11-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9ec9" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何在JavaScript中找出两个日期之间的差异。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/d770a5b96ff60453c45c9920c3c9c6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m4jWGqfOPRQzj-PrLhq5cw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Image from <a class="ae ks" href="https://unsplash.com/@goumbik?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lukas Blazek</a></figcaption></figure><p id="9c87" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们学习在两个日期之间寻找<code class="fe lp lq lr ls b">Number of Seconds</code>、<code class="fe lp lq lr ls b">Number of Minutes</code>、<code class="fe lp lq lr ls b">Number of hours</code>、<code class="fe lp lq lr ls b">Number of days</code>、<code class="fe lp lq lr ls b">Number of weeks</code>、<code class="fe lp lq lr ls b">Number of months</code>、<code class="fe lp lq lr ls b">Number of years</code>。</p><p id="5dd5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们创建两个日期</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="d856" class="lx ly in ls b gy lz ma l mb mc">let d1 = <strong class="ls io">Date.now();</strong></span><span id="5dd4" class="lx ly in ls b gy md ma l mb mc">let d2 = <strong class="ls io">new Date(2019,5,22).getTime()</strong>; //Jun 22 2019 in millisecond</span><span id="162a" class="lx ly in ls b gy md ma l mb mc">console.log(d1); //1573527098946</span><span id="e7f2" class="lx ly in ls b gy md ma l mb mc">console.log(d2); //1561141800000</span></pre><h1 id="e7ae" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated"><strong class="ak">两个日期之间的秒数。</strong></h1><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="c9d3" class="lx ly in ls b gy lz ma l mb mc"><strong class="ls io">1 second = 1000 milliseconds</strong><strong class="ls io"> </strong></span></pre><p id="d10c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们有两个毫秒级的日期<code class="fe lp lq lr ls b">d1</code>和<code class="fe lp lq lr ls b">d2</code>。要将<code class="fe lp lq lr ls b">milliseconds</code>转换成<code class="fe lp lq lr ls b">seconds</code>，我们可以将<code class="fe lp lq lr ls b">milliseconds </code>中两个日期的差值除以<code class="fe lp lq lr ls b">1000</code>。</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="e415" class="lx ly in ls b gy lz ma l mb mc">function secondsDiff(d1, d2) {</span><span id="97f9" class="lx ly in ls b gy md ma l mb mc">   let millisecondDiff = d2 - d1;</span><span id="726e" class="lx ly in ls b gy md ma l mb mc">   let secDiff = Math.floor( <strong class="ls io">( d2 - d1) / 1000</strong> );</span><span id="0562" class="lx ly in ls b gy md ma l mb mc">   return secDiff;</span><span id="3eeb" class="lx ly in ls b gy md ma l mb mc">}</span></pre><h1 id="4075" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">两个日期之间的分钟数。</h1><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="efce" class="lx ly in ls b gy lz ma l mb mc"><strong class="ls io">1 minutes = 60 seconds</strong></span></pre><p id="a027" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们有方法找到两个日期之间的<code class="fe lp lq lr ls b">seconds</code>的数目，所以我们可以找到<code class="fe lp lq lr ls b">seconds</code>的差异，然后除以<code class="fe lp lq lr ls b">60</code>就会得到两个日期之间的<code class="fe lp lq lr ls b">minutes</code>的数目。</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="44ad" class="lx ly in ls b gy lz ma l mb mc">function minutesDiff(d1, d2) {</span><span id="b8e7" class="lx ly in ls b gy md ma l mb mc">     let seconds = secondsDiff(d1, d2);</span><span id="ca30" class="lx ly in ls b gy md ma l mb mc">     let minutesDiff = Math.floor( <strong class="ls io">seconds / 60 </strong>);</span><span id="5c65" class="lx ly in ls b gy md ma l mb mc">     return minutesDiff;</span><span id="cde9" class="lx ly in ls b gy md ma l mb mc">}</span></pre><h1 id="5a34" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">两次约会之间的小时数。</h1><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="4695" class="lx ly in ls b gy lz ma l mb mc"><strong class="ls io">1 hour = 60 minutes</strong></span></pre><p id="72a9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们有方法找到两个日期之间的<code class="fe lp lq lr ls b">minutes</code>的数目，所以我们可以找到<code class="fe lp lq lr ls b">minutes </code>的差异，然后除以<code class="fe lp lq lr ls b">60</code>就会得到两个日期之间的<code class="fe lp lq lr ls b">hours</code>的数目。</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="a4ff" class="lx ly in ls b gy lz ma l mb mc">function hoursDiff(d1, d2) {</span><span id="2789" class="lx ly in ls b gy md ma l mb mc">   let minutes = minutesDiff(d1, d2);</span><span id="3d5e" class="lx ly in ls b gy md ma l mb mc">   let hoursDiff = Math.floor( <strong class="ls io">minutes</strong> <strong class="ls io">/ 60 </strong>);</span><span id="65a2" class="lx ly in ls b gy md ma l mb mc">   return hoursDiff;</span><span id="88e1" class="lx ly in ls b gy md ma l mb mc">}</span></pre><h1 id="f689" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">两个日期之间的天数。</h1><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="6a5a" class="lx ly in ls b gy lz ma l mb mc"><strong class="ls io">1 day = 24 hours </strong></span></pre><p id="aa36" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们有方法找到两个日期之间的<code class="fe lp lq lr ls b">hours </code>的数目，所以我们可以找到差异，然后除以<code class="fe lp lq lr ls b">24 </code>就会得到两个日期之间的<code class="fe lp lq lr ls b">number of days </code>。</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="27c4" class="lx ly in ls b gy lz ma l mb mc">function daysDiff(d1, d2) {</span><span id="63f9" class="lx ly in ls b gy md ma l mb mc">   let hours = hoursDiff(d1, d2);</span><span id="f949" class="lx ly in ls b gy md ma l mb mc">   let daysDiff = Math.floor( <strong class="ls io">hours / 24 </strong>);</span><span id="cffc" class="lx ly in ls b gy md ma l mb mc">   return daysDiff;</span><span id="488f" class="lx ly in ls b gy md ma l mb mc">}</span></pre><h1 id="fe62" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">两个日期之间的周数。</h1><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="fc28" class="lx ly in ls b gy lz ma l mb mc"><strong class="ls io">1 week = 7 days</strong></span></pre><p id="aa90" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们有方法找到两个日期之间的数字<code class="fe lp lq lr ls b">days </code>，所以我们可以找到差异，然后除以<code class="fe lp lq lr ls b">7</code>将得到两个日期之间的<code class="fe lp lq lr ls b">number of weeks </code>。</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="2ac8" class="lx ly in ls b gy lz ma l mb mc">function weeksDiff(d1, d2) {</span><span id="5d7b" class="lx ly in ls b gy md ma l mb mc">   let days = daysDiff(d1, d2);</span><span id="e2a4" class="lx ly in ls b gy md ma l mb mc">   let weeksDiff = Math.floor( <strong class="ls io">days/ 7 </strong>);</span><span id="2057" class="lx ly in ls b gy md ma l mb mc">   return weeksDiff;</span><span id="6751" class="lx ly in ls b gy md ma l mb mc">}</span></pre><h1 id="0fbf" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">两个日期之间的年数。</h1><p id="df9f" class="pw-post-body-paragraph kt ku in kv b kw mv jo ky kz mw jr lb lc mx le lf lg my li lj lk mz lm ln lo ig bi translated">为了找出两个日期之间的年数，我们有内置方法<code class="fe lp lq lr ls b">getFullYear</code>，用<code class="fe lp lq lr ls b">date1</code>年减去<code class="fe lp lq lr ls b">date2</code>年，我们将得到<code class="fe lp lq lr ls b">yearsDiff</code>。</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="360d" class="lx ly in ls b gy lz ma l mb mc">function yearsDiff(d1, d2) {</span><span id="f712" class="lx ly in ls b gy md ma l mb mc">    let date1 = new Date(d1);</span><span id="ced3" class="lx ly in ls b gy md ma l mb mc">    let date2 = new Date(d2);</span><span id="442d" class="lx ly in ls b gy md ma l mb mc">    let yearsDiff =  <strong class="ls io">date2.getFullYear() - date1.getFullYear()</strong>;</span><span id="fc30" class="lx ly in ls b gy md ma l mb mc">    return yearsDiff;</span><span id="f925" class="lx ly in ls b gy md ma l mb mc">}</span></pre><h1 id="e7e5" class="me ly in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">两个日期之间的月数。</h1><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="881e" class="lx ly in ls b gy lz ma l mb mc"><strong class="ls io">1 month != 30 days </strong></span><span id="9429" class="lx ly in ls b gy md ma l mb mc">Number of days in month is not same in all months , so we need to do it differently</span></pre><p id="d286" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">步骤:</p><ul class=""><li id="6872" class="na nb in kv b kw kx kz la lc nc lg nd lk ne lo nf ng nh ni bi translated">首先，我们需要找出两个日期之间的年数。</li><li id="128d" class="na nb in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated">将两个日期之间的年数乘以12(因为每年有12个月)</li><li id="588d" class="na nb in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated"><code class="fe lp lq lr ls b">second date</code>的月份号(6月→ 5日)与<code class="fe lp lq lr ls b">first date</code>的月份号</li></ul><p id="7e66" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">查找两个日期之间的月数</p><pre class="kd ke kf kg gt lt ls lu lv aw lw bi"><span id="5509" class="lx ly in ls b gy lz ma l mb mc">function monthsDiff(d1, d2) {</span><span id="ea92" class="lx ly in ls b gy md ma l mb mc">  let date1 = new Date(d1);</span><span id="36a5" class="lx ly in ls b gy md ma l mb mc">  let date2 = new Date(d2);</span><span id="1412" class="lx ly in ls b gy md ma l mb mc">  let years = yearsDiff(d1, d2);</span><span id="42a0" class="lx ly in ls b gy md ma l mb mc">  let months =<strong class="ls io">(years * 12) </strong>+ (<strong class="ls io">date2.getMonth() - date1.getMonth()</strong>) ;</span><span id="16fb" class="lx ly in ls b gy md ma l mb mc">  return months;</span><span id="e3d6" class="lx ly in ls b gy md ma l mb mc">}</span></pre><p id="ad6c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢阅读📖。希望你喜欢这个。如果你发现任何错别字或错误给我一个私人说明📝谢谢🙏 😊。</p><p id="4772" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">关注我<a class="ae ks" href="https://medium.com/u/f9ffc26e7e69?source=post_page-----98efbae5e8aa----------------------" rel="noopener"> JavaScript Jeep🚙💨</a>。</p><p id="9d2a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">请捐款</strong> <a class="ae ks" href="https://www.paypal.com/paypalme2/jagathishSaravanan" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">此处</strong> </a> <strong class="kv io">。你捐款的80%捐给了需要食物的人🥘。提前感谢。</strong></p></div></div>    
</body>
</html>