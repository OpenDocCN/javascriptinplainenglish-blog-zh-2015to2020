<html>
<head>
<title>Send Email from your React app with Nodemailer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Nodemailer从React应用程序发送电子邮件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/sending-email-in-react-application-with-nodemailer-afcef6906608?source=collection_archive---------1-----------------------#2020-08-08">https://javascript.plainenglish.io/sending-email-in-react-application-with-nodemailer-afcef6906608?source=collection_archive---------1-----------------------#2020-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9df5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">发送电子邮件是大多数应用程序中最需要的功能之一。这里我们将自己实现一个。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b2c59ed22accf3500dcaf629e14c223d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0FQ5gha7qPdNHOlY34iGoQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">React(hooks) + Tailwind + Nodemailer</figcaption></figure><p id="b988" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里，我们将为我们的演示应用程序实现一个<strong class="kx ir">请求访问</strong>特性。当用户可以进入我们的应用程序，他们可以填写电子邮件和消息的名称，并提交它。我们将配置特定的表单数据，并将其直接发送到我们所需的电子邮件中。</p><p id="8a27" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于前者，我们将使用React钩子和Tailwind CSS来实现它。让我们看看我们将要制作的表格。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lr"><img src="../Images/ce09f115edce3abc550731f64c392adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDm7cDwnduOQLMIIWgOd0w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Our Simple Form UI</figcaption></figure><h1 id="41c7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">前端</h1><p id="5b61" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">让我们从为表单创建一个组件开始。在这里，我们将制作一个组件，并使用我们的顺风来增加风格，并进行必要的导入和更改，使它看起来像上面的东西。经过必要的修改后，我们的<strong class="kx ir"><em class="mp">request access . js</em></strong><em class="mp"/>组件看起来如下</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae ms" href="https://gist.github.com/ishan-me/093d892ba03df9324d21b2bd3ef49ba4" rel="noopener ugc nofollow" target="_blank">Github Gist Link</a></figcaption></figure><p id="41a8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，我们刚刚添加了一些从Tailwind导入的样式，以使我们的UI看起来更好。我们现在将继续使用React中的<code class="fe mt mu mv mw b"><em class="mp">useState</em></code> <em class="mp"> hook </em>来连接输入字段中的值。之后，我们只需在本机<em class="mp"> fetch </em>方法的帮助下，将稍后创建的API路由添加到URL端点。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae ms" href="https://gist.github.com/ishan-me/4916569fa7041f613b8c0d8ed2e6f958" rel="noopener ugc nofollow" target="_blank">Github Gist Link</a></figcaption></figure><p id="a987" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里的代码中，我们刚刚将异步函数添加到<code class="fe mt mu mv mw b"><em class="mp">onSubmit</em></code> <em class="mp"> </em>处理程序中，该处理程序最终将调用我们的API端点，我们将使用消息和电子邮件为我们的后端创建该端点。</p><h1 id="da14" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">后端</h1><p id="d02d" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">在我们的后端，我们将创建一个简单的服务器，它将接收从我们的react应用程序发送的对象，并触发一封电子邮件给所需的人，并在UI中填充详细信息。为此我们将使用<code class="fe mt mu mv mw b"><em class="mp">nodeMailer</em></code> <em class="mp">。在我们开始写之前，让我们导入我们将使用的必要的包</em></p><pre class="kg kh ki kj gt mx mw my mz aw na bi"><span id="6966" class="nb lt iq mw b gy nc nd l ne nf">yarn add express nodemailer nodemon</span></pre><p id="2409" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="mp"> Express </em>是我们的首选框架，完全易于上手。<em class="mp"> Nodemailer </em>是我们将用来发送电子邮件到所需地址的库，以及当我们修改代码时用来重启服务器的<code class="fe mt mu mv mw b"><em class="mp">nodemon</em></code>。现在让我们创建<strong class="kx ir"> <em class="mp"> app.js </em> </strong>文件，我们将在其中编写所有代码(我们也不会创建单独的路径<strong class="kx ir">)。env </strong>文件以便于简化)。</p><p id="1f29" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们现在将在这里导入我们想要的包，并创建一个SMTP协议，以便Nodemailer发送邮件。该协议由gmail、hotmail等电子邮件主机使用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae ms" href="https://gist.github.com/ishan-me/6902cb2a111a65e5e4a6076895308889" rel="noopener ugc nofollow" target="_blank">Github Gist Link</a></figcaption></figure><p id="471d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">接下来，我们将使用验证回调来验证SMTP连接。我们也将在控制台中记录我们的错误。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae ms" href="https://gist.github.com/ishan-me/50a1df9c12bf070cb0d4ea748835ecaf" rel="noopener ugc nofollow" target="_blank">Github Gist Link</a></figcaption></figure><p id="a4f6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最后，我们可以添加POST路由来发送UI中填充的表单内容。在所有这些都设置好之后，我们就可以拥有一个可以工作的迷你应用程序了，它会向我们发送电子邮件，并在应用程序UI中填入数据。让我们看看这里的最终代码</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h1 id="dfaf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="aaf5" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">你刚刚建立了一个表单，可以发送邮件到我们想要的电子邮件地址。这是我们应用程序中最常见的特性之一。如果需要的话，我们可以调整并使之变得更好。你也可以在 这里找到资源库<a class="ae ms" href="https://github.com/ishan-me/React_node_email" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">中的代码。</strong></a></p><p id="4b8d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">编码快乐！</p><h2 id="4278" class="nb lt iq bd lu ng nh dn ly ni nj dp mc le nk nl me li nm nn mg lm no np mi nq bi translated"><strong class="ak">用简单英语写的JavaScript</strong></h2><p id="621f" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae ms" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kx ir">！</strong></p></div></div>    
</body>
</html>