<html>
<head>
<title>How to Send Emails with Node.js Using Nodemailer and Twilio Sendgrid</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js发送电子邮件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-send-emails-with-node-js-using-nodemailer-and-twilio-sendgrid-30297d4b6fc0?source=collection_archive---------12-----------------------#2020-11-26">https://javascript.plainenglish.io/how-to-send-emails-with-node-js-using-nodemailer-and-twilio-sendgrid-30297d4b6fc0?source=collection_archive---------12-----------------------#2020-11-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9abd13ff3a0ec7a7f263260a073f105b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QWT9H72j5vb9G9mJ.png"/></div></div></figure><p id="d548" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我们将学习如何使用Twilio的两个第三方服务Nodemailer和SendGrid在我们的节点应用程序中发送电子邮件。</p><p id="173e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，向用户发送电子邮件已经非常普遍，并且已经成为几乎所有现代应用程序不可或缺的一部分。我们可能希望向刚刚注册我们的应用程序的新用户发送一封欢迎电子邮件，或者我们肯定希望向现有用户发送一封通知电子邮件，通知他们过去可能已经订阅了<em class="kw">(在某个时间点)</em>的提醒。那么，让我们来看看如何轻松快速地做到这一切。</p><h1 id="a426" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">节点邮件程序</h1><p id="c627" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">这是一个模块，它使得从你的NodeJs代码发送电子邮件变得非常容易。顾名思义，它只能用于NodeJs应用程序，因为它是一个……<em class="kw">节点——邮件程序！(好记吧？)</em></p><blockquote class="ma mb mc"><p id="31c1" class="jy jz kw ka b kb kc kd ke kf kg kh ki md kk kl km me ko kp kq mf ks kt ku kv ij bi translated"><strong class="ka ir"> Nodemailer </strong>是Node.js应用程序的一个模块，可以轻松发送电子邮件。该项目始于2010年，当时没有发送电子邮件的合理选项，今天它是大多数Node.js用户默认采用的解决方案。</p><p id="1a79" class="jy jz kw ka b kb kc kd ke kf kg kh ki md kk kl km me ko kp kq mf ks kt ku kv ij bi translated">-根据Nodemailer官方文档。</p></blockquote><h2 id="9f7e" class="mg ky iq bd kz mh mi dn ld mj mk dp lh kj ml mm ll kn mn mo lp kr mp mq lt mr bi translated">先决条件</h2><p id="19ed" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">在我们开始使用这个模块之前，我们需要满足一个要求，那就是，你应该有6.0.0或更新的版本。就是这样！</p><h2 id="da28" class="mg ky iq bd kz mh mi dn ld mj mk dp lh kj ml mm ll kn mn mo lp kr mp mq lt mr bi translated">装置</h2><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="681a" class="mg ky iq mx b gy nb nc l nd ne"><em class="kw">npm install nodemailer</em></span></pre><h1 id="cc4a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Twilio Sendgrid</h1><p id="4377" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">SendGrid基本上是一种电子邮件传递服务。他们可以通过基于云的电子邮件交付平台交付您的交易和营销电子邮件。</p><blockquote class="ma mb mc"><p id="7b6a" class="jy jz kw ka b kb kc kd ke kf kg kh ki md kk kl km me ko kp kq mf ks kt ku kv ij bi translated">仅供参考，还有其他几个类似的电子邮件传递服务。我使用SendGrid只是因为我可以在他们那里开一个免费账户(只要你每天发送的邮件少于或等于100封)。<strong class="ka ir">这不是升职。</strong></p></blockquote><p id="3305" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注册您的免费SendGrid帐户并验证您的帐户。</p><h2 id="fe50" class="mg ky iq bd kz mh mi dn ld mj mk dp lh kj ml mm ll kn mn mo lp kr mp mq lt mr bi translated">创建API密钥</h2><p id="d18c" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">SendGrid API密匙是一个独特的密匙，它帮助我们与SendGrid API连接，使用它来发送电子邮件。</p><p id="9082" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建API密钥的步骤:</p><ul class=""><li id="4881" class="nf ng iq ka b kb kc kf kg kj nh kn ni kr nj kv nk nl nm nn bi translated">登录到您的SendGrid帐户</li><li id="d099" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated">转到设置选项卡，然后单击API密钥部分</li><li id="c1cf" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated">点击<strong class="ka ir">创建API键</strong>按钮</li><li id="dac8" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated">给你的API密匙取一个名字</li><li id="795f" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated">给予相关的访问权限</li><li id="c0fe" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated">点击<strong class="ka ir">创建和查看</strong>按钮</li><li id="2493" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated">在按下<strong class="ka ir">完成</strong>按钮之前，确保复制您的API密钥并将其放在安全的地方</li></ul><blockquote class="ma mb mc"><p id="3ba4" class="jy jz kw ka b kb kc kd ke kf kg kh ki md kk kl km me ko kp kq mf ks kt ku kv ij bi translated">请注意:创建API密钥后，您只能在创建时查看一次，因为出于安全原因，SendGrid不允许您再次查看它。</p></blockquote><p id="e0f0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果你想知道为什么我们使用这些第三方服务来发送电子邮件，而不是使用节点服务器来处理这一部分？我对你的回答将分为两部分，但很简单，首先，我们不想重新发明轮子！其次，作为开发人员，我们应该理解使用node或express服务器来创建我们自己的邮件服务背后的复杂性，这将是一种可以接收和发送成千上万封电子邮件的服务，并且在处理其他复杂问题时也应该非常安全，因此，使用其他第三方模块来为我们做脏工作会更容易和更快，以便我们可以专注于对我们更重要的事情；<em class="kw">业务逻辑</em>。</p><p id="63dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，现在让我们看看我们的代码是什么样子的:</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="5cbb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">大规模应用点评:</strong></p><p id="f8c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为业务逻辑代码的一部分发送电子邮件是一项非常繁重的任务，因此，保持一个专用的微服务来处理这部分是一个好的实践。此外，电子邮件发送应该同步处理，这意味着我们不应该等待电子邮件服务完成电子邮件发送操作，然后再继续下一个任务。本质上，你不需要处理<em class="kw">。then( ) </em> block(你在上面的代码中看到的)在大规模应用中除了一些特殊的情况。</p><p id="b290" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，这篇文章到此为止。我希望今天能公平地对待你的时间！希望下次能见到你，在那之前学习愉快！:)</p><p id="5ed7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有用的资源:</p><ul class=""><li id="b896" class="nf ng iq ka b kb kc kf kg kj nh kn ni kr nj kv nk nl nm nn bi translated"><a class="ae nv" href="https://nodemailer.com/about/" rel="noopener ugc nofollow" target="_blank">节点邮件程序的官方文档</a></li><li id="385e" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated"><a class="ae nv" href="https://sendgrid.com/docs/" rel="noopener ugc nofollow" target="_blank">send grid API的官方文档</a></li><li id="2996" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated"><a class="ae nv" href="https://sendgrid.com/" rel="noopener ugc nofollow" target="_blank"> SendGrid帐户创建</a></li><li id="e2ca" class="nf ng iq ka b kb no kf np kj nq kn nr kr ns kv nk nl nm nn bi translated"><a class="ae nv" href="https://gist.github.com/KritikaSharmaKS/91b4abbffdc4ecb45c93c5c87a7c8b7b" rel="noopener ugc nofollow" target="_blank">我的电子邮件发送代码的要点</a></li></ul><p id="3ed0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文的视频版本:</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="nw nu l"/></div></figure></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><p id="35a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">原载于</em><a class="ae nv" href="https://www.theimmigrantprogrammers.com/p/send-emails-with-nodejs-using-nodemailer" rel="noopener ugc nofollow" target="_blank"><em class="kw">https://www.theimmigrantprogrammers.com</em></a><em class="kw">。</em></p></div></div>    
</body>
</html>