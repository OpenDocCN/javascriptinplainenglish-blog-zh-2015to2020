# 关于钥匙和收藏我错了

> 原文：<https://javascript.plainenglish.io/i-was-wrong-about-react-keys-and-collections-7599f581b59f?source=collection_archive---------6----------------------->

![](img/2755d7e104a0cae09526f745445b81b3.png)

几乎每个 React 开发者都浏览过 React 网站上的主要概念文档。

如果你这样做了，你一定读过第八章，这是关于**列表和键(**【https://reactjs.org/docs/lists-and-keys.html】[)**。**](https://reactjs.org/docs/lists-and-keys.html)

你最终会明白，为了正确使用 React 中的列表，你需要在你的组件上使用一个**键**。但是为什么呢？这里有一个简单的解释:

> 关键字有助于识别哪些项目已经更改、添加或删除。应该给数组内部的元素赋予键，以给元素一个稳定的标识。

那不是很容易吗？

在那一刻，如果你像我一样，你可能会简单地假设 React 会考虑**键**来负责任地渲染。我的意思是，我的第一个想法是:

“好的，我需要它，因为它有意义，**如果我有一个很长的集合，并且我只需要修改其中的一个项目，React 将简单地考虑使用*键*来只重新呈现那个项目**”。这是你的想法吗？如果没有，那么很好，你是一个不简单假设事情的开发人员。

我不知道如何解释我为什么做出这样的假设，但是通过和我的其他开发者朋友交谈，(我不是说这很好)我意识到他们也有同样的想法。为什么？因为原因。所以，如果你的假设和我的一样，请继续阅读。

## 从我编造并相信的谎言中

一旦您开始使用 React，您可能会开始担心集合的性能。信不信由你，你会惊讶于这样一个事实: **React 将重新渲染整个集合，即使你只是改变了**中的一个项目。不敢相信？参见下面的示例，添加几个 todo 项，然后打开控制台，摆弄这些 todo 项，您会发现，实际上，每当您对集合进行更改时，每个项都会重新呈现:

我知道这对于一个有经验的 react 开发人员来说可能是显而易见的，但是你将会惊讶于相信我曾经相信的谎言的人的数量。

就是这样。我将在 react 学习之旅中撰写其他文章，敬请关注。感谢阅读。