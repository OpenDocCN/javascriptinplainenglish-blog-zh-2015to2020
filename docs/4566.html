<html>
<head>
<title>React UseState Explained With Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应使用状态举例说明</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-usestate-explained-with-examples-13d6c17b4b61?source=collection_archive---------12-----------------------#2020-12-21">https://javascript.plainenglish.io/react-usestate-explained-with-examples-13d6c17b4b61?source=collection_archive---------12-----------------------#2020-12-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2574" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过实例了解React UseState</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e38310e522b579a96e997d952925935e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZSHrNBlhLm6QrKNy"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="9355" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="6a7c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">React提供了一系列挂钩，允许您向组件添加特性。这些钩子是JavaScript函数，可以从React包中导入。然而，钩子只能用于基于函数的组件，所以它们不能在类组件中使用。</p><p id="bba6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本文中，我们将通过实际例子了解React UseState钩子。让我们开始吧。</p><h1 id="6470" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">什么是使用状态，我们何时使用它？</h1><p id="0c9a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">正如我所说，React为您提供了一系列可以在应用程序中使用的钩子。然而，<code class="fe mp mq mr ms b">useState</code>和<code class="fe mp mq mr ms b">useEffect</code>是你将会经常用到的两个重要的钩子。</p><p id="ed17" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">钩子<code class="fe mp mq mr ms b">useState</code>是一个带一个参数的函数，这个参数是初始状态，它返回两个值:当前状态和一个可以用来更新状态的函数。如果您试图在React dev工具(<code class="fe mp mq mr ms b">console.log(useState)</code>)中打印函数<code class="fe mp mq mr ms b">useState()</code>，您会注意到它返回一个数组，该数组包含您放入函数<code class="fe mp mq mr ms b">useState</code>和<code class="fe mp mq mr ms b">undefined</code>中的参数，您将在其中添加一个函数来更新状态。</p><p id="69ac" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">当您想在点击按钮或创建计数器等之后更改文本时，可以使用挂钩<code class="fe mp mq mr ms b">useState</code>。</p><h1 id="ba48" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">简单的使用状态示例</h1><p id="75a0" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了使用钩子<code class="fe mp mq mr ms b">useState</code>，你必须首先从React包中导入它。</p><p id="38f1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="30bd" class="mx kx iq ms b gy my mz l na nb">import React, <strong class="ms ir">{ useState }</strong> from 'react'</span></pre><p id="4bfa" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在你可以毫无问题地在你的代码上使用钩子了。看看下面的例子:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="75fe" class="mx kx iq ms b gy my mz l na nb">import React, <strong class="ms ir">{ useState }</strong> from 'react'<br/><br/><em class="nc">function</em> Component() {<br/>  const [name, setName] = <strong class="ms ir">useState('Mehdi')</strong><br/>}</span></pre><p id="23fe" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请注意，我们在组件内部使用了ES6数组析构。所以数组里面的变量<code class="fe mp mq mr ms b">name</code>指的是函数<code class="fe mp mq mr ms b">useState</code>的自变量(当前状态)。另一方面，变量<code class="fe mp mq mr ms b">setName</code>指的是您将添加来更新状态的函数。这意味着我们有一个名为<code class="fe mp mq mr ms b">name</code>的状态，我们可以通过调用<code class="fe mp mq mr ms b">setName()</code>函数来更新它。</p><p id="dd53" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们在return语句中使用它:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="923b" class="mx kx iq ms b gy my mz l na nb">import React, <strong class="ms ir">{ useState }</strong> from 'react'<br/><br/><em class="nc">function</em> Component() {<br/>  const [name, setName] = <strong class="ms ir">useState('Brad')</strong><br/><br/>  return &lt;h1&gt; My name is <strong class="ms ir">{name}</strong> &lt;/h1&gt;<br/>}</span><span id="3fc9" class="mx kx iq ms b gy nd mz l na nb">//Returns: My name is Brad</span></pre><p id="16ed" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">由于功能组件没有<code class="fe mp mq mr ms b">setState()</code>功能，所以需要使用<code class="fe mp mq mr ms b">setName()</code>功能来更新。以下是如何将名字从“布拉德”改为“约翰”:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="b91f" class="mx kx iq ms b gy my mz l na nb">import React, <strong class="ms ir">{ useState }</strong> from 'react'<br/><br/><em class="nc">function</em> Component() {<br/>  const [name, setName] = <strong class="ms ir">useState('Brad')</strong><br/><br/>  if(name === "Brad"){<br/>    <strong class="ms ir">setName("John")</strong><br/>  }<br/><br/>  return &lt;h1&gt; My name is <strong class="ms ir">{name}</strong> &lt;/h1&gt;<br/>}</span><span id="342d" class="mx kx iq ms b gy nd mz l na nb">//Returns: My name is John</span></pre><h1 id="36a9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">多重使用状态</h1><p id="84b8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">当您有多个状态时，您可以根据需要多次调用<code class="fe mp mq mr ms b">useState</code>钩子。</p><p id="6205" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="4e0d" class="mx kx iq ms b gy my mz l na nb">import React, { useState } from 'react'<br/><br/><em class="nc">function</em> Component() {<br/>  const [name, setName] = useState('Alex')<br/>  const [age, setAge] = useState(15)<br/>  const [friends, setFriends] = useState(["Brad", "Mehdi"])<br/><br/>  return &lt;h1&gt; My name is <strong class="ms ir">{name}</strong> and I'm <strong class="ms ir">{age}</strong> &lt;/h1&gt; <br/>  //My name is Alex and I'm 15<br/>}</span></pre><p id="5993" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">注意，钩子接收所有有效的JavaScript数据类型，比如字符串、数字、布尔值、数组和对象。</p><h1 id="aa3e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="dbb1" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">钩子<code class="fe mp mq mr ms b">useState</code>是你必须知道的重要和有用的反作用钩子之一。而且这个钩子基本上是让功能组件有自己的内部状态，给它们添加特性。</p><p id="6f83" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您阅读本文，希望您觉得有用。</p><h2 id="2504" class="mx kx iq bd ky ne nf dn lc ng nh dp lg lx ni nj li mb nk nl lk mf nm nn lm no bi translated">更多阅读</h2><div class="np nq gp gr nr ns"><a href="https://medium.com/javascript-in-plain-english/4-useful-html5-features-you-probably-dont-know-a4be822378d0" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">你可能不知道的4个有用的HTML5特性</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">非常有用的HTML特性和例子</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div></div></div>    
</body>
</html>