<html>
<head>
<title>Back-office with NextJS (React) + ElasticUI (EUI)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NextJS (React) + ElasticUI (EUI)的后台</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/back-office-with-nextjs-react-elasticui-eui-168cba44a952?source=collection_archive---------2-----------------------#2019-12-23">https://javascript.plainenglish.io/back-office-with-nextjs-react-elasticui-eui-168cba44a952?source=collection_archive---------2-----------------------#2019-12-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="f74a" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">后台脚手架</h2><div class=""/><div class=""><h2 id="0762" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">使用ElasticUI:最棒的后台UI套件，使用NextJS制作的尖端应用运行，并托管在Zeit now上，没有眼泪。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/202ba866f79c1ba404fec27038b84661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_10vo9ByBWZwA2GeyCDiKw.png"/></div></div></figure><p id="a554" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ja">💡开始注释:</strong> <em class="lw">虽然这篇文章是关于使用NextJS应用程序实现EUI的，但我首先会给出一些背景，为什么这是您的管理工具的一个强有力的选择。</em>🎯<strong class="lc ja"> <em class="lw">如果想直奔配置，直接到达文末即可。</em> </strong></p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="a751" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">像我一样，有时您可能需要在开发前端应用程序的同时构建某种后台工具。这是显而易见的，有些内容需要团队来管理…</p><p id="61f6" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">虽然使用一些SASS解决方案是一个好主意，就像我们在以前的文章中看到的那样</p><div class="me mf gp gr mg mh"><a href="https://medium.com/javascript-in-plain-english/the-most-simple-contentful-react-tutorial-using-a-nextjs-application-8d0ce4596ad6" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ja gy z fp mm fr fs mn fu fw iz bi translated">使用NextJS应用程序的最简单的Contentful + React教程👊🏻</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">一个非常简单的果酱栈如何使用教程内容丰富和反应，而不必掌握+1000工具，因为…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">medium.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv ky mh"/></div></div></a></div><p id="adcf" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">有时你可能需要一些定制的、有品牌的、能满足你自己产品需求的东西，比如显示度量标准。为此，您可以使用许多前端框架，如react  的<a class="ae mw" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> Material-UI。但在我看来，目前最好最完整的框架是<a class="ae mw" href="https://elastic.github.io/eui/#/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ja">弹性UI </strong> </a> <strong class="lc ja">。</strong></em></a></p><p id="23e9" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">让我们用一点上下文来看看为什么。</p><h1 id="a519" class="mx my iq bd mz na nb nc nd ne nf ng nh kf ni kg nj ki nk kj nl kl nm km nn no bi translated">👨🏻‍🔬elastic-UI(EUI):react开发的后台最好的框架？</h1><p id="25c3" class="pw-post-body-paragraph la lb iq lc b ld np ka lf lg nq kd li lj nr ll lm ln ns lp lq lr nt lt lu lv ij bi translated">你要知道的第一件事是EUI是由一家名为<strong class="lc ja"> Elastic </strong>的公司生产的。你可能听说过他们著名的<strong class="lc ja">弹性搜索</strong>工具。</p><p id="3044" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">但是Elastic不仅仅是做一个搜索引擎！他们还提供了一些工具来改进搜索引擎的数据获取和消费方式。</p><p id="bbdc" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们有<strong class="lc ja">著名的ELK (Elastic-Logstash-Kibana)堆栈</strong>，它收集各种数据和数据流，通常用于通过<strong class="lc ja"> Elastic Beats </strong>进行统计和系统监控，这是一种用于报告系统指标的守护进程。</p><ul class=""><li id="bd1b" class="nu nv iq lc b ld le lg lh lj nw ln nx lr ny lv nz oa ob oc bi translated"><strong class="lc ja"> Logstash </strong>作为入口点，接收、处理和转发数据到弹性搜索。</li><li id="4c36" class="nu nv iq lc b ld od lg oe lj of ln og lr oh lv nz oa ob oc bi translated"><strong class="lc ja"> ElasticSearch </strong>用于索引和持久化。</li><li id="a361" class="nu nv iq lc b ld od lg oe lj of ln og lr oh lv nz oa ob oc bi translated">最后，<strong class="lc ja"> Kibana </strong>将这些漂亮的数据显示在后台仪表板上。</li></ul><blockquote class="oi oj ok"><p id="8274" class="la lb lw lc b ld le ka lf lg lh kd li ol lk ll lm om lo lp lq on ls lt lu lv ij bi translated">你可能会问为什么那个家伙要告诉我们这些？我们只想知道反应和EUI…</p></blockquote><p id="e27a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">答案就在一句话里:</p><p id="6ce9" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ja"> Elastic-UI (EUI)是Kibana使用的UI套件，已经被开源以扩展Kibana或定制后台。</strong></p><h1 id="140e" class="mx my iq bd mz na nb nc nd ne nf ng nh kf ni kg nj ki nk kj nl kl nm km nn no bi translated">👨🏻‍🎨一个以数据显示为中心的UI工具包！</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oo"><img src="../Images/74dc71ebf734ac3b6bfa359f290db4d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*f1x-zM1S1cFBEp-l.png"/></div></div><figcaption class="op oq gj gh gi or os bd b be z dk">A dashboard made with EUI</figcaption></figure><p id="fca2" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">Kibana 是一个仪表板，它的唯一目的是以一种与用户消费相关的方式显示数据。Elastic团队花了大量的研究来获得一个好的产品。他们甚至根据UX搜索优化。</p><p id="3870" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ja">💁🏻‍♂ ️Everything在</strong> <a class="ae mw" href="https://elastic.github.io/eui/#/guidelines/writing" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ja">一节</strong> </a> <strong class="lc ja"> </strong>中有描述，我只能建议你读一下。</p><p id="0ba5" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">你也可以用sass很容易地扩展它，并和一些CSS-in-JS库一起使用，比如我最喜欢的<a class="ae mw" href="https://www.styled-components.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ja">样式组件</strong> </a>。</p><p id="c2b8" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">除此之外，它可能是你能找到的最完整的后台UI套件。它配有布局、选择器、按钮甚至图表工具。</p><p id="076f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">你可能不需要任何其他的库来使用它… <strong class="lc ja">但是它有一个问题，虽然不好但并非毫无意义… </strong></p><h2 id="e6e6" class="ot my iq bd mz ou ov dn nd ow ox dp nh lj oy oz nj ln pa pb nl lr pc pd nn iw bi translated">💔EUI不支持现成的服务器端渲染。</h2><p id="083f" class="pw-post-body-paragraph la lb iq lc b ld np ka lf lg nq kd li lj nr ll lm ln ns lp lq lr nt lt lu lv ij bi translated">这意味着，如果不进行一些配置，就不能在NextJS中使用它。</p><p id="d661" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">以下是GitHub<strong class="lc ja"><em class="lw">[</em></strong><a class="ae mw" href="https://github.com/elastic/eui/issues/1830" rel="noopener ugc nofollow" target="_blank"><strong class="lc ja"><em class="lw">1830</em></strong></a><strong class="lc ja"><em class="lw">，</em></strong><a class="ae mw" href="https://github.com/elastic/eui/issues/2074" rel="noopener ugc nofollow" target="_blank"><strong class="lc ja"><em class="lw">2074</em></strong></a><strong class="lc ja"><em class="lw">]</em></strong>上的一些相关线程，正如你所看到的:他们并不指望在接下来的几个月里提供支持。</p><blockquote class="oi oj ok"><p id="edea" class="la lb lw lc b ld le ka lf lg lh kd li ol lk ll lm om lo lp lq on ls lt lu lv ij bi translated">你为什么要这么做？</p></blockquote><p id="d4a3" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">因为NextJS为sass、后端代码、渐进式网络应用、渲染优化、代码分割和路由提供了很好的脚手架和工具。 <em class="lw">(这对你来说够了吗？</em>🤣<em class="lw"> ) </em></p><p id="69fc" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如果您按照文档中的描述安装它:<code class="fe pe pf pg ph b">yarn add @elastic/eui</code>，您将会看到这样的结果:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pi"><img src="../Images/24452abd804cb53c371d425dbe9bec2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VxTohMJAtAUIDYeZwsD1Gw.png"/></div></div></figure><p id="1d54" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">该死…这么棒的工具，我不能用我最喜欢的软件…但是等等… <strong class="lc ja">黑客来营救🕵🏿‍♂️ </strong></p><h1 id="752a" class="mx my iq bd mz na nb nc nd ne nf ng nh kf ni kg nj ki nk kj nl kl nm km nn no bi translated">用NextJS让Elastic-UI在SSR上工作的技巧</h1><p id="db83" class="pw-post-body-paragraph la lb iq lc b ld np ka lf lg nq kd li lj nr ll lm ln ns lp lq lr nt lt lu lv ij bi translated">简而言之，它使应用程序崩溃，因为程序试图访问NodeJS上不可用的各种API。</p><p id="62ed" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">以下是基于两个文件的变通解决方案:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="pj pk l"/></div></figure><ol class=""><li id="7a0d" class="nu nv iq lc b ld le lg lh lj nw ln nx lr ny lv pl oa ob oc bi translated">首先，我们编辑<code class="fe pe pf pg ph b">next-config.js</code>为allows allow，不要忘记安装<code class="fe pe pf pg ph b">@zeit/next-sass</code>包。然后扩展您的配置，使用定制的webpack配置，并用<code class="fe pe pf pg ph b">withSass</code>包装它。</li><li id="532f" class="nu nv iq lc b ld od lg oe lj of ln og lr oh lv pl oa ob oc bi translated">从现在开始，当你重新加载<code class="fe pe pf pg ph b">next dev</code>时，你的应用程序不会崩溃，但是你不会得到CSS，因为它没有被加载。你将需要使用一个自定义的SASS文件，因为如果你使用CSS文件或者直接导入我们在CSS中导入的文件，一旦你运行<code class="fe pe pf pg ph b">next build</code>你将丢失构建的CSS，它将被我们上面的代码剥离。</li><li id="9afb" class="nu nv iq lc b ld od lg oe lj of ln og lr oh lv pl oa ob oc bi translated">将我们刚刚创建的<code class="fe pe pf pg ph b">scss</code>文件导入到您的<code class="fe pe pf pg ph b">pages/_app.js</code>(或等效的typescript)中</li></ol><p id="c7eb" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我的<code class="fe pe pf pg ph b">pages/_app.tsx</code>开始区块看起来是这样的:</p><pre class="kp kq kr ks gt pm ph pn po aw pp bi"><span id="f594" class="ot my iq ph b gy pq pr l ps pt"><em class="lw">// Load design<br/></em>import "@modules/ui/app.scss";</span></pre><p id="2bba" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们到了。享受你的应用程序在Zeit + EUI上运行的乐趣，享受令人敬畏的管理体验！</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="pu pk l"/></div></figure></div></div>    
</body>
</html>