<html>
<head>
<title>Add Tool Tips to Your Angular App to Help Users Use Your App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向您的Angular应用程序添加工具提示，帮助用户使用您的应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/add-tool-tips-to-your-angular-app-to-help-users-use-your-app-35c663eb49f8?source=collection_archive---------2-----------------------#2020-01-04">https://javascript.plainenglish.io/add-tool-tips-to-your-angular-app-to-help-users-use-your-app-35c663eb49f8?source=collection_archive---------2-----------------------#2020-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="9e46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工具提示通常用于提供如何使用web应用程序不同部分的提示。它很容易添加，并帮助用户更好地理解该应用。它们对于显示过长的文本也很有用。</p><p id="acd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Ngx-Bootstrap有工具提示作为一个组件。它还有许多其他我们可以使用的组件。使用Ngx-Bootstrap添加工具提示很容易。参见<a class="ae kl" href="https://valor-software.com/ngx-bootstrap/#/tooltip" rel="noopener ugc nofollow" target="_blank">https://valor-software.com/ngx-bootstrap/#/tooltip</a>了解工具提示的全套选项。它可以有文字，位置可以改变，也可以根据屏幕大小改变位置。内容也可以是超文本标记语言。也可以自定义工具提示的触发器。</p><p id="0387" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将编写一个employee-manager应用程序，让用户可以在表单中输入他们的员工数据。用户可以使用工具提示添加、编辑和删除他们的数据，以便在使用表单时引导他们浏览表单。</p><p id="bcb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了开始这个项目，我们通过运行<code class="fe km kn ko kp b">npm i -g @angular/cli</code>安装了Angular CLI(如果还没有安装的话)。接下来，我们运行Angular CLI，通过键入以下内容来创建项目:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="14c7" class="ky kz iq kp b gy la lb l lc ld">ng new employee-manager</span></pre><p id="4d88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在向导中，我们选择包括路由，并使用SCSS作为我们的CSS预处理器。</p><p id="b384" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们安装一些软件包。我们需要用于样式、模式和工具提示的Ngx-Bootstrap，以及MobX，以将国家存储在一个共享的存储中。要安装它们，我们运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="e721" class="ky kz iq kp b gy la lb l lc ld">npm i ngx-bootatrap mobx mobx-angular</span></pre><p id="f3ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们创建组件、类和服务。为此，我们运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="e61f" class="ky kz iq kp b gy la lb l lc ld">ng g component employeeForm<br/>ng g component homePage<br/>ng g service employees<br/>ng g class employeeStore<br/>ng g class employee</span></pre><p id="4826" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们准备编写一些代码。在<code class="fe km kn ko kp b">employee-form.component.html</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="4386" class="ky kz iq kp b gy la lb l lc ld">&lt;form (ngSubmit)="save(employeeForm)" #employeeForm="ngForm"&gt;<br/>  &lt;div class="form-group"&gt;<br/>    &lt;label tooltip="Enter employee's name here" placement="right"&gt;Name&lt;/label&gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Name"<br/>      #name="ngModel"<br/>      name="name"<br/>      [(ngModel)]="form.name"<br/>      required<br/>    /&gt;<br/>    &lt;div *ngIf="name?.invalid &amp;&amp; (name.dirty || name.touched)"&gt;<br/>      &lt;div *ngIf="name.errors.required"&gt;<br/>        Name is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="486e" class="ky kz iq kp b gy le lb l lc ld">  &lt;div class="form-group"&gt;<br/>    &lt;label tooltip="Enter employee's address here" placement="right"<br/>      &gt;Address&lt;/label<br/>    &gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Address"<br/>      #address="ngModel"<br/>      name="address"<br/>      [(ngModel)]="form.address"<br/>      required<br/>    /&gt;<br/>    &lt;div *ngIf="address?.invalid &amp;&amp; (address.dirty || address.touched)"&gt;<br/>      &lt;div *ngIf="address.errors.required"&gt;<br/>        Address is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="a496" class="ky kz iq kp b gy le lb l lc ld">  &lt;div class="form-group"&gt;<br/>    &lt;label tooltip="Enter employee's position here" placement="right"<br/>      &gt;Position&lt;/label<br/>    &gt;<br/>    &lt;input<br/>      type="text"<br/>      class="form-control"<br/>      placeholder="Position"<br/>      #position="ngModel"<br/>      name="position"<br/>      [(ngModel)]="form.position"<br/>      required<br/>    /&gt;<br/>    &lt;div *ngIf="position?.invalid &amp;&amp; (position.dirty || position.touched)"&gt;<br/>      &lt;div *ngIf="position.errors.required"&gt;<br/>        Position is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="2b33" class="ky kz iq kp b gy le lb l lc ld">  &lt;div class="form-group"&gt;<br/>    &lt;label tooltip="Select employee's employment status" placement="right"<br/>      &gt;Employment Status&lt;/label<br/>    &gt;<br/>    &lt;select<br/>      class="form-control"<br/>      #status="ngModel"<br/>      name="status"<br/>      [(ngModel)]="form.status"<br/>      required<br/>    &gt;<br/>      &lt;option value="Employed"&gt;Employed&lt;/option&gt;<br/>      &lt;option value="Terminated"&gt;Terminated&lt;/option&gt;<br/>    &lt;/select&gt;<br/>    &lt;div *ngIf="status?.invalid &amp;&amp; (status.dirty || status.touched)"&gt;<br/>      &lt;div *ngIf="status.errors.required"&gt;<br/>        Status is required.<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span><span id="ae78" class="ky kz iq kp b gy le lb l lc ld">  &lt;button class="btn btn-primary"&gt;Save&lt;/button&gt;<br/>&lt;/form&gt;</span></pre><p id="4d21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是员工表单的模板，允许用户添加和编辑员工数据。我们有姓名、地址、职位和状态字段，它们都是根据需要设置的。未填写任何数据时会显示错误消息，如果用户尝试在不填写任何数据的情况下提交，将停止提交。当用户将鼠标悬停在标签上时，标签将显示工具提示。我们将<code class="fe km kn ko kp b">placement</code>设置为<code class="fe km kn ko kp b">right</code>，以便它们显示在右侧。当用户点击保存按钮时，代码中的<code class="fe km kn ko kp b">save</code>功能被调用。</p><p id="c3f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">employee-form.component.ts</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="ddf0" class="ky kz iq kp b gy la lb l lc ld">import { Component, OnInit, Output, Input, SimpleChanges, EventEmitter } from '<a class="ae kl" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { employeeStore } from '../employee-store';<br/>import { EmployeesService } from '../employees.service';<br/>import { NgForm } from '<a class="ae kl" href="http://twitter.com/angular/forms" rel="noopener ugc nofollow" target="_blank">@angular/forms</a>';<br/>import { Employee } from '../employee';</span><span id="91b6" class="ky kz iq kp b gy le lb l lc ld"><a class="ae kl" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-employee-form',<br/>  templateUrl: './employee-form.component.html',<br/>  styleUrls: ['./employee-form.component.scss']<br/>})<br/>export class EmployeeFormComponent implements OnInit {<br/>  form: Employee = &lt;Employee&gt;{};<br/>  <a class="ae kl" href="http://twitter.com/Output" rel="noopener ugc nofollow" target="_blank">@Output</a>('saved') saved = new EventEmitter();<br/>  <a class="ae kl" href="http://twitter.com/Input" rel="noopener ugc nofollow" target="_blank">@Input</a>() edit: boolean;<br/>  <a class="ae kl" href="http://twitter.com/Input" rel="noopener ugc nofollow" target="_blank">@Input</a>() selectedEmployee: Employee;<br/>  store = employeeStore;</span><span id="ee69" class="ky kz iq kp b gy le lb l lc ld">  constructor(private employeeService: EmployeesService) { }</span><span id="f0e2" class="ky kz iq kp b gy le lb l lc ld">  ngOnInit() {<br/>  }</span><span id="a526" class="ky kz iq kp b gy le lb l lc ld">  ngOnChanges(changes: SimpleChanges) {<br/>    this.form = Object.assign({}, this.selectedEmployee);<br/>  }</span><span id="6553" class="ky kz iq kp b gy le lb l lc ld">  save(employeeForm: NgForm) {<br/>    if (employeeForm.invalid) {<br/>      return;<br/>    }<br/>    if (this.edit) {<br/>      this.employeeService.editEmployee(this.form)<br/>        .subscribe(res =&gt; {<br/>          this.getEmployees()<br/>          this.saved.emit();<br/>        })<br/>    }<br/>    else {<br/>      this.employeeService.addEmployee(this.form)<br/>        .subscribe(res =&gt; {<br/>          this.getEmployees()<br/>          this.saved.emit();<br/>        })<br/>    }<br/>  }</span><span id="642c" class="ky kz iq kp b gy le lb l lc ld">  getEmployees() {<br/>    this.employeeService.getEmployees()<br/>      .subscribe((res: Employee[]) =&gt; {<br/>        this.store.setEmployees(res);<br/>      })<br/>  }</span><span id="e32a" class="ky kz iq kp b gy le lb l lc ld">}</span></pre><p id="1d0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个文件包含了我们在之前的模板中调用的函数，比如<code class="fe km kn ko kp b">save</code>函数。我们还有从主页获取数据的输入，以及向主页发出一个<code class="fe km kn ko kp b">saved</code>事件的输出。因为我们使用表单进行编辑，所以我们还需要用<code class="fe km kn ko kp b">selectedEmployee</code>输入来传递选中的条目，这样它就可以被编辑了。为了用<code class="fe km kn ko kp b">selectedEmployee</code>值更新<code class="fe km kn ko kp b">form</code>对象，每当<code class="fe km kn ko kp b">selectedEmployee</code>输入改变时，我们复制该值。</p><p id="ecf6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">save</code>函数中，我们验证表单，并根据表单是否用于添加或编辑条目来调用不同的函数进行保存。通过调用<code class="fe km kn ko kp b">getEmployees</code>函数，最新的条目将被填充到我们的MobX存储中，一旦完成，就会发出<code class="fe km kn ko kp b">saved</code>事件。</p><p id="e07c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">home-page.component.html</code>中，我们将代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="da48" class="ky kz iq kp b gy la lb l lc ld">&lt;ng-template #addTemplate&gt;<br/>  &lt;div class="modal-header"&gt;<br/>    &lt;h2 class="modal-title pull-left"&gt;Add Employee&lt;/h2&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="modal-body"&gt;<br/>    &lt;app-employee-form (saved)="closeModals()"&gt;&lt;/app-employee-form&gt;<br/>  &lt;/div&gt;<br/>&lt;/ng-template&gt;</span><span id="e4b8" class="ky kz iq kp b gy le lb l lc ld">&lt;ng-template #editTemplate&gt;<br/>  &lt;div class="modal-header"&gt;<br/>    &lt;h2 class="modal-title pull-left"&gt;Edit Employee&lt;/h2&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="modal-body"&gt;<br/>    &lt;app-employee-form<br/>      [edit]="true"<br/>      (saved)="closeModals()"<br/>      [selectedEmployee]="selectedEmployee"<br/>    &gt;&lt;/app-employee-form&gt;<br/>  &lt;/div&gt;<br/>&lt;/ng-template&gt;</span><span id="ad2e" class="ky kz iq kp b gy le lb l lc ld">&lt;h1 class="text-center"&gt;Employee Manager&lt;/h1&gt;</span><span id="1723" class="ky kz iq kp b gy le lb l lc ld">&lt;div class="btn-group" role="group" id="add-group"&gt;<br/>  &lt;button<br/>    type="button"<br/>    class="btn btn-secondary"<br/>    (click)="openAddModal(addTemplate)"<br/>  &gt;<br/>    Add Employee<br/>  &lt;/button&gt;<br/>&lt;/div&gt;</span><span id="856d" class="ky kz iq kp b gy le lb l lc ld">&lt;br /&gt;</span><span id="f571" class="ky kz iq kp b gy le lb l lc ld">&lt;div class="card" *ngFor="let e of store.employees"&gt;<br/>  &lt;div class="card-body"&gt;<br/>    &lt;h5 class="card-title"&gt;{{ e.name }}&lt;/h5&gt;<br/>    &lt;p class="card-text"&gt;Position: {{ e.position }}&lt;/p&gt;<br/>    &lt;p class="card-text"&gt;Address: {{ e.address }}&lt;/p&gt;<br/>    &lt;p class="card-text"&gt;Employment Status: {{ e.status }}&lt;/p&gt;<br/>    &lt;button (click)="openEditModal(editTemplate, e)" class="btn btn-primary"&gt;<br/>      Edit<br/>    &lt;/button&gt;<br/>    &lt;button (click)="deleteEmployee(e.id)" class="btn btn-primary"&gt;<br/>      Delete<br/>    &lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="c96a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加用于添加、编辑和删除条目的按钮。员工条目显示在卡片上。编辑和删除按钮显示在卡片的底部。此外，我们有用于添加和编辑条目的模态，我们分别用添加和编辑按钮打开它们。</p><p id="3552" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">home-page.component.scss</code>中，我们添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="8edc" class="ky kz iq kp b gy la lb l lc ld">$margin: 10px;</span><span id="ecdc" class="ky kz iq kp b gy le lb l lc ld">#add-group {<br/>  margin-bottom: $margin;<br/>}</span><span id="896a" class="ky kz iq kp b gy le lb l lc ld">button {<br/>  margin-right: $margin;<br/>}</span></pre><p id="3bef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">给我们的按钮增加一些空白。</p><p id="9ad9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">home-page.component.ts</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="7995" class="ky kz iq kp b gy la lb l lc ld">import { Component, OnInit, TemplateRef } from '<a class="ae kl" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { employeeStore } from '../employee-store';<br/>import { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';<br/>import { EmployeesService } from '../employees.service';<br/>import { Employee } from '../employee';</span><span id="3b79" class="ky kz iq kp b gy le lb l lc ld"><a class="ae kl" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-home-page',<br/>  templateUrl: './home-page.component.html',<br/>  styleUrls: ['./home-page.component.scss']<br/>})<br/>export class HomePageComponent implements OnInit {<br/>  addModalRef: BsModalRef;<br/>  editModalRef: BsModalRef;<br/>  selectedEmployee: Employee = &lt;Employee&gt;{};<br/>  store = employeeStore;</span><span id="80a6" class="ky kz iq kp b gy le lb l lc ld">  constructor(<br/>    private modalService: BsModalService,<br/>    private employeeService: EmployeesService<br/>  ) { }</span><span id="862d" class="ky kz iq kp b gy le lb l lc ld">  ngOnInit() {<br/>    this.getEmployees()<br/>  }</span><span id="0056" class="ky kz iq kp b gy le lb l lc ld">  getEmployees() {<br/>    this.employeeService.getEmployees()<br/>      .subscribe((res: Employee[]) =&gt; {<br/>        this.store.setEmployees(res);<br/>      })<br/>  }</span><span id="fd7a" class="ky kz iq kp b gy le lb l lc ld">  openAddModal(template: TemplateRef&lt;any&gt;) {<br/>    this.addModalRef = this.modalService.show(template);<br/>  }</span><span id="46cb" class="ky kz iq kp b gy le lb l lc ld">  openEditModal(template: TemplateRef&lt;any&gt;, employee: Employee) {<br/>    this.editModalRef = this.modalService.show(template);<br/>    this.selectedEmployee = employee;<br/>  }</span><span id="9bce" class="ky kz iq kp b gy le lb l lc ld">  closeModals() {<br/>    this.addModalRef &amp;&amp; this.addModalRef.hide();<br/>    this.editModalRef &amp;&amp; this.editModalRef.hide();<br/>  }</span><span id="4f4b" class="ky kz iq kp b gy le lb l lc ld">  deleteEmployee(id) {<br/>    this.employeeService.deleteEmployee(id)<br/>      .subscribe((res: Employee[]) =&gt; {<br/>        this.getEmployees();<br/>      })<br/>  }<br/>}</span></pre><p id="2ef1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有<code class="fe km kn ko kp b">openAddModal</code>和<code class="fe km kn ko kp b">openEditModal</code>函数来打开添加和编辑模式。<code class="fe km kn ko kp b">closeModals</code>功能是在<code class="fe km kn ko kp b">app-employee-form</code>组件中保存东西时关闭模态。<code class="fe km kn ko kp b">deleteEmployee</code>函数用于删除雇员，而<code class="fe km kn ko kp b">getEmployees</code>函数用于在项目被删除时获取页面加载时的条目，并删除我们商店中的项目，以便每个组件都可以访问它。</p><p id="34f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">app-routing.module.ts</code>中，我们输入:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="8169" class="ky kz iq kp b gy la lb l lc ld">import { NgModule } from '<a class="ae kl" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Routes, RouterModule } from '<a class="ae kl" href="http://twitter.com/angular/router" rel="noopener ugc nofollow" target="_blank">@angular/router</a>';<br/>import { HomePageComponent } from './home-page/home-page.component';</span><span id="80c7" class="ky kz iq kp b gy le lb l lc ld">const routes: Routes = [<br/>  { path: '', component: HomePageComponent }<br/>];</span><span id="758c" class="ky kz iq kp b gy le lb l lc ld"><a class="ae kl" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  imports: [RouterModule.forRoot(routes)],<br/>  exports: [RouterModule]<br/>})<br/>export class AppRoutingModule { }</span></pre><p id="f298" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，当用户点击链接或输入URL时，他们可以看到我们刚刚添加的页面。</p><p id="704f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">app.component.html</code>中，我们放入:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="c4e3" class="ky kz iq kp b gy la lb l lc ld">&lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;<br/>  &lt;a class="navbar-brand" routerLink="/"&gt;Employee Manager&lt;/a&gt;<br/>  &lt;button<br/>    class="navbar-toggler"<br/>    type="button"<br/>    data-toggle="collapse"<br/>    data-target="#navbarSupportedContent"<br/>    aria-controls="navbarSupportedContent"<br/>    aria-expanded="false"<br/>    aria-label="Toggle navigation"<br/>  &gt;<br/>    &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;<br/>  &lt;/button&gt;</span><span id="5a60" class="ky kz iq kp b gy le lb l lc ld">&lt;div class="collapse navbar-collapse" id="navbarSupportedContent"&gt;<br/>    &lt;ul class="navbar-nav mr-auto"&gt;<br/>      &lt;li class="nav-item active"&gt;<br/>        &lt;a class="nav-link" routerLink="/"&gt;Home &lt;/a&gt;<br/>      &lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/nav&gt;</span><span id="6813" class="ky kz iq kp b gy le lb l lc ld">&lt;div class="page"&gt;<br/>  &lt;router-outlet&gt;&lt;/router-outlet&gt;<br/>&lt;/div&gt;</span></pre><p id="a078" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">向我们的页面添加链接，并暴露<code class="fe km kn ko kp b">router-outlet</code>以便用户可以看到我们的页面。</p><p id="cfc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">app.component.scss</code>中，我们加上:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="de5a" class="ky kz iq kp b gy la lb l lc ld">.page {<br/>  padding: 20px;<br/>}</span><span id="c87b" class="ky kz iq kp b gy le lb l lc ld">nav {<br/>  background-color: aquamarine !important;<br/>}</span></pre><p id="3c84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加填充到我们的页面，并改变我们的引导导航栏的颜色。</p><p id="4590" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">app.module.ts</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="55fe" class="ky kz iq kp b gy la lb l lc ld">import { BrowserModule } from '<a class="ae kl" href="http://twitter.com/angular/platform-browser" rel="noopener ugc nofollow" target="_blank">@angular/platform-browser</a>';<br/>import { NgModule } from '<a class="ae kl" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="38f9" class="ky kz iq kp b gy le lb l lc ld">import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { HomePageComponent } from './home-page/home-page.component';<br/>import { EmployeeFormComponent } from './employee-form/employee-form.component';<br/>import { FormsModule } from '<a class="ae kl" href="http://twitter.com/angular/forms" rel="noopener ugc nofollow" target="_blank">@angular/forms</a>';<br/>import { HttpClientModule } from '<a class="ae kl" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http';<br/>import { TooltipModule } from 'ngx-bootstrap/tooltip';<br/>import { ModalModule } from 'ngx-bootstrap/modal';<br/>import { EmployeesService } from './employees.service';</span><span id="1c8f" class="ky kz iq kp b gy le lb l lc ld"><a class="ae kl" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  declarations: [<br/>    AppComponent,<br/>    HomePageComponent,<br/>    EmployeeFormComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule,<br/>    FormsModule,<br/>    HttpClientModule,<br/>    ModalModule.forRoot(),<br/>    TooltipModule.forRoot()<br/>  ],<br/>  providers: [<br/>    EmployeesService<br/>  ],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="4c82" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们添加我们在应用中使用的组件、服务和库。注意，我们在Ngx-Bootstrap中分别添加了每个组件，所以我们只添加我们需要的组件。</p><p id="551d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">employee.ts</code>中，我们添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="42ad" class="ky kz iq kp b gy la lb l lc ld">export class Employee {<br/>    public id: number;<br/>    public name: string;<br/>    public address: string;<br/>    public position: string;<br/>    public status: string;<br/>}</span></pre><p id="9fc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">向我们的员工表单模型添加类型。</p><p id="5e4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">employeeStore.ts</code>中，我们添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="04b2" class="ky kz iq kp b gy la lb l lc ld">import { observable, action } from 'mobx-angular';<br/>import { Employee } from './employee';</span><span id="dc84" class="ky kz iq kp b gy le lb l lc ld">class EmployeeStore {<br/>    <a class="ae kl" href="http://twitter.com/observable" rel="noopener ugc nofollow" target="_blank">@observable</a> employees: Employee[] = [];<br/>    <a class="ae kl" href="http://twitter.com/action" rel="noopener ugc nofollow" target="_blank">@action</a> setEmployees(employees) {<br/>        this.employees = employees;<br/>    }<br/>}</span><span id="1519" class="ky kz iq kp b gy le lb l lc ld">export const employeeStore = new EmployeeStore();</span></pre><p id="0311" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建MobX store来让我们的组件共享数据。每当我们调用<code class="fe km kn ko kp b">this.store.setEmployees </code>我们的组件时，我们在这个存储中设置货币数据，因为我们在它之前添加了<code class="fe km kn ko kp b">@action</code>装饰器。当我们在组件代码中调用<code class="fe km kn ko kp b">this.store.employees </code>时，我们总是从这个商店获得最新的值，因为它有<code class="fe km kn ko kp b">@observable</code>装饰器。我们将<code class="fe km kn ko kp b">Employee[]</code>类型添加到<code class="fe km kn ko kp b">employees</code>中，因此我们不必猜测可用的字段。</p><p id="76b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">employee.service.ts</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="bb2a" class="ky kz iq kp b gy la lb l lc ld">import { Injectable } from '<a class="ae kl" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { environment } from 'src/environments/environment';<br/>import { HttpClient } from '<a class="ae kl" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http';</span><span id="bf52" class="ky kz iq kp b gy le lb l lc ld"><a class="ae kl" href="http://twitter.com/Injectable" rel="noopener ugc nofollow" target="_blank">@Injectable</a>({<br/>  providedIn: 'root'<br/>})<br/>export class EmployeesService {</span><span id="513e" class="ky kz iq kp b gy le lb l lc ld">  constructor(private http: HttpClient) { }</span><span id="c201" class="ky kz iq kp b gy le lb l lc ld">  getEmployees() {<br/>    return this.http.get(`${environment.apiUrl}/employees`);<br/>  }</span><span id="d45f" class="ky kz iq kp b gy le lb l lc ld">  addEmployee(data) {<br/>    return this.http.post(`${environment.apiUrl}/employees`, data);<br/>  }</span><span id="8cd1" class="ky kz iq kp b gy le lb l lc ld">  editEmployee(data) {<br/>    return this.http.put(`${environment.apiUrl}/employees/${data.id}`, data);<br/>  }</span><span id="3fd3" class="ky kz iq kp b gy le lb l lc ld">  deleteEmployee(id) {<br/>    return this.http.delete(`${environment.apiUrl}/employees/${id}`);<br/>  }</span><span id="fc96" class="ky kz iq kp b gy le lb l lc ld">}</span></pre><p id="92d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这样我们就可以向后端发出HTTP请求来获取、保存和删除用户的雇员条目。</p><p id="9b52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">environment.prod.ts</code>和<code class="fe km kn ko kp b">environment.ts</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="d06a" class="ky kz iq kp b gy la lb l lc ld">export const environment = {<br/>  production: true,<br/>  apiUrl: '<a class="ae kl" href="http://localhost:3000'" rel="noopener ugc nofollow" target="_blank">http://localhost:3000'</a><br/>};</span></pre><p id="76b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加我们的API的URL。</p><p id="bcd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，在<code class="fe km kn ko kp b">index.html</code>中，我们将代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="6cb1" class="ky kz iq kp b gy la lb l lc ld">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;title&gt;Employee Manager&lt;/title&gt;<br/>    &lt;base href="/" /&gt;</span><span id="dd52" class="ky kz iq kp b gy le lb l lc ld">&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;<br/>    &lt;link<br/>      href="<a class="ae kl" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css</a>"<br/>      rel="stylesheet"<br/>    /&gt;<br/>    &lt;link rel="icon" type="image/x-icon" href="favicon.ico" /&gt;<br/>    &lt;script<br/>      src="<a class="ae kl" href="https://code.jquery.com/jquery-3.3.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.3.1.slim.min.js</a>"<br/>      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"<br/>      crossorigin="anonymous"<br/>    &gt;&lt;/script&gt;<br/>    &lt;script<br/>      src="<a class="ae kl" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js</a>"<br/>      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"<br/>      crossorigin="anonymous"<br/>    &gt;&lt;/script&gt;<br/>    &lt;script<br/>      src="<a class="ae kl" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js</a>"<br/>      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"<br/>      crossorigin="anonymous"<br/>    &gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;app-root&gt;&lt;/app-root&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="3442" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将引导CSS和JavaScript依赖项添加到我们的应用程序中，并更改标题。</p><p id="e472" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成所有工作后，我们可以运行<code class="fe km kn ko kp b">ng serve</code>来运行app。</p><p id="0474" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了启动后端，我们首先通过运行<code class="fe km kn ko kp b">npm i json-server</code>来安装<code class="fe km kn ko kp b">json-server</code>包。然后，转到我们的项目文件夹并运行:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="9c31" class="ky kz iq kp b gy la lb l lc ld">json-server --watch db.json</span></pre><p id="e100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">db.json</code>中，将文本改为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="d789" class="ky kz iq kp b gy la lb l lc ld">{<br/>  "employees": [<br/>  ]<br/>}</span></pre><p id="45ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们有了定义在可用的<code class="fe km kn ko kp b">requests.js</code>中的<code class="fe km kn ko kp b">employees </code>端点。</p><p id="2139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么我们应该得到:</p><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/fbcd0331fe72f9d76a6678768bd78068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2SvPmwkvJgk_7L74CWhoeg.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/5d20ad254e08d131d5b53d975c29f8d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yoRm3iTJ_kJc7M9NW_RIg.png"/></div></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lf"><img src="../Images/e5529d720fdfe55e37af32ce21824609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wstLHl-exarmp3WuFyPzg.png"/></div></div></figure></div></div>    
</body>
</html>