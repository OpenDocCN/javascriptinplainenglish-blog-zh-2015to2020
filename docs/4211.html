<html>
<head>
<title>Create a JavaScript comments remover</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个JavaScript注释移除器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-javascript-comments-remover-9ae123c344b5?source=collection_archive---------6-----------------------#2020-11-24">https://javascript.plainenglish.io/create-a-javascript-comments-remover-9ae123c344b5?source=collection_archive---------6-----------------------#2020-11-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f642e7058891c449076133edaf8a109c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPZHo9-H9OsFHXj_4LMJDw.jpeg"/></div></div></figure><p id="6e43" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我将向您展示如何创建一个注释移除器，它将从您的所有JavaScript文件中移除所有单个或多个注释。每当我们在一个项目中工作时，我们都会创建一些单行或多行注释，以便理解当前代码的必要性或可用性。这些单行或多行注释在开发阶段很有用，但不适合生产，因为这会增加文件的大小。</p><p id="7fc0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我知道文件大小的增量非常小。我们基本上在一个小项目上工作，这个小项目不需要优化到我们需要在生产中删除注释的程度😂。不过，如果有人想知道如何从JavaScript文件中删除所有注释，请阅读下面的文章。这对所有节点、Angular、React、Vue或任何其他JavaScript项目都很有用。</p><ol class=""><li id="c263" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">创建一个目录并初始化您的项目。</li></ol><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="e6d2" class="ll lm in lh b gy ln lo l lp lq">npm init -y</span><span id="23c5" class="ll lm in lh b gy lr lo l lp lq">#or </span><span id="3c84" class="ll lm in lh b gy lr lo l lp lq">yarn init -y</span></pre><p id="29f4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.然后在项目目录中创建两个文件。</p><p id="c52f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> index.js — </strong>这个文件将是我们项目的主文件，它将保存我们所有的代码。</p><p id="64d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> comment.js — </strong>这个文件包含一些带有单个和多个注释的虚拟JavaScript代码。</p><p id="d62a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3.现在打开<strong class="jx io"> comment.js </strong>文件，粘贴下面的虚拟JavaScript代码。</p><figure class="lc ld le lf gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="8e68" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4.现在是时候在我们的<strong class="jx io"> index.js </strong>文件中编写代码了，但是在此之前，我们需要安装一些必要的模块。将<a class="ae lu" href="https://www.npmjs.com/package/strip-comments" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">条形注释</strong> </a> <strong class="jx io"> </strong>安装到您的项目中。这个库基本上从字符串中去除了行或块注释。</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="3837" class="ll lm in lh b gy ln lo l lp lq">npm i strip-comments</span><span id="9eb0" class="ll lm in lh b gy lr lo l lp lq">or </span><span id="2809" class="ll lm in lh b gy lr lo l lp lq">yarn add strip-comments</span></pre><p id="e2ac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">5.现在将下面的代码粘贴到<strong class="jx io"> index.js </strong>文件中。</p><figure class="lc ld le lf gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="7608" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在终端内部运行<code class="fe lv lw lx lh b">node index.js</code>命令将从声明的文件路径中去除注释，在我们的例子中是<strong class="jx io"> comment.js </strong>。</p><figure class="lc ld le lf gt jo gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/50963e4b3851faaedd5589815d133b3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/1*rmyCvbsC_vQt2I-3paReeQ.gif"/></div></figure><p id="7762" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，如果我们查看我们的<strong class="jx io"> comment.js </strong>文件，我们可以看到我们所有的单个和多个注释都已经从文件中删除了。但是，我仍然对结果不满意，因为在注释的地方增加了空格。</p><figure class="lc ld le lf gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/0c4895bfff579bada875bcaf31096c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*IZgNW6lF0OHq91WijzMDSQ.jpeg"/></div></figure><p id="85ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了解决这个问题，我们将使用更漂亮的模块来格式化我们的文件。所以现在安装<a class="ae lu" href="https://www.npmjs.com/package/prettier" rel="noopener ugc nofollow" target="_blank">更漂亮的</a>到我们的项目中，然后修改我们的一些代码。</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="1e55" class="ll lm in lh b gy ln lo l lp lq">npm i prettier</span><span id="5758" class="ll lm in lh b gy lr lo l lp lq">or </span><span id="8eed" class="ll lm in lh b gy lr lo l lp lq">yarn add prettier</span></pre><p id="5aa9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在将使用更漂亮的<strong class="jx io">格式</strong>方法来格式化我们的代码。用下面提到的来自您的<strong class="jx io"> index.js </strong>文件的代码替换先前的代码。</p><figure class="lc ld le lf gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="594b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在在您的终端中运行<code class="fe lv lw lx lh b">node index.js</code>并检查<strong class="jx io"> comment.js </strong>文件。</p><figure class="lc ld le lf gt jo gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/0abea7e2d58eddb9b33a18a63da2bdce.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*zpB33TFkMo1gfHJsk2Lulg.jpeg"/></div></figure><p id="2027" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是完美的所有评论和空格已被删除。😃</p><p id="7815" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是，这仍然只适用于单个JavaScript文件，但是我们需要从项目中所有可用的JavaScript文件中删除注释。为此，我们需要将<a class="ae lu" href="https://www.npmjs.com/package/glob" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> glob </strong> </a>模块安装到我们的项目中。这个模块将在一个数组中给出项目中所有可用的JavaScript文件。</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="c6ac" class="ll lm in lh b gy ln lo l lp lq">npm i glob</span><span id="26e5" class="ll lm in lh b gy lr lo l lp lq">or</span><span id="97ac" class="ll lm in lh b gy lr lo l lp lq">yarn add glob</span></pre><p id="f110" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装glob之后，从你的<strong class="jx io"> index.js </strong>文件中删除之前的代码，然后粘贴下面的代码。</p><figure class="lc ld le lf gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="863d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就是这样，运行上面的代码<code class="fe lv lw lx lh b">node index.js</code>将会删除所有JavaScript文件中的注释。</p><p id="027e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了简化，最好不要反复使用<code class="fe lv lw lx lh b">node index.js</code>，你可以在你的package.json中添加一个脚本，然后运行<code class="fe lv lw lx lh b">npm run clean</code></p><figure class="lc ld le lf gt jo gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/6830925839863574e69ed507baada60a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*_IrsHZc8vZZSMCRkZzZ83A.jpeg"/></div></figure><p id="6cee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上述代码将适用于您的所有JavaScript项目。你需要做的就是创建一个js文件，粘贴上面的代码，并安装所需的库(glob，appellister，strip-comments)。</p><p id="5872" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae lu" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="jx io">！</strong></p><p id="b8c0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢阅读。下面我分享了一个GitHub的资源库，供参考。</p><div class="mc md gp gr me mf"><a href="https://github.com/Mediumtutorial/remove-comments" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fo"><div class="mh ab mi cl cj mj"><h2 class="bd io gy z fp mk fr fs ml fu fw im bi translated">媒体教程/删除-注释</h2><div class="mm l"><h3 class="bd b gy z fp mk fr fs ml fu fw dk translated">创建一个JavaScript注释移除器GitHub是超过5000万开发者的家园，他们一起工作来管理和审查…</h3></div><div class="mn l"><p class="bd b dl z fp mk fr fs ml fu fw dk translated">github.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt jt mf"/></div></div></a></div></div></div>    
</body>
</html>