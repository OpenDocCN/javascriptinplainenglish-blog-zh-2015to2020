<html>
<head>
<title>JavaScript Best Practices for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的JavaScript最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-best-practices-for-beginners-7bb32c1c8d22?source=collection_archive---------6-----------------------#2020-07-26">https://javascript.plainenglish.io/javascript-best-practices-for-beginners-7bb32c1c8d22?source=collection_archive---------6-----------------------#2020-07-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1067eab6d774f80eb4af12410a761721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wgG2iuKT97GZYkkr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@toddquackenbush?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Todd Quackenbush</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5f83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究一些在编写JavaScript代码时应该遵循的最佳实践。</p><h1 id="3840" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用===代替==</h1><p id="ffcc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">===</code>在进行比较之前不进行数据类型强制。</p><p id="8e60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自动类型强制的规则很复杂，所以如果我们依赖它，就会遇到问题。</p><p id="38a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该使用<code class="fe me mf mg mh b">===</code>而不是<code class="fe me mf mg mh b">==</code>进行等式比较。</p><p id="de34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，出于同样的原因，我们应该使用<code class="fe me mf mg mh b">!==</code>而不是<code class="fe me mf mg mh b">!=</code>进行不等式比较。</p><h1 id="a394" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">评估不好</h1><p id="7220" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">永远不要在我们的JavaScript代码中使用<code class="fe me mf mg mh b">eval</code>。</p><p id="b51a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它让我们从字符串中运行JavaScript代码。</p><p id="b34c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这肯定是一个安全问题，JavaScript引擎不能优化字符串中的代码，所以性能会受到影响。</p><p id="3c12" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也不可能轻松调试字符串中的代码。</p><h1 id="b0e7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">不要用一些人手不够的人</h1><p id="2bde" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有些缩写令人困惑，比如省略了单行代码块的大括号。</p><p id="90f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可能有这样的东西:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="71b5" class="mq lc iq mh b gy mr ms l mt mu">if (foo)<br/>   x = false<br/>   bar();</span></pre><p id="544f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以假设两条线都是<code class="fe me mf mg mh b">if</code>模块的一部分。</p><p id="0b47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是只有第一行是块的一部分。</p><p id="edd8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该使用花括号来分隔块:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="38a2" class="mq lc iq mh b gy mr ms l mt mu">if (foo) {<br/>   x = false;<br/>   bar();<br/>}</span></pre><p id="cf38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">把它们放进去，我们就永远清楚了。</p><h1 id="f797" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">利用ESLint</h1><p id="16ae" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该使用ESLint来发现我们代码中的问题，并使风格保持一致。</p><p id="59a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们就不会有不一致的问题。</p><p id="2208" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，它还内置了对检查Node.js代码的支持。</p><p id="a792" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还可以通过插件来保护代码、打字稿、JSX等。</p><h1 id="4daa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将脚本放在我们页面的底部</h1><p id="7be8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该把脚本放在页面的底部，这样它们可以在页面内容加载后加载。</p><p id="39b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对用户来说会让事情进展得更快。</p><p id="46de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ba69" class="mq lc iq mh b gy mr ms l mt mu">...<br/>  &lt;p&gt;hello world&lt;/p&gt;<br/>  &lt;script src="/file.js"&gt;&lt;/script&gt;<br/>  &lt;script src="/anotherFile.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c576" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让脚本持续加载。</p><h1 id="7d54" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在For语句之外声明变量</h1><p id="9c1a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在for循环中，我们可以在<code class="fe me mf mg mh b">for</code>语句之外声明变量，这样它们就不会在每次迭代时都被声明。</p><p id="45a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不要写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="aee8" class="mq lc iq mh b gy mr ms l mt mu">for (let i = 0; i &lt; someArray.length; i++) {<br/>   let container = document.getElementById('container');<br/>   container.innerHtml += `item ${i}`;<br/>   console.log(i);<br/>}</span></pre><p id="d52e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1a78" class="mq lc iq mh b gy mr ms l mt mu">let container = document.getElementById('container');<br/>for (let i = 0; i &lt; someArray.length; i++) {<br/>   container.innerHtml += `item ${i}`;<br/>   console.log(i);<br/>}</span></pre><p id="f348" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">container</code>变量的定义移出，这样我们就不会在每次迭代时都声明它们。</p><h1 id="eca7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构建字符串的最快方法</h1><p id="03ae" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用array实例的<code class="fe me mf mg mh b">join</code>方法从一串字符串中更快更短地构建一个字符串。</p><p id="447f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8f9f" class="mq lc iq mh b gy mr ms l mt mu">const arr = ['item 1', 'item 2', 'item 3'];<br/>const arr.join(', ');</span></pre><p id="3f11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用逗号作为分隔符将字符串组合在一起。</p><h1 id="9562" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">减少全局变量</h1><p id="d2ce" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们不应该使用全局变量。</p><p id="3bbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们很容易被任何东西覆盖。</p><p id="727d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">比如，代替写作；</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5b11" class="mq lc iq mh b gy mr ms l mt mu">var name = 'james';<br/>var lastName = 'smith';<br/> <br/>function doSomething() {...}</span></pre><p id="b05a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9fcc" class="mq lc iq mh b gy mr ms l mt mu">const person = {<br/>   name: 'james',<br/>   lastName: 'smith',<br/>   doSomething() {...}<br/>}</span></pre><p id="1c09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将项目放入对象中。</p><h1 id="c67d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">注释我们的代码</h1><p id="7dfa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果注释不重复代码，我们可以在代码上添加注释。</p><p id="80e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于我们可能忘记的事情，它也很方便。</p><h1 id="5c2a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">拥抱渐进增强</h1><p id="0e3f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">理想情况下，即使用户的浏览器没有启用JavaScript，我们的性能也会下降。</p><p id="54a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果用户禁用了JavaScript，我们可以在HTML代码中放置一个<code class="fe me mf mg mh b">noscript</code>标签来显示一些内容。</p><p id="2cc8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果启用了JavaScript，那么我们可以显示常规内容。</p><h1 id="41f4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">不要将字符串传递给“setInterval”或“setTimeOut”</h1><p id="3cb2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们不应该将字符串传递给<code class="fe me mf mg mh b">setInterval</code>或<code class="fe me mf mg mh b">setTimeout</code>。</p><p id="a200" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行字符串比较慢，因为它们不能被优化。</p><p id="1671" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，它们带来了安全风险，因为我们可以传入任何东西并尝试运行它。</p><p id="9368" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">调试字符串非常困难。</p><p id="dc7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以与其写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ebec" class="mq lc iq mh b gy mr ms l mt mu">setInterval(<br/>"document.getElementById('container').innerHTML += `number: ${i}`", 3000<br/>);</span></pre><p id="9027" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ce79" class="mq lc iq mh b gy mr ms l mt mu">setInterval(() =&gt; {<br/>  document.getElementById('container').innerHTML += `number: ${i}`<br/>}, 3000);</span></pre><h1 id="0929" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">不要使用“With”语句</h1><p id="10ab" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">千万不要使用<code class="fe me mf mg mh b">with</code>语句。</p><p id="2432" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这应该是访问深层嵌套对象的一种简便方法。</p><p id="d41a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，范围是混乱的。</p><p id="1ec7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以与其写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7134" class="mq lc iq mh b gy mr ms l mt mu">with (person.has.bodyparts) {<br/>  arms = true;<br/>  legs = true;<br/>}</span></pre><p id="22fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9a11" class="mq lc iq mh b gy mr ms l mt mu">person.has.bodyparts.arms = true;<br/>person.has.bodyparts.legs= true;</span></pre><p id="b1c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">with</code>在严格模式下也被禁用，所以我们肯定不能在大多数地方使用它。</p><p id="fc26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2c97" class="mq lc iq mh b gy mr ms l mt mu">let o = person.has.bodyparts;<br/>o.arms = true;<br/>o.legs = true;</span></pre><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/27743c93996a7bcf429514ac20ee9057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4yfUkntda81p9rs2"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kalimullin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ilnur Kalimullin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7863" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="9c53" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们不应该使用像<code class="fe me mf mg mh b">with</code>这样的旧结构，也不应该将字符串传递给<code class="fe me mf mg mh b">setTimeout</code>或<code class="fe me mf mg mh b">setInterval</code>。</p><p id="ab4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还有，要用<code class="fe me mf mg mh b">===</code>和<code class="fe me mf mg mh b">!==</code>来比较事物。</p><p id="a9a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还应该避免全局变量。</p><h2 id="7442" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="f111" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅解码，我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>