<html>
<head>
<title>Build a Progress Bar in CSS, JavaScript &amp; HTML from Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始用CSS，JavaScript和HTML创建一个进度条</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-progress-bar-in-css-js-html-from-scratch-6449da06042?source=collection_archive---------4-----------------------#2020-04-20">https://javascript.plainenglish.io/building-a-progress-bar-in-css-js-html-from-scratch-6449da06042?source=collection_archive---------4-----------------------#2020-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="98e7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这是你如何做它。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/06eb3eba43db76b08feb8653b1ddc732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*5Joz7mZ4k0lP2UX26H44vw.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">Progress Bar purple with pink background.</figcaption></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="da88" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">首先，为您的HTML设置一个id为progressBar的div。然后，在该div内部，创建另一个id为progressBarFull的div。这两者都将存在于容器div中，但这纯粹是为了设计样式。</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="7c18" class="lz ma iq lv b gy mb mc l md me">// HTML</span><span id="3629" class="lz ma iq lv b gy mf mc l md me">&lt;div class="container"&gt;<br/>  &lt;div id="progressBar"&gt;<br/>   &lt;div id="progressBarFull"&gt;&lt;/div&gt;     <br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/7c23ff6b49d29670bb7a77cad70fecad.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*A40I8zywT4YSS5ihJdc_GA.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">HTML for the Progress Bar.</figcaption></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="619c" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">接下来，设置CSS通过它们各自的id来访问这些元素。</p><p id="864a" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">所以对于progressBar，它是以JavaScript约定命名的，因为我们稍后将使用JS来访问它，看起来像这样:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="fcae" class="lz ma iq lv b gy mb mc l md me">// CSS </span><span id="6dc4" class="lz ma iq lv b gy mf mc l md me">#progressBar {<br/>    width: 20rem;<br/>    height: 4rem;<br/>    border: 0.3rem solid purple;<br/>    margin-top: 1.5rem;<br/>    background-color: #fff;<br/>}</span></pre><p id="bbd8" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">当然，你可以随心所欲地设计。这里的主要思想是，它是某种矩形或形状，可以填充，我们通过id访问它。</p><p id="fda2" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">为了创建填充效果，我们将使用数学和JavaScript。首先，我们将设置我们的CSS来完成进度条的填充颜色的视觉效果。</p><p id="5dc9" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">看起来会像这样:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="8259" class="lz ma iq lv b gy mb mc l md me">// CSS</span><span id="d7fc" class="lz ma iq lv b gy mf mc l md me">#progressBarFull {<br/>    height: 3.4rem;<br/>    background-color: purple;<br/>    width: 0%;<br/>}</span></pre><p id="dfde" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">它包括设置不同的背景色属性，以便在视觉上区分形状上的进展。将宽度设置为0%，因为它将基于回答问题数量的进度百分比，这将通过JavaScript中的一些数学计算来设置。</p><p id="b979" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是进度条和完整进度条的CSS外观:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/598a7c1e65a806d94c4700084d312cf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*NI7Qe-oSJLkX7A3F__gFdQ.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">CSS for Progress Bar and Progress Bar Full.</figcaption></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="d647" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在，我们来看看JavaScript。首先，我们通过id #progressBarFull设置一个变量来访问我们的DOM元素:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="f73d" class="lz ma iq lv b gy mb mc l md me">// JavaScript </span><span id="fa3c" class="lz ma iq lv b gy mf mc l md me">const progressBarFull = document.getElementById('progressBarFull');</span></pre><p id="db1c" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">接下来，我们要为问题计数器设置一个变量，并用默认值实例化它。这里的想法是，我们将根据用户完成的问题的数量或进度来增加我们的问题计数器。因此，您可以对此进行调整，以满足您特定情况的需要。</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="d22b" class="lz ma iq lv b gy mb mc l md me">// JavaScript </span><span id="5682" class="lz ma iq lv b gy mf mc l md me">let questionCounter = 0;</span></pre><p id="259f" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这个概念是，当计数器增加，或者值增加时，进度条的百分比将会用颜色填充，以表示正在进行的进度。所以这个数字，这个变量会随着用户的进步而改变。</p><p id="7126" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">接下来，我们要为问题的最大数量设置一个变量，或者说完成看起来像什么。这将意味着进度条的结束。所以我们看到的是一个分数，本质上，问题的最大数量或最大数量是分母，当我们解决问题或迭代时，我们当前的进度是分子。</p><p id="c103" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">出于我们的目的，我们将设置一个不需要更改的变量，因此我们将使用ES6常量:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="055e" class="lz ma iq lv b gy mb mc l md me">// JavaScript </span><span id="c2cb" class="lz ma iq lv b gy mf mc l md me">const MAX_QUESTIONS = 10;</span></pre></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="bf73" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">好吧。现在，还记得我们在CSS中是如何将宽度设置为0%的吗？我们将使用JavaScript通过id访问DOM元素，然后动态更改width属性的值:</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="6068" class="lz ma iq lv b gy mb mc l md me">// JavaScript </span><span id="2f13" class="lz ma iq lv b gy mf mc l md me">progressBarFull.style.width = `${(questionCounter / MAX_QUESTIONS) * 100}%`;</span></pre><p id="d55c" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">首先，我们调用变量progressBarFull通过id访问特定的DOM元素。然后，我们将方法链接到它上面，使用点符号来访问特定DOM节点的样式属性。从那里，我们链接到样式属性的宽度属性，并将其设置为等于一个数学公式。</p><p id="4271" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">就像我们之前提到的，这里是我们要使用分数公式的地方。我们用回溯法来完成进度除以问题总数。那个操作放在括号里，因为这是一个遵守操作顺序的情况，请原谅我亲爱的萨莉阿姨。PEMDAS将确保我们得到我们在这里寻找的东西，首先执行我们的括号，然后将结果乘以100，然后为CSS设置一个百分比。</p><p id="6d2a" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">总之，JavaScript将如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/3563c8e1754aac6ea0721c9d21363213.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*rbfMCevPt_1d4w8xKY9Asg.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">JavaScript for Progress Bar Full.</figcaption></figure><p id="5b19" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是我的CodePen，为了测试进度，在JavaScript中改变questionCounter的数字，你会看到横条的变化。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mj mk l"/></div></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="9b12" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">所以弄清楚你的progress版本是什么样子，下次不用框架或库，用这个概念从头开始实现你自己的进度条！</p><h2 id="9b9c" class="lz ma iq bd ml mm mn dn mo mp mq dp mr lh ms mt mu ll mv mw mx lp my mz na nb bi translated">用简单英语写的JavaScript的注释</h2><p id="2d41" class="pw-post-body-paragraph ky kz iq la b lb nc jr ld le nd ju lg lh ne lj lk ll nf ln lo lp ng lr ls lt ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae nh" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="la ir">AI in Plain English</strong></a><a class="ae nh" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="la ir">UX in Plain English</strong></a><a class="ae nh" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="la ir">Python in Plain English</strong></a><strong class="la ir"/>——谢谢，继续学习！</p><p id="b742" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae nh" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="la ir">submissions @ plain English . io</strong></a><strong class="la ir"/>，并附上您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>