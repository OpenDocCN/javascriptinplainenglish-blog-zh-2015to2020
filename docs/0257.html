<html>
<head>
<title>May I help you? Build a Chatbot in 10 minutes with React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我能帮助你吗？用React在10分钟内创建一个聊天机器人</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/may-i-help-you-build-a-chatbot-in-10-minutes-with-react-df19e940bbc8?source=collection_archive---------1-----------------------#2019-09-07">https://javascript.plainenglish.io/may-i-help-you-build-a-chatbot-in-10-minutes-with-react-df19e940bbc8?source=collection_archive---------1-----------------------#2019-09-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a291459220176d3c3232ac92b8737089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*29eYWrXQQGd6eK8Z"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@lefterisk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lefteris kallergis</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="4a35" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">如今，在构建任何应用程序时，用户体验都是非常重要的。越来越多的品牌正在利用聊天机器人来服务他们的客户，营销他们的品牌，甚至销售他们的产品。</h1><p id="64dc" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">有很多很棒的工具可以帮助我们非常容易地构建智能机器人，比如Google的DialogFlow、Amazon Lex等，其中大多数都实现了自己的自然语言处理(NLP)逻辑。然而，在某些情况下，我们并不真正需要智能机器人。</p><p id="173c" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">每当我们有一个可供选择的选项有限的小应用程序时，就没有必要使用基于NLP的工具，比如Google的DialogFlow。您需要与它们集成(虽然这很容易)，并且您需要进行网络调用来获得结果。相反，在这些情况下，您可能希望在本地定义您的规则。在这里，我们将使用<strong class="ld ir"> React Simple Chatbot </strong>库构建一个简单的聊天机器人，并将其添加到我们的<a class="ae kc" href="https://medium.com/@himanshujaiswal_58882/not-a-hello-world-application-getting-started-with-react-c02879d8bde3" rel="noopener"> <strong class="ld ir"> <em class="me"> pizza-builder应用程序</em> </strong> </a>中，使用它我们可以通过聊天机器人助手构建我们自己定制的披萨。<em class="me"> </em>最终的项目将如下图所示:</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="mj mk l"/></div></figure></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="9d09" class="kd ke iq bd kf kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la bi translated">入门指南</h1><p id="c865" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">React Simple Chatbot是一个简单的库，它提供了一个Chatbot组件，我们可以将会话流作为道具传递给它。此外，我们可以定制聊天机器人的风格。让我们从深入研究代码开始。</p><p id="7374" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">从<a class="ae kc" href="https://github.com/hjaiswal/pizza-builder-tutorial" rel="noopener ugc nofollow" target="_blank">https://github.com/hjaiswal/pizza-builder-tutorial</a>克隆代码。<em class="me">(确保你在主分支上工作)</em>。使用以下命令安装chatbot库:</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="cc86" class="nc ke iq my b gy nd ne l nf ng"><strong class="my ir">npm install react-simple-chatbot styled-components</strong> <strong class="my ir">--save</strong></span></pre><p id="7cec" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><em class="me"> styled-components是react-simple-chatbot的依赖项之一，没有它就会失败。更多信息，请阅读</em> <a class="ae kc" href="https://github.com/LucasBassetti/react-native-chatbot/issues/35" rel="noopener ugc nofollow" target="_blank"> <em class="me">此处</em> </a></p><p id="017a" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">创建一个聊天机器人组件<strong class="ld ir">/src/components/Chatbot/custom Chatbot . js</strong></p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="f29e" class="nc ke iq my b gy nd ne l nf ng">import React from "react";<br/>import ChatBot from "react-simple-chatbot";</span><span id="7670" class="nc ke iq my b gy nh ne l nf ng">function CustomChatbot(props) {</span><span id="3635" class="nc ke iq my b gy nh ne l nf ng">  const steps = [<br/>      {<br/>       id: "Greet",<br/>       message: "Hello, Welcome to our shop",<br/>       trigger: "Done"<br/>      },<br/>      {<br/>       id: "Done",<br/>       message: "Have a great day !!",<br/>       end: true<br/>      }<br/>    ];</span><span id="7bec" class="nc ke iq my b gy nh ne l nf ng">  return &lt;ChatBot steps={steps} /&gt;;<br/>}</span><span id="3a4e" class="nc ke iq my b gy nh ne l nf ng">export default CustomChatbot;</span></pre><p id="e804" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">将此组件包含在您的披萨组件中</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="5569" class="nc ke iq my b gy nd ne l nf ng">import React, { Component } from "react";<br/>import "./Pizza.css";</span><span id="afdd" class="nc ke iq my b gy nh ne l nf ng"><em class="me">..... Rest of the code .....</em></span><span id="94bd" class="nc ke iq my b gy nh ne l nf ng"><strong class="my ir">import CustomChatbot from "./chatbot/CustomChatbot";</strong></span><span id="349e" class="nc ke iq my b gy nh ne l nf ng">class Pizza extends Component {</span><span id="f664" class="nc ke iq my b gy nh ne l nf ng"><em class="me">..... Rest of the code .....</em><br/>   <br/>   return (<br/>      &lt;div&gt;<br/>        &lt;div className="container mt-5"&gt;</span><span id="2ec9" class="nc ke iq my b gy nh ne l nf ng">           <em class="me">...... Rest of the code .....</em></span><span id="bc4c" class="nc ke iq my b gy nh ne l nf ng">           <strong class="my ir">&lt;CustomChatbot /&gt;</strong><br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="fdc3" class="nc ke iq my b gy nh ne l nf ng">export default Pizza;</span></pre><p id="b23e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">用<code class="fe ni nj nk my b"><strong class="ld ir">npm start</strong></code>启动应用程序。您将在屏幕的左下角看到一个聊天窗口，如下所示:</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/287c012624590d13ff3937d14c22ebec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dlPRkAidRxqP4Fsig0W4hQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">React Chatbot Window</figcaption></figure><p id="6da4" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如果你想调整你的聊天机器人的大小并使其可折叠，你可以传递<strong class="ld ir"> width </strong>、<strong class="ld ir"> height </strong>和<strong class="ld ir"> floating </strong>属性作为组件的道具。</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="343d" class="nc ke iq my b gy nd ne l nf ng">function CustomChatbot(props) {<br/>   const config = {<br/>     width: "300px",<br/>     height: "400px",<br/>     floating: true<br/>   };</span><span id="2f14" class="nc ke iq my b gy nh ne l nf ng">   const steps = [<br/>      {<br/>       id: "Greet",<br/>       message: "Hello, Welcome to our shop",<br/>       trigger: "Done"<br/>      },<br/>      {<br/>       id: "Done",<br/>       message: "Have a great day !!",<br/>       end: true<br/>      }<br/>    ];<br/>   <br/>   return &lt;ChatBot steps={steps} {...config} /&gt;;<br/>  }</span><span id="6eca" class="nc ke iq my b gy nh ne l nf ng">  export default CustomChatbot;</span></pre><p id="1067" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">现在，您将在页面的右下方看到一个可折叠的元素。点击后，聊天窗口将会打开</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/e37e50acd879fc0f0cd9ae9beb5a5a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ucSDu9cte8GsrcTaaSKJig.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Chatbot component (collapsible) on the bottom right — Before clicking</figcaption></figure><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/a018b54f91b1d8970e6f8c0c072c36e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cg3IiYAspCHatMdFumUlPA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Chatbot component (collapsible) on the bottom right — After clicking</figcaption></figure></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="386f" class="kd ke iq bd kf kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la bi translated">配置</h1><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="425b" class="nc ke iq my b gy nd ne l nf ng">const steps = [<br/>    {<br/>      <strong class="my ir">id</strong>: "Greet",<br/>      <strong class="my ir">message</strong>: "Hello, Welcome to our shop",<br/>      <strong class="my ir">trigger</strong>: "Done"<br/>    },<br/>    {<br/>      <strong class="my ir">id</strong>: "Done",<br/>      <strong class="my ir">message</strong>: "Have a great day !!",<br/>      <strong class="my ir">end</strong>: true<br/>    }<br/> ];</span></pre><p id="2985" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">目前，CustomChatbot组件中的steps数组有两个JSON对象。这些JSON对象将代表对话的流程。</p><ul class=""><li id="3aa5" class="no np iq ld b le lz li ma lm nq lq nr lu ns ly nt nu nv nw bi translated"><strong class="ld ir"> id </strong>:当前步骤的标识。它可以是字符串或数字。但是我会推荐string，因为它更具描述性，如果我们决定在两者之间添加一个步骤，我们不必改变编号。任何步骤都需要</li><li id="1dc6" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir">消息</strong>:一旦该步骤被调用，将在聊天窗口显示的消息</li><li id="ceaf" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir">触发器</strong>:下一步要触发的id。它也可以是返回下一步id的函数</li><li id="b4ee" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir">结束</strong>:如果为真，表示这一步是最后一步</li></ul><p id="a901" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在我们的例子中，在步骤<strong class="ld ir"> <em class="me">问候</em> </strong>中，我们显示消息<em class="me">“您好，欢迎光临我们的商店”</em>，然后调用触发器中的<strong class="ld ir"> <em class="me">完成</em> </strong>步骤。在<strong class="ld ir"> <em class="me">完成</em> </strong>的步骤中，我们显示消息<em class="me">“祝您有美好的一天！!"</em>然后用<em class="me">“end:true”</em>结束对话。让我们的对话更有互动性。</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="aaea" class="nc ke iq my b gy nd ne l nf ng">const steps = [<br/>   {<br/>     id: "Greet",<br/>     message: "Hello, Welcome to our shop",<br/>     trigger: "Ask Name"<br/>   },<br/>   {<br/>     id: "Ask Name",<br/>     message: "Please type your name?",<br/>     trigger: "Waiting user input for name"<br/>   },<br/>   {<br/>     id: "Waiting user input for name",<br/>     <strong class="my ir">user</strong>: true,<br/>     trigger: "Asking options to eat"<br/>   },<br/>   {<br/>     id: "Asking options to eat",<br/>     message: "Hi {<strong class="my ir">previousValue</strong>}, Glad to know you !!",<br/>     trigger: "Done"<br/>   },<br/>   {<br/>     id: "Done",<br/>     message: "Have a great day !!",<br/>     end: true<br/>   }<br/>];</span></pre><ul class=""><li id="be86" class="no np iq ld b le lz li ma lm nq lq nr lu ns ly nt nu nv nw bi translated"><strong class="ld ir">用户</strong>:如果为真，表示机器人必须等待用户类型的动作</li><li id="ee6c" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir"> previousValue </strong>:我们从上一步得到的值(在本例中是从用户输入得到的值)</li></ul><p id="7215" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">这里，我们在第一步中问候用户，然后在第二步中询问姓名。在第三步中，对话暂停，等待用户响应。当用户输入名称时，它将被存储在<em class="me"> previousValue </em>变量<em class="me"> </em>中，该变量将在下一步中可用。然后，在第四步中，机器人再次用我们在上一步中获得的用户名问候用户，在第五步中，对话结束。</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="oc mk l"/></div></figure><p id="ea01" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">让我们添加一个“<strong class="ld ir">选项</strong>”功能，其中将显示一个选项列表，并根据用户的选择，配置接下来的步骤。</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="9ca9" class="nc ke iq my b gy nd ne l nf ng">{<br/> id: "Displaying options to eat",<br/> <strong class="my ir">options</strong>: [<br/>      {<br/>        <strong class="my ir">value</strong>: "pizza",<br/>        <strong class="my ir">label</strong>: "Pizza",<br/>        <strong class="my ir">trigger</strong>: "Asking for Tomatoes in Pizza"<br/>      },<br/>      { <br/>        <strong class="my ir">value</strong>: "burger",<br/>        <strong class="my ir">label</strong>: "Burger",<br/>        <strong class="my ir">trigger</strong>: "Burger Not available"<br/>      } <br/>          ]<br/>}</span></pre><ul class=""><li id="7df2" class="no np iq ld b le lz li ma lm nq lq nr lu ns ly nt nu nv nw bi translated"><strong class="ld ir">选项:</strong>选项列表供用户从中选择，需要点击选项。列表中的每个选项都是具有三个属性的JSON</li><li id="fe65" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir"> value: </strong>选项中JSON的属性，用户点击该选项将设置值。例如，在上面的步骤<em class="me">、</em>中，会显示披萨&amp;汉堡两个选项。如果用户点击比萨饼，步骤的值将是比萨饼，如果用户点击汉堡，步骤的值将是汉堡</li><li id="77c6" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir">标签:</strong>这是聊天窗口中将显示的内容</li><li id="ddab" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated"><strong class="ld ir">触发:</strong>如果用户点击比萨，下一步将是<strong class="ld ir"> <em class="me">要求比萨中的西红柿</em> </strong>，如果用户点击汉堡，下一步将是<strong class="ld ir"> <em class="me">汉堡不可用。</em> </strong>触发器也可以是如下图的功能。返回值将是下一步的id</li></ul><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="e311" class="nc ke iq my b gy nd ne l nf ng">{<br/>  id: "Displaying options to eat",<br/>  <strong class="my ir">options</strong>: [<br/>             { <strong class="my ir">value</strong>: "pizza",<strong class="my ir">label</strong>: "Pizza",<strong class="my ir">trigger</strong>: () =&gt; {<br/>                    console.log("Clicked on Pizza");<br/>                    return "Asking for Tomatoes in Pizza";                                                               <br/>             }, <br/>             { <strong class="my ir">value</strong>: "burger",<strong class="my ir">label</strong>: "Burger",<strong class="my ir">trigger</strong>: () =&gt; {<br/>                    console.log("Clicked on Burger");<br/>                    return "Burger Not available";                                                               <br/>             }<br/>           ]<br/>}</span></pre></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="441a" class="kd ke iq bd kf kg ms ki kj kk mt km kn ko mu kq kr ks mv ku kv kw mw ky kz la bi translated">完整的对话</h1><p id="4f46" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在让我们为应用程序添加完整的对话</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="3336" class="nc ke iq my b gy nd ne l nf ng">const steps = [<br/>        {<br/>           id: "Greet",<br/>           message: "Hello, Welcome to our shop",<br/>           trigger: "Ask Name"<br/>        },</span><span id="5896" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Ask Name",<br/>           message: "Please type your name?",<br/>           trigger: "Waiting user input for name"<br/>        },</span><span id="2b16" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Waiting user input for name",<br/>           user: true,<br/>           trigger: "Asking options to eat"<br/>        },</span><span id="734b" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Asking options to eat",<br/>           message: "Hi {previousValue}, Please click on what you<br/>                     want to eat!",<br/>           trigger: "Displaying options to eat"<br/>        },</span><span id="f3d5" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Displaying options to eat",<br/>           options: [<br/>                      {<br/>                        value: "pizza",<br/>                        label: "Pizza",<br/>                        trigger: "Asking for Tomatoes in Pizza"<br/>                      },<br/>                      { <br/>                        value: "burger",<br/>                        label: "Burger",<br/>                        trigger: "Burger Not available"<br/>                      } <br/>                    ]<br/>        },</span><span id="af4d" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Burger Not available",<br/>           message: "Sorry, We don't have burger available at the<br/>                     moment. Would you like to try our pizza?",<br/>           trigger: "Asking for pizza after burger"<br/>        },</span><span id="5933" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Asking for pizza after burger",<br/>           options: [<br/>                      {<br/>                        value: true,<br/>                        label: "Yes",<br/>                        trigger: "Asking for Tomatoes in Pizza"<br/>                      },<br/>                      { <br/>                        value: "false",<br/>                        label: "No",<br/>                        trigger: "Done"<br/>                      } <br/>                    ]<br/>        },</span><span id="9cf4" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Asking for Tomatoes in Pizza",<br/>           message: "Would you like to have tomatoes in your pizza",<br/>           trigger: "Adding Tomatoes in Pizza"<br/>        },</span><span id="0d3c" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Adding Tomatoes in Pizza",<br/>           options: [<br/>                      {<br/>                        value: true,<br/>                        label: "Yes",<br/>                        trigger: () =&gt; {<br/>                           props.eventHandler("tomato");<br/>                           return "Asking for Mushroom in Pizza"  <br/>                         }<br/>                      },<br/>                      { <br/>                        value: "false",<br/>                        label: "No",<br/>                        trigger: "Asking for Mushroom in Pizza"<br/>                      } <br/>                    ]<br/>        },<br/>        <br/>        {<br/>           id: "Asking for Mushroom in Pizza",<br/>           message: "Would you like to have mushroom in your pizza",<br/>           trigger: "Adding Mushroom in Pizza"<br/>        },<br/> <br/>        {<br/>           id: "Adding Mushroom in Pizza",<br/>           options: [<br/>                      {<br/>                        value: true,<br/>                        label: "Yes",<br/>                        trigger: () =&gt; {<br/>                           props.eventHandler("mushroom");<br/>                           return "Asking for Corn in Pizza"  <br/>                         }<br/>                      },<br/>                      { <br/>                        value: "false",<br/>                        label: "No",<br/>                        trigger: "Asking for Corn in Pizza"<br/>                      } <br/>                    ]<br/>        },</span><span id="b2b2" class="nc ke iq my b gy nh ne l nf ng">        {<br/>           id: "Asking for Corn in Pizza",<br/>           message: "Would you like to have corn in your pizza",<br/>           trigger: "Adding Corn in Pizza"<br/>        },<br/> <br/>        {<br/>           id: "Adding Corn in Pizza",<br/>           options: [<br/>                      {<br/>                        value: true,<br/>                        label: "Yes",<br/>                        trigger: () =&gt; {<br/>                           props.eventHandler("corn");<br/>                           return "Asking for Veggies in Pizza"  <br/>                         }<br/>                      },<br/>                      { <br/>                        value: "false",<br/>                        label: "No",<br/>                        trigger: "Asking for Veggies in Pizza"<br/>                      } <br/>                    ]<br/>        },<br/>         <br/>        {<br/>           id: "Asking for Veggies in Pizza",<br/>           message: "Would you like to have veggies in your pizza",<br/>           trigger: "Adding Veggies in Pizza"<br/>        },<br/> <br/>        {<br/>           id: "Adding Veggies in Pizza",<br/>           options: [<br/>                      {<br/>                        value: true,<br/>                        label: "Yes",<br/>                        trigger: () =&gt; {<br/>                           props.eventHandler("veggie");<br/>                           return "Done"  <br/>                         }<br/>                      },<br/>                      { <br/>                        value: "false",<br/>                        label: "No",<br/>                        trigger: "Done"<br/>                      } <br/>                    ]<br/>        },</span><span id="68b1" class="nc ke iq my b gy nh ne l nf ng">        {<br/>            id: "Done",<br/>            message: "Have a great day !!",<br/>            end: true<br/>        }<br/>];</span></pre><p id="180e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在Pizza组件中，将<strong class="ld ir"> clickEventHandler </strong>作为道具传递给聊天机器人组件</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="d044" class="nc ke iq my b gy nd ne l nf ng">&lt;CustomChatbot eventHandler={this.clickEventHandler} /&gt;</span></pre><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="od mk l"/></div></figure><p id="c821" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">看起来很复杂？是的，但是它真的很容易理解。让我们来分解一下:</p><ul class=""><li id="9651" class="no np iq ld b le lz li ma lm nq lq nr lu ns ly nt nu nv nw bi translated">在步骤<strong class="ld ir"> <em class="me">问候</em> </strong>中，聊天机器人会在窗口显示问候信息</li><li id="3e6c" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">在步骤<strong class="ld ir"> <em class="me">询问姓名</em> </strong>中，聊天机器人会显示询问姓名的信息</li><li id="cb64" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">在步骤<strong class="ld ir"> <em class="me">中，等待用户输入姓名</em> </strong>，聊天机器人将等待用户输入姓名，该值将被存储并传递到下一步</li><li id="6b76" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">在步骤<strong class="ld ir"> <em class="me">询问选项吃</em> </strong>中，聊天机器人将使用previousValue显示用户名</li><li id="b268" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">在步骤<strong class="ld ir"> <em class="me">显示吃</em> </strong>的选项中，聊天机器人会显示两种吃的选项，披萨和汉堡。如果用户选择比萨选项，将触发<strong class="ld ir"> <em class="me">在比萨中索要西红柿</em> </strong>步骤<strong class="ld ir"> <em class="me"> </em> </strong>否则将触发<strong class="ld ir"> <em class="me">汉堡不可用</em> </strong>步骤选择汉堡选项</li><li id="513d" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">如果步骤<strong class="ld ir"> <em class="me">汉堡不可用</em> </strong>被触发，将显示信息并触发步骤<strong class="ld ir"> <em class="me">汉堡后要求比萨饼</em> </strong>，将显示两个选项。如果点击“是”选项，将触发<strong class="ld ir"> <em class="me">在披萨中索要西红柿</em> </strong>步骤，如果没有点击选项，将触发<strong class="ld ir"> <em class="me">完成</em> </strong>步骤，通话结束</li><li id="94c7" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">在<strong class="ld ir"> <em class="me">步骤中询问比萨中的番茄，</em> </strong>聊天机器人<strong class="ld ir"> <em class="me"> </em> </strong>将询问用户是否想要番茄，并触发<strong class="ld ir"> <em class="me">在比萨中添加番茄</em> </strong>步骤，该步骤将显示是和否选项。如果选择Yes，将调用props.eventHandler方法，该方法是Pizza组件中的clickEventHandler函数，它将呈现番茄组件。如果选择“否”,将触发<strong class="ld ir"> <em class="me">要求比萨饼中的蘑菇</em> </strong>步骤</li><li id="61ae" class="no np iq ld b le nx li ny lm nz lq oa lu ob ly nt nu nv nw bi translated">其他成分也会发生类似的事情。最后，当<strong class="ld ir"> <em class="me">完成时</em> </strong>步骤将被触发，对话将结束。</li></ul><h1 id="b17e" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">式样</h1><p id="e6c6" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">风格可以添加到聊天机器人一样，窗口颜色，字体大小，字体系列等。我们需要从“styled-components”库中导入<strong class="ld ir"> ThemeProvider </strong>，并将我们的聊天机器人包装在其中，如下所示:</p><pre class="mf mg mh mi gt mx my mz na aw nb bi"><span id="7656" class="nc ke iq my b gy nd ne l nf ng">import React from "react";<br/>import ChatBot from "react-simple-chatbot";<br/>import { ThemeProvider } from "styled-components";</span><span id="33ca" class="nc ke iq my b gy nh ne l nf ng">function CustomChatbot(props) {<br/>  <br/>    <em class="me">..... Rest of the code .....<br/> <br/>    </em>const theme = {<br/>         background: "white",<br/>         fontFamily: "Arial, Helvetica, sans-serif",<br/>         headerBgColor: "#00B2B2",<br/>         headerFontColor: "#fff",<br/>         headerFontSize: "25px",<br/>         botBubbleColor: "#00B2B2",<br/>         botFontColor: "#fff",<br/>         userBubbleColor: "#fff",<br/>         userFontColor: "#4c4c4c"<br/>        };</span><span id="4f1d" class="nc ke iq my b gy nh ne l nf ng"><em class="me">  ..... Rest of the code .....</em></span><span id="036e" class="nc ke iq my b gy nh ne l nf ng">   return (<br/>      &lt;ThemeProvider theme={theme}&gt;<br/>         &lt;ChatBot steps={steps} {...config} /&gt;<br/>      &lt;/ThemeProvider&gt;<br/>     );</span></pre><p id="3f2e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">应用程序可以进一步改进。目前，添加配料的按钮仍处于活动状态。当我们通过聊天机器人添加配料时，它可以被禁用。我将留给读者去实现</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="oe mk l"/></div></figure></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><p id="cee6" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">祝贺你，你已经成功地在React上构建了一个聊天机器人，它应该像开始时发布的视频一样工作。最终的代码库可以在这个git链接中找到:【https://github.com/hjaiswal/pizza-builder-tutorial】<em class="me">(git分支:</em><strong class="ld ir"><em class="me">pizza-builder-with-chatbot</em></strong><em class="me">)</em></p><p id="1791" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">非常感谢你阅读这篇文章。如果你有问题，欢迎在下面评论。</p><h2 id="31ff" class="nc ke iq bd kf of og dn kj oh oi dp kn lm oj ok kr lq ol om kv lu on oo kz op bi translated">进一步阅读</h2><div class="oq or gp gr os ot"><a href="https://medium.com/@himanshujaiswal_58882/not-a-hello-world-application-getting-started-with-react-c02879d8bde3" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd ir gy z fp oy fr fs oz fu fw ip bi translated">不是Hello World应用程序React入门</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">通过构建一个真正的应用程序(Pizza Builder)而不仅仅是一个Hello World示例来开始使用React</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph jw ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://plainenglish.io/blog/how-to-automate-aws-iam-best-practices-using-the-principle-of-least-privilege" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd ir gy z fp oy fr fs oz fu fw ip bi translated">如何使用最小特权原则自动化AWS IAM最佳实践</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">云是一项神奇的技术，可用于构建可扩展的应用程序，轻松提供对弹性计算的访问…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">简明英语. io</p></div></div></div></a></div><p id="7c5e" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><em class="me">更多内容看</em> <a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me">说白了。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me">免费周报</em> </strong> </a> <em class="me">。关注我们关于</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ld ir"><em class="me">Twitter</em></strong></a>，<a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ld ir"><em class="me">LinkedIn</em></strong></a><em class="me">，</em><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ld ir"><em class="me">YouTube</em></strong></a><em class="me">，以及</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me">不和</em> </strong> </a> <strong class="ld ir"> <em class="me">。</em> </strong></strong></a></p><p id="3c61" class="pw-post-body-paragraph lb lc iq ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld ir"> <em class="me">有兴趣缩放你的软件启动</em> </strong> <em class="me">？检查出</em> <a class="ae kc" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me">电路</em> </strong> </a> <em class="me">。</em></p></div></div>    
</body>
</html>