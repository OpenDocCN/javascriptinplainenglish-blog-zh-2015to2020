<html>
<head>
<title>Mutating JavaScript Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">变异JavaScript数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/mutating-javascript-arrays-377722878ffa?source=collection_archive---------4-----------------------#2020-01-08">https://javascript.plainenglish.io/mutating-javascript-arrays-377722878ffa?source=collection_archive---------4-----------------------#2020-01-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="b8bd" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在JavaScript中改变数组的能力是JS工具箱中必不可少的。我们来看几个方法。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/da7adc3463e119e80ccd35f65df244ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JJ_6Cs-VB3-NqXd-"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@sapegin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Artem Sapegin</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="f077" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">推送()</h1><p id="3511" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">让我们看看下面的数组。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="328e" class="mm ku in mi b gy mn mo l mp mq">var numbers = [0, 3, 6, 9, 12];</span></pre><p id="8e23" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated"><code class="fe mw mx my mi b">numbers</code>是包含递增3的数字的数组。如果我们想在序列的最后加上下一个数字呢？我们可以使用push()方法来做到这一点。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="bd3d" class="mm ku in mi b gy mn mo l mp mq">numbers.push(15);</span><span id="66db" class="mm ku in mi b gy mz mo l mp mq">// result - numbers = [0, 3, 6, 9, 12, 15]</span></pre><p id="96eb" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated">当数组的最终大小未知并且需要添加一个值时，push()是一个非常有用的工具。</p><h1 id="1b4e" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">流行()</h1><p id="89e7" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">与push()相反，pop()移除数组末尾的值。让我们来看看。我们将使用相同的<code class="fe mw mx my mi b">numbers</code>数组。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="e899" class="mm ku in mi b gy mn mo l mp mq">// numbers = [0, 3, 6, 9, 12, 15]</span><span id="bd09" class="mm ku in mi b gy mz mo l mp mq">numbers.pop();</span><span id="7991" class="mm ku in mi b gy mz mo l mp mq">// result - numbers = [0, 3, 6, 9, 12]</span></pre><p id="3477" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated">当需要删除数组的最后一个值时，pop()非常有用。更好的是，当pop()被调用时，不仅删除数组的最后一个值，而且<em class="na">还返回</em>那个值。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="1bd6" class="mm ku in mi b gy mn mo l mp mq">// numbers = [0, 3, 6, 9, 12]</span><span id="e1a4" class="mm ku in mi b gy mz mo l mp mq">var lastVal = numbers.pop();</span><span id="f5c7" class="mm ku in mi b gy mz mo l mp mq">// result - lastVal = 12; numbers = [0, 3, 6, 9]</span></pre><p id="30c8" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated">注意<code class="fe mw mx my mi b">lastVal</code>是12，但是<code class="fe mw mx my mi b">numbers</code>也从数组的末尾移除了12。在这种情况下，如果变量需要数组的最后一个值，但numbers数组不再需要它，那么pop()就很有用。</p><p id="4b53" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated">如果变量需要数组的最后一个值，但<em class="na">不需要删除</em>，则使用这个。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="1ead" class="mm ku in mi b gy mn mo l mp mq">// numbers = [0, 3, 6, 9]</span><span id="c842" class="mm ku in mi b gy mz mo l mp mq">// store last value but do NOT remove the value from numbers<br/>var val = numbers[numbers.length - 1];</span><span id="d529" class="mm ku in mi b gy mz mo l mp mq">// result - val = 9; numbers = [0, 3, 6, 9]</span></pre><p id="6191" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated"><code class="fe mw mx my mi b">val</code>是索引<code class="fe mw mx my mi b">numbers.length — 1</code>处的值。<code class="fe mw mx my mi b">numbers.length = 4</code>但是最后一个指标是3。所以我们需要把<code class="fe mw mx my mi b">numbers.length</code>减一。在这种情况下，<code class="fe mw mx my mi b">numbers[numbers.length — 1]</code>与<code class="fe mw mx my mi b">numbers[3]</code>相同。</p><h1 id="99ad" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">shift()</h1><p id="0a24" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">shift()移除并返回数组的第一个元素。我们再用<code class="fe mw mx my mi b">numbers</code>吧。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="4c30" class="mm ku in mi b gy mn mo l mp mq">// numbers = [0, 3, 6, 9]</span><span id="5b8b" class="mm ku in mi b gy mz mo l mp mq">var shiftVal = numbers.shift();</span><span id="7761" class="mm ku in mi b gy mz mo l mp mq">// result - shiftVal = 0; numbers = [3, 6, 9]</span></pre><p id="8654" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated">最后，我们来看看如何在数组的开头添加一个值。</p><h1 id="bbe4" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">未移位()</h1><p id="8a9c" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">unshift()类似于push()。主要区别在于它将值添加到数组的开头。让我们将0加回数组中。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="d6f8" class="mm ku in mi b gy mn mo l mp mq">// numbers = [3, 6, 9]</span><span id="f614" class="mm ku in mi b gy mz mo l mp mq">numbers.unshift(0);</span><span id="46ca" class="mm ku in mi b gy mz mo l mp mq">// result - numbers = [0, 3, 6, 9]</span></pre><p id="3c3c" class="pw-post-body-paragraph ll lm in ln b lo mr jo lq lr ms jr lt lu mt lw lx ly mu ma mb mc mv me mf mg ig bi translated">unshift()的巧妙之处在于可以一次添加多个值。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="13f3" class="mm ku in mi b gy mn mo l mp mq">// numbers = [0, 3, 6, 9]</span><span id="3d9e" class="mm ku in mi b gy mz mo l mp mq">numbers.unshift(1,2,3);</span><span id="23f1" class="mm ku in mi b gy mz mo l mp mq">// result - numbers = [1, 2, 3, 0, 6, 9]</span></pre><h1 id="f620" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">结论</h1><p id="8142" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">JavaScript为数组提供了更多的方法。但是，这是一个好的开始。push()、pop()、shift()和unshift()现在已经添加到您的JavaScript工具箱中了！去征服阵列吧！</p></div></div>    
</body>
</html>