<html>
<head>
<title>5 Use Cases for reduce() in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中reduce()的5个用例</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-use-cases-for-reduce-in-javascript-61ed243b8fef?source=collection_archive---------1-----------------------#2020-07-10">https://javascript.plainenglish.io/5-use-cases-for-reduce-in-javascript-61ed243b8fef?source=collection_archive---------1-----------------------#2020-07-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="588c" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript数组reduce()及其用例简介。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/cb9aa29a90db763ce3d25ebc249fdb63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OMc9i1Q7b5ud4sHF"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Aragon</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kt ku kv"><p id="df54" class="kw kx ky kz b la lb jo lc ld le jr lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><em class="in">reduce()方法对数组的每个元素执行一个reduce函数(由您提供)，得到一个输出值。</em> <a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener ugc nofollow" target="_blank"> <em class="in">源</em> </a></p></blockquote><p id="fb6e" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated"><code class="fe lw lx ly lz b">reduce()</code>方法将数组中的所有元素简化为一个输出值。输出值可以是数字、对象或字符串。<code class="fe lw lx ly lz b">reduce()</code>方法有两个论点。第一个是<strong class="kz io">回调函数</strong>，第二个是<strong class="kz io">初始值</strong>。</p><h2 id="d38c" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak">回调函数</strong></h2><p id="14bc" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">回调函数在数组的每个元素上执行。回调函数的返回值是累积的结果，并在回调函数的下一次调用中作为参数提供。回调函数接受四个参数。</p><p id="3907" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated"><code class="fe lw lx ly lz b"><strong class="kz io"><em class="ky">Accumulator</em></strong></code> <br/>累加器累加回调函数的返回值。</p><p id="ac72" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated"><code class="fe lw lx ly lz b"><strong class="kz io"><em class="ky">Current Value</em></strong></code> <br/>处理数组的当前元素。</p><p id="3f12" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated"><code class="fe lw lx ly lz b"><strong class="kz io"><em class="ky">Current Index</em></strong></code>处理数组当前元素的索引。</p><p id="4668" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated"><code class="fe lw lx ly lz b"><strong class="kz io"><em class="ky">Source Array</em></strong></code> <br/>召唤阵<code class="fe lw lx ly lz b"> reduce()</code>。</p><p id="bb20" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated"><code class="fe lw lx ly lz b"><strong class="kz io">Current Index </strong></code>和<code class="fe lw lx ly lz b"><strong class="kz io">Source Array </strong></code>可选。</p><h2 id="31bf" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak">初始值</strong></h2><p id="0250" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">如果指定了初始值，则累加器被设置为初始元素<code class="fe lw lx ly lz b">initialValue</code>。否则，累加器被设置为数组的第一个元素作为初始元素。</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="1142" class="ma mb in lz b gy nc nd l ne nf">arr.reduce(callback(accumulator, currentValue[,index[,array]])[, initialValue])</span></pre><p id="3f1e" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">在下面的代码片段中，首先<code class="fe lw lx ly lz b">accumulator</code>被赋予初始值0。<code class="fe lw lx ly lz b">currentValue</code>是正在处理的<code class="fe lw lx ly lz b">numbersArr</code>数组的元素。在此，在<code class="fe lw lx ly lz b">accumulator</code>上增加<code class="fe lw lx ly lz b">currentValue</code>。返回值在回调函数的下一次调用中作为参数提供。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Figure 1. (numbersArr array reduce to single value total)</figcaption></figure><p id="007d" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">输出:</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="3a5d" class="ma mb in lz b gy nc nd l ne nf">accumulator is 0 current value is 67<br/>accumulator is 67 current value is 90<br/>accumulator is 157 current value is 100<br/>accumulator is 257 current value is 37<br/>accumulator is 294 current value is 60<br/>total : 354</span></pre><h1 id="1ac7" class="ni mb in bd mc nj nk nl mf nm nn no mi jt np ju ml jw nq jx mo jz nr ka mr ns bi translated"><strong class="ak">JavaScript用例减少</strong></h1><h2 id="db1c" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak"> 1 .将一个数组的所有值相加</strong></h2><p id="7cdf" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">在下面的代码中，<code class="fe lw lx ly lz b">studentResult </code>数组有5个数字。使用<code class="fe lw lx ly lz b">reduce()</code>方法将数组简化为一个值，这个值是<code class="fe lw lx ly lz b">studentResult</code>数组所有值的和，结果被分配给<code class="fe lw lx ly lz b">total</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Figure 2. (sum all the values of the studentResult array)</figcaption></figure><p id="4b80" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">输出:</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="d46f" class="ma mb in lz b gy nc nd l ne nf">354</span></pre><h2 id="ce04" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak"> 2。对象数组中值的总和</strong></h2><p id="5df0" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">通常，我们从后端获取数据作为对象数组。因此，<code class="fe lw lx ly lz b">reduce()</code>方法有助于管理我们的前端逻辑。在下面的代码中，<code class="fe lw lx ly lz b">studentResult</code> object数组有三个主题，它们的标记是object。这里，<code class="fe lw lx ly lz b">currentValue.marks</code>取<code class="fe lw lx ly lz b">studentResult</code>对象数组中每个主体的标记。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Figure 3. (sum of the marks in studentResult object array)</figcaption></figure><p id="7652" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">输出:</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="24e3" class="ma mb in lz b gy nc nd l ne nf">251</span></pre><h2 id="89e5" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak"> 3。展平数组的数组</strong></h2><p id="3a84" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">“展平数组”是指将多维数组转换为一维数组。在下面的代码中，<code class="fe lw lx ly lz b">twoDArr </code> 2D数组被转换为<code class="fe lw lx ly lz b">oneDArr</code>一维数组。这里，第一个[1，2]数组被分配给<code class="fe lw lx ly lz b">accumulator</code>，然后<code class="fe lw lx ly lz b">twoDArr </code>数组的其余元素被连接到<code class="fe lw lx ly lz b">accumulator</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Figure 4. (flatten the twoDArr array)</figcaption></figure><p id="578e" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">输出:</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="aa50" class="ma mb in lz b gy nc nd l ne nf">[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]</span></pre><h2 id="08bb" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak"> 4。按属性对对象进行分组</strong></h2><p id="5230" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">基于对象的属性，我们可以使用<code class="fe lw lx ly lz b">reduce()</code>方法将对象数组分成几组。您可以通过下面的代码片段清楚地理解这个想法。这里，<code class="fe lw lx ly lz b">result</code>对象数组有五个对象，每个对象都有<code class="fe lw lx ly lz b">subject</code>和<code class="fe lw lx ly lz b">marks</code>属性。如果分数大于或等于50，则该科目通过。否则该科目不及格。<code class="fe lw lx ly lz b">reduce()</code>用于将结果分为通过和失败。首先将<code class="fe lw lx ly lz b">initialValue</code>赋值给累加器，然后<code class="fe lw lx ly lz b">push()</code>方法在检查条件后将<code class="fe lw lx ly lz b">current</code>对象添加到<code class="fe lw lx ly lz b">pass</code>和<code class="fe lw lx ly lz b">fail</code>属性中作为对象数组。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Figure 5. (grouping objects by property)</figcaption></figure><p id="4ad8" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">输出:</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="d754" class="ma mb in lz b gy nc nd l ne nf">{<br/> pass: [<br/>  { subject: ‘Chemistry’, marks: 59 },<br/>  { subject: ‘Applied Maths’, marks: 90 },<br/>  { subject: ‘English’, marks: 64 }<br/> ],<br/> fail: [<br/>  { subject: ‘Physics’, marks: 41 },<br/>  { subject: ‘Pure Maths’, marks: 36 }<br/> ]<br/>}</span></pre><h2 id="923a" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak"> 5。移除数组中的重复项</strong></h2><p id="6e5d" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">在下面的代码片段中，删除了<code class="fe lw lx ly lz b">duplicatedArr</code>数组中的重复项。首先，给<code class="fe lw lx ly lz b">accumulator</code>分配一个空数组作为初始值。<code class="fe lw lx ly lz b">accumulator.includes()</code>检查<code class="fe lw lx ly lz b">duplicatedArr</code>阵列的每个元素是否已经在<code class="fe lw lx ly lz b">accumulator</code>中可用。如果<code class="fe lw lx ly lz b">currentValue</code>在<code class="fe lw lx ly lz b">accumulator</code>中不可用，则使用<code class="fe lw lx ly lz b">push()</code>添加。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Figure 6. (Remove duplicates in the duplicatedArr array)</figcaption></figure><p id="df26" class="pw-post-body-paragraph kw kx in kz b la lb jo lc ld le jr lf lt lh li lj lu ll lm ln lv lp lq lr ls ig bi translated">输出:</p><pre class="kd ke kf kg gt my lz mz na aw nb bi"><span id="82ab" class="ma mb in lz b gy nc nd l ne nf">[ 1, 5, 6, 7, 8, 9 ]</span></pre><h2 id="8f0c" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak">结论</strong></h2><p id="d239" class="pw-post-body-paragraph kw kx in kz b la mt jo lc ld mu jr lf lt mv li lj lu mw lm ln lv mx lq lr ls ig bi translated">在本文中，我们讨论了数组约简()方法。首先，介绍了<code class="fe lw lx ly lz b">reduce()</code>法。然后，用一个简单的例子讨论了它的行为。最后，结合实例讨论了<code class="fe lw lx ly lz b">reduce()</code>方法最常见的五种用例。如果您是JavaScript的初学者，本文将对您有所帮助。</p><h2 id="9143" class="ma mb in bd mc md me dn mf mg mh dp mi lt mj mk ml lu mm mn mo lv mp mq mr ms bi translated"><strong class="ak">参考</strong></h2><div class="nt nu gp gr nv nw"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd io gy z fp ob fr fs oc fu fw im bi translated">Array.prototype.reduce()</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">reduce()方法在数组的每个元素上执行一个reduce函数(您提供的),得到单个…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">developer.mozilla.org</p></div></div><div class="of l"><div class="og l oh oi oj of ok km nw"/></div></div></a></div></div></div>    
</body>
</html>