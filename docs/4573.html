<html>
<head>
<title>Create Interactive WebGL-powered Buttons</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建交互式WebGL驱动的按钮</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-interactive-webgl-powered-buttons-dc73f8fda7b8?source=collection_archive---------19-----------------------#2020-12-21">https://javascript.plainenglish.io/create-interactive-webgl-powered-buttons-dc73f8fda7b8?source=collection_archive---------19-----------------------#2020-12-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3b8b0225f75cae7f518561d14a6d12b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ouuMybCUgsm_9ijJrNwqHA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The effect we will be creating.</figcaption></figure><p id="d11a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们可以提高网站转化率的一个方法是增加用户在网站上花费的时间，或者与行动号召按钮互动。这可以间接导致转化率的增加。</p><p id="c6d9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">所以想到这个问题，<em class="kx">我想知道我们是否可以用WebGL做一些很酷的事情，并创建动态按钮</em>，这可能会使用户更有可能想要悬停或关注按钮。一路上，我们会学到一些关于噪音的知识。</p><p id="99d2" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><a class="ae ky" href="https://codepen.io/smpnjn/pen/jOMLZKK" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io">查看CodePen Demo </strong> </a></p><h1 id="ad6b" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">第一步。用WebGL设置场景</h1><p id="8906" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw ig bi translated">首先要做的是使用Three.js编写一点JavaScript。我在这里所做的是创建一个单一的平面几何体，我将它传递给着色器。我给每个人都做了一个。按钮元素，允许我们进一步定制。我还添加了一些代码，允许每个按钮的颜色根据它在DOM中的顺序改变——例如，第一个按钮是粉红色的，第二个是橙色的，等等。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="08e6" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">上面的统一变量被传递到片段和顶点着色器上，所以当我们在JS中更新它们时，它们会在画布上更新。</p><p id="113a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">使用这个我们可以放大悬停和点击效果。在GitHub repo和CodePen中，我们添加了一些更高级的功能，允许我们跟踪元素的当前操作，以及鼠标从哪里进入。基于此，它将调整WebGL画布的动画，给出一个非常酷的悬停和聚焦效果，如下所示:</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mi mh l"/></div></figure><h1 id="977a" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">第二步。着色器和噪波</h1><p id="1deb" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw ig bi translated">对于任何不熟悉着色器的人来说，着色器可以获取我们之前定义的几何信息，操纵它们，并将它们发送到GPU。WebGL中有两个着色器，<strong class="kb io">顶点</strong>(操纵多边形位置)和<strong class="kb io">片段</strong>(操纵多边形颜色)。</p><p id="62b9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">我们可以用着色器创建效果的主要方法之一是使用噪波。</strong>噪点可以给效果添加随机性和真实感，但会改变点。我们今天要用的噪声叫做分形布朗运动(fbm)。我使用的一些代码是对着色器手册上的内容的修改，但也有您可能感兴趣的不同噪波函数的完整GitHub repo。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/3ee092e5252f1b51047fc25a2d825624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*Jo-KyHdEIZBVL4W_O9xDTw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">An example of what FBM can generate</figcaption></figure><p id="b4b4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">使用FBM，我们改变片段着色器来输出效果。查看所有代码的完整着色器，但我们使用了一个名为fbm的噪波函数(可以在GitHub repo的<em class="kx"> shaders/noise.glsl </em>中找到)。关于我们为什么在代码中做一些事情的更多信息，请看下面的评论。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="2694" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="1d44" class="pw-post-body-paragraph jz ka in kb b kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks mb ku kv kw ig bi translated"><strong class="kb io">就这样！用WebGL创建一些非常棒的效果比你想象的要容易得多，希望这不仅能给你一些很酷的按钮，还能为将来如何创建这些东西打下基础。以下资源:</strong></p><ul class=""><li id="a15f" class="mk ml in kb b kc kd kg kh kk mm ko mn ks mo kw mp mq mr ms bi translated"><a class="ae ky" href="https://github.com/smpnjn/webgl-vortex-buttons" rel="noopener ugc nofollow" target="_blank"> GitHub回购</a></li><li id="e63b" class="mk ml in kb b kc mt kg mu kk mv ko mw ks mx kw mp mq mr ms bi translated"><a class="ae ky" href="https://codepen.io/smpnjn/pen/jOMLZKK" rel="noopener ugc nofollow" target="_blank"> CodePen演示</a></li></ul></div></div>    
</body>
</html>