<html>
<head>
<title>JavaScript — Toggle an Element’s View Without Removing From The DOM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript —切换元素视图，而不从DOM中移除</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-toggle-an-elements-view-without-removing-from-the-dom-4a43ce11598a?source=collection_archive---------5-----------------------#2020-01-09">https://javascript.plainenglish.io/javascript-toggle-an-elements-view-without-removing-from-the-dom-4a43ce11598a?source=collection_archive---------5-----------------------#2020-01-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="616a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个很酷的技巧:对用户隐藏元素，而不从DOM中移除。</p><p id="2f48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们如何做到这一点？这是你的基础教程。</p><p id="42fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是我为了演示而创建的一个HTML文件:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/2c7ec43deeaeefddeba6b8461a2cc5ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*_zEPqbqQX7L58HIrmBIWXQ.png"/></div></figure><p id="bde4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是用户加载页面时呈现的内容:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi kt"><img src="../Images/413f455c9754511f4c0651f32e236422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*15La58Py-n0TgeeuvJckqw.png"/></div></div></figure><p id="8a7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本演练的目标是让我们点击“删除假货”按钮，切换我们的Elon Musk meme的视图。</p><p id="8059" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在要做的是创建一个链接到HTML文件的javascript文件。为了简单起见，我们姑且称之为‘index . js’。</p><p id="a475" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们可以将下面的标签放在HTML文件中body标签的底部，如下所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/f5b17c0e3561a80efd42e9e3b518e28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*bDSrR-l4rKqTa2Eo4UAi9g.png"/></div></figure><p id="8fe3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们开始编辑我们的index.js文件！</p><p id="d96b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们首先使用querySelector方法从DOM中获取一些元素:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/2df3e4a723ce85cf63a9292243ba0dc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*kvqfpxKQy5RmEgcoNze_tw.png"/></div></figure><p id="5444" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">既然我们已经有了一些DOM节点，我们现在可以向按钮添加一个事件侦听器，如下所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi la"><img src="../Images/addfd1e7e4e4c04fb58bfe9f405bc838.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*zlu_DVb14IPA4YvdEUeNAg.png"/></div></figure><p id="5d9d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们单击按钮时，我们希望现在使图像消失，然后如果我们单击它，它会重新出现。这就是CSS知识派上用场的地方。</p><p id="71a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在要做的是在事件监听器代码块中实现一个条件语句。还是用伪代码写出来吧！</p><pre class="km kn ko kp gt lb lc ld le aw lf bi"><span id="f27d" class="lg lh iq lc b gy li lj l lk ll">if (theImage === notShowing) <br/>   then(theImage === showing)<br/>else if (theImage === showing)<br/>  then(theImage === notShowing)</span></pre><p id="00bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们看看这在实际的JavaScript代码中是什么样子的</p><pre class="km kn ko kp gt lb lc ld le aw lf bi"><span id="bcc3" class="lg lh iq lc b gy li lj l lk ll">button.addEventListener('click', function(e){</span><span id="8798" class="lg lh iq lc b gy lm lj l lk ll">   if(img.style.display=== 'none'){</span><span id="6880" class="lg lh iq lc b gy lm lj l lk ll">      img.style.display = 'block';</span><span id="2f28" class="lg lh iq lc b gy lm lj l lk ll">   }else{</span><span id="3014" class="lg lh iq lc b gy lm lj l lk ll">      img.style.display = 'none'</span><span id="d476" class="lg lh iq lc b gy lm lj l lk ll">   }</span><span id="440e" class="lg lh iq lc b gy lm lj l lk ll">})</span></pre><p id="2873" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个条件所做的是首先检查图像当前是否没有显示。这是通过调用CSS属性“display”来完成的。Display可以采用几个不同的值，尽管出于本教程的考虑，我们将在值“block”和“none”之间来回切换。</p><p id="14ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果图像的显示是“none ”,那么我们将它设置为“block ”,从而将其渲染到我们的视图中。如果图像显示不是“无”，那么我们将设置显示等于“无”，从而将其从视图中移除。</p><p id="62da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，每当我们点击页面上的按钮时，埃隆·马斯克就会进出我们的视线，同时仍然留在DOM中。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ln"><img src="../Images/bb542e36f6a690c021fbe0c230b7bc75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2cy6xlJj5fSUE3u9laEaQ.png"/></div></div></figure></div></div>    
</body>
</html>