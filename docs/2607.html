<html>
<head>
<title>Useful JavaScript Tips — String, Removing Item, and Timers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的JavaScript技巧——字符串、删除项目和计时器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/useful-javascript-tips-string-removing-item-and-timers-ac4a696d5f30?source=collection_archive---------7-----------------------#2020-07-08">https://javascript.plainenglish.io/useful-javascript-tips-string-removing-item-and-timers-ac4a696d5f30?source=collection_archive---------7-----------------------#2020-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7c57ba9ca03734b902bca5781f4d5ef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iioZDc8MmPmE3Fgn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jacquesbopp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jacques Bopp</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f372" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些应该遵循的技巧，以便更快更好地编写JavaScript代码。</p><h1 id="59c3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将字符串的第一个字母大写</h1><p id="ca74" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过获取第一个字母并使其大写来使字符串的第一个字符大写。</p><p id="a788" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将字符串的其余部分附加到第一个字母上。</p><p id="d065" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下内容:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c379" class="mn lc iq mj b gy mo mp l mq mr">const name = 'joe'<br/>const capitalized = name[0].toUpperCase() + name.slice(1)</span></pre><p id="aaab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe ms mt mu mj b">“Joe”</code>作为<code class="fe ms mt mu mj b">capitalized</code>的值。</p><h1 id="5c67" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">从数组中删除项目</h1><p id="4ae7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用索引从数组中移除一个项。</p><h2 id="aefb" class="mn lc iq bd ld mv mw dn lh mx my dp ll ko mz na lp ks nb nc lt kw nd ne lx nf bi translated">移除单个项目</h2><p id="9930" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">例如，给定数组的索引，我们可以如下使用<code class="fe ms mt mu mj b">slice</code>。</p><p id="7c55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7a3d" class="mn lc iq mj b gy mo mp l mq mr">const items = ['foo', 'bar', 'baz'];<br/>const i = 1;<br/>const filteredItems = items.slice(0, i).concat(items.slice(i + 1, items.length));</span></pre><p id="b14b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe ms mt mu mj b">slice</code>来获取数组中不包括索引<code class="fe ms mt mu mj b">i</code>的部分。</p><p id="869f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们使用<code class="fe ms mt mu mj b">concat</code>将切片与数组的其余部分以及索引<code class="fe ms mt mu mj b">i</code>中的项目连接起来。</p><p id="da68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，我们从<code class="fe ms mt mu mj b">i + 1</code>开始。</p><p id="cc05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以在没有给定项或值本身的索引的情况下调用<code class="fe ms mt mu mj b">filter</code>。</p><p id="6bdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="64b4" class="mn lc iq mj b gy mo mp l mq mr">const items = ['foo', 'bar', 'baz'];<br/>const <!-- -->valueToRemove <!-- -->= 'bar';<br/>const filteredItems = items.filter(item =&gt; item !== <!-- -->valueToRemove);</span></pre><p id="acc0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以对指数做同样的事情:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d561" class="mn lc iq mj b gy mo mp l mq mr">const items = ['foo', 'bar', 'baz'];<br/>const i = 1;<br/>const filteredItems = items.filter((_, index) =&gt; index !== <!-- -->i);</span></pre><h2 id="f5d0" class="mn lc iq bd ld mv mw dn lh mx my dp ll ko mz na lp ks nb nc lt kw nd ne lx nf bi translated">移除多个项目</h2><p id="6aeb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过编写以下内容，按索引删除多个项目:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="eaf5" class="mn lc iq mj b gy mo mp l mq mr">const items = ['foo', 'bar', 'baz', 'qux'];<br/>const indexes = [1, 2];<br/>const filteredItems = items.filter((_, index) =&gt; !indexes.includes(index)<!-- -->);</span></pre><p id="7cbe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以对值本身使用<code class="fe ms mt mu mj b">includes</code>方法。</p><p id="94a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cfd6" class="mn lc iq mj b gy mo mp l mq mr">const items = ['foo', 'bar', 'baz', 'qux'];<br/>const valuesToRemove = ['foo', 'qux'];<br/>const filteredItems = items.filter(item =&gt; !valuesToRemove.includes(item)<!-- -->);</span></pre><p id="8746" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">slice</code>和<code class="fe ms mt mu mj b">filter</code>不变异原数组，所以比变异数组好。</p><h1 id="7998" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查字符串是否有子串</h1><p id="3be8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe ms mt mu mj b">includes</code>方法检查一个字符串是否有子串。</p><p id="4760" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ac27" class="mn lc iq mj b gy mo mp l mq mr">'I like dogs'.includes('dogs')</span></pre><p id="7e77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么这会返回<code class="fe ms mt mu mj b">true</code>，因为<code class="fe ms mt mu mj b">'dogs'</code>在字符串中。</p><p id="78f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">includes</code>也使用索引的第二个参数开始搜索。</p><p id="95fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="bd36" class="mn lc iq mj b gy mo mp l mq mr">'I like dogs'.includes('dogs', 11)</span></pre><p id="7930" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe ms mt mu mj b">includes</code>从11开始搜索，所以我们得到<code class="fe ms mt mu mj b">false</code>，因为它不在从索引11开始的子串中。</p><p id="f23a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以使用<code class="fe ms mt mu mj b">indexOf</code>方法。</p><p id="2140" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它采用相同的参数，除了我们比较了返回的索引。</p><p id="a0a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="48ce" class="mn lc iq mj b gy mo mp l mq mr">'I like dogs'.indexOf('dogs') !== -1</span></pre><p id="5d2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe ms mt mu mj b">indexOf</code>找不到给定的子串，则返回1。否则，它将返回子串的索引。</p><p id="8cda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以传入索引开始搜索:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a055" class="mn lc iq mj b gy mo mp l mq mr">'I like dogs'.indexOf('dogs', 11) !== -1</span></pre><h1 id="67b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">计时器</h1><p id="af5a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript为我们提供了<code class="fe ms mt mu mj b">setTimeout</code>函数来延迟JavaScript代码的执行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7af3" class="mn lc iq mj b gy mo mp l mq mr">setTimeout(() =&gt; {<br/>  // ...<br/>}, 2000)</span></pre><p id="8dfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后代码在2秒钟后运行。</p><p id="b8b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下代码将参数传递给回调函数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e9af" class="mn lc iq mj b gy mo mp l mq mr">const callback = (firstParam, secondParam) =&gt; {<br/>  // ...<br/>}</span><span id="2102" class="mn lc iq mj b gy ng mp l mq mr">setTimeout(callback, 2000, firstParam, secondParam)</span></pre><p id="691b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe ms mt mu mj b">firstParam</code>和<code class="fe ms mt mu mj b">secondParam</code>被传递到<code class="fe ms mt mu mj b">callback</code>函数中。</p><p id="fdaa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">setTimeout</code>返回一个定时器ID。</p><p id="2efd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以调用<code class="fe ms mt mu mj b">clearTimeout</code>来删除内存中的计时器。</p><p id="e16c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="44d0" class="mn lc iq mj b gy mo mp l mq mr">const timer = setTimeout(() =&gt; {<br/>  // ...<br/>}, 2000)</span><span id="7507" class="mn lc iq mj b gy ng mp l mq mr">clearTimeout(timer)</span></pre><p id="4676" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe ms mt mu mj b">clearTimeout</code>来移除计时器。</p><p id="12da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将延迟设置为零。然后回调被排队，并在同步代码运行后无延迟地运行。</p><p id="d334" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="98d7" class="mn lc iq mj b gy mo mp l mq mr">setTimeout(() =&gt; {<br/>  //...<br/>}, 0)</span></pre><p id="c690" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">setInterval</code>函数类似于<code class="fe ms mt mu mj b">setTimeout</code>，但是回调是在一个区间内运行的。</p><p id="7112" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="406f" class="mn lc iq mj b gy mo mp l mq mr">setInterval(() =&gt; {<br/>  // ...<br/>}, 2000)</span></pre><p id="211c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后回调每2秒运行一次。</p><p id="52c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和<code class="fe ms mt mu mj b">setTimeout</code>一样，我们可以用<code class="fe ms mt mu mj b">clearInterval</code>停止回调运行。</p><p id="b704" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="322c" class="mn lc iq mj b gy mo mp l mq mr">const id = setInterval(() =&gt; {<br/>  // ...<br/>}, 2000)</span><span id="2074" class="mn lc iq mj b gy ng mp l mq mr">clearInterval(id)</span></pre><p id="fba7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过使用带有返回ID的<code class="fe ms mt mu mj b">clearInterval</code>来清除计时器。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/a393a2b35ea0db4f74fcb479e0787025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HXqOK1IVw33EwOAc"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@pafuxu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kouji Tsuru</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3402" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="aab6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe ms mt mu mj b">toUpperCase</code>方法大写一个字符串的第一个字母。</p><p id="872e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从数组中移除一个项有很多种方法。</p><p id="e1a4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用计时器在一定间隔或延迟后运行代码。</p><h2 id="bb59" class="mn lc iq bd ld mv mw dn lh mx my dp ll ko mz na lp ks nb nc lt kw nd ne lx nf bi translated">简单英语的JavaScript</h2><p id="169c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>