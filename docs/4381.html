<html>
<head>
<title>Multiple ways to flatten a JavaScript array; there’s more than one way to skin a 🙀.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多种方法展平JavaScript数组；有不止一种方法来皮肤🙀。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/multiple-ways-to-flatten-a-javascript-array-theres-more-than-one-way-to-skin-a-e5dc2762e8e6?source=collection_archive---------9-----------------------#2020-12-07">https://javascript.plainenglish.io/multiple-ways-to-flatten-a-javascript-array-theres-more-than-one-way-to-skin-a-e5dc2762e8e6?source=collection_archive---------9-----------------------#2020-12-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c586" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们看看如何在JavaScript中展平一个<code class="fe kf kg kh ki b">array</code>。尤其是如何展平<code class="fe kf kg kh ki b">integers</code>的任意嵌套<code class="fe kf kg kh ki b">arrays</code>的一个<code class="fe kf kg kh ki b">array</code>。</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/97637915f942e87de0eb8b7c75230b7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8uErISuz2jGRcdixWtfCDA.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Image by <a class="ae kz" href="https://pixabay.com/users/ulleo-1834854/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1903316" rel="noopener ugc nofollow" target="_blank">Ulrike Leone</a> from <a class="ae kz" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1903316" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><h1 id="a07f" class="la lb iq bd lc ld le lf lg lh li lj lk jw ll jx lm jz ln ka lo kc lp kd lq lr bi translated">Array.flat()</h1><p id="8f64" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference" rel="noopener ugc nofollow" target="_blank"> Mozilla </a> doc说<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> Array.flat() </strong> </a>方法通过递归地将所有子数组串联到您指定的深度来生成一个新数组。</p><p id="18d1" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">简单地说，如果你有一个数组的数组(也许里面有更多的数组)，<strong class="lu ir"> flat() </strong>将帮助你把所有的条目连接到一个数组中🤗。</p><p id="1a68" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><strong class="lu ir"> flat( </strong> <a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat" rel="noopener ugc nofollow" target="_blank"> <em class="mt">【深度】</em> </a> <strong class="lu ir"> ) </strong>接受递归深度作为参数。但是，这是可选的，默认情况下设置为1。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">flat() or flat(1) both are the same</figcaption></figure><h2 id="5d41" class="mw lb iq bd lc mx my dn lg mz na dp lk mb nb nc lm mf nd ne lo mj nf ng lq nh bi translated">深度嵌套数组</h2><p id="8e1c" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">如果你不知道你给定的数组嵌套有多深，不要害怕！你已经<code class="fe kf kg kh ki b"><strong class="lu ir">Infinity</strong></code>去营救🦸.了</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk"><code class="fe kf kg kh ki b"><strong class="ak">Infinity</strong></code></figcaption></figure><p id="318d" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><strong class="lu ir"> flat() </strong>也会处理数组中的空槽，<strong class="lu ir">但不会删除</strong> <code class="fe kf kg kh ki b"><strong class="lu ir">null</strong></code> <strong class="lu ir"> <em class="mt">、</em> </strong> <code class="fe kf kg kh ki b"><strong class="lu ir">undefined</strong></code>或<strong class="lu ir"> </strong> <code class="fe kf kg kh ki b"><strong class="lu ir">""</strong></code> <strong class="lu ir"> </strong>。嗯，🤔我们该如何处理？继续读这篇文章，你可能会找到一种方法😉。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Flat omits empty slots</figcaption></figure><h1 id="991d" class="la lb iq bd lc ld le lf lg lh li lj lk jw ll jx lm jz ln ka lo kc lp kd lq lr bi translated">Array.toString()或模板文字</h1><p id="cc02" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">你可以把一个<code class="fe kf kg kh ki b">array</code>转换成一个<code class="fe kf kg kh ki b">string</code>，然后用<code class="fe kf kg kh ki b">","</code>把它分割成一个新的<code class="fe kf kg kh ki b">string</code>，然后再把它转换回一个<code class="fe kf kg kh ki b">array</code>，这将会给你一个扁平的数组。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Flattening by stringifying an array</figcaption></figure><h1 id="68be" class="la lb iq bd lc ld le lf lg lh li lj lk jw ll jx lm jz ln ka lo kc lp kd lq lr bi translated"><code class="fe kf kg kh ki b">Ways to handle null</code>，<code class="fe kf kg kh ki b">undefined or ""</code></h1><p id="a40b" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">如前所述，使用<strong class="lu ir"> flat() </strong>将从数组中移除空槽，但不会移除<code class="fe kf kg kh ki b">null</code>、<code class="fe kf kg kh ki b">undefined</code>或<code class="fe kf kg kh ki b">""</code>。使用<strong class="lu ir"> toString() </strong>你可能需要做更多的操作。但是不管你选择什么，我们都可以使用<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"><strong class="lu ir"/></a>与<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir">布尔</strong> </a>函数。这将允许我们忽略不真实的项目。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Handling <code class="fe kf kg kh ki b">null</code>, <code class="fe kf kg kh ki b">undefined or ""</code></figcaption></figure></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="f891" class="la lb iq bd lc ld np lf lg lh nq lj lk jw nr jx lm jz ns ka lo kc nt kd lq lr bi translated">一些其他的选择，如果你正在处理一个层次的深度数组。</h1><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Other options</figcaption></figure><p id="7bd8" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">还有其他方法可以达到同样的目标，如果你考虑加入<strong class="lu ir"> Array.reduce()，</strong>我建议先看这个视频…，也许<strong class="lu ir">减少减少？</strong></p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nu mv l"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Is reduce bad?</figcaption></figure></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="7be8" class="mw lb iq bd lc mx my dn lg mz na dp lk mb nb nc lm mf nd ne lo mj nf ng lq nh bi translated">感谢阅读😀</h2></div></div>    
</body>
</html>