<html>
<head>
<title>Using JavaScript Sets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript集</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-javascript-sets-37752330682d?source=collection_archive---------4-----------------------#2019-11-29">https://javascript.plainenglish.io/using-javascript-sets-37752330682d?source=collection_archive---------4-----------------------#2019-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a8f0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一些有趣的用法、观察和陷阱</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ecb936f48ef848d1ad5a556433d6df7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VLnu2triJ4ME3PvUAtQMgQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by Guillaume Bolduc on <a class="ae kv" href="https://unsplash.com" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ac9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di"> J </span> avaScript集合是保存<strong class="ky ir">唯一</strong>值集合的好方法。由于它们存储值，人们可能会认为它们类似于数组，<strong class="ky ir">但它们完全不同。</strong></p><blockquote class="mb mc md"><p id="5c8a" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">在这篇文章中，我想让我们了解集合的基本知识，回顾一些用法和一些“陷阱”</p></blockquote><p id="2fcb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript集合、属性和方法的完整解释可以在<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="eaca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">基础知识</strong></p><p id="1668" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mi mj mk ml b"><strong class="ky ir">Set</strong></code>对象允许您存储任何类型的<strong class="ky ir">唯一</strong>值，无论是<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" rel="noopener ugc nofollow" target="_blank">原始值</a>还是对象引用。</p><p id="a1f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的关键字是唯一的。我们马上会看到，即使我们用非唯一值填充一个集合，它也只返回唯一值。大多数情况下。就等着吧！</p><p id="4a7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">语法是，</p><pre class="kg kh ki kj gt mm ml mn mo aw mp bi"><span id="3a2d" class="mq mr iq ml b gy ms mt l mu mv">new Set([<em class="me">iterable</em>]);</span></pre><p id="b4b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果一个<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" rel="noopener ugc nofollow" target="_blank">可迭代对象</a>被传递，它的所有元素将被添加到新的<code class="fe mi mj mk ml b">Set</code>中。如果不指定这个参数，或者它的值是<code class="fe mi mj mk ml b">null</code>，新的<code class="fe mi mj mk ml b">Set</code>为空。</p><p id="5014" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可迭代的T21的概念在这里也很重要。典型的可迭代对象是<strong class="ky ir">字符串、数组和映射</strong>(还有其他的。)</p><blockquote class="mb mc md"><p id="2ac2" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">如果你读过我的一些其他文章，你会意识到我经常从问题开始。这是通过“解决问题”让我们有更深的理解。</p></blockquote><h2 id="50d6" class="mq mr iq bd mw mx my dn mz na nb dp nc lf nd ne nf lj ng nh ni ln nj nk nl nm bi translated">示例1</h2><p id="c55d" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">注意这可能是<strong class="ky ir">非直觉行为</strong>。这里我们将创建一个整数数组，非常简单。<em class="me">但随后尝试创建一组相同的整数。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/c688d6eeb4ea23cdd46db592cbd6e3c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*x4PjK8543Ksz1mc3xPMR_A.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Arrays of integers</figcaption></figure><p id="a103" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们试着创建一组相同的整数。请注意调试器消息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/3f7ab478589fede182ce5f5d79c04662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*f_xUjfZmgF5hQA3caqGCbQ.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Epic fail</figcaption></figure><p id="4735" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用<strong class="ky ir">再试一次。</strong>条目()【方法】集合。</p><p id="e7f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">。entries() </strong>集合的方法返回一个iterable对象。</p><p id="2259" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也将失败。但是你至少你现在知道有一个. entries()方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/b6f3a24aa96df3e2b0c4f2ce2b03f714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*kqDgYYqiOJ9skxMsxVVwgA.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Same error</figcaption></figure><p id="d0a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题显然是我们如何定义这个集合。如定义中所述，当创建一个新的集合对象时，<strong class="ky ir">它必须被传递一个iterable对象。</strong></p><p id="07fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者</p><p id="281d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以<em class="me">创建一个空集</em>并使用它的<strong class="ky ir">。添加()</strong>方法。</p><blockquote class="mb mc md"><p id="1c4a" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">我们将首先使用后一种方法，并在集合的有趣应用中使用第一种方法。</p></blockquote><p id="fb1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们也将看到一个集合有一个<strong class="ky ir">。尺寸</strong>属性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/90a09ad0fb3d2dbc3cfab180143ec031.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*7NQ5bNW276igjFhrr8B77Q.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Notice unique list of 4 items</figcaption></figure><blockquote class="mb mc md"><p id="2969" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">太美了。不仅如此，作为一个集合，它只包含<strong class="ky ir">独特的</strong>值。</p></blockquote><h2 id="57b3" class="mq mr iq bd mw mx my dn mz na nb dp nc lf nd ne nf lj ng nh ni ln nj nk nl nm bi translated">使用集合获取唯一值的数组</h2><p id="37df" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">由于集合在创建时要么是空的，并且具有如上所述添加的项<strong class="ky ir">或者可以传递给可迭代对象</strong>，例如数组(提示，提示)，我们可以用它来获得唯一值的数组。</p><blockquote class="mb mc md"><p id="8919" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">因此，我们将学习另一种方法来得到我们的整数集，但也是对集合的一种巧妙的使用。</p></blockquote><h2 id="a5dc" class="mq mr iq bd mw mx my dn mz na nb dp nc lf nd ne nf lj ng nh ni ln nj nk nl nm bi translated">示例2</h2><p id="c862" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">使用集合构建唯一对象的数组。</p><p id="53fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这样做的过程中，我们会注意到一些其他可能的、不那么直观的东西。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/295f79fd53e5a2aa41bd8a5f4a9c470f.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*W1B7x-Xf1YaOUsmfxmffnw.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Notice what the Set contains</figcaption></figure><h2 id="169b" class="mq mr iq bd mw mx my dn mz na nb dp nc lf nd ne nf lj ng nh ni ln nj nk nl nm bi translated">观察</h2><ul class=""><li id="f3b2" class="nx ny iq ky b kz nn lc no lf nz lj oa ln ob lr oc od oe of bi translated">设置<strong class="ky ir">不</strong>包含一个项目，数组。(那是我们将解决的一个不同的问题。)</li><li id="6dfc" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">数组被<strong class="ky ir">解构</strong>并将元素放入集合中。</li><li id="3693" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">我们确实有一套独特的价值观。</li></ul></div><div class="ab cl ol om hu on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ij ik il im in"><p id="afbb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这就引出了一个问题。如果阵列被解构，我们能有一套阵列吗？答案是肯定的！我们以后会探讨这个问题。当我们到达那里时，密切关注它是如何完成的。</strong></p></div><div class="ab cl ol om hu on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ij ik il im in"><p id="9624" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">回到获取我们的唯一值数组</strong></p><p id="e390" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有自己独特的价值观，但它们被锁在一个集合中。我们如何让他们回到阵列中？</p><p id="0d27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们<strong class="ky ir">不能只说这样的话，</strong></p><p id="6bdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让unique =[S1]；</p><p id="9bac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将创建一个由一个项目组成的数组。一个项目是集合。我们需要“传播”这套价值观。<strong class="ky ir">我们将使用</strong> <a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">散布</strong> </a> <strong class="ky ir"> …运算符。</strong></p><blockquote class="mb mc md"><p id="d4ce" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">扩展语法</strong>允许在预期有零个或多个参数(用于函数调用)或元素(用于数组文字)的地方扩展数组表达式或字符串等可选项，或者在预期有零个或多个键值对(用于对象文字)的地方扩展对象表达式。</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/a8ad57ded2bcb8081d93517eceddb264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*UZECjMgCE_eXXGOYi-daLg.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A Set and the Spread operator at work</figcaption></figure><h2 id="b4b3" class="mq mr iq bd mw mx my dn mz na nb dp nc lf nd ne nf lj ng nh ni ln nj nk nl nm bi translated">数组的集合</h2><p id="ef58" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">我们之前提到过，因为数组在作为参数传递给一个新集合时是被解构的，所以创建一个数组集合有点困难。但是，这是可以做到的！</p><p id="014b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先注意一些问题。)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/ee4294ef428cfa3962a6f8b1c8941942.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*4JgRvUlEYPmuWqnByB0KqQ.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">It ignored a2</figcaption></figure><p id="fb0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题很明显，我们没有在构造函数中传递iterable。嗯，我们算是做了。所以我们得到了一个奇怪的结果，一个包含第一个数组项的集合。<em class="me">这是一个真正的“陷阱”。它没有抛出异常，只是给出了一个奇怪的结果。</em></p><p id="cd38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">空集和。加()再次出手相救！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/15d3c3b20fd30621618a582d2014621e.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*yM-li2z4wJelBL56wf1VIw.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A nice Set of 3 Arrays</figcaption></figure><p id="be50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一个例子。<strong class="ky ir">如果两个数组的值相同，我们会得到什么？</strong>好奇的人想知道！</p><h2 id="2b80" class="mq mr iq bd mw mx my dn mz na nb dp nc lf nd ne nf lj ng nh ni ln nj nk nl nm bi translated">示例3</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/0824d5f3ee07a9da1772b40b3c57fc67.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*cRISkfO4IwxDiAjXkJ3a8w.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Hmmm</figcaption></figure><p id="32ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也许这就是你所期望的，也许不是。</p><p id="33f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">乍一看，有人可能会认为，由于集合包含唯一的项目，数组a3可能不会显示，集合s2的大小应该是2。</p><p id="1ff5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是不行。为什么？更完整的解释请阅读<a class="ae kv" href="https://link.medium.com/bdr1puAKS0" rel="noopener">这个</a>但是要点是数组不是原始的，所以我们得到的是对它们在内存中位置的引用，这对于每个数组都是不同的，因此，<em class="me">它们是唯一的。</em></p><h1 id="fd61" class="ow mr iq bd mw ox oy oz mz pa pb pc nc jw pd jx nf jz pe ka ni kc pf kd nl pg bi translated">结论</h1><p id="0209" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">布景很酷。但它们可能很棘手。它们让我们非常仔细地思考片场会有什么，以及<strong class="ky ir">如何</strong>将物品放入片场。</p><p id="bfe9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还看到了一种从非唯一值数组创建唯一值数组的简单方法。</p><p id="bbab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还有其他的属性和方法，那就去探索吧。甚至可以尝试创建一组集合。</p><p id="2c4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顺便说一句。所有集合中的一个集合包含它自身吗？</p><p id="122b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">感谢您的阅读和快乐编码！</strong></p><p id="3354" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Medium上阅读所有你想要的文章，并通过成为Medium会员来帮助我继续写作，每月只需5美元。</p><div class="ph pi gp gr pj pk"><a href="https://bobtomlin-70659.medium.com/membership" rel="noopener follow" target="_blank"><div class="pl ab fo"><div class="pm ab pn cl cj po"><h2 class="bd ir gy z fp pp fr fs pq fu fw ip bi translated">通过我的推荐链接加入灵媒——重力井(罗伯·汤姆林)</h2><div class="pr l"><h3 class="bd b gy z fp pp fr fs pq fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ps l"><p class="bd b dl z fp pp fr fs pq fu fw dk translated">bobtomlin-70659.medium.com</p></div></div><div class="pt l"><div class="pu l pv pw px pt py kp pk"/></div></div></a></div><p id="01f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以享受，</p><div class="ph pi gp gr pj pk"><a href="https://medium.com/javascript-in-plain-english/javascript-multi-dimensional-arrays-7186e8edd03" rel="noopener follow" target="_blank"><div class="pl ab fo"><div class="pm ab pn cl cj po"><h2 class="bd ir gy z fp pp fr fs pq fu fw ip bi translated">JavaScript多维数组</h2><div class="pr l"><h3 class="bd b gy z fp pp fr fs pq fu fw dk translated">真相大白了</h3></div><div class="ps l"><p class="bd b dl z fp pp fr fs pq fu fw dk translated">medium.com</p></div></div><div class="pt l"><div class="pz l pv pw px pt py kp pk"/></div></div></a></div></div></div>    
</body>
</html>