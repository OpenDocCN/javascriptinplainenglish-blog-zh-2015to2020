<html>
<head>
<title>Solving Common Vue Problems — Props and Dynamic Components and More</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解决常见的Vue问题——道具和动态组件等</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/solving-common-vue-problems-props-and-dynamic-components-and-more-652dd5095284?source=collection_archive---------0-----------------------#2020-06-30">https://javascript.plainenglish.io/solving-common-vue-problems-props-and-dynamic-components-and-more-652dd5095284?source=collection_archive---------0-----------------------#2020-06-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/642ff642e1b324fe13ec2f4a360234d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y7yDKXk-SWGcNvoM"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@michaelrmims?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Michael Mims</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0173" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue.js使开发前端应用程序变得容易。然而，我们仍然有可能遇到问题。</p><p id="0df2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将查看一些常见问题，并了解如何解决它们。</p><h1 id="7558" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将道具传递给动态组件</h1><p id="49bc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">v-bind</code>指令将道具传递给动态组件。</p><p id="7af2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="31d1" class="mq lc iq mh b gy mr ms l mt mu">&lt;component :is="currentComponent" v-bind="currentProps"&gt;&lt;/component&gt;</span></pre><p id="fef0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了显示动态组件，我们添加了带有<code class="fe me mf mg mh b">is</code>道具的<code class="fe me mf mg mh b">component</code>组件。</p><p id="ad2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">currentComponent</code>是带有组件名称的字符串。</p><p id="144f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">v-bind</code>有一个带有道具的物体，我们想传递给现在正在渲染的组件。</p><p id="c553" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">currentProperties</code>拥有或返还道具的东西。</p><p id="d492" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了根据不同的组件名称传递不同的道具，我们可以使<code class="fe me mf mg mh b">currentProperties</code>成为一个计算属性。</p><p id="3dff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2df7" class="mq lc iq mh b gy mr ms l mt mu">data() {<br/>  return {<br/>    currentComponent: 'fooComponent',<br/>  }<br/>},<br/>computed: {<br/>  currentProps() {<br/>    if (this.currentComponent === 'fooComponent') {<br/>      return { foo: 'bar' }<br/>    }<br/>  }<br/>}</span></pre><p id="d53f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">currentProps</code>在给定组件名称的情况下，返回我们想要传递的道具。</p><p id="ea16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以将一个对象传递给<code class="fe me mf mg mh b">v-bind</code>，这样我们就可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5468" class="mq lc iq mh b gy mr ms l mt mu">&lt;component :is="currentComponent" v-bind="{ foo: 'bar' }"&gt;&lt;/component&gt;</span></pre><h1 id="7562" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">通过@click调用多个函数</h1><p id="434b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在为<code class="fe me mf mg mh b">@click</code>设定的值中调用任意多个函数。</p><p id="2f9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6314" class="mq lc iq mh b gy mr ms l mt mu">&lt;div @click="fn1(); fn2();"&gt;&lt;/div&gt;</span></pre><p id="96e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f4f1" class="mq lc iq mh b gy mr ms l mt mu">&lt;div v-on:click="fn1(); fn2();"&gt;&lt;/div&gt;</span></pre><h1 id="d5b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在Vue CLI项目上设置favicon.ico</h1><p id="6972" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将<code class="fe me mf mg mh b">favicon,ico</code>放在<code class="fe me mf mg mh b">public</code>文件夹中。</p><p id="4da3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">index.html</code>中，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="28f4" class="mq lc iq mh b gy mr ms l mt mu">&lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;</span></pre><p id="d584" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让Vue CLI插值<code class="fe me mf mg mh b">BASE_URL</code>的路径。</p><h1 id="9f5a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">未知自定义元素错误</h1><p id="2065" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们得到未知的自定义元素错误，这意味着我们忘记注册组件。</p><p id="e2ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如:如果我们想引用<code class="fe me mf mg mh b">example-component</code>，首先要写注册:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="92c3" class="mq lc iq mh b gy mr ms l mt mu">components: {<br/>  '<!-- -->example-component'<!-- -->: ExampleComponent<br/>},</span></pre><p id="5826" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的组件对象中。</p><p id="882a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以在模板中通过书写引用:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b565" class="mq lc iq mh b gy mr ms l mt mu">&lt;<!-- -->example-component&gt;...&lt;/example-component&gt;</span></pre><h1 id="60b1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将计算属性与v-for一起使用</h1><p id="c561" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以像使用任何其他属性一样，使用带有<code class="fe me mf mg mh b">v-for</code>的计算属性。</p><p id="8855" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="baab" class="mq lc iq mh b gy mr ms l mt mu">computed: {<br/>  fullNames() {<br/>    return this.items.map((item) =&gt; {<br/>      return `${item.firstname} ${item.lastname}`;<br/>    });<br/>  }<br/>}</span></pre><p id="dce7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下内容在模板中使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4ff4" class="mq lc iq mh b gy mr ms l mt mu">&lt;div v-for="name of fullNames"&gt;<br/>   &lt;p&gt;{{name}}&lt;/p&gt;<br/>&lt;/div&gt;</span></pre><p id="f07e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">computed属性返回从原始数据派生的一些数据。</p><p id="332f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的示例中，我们返回了一个从<code class="fe me mf mg mh b">this.items</code>数组派生的数组。</p><p id="b7e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们对其使用<code class="fe me mf mg mh b">v-for</code>就像对任何其他属性一样。</p><h1 id="f954" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">有条件地向元素添加属性</h1><p id="4217" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们使用<code class="fe me mf mg mh b">v-bind</code>或<code class="fe me mf mg mh b">:</code>简称，我们可以把一个表达式放入一个属性中。</p><p id="6388" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="46e6" class="mq lc iq mh b gy mr ms l mt mu">&lt;input :required="isRequired"&gt;</span></pre><p id="d4b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2688" class="mq lc iq mh b gy mr ms l mt mu">&lt;input v-bind:required="isRequired"&gt;</span></pre><p id="1ac9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这两个例子中，我们将<code class="fe me mf mg mh b">isRequired</code>表达式转换为<code class="fe me mf mg mh b">v-bind</code>表达式。</p><p id="96cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe me mf mg mh b">isRequired</code>为<code class="fe me mf mg mh b">true</code>，则<code class="fe me mf mg mh b">required</code>被设置为<code class="fe me mf mg mh b">true</code>。</p><h1 id="f5ad" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">更改模板分隔符</h1><p id="3c01" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">默认情况下，模板插值分隔符是双花括号。</p><p id="a7cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e551" class="mq lc iq mh b gy mr ms l mt mu">{{text}}</span></pre><p id="fcbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">把<code class="fe me mf mg mh b">text</code>的值放到页面上。</p><p id="4e17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要更改分隔符，我们可以将<code class="fe me mf mg mh b">delimiters</code>属性添加到我们传递给<code class="fe me mf mg mh b">Vue</code>构造函数的对象中。</p><p id="4a9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3f17" class="mq lc iq mh b gy mr ms l mt mu">new Vue({<br/>  el: '#app',<br/>  data,<br/>  delimiters: ["&lt;%","%&gt;"]<br/>});</span></pre><p id="23ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe me mf mg mh b">&lt;%</code>和<code class="fe me mf mg mh b">%&gt;</code>作为开始和结束分隔符。</p><p id="ec5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的模板中，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1220" class="mq lc iq mh b gy mr ms l mt mu">&lt;% text %&gt;</span></pre><p id="23aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来界定我们的表达。</p><h1 id="9e9e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">data() { return {} }与data的区别:()=&gt; ({ })</h1><p id="133f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">之间的区别:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9878" class="mq lc iq mh b gy mr ms l mt mu">data() { return {} }</span></pre><p id="1891" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dc9e" class="mq lc iq mh b gy mr ms l mt mu">data:() =&gt; ({ })</span></pre><p id="1e6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的分量很大。</p><p id="f4a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第一个例子中，我们可以引用带有<code class="fe me mf mg mh b">this</code>的组件。</p><p id="05a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，我们不能在第二个例子中这样做，因为它是一个箭头函数。</p><p id="a211" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果我们不打算在<code class="fe me mf mg mh b">data</code>方法中访问<code class="fe me mf mg mh b">this</code>，我们应该只使用第二个例子。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/9b455e3f4b09c6b34ead7616c0530c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d2hNFugEDINL_PNx"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@aldyrkhanov?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Artur Aldyrkhanov</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="0af2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="344e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">v-bind</code>将道具传递给动态组件。</p><p id="d79e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想为不同的组件传入不同的属性，我们可以用一个计算过的属性返回它们。</p><p id="4b8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以改变模板分隔符。</p><p id="6aa0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">属性也可以有条件地添加。</p><p id="4971" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以点击调用多个函数。</p><h2 id="6b2d" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="f3c2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？在<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">plain English . io</strong></a>和<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">找到它们订阅我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>