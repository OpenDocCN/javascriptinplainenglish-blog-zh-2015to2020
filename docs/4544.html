<html>
<head>
<title>3 Ways To Optimize Your React Native Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">优化React原生应用的3种方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/my-ultimate-guide-to-optimize-your-react-native-apps-757e9a818b0c?source=collection_archive---------5-----------------------#2020-12-20">https://javascript.plainenglish.io/my-ultimate-guide-to-optimize-your-react-native-apps-757e9a818b0c?source=collection_archive---------5-----------------------#2020-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ae49" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">改善用户体验，使开发更加灵活</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/817d9defc3dd83fb2d8cb6a1bffff088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_pk1Ym30p_4CU01m.png"/></div></div></figure><p id="bcdd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当谈到优化React-Native应用程序时，有时您必须保持业务流程并尽可能快地进行优化，这将是我用最佳实践优化您的应用程序的指南。</p><h1 id="e859" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">1.渲染生命周期</h1><p id="d448" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">React Native将负责应用程序的渲染，但是您必须从这些构建块中定义最终接口的组件&amp;这是您如何以正常方式完成的，而不关心<strong class="kt ir">渲染生命周期。</strong>简而言之，过多的渲染周期会导致设备上的应用程序变慢并产生延迟，要解决这个问题，你必须采用不同的方法。规则很简单，如果父组件正在重新渲染&amp;，组件可以重新渲染，这意味着“渲染”方法可以在不改变道具的情况下运行，因为改变预览和当前道具将花费太长时间。</p><h2 id="8ae5" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">过多的渲染周期对应用程序的影响:</h2><p id="7272" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">1.性能问题，尤其是在<strong class="kt ir">低端</strong>移动设备上。</p><p id="76b3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.你将体验到闪烁的<strong class="kt ir">界面</strong>和丢帧<strong class="kt ir">(一个有更新的动画)</strong>。</p><p id="a8c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mw">一旦你的应用程序出现这些症状，就该进入</em> <strong class="kt ir"> <em class="mw">渲染生命周期了。</em>T13】</strong></p><h2 id="f633" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">如何优化</h2><p id="ebbf" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我能建议的最简单的解决方案是在需要时使用纯组件，你可以更好地理解下面给出的例子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/4d1fdcd11df7feebd5bc7cedc0a4b69f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s2WT7WP661oW7BC1ZG8ilg.png"/></div></div></figure><p id="f024" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，几乎每个React本机应用程序都包含一个由组件状态控制的'<strong class="kt ir"> TextInput' </strong>'，所以在上面的代码中，几乎每个设备都可以正常工作，不会出现任何错误，但是当我们优化我们的应用程序时，我们必须确保它在慢速设备上的工作效果与我们在快速移动设备上的工作效果一样好，您将面临用户快速键入并导致视图更新问题的情况。</p><h2 id="56ce" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated"><strong class="ak"> <em class="my">为了更好的理解，让我们把它进一步分成更小的部分。</em>T19】</strong></h2><p id="bf5d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">如果您熟悉React-Native中的异步特性，您将很容易理解这一点，因为用户键入并用新字母填充“TextInput ”,更新将通过onChangeText prop发送到React-Native，并通过调用setState设置状态，随后受控组件将JavaScript值与本地组件值同步。这些操作很简单，除非在更新过程中，当文本<strong class="kt ir">“TE”闪烁并变成“T”时，用户要以非常高的速度输入。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/2eced1e51dc7837d7433d3b7326262db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fr3NvoIzxTikYDzlDAYFkQ.png"/></div></div></figure><p id="c3fe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了解决这个问题，我们可以从我们的代码中删除值prop使数据流成为单向的，只消除所描述的问题，在对代码行进行一些更改后，它应该看起来像这样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/67baf66bf56fa892b1ead2ee90c1f9fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UWLy87gBNjRhyur_zOXEKA.png"/></div></div></figure><p id="1b5d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">做了这些改变后，你的应用程序将需要更少的用户设备电池使用量，因为这将使用户的满意度更高。</p><h1 id="b879" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">2.选择正确的外部<strong class="ak">库</strong></h1><p id="945c" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">一个外部的<strong class="kt ir">库</strong>在使用<strong class="kt ir"> React-Native、</strong>制作企业应用程序时发挥了重要作用，在这里你可以寻找JavaScript库，在那里你可以实现你想要的东西，而不是从头开始创建组件，但是这个生态系统也有一些严重的缺点，因为开发人员不知道每个部分都有什么。</p><p id="e44f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">移动应用程序开发有自己的一套规则，而在web应用程序的情况下，资产的大小是至关重要的，而在React-Native中并不同样需要，因为文件系统由您的资产组成。为了确保您的React-Native在大多数必须选择正确外部<strong class="kt ir">库的移动设备上提供最佳性能。</strong></p><blockquote class="nb"><p id="a2c8" class="nc nd iq bd ne nf ng nh ni nj nk lm dk translated">更少的代码意味着更快的响应时间，并且代码的总体大小受库的影响。</p></blockquote><figure class="nm nn no np nq kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/c40bb785d33ea533674700ee13016b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pRRQ5NF8NRe--gO6bXB7UA.png"/></div></div></figure><p id="f212" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">任何React-Native应用程序都包含一个在设备内存中工作的<strong class="kt ir"> JavaScript </strong>包，在通过<strong class="kt ir"> JavaScript &amp;解析和执行之后，由于这个过程，JavaScript代码在这里是一个重要因素。</strong></p><h2 id="69c6" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">我能推荐的最佳解决方案是:</h2><ol class=""><li id="0119" class="nr ns iq kt b ku mf kx mg la nt le nu li nv lm nw nx ny nz bi translated">只使用较小的专用库。</li><li id="b6db" class="nr ns iq kt b ku oa kx ob la oc le od li oe lm nw nx ny nz bi translated">始终检查与您正在寻找的要求相同的备选方案。</li></ol><p id="9b92" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，假设您的React-Native应用程序需要对运行时间进行操作，那么您可以使用<strong class="kt ir"> day.js </strong>(近2Kb)而不是<strong class="kt ir"> moment.js </strong>库(67Kb ),它可以在更少的时间内完成完全相同的操作&amp; <strong class="kt ir">消耗更少的空间。</strong></p><h1 id="f415" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">3.优化启动时间</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/977ed17c6763770f3b780e3d44d824ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*p2zlz2o5t60I62oe.jpg"/></div></div></figure><p id="6487" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">每个用户都希望应用程序具有超强的响应能力，能够快速加载，否则，你会在应用程序商店中得到很多你不希望发生的差评。我们可以用一个单一的因素来描述启动时间，因为加载过程中有许多阶段。</p><h2 id="9f73" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">如何优化</h2><p id="6d4d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">使用Hermes你可以很容易地解决这些问题，Hermes是一个JavaScrip引擎，它关注CPU指标，比如应用程序的大小和交互时间。</p><p id="1939" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">爱马仕有什么不同？简而言之，Hermes使用<strong class="kt ir"> AOT </strong>编译器(提前)，而大多数引擎使用<strong class="kt ir"> JIT </strong>(及时)，这意味着整个包提前编译成字节码。</p></div></div>    
</body>
</html>