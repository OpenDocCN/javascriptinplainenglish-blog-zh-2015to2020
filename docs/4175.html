<html>
<head>
<title>The State Of Progressive Web Apps in 2020</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2020年渐进式网络应用的状态</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/progressive-web-apps-in-2020-2691966ab7d9?source=collection_archive---------6-----------------------#2020-11-22">https://javascript.plainenglish.io/progressive-web-apps-in-2020-2691966ab7d9?source=collection_archive---------6-----------------------#2020-11-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e6a9" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解有关“为什么”和“如何”构建渐进式Web应用程序的更多信息</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/2f2f1d944821bade96bcf398a8393878.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cFvpuWq2HoMompuLS_1cvg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@balazsketyi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Balázs Kétyi</a> on <a class="ae ks" href="https://unsplash.com/s/photos/webp-application?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="05b1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Progressive Web Apps简称为<em class="lp"> PWA </em>是新一代的Web应用，它提供了类似原生应用的用户体验。PWA是使用现代浏览器API构建的应用程序，通过单一代码库向任何人、任何地方和任何设备提供增强的用户体验。</p><p id="ed37" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">根据谷歌开发者的定义，<em class="lp">渐进式网络应用使用现代网络功能来提供类似应用的用户体验。它们从浏览器标签中的页面演变成身临其境的顶级应用，时刻保持着网络的低摩擦。</em></p><h1 id="1bb5" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">为什么我们需要PWA</h1><p id="833d" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">企业建立PWA有很多原因。在开始解释原因之前，让我们先来看看一些统计数据:</p><ol class=""><li id="50f3" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo ms mt mu mv bi translated">随着移动设备的进步和功能的增加，大约70–75%的人更喜欢在手机上浏览</li><li id="4fba" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">大多数人会在最多2秒钟内等待网页加载，否则他们会失去兴趣，最终可能会离开网站</li><li id="8f53" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">随着原生应用程序的体积越来越大，人们避免在手机上下载原生应用程序</li></ol><p id="998d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这些统计数据证明，应用程序需要在任何设备上更快地加载，并且理想情况下应该在用户的设备上消耗更少的空间。PWAs有助于克服上述问题，并提供以下优势:</p><ul class=""><li id="e8c9" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo nb mt mu mv bi translated">具有较短的加载时间，并且可以在没有网络连接的情况下运行。它们是可安装的，即使在较低的网络带宽下也能顺利工作</li><li id="a61d" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated">在所有跨平台设备上工作。开发人员只需构建一个打包的应用程序，就可以在web、移动等多种渠道上部署。提供一致的用户体验</li><li id="3b41" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated">它们建立在网络之上，因此这些应用程序中的所有内容都是可索引的，并像普通的网络应用程序一样获得SEO的好处</li><li id="b8d8" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated">通过发送推送通知来吸引用户</li><li id="de40" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated">可以从他们的主屏幕上轻松安装和访问</li></ul><h1 id="3ca3" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">PWA与本机应用程序</h1><ul class=""><li id="c545" class="mn mo in kv b kw mi kz mj lc nc lg nd lk ne lo nb mt mu mv bi translated">原生应用可以从特定平台的应用商店安装，而pwa可以从移动浏览器本身下载并添加到主屏幕。</li><li id="fb40" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated">原生应用程序是根据设备结构专门设计的，而pwa主要看起来像网站的响应视图。</li><li id="b0ed" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated">大多数本机应用程序在离线环境中无法运行，而pwa在使用缓存数据的离线环境中运行良好。</li></ul><h1 id="c0a9" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">如何构建PWA</h1><p id="a7ea" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">在构建实际的PWA之前，我们必须确定构建PWA所需的关键要素。</p><h2 id="19cc" class="nf lr in bd ls ng nh dn lw ni nj dp ma lc nk nl mc lg nm nn me lk no np mg nq bi translated">PWA的关键要素</h2><ul class=""><li id="540b" class="mn mo in kv b kw mi kz mj lc nc lg nd lk ne lo nb mt mu mv bi translated"><strong class="kv io">安全环境</strong> —这是一个满足某些最低认证和保密标准的窗口。通过安全环境传输的网络应用给用户带来了信任感。</li><li id="c58a" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><strong class="kv io">服务人员</strong> —这些是由浏览器在后台执行的脚本。在服务人员的帮助下，开发人员可以创建速度极快的网页，并且可以在脱机环境下工作。它们提供推送通知和后台同步等功能。</li><li id="cf74" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><strong class="kv io">清单文件</strong> —包含应用程序元数据的文件，如应用程序的名称、开始URL和图标。这是一个<em class="lp"> JSON </em>文件，它控制应用程序的外观，并确保它们可以被搜索引擎索引。</li></ul><h2 id="8bd4" class="nf lr in bd ls ng nh dn lw ni nj dp ma lc nk nl mc lg nm nn me lk no np mg nq bi translated">建筑公共工程部</h2><p id="1efa" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">我们将为React应用程序创建PWA，因此我们将首先使用<a class="ae ks" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank"><em class="lp">create-React-app</em></a><em class="lp">设置React应用程序。</em>为了快速设置，您可以使用PWA可用的预定义模板创建React应用程序。使用预定义模板的主要好处是，使用离线缓存等功能所需的依赖项将被自动添加。将自动添加PWA所需的文件，如<em class="lp"> manifest.json </em>和<em class="lp"> service-worker.js </em>。执行以下命令创建React应用程序:</p><pre class="kd ke kf kg gt nr ns nt nu aw nv bi"><span id="e2ab" class="nf lr in ns b gy nw nx l ny nz">create-react-app your-app-name --template cra-template-pwa</span></pre><p id="95bb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">安装样板应用程序后，我们可以检查<em class="lp"> public </em>目录下<em class="lp"> manifest.json </em>文件的内容。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="d661" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<em class="lp"> manifest.json </em>文件中定义的每个属性都有重要的用途。</p><ul class=""><li id="c259" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo nb mt mu mv bi translated"><strong class="kv io"> short_name </strong> —在桌面或手机上安装app时显示的名称</li><li id="5e09" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><strong class="kv io">名称</strong> —应用的实际名称</li><li id="e159" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><strong class="kv io">图标</strong> —包含收藏夹图标和闪屏图标</li><li id="c4dd" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><strong class="kv io"> start_url </strong> —定义“添加”按钮可用的路径</li></ul><p id="da2f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以执行以下命令来生成生产版本:</p><pre class="kd ke kf kg gt nr ns nt nu aw nv bi"><span id="bbd3" class="nf lr in ns b gy nw nx l ny nz">npm run build</span></pre><p id="ad16" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当您在本地服务器上部署此版本并访问页面时，“安装”按钮仍然不可见。这是因为应用程序已经定义了服务人员，但默认情况下他们没有注册，所以您需要注册服务人员。您可以通过调用register()方法来注册服务工作器。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oa ob l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The service worker is registered here</figcaption></figure><p id="01bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">注册服务工作者后，您可以再次生成生产构建，并将其部署到任何本地服务器。</p><p id="aa1e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">PWAs在安全上下文和<em class="lp">localhost</em>URL上运行，因此为了在生产中验证该应用，您可以将它部署在任何支持HTTPS的平台上，如<a class="ae ks" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lp"> netlify </em> </a> <em class="lp">。</em></p><p id="8bd0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">成功激活服务人员后，您将在访问页面时看到“安装”按钮。点击它将在您的设备主屏幕上安装PWA。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oc"><img src="../Images/75b05ca4735b041e0353cb839974362b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EK9LZnbqgEXdm4xlcvKlvA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Installing PWA on desktop</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi od"><img src="../Images/3a95df5327ecd750b4f1b8d8f5da97d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7TUSWzk7isnoy2PfEKSatA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Installing PWA on mobile</figcaption></figure><p id="48a2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当您离线并再次访问该页面时，应用程序将从缓存的资源中加载，而不会看到任何网络连接错误。🚀</p><p id="465a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">完整的源代码可以在<a class="ae ks" href="https://github.com/pmehta-18/react-pwa" rel="noopener ugc nofollow" target="_blank">这里</a>获得。<br/>现场试玩:<a class="ae ks" href="https://demo-react-pwa.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://demo-react-pwa.netlify.app/</a></p></div><div class="ab cl oe of hr og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ig ih ii ij ik"><h2 id="8991" class="nf lr in bd ls ng nh dn lw ni nj dp ma lc nk nl mc lg nm nn me lk no np mg nq bi translated">参考</h2><ul class=""><li id="8ecb" class="mn mo in kv b kw mi kz mj lc nc lg nd lk ne lo nb mt mu mv bi translated"><a class="ae ks" href="https://developers.google.com/web/updates/2015/12/getting-started-pwa" rel="noopener ugc nofollow" target="_blank">https://developers . Google . com/web/updates/2015/12/getting-started-pwa</a></li><li id="7040" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/Progressive _ Web _ apps</a></li><li id="6376" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><a class="ae ks" href="https://techcrunch.com/2017/08/25/majority-of-u-s-consumers-still-download-zero-apps-per-month-says-comscore/" rel="noopener ugc nofollow" target="_blank">https://TechCrunch . com/2017/08/25/大多数美国消费者每月仍无应用下载量——comscore/</a></li><li id="9f05" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><a class="ae ks" href="https://www.entrepreneur.com/article/281986" rel="noopener ugc nofollow" target="_blank">https://www.entrepreneur.com/article/281986</a></li><li id="f90c" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo nb mt mu mv bi translated"><a class="ae ks" href="https://docs.google.com/presentation/d/18IOdAivMSRDsqEnwvJL_eaEWhqBgFUjFWEamoWZ5djc/edit#slide=id.p33" rel="noopener ugc nofollow" target="_blank">https://docs . Google . com/presentation/d/18 iodaivmsrdsqenwvjl _ eaewhqbgfujfwaemowz 5 djc/edit # slide = id . p33</a></li></ul><p id="f0a5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这都是关于PWA的人！请在评论中分享你所看到的PWA的好处。😄编码快乐！👩‍💻</p></div></div>    
</body>
</html>