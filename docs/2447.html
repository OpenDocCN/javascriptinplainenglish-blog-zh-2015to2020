<html>
<head>
<title>Useful JavaScript Tips — Properties and Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的JavaScript技巧—属性和数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/useful-javascript-tips-properties-and-arrays-28543a8af7f5?source=collection_archive---------8-----------------------#2020-06-24">https://javascript.plainenglish.io/useful-javascript-tips-properties-and-arrays-28543a8af7f5?source=collection_archive---------8-----------------------#2020-06-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ed3dac75df0b96fb63e0493436f6bf02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UK11kZjf1MaqsocI"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@sreckoskrobic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Srecko Skrobic</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0751" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像任何类型的应用程序一样，JavaScript应用程序也必须写得很好。</p><p id="9a1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们以后会遇到各种各样的问题。</p><p id="96a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解一些应该遵循的技巧，以便更快更好地编写JavaScript代码。</p><h1 id="c037" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查属性是否在对象中</h1><p id="0712" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法可以用来检查一个属性是否在一个对象中。</p><p id="8e22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以如下使用<code class="fe me mf mg mh b">hasOwnProperty</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="aab2" class="mq lc iq mh b gy mr ms l mt mu">obj.hasOwnProperty('name');</span></pre><p id="d4be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">hasOwnProperty</code>是从<code class="fe me mf mg mh b">Object.prototype</code>继承的对象的方法。</p><p id="1001" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe me mf mg mh b">'name'</code>是对象/的非继承属性，则返回<code class="fe me mf mg mh b">true</code></p><p id="04d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">in</code>操作符来检查一个属性是否是对象的一部分，包括在原型中。</p><p id="c12f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bf84" class="mq lc iq mh b gy mr ms l mt mu">'valueOf' in obj;</span></pre><p id="057d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么它将返回<code class="fe me mf mg mh b">true</code>，因为<code class="fe me mf mg mh b">valueOf</code>是从<code class="fe me mf mg mh b">obj</code>的原型继承的。</p><h1 id="232d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">模板字符串</h1><p id="3112" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">模板字符串是将各种表达式组合成一个字符串的绝佳形式。</p><p id="0de0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用模板字符串来代替连接。</p><p id="d9e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6e72" class="mq lc iq mh b gy mr ms l mt mu">const firstName = 'jane';<br/>const lastName = 'smith';<br/>const name = firstName + ' ' + lastName;</span></pre><p id="1321" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0473" class="mq lc iq mh b gy mr ms l mt mu">const firstName = 'jane';<br/>const lastName = 'smith';<br/>const name = `${firstName} ${lastName}`;</span></pre><p id="08af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它更短，而且没有加号。</p><h1 id="c7e6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将节点列表转换为数组</h1><p id="f1f4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用spread操作符将节点列表转换为数组。</p><p id="0407" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2cf1" class="mq lc iq mh b gy mr ms l mt mu">const nodeList = document.querySelectorAll('div');<br/>const nodeArr = [...nodeList];</span></pre><p id="358e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以这样做，因为节点列表是一个类似数组的可迭代对象，这意味着它可以用spread操作符转换为数组。</p><p id="3504" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以在节点列表上使用任何数组方法，这让我们的生活变得更加容易。</p><h1 id="dc15" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">编写一个既能处理数组又能处理单个值的方法</h1><p id="ffa6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以写一个方法，通过检查一个数组是否是一个数组来处理两个数组和一个值。</p><p id="f4e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cbbe" class="mq lc iq mh b gy mr ms l mt mu">const foo = (val) =&gt; {<br/>  if (Array.isArray(val)){<br/>    //...<br/>  }<br/>  else {<br/>    //...<br/>  }<br/>}</span></pre><p id="0bb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用了<code class="fe me mf mg mh b">Array.isArray</code>方法来检查<code class="fe me mf mg mh b">val</code>是否是一个数组。</p><p id="08fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以有一个函数，既可以处理数组，也可以处理单个值。</p><h1 id="d926" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">提升</h1><p id="11fa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们应该注意函数声明的提升。</p><p id="8697" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">提升意味着值被拉到文件的顶部。</p><p id="0db5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数声明被挂起。</p><p id="287e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="be3c" class="mq lc iq mh b gy mr ms l mt mu">function foo(){<br/>  //...<br/>}</span></pre><p id="1342" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后可以在文件中的任何地方调用它。</p><h1 id="b1e7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对带有重音字符的字符串进行排序</h1><p id="b39f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了对带有重音字符的字符串进行排序，我们可以使用<code class="fe me mf mg mh b">localeCompare</code>方法对它们进行适当的排序。</p><p id="3723" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3c35" class="mq lc iq mh b gy mr ms l mt mu">['<!-- -->marrón<!-- -->', 'árbol', '<!-- -->dulce<!-- -->', 'fútbol'].sort((a, b) =&gt; a.localeCompare(b));</span></pre><p id="29ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以毫无争议地对它们进行分类。</p><p id="dd95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="30e6" class="mq lc iq mh b gy mr ms l mt mu">["árbol", "dulce", "fútbol", "marrón"]</span></pre><p id="1a09" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这正是我们所期待的。</p><p id="52e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用如下的<code class="fe me mf mg mh b">Intl.Collator</code>方法来做同样的事情:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ef7b" class="mq lc iq mh b gy mr ms l mt mu">['<!-- -->marrón<!-- -->', 'árbol', '<!-- -->dulce<!-- -->', 'fútbol'].sort(Intl.Collator().compare);</span></pre><p id="14c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要两个带有字符串的参数来比较并返回与<code class="fe me mf mg mh b">localeCompare</code>相同的东西，所以我们可以直接传递函数。</p><p id="af8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在比较大量字符串时比<code class="fe me mf mg mh b">localeCompare</code>更快。</p><p id="e736" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我们比较非英语字符串时，我们应该使用这两个函数来比较它们。</p><h1 id="26a2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">改进嵌套条件句</h1><p id="763b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">switch</code>语句来消除嵌套条件。</p><p id="73f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，不写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c1cd" class="mq lc iq mh b gy mr ms l mt mu">if (color) {<br/>  if (color === 'black') {<br/>    doBlack();<br/>  } else if (color === 'red') {<br/>    doRed();<br/>  } else if (color === 'blue') {<br/>    doBlue();<br/>  } else {<br/>    doSomething();<br/>  }<br/>}</span></pre><p id="83fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">switch</code>语句来代替:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="00cb" class="mq lc iq mh b gy mr ms l mt mu">switch(color) {<br/>  case 'black':<br/>    doBlack();<br/>    break;<br/>  case 'red':<br/>    doRed();<br/>    break;<br/>  case 'blue':<br/>    doBlue();<br/>    break;<br/>  default:<br/>    doSomething();<br/>}</span></pre><p id="1682" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它更短，我们不需要在进行其他检查之前检查<code class="fe me mf mg mh b">color</code>是否为假。</p><p id="c7b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为<code class="fe me mf mg mh b">default</code>条款负责虚假检查。</p><h1 id="3b42" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在数组中添加项目</h1><p id="9b31" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">concat</code>方法添加一个项目。</p><p id="e6ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0b8b" class="mq lc iq mh b gy mr ms l mt mu">const arr = [1,2,3];<br/>const four = arr.concat(4);</span></pre><p id="8c0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">concat</code>返回追加了新项目的数组。</p><p id="986e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们用<code class="fe me mf mg mh b">[1, 2, 3, 4]</code>代替<code class="fe me mf mg mh b">four</code>。</p><p id="0749" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">push</code>将一个条目添加到数组中。</p><p id="86a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ae67" class="mq lc iq mh b gy mr ms l mt mu">const arr = [1,2,3];<br/>arr.push(4);</span></pre><p id="53b5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">arr</code>现在是<code class="fe me mf mg mh b">[1, 2, 3, 4]</code>。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/867f2b8cf7333c0fac2477e327786b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vgy_St822AlhmwC4"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@almapapi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Krisztina Papp</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="b69a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b4c3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">concat</code>或<code class="fe me mf mg mh b">push</code>向数组中添加条目。</p><p id="f7dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">in</code>或<code class="fe me mf mg mh b">hasOwnProperty</code>来检查一个属性是否在一个对象中。</p><p id="3b04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们对带有重音符号的字符串数组进行排序，那么我们需要使用<code class="fe me mf mg mh b">localeCompare</code>或<code class="fe me mf mg mh b">Intl.Collator().compare</code>。</p><h2 id="a482" class="mq lc iq bd ld mw mx dn lh my mz dp ll ko na nb lp ks nc nd lt kw ne nf lx ng bi translated">简单英语的JavaScript</h2><p id="daff" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四份出版物和一个YouTube频道吗？在<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">plain English . io</strong></a>和<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">找到它们订阅我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>