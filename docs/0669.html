<html>
<head>
<title>How to Make a Chrome Extension with Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Vue.js做一个Chrome扩展</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-make-a-chrome-extension-with-vue-js-56e50bd97972?source=collection_archive---------0-----------------------#2019-11-24">https://javascript.plainenglish.io/how-to-make-a-chrome-extension-with-vue-js-56e50bd97972?source=collection_archive---------0-----------------------#2019-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3c31" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">【http://jauyeung.net/subscribe/】<strong class="jp ir"><strong class="jp ir">现在在</strong> <a class="ae kl" href="http://jauyeung.net/subscribe/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">订阅我的邮件列表。</strong></a></strong></p><p id="50ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">在推特上关注我</strong><a class="ae kl" href="https://twitter.com/AuMayeung" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://twitter.com/AuMayeung</strong></a></p><p id="8c34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最流行的网络浏览器Chrome和Firefox都支持扩展。扩展是一些小应用程序，您可以将它们添加到浏览器中，以获得浏览器中不包含的功能。这使得扩展浏览器功能变得非常容易。用户只需从Chrome网络商店或Firefox商店等在线商店添加浏览器插件即可。</p><p id="16ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">浏览器扩展只是普通的HTML应用程序包的一种特定方式。这意味着我们可以使用HTML、CSS和JavaScript来构建自己的扩展。</p><p id="da12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Chrome和Firefox扩展遵循Web扩展API标准。完整的细节在<a class="ae kl" href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Mozilla/Add-ons/web extensions</a></p><p id="0902" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我们将制作一个Chrome扩展，显示来自OpenWeatherMap API的天气。我们将添加一个搜索，让用户从API中查找当前天气和预报，并将其显示在扩展的弹出框中。</p><p id="4ade" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用Vue.js来构建浏览器扩展。要开始构建它，我们先用Vue CLI创建项目。运行<code class="fe km kn ko kp b">npx @vue/cli create weather-app</code>来创建项目。在向导中，选择Babel和Vuex。</p><p id="1ec0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">OpenWeatherMap API可在https://openweathermap.org/api获得。你可以在这里注册一个API密匙。一旦获得了API密钥，在根文件夹中创建一个<code class="fe km kn ko kp b">.env</code>文件，并添加<code class="fe km kn ko kp b">VUE_APP_APIKEY</code>作为密钥，API密钥作为值。</p><p id="83e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们使用vue-CLI-plugin-browser-extension来添加用于编写和编译Chrome扩展的文件。软件包设置和详细信息位于<a class="ae kl" href="https://www.npmjs.com/package/vue-cli-plugin-browser-extension" rel="noopener ugc nofollow" target="_blank">https://www . npmjs . com/package/vue-CLI-plugin-browser-extension</a>。</p><p id="3ccc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了将它添加到我们的项目中，我们运行<code class="fe km kn ko kp b">vue add browser-extension</code>来添加构建扩展所需的文件。该命令将改变我们项目的文件结构。</p><p id="9824" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行该命令后，我们必须删除一些冗余文件。我们应该将<code class="fe km kn ko kp b">App.vue</code>和<code class="fe km kn ko kp b">main.js</code>从<code class="fe km kn ko kp b">src</code>文件夹中移除，而将同名文件单独留在<code class="fe km kn ko kp b">popup</code>文件夹中。然后，当我们修改代码时，我们运行<code class="fe km kn ko kp b">npm run serve</code>来构建文件。</p><p id="c08e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们必须安装扩展Reload，以便在更改文件时重新加载扩展。从<a class="ae kl" href="https://chrome.google.com/webstore/detail/extensions-reloader/fimgfedafeadlieiabdeeaodndnlbhid" rel="noopener ugc nofollow" target="_blank">https://chrome . Google . com/web store/detail/extensions-reloader/fimgfedafaedlieabdeeaondnlbhid</a>安装它，以便在Chrome中热重装我们的扩展。</p><p id="b454" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我们进入chrome的chrome://extensions/ URL，打开开发者模式。我们应该在左上角看到Load unpacked按钮。点击它，然后选择我们项目中的<code class="fe km kn ko kp b">dist</code>文件夹，将我们的扩展加载到Chrome中。</p><p id="5ec6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们必须安装一些我们将使用的库。我们需要Axios进行HTTP请求，需要BootstrapVue进行样式设计，需要Vee-Validate进行表单验证。为了安装它们，我们运行<code class="fe km kn ko kp b">npm i axios bootstrap-vue vee-validate</code>来安装它们。</p><p id="d100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装好所有的包后，我们可以开始写代码了。在<code class="fe km kn ko kp b">components</code>文件夹中创建<code class="fe km kn ko kp b">CurrentWeather.vue</code>，并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="4f56" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;br /&gt;<br/>    &lt;b-list-group v-if="weather.main"&gt;<br/>      &lt;b-list-group-item&gt;Current Temparature: {{weather.main.temp - 273.15}} C&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;High: {{weather.main.temp_max - 273.15}} C&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;Low: {{weather.main.temp_min - 273.15}} C&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;Pressure: {{weather.main.pressure }}mb&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;Humidity: {{weather.main.humidity }}%&lt;/b-list-group-item&gt;<br/>    &lt;/b-list-group&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="f3f3" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="cc4d" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  name: "CurrentWeather",<br/>  mounted() {},<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    keyword() {<br/>      return this.$store.state.keyword;<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      weather: {}<br/>    };<br/>  },<br/>  watch: {<br/>    async keyword(val) {<br/>      const response = await this.searchWeather(val);<br/>      this.weather = response.data;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="630e" class="ky kz iq kp b gy le lb l lc ld">&lt;style scoped&gt;<br/>p {<br/>  font-size: 20px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="dba0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当来自Vuex商店的<code class="fe km kn ko kp b">keyword</code>被更新时，该组件显示来自OpenWeatherMap API的当前天气。我们稍后将创建Vuex商店。<code class="fe km kn ko kp b">this.searchWeather</code>函数来自<code class="fe km kn ko kp b">requestsMixin</code>，这是我们将要创建的一个Vue mixin。<code class="fe km kn ko kp b">computed</code>模块通过<code class="fe km kn ko kp b">this.$store.state.keyword</code>从存储器中获取<code class="fe km kn ko kp b">keyword</code>并返回最新值。</p><p id="64f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，在同一个文件夹中创建<code class="fe km kn ko kp b">Forecast.vue</code>,并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="44bf" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;br /&gt;<br/>    &lt;b-list-group v-for="(l, i) of forecast.list" :key="i"&gt;<br/>      &lt;b-list-group-item&gt;<br/>        &lt;b&gt;Date: {{l.dt_txt}}&lt;/b&gt;<br/>      &lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;Temperature: {{l.main.temp - 273.15}} C&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;High: {{l.main.temp_max - 273.15}} C&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;Low: {{l.main.temp_min }}mb&lt;/b-list-group-item&gt;<br/>      &lt;b-list-group-item&gt;Pressure: {{l.main.pressure }}mb&lt;/b-list-group-item&gt;<br/>    &lt;/b-list-group&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="ba9a" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import { requestsMixin } from "@/mixins/requestsMixin";</span><span id="cff2" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  name: "Forecast",<br/>  mixins: [requestsMixin],<br/>  computed: {<br/>    keyword() {<br/>      return this.$store.state.keyword;<br/>    }<br/>  },<br/>  data() {<br/>    return {<br/>      forecast: []<br/>    };<br/>  },<br/>  watch: {<br/>    async keyword(val) {<br/>      const response = await this.searchForecast(val);<br/>      this.forecast = response.data;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="d5a8" class="ky kz iq kp b gy le lb l lc ld">&lt;style scoped&gt;<br/>p {<br/>  font-size: 20px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="b7aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">和<code class="fe km kn ko kp b">CurrentWeather.vue</code>很像。唯一的区别是我们得到的是当前天气而不是天气预报。</p><p id="bd21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们在<code class="fe km kn ko kp b">src</code>文件夹中创建一个<code class="fe km kn ko kp b">mixins</code>文件夹，并添加:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="db88" class="ky kz iq kp b gy la lb l lc ld">const APIURL = "<a class="ae kl" href="http://api.openweathermap.org" rel="noopener ugc nofollow" target="_blank">http://api.openweathermap.org</a>";<br/>const axios = require("axios");</span><span id="21f4" class="ky kz iq kp b gy le lb l lc ld">export const requestsMixin = {<br/>  methods: {<br/>    searchWeather(loc) {<br/>      return axios.get(<br/>        `${APIURL}/data/2.5/weather?q=${loc}&amp;appid=${process.env.VUE_APP_APIKEY}`<br/>      );<br/>    },</span><span id="c440" class="ky kz iq kp b gy le lb l lc ld">    searchForecast(loc) {<br/>      return axios.get(<br/>        `${APIURL}/data/2.5/forecast?q=${loc}&amp;appid=${process.env.VUE_APP_APIKEY}`<br/>      );<br/>    }<br/>  }<br/>};</span></pre><p id="1ef0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些函数分别用于从OpenWeatherMap API获取当前天气和天气预报。<code class="fe km kn ko kp b"> process.env.VUE_APP_APIKEY</code>是从我们之前创建的<code class="fe km kn ko kp b">.env</code>文件中获得的。</p><p id="2278" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，在<code class="fe km kn ko kp b">popup</code>文件夹内的<code class="fe km kn ko kp b">App.vue</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="7947" class="ky kz iq kp b gy la lb l lc ld">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;b-navbar toggleable="lg" type="dark" variant="info"&gt;<br/>      &lt;b-navbar-brand href="#"&gt;Weather App&lt;/b-navbar-brand&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;div class="page"&gt;<br/>      &lt;ValidationObserver ref="observer" v-slot="{ invalid }"&gt;<br/>        &lt;b-form <a class="ae kl" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="onSubmit" novalidate&gt;<br/>          &lt;b-form-group label="Keyword" label-for="keyword"&gt;<br/>            &lt;ValidationProvider name="keyword" rules="required" v-slot="{ errors }"&gt;<br/>              &lt;b-form-input<br/>                :state="errors.length == 0"<br/>                v-model="form.keyword"<br/>                type="text"<br/>                required<br/>                placeholder="Keyword"<br/>                name="keyword"<br/>              &gt;&lt;/b-form-input&gt;<br/>              &lt;b-form-invalid-feedback :state="errors.length == 0"&gt;Keyword is required&lt;/b-form-invalid-feedback&gt;<br/>            &lt;/ValidationProvider&gt;<br/>          &lt;/b-form-group&gt;</span><span id="96e6" class="ky kz iq kp b gy le lb l lc ld">          &lt;b-button type="submit" variant="primary"&gt;Search&lt;/b-button&gt;<br/>        &lt;/b-form&gt;<br/>      &lt;/ValidationObserver&gt;</span><span id="818a" class="ky kz iq kp b gy le lb l lc ld">&lt;br /&gt;</span><span id="8bf7" class="ky kz iq kp b gy le lb l lc ld">      &lt;b-tabs&gt;<br/>        &lt;b-tab title="Current Weather"&gt;<br/>          &lt;CurrentWeather /&gt;<br/>        &lt;/b-tab&gt;<br/>        &lt;b-tab title="Forecast"&gt;<br/>          &lt;Forecast /&gt;<br/>        &lt;/b-tab&gt;<br/>      &lt;/b-tabs&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="91c6" class="ky kz iq kp b gy le lb l lc ld">&lt;script&gt;<br/>import CurrentWeather from "@/components/CurrentWeather.vue";<br/>import Forecast from "@/components/Forecast.vue";</span><span id="57c0" class="ky kz iq kp b gy le lb l lc ld">export default {<br/>  name: "App",<br/>  components: { CurrentWeather, Forecast },<br/>  data() {<br/>    return {<br/>      form: {}<br/>    };<br/>  },<br/>  methods: {<br/>    async onSubmit() {<br/>      const isValid = await this.$refs.observer.validate();<br/>      if (!isValid) {<br/>        return;<br/>      }<br/>      localStorage.setItem("keyword", this.form.keyword);<br/>      this.$store.commit("setKeyword", this.form.keyword);<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.form = { keyword: localStorage.getItem("keyword") || "" };<br/>  },<br/>  mounted(){<br/>    this.$store.commit("setKeyword", this.form.keyword);<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="fe36" class="ky kz iq kp b gy le lb l lc ld">&lt;style&gt;<br/>html {<br/>  min-width: 500px;<br/>}</span><span id="633c" class="ky kz iq kp b gy le lb l lc ld">.page {<br/>  padding: 20px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="979c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在这里添加了BootstrapVue <code class="fe km kn ko kp b">b-navbar</code>来添加一个顶部栏来显示扩展的名称。在那下面，我们添加了搜索天气信息的表单。表单验证是通过在<code class="fe km kn ko kp b">ValidationObserver</code>组件中包装表单和在<code class="fe km kn ko kp b">ValidationProvider</code>组件中包装输入来完成的。我们在<code class="fe km kn ko kp b">ValidationProvider</code>的<code class="fe km kn ko kp b">rules</code>道具中提供了验证规则。稍后会在<code class="fe km kn ko kp b">main.js</code>中添加规则。</p><p id="312f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">错误信息显示在<code class="fe km kn ko kp b">b-form-invalid-feedback</code>组件中。我们从<code class="fe km kn ko kp b">ValidationProvider</code>的作用域槽中得到错误。这就是我们得到<code class="fe km kn ko kp b">errors</code>对象的地方。</p><p id="ddf4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当用户提交号码时，调用<code class="fe km kn ko kp b">onSubmit</code>函数。这就是<code class="fe km kn ko kp b">ValidationObserver</code>有用的地方，因为它为我们提供了用于表单验证的<code class="fe km kn ko kp b">this.$refs.observer.validate()</code>函数。</p><p id="d64b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果<code class="fe km kn ko kp b">isValid</code>解析为<code class="fe km kn ko kp b">true</code>，那么我们通过运行<code class="fe km kn ko kp b">this.$store.commit(“setKeyword”, this.form.keyword);</code>在本地存储器和Vuex存储器中设置<code class="fe km kn ko kp b">keyword</code>。</p><p id="91d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<code class="fe km kn ko kp b">beforeMount</code>钩子中，我们设置了<code class="fe km kn ko kp b">keyword</code>,如果在本地存储器中设置了<code class="fe km kn ko kp b">keyword</code>,那么当扩展首次加载时，它将被填充。在<code class="fe km kn ko kp b">mounted</code>钩子中，我们在Vuex商店中设置了关键字，这样标签页就会得到<code class="fe km kn ko kp b">keyword</code>来触发天气数据的搜索。</p><p id="fc12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在<code class="fe km kn ko kp b">store.js</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="ab53" class="ky kz iq kp b gy la lb l lc ld">import Vue from "vue";<br/>import Vuex from "vuex";</span><span id="5367" class="ky kz iq kp b gy le lb l lc ld">Vue.use(Vuex);</span><span id="9322" class="ky kz iq kp b gy le lb l lc ld">export default new Vuex.Store({<br/>  state: {<br/>    keyword: ""<br/>  },<br/>  mutations: {<br/>    setKeyword(state, payload) {<br/>      state.keyword = payload;<br/>    }<br/>  },<br/>  actions: {}<br/>});</span></pre><p id="db6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加我们在组件中引用的Vuex商店。我们有用于在存储中存储搜索关键字的<code class="fe km kn ko kp b">keyword</code>状态和<code class="fe km kn ko kp b">setKeyword</code>突变函数，这样我们可以在组件中设置<code class="fe km kn ko kp b">keyword</code>。</p><p id="8950" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来在<code class="fe km kn ko kp b">popup/main.js</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="dfcc" class="ky kz iq kp b gy la lb l lc ld">import Vue from 'vue'<br/>import App from './App.vue'<br/>import store from "../store";<br/>import "bootstrap/dist/css/bootstrap.css";<br/>import "bootstrap-vue/dist/bootstrap-vue.css";<br/>import BootstrapVue from "bootstrap-vue";<br/>import { ValidationProvider, extend, ValidationObserver } from "vee-validate";<br/>import { required } from "vee-validate/dist/rules";</span><span id="0216" class="ky kz iq kp b gy le lb l lc ld">/* eslint-disable no-new */</span><span id="59f3" class="ky kz iq kp b gy le lb l lc ld">extend("required", required);<br/>Vue.component("ValidationProvider", ValidationProvider);<br/>Vue.component("ValidationObserver", ValidationObserver);<br/>Vue.use(BootstrapVue);</span><span id="5487" class="ky kz iq kp b gy le lb l lc ld">Vue.config.productionTip = false;</span><span id="9d1c" class="ky kz iq kp b gy le lb l lc ld">new Vue({</span><span id="3823" class="ky kz iq kp b gy le lb l lc ld">store,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="81cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在这里添加了我们在之前的文件中使用的验证规则，并包括了我们在应用程序中使用的所有库。我们通过调用<code class="fe km kn ko kp b">Vue.component</code>注册了<code class="fe km kn ko kp b">ValidationProvider</code>和<code class="fe km kn ko kp b">ValidationObserver</code>，这样我们就可以在我们的组件中使用它们。Vee-Validate提供的验证规则包含在应用程序中，因此模板可以通过从Vee-Validate调用<code class="fe km kn ko kp b">extend</code>来使用这些规则。我们调用<code class="fe km kn ko kp b">Vue.use(BootstrapVue)</code>在我们的应用程序中使用BootstrapVue。</p><p id="e6ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，在<code class="fe km kn ko kp b">index.html</code>中，我们将现有代码替换为:</p><pre class="kq kr ks kt gt ku kp kv kw aw kx bi"><span id="4db3" class="ky kz iq kp b gy la lb l lc ld">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt;<br/>    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;<br/>    &lt;title&gt;Weather App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;<br/>      &lt;strong<br/>        &gt;We're sorry but vue-chrome-extension-tutorial-app doesn't work properly<br/>        without JavaScript enabled. Please enable it to continue.&lt;/strong<br/>      &gt;<br/>    &lt;/noscript&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;!-- built files will be auto injected --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="5b21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">来代替标题。</p><p id="b074" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">经过所有的努力，我们得到了:</p><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/3494f5c933b24ed5851a4483932a4e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*VZAyHeEDsuCvJorMjruutQ.png"/></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/4b185d80ad0acdfbc09720ff7c8571ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*BvpMKV0R8qAwP4QtXA2ZwA.png"/></div></figure><figure class="kq kr ks kt gt lg gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/5b7d6ca77773c5044cdd8fe0e6120ace.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*B6hymjDXik7-XKZszy0NbQ.png"/></div></figure></div></div>    
</body>
</html>