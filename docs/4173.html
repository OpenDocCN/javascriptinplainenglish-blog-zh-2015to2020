<html>
<head>
<title>Add Interactive Maps to Your Website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向您的网站添加交互式地图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/add-interactive-maps-to-your-website-5e935924ff5c?source=collection_archive---------4-----------------------#2020-11-22">https://javascript.plainenglish.io/add-interactive-maps-to-your-website-5e935924ff5c?source=collection_archive---------4-----------------------#2020-11-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0744" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不用谷歌地图！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6a72b7df3481d08e187b97a36c8f6057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e92W30dfSooTCYTN"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@kobuagency?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">KOBU Agency</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a49e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在你的网站上添加一个交互式地图可以使它看起来更漂亮，也有助于用户体验。</p><p id="2173" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">地图可以添加到地址旁边以及登录页面上，以传达地理信息。</p><p id="4455" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了添加免费、快速的交互式地图，我们将使用fleet . js，这是一个用于触摸友好地图的开源库。</p><p id="c9fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该软件包的大小约为40kb，包括一套全面的<a class="ae kv" href="https://leafletjs.com/index.html#features" rel="noopener ugc nofollow" target="_blank">地图功能。</a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="d213" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">装置</h2><p id="d5fe" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">要安装这个库，我们需要在HTML文件的head部分添加一些东西。</p><ol class=""><li id="2cb8" class="mx my iq ky b kz la lc ld lf mz lj na ln nb lr nc nd ne nf bi translated">CSS文件</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="da4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.传单JavaScript文件(应放在上述CSS文件之后)</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="c906" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我们需要添加的所有文件。</p><p id="4091" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以用元素来帮助显示地图。您可以为div元素提供一个唯一的ID。</p><p id="c62a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个元素将用于显示地图。</p><p id="941e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，确保元素具有如下所示的高度属性:</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="8d4b" class="lz ma iq nj b gy nn no l np nq">&lt;div id="htmlmap" style="height:50vh"&gt;&lt;/div&gt;</span></pre><p id="16aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用Mapbox来获取apt切片图层。然而，要获得tile层，我们需要一个访问令牌(可以免费获得)。您可以创建一个帐户，并通过进入<a class="ae kv" href="https://www.mapbox.com/studio/account/tokens/" rel="noopener ugc nofollow" target="_blank">这里</a>获得访问令牌。</p><p id="c45c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我还将添加我的自定义CSS文件以及index.js文件。</p><p id="55bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终的HTML文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="fa06" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">初始化</h2><p id="4927" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在index.js文件中，我们只需使用以下代码初始化地图:</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="e3cc" class="lz ma iq nj b gy nn no l np nq">var mymap = L.map('mapid').setView([51.505, -0.09], 13);</span></pre><p id="f04b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nr ns nt nj b">setView</code>方法返回一个地图对象。第一个参数是一个数组，包含您希望在地图上显示的地点的坐标，13是缩放级别。</p><p id="9736" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这还不是全部。</p><p id="9ded" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要添加一个平铺层到我们的地图。如前所述，我们将使用地图框来获得瓷砖层。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="4bcf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nr ns nt nj b">tileLayer</code>中的第一个参数是切片层的URL，而第二个参数是包含属性的对象。</p><p id="91c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，您需要将Mapbox访问令牌作为字符串传递给属性' access token '。</p><p id="d3f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你现在有一个交互式地图了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/29a832cd4434d2c7be867c50aebb701d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lsnkgHmxvYhQE88nhczTWw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="8856" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">标记和圆圈</h2><p id="8e8f" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">添加标记非常简单。</p><p id="8dd4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像地图的初始化一样，我们需要用坐标初始化地图，然后使用<code class="fe nr ns nt nj b">addTo </code>方法添加到我们的地图中。</p><p id="2a49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">圆圈也是如此。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="c369" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以自定义标记的图标！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/5949c16d724ece1c7a079a878bbfac11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0pfCUWqzsDsPSjCWZWlzg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="8c46" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">事件</h2><p id="3377" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">为了在每次用户与地图交互时执行一些操作，您可以使用<code class="fe nr ns nt nj b">onMapClick</code>函数，该函数在每次地图发生变化时获取一个事件对象。</p><p id="c276" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用它来显示重要的消息或在后台运行一些代码。</p><p id="1a90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在下面的例子中，我们使用了函数向用户显示一个弹出窗口。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="d557" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用事件对象通过使用<code class="fe nr ns nt nj b">latlng</code>来获得纬度和经度，我们使用它来显示弹出窗口，通知用户他所点击的位置的坐标。</p><p id="f912" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您记录该事件，您会发现它包含的所有属性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/4c012102ccd970845420a555acdf7f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFQUGp2TFU9pZaCmpiC-Tg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The event object. Source: Author</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="038d" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">卫星地图</h2><p id="1ff1" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">切换到卫星视图，您实际上只需要修改一行代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/e712ab2bdeb0047e05182c76df79585d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*53O-oJaHxxZCXA2EkXkVxQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure><p id="d2d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们将地图从“mapbox/streets-v11”初始化为“mapbox/satellite-v9”时，我们需要更改“id”属性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="72c0" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">结论</h2><p id="f92a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">添加地图可以增强网站的可访问性，并给人留下良好的第一印象。</p><p id="8d8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">fleed . js提供了一种简单的方法，可以免费快速地将漂亮的交互式地图添加到您的网站上。</p><p id="44b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除此之外，您还可以使用许多功能和工具。官方指南非常深入地涵盖了所有这些方面。</p></div></div>    
</body>
</html>