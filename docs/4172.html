<html>
<head>
<title>Simple React Router Nav Bar</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单反应路由器导航条</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/simple-react-router-nav-bar-17167beeb742?source=collection_archive---------3-----------------------#2020-11-22">https://javascript.plainenglish.io/simple-react-router-nav-bar-17167beeb742?source=collection_archive---------3-----------------------#2020-11-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ca73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.blog.karenying.com/posts/nav-bar-with-dots" rel="noopener ugc nofollow" target="_blank"> <em class="km">阅读本</em> </a> <em class="km">在</em><a class="ae kl" href="https://blog.karenying.com/" rel="noopener ugc nofollow" target="_blank"><em class="km">【blog.karenying.com】</em></a><em class="km">的黑暗模式下。</em></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/01f9993d24f4aaedd9fa09dcaadd9f31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1XZu0rVT2n6ajU56.png"/></div></div></figure><p id="49e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我最喜欢的东西之一是简单的UI状态指示器。我的个人<a class="ae kl" href="https://karenying.com/" rel="noopener ugc nofollow" target="_blank">网站</a>上的导航条利用链接下的圆点来传达悬停和活动状态。它简约而有效:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/01d3056c9024db6d263285c08300df80.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/0*AeV-ZT2LkWo4DMIn.gif"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk"><em class="le">Miss me with the dark blue/purple visited links 🤮</em></figcaption></figure><p id="0fd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我们将介绍如何编写这个导航条。</p><h1 id="bc1e" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">履行</h1><h2 id="b80c" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">先决条件</h2><p id="b522" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">本教程假设您对JavaScript和React有所了解。一切都好吗？我们开始吧👍🏼</p><h1 id="f7c8" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">0.入门指南</h1><p id="515e" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">我们将使用<a class="ae kl" href="https://create-react-app.dev/docs/getting-started/" rel="noopener ugc nofollow" target="_blank"> Create React App </a>来创建、捆绑和运行项目:</p><pre class="ko kp kq kr gt mu mv mw mx aw my bi"><span id="439b" class="md lg iq mv b gy mz na l nb nc">$ npx create-react-app nav-bar-dot<br/>$ cd nav-bar-dot<br/>$ npm start</span></pre><h1 id="6043" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.添加页面</h1><p id="5ebf" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">让我们添加三个页面:主页、关于和联系人。我们将保持简单，只呈现每个的标题:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="3b8b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">2.路由页面</h1><p id="1130" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">现在我们需要路由它们。我们将使用<a class="ae kl" href="https://reactrouter.com/web/guides/quick-start" rel="noopener ugc nofollow" target="_blank"> React路由器Dom </a>:</p><pre class="ko kp kq kr gt mu mv mw mx aw my bi"><span id="8ed2" class="md lg iq mv b gy mz na l nb nc">npm install react-router-dom</span></pre><p id="8872" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据快速入门教程，我们将所有的<code class="fe nf ng nh mv b">Route</code>包装在一个<code class="fe nf ng nh mv b">Router</code>组件中。我们将把根URL和<code class="fe nf ng nh mv b">/home</code>路由到<code class="fe nf ng nh mv b">Home</code>组件。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="cd00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们运行应用程序，并手动访问<a class="ae kl" href="http://localhost:3000/about" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/about</a>，我们应该会看到About页面。</p><h1 id="f695" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.正在创建导航栏</h1><p id="d54a" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">然后我们创建一个名为<code class="fe nf ng nh mv b">Header.js</code>的新文件，并在其中创建一个名为<code class="fe nf ng nh mv b">HeaderLink</code>的新组件。每个<code class="fe nf ng nh mv b">HeaderLink</code>将路由到它所传递的页面:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="f038" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们用React路由器的<code class="fe nf ng nh mv b">Link</code> <a class="ae kl" href="https://reactrouter.com/web/api/Link" rel="noopener ugc nofollow" target="_blank">组件</a>。<code class="fe nf ng nh mv b">to</code>属性接受一个路径字符串。在我们的例子中，它将是<code class="fe nf ng nh mv b">'home'</code>、<code class="fe nf ng nh mv b">'about'</code>或<code class="fe nf ng nh mv b">'contact'</code>。</p><p id="1308" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们将创建名为<code class="fe nf ng nh mv b">Header</code>的父组件，它将调用所有页面的<code class="fe nf ng nh mv b">HeaderLink</code>:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ae27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们把我们的<code class="fe nf ng nh mv b">HeaderLink</code>组件放到<code class="fe nf ng nh mv b">App.js</code>中，我们应该会看到一个超级简单的导航条，它像预期的那样工作:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/d0d7aea08c381e8122a7312d27ac1415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/0*EVJNj06ttKWiXmlE.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk"><em class="le">Bare bones nav bar</em></figcaption></figure><p id="a2ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来设计一下:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ebd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们应该有更好的东西:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/9535e9c2ff86ab0b6938aadb652927dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/0*eHC3a55DavhulOrt.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk"><em class="le">Slightly styled nav bar</em></figcaption></figure><p id="4e6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">耶，我们刚刚创建了一个功能齐全的导航条。现在我们可以进入有趣的部分了:添加一个悬停和选中状态。</p><h1 id="6f1a" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">4.添加悬停/选定指示器</h1><p id="4525" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">为了知道用户当前正在访问哪个页面，我们使用route params。</p><p id="4305" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了呈现<code class="fe nf ng nh mv b">Header</code>组件，我们没有设置固定的路径，而是将我们的<code class="fe nf ng nh mv b">page</code> param(变量名)附加到一个冒号上。这让React Router知道<code class="fe nf ng nh mv b">page</code>是路径的变量名。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="4816" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将这个新的<code class="fe nf ng nh mv b">Route</code>添加到<code class="fe nf ng nh mv b">App.js</code>中:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="d843" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了在我们的<code class="fe nf ng nh mv b">Header</code>组件中获取这个<code class="fe nf ng nh mv b">page</code>变量，我们使用了<code class="fe nf ng nh mv b">useParams</code> <a class="ae kl" href="https://reactrouter.com/web/api/Hooks/useparams" rel="noopener ugc nofollow" target="_blank">钩子</a>。</p><p id="4574" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe nf ng nh mv b">useParams().page</code>将返回我们的<code class="fe nf ng nh mv b">page</code>变量的值，也是根URL后面的slug。有了这些信息，我们可以将一个<code class="fe nf ng nh mv b">selected</code>道具传递给<code class="fe nf ng nh mv b">HeaderLink</code>:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="3af9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以便<code class="fe nf ng nh mv b">HeaderLink</code>知道其链接是否被选择。</p><p id="6804" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们目前有一个小问题。如果我们访问根URL(通常是<a class="ae kl" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>)，导航条不会显示。为什么？因为<code class="fe nf ng nh mv b">page</code>为空，所以<code class="fe nf ng nh mv b">path={'/:page'}</code>不适用。</p><p id="a8ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以通过硬编码<code class="fe nf ng nh mv b">Header</code>来显示根路径来捕捉它:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="7e10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于在这种情况下<code class="fe nf ng nh mv b">useParams()</code>不会返回任何内容，我们必须调整<code class="fe nf ng nh mv b">Header.js</code>中的<code class="fe nf ng nh mv b">page</code>变量，使其默认为<code class="fe nf ng nh mv b">'home'</code>:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="b22b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">太好了，有了这些，我们终于可以设计我们的悬停和选择状态了！</p><p id="2c18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们给我们的<code class="fe nf ng nh mv b">HeaderLink</code>组件添加一些CSS类:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="9f03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以及它们各自的属性:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="59eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个CSS允许圆点在<code class="fe nf ng nh mv b">headerlink-title</code>悬停时显示出来。<code class="fe nf ng nh mv b">.headerlink-dot</code>的<code class="fe nf ng nh mv b">transition</code>属性让外观看起来更平滑。</p><p id="428e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们使用新样式的导航条，我们应该会看到这个:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/0f0ba584c3c376fd6df273ba4f492826.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/0*dJHsNzBIC3zQrSoo.gif"/></div></figure><p id="9a1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它看起来如此漂亮和光滑😊</p><p id="49a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后一个细节:我们不希望当前选中页面的<code class="fe nf ng nh mv b">cursor: pointer</code>或<code class="fe nf ng nh mv b">HeaderLink</code>发生任何点击事件。</p><p id="0fd6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以通过添加另一个类来轻松解决这个问题:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="f153" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们正式结束了🎉</p><h1 id="2aa7" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="5e77" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">在本教程中，我们学习了如何用React路由器设置导航条。然后我们添加了一个悬停/活动状态作为对用户的视觉反馈。</p><p id="5459" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你在路上迷路了，看看我的GitHub <a class="ae kl" href="https://github.com/karenying/nav-bar-with-dots" rel="noopener ugc nofollow" target="_blank"> repo </a>。你也可以在这里看到现场版的<a class="ae kl" href="https://nav-bar-with-dots.netlify.app/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="3751" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你决定用<a class="ae kl" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>部署你的React应用，在这里阅读关于在Netlify上启用重定向来修复spa的客户端路由<a class="ae kl" href="https://www.blog.karenying.com/posts/404-react-page-not-found" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="f32f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读。黑客快乐！</p></div></div>    
</body>
</html>