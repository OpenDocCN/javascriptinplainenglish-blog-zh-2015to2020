<html>
<head>
<title>Cocktail Recipe Mobile App with Ionic and Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Ionic和Vue 3的鸡尾酒配方移动应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/cocktail-recipe-mobile-app-with-ionic-and-vue-3-62015dfb61d6?source=collection_archive---------10-----------------------#2020-12-05">https://javascript.plainenglish.io/cocktail-recipe-mobile-app-with-ionic-and-vue-3-62015dfb61d6?source=collection_archive---------10-----------------------#2020-12-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ad1d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第3部分—饮料搜索</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4afa8159cabb9eb021b2f9522d99e2f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-b9NhYJatAe9JHs_L00lA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by <a class="ae kv" href="https://pixabay.com/users/pexels-2286921/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1853327" rel="noopener ugc nofollow" target="_blank">Pexels</a> from <a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1853327" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="b251" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本系列的第1部分中，我们设置了应用程序并实现了随机鸡尾酒标签。在第2部分中，我们设置了按成分搜索选项卡和页面。在本教程中，我们将实现一个自由形式的搜索标签，以便用户可以按名称搜索饮料。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/f0fbf8556a81b0300ecc8942d6d0cef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/1*qomsP0VmpgtKiYMWtllktQ.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Tab 3 Demo</figcaption></figure><h1 id="0016" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">选项卡图标和名称</h1><p id="cb3c" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们要做的第一件事是改变标签图标和名称。为此，请转到src/views/Tabs.vue。用搜索图标替换导入中的方形图标，在设置方法中返回它，然后在模板中替换它，同时更改选项卡名称。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="c752" class="mv lu iq mr b gy mw mx l my mz"><em class="na">//script<br/>import</em> { <strong class="mr ir">search</strong>, square, shuffle } <em class="na">from</em> 'ionicons/icons';</span><span id="5303" class="mv lu iq mr b gy nb mx l my mz"><em class="na">setup</em>() {<br/> <em class="na">return</em> {<br/>  <strong class="mr ir">search,</strong><br/>  square,<br/>  shuffle,<br/> }<br/>}</span><span id="fc3e" class="mv lu iq mr b gy nb mx l my mz">//template<br/>&lt;ion-tab-button <em class="na">tab</em>="tab2" <em class="na">href</em>="/tabs/tab2"&gt;<br/> &lt;ion-icon :<em class="na">icon</em>="<strong class="mr ir">search</strong>" /&gt;<br/> &lt;ion-label&gt;<strong class="mr ir">Search</strong>&lt;/ion-label&gt;<br/>&lt;/ion-tab-button&gt;</span></pre><h1 id="f037" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">搜索</h1><p id="3cd7" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">要搜索一种饮料，我们可以使用<a class="ae kv" href="https://www.thecocktaildb.com/api.php" rel="noopener ugc nofollow" target="_blank"> TheCocktailDB </a> API搜索端点(https://www.thecocktaildb.com/api/json/v1/1/search.php？s =玛格丽塔)。要实现这一点，请访问src/views/Tab3.vue。</p><p id="7d50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们对其他视图所做的一样，我们将删除<em class="na"> &lt; ion-content &gt; </em>标签内的所有内容，并在脚本标签的顶部添加以下导入:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0fd0" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> { reactive } <em class="na">from</em> "vue";<br/><em class="na">import</em> axios <em class="na">from</em> "axios";<br/><em class="na">import</em> DrinkCard <em class="na">from</em> "@/components/DrinkCard.vue";</span></pre><h2 id="e414" class="mv lu iq bd lv nc nd dn lz ne nf dp md lf ng nh mf lj ni nj mh ln nk nl mj nm bi translated">连接</h2><p id="d3fa" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">接下来，我们要添加一个类型安全接口。由于我们的接口将与src/views/Drink.vue中的接口完全相同，因此将其抽象是有意义的。</p><p id="8956" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在src中添加一个名为interfaces的新文件夹。在该文件夹中创建一个名为IDrinkDetails.ts的文件，然后复制Drink.vue中的饮料接口并粘贴到那里。我们还会将名称重构为IDrinkDetails。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="1713" class="mv lu iq mr b gy mw mx l my mz">interface IDrinkDetails {<br/> idDrink: string;<br/> strDrink: string;<br/> strDrinkAlternate: string;<br/> strDrinkES: string;<br/> strDrinkDE: string;<br/> strDrinkFR: string;<br/> "strDrinkZH-HANS": string;<br/> "strDrinkZH-HANT": string;<br/> strTags: string;<br/> strVideo: string;<br/> strCategory: string;<br/> strIBA: string;<br/> strAlcoholic: string;<br/> strGlass: string;<br/> strInstructions: string;<br/> strInstructionsES: string;<br/> strInstructionsDE: string;<br/> strInstructionsFR: string;<br/> "strInstructionsZH-HANS": string;<br/> "strInstructionsZH-HANT": string;<br/> strDrinkThumb: string;<br/> strIngredient1: string;<br/> strIngredient2: string;<br/> strIngredient3: string;<br/> strIngredient4: string;<br/> strIngredient5: string;<br/> strIngredient6: string;<br/> strIngredient7: string;<br/> strIngredient8: string;<br/> strIngredient9: string;<br/> strIngredient10: string;<br/> strIngredient11: string;<br/> strIngredient12: string;<br/> strIngredient13: string;<br/> strIngredient14: string;<br/> strIngredient15: string;<br/> strMeasure1: string;<br/> strMeasure2: string;<br/> strMeasure3: string;<br/> strMeasure4: string;<br/> strMeasure5: string;<br/> strMeasure6: string;<br/> strMeasure7: string;<br/> strMeasure8: string;<br/> strMeasure9: string;<br/> strMeasure10: string;<br/> strMeasure11: string;<br/> strMeasure12: string;<br/> strMeasure13: string;<br/> strMeasure14: string;<br/> strMeasure15: string;<br/> strCreativeCommonsConfirmed: string;<br/> dateModified: string;<br/>}</span><span id="e583" class="mv lu iq mr b gy nb mx l my mz"><em class="na">export</em> <em class="na">default</em> IDrinkDetails;</span></pre><p id="3ece" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> Drink.vue <br/> </strong>然后在Drink.vue导入界面上方的脚本标签并更新状态:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="e217" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> IDrinkDetails <em class="na">from</em> '../interfaces/IDrinkDetails'</span><span id="72d9" class="mv lu iq mr b gy nb mx l my mz">const<em class="na"> state </em>=<em class="na"> reactive</em>({<br/> <em class="na">drink</em>:<em class="na"> </em>{}<em class="na"> as </em><strong class="mr ir">IDrinkDetails</strong>,<br/> <em class="na">loading</em>:<em class="na"> false</em>,<br/>});</span></pre><h2 id="345a" class="mv lu iq bd lv nc nd dn lz ne nf dp md lf ng nh mf lj ni nj mh ln nk nl mj nm bi translated">表3</h2><p id="74d8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">回到Tab3.vue，我们还将导入接口:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="2212" class="mv lu iq mr b gy mw mx l my mz"><em class="na">import</em> IDrinkDetails <em class="na">from</em> '../interfaces/IDrinkDetails'</span></pre><p id="6a03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们将在export default中添加一个设置方法，并将我们的状态放入其中:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="45d4" class="mv lu iq mr b gy mw mx l my mz"><em class="na">setup</em>() {<br/> const<em class="na"> state </em>=<em class="na"> reactive</em>({<br/>  <em class="na">searchResults</em>:<em class="na"> [] as IDrinkDetails[]</em>,<br/>  <em class="na">loading</em>:<em class="na"> false</em>,<br/> });<br/>}</span></pre><p id="d4b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将实现我们的搜索方法:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="365a" class="mv lu iq mr b gy mw mx l my mz">const<em class="na"> fetchSearchResults </em>=<em class="na"> async </em>(searchTerm: string)<em class="na"> </em>=&gt;<em class="na"> </em>{<br/> <em class="na">state.loading </em>=<em class="na"> true</em>;</span><span id="a907" class="mv lu iq mr b gy nb mx l my mz"> if<em class="na"> </em>(<em class="na">searchTerm</em>)<em class="na"> </em>{<br/>  <em class="na">state.searchResults </em>=<em class="na"> </em>[];</span><span id="328e" class="mv lu iq mr b gy nb mx l my mz">  const<em class="na"> res </em>=<em class="na"> await axios.get</em>(<br/>   `<em class="na">https://www.thecocktaildb.com/api/json/v1/1/search.php?s=</em>${<em class="na">searchTerm</em>}`<br/>);</span><span id="75b2" class="mv lu iq mr b gy nb mx l my mz">  if<em class="na"> </em>(<em class="na">res.data</em>)<em class="na"> </em>{<br/>   <em class="na">state.searchResults </em>=<em class="na"> res.data?.drinks</em>;<br/>  }<br/> }</span><span id="c5df" class="mv lu iq mr b gy nb mx l my mz"><em class="na"> state.loading </em>=<em class="na"> false</em>;<br/>};</span></pre><p id="f081" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在设置方法中要做的最后一件事是将状态和<em class="na"> fetchSearchResults </em>返回到模板:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9389" class="mv lu iq mr b gy mw mx l my mz"><em class="na">return</em> {<br/> state,<br/> fetchSearchResults,<br/>};</span></pre><p id="739e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在模板中，我们将添加一个<em class="na"> ion-searchbar，以便</em>用户可以搜索饮料。搜索栏将触发我们的change和debounce方法，这样我们就不会不必要地调用API。</p><p id="3e46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当API获取结果时，我们将显示一个加载器。如果我们有搜索结果，我们将做一个v-for循环遍历我们的搜索结果，并显示每个结果的饮料卡。如果我们没有结果，我们将显示一条消息说明这一点。</p><p id="0bad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，您的文件应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Tab3.vue</figcaption></figure><h1 id="d678" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">视频教程</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np no l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Video Tutorial</figcaption></figure><h1 id="7d6f" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">包裹</h1><p id="de6d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这将为我们的Ionic框架和Vue鸡尾酒配方应用程序提供支持。概括地说，我们有3个选项卡。在<a class="ae kv" href="https://medium.com/javascript-in-plain-english/cocktail-recipe-mobile-app-with-ionic-and-vue-3-4a28986453f6" rel="noopener">第1部分</a>中，我们建立了我们的项目和随机鸡尾酒应用程序。在<a class="ae kv" href="https://medium.com/javascript-in-plain-english/cocktail-recipe-mobile-app-with-ionic-and-vue-3-8a06008d4a13" rel="noopener">第2部分</a>中，我们实现了按成分标签的搜索。这里，我们实现了我们的搜索选项卡。</p><p id="0d9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，你可以对这个应用程序进行许多改进，我会把这些留给你。在<a class="ae kv" href="https://www.youtube.com/channel/UCLrTZVMYP_VsEyzxTAMcIcQ" rel="noopener ugc nofollow" target="_blank">勤奋开发YouTube频道</a>，我将拍摄第四个重构视频。所以，去那边看看。下次再见，祝编码愉快！</p></div></div>    
</body>
</html>