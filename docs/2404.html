<html>
<head>
<title>Unit Test your React app with Jest, Jest-dom &amp; Enzyme</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨Jestã€Jest-domå’ŒEnzymeå¯¹Reactåº”ç”¨è¿›è¡Œå•å…ƒæµ‹è¯•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/are-you-not-testing-your-react-app-instantly-test-with-jest-enzyme-a-reactjs-2020-tutorial-e9ce0182d66d?source=collection_archive---------2-----------------------#2020-06-21">https://javascript.plainenglish.io/are-you-not-testing-your-react-app-instantly-test-with-jest-enzyme-a-reactjs-2020-tutorial-e9ce0182d66d?source=collection_archive---------2-----------------------#2020-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5291" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ æ›¾ç»æƒ³æµ‹è¯•ä½ çš„Reactåº”ç”¨<em class="kl"> </em>å´æ‰¾ä¸åˆ°æ—¶é—´æ¥è®¾ç½®å®ƒï¼ŸæŒ‰ç…§æˆ‘å°†åœ¨æœ¬æ•™ç¨‹ä¸­å‘ä½ å±•ç¤ºçš„æ­¥éª¤ï¼Œä½ ä¹Ÿå¯ä»¥åƒä¸“ä¸šäººå£«ä¸€æ ·ç«‹å³å¼€å§‹æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/af911cdcdf0178d090881ab34fd1e968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3G6HTZ9h3HcVBi08pSyH2A.gif"/></div></div></figure><p id="7da1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±æœ€ç»ˆç»“æœè€Œè¨€ã€‚æˆ‘ä»¬å°†æ„å»ºè¿™ä¸ªè‡ªå®šä¹‰è®¡ç®—å™¨ç»„ä»¶ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼›</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ky"><img src="../Images/fc6f14a211e68dab93a8be0d83ae6936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MbdmoU7vklJ20ynYAdIcCA.png"/></div></div></figure><p id="a3e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">ä»€ä¹ˆæ˜¯Jestï¼Ÿ</strong></p><div class="kz la gp gr lb lc"><a href="https://github.com/facebook/jest" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd ir gy z fp lh fr fs li fu fw ip bi translated">è„¸ä¹¦/æ°æ–¯ç‰¹</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">ä»¤äººæ„‰å¿«çš„JavaScriptæµ‹è¯•ã€‚åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œä¸ºè„¸ä¹¦/jestçš„å‘å±•åšå‡ºè´¡çŒ®ã€‚</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">github.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq kw lc"/></div></div></a></div><p id="a0f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Jestæ˜¯ä¸€ä¸ªJavaScriptå•å…ƒæµ‹è¯•æ¡†æ¶ã€‚å®ƒå¯ä»¥ç”¨äºä»»ä½•JavaScripté¡¹ç›®ã€‚ä½ æ­£åœ¨åšä¸€ä¸ªæ‰“å­—é¡¹ç›®å—ï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æˆ‘çš„Jest TSæ–‡ç« <a class="ae lr" href="https://medium.com/react-courses/unit-testing-react-typescript-app-with-jest-jest-dom-enzyme-11f52487aa18" rel="noopener"/>ã€‚</p><p id="9e21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Jestæ˜¯æµ‹è¯•è¿è¡Œå™¨ã€æ–­è¨€åº“å’Œæ¨¡æ‹Ÿåº“ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œè¿˜å¯ä»¥æä¾›å¿«ç…§ã€‚</p><ul class=""><li id="3b11" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">å¼€å‘è€…å°±ç»ª:å…¨é¢çš„JavaScriptæµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚é€‚ç”¨äºå¤§å¤šæ•°JavaScripté¡¹ç›®ã€‚</li><li id="dc19" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">å³æ—¶åé¦ˆ:å¿«é€Ÿã€äº¤äº’å¼çš„è§‚å¯Ÿæ¨¡å¼åªè¿è¡Œä¸æ›´æ”¹çš„æ–‡ä»¶ç›¸å…³çš„æµ‹è¯•æ–‡ä»¶ã€‚</li><li id="7d3b" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">å¿«ç…§æµ‹è¯•:æ•è·å¤§å‹å¯¹è±¡çš„å¿«ç…§ï¼Œä»¥ç®€åŒ–æµ‹è¯•å¹¶åˆ†æå®ƒä»¬å¦‚ä½•éšæ—¶é—´å˜åŒ–ã€‚</li></ul><p id="af3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç¬‘è¯æ–‡ä»¶:<a class="ae lr" href="https://jestjs.io/docs/en/tutorial-react" rel="noopener ugc nofollow" target="_blank">https://jestjs.io/docs/en/tutorial-react</a></p><p id="1726" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">ä»€ä¹ˆæ˜¯Jest-dom </strong></p><p id="a2d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b"><a class="ae lr" href="https://github.com/testing-library/jest-dom" rel="noopener ugc nofollow" target="_blank">jest-dom</a></code>æ˜¯ä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰åŒ¹é…æ¥æ‰©å±•Jestçš„åº“ï¼Œä½¿å¾—å¯¹DOMå…ƒç´ çš„æ–­è¨€æ›´åŠ å®¹æ˜“ã€‚</p><p id="7274" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">jest-dom ä¸éœ€è¦ä½¿ç”¨Reactæµ‹è¯•åº“ï¼Œä½†æ˜¯å®ƒä½¿å¾—ç¼–å†™æˆ‘ä»¬çš„æµ‹è¯•æ›´åŠ æ–¹ä¾¿ã€‚</p><p id="a324" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">jest-DOM doc:<a class="ae lr" href="https://noriste.github.io/reactjsday-2019-testing-course/book/intro-to-react-testing/jest-dom.html" rel="noopener ugc nofollow" target="_blank">https://no riste . github . io/react jsday-2019-testing-course/book/intro-to-react-testing/jest-DOM . html</a></p><p id="4d23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">é…¶æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><div class="kz la gp gr lb lc"><a href="https://github.com/enzymejs/enzyme" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd ir gy z fp lh fr fs li fu fw ip bi translated">é…¶/é…¶</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">Reactçš„JavaScriptæµ‹è¯•å®ç”¨ç¨‹åºã€‚åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œä¸ºenzymejs/enzyme developmentåšå‡ºè´¡çŒ®ã€‚</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">github.com</p></div></div><div class="ll l"><div class="mk l ln lo lp ll lq kw lc"/></div></div></a></div><p id="543b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Enzymeæ˜¯ä¸€ä¸ªJavaScriptæµ‹è¯•å®ç”¨ç¨‹åº<strong class="jp ir">ï¼Œä¸“ä¸ºReact </strong>è€Œæ„å»ºï¼Œä½¿æµ‹è¯•Reactç»„ä»¶çš„è¾“å‡ºå˜å¾—æ›´åŠ å®¹æ˜“ã€‚æ‚¨è¿˜å¯ä»¥æ“çºµã€éå†å’Œä»¥æŸç§æ–¹å¼æ¨¡æ‹Ÿç»™å®šè¾“å‡ºçš„è¿è¡Œæ—¶ã€‚</p><p id="6431" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Enzymeçš„APIæ—¨åœ¨é€šè¿‡æ¨¡ä»¿jQueryçš„DOMæ“ä½œå’Œéå†APIæ¥å®ç°ç›´è§‚å’Œçµæ´»ã€‚</p><blockquote class="ml mm mn"><p id="5228" class="jn jo kl jp b jq jr js jt ju jv jw jx mo jz ka kb mp kd ke kf mq kh ki kj kk ij bi translated">æ³¨æ„:é…µç´ å¯ä»¥ä¸ç”¨Jestï¼Œä½†æ˜¯éœ€è¦æ­é…å…¶ä»–å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚</p></blockquote><p id="eb70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é…¶æ–‡æ¡£:<a class="ae lr" href="https://airbnb.io/enzyme/docs/api/" rel="noopener ugc nofollow" target="_blank">https://airbnb.io/enzyme/docs/api/</a></p><h1 id="607a" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">æ‚¨ä¸ºä»€ä¹ˆè¦å­¦ä¹ Jest &amp;é…µç´ ï¼Ÿ</h1><p id="f306" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">Jest + Jest-dom +é…¶+ React =åœ¨æ‚¨çš„Reacté¡¹ç›®ä¸­å®Œæˆæµ‹è¯•èƒ½åŠ›</p><p id="9ec7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Jestå’Œé…¶å¾ˆå¥½åœ°ç»“åˆåœ¨ä¸€èµ·ï¼Œæä¾›çµæ´»å’Œåˆ›é€ æ€§çš„æµ‹è¯•èƒ½åŠ›ã€‚</p><p id="7abf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä»¥ä¸‹æ˜¯ä¸€äº›æœ‰è¶£çš„äº‹å®:</p><ol class=""><li id="a11c" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk nu ly lz ma bi translated">è„¸ä¹¦ä½¿ç”¨Jestæµ‹è¯•æœåŠ¡å’Œååº”åº”ç”¨ç¨‹åºã€‚</li><li id="5312" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk nu ly lz ma bi translated"><a class="ae lr" href="https://medium.com/react-courses/follow-this-tutorial-and-become-a-react-developer-in-5-minutes-a-2020-tutorial-e3709513b51e" rel="noopener">Create-reaction-App</a>ä¸Jest &amp;ä¸€èµ·ä¸Šå¸‚ï¼›å®ƒä¸éœ€è¦å•ç‹¬å®‰è£…ã€‚</li><li id="74d5" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk nu ly lz ma bi translated">é…¶å·¥å…·ç”±Airbnbåˆ›å»º</li></ol><blockquote class="ml mm mn"><p id="d273" class="jn jo kl jp b jq jr js jt ju jv jw jx mo jz ka kb mp kd ke kf mq kh ki kj kk ij bi translated">å¦‚æœæ‚¨è®¤ä¸ºæµ‹è¯•æ—¢æ˜‚è´µåˆè€—æ—¶ï¼Ÿä¸æµ‹è¯•ä¼šèŠ±è´¹ï¼Œä½†ä»é•¿è¿œæ¥çœ‹ï¼Œå¯èƒ½ä¼šèŠ±è´¹æ›´å¤šã€‚</p></blockquote><p id="5322" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‚¨çŸ¥é“å—ï¼Œè´¨é‡ä¿è¯å’Œè½¯ä»¶æµ‹è¯•å…¬å¸QualiTestå¯¹1000å¤šåç¾å›½äººè¿›è¡Œçš„ä¸€é¡¹è°ƒæŸ¥è¡¨æ˜ï¼Œå¦‚æœé‡åˆ°é”™è¯¯æˆ–å°æ•…éšœï¼Œ88%çš„äººä¼šæ”¾å¼ƒåº”ç”¨ç¨‹åºï¼Ÿ</p><ul class=""><li id="d631" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">å¤§çº¦51%çš„äººè¯´ï¼Œå¦‚æœä»–ä»¬æ¯å¤©è‡³å°‘é‡åˆ°ä¸€ä¸ªè‡­è™«ï¼Œä»–ä»¬å¯èƒ½ä¼šå®Œå…¨åœæ­¢ä½¿ç”¨ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚</li><li id="ec20" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">32%çš„å—è®¿è€…è¡¨ç¤ºï¼Œä»–ä»¬å¯èƒ½ä¼šåœ¨é‡åˆ°å°æ•…éšœæ—¶å°±æ”¾å¼ƒåº”ç”¨ã€‚</li></ul><h1 id="2bea" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">æ‚¨å¦‚ä½•å­¦ä¹ Jest &amp;é…µç´ ï¼Ÿ</h1><p id="cb31" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">ä¸ºäº†å¸®åŠ©æ‚¨ç†è§£Jest &amp;é…¶ç³»ç»Ÿï¼Œæˆ‘å°†æœ¬æ•™ç¨‹ä¸­çš„è¿‡ç¨‹åˆ†è§£ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼›</p><ul class=""><li id="0c14" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">ç¬¬1æ­¥â€” <strong class="jp ir">è®¾ç½®ã€‚</strong>è®¾ç½®&amp;é…ç½®æˆ‘ä»¬çš„é¡¹ç›®</li><li id="3b6a" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ç¬¬2æ­¥â€” <strong class="jp ir">ç¼–å†™ä»£ç </strong>è®¡ç®—å™¨è‡ªå®šä¹‰ç»„ä»¶</li><li id="532d" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ç¬¬3æ­¥-<strong class="jp ir">æ£€æµ‹ä»£ç </strong>ã€‚</li></ul><p id="a35e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ æƒ³æ›´å¥½åœ°ç†è§£æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„åº“ï¼Œæˆ‘ä¹Ÿåœ¨æ•™ç¨‹çš„æœ€åæ”¾äº†ä¸€äº›éšè—çš„ä¸œè¥¿ã€‚</p><h1 id="a0a0" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">æˆ‘ä»¬å¼€å§‹å§</h1><p id="6ded" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">å…ˆå†³æ¡ä»¶â€”</p><p id="c919" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘çš„æ•™ç¨‹è®¤ä¸ºä½ æœ‰ä¸€äº›ååº”çŸ¥è¯†ã€‚å¦‚æœä½ ä¸è¿™æ ·åšï¼Œæˆ‘æœ‰ä¸€ç¯‡æ–‡ç« è®©ä½ å¯¹ååº”æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚</p><p id="e94c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é‚£ç¯‡æ–‡ç« ä¼šè®©ä½ å¾ˆå¿«æŒ¯ä½œèµ·æ¥ã€‚æŒ‰ç…§æœ¬æ•™ç¨‹ä¸­çš„æ­¥éª¤ï¼Œä½¿ç”¨<em class="kl"> create-react-app </em>åœ¨å‡ åˆ†é’Ÿå†…è·å¾—ä¸€ä¸ªReacté¡¹ç›®å¹¶å®ç°åŠŸèƒ½ï¼›æŒ‰ç…§æœ¬æ•™ç¨‹&amp;åœ¨å‡ åˆ†é’Ÿå†…æˆä¸ºReactJSå¼€å‘è€…-</p><div class="kz la gp gr lb lc"><a href="https://medium.com/react-courses/follow-this-tutorial-and-become-a-react-developer-in-5-minutes-a-2020-tutorial-e3709513b51e" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd ir gy z fp lh fr fs li fu fw ip bi translated">éµå¾ªæœ¬æ•™ç¨‹&amp;åœ¨å‡ åˆ†é’Ÿå†…ç«‹å³æˆä¸ºReactJSå¼€å‘äººå‘˜â€”â€”2020æ•™ç¨‹</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">å¦‚æœæ‚¨æ›¾ç»æƒ³å­¦ä¹ ååº”ï¼Œä½†æ‰¾ä¸åˆ°æ—¶é—´æˆ–å®³æ€•å®ƒï¼ŸæŒ‰ç…§æˆ‘å°†è¦å‘ä½ å±•ç¤ºçš„æ­¥éª¤å»åšâ€¦</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">medium.com</p></div></div><div class="ll l"><div class="nv l ln lo lp ll lq kw lc"/></div></div></a></div><h1 id="ff56" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">ç¬¬1æ­¥-è®¾ç½®å’Œé…ç½®æˆ‘ä»¬çš„é¡¹ç›®</h1><p id="d69d" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">è®©æˆ‘ä»¬åœ¨ç»ˆç«¯å»ºç«‹æˆ‘ä»¬çš„é¡¹ç›®<code class="fe mg mh mi mj b">hello-jest-enzyme.</code>ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="4876" class="oa ms iq mj b gy ob oc l od oe">$ npx create-react-app hello-jest-enzyme<br/>$ cd hello-jest-enzyme</span></pre><p id="5e51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹äºé…¶ï¼Œæˆ‘ä»¬æƒ³å®‰è£…React 16é€‚é…å™¨(è¿™æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œæˆ‘æ­£åœ¨ä½¿ç”¨ï¼Œä½†è¿™å¯èƒ½ä¼šéšç€æ‚¨é˜…è¯»æœ¬æ–‡çš„æ—¶é—´è€Œæ”¹å˜)ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…<code class="fe mg mh mi mj b">react-test-renderer</code>ä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å°†reactorç»„ä»¶æ¸²æŸ“ä¸ºçº¯JavaScriptå¯¹è±¡ï¼Œè€Œä¸ä¾èµ–äºDOMæˆ–æœ¬åœ°ç§»åŠ¨ç¯å¢ƒï¼Œè¿™å°†æ˜¯æœ‰å¸®åŠ©çš„ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ‹æ‘„å¿«ç…§ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="b767" class="oa ms iq mj b gy ob oc l od oe">$ npm i enzyme enzyme-adapter-react-16 react-test-renderer --save-dev</span></pre><p id="0c91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å°†ä½¿ç”¨Jestçš„å¿«ç…§æµ‹è¯•ç‰¹æ€§æ¥è‡ªåŠ¨å°†JSONæ ‘çš„å‰¯æœ¬ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ£€æŸ¥æˆ‘ä»¬çš„æµ‹è¯•ï¼Œå®ƒæ²¡æœ‰æ”¹å˜ã€‚åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºè¿™ä¸ªç‰¹æ€§:<a class="ae lr" href="https://reactjs.org/docs/test-renderer.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/test-renderer.html</a></p><p id="d44f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æƒ³è®©æˆ‘ä»¬çš„ç”Ÿæ´»æ›´å®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å®‰è£…<code class="fe mg mh mi mj b">enzyme-to-json</code>åº“ï¼›https://github.com/adriantoine/enzyme-to-json#readme:è¿™æ ·æˆ‘ä»¬çš„ä»£ç å¯ä»¥è¢«ç®€åŒ–ã€‚æŸ¥çœ‹æˆ‘çš„å¼•æ“ç›–ä¸‹éƒ¨åˆ†äº†è§£æ›´å¤šè¯¦æƒ…ã€‚</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="76ce" class="oa ms iq mj b gy ob oc l od oe">$ npm i enzyme-to-json --save-dev</span></pre><p id="f3ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºæˆ‘ä»¬æƒ³è¦æµ‹è¯•çš„Reactç»„ä»¶ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="43fc" class="oa ms iq mj b gy ob oc l od oe">$ mkdir -p src/components<br/>$ touch src/components/Calculator.js<br/>$ touch src/components/Calculator.css</span></pre><p id="e667" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹äºæˆ‘ä»¬çš„è®¡ç®—å™¨ï¼Œæˆ‘å°†ä½¿ç”¨macOSå†…ç½®çš„è®¡ç®—å™¨ä½œä¸ºæˆ‘çš„å›¾å½¢ä¸å›¾åƒæ˜ å°„æ¥æ˜ å°„æ¯ä¸ªé”®ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå›¾åƒå˜æˆä¸€ä¸ªå¯ç‚¹å‡»çš„æŒ‰é’®ã€‚æˆ‘å°†ä½¿ç”¨ä¸€ä¸ªreact-image-mapperï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä¹ŸæŠŠå®ƒæ·»åŠ åˆ°æˆ‘ä»¬çš„åº“ä¸­ï¼›</p><p id="3103" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">$ <code class="fe mg mh mi mj b">npm i react-image-mapper@latest --save</code></p><p id="4cee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é…·ï¼Œæˆ‘ä»¬è®¾ç½®æˆ‘ä»¬çš„é¡¹ç›®å¹¶å®‰è£…æ‰€æœ‰çš„åº“æ¥å¼€å§‹æˆ‘ä»¬çš„é¡¹ç›®ã€‚âœŒï¸</p><h1 id="81d7" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">æ­¥éª¤2 â€”åˆ›å»ºæˆ‘ä»¬çš„å®šåˆ¶ç»„ä»¶</h1><p id="c60f" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">åœ¨ä»£ç çº§åˆ«ï¼Œæˆ‘æ­£åœ¨åˆ›å»ºä¸€ä¸ªè®¡ç®—å™¨è‡ªå®šä¹‰ç»„ä»¶ã€‚æˆ‘æ‰€åšçš„æ˜¯æˆªå±macOSè®¡ç®—å™¨ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªåœ¨çº¿å·¥å…·æ˜ å°„(image-map.net)æˆ‘çš„å›¾åƒåˆ°ä¸€ä¸ªå¯ç‚¹å‡»çš„åœ°å›¾åŒºåŸŸã€‚</p><p id="f8ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘æ­£åœ¨è®¾ç½®ä¸€ä¸ªçŠ¶æ€æ¥åŒ…å«æˆ‘çš„è¾“å‡ºï¼Œè¿™ä¸¤ä¸ªæ•°å­—æ˜¯æˆ‘å’Œæ“ä½œå‘˜ä¸€èµ·å·¥ä½œçš„ã€‚çœ‹ä¸€çœ‹ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="ee5e" class="oa ms iq mj b gy ob oc l od oe">// src/components/Calculator.js</span><span id="6ccf" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">import </strong>React, { Component } <strong class="mj ir">from </strong>"react";<br/><strong class="mj ir">import </strong>ImageMapper <strong class="mj ir">from </strong>'react-image-mapper';<br/><strong class="mj ir">import </strong>'./Calculator.css';</span><span id="fcce" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">export const </strong>URL = 'calculator.jpg';<br/><strong class="mj ir">export const </strong>MAP = {<br/>    name: "my-map",<br/>    areas: [<br/>        {<br/>            name: "0", shape: "rect", coords: [3,387,227,474]<br/>        },<br/>        {<br/>            name: "1", shape: "rect", coords: [2,291,112,382]<br/>        },<br/>        {<br/>            name: "2", shape: "rect", coords: [116,290,227,382]<br/>        },<br/>        {<br/>            name: "3", shape: "rect", coords: [342,382,232,290]<br/>        },<br/>        {<br/>            name: "4", shape: "rect", coords: [3,194,111,290]<br/>        },<br/>        {<br/>            name: "5", shape: "rect", coords: [115,193,227,290]<br/>        },<br/>        {<br/>            name: "6", shape: "rect", coords: [231,194,343,290]<br/>        },<br/>        {<br/>            name: "7", shape: "rect", coords: [4,97,111,191]<br/>        },<br/>        {<br/>            name: "8", shape: "rect", coords: [115,99,227,191]<br/>        },<br/>        {<br/>            name: "9", shape: "rect", coords: [231,98,343,191]<br/>        },<br/>        {<br/>            name: "+", shape: "rect", coords: [348,291,463,382]<br/>        },<br/>        {<br/>            name: "-", shape: "rect", coords: [348,195,463,290]<br/>        },<br/>        {<br/>            name: "*", shape: "rect", coords: [348,98,463,191]<br/>        },<br/>        {<br/>            name: "/", shape: "rect", coords: [348,3,463,93]<br/>        },<br/>        {<br/>            name: "=", shape: "rect", coords: [348,387,463,474]<br/>        }<br/>    ]<br/>}</span><span id="b002" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">export default class </strong>Calculator <strong class="mj ir">extends </strong>Component {</span><span id="216a" class="oa ms iq mj b gy of oc l od oe">    constructor(props) {<br/>        <strong class="mj ir">super</strong>(props)<br/>        <strong class="mj ir">this</strong>.state = {<br/>            output: 0,<br/>            operatorType: '',<br/>            number1: 0,<br/>            number2: -1<br/>        }<br/>    }</span><span id="78e0" class="oa ms iq mj b gy of oc l od oe">    startOver = () =&gt; {<br/>        <strong class="mj ir">this</strong>.setState({<br/>            operatorType: '',<br/>            number1: 0,<br/>            number2: -1,<br/>            output: 0<br/>        });<br/>    };</span><span id="e51e" class="oa ms iq mj b gy of oc l od oe">    calculateTwoNumbers = (num1, num2, operator) =&gt; {<br/>        <strong class="mj ir">let </strong>retVal = 0;<br/>        <strong class="mj ir">switch </strong>(operator) {<br/>            <strong class="mj ir">case </strong>'+':<br/>                retVal = num1 + num2;<br/>                <strong class="mj ir">break</strong>;<br/>            <strong class="mj ir">case </strong>'-':<br/>                retVal = num1 - num2;<br/>                <strong class="mj ir">break</strong>;<br/>            <strong class="mj ir">case </strong>'*':<br/>                retVal = num1 * num2;<br/>                <strong class="mj ir">break</strong>;<br/>            <strong class="mj ir">case </strong>'/':<br/>                retVal = num1 / num2;<br/>                <strong class="mj ir">break</strong>;<br/>            <strong class="mj ir">default</strong>:<br/>                alert('Operator not recognized');<br/>        }<br/>        <strong class="mj ir">return </strong>retVal;<br/>    }</span><span id="179e" class="oa ms iq mj b gy of oc l od oe">    clicked = (btnName) =&gt; {<br/>        <strong class="mj ir">switch </strong>(btnName) {<br/>            <strong class="mj ir">case </strong>'-':<br/>            <strong class="mj ir">case </strong>'*':<br/>            <strong class="mj ir">case </strong>'/':<br/>            <strong class="mj ir">case </strong>'+':<br/>                <strong class="mj ir">this</strong>.setState({<br/>                    operatorType: btnName,<br/>                    number1: (Number(<strong class="mj ir">this</strong>.state.output))<br/>                });<br/>                <strong class="mj ir">break</strong>;<br/>            <strong class="mj ir">case </strong>'=':<br/>                <strong class="mj ir">this</strong>.setState({<br/>                    output: <strong class="mj ir">this</strong>.calculateTwoNumbers(<strong class="mj ir">this</strong>.state.number1, Number(<strong class="mj ir">this</strong>.state.output), <strong class="mj ir">this</strong>.state.operatorType)<br/>                });<br/>                <strong class="mj ir">break</strong>;<br/>            <strong class="mj ir">default</strong>:<br/>                <strong class="mj ir">let </strong>isFirstDigitNumber2 = (<strong class="mj ir">this</strong>.state.operatorType &amp;&amp; <strong class="mj ir">this</strong>.state.number2 === -1);<br/>                <strong class="mj ir">this</strong>.setState({<br/>                    number2: isFirstDigitNumber2 ? 0 : <strong class="mj ir">this</strong>.state.number2,<br/>                    output: isFirstDigitNumber2 ? Number(btnName) : Number(<strong class="mj ir">this</strong>.state.output + btnName)<br/>                });<br/>        }<br/>    };</span><span id="af56" class="oa ms iq mj b gy of oc l od oe">    render() {<br/>        <strong class="mj ir">return </strong>(<br/>            &lt;div&gt;<br/>                &lt;a href="http://twitter.com/elieladelrom" className="follow"&gt;@elieladelrom&lt;/a&gt;<br/>                &lt;h1 className="title"&gt;{<strong class="mj ir">this</strong>.props.componentTitle} - Version #{<strong class="mj ir">this</strong>.props.version}&lt;/h1&gt;<br/>                &lt;p&gt;<br/>                    &lt;button onClick={<strong class="mj ir">this</strong>.startOver}&gt;Start Over&lt;/button&gt;<br/>                &lt;/p&gt;<br/>                &lt;div className="output" class="calculator-output"&gt;{<strong class="mj ir">this</strong>.state.output}&lt;/div&gt;<br/>                &lt;ImageMapper src={URL} map={MAP}<br/>                             onClick={area =&gt; <strong class="mj ir">this</strong>.clicked(area.name)}<br/>                /&gt;<br/>            &lt;/div&gt;<br/>        );<br/>    }<br/>}</span></pre><p id="03dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨<code class="fe mg mh mi mj b">jsx</code>æ–¹é¢ï¼Œæˆ‘ç”¨æˆ‘çš„twitterå¤„ç†ç¨‹åºæ·»åŠ äº†ä¸€ä¸ªdivï¼Œè¿™çœ‹èµ·æ¥åƒæ˜¯æ— è€»çš„è‡ªæˆ‘æ¨é”€ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘æƒ³æŠŠå®ƒåŒ…æ‹¬è¿›æ¥ç»™ä½ çœ‹ä¸€äº›æµ‹è¯•ã€‚åŒæ ·çš„æŒ‰é’®å°†å…è®¸æˆ‘ä»¬é‡æ–°å¼€å§‹ï¼Œæˆ‘ä»¬å°†è®¾ç½®ä¸€ä¸ªæ ‡é¢˜ä½œä¸ºé“å…·ã€‚</p><p id="6ff9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹äº<code class="fe mg mh mi mj b">CSS</code>ï¼Œæˆ‘æ­£åœ¨åˆ›å»ºä¸€ä¸ªç±»æ¥æ ¼å¼åŒ–æˆ‘çš„è¾“å‡ºï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="3bba" class="oa ms iq mj b gy ob oc l od oe">// src/components/Calculator.css</span><span id="c98e" class="oa ms iq mj b gy of oc l od oe">.calculator-output<br/>{<br/>    background:url('/calculator-input.jpg') no-repeat right top;<br/>    color:#fff;<br/>    font-size:50px;<br/>    width: 464px;<br/>    height: 120px;<br/>    text-align: center;<br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>}</span></pre><p id="9dec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°æˆ‘ä»¬çš„App.jsï¼Œä»¥åŒ…å«æˆ‘ä»¬çš„è‡ªå®šä¹‰ç»„ä»¶ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="f081" class="oa ms iq mj b gy ob oc l od oe">// src/App.js</span><span id="9190" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">import </strong>React <strong class="mj ir">from </strong>'react';<br/><strong class="mj ir">import </strong>'./App.css';<br/><strong class="mj ir">import </strong>Calculator <strong class="mj ir">from </strong>"./components/Calculator";</span><span id="a774" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">function </strong>App() {<br/>  <strong class="mj ir">return </strong>(<br/>    &lt;div className="App"&gt;<br/>      &lt;Calculator componentTitle={"Online Calculator"} version={"0.01-beta"}/&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="9a11" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">export default </strong>App;</span></pre><p id="2fab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°±è¿™æ ·ï¼Œè·‘ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="dea6" class="oa ms iq mj b gy ob oc l od oe">$ npm start</span></pre><p id="4ada" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨ğŸ˜Šã€‚è¯·æ³¨æ„ï¼Œæˆ‘æ²¡æœ‰æ˜ å°„æ‰€æœ‰çš„è®¡ç®—å™¨é”®å’ŒåŠŸèƒ½ï¼Œåªæ˜¯åŸºæœ¬çš„ï¼Œä½†æ˜¯å¯ä»¥éšæ„å®Œæˆå®ƒä»¬ã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi og"><img src="../Images/842ab67c9daab8302f6cb5d417613b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*E7LVtpt83vtUX7zwrLx06A.gif"/></div></div></figure><h1 id="7805" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">æ­¥éª¤3 â€”æµ‹è¯•ä»£ç </h1><p id="e35b" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å°†è®¾ç½®æˆ‘ä»¬çš„æµ‹è¯•ç¯å¢ƒï¼Œæ‰“å¼€<code class="fe mg mh mi mj b">src/setupTests.js</code>:</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="05b5" class="oa ms iq mj b gy ob oc l od oe"><strong class="mj ir">// </strong>src/setupTests.js</span><span id="a833" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">import </strong>{ configure } <strong class="mj ir">from </strong>'enzyme';<br/><strong class="mj ir">import </strong>Adapter <strong class="mj ir">from </strong>'enzyme-adapter-react-16'</span><span id="a3e3" class="oa ms iq mj b gy of oc l od oe">configure({ adapter: <strong class="mj ir">new </strong>Adapter() });</span></pre><p id="85f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">å¿«ç…§æµ‹è¯•ä½ çš„é…µç´ åŒ…</strong></p><p id="a757" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ›´æ–°æ‚¨çš„<code class="fe mg mh mi mj b">package.json</code>:</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="5abf" class="oa ms iq mj b gy ob oc l od oe">// src/<!-- -->package.json<br/>..<br/>"jest": {<br/>  "snapshotSerializers": ["enzyme-to-json/serializer"]<br/>},<br/>..</span></pre><p id="2c5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ³¨æ„ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯Create-React-Appï¼Œæ‰€ä»¥ä¸éœ€è¦å®‰è£…jestï¼Œå®ƒæ˜¯ç°æˆçš„ã€‚å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œå¯¹äºEnzymeï¼Œè¯¥å‘½ä»¤åæ˜ äº†æˆ‘ä»¬çš„Reactç‰ˆæœ¬:enzyme-adapter-react-16ã€‚</p><p id="342f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‰“å¼€<code class="fe mg mh mi mj b">src/App.test.js </code> -æˆ‘ä»¬åœ¨è¿™é‡Œçš„æµ‹è¯•æ˜¯ä¸ºäº†ç¡®ä¿æˆ‘ä»¬çš„ç»„ä»¶åŒ…å«åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="3da5" class="oa ms iq mj b gy ob oc l od oe">// src/App.test.js</span><span id="e11c" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">import </strong>{ shallow } <strong class="mj ir">from </strong>"enzyme";<br/><strong class="mj ir">import </strong>Calculator <strong class="mj ir">from </strong>"./components/Calculator";</span><span id="c648" class="oa ms iq mj b gy of oc l od oe">test(â€˜should render Calculatorâ€™, () =&gt; {<br/>    <strong class="mj ir">const </strong>wrapper = shallow(&lt;App /&gt;);<br/>    <strong class="mj ir">const </strong>calculator = wrapper.find(Calculator);</span><span id="4384" class="oa ms iq mj b gy of oc l od oe">expect(calculator.exists()).toBe(<strong class="mj ir">true</strong>);<br/>})</span></pre><p id="1cee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¦è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ï¼Œæˆ‘ä»¬çš„æ¨¡æ¿é¡¹ç›®å·²ç»é…å¤‡äº†å¤„ç†ä¸€åˆ‡çš„æµ‹è¯•è„šæœ¬ï¼Œåªéœ€è¿è¡Œrun testå‘½ä»¤ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="81fa" class="oa ms iq mj b gy ob oc l od oe">$ npm run test</span></pre><p id="e124" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥ï¼Œ</p><p id="b35f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">åˆ›å»ºæˆ‘ä»¬çš„è®¡ç®—å™¨ç»„ä»¶æµ‹è¯•æ–‡ä»¶:</strong></p><p id="057f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Jestå°†åœ¨ä»¥ä¸‹ä»»ä½•ä½ç½®æŸ¥æ‰¾æµ‹è¯•æ–‡ä»¶:</p><ul class=""><li id="4dc7" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated"><code class="fe mg mh mi mj b">__tests__</code>æ–‡ä»¶å¤¹ä¸­å¸¦æœ‰<code class="fe mg mh mi mj b">.js</code>åç¼€çš„æ–‡ä»¶ã€‚</li><li id="dd17" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">å¸¦æœ‰<code class="fe mg mh mi mj b">.test.js</code>åç¼€çš„æ–‡ä»¶ã€‚</li><li id="22b5" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">åç¼€ä¸º<code class="fe mg mh mi mj b">.spec.js</code>çš„æ–‡ä»¶ã€‚</li></ul><p id="3077" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å°†ä½¿ç”¨<code class="fe mg mh mi mj b">Calculator.spec.js </code>,æˆ‘å–œæ¬¢. spec.jsï¼Œå› ä¸ºå®ƒæ˜¯Angularç­‰å…¶ä»–æ¡†æ¶çš„æ ‡å‡†ã€‚</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="25a1" class="oa ms iq mj b gy ob oc l od oe">$ touch src/components/Calculator.spec.js</span></pre><p id="2903" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æˆ‘ä»¬çš„ç»„ä»¶æµ‹è¯•æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€äº›ä¸œè¥¿ï¼Œé¦–å…ˆå¯¼å…¥Reactï¼Œæˆ‘ä»¬å°†ä½¿ç”¨çš„<code class="fe mg mh mi mj b">Enzyme</code>API(<code class="fe mg mh mi mj b">shallow</code>å’Œ<code class="fe mg mh mi mj b">mount</code>)å’Œæˆ‘ä»¬çš„å®šåˆ¶ç»„ä»¶<code class="fe mg mh mi mj b">Calculator</code>ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="3a73" class="oa ms iq mj b gy ob oc l od oe">// src/components/Calculator.spec.js</span><span id="5cdf" class="oa ms iq mj b gy of oc l od oe"><strong class="mj ir">import </strong>React <strong class="mj ir">from </strong>"react";<br/><strong class="mj ir">import </strong>{ shallow, mount } <strong class="mj ir">from </strong>"enzyme";<br/><strong class="mj ir">import </strong>Calculator <strong class="mj ir">from </strong>"./Calculator";</span></pre><p id="7bd0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æµ‹è¯•å¥—ä»¶å¿«ç…§</strong></p><p id="d587" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å°†ä»åˆ›å»ºä¸€ä¸ªæµ‹è¯•å¥—ä»¶å¼€å§‹ã€‚æµ‹è¯•å¥—ä»¶åˆ›å»ºäº†ä¸€ä¸ªå°†å‡ ä¸ªæµ‹è¯•ç»„åˆåœ¨ä¸€èµ·çš„å—ã€‚æˆ‘ä»¬å¯ä»¥åˆ—å‡ºæ‰€æœ‰æˆ‘ä»¬æƒ³è¦åŒ…å«çš„æµ‹è¯•ã€‚</p><p id="8f91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æµ‹è¯•å¥—ä»¶ä¸­ï¼Œæˆ‘åªè®¾ç½®äº†ä¸€ä¸ªæµ‹è¯•ï¼Œæ¥è®¾ç½®æˆ‘ä»¬çš„å¿«ç…§ï¼Œä½†æ˜¯æ‚¨å¯ä»¥åŒ…æ‹¬å…¶ä»–å¿«ç…§ï¼Œä»¥é˜²æ‚¨æœ‰å…¶ä»–ç›¸å…³çš„åŠ©æ‰‹ã€å®ç”¨ç¨‹åºï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="2d94" class="oa ms iq mj b gy ob oc l od oe">// describe(name, fn) creates a block that groups together several related tests in one "test suite".<br/>describe('Calculator Snapshots', () =&gt; {<br/>    it('should render our Snapshots correctly', () =&gt; {<br/>        <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>        expect(wrapper).toMatchSnapshot();<br/>    });<br/>});</span></pre><p id="3669" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨ï¼Œæ£€æŸ¥ä½ çš„æ–‡ä»¶å¤¹ï¼Œæ³¨æ„è¿™ä¸ªè„šæœ¬ä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code class="fe mg mh mi mj b">__snapshots__ folder</code>æ¥è§‚å¯Ÿå˜åŒ–ï¼›</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/f6651afee177904a0cce56168777b699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*nTXV8Lyo45Dw1JU6HaTJMQ.png"/></div></figure><p id="1e39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æˆ‘ä»¬æ›´æ”¹ä»£ç æ—¶ï¼Œtest liveç‰¹æ€§ä¼šå‘Šè¯‰æˆ‘ä»¬æ›´æ–°å¿«ç…§ï¼Œåªéœ€ç‚¹å‡»<code class="fe mg mh mi mj b">u</code>ã€‚</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oi"><img src="../Images/b79bf6126c0a3fc41e6e6e32afaa01aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KwHC3mtf8Zd_iewTFMdliQ.png"/></div></div></figure><p id="354e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">éäº¤äº’ç»„ä»¶çš„å•ä¸€æµ‹è¯•</strong></p><p id="e93b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¦ä¸ºéäº¤äº’ç»„ä»¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•æˆ‘æ— è€»çš„è‡ªæˆ‘æ¨é”€Twitterè´¦æˆ·ã€‚æˆ‘ä»¬ä¸ºè‡ªå®šä¹‰ç»„ä»¶åˆ›å»ºäº†ä¸€ä¸ª<code class="fe mg mh mi mj b">wrapper</code>,å¹¶ä¸”å¯ä»¥ä½¿ç”¨å¸¦æœ‰<code class="fe mg mh mi mj b">find</code>æ–¹æ³•çš„<code class="fe mg mh mi mj b">shallow</code>æ¥è®¿é—®æˆ‘ä»¬çš„<code class="fe mg mh mi mj b">a</code>é“¾æ¥domæ ‡ç­¾ä¸­çš„<code class="fe mg mh mi mj b">text</code>å­—æ®µï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="deda" class="oa ms iq mj b gy ob oc l od oe">// non-interactive components - using it (single test)<br/>it('should render the link url', () =&gt; {<br/>    <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>    <strong class="mj ir">const </strong>a = wrapper.find('a');<br/>    <strong class="mj ir">const </strong>result = a.text();</span><span id="b3d4" class="oa ms iq mj b gy of oc l od oe">    expect(result).toBe('@elieladelrom');<br/>});</span></pre><p id="99e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æµ‹è¯•ç»„ä»¶é“å…·</strong></p><p id="6579" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºäº†æµ‹è¯•æˆ‘ä»¬ä»ä¸»å…¥å£ç‚¹<code class="fe mg mh mi mj b">App.js</code>ä¼ æ¥çš„æ ‡é¢˜ä¸Šçš„é“å…·ï¼Œç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰çš„æµ‹è¯•ï¼Œæˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå¹¶æ ¹æ®æˆ‘ä»¬æ³¨å…¥çš„æ•°æ®æ£€æŸ¥<code class="fe mg mh mi mj b">h1</code>æ–‡æœ¬ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="a8e9" class="oa ms iq mj b gy ob oc l od oe">// it(is aliased by test so it does the same thing as it)<br/>test('should render component title', () =&gt; {<br/>    <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator componentTitle={'Online Calculator'} version={'0.01-beta'}/&gt;);<br/>    <strong class="mj ir">const </strong>title = wrapper.find('h1.title').text();</span><span id="2812" class="oa ms iq mj b gy of oc l od oe">    expect(title).toBe('Online Calculator - Version #0.01-beta');<br/>});</span></pre><blockquote class="ml mm mn"><p id="49d7" class="jn jo kl jp b jq jr js jt ju jv jw jx mo jz ka kb mp kd ke kf mq kh ki kj kk ij bi translated">æ³¨æ„:ä¸ºäº†åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨<code class="fe mg mh mi mj b"><em class="iq">test</em></code>å…³é”®å­—ä»£æ›¿<code class="fe mg mh mi mj b"><em class="iq">it</em></code>å…³é”®å­—â€”â€”è¿™æ˜¯ä¸€æ ·çš„ï¼Œ<code class="fe mg mh mi mj b"><em class="iq">it</em></code>åªæ˜¯ä¸€ä¸ªåˆ«åã€‚æƒ³ç»™ä½ ä»¬ä¿©çœ‹çœ‹ã€‚</p></blockquote><p id="a4db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æµ‹è¯•äº¤äº’æŒ‰é’®</strong></p><p id="5dee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹äºäº¤äº’å¼ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe mg mh mi mj b">simulate</code>ï¼Œæ¥æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„æ‰‹åŠ¿ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒè¾“å‡ºä¸­çš„ç»“æœï¼Œæˆ‘ä»¬æ­£åœ¨é‡æ–°å¼€å§‹ï¼Œè¾“å‡ºåº”è¯¥æ¸…æ™°ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="9f66" class="oa ms iq mj b gy ob oc l od oe">test('Testing output indirectly - should clean our result box clicking clear', () =&gt; {<br/>    <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>    <strong class="mj ir">const </strong>output = wrapper.find('div.output').text();<br/>    <strong class="mj ir">const </strong>btn = wrapper.find('button');</span><span id="3fc8" class="oa ms iq mj b gy of oc l od oe">    expect(output).toBe("0");</span><span id="81a5" class="oa ms iq mj b gy of oc l od oe">    btn.simulate('click');<br/>    <strong class="mj ir">const </strong>output_2 = wrapper.find('div.output').text();<br/>    expect(output_2).toBe("0");<br/>});</span></pre><p id="8b9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">ç›´æ¥æµ‹è¯•åŠŸèƒ½çš„æµ‹è¯•å¥—ä»¶</strong></p><p id="427a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ç›´æ¥æµ‹è¯•åŠŸèƒ½ã€‚çœ‹ä¸€ä¸‹æˆ‘åœ¨è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªæµ‹è¯•å¥—ä»¶æ¥æµ‹è¯•æˆ‘çš„<code class="fe mg mh mi mj b">calculateTwoNumbers</code>ã€‚åœ¨æµ‹è¯•å¥—ä»¶ä¸­ï¼Œæˆ‘å¯ä»¥æµ‹è¯•æ‰€æœ‰ä¸åŒçš„æ“ä½œç¬¦ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="dfa7" class="oa ms iq mj b gy ob oc l od oe">describe('Testing Calculator calculateTwoNumbers testsuite directly', () =&gt; {<br/>    test('Testing calculateTwoNumbers Directly - add', () =&gt; {<br/>        <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>        <strong class="mj ir">const </strong>instance = wrapper.instance();<br/>        expect(instance.calculateTwoNumbers(1, 2, '+')).toBe(3);<br/>    });<br/>    test('Testing calculateTwoNumbers Directly - multiple', () =&gt; {<br/>        <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>        <strong class="mj ir">const </strong>instance = wrapper.instance();<br/>        expect(instance.calculateTwoNumbers(2, 2, '*')).toBe(4);<br/>    });<br/>});</span></pre><p id="e41d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ³¨æ„ï¼Œ<code class="fe mg mh mi mj b">wrapper</code>ä¸Šçš„<code class="fe mg mh mi mj b">instance()</code>å±æ€§éå¸¸å¼ºå¤§ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥è®¿é—®æˆ‘ä»¬çš„æ–¹æ³•ã€‚</p><p id="fb50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æµ‹è¯•äº¤äº’æŒ‰é’®å’Œæˆ‘ä»¬çš„çŠ¶æ€</strong></p><p id="c0eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½¿ç”¨<code class="fe mg mh mi mj b">instance()</code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æµ‹è¯•æˆ‘ä»¬çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæµ‹è¯•æ¥æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦ç‚¹å‡»äº†<code class="fe mg mh mi mj b">1</code>æŒ‰é’®ï¼Œè¾“å‡ºä¼šäº§ç”Ÿ<code class="fe mg mh mi mj b">1</code>ã€‚</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="4bd3" class="oa ms iq mj b gy ob oc l od oe">test('test clicked calculator button method', () =&gt; {<br/>    <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>    <strong class="mj ir">const </strong>instance = wrapper.instance();<br/>    instance.clicked('1');<br/>    expect( wrapper.state('output')).toBe(1);<br/>});</span></pre><p id="e112" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">ä½¿ç”¨Mountæµ‹è¯•è‡ªå®šä¹‰ç»„ä»¶ï¼›</strong></p><p id="a705" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„react-image-mapperï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe mg mh mi mj b">jest-canvas-mock</code>æ¥è®¿é—®æ‰€æœ‰çš„ç”»å¸ƒæ¨¡æ‹Ÿå±æ€§ï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬å°†å¾—åˆ°è¿™ä¸ªå¹³å‡è¯¯å·®ï¼›</p><p id="ac23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">TypeError: Cannot set property â€˜fillStyleâ€™ of null</code></p><p id="5ccf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®‰è£…åº“<code class="fe mg mh mi mj b">jest-canvas-mock</code>ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="ae7c" class="oa ms iq mj b gy ob oc l od oe">$ npm i â€” save-dev jest-canvas-mock</span></pre><p id="f446" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¹¶å°†åº“åŒ…å«åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="a341" class="oa ms iq mj b gy ob oc l od oe">require('jest-canvas-mock');</span></pre><p id="ffa3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">çœ‹ä¸€çœ‹ï¼Œè¿›è¡Œä¸€ä¸ªæµ‹è¯•æ¥ç¡®ä¿æˆ‘ä»¬çš„åœ°å›¾åŒºåŸŸäº§ç”Ÿä¸€ä¸ªæŒ‡é’ˆå…‰æ ‡ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="9746" class="oa ms iq mj b gy ob oc l od oe"><strong class="mj ir">import </strong>ImageMapper <strong class="mj ir">from </strong>'react-image-mapper';<br/><strong class="mj ir">import </strong>{ URL, MAP } <strong class="mj ir">from </strong>"./Calculator";<br/>require('jest-canvas-mock');</span><span id="1099" class="oa ms iq mj b gy of oc l od oe">describe('when onClick prop is provided', () =&gt; {<br/>    it('map styles should have "cursor:pointer"', () =&gt; {<br/>        <strong class="mj ir">const </strong>wrapper = mount(&lt;ImageMapper src={URL} map={MAP} onClick={() =&gt; {}} /&gt;);<br/>        <strong class="mj ir">const </strong>mapStyles = wrapper.find('map').get(0).props.style;</span><span id="a370" class="oa ms iq mj b gy of oc l od oe">        expect(mapStyles).toMatchObject({"cursor": "pointer"});<br/>        wrapper.unmount();<br/>    });<br/>});</span></pre><p id="edd6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ³¨æ„ï¼Œä½¿ç”¨<code class="fe mg mh mi mj b">mount</code> <code class="fe mg mh mi mj b">enzyme</code> APIï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®Œæˆåå¸è½½åŒ…è£…å™¨ï¼›<code class="fe mg mh mi mj b">wrapper.unmount();</code></p><p id="3bd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">mount APIåœ¨DOMä¸­æŒ‚è½½ç»„ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ¯æ¬¡æµ‹è¯•å<code class="fe mg mh mi mj b">.unmount()</code>æ¥åœæ­¢ç›¸äº’å½±å“çš„æµ‹è¯•ã€‚</p><p id="2cca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">åˆ©ç”¨é—´è°è¿›è¡Œæµ‹è¯•</strong></p><p id="f426" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸€æ—¦æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¢é•¿ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸å¼‚æ­¥æ•°æ®äº¤äº’ï¼ŒJestæœ‰å†…ç½®åŠŸèƒ½æ¥å¤„ç†æ¨¡æ‹Ÿæ•°æ®å’ŒåŠŸèƒ½ã€‚</p><ul class=""><li id="f365" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">çœ‹çœ‹æ›´é«˜çº§çš„æµ‹è¯•é¢˜ç›®ï¼Œå¦‚é—´è°å’Œå˜²å¼„<a class="ae lr" href="https://jestjs.io/docs/en/jest-object" rel="noopener ugc nofollow" target="_blank">https://jestjs.io/docs/en/jest-object</a></li></ul><p id="f6f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å¯èƒ½ä¼šå‘å¸ƒå¦ä¸€ä¸ªå¸–å­å¹¶å±•ç¤ºé«˜çº§ç”¨ä¾‹æµ‹è¯•ï¼Œä½†ç°åœ¨ï¼Œåªçœ‹ä¸€ä¸ªç®€å•çš„åˆºæ¢æˆ‘ä»¬çš„<code class="fe mg mh mi mj b">startOver</code>å‡½æ•°çš„æµ‹è¯•ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="900e" class="oa ms iq mj b gy ob oc l od oe">test('spy', () =&gt; {<br/>    <strong class="mj ir">const </strong>wrapper = shallow(&lt;Calculator /&gt;);<br/>    <strong class="mj ir">const </strong>instance = wrapper.instance();<br/>    jest.spyOn(instance, 'startOver');<br/>    wrapper.find('button').simulate('click');<br/>    expect(wrapper.state('output')).toBe(0);<br/>});</span></pre><p id="47e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸€æ—¦æˆ‘ä»¬æ‰€æœ‰çš„æµ‹è¯•å¥—ä»¶å’Œå­˜æ ¹éƒ½å‡†å¤‡å¥½äº†ï¼Œä½ åº”è¯¥æœŸå¾…ä»¥ä¸‹æµ‹è¯•è¾“å‡ºï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="a2fa" class="oa ms iq mj b gy ob oc l od oe">Test Suites: 2 passed, 2 total<br/>Tests: 10 passed, 10 total<br/>Snapshots: 1 passed, 1 total<br/>Time: 58.27s<br/>Ran all test suites.</span></pre><p id="d88e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">ğŸ‘</p><h1 id="e995" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">å¼•æ“ç›–ä¸‹çš„ä¸œè¥¿</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi oj"><img src="../Images/69f5cb4f04edda870db6cf87ec4f6eb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5-6LOMexAMzF0f1svZ8uA.png"/></div></div></figure><p id="ccde" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™é‡Œæœ‰å¾ˆå¤šå†…å¹•ğŸ‘©ğŸ»â€ğŸ’»ã€‚æˆ‘æƒ³æŒ‡å‡ºä¸€äº›å¯ä»¥å¸®åŠ©ä½ çš„äº‹æƒ…ï¼›</p><p id="c813" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é…¶åŒ…æ‹¬ä¸‰ç§æ¸²æŸ“æ–¹æ³•ã€‚æˆ‘ä»¬ç”¨äº†<code class="fe mg mh mi mj b">Mount</code>å’Œ<code class="fe mg mh mi mj b">Shallow</code>ï¼Œä½†æ˜¯è¿˜æœ‰<code class="fe mg mh mi mj b">Render</code>ã€‚</p><ul class=""><li id="eefa" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated"><strong class="jp ir">è£…ä¸Š</strong>â€”â€”<a class="ae lr" href="https://enzymejs.github.io/enzyme/docs/api/mount.html" rel="noopener ugc nofollow" target="_blank">https://enzymejs.github.io/enzyme/docs/api/mount.html</a></li><li id="1ba5" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated"><strong class="jp ir">æµ…æµ…</strong>â€”â€”<a class="ae lr" href="https://enzymejs.github.io/enzyme/docs/api/shallow.html" rel="noopener ugc nofollow" target="_blank">https://enzymejs.github.io/enzyme/docs/api/shallow.html</a></li><li id="9160" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated"><strong class="jp ir">æ¸²æŸ“</strong>â€”â€”<a class="ae lr" href="https://enzymejs.github.io/enzyme/docs/api/render.html" rel="noopener ugc nofollow" target="_blank">https://enzymejs.github.io/enzyme/docs/api/render.html</a></li></ul><p id="9eb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">å®‰è£…</strong></p><ul class=""><li id="6fb6" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">åŒ…æ‹¬å­ç»„ä»¶çš„å®Œæ•´DOMå‘ˆç°ã€‚</li><li id="088c" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">éå¸¸é€‚åˆéœ€è¦ä¸DOM APIäº¤äº’æˆ–ä½¿ç”¨Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„ç»„ä»¶çš„ç”¨ä¾‹ã€‚</li><li id="71e3" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">å…è®¸è®¿é—®ç›´æ¥ä¼ é€’åˆ°æ ¹ç»„ä»¶çš„å±æ€§(åŒ…æ‹¬é»˜è®¤å±æ€§)å’Œä¼ é€’åˆ°å­ç»„ä»¶çš„å±æ€§ã€‚</li></ul><p id="dc01" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æµ…</strong></p><ul class=""><li id="7a27" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">ä»…æ¸²æŸ“å•ä¸ªç»„ä»¶ï¼Œä¸æ¸²æŸ“å­ç»„ä»¶ã€‚è¿™å¯¹äºéš”ç¦»çº¯å•å…ƒæµ‹è¯•çš„ç»„ä»¶å¾ˆæœ‰ç”¨ã€‚å®ƒé˜²æ­¢å­ç»„ä»¶ä¸­çš„æ›´æ”¹æˆ–é”™è¯¯ã€‚</li><li id="76ab" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated"><code class="fe mg mh mi mj b">shallow</code>ç»„ä»¶é»˜è®¤è®¿é—®ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</li><li id="1459" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ä¸èƒ½è®¿é—®ä¼ å…¥æ ¹ç»„ä»¶çš„é“å…·ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®ä¼ å…¥å­ç»„ä»¶çš„é“å…·ï¼Œå¹¶ä¸”å¯ä»¥æµ‹è¯•ä¼ å…¥æ ¹ç»„ä»¶çš„é“å…·çš„<em class="kl">æ•ˆæœ</em>ã€‚</li><li id="9142" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">å½“æˆ‘ä»¬è°ƒç”¨<code class="fe mg mh mi mj b">shallow(&lt;Calculator /&gt;)</code>æ—¶ï¼Œæˆ‘ä»¬æµ‹è¯•çš„æ˜¯<code class="fe mg mh mi mj b">Calculator</code> <em class="kl">å‘ˆç°çš„</em>â€”â€”è€Œä¸æ˜¯æˆ‘ä»¬ä¼ é€’ç»™<code class="fe mg mh mi mj b">shallow</code>çš„å…ƒç´ </li></ul><p id="1f13" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">æ¸²æŸ“</strong></p><ul class=""><li id="c279" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">å‘ˆç°ä¸ºé™æ€HTMLï¼ŒåŒ…æ‹¬å­çº§ã€‚</li><li id="3b89" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">å®ƒæ— æƒè®¿é—®<code class="fe mg mh mi mj b">React</code>ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</li><li id="f069" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ä½¿ç”¨çš„èµ„æºæ¯”å…¶ä»–APIå°‘ï¼Œä½†åŠŸèƒ½è¾ƒå°‘ã€‚</li></ul><p id="8045" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">é…¶è½¬json </strong></p><p id="3c23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<em class="kl"> </em> <code class="fe mg mh mi mj b"><em class="kl">enzyme-to-json,</em></code>ä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p id="9ac9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ ·åšæ˜¯ä¸ºäº†æˆ‘ä»¬çš„å¿«ç…§æ¯”è¾ƒæœ‰ä¸€ä¸ªæ¯”Enzymeç°æˆçš„å†…éƒ¨ç»„ä»¶è¡¨ç¤ºæ›´å¥½çš„ç»„ä»¶æ ¼å¼ã€‚</p><p id="f84c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨ä½¿ç”¨å¿«ç…§æ—¶,<code class="fe mg mh mi mj b">snapshotSerializers</code> APIå…è®¸æˆ‘ä»¬ç¼–å†™æ›´å°‘çš„ä»£ç å¹¶æ¶ˆé™¤é‡å¤ã€‚åœ¨å°†ç»„ä»¶ä¼ é€’ç»™Jestçš„å¿«ç…§åŒ¹é…å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ¯æ¬¡ç”¨<code class="fe mg mh mi mj b">.toJson()</code>åˆ›å»ºç»„ä»¶æ—¶éƒ½è¿›è¡Œåºåˆ—åŒ–ï¼›</p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="73aa" class="oa ms iq mj b gy ob oc l od oe">expect(toJson(rawRenderedComponent)).toMatchSnapshot();</span></pre><p id="f6f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ·»åŠ äº†æˆ‘ä»¬çš„<code class="fe mg mh mi mj b"><em class="kl">package.json</em></code></p><pre class="kn ko kp kq gt nw mj nx ny aw nz bi"><span id="f42f" class="oa ms iq mj b gy ob oc l od oe">"snapshotSerializers": ["enzyme-to-json/serializer"],</span></pre><p id="5b53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç„¶åï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†ç”±<code class="fe mg mh mi mj b">Enzyme</code>åˆ›å»ºçš„ç»„ä»¶ä¼ é€’ç»™Jest <em class="kl"> </em> <code class="fe mg mh mi mj b"><em class="kl">.toMatchSnapshot()</em></code> <em class="kl"> </em>ï¼Œè€Œä¸ä½¿ç”¨<code class="fe mg mh mi mj b">toJson</code>è¯­æ³•<em class="kl">ã€‚</em></p><p id="3017" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">ç¬‘è¯æ¯”èµ›</strong></p><p id="3381" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æˆ‘ä»¬ç¼–å†™æµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥æˆ‘ä»¬çš„æµ‹è¯•å€¼æ˜¯å¦æ»¡è¶³æŸäº›æ¡ä»¶ã€‚APIè®©æˆ‘ä»¬å¯ä»¥è®¿é—®å‡ ä¸ªâ€œåŒ¹é…â€ï¼Œè®©æˆ‘ä»¬éªŒè¯ä¸åŒçš„ä¸œè¥¿ã€‚</p><p id="767d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Jestæ–¹é¢ï¼Œé¢„æœŸçš„APIä¸ºå¤§å¤šæ•°ç”¨æˆ·æä¾›äº†è¶³å¤Ÿçš„é€‰é¡¹:<a class="ae lr" href="https://jestjs.io/docs/en/expect" rel="noopener ugc nofollow" target="_blank">https://jestjs.io/docs/en/expect</a>ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„ï¼Œæ£€æŸ¥Jestç¤¾åŒº<a class="ae lr" href="https://github.com/jest-community/jest-extended" rel="noopener ugc nofollow" target="_blank"> jest-extended </a>å¯»æ‰¾æ›´å¤šåŒ¹é…ï¼Œæˆ–è€…å¦‚æœä½ æ‰¾ä¸åˆ°ä½ éœ€è¦çš„ï¼Œåˆ›å»ºä½ è‡ªå·±çš„ã€‚</p><h1 id="0749" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹</h1><p id="f121" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼›</p><ul class=""><li id="0e4a" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">æ­¥éª¤1 â€” <strong class="jp ir">è®¾ç½®ã€‚</strong>è®¾ç½®&amp;é…ç½®æˆ‘ä»¬çš„é¡¹ç›®</li><li id="4537" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ç¬¬äºŒæ­¥â€” <strong class="jp ir">ç¼–å†™ä»£ç ã€‚</strong>è®¡ç®—å™¨è‡ªå®šä¹‰ç»„ä»¶</li><li id="22e0" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">æ­¥éª¤3 â€” <strong class="jp ir">æµ‹è¯•ä»£ç </strong>ã€‚</li></ul><p id="b0ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ æƒ³æ›´å¥½åœ°ç†è§£æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„åº“ï¼Œæˆ‘è¿˜åœ¨æ•™ç¨‹çš„æœ€åç»™äº†ä½ ä¸€äº›é¢å¤–çš„â€œå¹•åâ€ä¸œè¥¿ã€‚âœŒï¸</p><h1 id="d624" class="mr ms iq bd mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no bi translated">ä»è¿™é‡Œå»å“ªé‡Œ</h1><p id="99ba" class="pw-post-body-paragraph jn jo iq jp b jq np js jt ju nq jw jx jy nr ka kb kc ns ke kf kg nt ki kj kk ij bi translated">ä½ ç”¨çš„æ˜¯TypeScriptå—ï¼Ÿæˆ‘å·²ç»ä½¿ç”¨TypeScriptåˆ›å»ºäº†ç›¸åŒçš„ç¤ºä¾‹ï¼Œ<a class="ae lr" href="https://medium.com/react-courses/unit-testing-react-typescript-app-with-jest-jest-dom-enzyme-11f52487aa18?sk=225b2c9ac788e78221ae969dbd901f2e" rel="noopener">è¯·çœ‹ä¸€ä¸‹ã€‚</a></p><ul class=""><li id="4cdc" class="ls lt iq jp b jq jr ju jv jy lu kc lv kg lw kk lx ly lz ma bi translated">ä½ å¯ä»¥ä»è¿™é‡Œä¸‹è½½å®Œæ•´çš„é¡¹ç›®:<a class="ae lr" href="https://github.com/EliEladElrom/react-tutorials" rel="noopener ugc nofollow" target="_blank">https://github.com/EliEladElrom/react-tutorials</a></li><li id="e0a9" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">åœ¨YouTubeä¸Šè·Ÿéšè¿™ä¸ªæ•™ç¨‹:<a class="ae lr" href="https://youtu.be/ViaHrgbGhRs" rel="noopener ugc nofollow" target="_blank">https://youtu.be/ViaHrgbGhRs</a></li><li id="6448" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ä½ æ­£åœ¨åšä¸€ä¸ªæ‰“å­—é¡¹ç›®å—ï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æˆ‘çš„æ–‡ç« <a class="ae lr" href="https://medium.com/react-courses/unit-testing-react-typescript-app-with-jest-jest-dom-enzyme-11f52487aa18" rel="noopener">ã€‚</a></li><li id="e353" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">çœ‹æˆ‘å…¶ä»–çš„åª’ä»‹æ–‡ç« æ¯”å¦‚â€”â€”<a class="ae lr" href="https://medium.com/blockchain-developer/angular-9-vs-react-16-a-2020-showdown-2b0b8aa6c8e9" rel="noopener">Angular 9 vs React 16â€”â€”ä½ è¯¥æŒ‘ä»€ä¹ˆï¼Ÿ2020å¹´æ‘Šç‰Œ</a></li><li id="bd72" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">ç¬‘è¯:https://jestjs.io/docs/en/tutorial-react<a class="ae lr" href="https://jestjs.io/docs/en/tutorial-react" rel="noopener ugc nofollow" target="_blank"/></li><li id="7e15" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">jest-DOM doc:<a class="ae lr" href="https://noriste.github.io/reactjsday-2019-testing-course/book/intro-to-react-testing/jest-dom.html" rel="noopener ugc nofollow" target="_blank">https://no riste . github . io/react jsday-2019-testing-course/book/intro-to-react-testing/jest-DOM . html</a></li><li id="1581" class="ls lt iq jp b jq mb ju mc jy md kc me kg mf kk lx ly lz ma bi translated">é…µç´ æ–‡æ¡£:<a class="ae lr" href="https://airbnb.io/enzyme/docs/api/" rel="noopener ugc nofollow" target="_blank">https://airbnb.io/enzyme/docs/api/</a></li></ul></div></div>    
</body>
</html>