# ReactJS åŸ¹è®­:ç†è§£ React å’Œæ‰“å­—ç¨¿

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/reactjs-training-understanding-react-and-typescript-d01deb2dd127?source=collection_archive---------5----------------------->

![](img/10845cfda170d88e83b80b0346f67455.png)

> å¦‚æœä½ æƒ³çŸ¥é“è¥¿ç­ç‰™è¯­çš„ç‰ˆæœ¬ï¼Œè¯·ç‚¹å‡»[è¿›å…¥](https://medium.com/@nanovazquez/reactjs-training-entendiendo-react-y-typescript-5daf1fee26c7)ã€‚

åœ¨è¿™ä¸ªç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸¤ä¸ªæˆ‘ä»¬å°†ç”¨æ¥å¼€å‘ web åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒåº“: [React](https://reactjs.org/) å’Œ [TypeScript](https://www.typescriptlang.org/) ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†é€šè¿‡å°è€Œå…·ä½“çš„ä¾‹å­æ¥å¸®åŠ©æˆ‘ä»¬ç†è§£ä¸»è¦æ¦‚å¿µï¼Œä¸€æ¬¡ä¸€ä¸ªã€‚

ä½†æ˜¯åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç™½æˆ‘ä»¬è¦åšä»€ä¹ˆã€‚æƒ³æƒ³ä½ è§è¿‡çš„æœ€å¸¸è§çš„ç”¨æˆ·ç•Œé¢(UI)å¸ƒå±€ï¼Œé—®é—®è‡ªå·±:

1.  å¦‚æœæˆ‘å¿…é¡»åšè¿™ä¸ªï¼Œæˆ‘åº”è¯¥ä»å“ªé‡Œå¼€å§‹ï¼Ÿæˆ‘å¿…é¡»ä¸€ä¸ªäººåšæ‰€æœ‰çš„äº‹æƒ…å—ï¼Ÿæœ‰ä»€ä¹ˆæˆ‘å¯ä»¥åˆ©ç”¨çš„å—ï¼Ÿ
2.  æˆ‘å¦‚ä½•å°†å·¥ä½œåˆ†æˆä¸åŒçš„ä»»åŠ¡ï¼Ÿæœ€é‡è¦çš„æœ‰å“ªäº›ï¼Ÿ
3.  æœ‰å¯èƒ½åœ¨å…¶ä»–æˆ–æœªæ¥çš„é¡¹ç›®ä¸­é‡å¤ä½¿ç”¨æˆ‘å°†è¦åšçš„äº‹æƒ…å—ï¼Ÿ

![](img/c9524630e411fbc238dec5beb5fcf296.png)

A typical back-office web application, displaying Products and their details

åœ¨æ¥ä¸‹æ¥çš„å‡ èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å…±åŒåŠªåŠ›ç»™å‡ºè¿™äº›é—®é¢˜çš„ç­”æ¡ˆã€‚

# ç®€ä»‹:åŸºäºç½‘ç»œçš„å¼€å‘

åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿå›é¡¾ä¸€ä¸‹ web å¼€å‘çš„åŸºæœ¬æ¦‚å¿µã€‚

> å¦‚æœæ‚¨ç†Ÿæ‚‰è¿™äº›æ¦‚å¿µï¼Œè¯·è·³è¿‡è¿™ä¸€éƒ¨åˆ†ï¼Œç›´æ¥è·³åˆ°ç¬¬ 1 éƒ¨åˆ†ã€‚

*   åŸºæœ¬ä¸Šï¼ŒWeb åº”ç”¨ç¨‹åºæ˜¯å¯ä»¥ç”±(web)æµè§ˆå™¨(Chromeã€Firefoxã€Edgeã€Safariã€Internet Explorer ç­‰)æ‰§è¡Œçš„åº”ç”¨ç¨‹åºã€‚).
*   ç½‘ç»œæµè§ˆå™¨åªæ‡‚ HTMLï¼ŒJavaScriptï¼ŒCSSã€‚
*   HTML æä¾›äº†ç½‘ç«™çš„åŸºæœ¬ç»“æ„ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„æ ‡è®°ã€‚
*   CSS ç”¨äºæ§åˆ¶è¡¨ç¤ºã€æ ¼å¼å’Œå¸ƒå±€ï¼Œä¹Ÿç§°ä¸ºæ ·å¼ã€‚
*   JavaScript ç”¨äºåŠ¨æ€æ”¹å˜ä¸åŒ HTML å…ƒç´ å’Œ CSS æ ·å¼çš„è¡Œä¸ºã€‚é€šå¸¸å–å†³äºç”¨æˆ·äº¤äº’(ä¾‹å¦‚ï¼Œç‚¹å‡»æŒ‰é’®ã€æ‰‹æŒ‡è½»å‡»æˆ–è€…ç”šè‡³è¯­éŸ³)ã€‚

ä¾‹å¦‚ï¼Œå½“ä½ å› ä¸ºæƒ³æœç´¢æŸæ ·ä¸œè¥¿è€Œå¯¼èˆªåˆ°è°·æ­Œç½‘ç«™æ—¶ï¼Œä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªç½‘ç»œåº”ç”¨ç¨‹åºï¼

![](img/7105f8c709bdd1bcb755be911e7389aa.png)

When searching about React in Google we are using a web application

åœ¨è¿™ç§æƒ…å†µä¸‹:

1.  é¡µé¢çš„ç»“æ„æ˜¯ç”¨ HTML å®šä¹‰çš„(æ˜¾ç¤ºä¸ºç»“æœçš„æ–‡æœ¬ï¼Œå³è¾¹éƒ¨åˆ†ï¼Œç­‰ç­‰ã€‚).
2.  ç½‘ç«™çš„ç»“æ„æ˜¯å¦‚ä½•ä½¿ç”¨ CSS é…ç½®çš„(å­—ä½“çš„é¢œè‰²ï¼Œç»“æœé¡¹çš„è®¾è®¡ä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•æ˜¾ç¤ºçš„ï¼Œç­‰ç­‰ã€‚).
3.  ç”¨æˆ·äº¤äº’ç”± JavaScript ä»£ç æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œå½“æŸäººé”®å…¥ä¸€ä¸ªé—®é¢˜å¹¶æŒ‰ä¸‹å›è½¦é”®æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆæ˜¯ç”¨ä»£ç é…ç½®çš„ã€‚

éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½• web åº”ç”¨ç¨‹åºä¸­åšçš„äº‹æƒ…çš„æ•°é‡å’Œå¤æ‚æ€§éƒ½åœ¨å¢åŠ ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥(é‡æ–°)ä½¿ç”¨ JavaScript åº“æ¥é¿å…é‡æ–°å‘æ˜è½®å­å¹¶å‡å°‘é‡å¤å·¥ä½œã€‚React å’Œ TypeScript å°±æ˜¯å…¶ä¸­çš„ä¸€äº›åº“ã€‚

# ç¬¬ä¸€éƒ¨åˆ†:ReactJS æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ç”¨é€”æ˜¯ä»€ä¹ˆ

> **æ³¨:**æƒ³äº†è§£ ReactJS çš„æ›´å¤šä¿¡æ¯ï¼Œå»å®ƒçš„å®˜æ–¹[å…¥é—¨](https://reactjs.org/docs/getting-started.html)ã€‚

React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚React æœ€ä¼Ÿå¤§çš„äº‹æƒ…ä¹‹ä¸€æ˜¯å®ƒæ”¹å˜äº†ä½ é€šå¸¸å¯¹åˆ›å»ºåº”ç”¨ç¨‹åºçš„æƒ³æ³•ã€‚å®ƒå»ºè®®ä½ æŒ‰ç…§[å•ä¸€è´£ä»»åŸåˆ™æˆ– SRP](https://en.wikipedia.org/wiki/Single_responsibility_principle) å°†é€»è¾‘åˆ†å‰²æˆå¤šä¸ªéƒ¨åˆ†ï¼Œå‘½åä¸º**ç»„ä»¶**:æ¯ä¸ªéƒ¨åˆ†(ç»„ä»¶)åº”è¯¥åªåšä¸€ä»¶äº‹ã€‚

ä»¥æˆ‘ä»¬ä¹‹å‰çš„ UI å¸ƒå±€ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¡µé¢åˆ†æˆ(ä¾‹å¦‚)ä»¥ä¸‹ç»„ä»¶:

*   ä¸€ä¸ª *TableComponent* ï¼Œç”¨æ¥æ˜¾ç¤ºæˆ‘ä»¬æ‰€æœ‰çš„å®ä½“ã€‚
*   *SearchComponent* ï¼Œè¿‡æ»¤æˆ‘ä»¬æ˜¾ç¤ºçš„å®ä½“ã€‚
*   *DetailsComponent* ï¼Œæ˜¾ç¤ºä¸æ‰€é€‰å®ä½“ç›¸å…³çš„ä¿¡æ¯ã€‚
*   *SidebarPanelComponent* ï¼Œå°è£…æˆ‘ä»¬åœ¨å·¦ä¾§é¢æ¿ä¸­å‘ˆç°çš„å†…å®¹çš„é€»è¾‘(é“¾æ¥å’Œ *PROD* æŒ‰é’®)ã€‚
*   â€¦ç­‰ç­‰

![](img/cbebd7cb1dc907079fa04c593abf7444.png)

A typical back-office web application, now split into different components

æˆ‘ä»¬å°†å¸ƒå±€åˆ†å‰²æˆç»„ä»¶çš„æ–¹å¼å®Œå…¨æ˜¯ä»»æ„çš„ï¼Œå°½ç®¡ç°åœ¨çœ‹èµ·æ¥å¾ˆéš¾åšåˆ°ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ä¼šå˜å¾—æ›´å®¹æ˜“ã€‚è¯•é”™æ³•æœ€ç»ˆä¼šå¸®åŠ©æˆ‘ä»¬å†³å®šåœ¨å¯é‡ç”¨æ€§å’Œç»´æŠ¤æ–¹é¢ä»€ä¹ˆæ˜¯æœ€å¥½çš„ç­”æ¡ˆã€‚

> **æ³¨æ„:**æˆ‘ä»¬å¯ä»¥ç»§ç»­å°†æˆ‘ä»¬å®šä¹‰çš„ç»„ä»¶åˆ†å‰²æˆæ›´å°çš„ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶è´Ÿè´£å®Œæˆä¸€é¡¹ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œæ‚¨èƒ½å¦å»ºè®®å¦‚ä½•å°† TableComponent ç»„ä»¶åˆ†æˆæ›´å°çš„éƒ¨åˆ†ï¼Ÿ

# åœ¨è¡ŒåŠ¨ä¸­ååº”

React æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒé€šè¿‡å°† UI åˆ†è§£æˆç»„ä»¶æ¥å¸®åŠ©æˆ‘ä»¬æ„å»º UIã€‚è®©æˆ‘ä»¬é€šè¿‡å›é¡¾ React æ–‡æ¡£ä¸­çš„ä¾‹å­æ¥å…±åŒç†è§£è¿™æ„å‘³ç€ä»€ä¹ˆ:

æ‰“å¼€**å–‚ååº”è¿‡æ¥äº†ï¼**ç‚¹å‡»[æ­¤å¤„](https://codesandbox.io/s/hello-react-lbisk)ä¸¾ä¾‹ã€‚

```
import React from "react";
import ReactDOM from "react-dom";const App = () => <h1>Hello React!</h1>;
const rootElement = document.getElementById("root");
ReactDOM.render(<App />, rootElement);
```

èŠ±å‡ åˆ†é’Ÿæ—¶é—´åˆ†æä»£ç ã€‚æ³¨æ„ï¼Œ`*<App/>*`ç»„ä»¶æ˜¯ä¸€ä¸ª*ååº”å‡½æ•°*ï¼Œå®ƒåªè¿”å› *JSX è¯­æ³•*ã€‚

> ä»€ä¹ˆæ˜¯ JSXï¼Ÿ JSX æ˜¯ React ç”Ÿæ€ç³»ç»Ÿä¸­å‘ˆç° HTML å…ƒç´ çš„äº‹å®ä¸Šçš„è¯­æ³•æ‰©å±•ã€‚å®ƒä¸æ˜¯ HTMLï¼Œä½†è¯­æ³•éå¸¸ç›¸ä¼¼ã€‚å®ƒå¯èƒ½ä¼šè®©æ‚¨æƒ³èµ·æ¨¡æ¿è¯­è¨€ï¼Œä½†å®ƒä¹Ÿå…·æœ‰ JavaScript çš„å…¨éƒ¨åŠŸèƒ½ã€‚å¦‚æœä½ æƒ³æ›´å¤šåœ°äº†è§£ JSXï¼Œè¯·çœ‹è¿™é‡Œçš„ã€‚

**æµè§ˆå™¨ä¸ç†è§£ JSX** ã€‚ä¸ºäº†è®©æˆ‘ä»¬çš„ä»£ç åœ¨æµè§ˆå™¨ä¸­å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„ä»£ç è½¬æ¢æˆæµè§ˆå™¨èƒ½å¤Ÿç†è§£çš„ JavaScript ä»£ç ã€‚æˆ‘ä»¬ç°åœ¨ä¸éœ€è¦æ‹…å¿ƒè¿™ä¸€ç‚¹ï¼Œä½†æ˜¯æ‚¨éœ€è¦è®¤è¯†åˆ°ï¼Œè¿™æ®µä»£ç çš„æœ€ç»ˆç»“æœæ˜¯æ™®é€šçš„æ—§ JavaScript:

```
var App = () => React.createElement("h1", null, "Hello React!")
var rootElement = document.getElementById("root");ReactDOM.render(React.createElement(App, null), rootElement);
```

æˆ‘ä»¬ç°åœ¨å°†é€šè¿‡å‘`<App/>`ç»„ä»¶æä¾›å®šåˆ¶å‘ˆç°æ¶ˆæ¯çš„èƒ½åŠ›æ¥ä¿®æ”¹ç¤ºä¾‹ã€‚ä¸ºæ­¤:

ç”¨å‘é€ç»™ç»„ä»¶çš„`message`å‚æ•°æ›¿æ¢ç¡¬ç¼–ç çš„æ¶ˆæ¯:

```
const App = ({ message }) => <h1>{message}</h1>;
```

åˆå§‹åŒ–`App`ç»„ä»¶æ—¶æä¾›ä¸€ä¸ªå®šåˆ¶çš„`message`:

```
ReactDOM.render(<App message="Hello React!!" />, rootElement);
```

*React å‡½æ•°*å¯ä»¥é€šè¿‡ **props** (ç®€ç§° *properties* )æ¥æ”¶ä»»æ„çš„åªè¯»è¾“å…¥ã€‚è¿™äº›**é“å…·**æ¨¡æ‹Ÿäº†å‡½æ•°è¿”å›çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºçš„æ¶ˆæ¯ä¾èµ–äº`message`å±æ€§ã€‚

> **æ³¨æ„:**ä½œä¸ºä¸€ä¸ªé€šç”¨è§„åˆ™ï¼Œæ‰€æœ‰çš„ååº”åŠŸèƒ½&ç»„ä»¶å¿…é¡»ä½œä¸ºç›¸å¯¹äºå®ƒä»¬çš„é“å…·çš„â€œçº¯åŠŸèƒ½â€ã€‚è¿™æ„å‘³ç€å®ƒä»¬åœ¨æµè§ˆå™¨ä¸­è¿”å›(æˆ–å‘ˆç°)çš„å†…å®¹æ˜¯ç”±å…¶è¾“å…¥å€¼å†³å®šçš„ï¼Œè€Œä¸ä¼šæ”¹å˜æ¥æ”¶åˆ°çš„å‚æ•°/è‡ªå˜é‡(ä¹Ÿç§°ä¸ºâ€œå‰¯ä½œç”¨â€)ã€‚

è®©æˆ‘ä»¬æ¥çœ‹å¦ä¸€ä¸ªä¾‹å­ã€‚ç‚¹å‡»æ­¤å¤„çš„[æ‰“å¼€**ååº”å®šæ—¶å™¨**ç¤ºä¾‹ã€‚](https://codesandbox.io/s/react-timer-2y4k8)

```
class Timer extends React.Component {
  ...
}const App = () => <Timer />;
const rootElement = document.getElementById("root");
ReactDOM.render(App, rootElement);
```

æ³¨æ„ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªæ–‡ä»¶:ä¸€ä¸ªåˆå§‹åŒ–åº”ç”¨ç¨‹åºçš„ *index.jsx* æ–‡ä»¶å’Œä¸€ä¸ªå®šä¹‰ React ç»„ä»¶çš„ *Timer.jsx* æ–‡ä»¶ã€‚è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬çš„ React ç»„ä»¶æ˜¯ä¸€ä¸ªä»`React.Component`æ‰©å±•è€Œæ¥çš„ç±»ï¼Œæœ‰ä¸€ä¸ª`constructor()`å’Œå››ä¸ªå…¶ä»–æ–¹æ³•:

```
export default class Timer extends React.Component {

  constructor(props) { ... }

  tick() { ... }

  componentDidMount() { ... }

  componentWillUnmount() { ... } render() {
    return <div>Seconds: {this.state.seconds}</div>;
  }
}
```

React å…è®¸æ‚¨å°†ç»„ä»¶å®šä¹‰ä¸ºç±»æˆ–å‡½æ•°ã€‚å½“ä½ ä»**ä¼¸å‡ºæ—¶åšå‡ºååº”ã€‚ç»„ä»¶**ï¼Œå”¯ä¸€çš„è¦æ±‚æ˜¯å®šä¹‰ä¸€ä¸ª **render()** æ–¹æ³•ï¼Œè´Ÿè´£è¿”å›å°†åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„ JSX å…ƒç´ ã€‚

æ­¤å¤–ï¼ŒReact ç±»ç»„ä»¶æä¾›äº†åœ¨ç‰¹å®šæ—¶é—´æ‰§è¡Œçš„å…¶ä»–å†…ç½®æ–¹æ³•ã€‚ä½ å¯ä»¥**å°†è‡ªå·±çš„ä»£ç ä¸è¿™äº›[ç”Ÿå‘½å‘¨æœŸæ–¹æ³•](https://reactjs.org/docs/react-component.html#the-component-lifecycle)æŒ‚é’©ï¼Œåªéœ€å®ç°å®ƒä»¬ã€‚å…¶ä¸­ä¸€äº›æ–¹æ³•æ˜¯`constructor()`ã€`componentWillMount()`ã€`componentWillUnmount()`ï¼Œä½†è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•ã€‚**

> **æ³¨æ„:****render()**æ–¹æ³•ç›¸å½“äºæˆ‘ä»¬åœ¨å‰é¢çš„ä¾‹å­ä¸­ä½¿ç”¨çš„ React å‡½æ•°ã€‚

æ£€æŸ¥`componentDidMount()`å’Œ`componentWillUnmount()`ä¸­çš„ä»£ç ã€‚

```
export default class Timer extends React.Component {
  ... componentDidMount() {
    this.interval = setInterval(() => this.tick(), 1000);
  } componentWillUnmount() {
    clearInterval(this.interval);
  } ...
}
```

è¿™æ®µä»£ç è´Ÿè´£åˆå§‹åŒ–ã€æ‰§è¡Œå’Œæ¸…ç†å®šæ—¶å™¨ã€‚é€šè¿‡ä½¿ç”¨è¿™ä¸¤ä¸ªå†…ç½®æ–¹æ³•ï¼ŒReact ä¿è¯åœ¨ç»„ä»¶åœ¨ DOM ä¸­å‘ˆç°(â€œæŒ‚è½½â€)å’Œä» DOM ä¸­ç§»é™¤(â€œå¸è½½â€)æ—¶æ‰§è¡Œæ‚¨çš„ä»£ç ã€‚

> **æ³¨æ„:**å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºçŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸçš„ä¿¡æ¯ï¼Œè¯·ç‚¹å‡»æŸ¥çœ‹[ã€‚](https://reactjs.org/docs/state-and-lifecycle.html)

æœ€åï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹æœ€åä¸€ç§æ–¹æ³•ã€‚è‡ªå®šä¹‰çš„`tick()`æ–¹æ³•é€šè¿‡è°ƒç”¨`this.setState()`æ¥æ›´æ–°ç»„ä»¶çš„çŠ¶æ€:

```
export default class Timer extends React.Component {
  ... tick() {
    this.setState(prevState => (
      { seconds: prevState.seconds + 1 }
    ));
  } ...
}
```

æ¯ä¸ª React ç»„ä»¶éƒ½å¯ä»¥å°†å…¶æœ¬åœ°çŠ¶æ€å­˜å‚¨åœ¨`this.state`ä¸­ã€‚**çŠ¶æ€**ç±»ä¼¼äºé“å…·ï¼Œä½†æ˜¯æ˜¯ç§æœ‰çš„ï¼Œå®Œå…¨ç”±ç»„ä»¶æ§åˆ¶ã€‚**ä¸å¾—ç›´æ¥ä¿®æ”¹çŠ¶æ€**ã€‚ç›¸åï¼Œä½ åº”è¯¥æ€»æ˜¯ä½¿ç”¨`this.setState()`æ–¹æ³•å¹¶è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ã€‚

> **æ³¨æ„:**æ‚¨ä¸åº”è¯¥ç›´æ¥æ”¹å˜çŠ¶æ€çš„åŸå› æ˜¯ï¼ŒçŠ¶æ€æ›´æ–°å¯èƒ½*æ½œåœ¨åœ°*è§¦å‘`*render()*`æ–¹æ³•çš„æ–°æ‰§è¡Œï¼Œé‡æ–°ç»˜åˆ¶ç»„ä»¶ã€‚å¦‚æœæ‚¨ä½¿ç”¨`*this.setState()*`ï¼ŒReact å°†ä¸ºæ‚¨è¿›è¡Œè¿™ä¸ªè°ƒç”¨ï¼Œä»¥åŠå…¶ä»–è®¡ç®—ã€‚

æˆ‘ä»¬ç°åœ¨æ˜¯æœ¬èŠ‚çš„æœ€åä¸€ä¸ªä¾‹å­ã€‚ç‚¹å‡»[æ­¤å¤„](https://codesandbox.io/s/react-questionnaire-4che1)æ‰“å¼€**é—®å·**ç¤ºä¾‹ã€‚

```
class Questionnaire extends React.PureComponent {
  ...
}const App = () => <Questionnaire />;
const rootElement = document.getElementById("root");
ReactDOM.render(<App />, rootElement);
```

èŠ±å‡ åˆ†é’Ÿæ—¶é—´æ¥åˆ†ææ‰€æœ‰æ¶‰åŠåˆ°çš„ä»£ç ç‰‡æ®µï¼Œä»¥åŠå®ƒä»¬æ¯ä¸€ä¸ªçš„èŒè´£ã€‚ç„¶åï¼Œç©å¤é€‰æ¡†ï¼Œçœ‹çœ‹ç»“æœã€‚

æ‰“å¼€ **Question.jsx** å’Œ **Answer.jsx** ï¼Œæ³¨æ„è¿™äº›æ–‡ä»¶å»ºæ¨¡äº†ä¸€ä¸ª React å‡½æ•°(æˆ– React å‡½æ•°ç»„ä»¶),å®ƒä»¬æ¥æ”¶ä¸åŒçš„å±æ€§å¹¶è¿”å›ä¸€ä¸ªç»“æœï¼Œé€šè¿‡ jsx å»ºæ¨¡ã€‚

```
export default ({ question, value }) => (
  <p>
    <span>{`${question}: ${value}`}</span>
  </p>
);
```

æ‰“å¼€**é—®å·. jsx** æ–‡ä»¶ã€‚çœ‹çœ‹å‘ˆç°ç»„ä»¶çš„ä¸åŒéƒ¨åˆ†æ‰€ä½¿ç”¨çš„æ–¹æ³•:é—®é¢˜å’Œç­”æ¡ˆã€‚æ³¨æ„æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨`render()`æ–¹æ³•ç¼–æ’æ‰€æœ‰çš„ç»˜å›¾é€»è¾‘ã€‚

```
export default class Questionnaire extends React.PureComponent {
  ...

  renderQuestions() {
    ...
  } renderAnswers() {
    ...
  } render() {
    return (
      <React.Fragment>
        {this.renderQuestions()}
        {this.renderAnswers()}
      </React.Fragment>
    );
  }
}
```

> **æ³¨æ„:** React Fragment æ˜¯ä¸€ä¸ªå†…ç½®ç»„ä»¶ï¼Œç”¨äº(é€»è¾‘ä¸Š)åˆ†ç»„ä¸€ç³»åˆ—å­èŠ‚ç‚¹ï¼Œè€Œæ— éœ€å‘ DOM æ·»åŠ é¢å¤–çš„èŠ‚ç‚¹ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œç‚¹å‡»[è¿™é‡Œ](https://reactjs.org/docs/fragments.html)ã€‚

å…³æ³¨`renderQuestions()`æ–¹æ³•å¹¶å®šä½`onChange`æ”¯æŸ±ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å‘`onChange` prop ä¼ é€’äº†ä¸€ä¸ª`this.handleQuestionChanged()`æ–¹æ³•ï¼Œå¦‚æœé—®é¢˜å¾—åˆ°å›ç­”ï¼Œè¯¥æ–¹æ³•å°†æ›´æ–° UIï¼Œå¹¶å°†å€¼å­˜å‚¨åœ¨(é—®å·è°ƒæŸ¥)ç»„ä»¶çš„çŠ¶æ€ä¸­:

```
export default class Questionnaire extends React.PureComponent {
  ... renderQuestions() {
    ...

    return questions.map(question => (
      <Question
        key={question.id}
        id={question.id}
        text={question.text}
        checked={question.value}
        onChange={this.handleQuestionChanged}
      />
    ));
  } ...
}
```

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¤„ç†ç”¨æˆ·äº¤äº’çš„æ–¹å¼(é€šè¿‡*â€œeventsâ€*)ä¸æ™®é€š JS ä»£ç ç±»ä¼¼:

*   æ‰€æœ‰ JSX å…ƒç´ éƒ½å…¬å¼€äº†ä¸€ç»„äº‹ä»¶(å‚è§è¿™é‡Œçš„æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶)ã€‚
*   æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™æ¯ä¸ªäº‹ä»¶é™„åŠ ä¸€ä¸ªå‡½æ•°æ¥ä¸å®ƒæŒ‚é’©ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†æ¥æ”¶ä¸€ä¸ª[åˆæˆäº‹ä»¶](https://reactjs.org/docs/events.html)å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯[æ‚¨å¯ä»¥æ›´æ”¹è¿™ä¸ª](https://reactjs.org/docs/handling-events.html#passing-arguments-to-event-handlers)ã€‚

## åŒ…æ‰

é€šè¿‡å›é¡¾è¿™äº›ä¾‹å­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ä»¥ä¸‹å†…å®¹:

1.  åœ¨ React ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ **JSX** æ¥æè¿° UI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚
2.  ä¸ºäº†å®šåˆ¶æˆ‘ä»¬è¾“å‡ºçš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å°† **props** å‘é€ç»™æˆ‘ä»¬çš„ React å‡½æ•°æˆ–ç»„ä»¶ã€‚
3.  React æä¾›äº† **Reactã€‚Component** ç±»æ¥å¸®åŠ©å°†æˆ‘ä»¬çš„ä»£ç å°è£…åœ¨ç»„ä»¶ä¸­ã€‚
4.  ä¸€ä¸ª **React çš„ **render()** æ–¹æ³•çš„è¾“å‡ºã€‚ç»„ä»¶**å‘Šè¯‰æµè§ˆå™¨æˆ‘ä»¬æƒ³è¦ç”»ä»€ä¹ˆã€‚
5.  æ¯ä¸ª React ç»„ä»¶éƒ½æœ‰è‡ªå·±çš„**çŠ¶æ€**æ¥æœ¬åœ°å­˜å‚¨å€¼ã€‚
6.  æ‚¨å¯ä»¥é€šè¿‡å°†å‡½æ•°æˆ–ç±»æ–¹æ³•ä¸ JSX äº‹ä»¶æŒ‚é’©æ¥æ•æ‰ç”¨æˆ·äº¤äº’ã€‚

![](img/e765852be1f3f58df34fa54e656dae9c.png)

[I](http://here)n React, data flows in one direction (top-down, from parent to child), and events flow from bottoms-up

> **æ³¨æ„:**æ‚¨å¯ä»¥åœ¨ [React æ–‡æ¡£](https://reactjs.org/docs/hello-world.html)ä¸­æ‰¾åˆ°ä¸€ç»„å®Œæ•´çš„ç¤ºä¾‹ï¼Œæ¯ä¸€ä¸ªéƒ½é›†ä¸­åœ¨ä¸€ä¸ªå•ç‹¬çš„ React æ¦‚å¿µä¸Šã€‚

# ç¬¬ 2 éƒ¨åˆ†:TypeScript æ·»åŠ äº†ä»€ä¹ˆ

[TypeScript](https://www.typescriptlang.org/) æ˜¯å¾®è½¯å¼€å‘å’Œç»´æŠ¤çš„å¼€æºåº“ï¼Œç”¨äºåœ¨ JavaScript ç¯å¢ƒä¸­å®ç°å¤§è§„æ¨¡åº”ç”¨ã€‚å®ƒç¼–è¯‘æˆæ™®é€šçš„ JavaScriptï¼Œå¯ä»¥åœ¨ä»»ä½•æµè§ˆå™¨ã€Node.js æˆ–ä»»ä½•æ”¯æŒ [ECMAScript](https://en.wikipedia.org/wiki/ECMAScript) 3(æˆ–æ›´æ–°ç‰ˆæœ¬)çš„ JavaScript å¼•æ“ä¸Šè¿è¡Œã€‚

æœ¬è´¨ä¸Šï¼Œå®ƒæ˜¯ JavaScript çš„ä¸€ä¸ªä¸¥æ ¼çš„è¯­æ³•è¶…é›†ï¼Œåœ¨å¼€å‘æ—¶ä¸ºè¯­è¨€**æ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹ã€‚**

![](img/ada86e541bd5da0f94fb7ef0b1f03c3f.png)

TypeScript has great IDE support nowadays

ä½¿ç”¨è¯¥åº“çš„ä¸»è¦å¥½å¤„æ˜¯:

*   å®ƒæœ‰é™æ€æ£€æŸ¥å’Œä»£ç é‡æ„ï¼Œä»¥åŠä¸€ç³»åˆ—é«˜æ•ˆçš„å¼€å‘å·¥å…·å’Œå®è·µã€‚
*   å®ƒå…è®¸æ‚¨ä½¿ç”¨æœ€æ–°çš„ç‰¹æ€§å’Œè¯­æ³•ç¼–å†™ä»£ç ï¼Œè€Œä¸ç”¨æ‹…å¿ƒæµè§ˆå™¨çš„æ”¯æŒ(å› ä¸ºå®ƒä¼šç¼–è¯‘æˆæ™®é€šçš„ JS)ã€‚
*   å®ƒä¸ä¼šå¼ºè¿«ä½ ä½¿ç”¨ TypeScript:å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥å†™ JavaScriptã€‚
*   å¾®è½¯å’Œè°·æ­Œç»´æŠ¤å®ƒã€‚Angular ä½¿ç”¨å®ƒã€‚

# è¿è¡Œä¸­çš„ TypeScript

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹ TypeScript æ˜¯å¦‚ä½•å·¥ä½œçš„:

æ‰“å¼€[æ‰“å­—ç¨¿æ¸¸ä¹åœº](http://www.typescriptlang.org/play/)ã€‚è¿™ä¸ªè¿åŠ¨åœºä½¿ç”¨ä¸ VSCode IDE è§£é‡Šä»£ç ç›¸åŒçš„å·¥å…·ã€‚

åœ¨é¡µé¢å·¦ä¾§çš„ä¸‹æ‹‰èœå•ä¸­ï¼Œé€‰æ‹©é€‰é¡¹ [Hello world](http://www.typescriptlang.org/play/?target=1&e=178#example/hello-world) ã€‚èŠ±ç‚¹æ—¶é—´å½»åº•é˜…è¯»å®ƒçš„ä»£ç ï¼Œç†è§£ TypeScript æ˜¯ä»€ä¹ˆå’Œåšä»€ä¹ˆã€‚å¦‚æœä½ æ„¿æ„ï¼Œç»§ç»­é˜…è¯» *JavaScript Essentials* éƒ¨åˆ†çš„å…¶ä»–ä¾‹å­ã€‚

ç°åœ¨æ‰“å¼€[ç±» 101](http://www.typescriptlang.org/play/?e=155#example/classes-101) çš„ä¾‹å­ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ¥å›é¡¾ä¸€ä¸‹:

![](img/bebd8fc5bf909ce565c2046ec3071658.png)

TypeScript Classes 101 example

*   åœ¨å·¦è¾¹çš„é¢æ¿ä¸­ï¼Œæœ‰å®šä¹‰`Vendor`ç±»çš„ç±»å‹è„šæœ¬ä»£ç å’Œä¸€ä¸ªæ¬¢è¿å®¢æˆ·æ¥å•†åº—çš„æ–¹æ³•ï¼Œé€šè¿‡å®ƒçš„åå­—æ¥è¯†åˆ«ã€‚
*   åœ¨å³ä¾§é¢æ¿ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°é€šè¿‡å°† TypeScript ä»£ç ä¼ è¾“åˆ° ES2017 ç”Ÿæˆçš„ JavaScript ç­‰ä»·ç‰©ã€‚è¿™æ˜¯æµè§ˆå™¨ç†è§£å¹¶èƒ½è¿è¡Œçš„ä»£ç ã€‚
*   ç±»ä¼¼åœ°ï¼Œå·¦è¾¹æœ‰å®šä¹‰`FoodTruck`ç±»çš„ TypeScript ä»£ç ï¼Œä»¥åŠä¸€ä¸ªæ¬¢è¿æ–°å®¢æˆ·ç«¯çš„æ–¹æ³•ã€‚

å°†é¼ æ ‡æ‚¬åœåœ¨ç¬¬ 47 è¡Œçš„`FoodTruck`å®ä¾‹åŒ–ä¸Šã€‚è¯·æ³¨æ„ï¼ŒIDE æ˜¾ç¤ºäº†æœ‰å…³å…¶æ„é€ å‡½æ•°çš„ä¿¡æ¯ã€‚

![](img/d9d8db9144339ce5d7385dfb38c09e64.png)

IDEs like VSCode provide IntelliSense for TypeScript code

æ·»åŠ ç¬¬äºŒä¸ªå‚æ•°æ¥å®ä¾‹åŒ–ä¸€ä¸ª`FoodTruck`ï¼Œæ¯”å¦‚`"asado"`ã€‚ç°åœ¨ï¼Œé€šè¿‡å³é”®å•å‡»é¡µé¢æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘äººå‘˜æ§åˆ¶å°(æˆ–å¼€å‘äººå‘˜å·¥å…·)(ä½†æ˜¯åœ¨ç¼–è¾‘å™¨ä¹‹å¤–ï¼Œæ¯”å¦‚åœ¨é¡¶éƒ¨çš„è“è‰²å¯¼èˆªæ ä¸­)ã€‚ç„¶åï¼Œç‚¹å‡»**è¿è¡Œ**æŒ‰é’®ã€‚

å˜¿ï¼æˆ‘ä»¬çš„æ›´æ”¹æ²¡æœ‰æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸Šï¼Œè¿™ä¸å…¬å¹³ã€‚è¦ä½¿å…¶å·¥ä½œï¼Œè¦ä¹ˆåœ¨*è¡Œ 48* ä¸Šæ·»åŠ `console.log(nameOnlyTruck.greet());`ï¼Œè¦ä¹ˆç”¨`nameOnlyTruck`å®ä¾‹æ›¿æ¢*è¡Œ 54* ã€‚ç„¶åç‚¹å‡»**å†æ¬¡è¿è¡Œ**ã€‚

> **æ³¨æ„:**æ¯ä¸ªç°ä»£çš„ç½‘ç»œæµè§ˆå™¨éƒ½åŒ…æ‹¬ä¸€å¥—å¼ºå¤§çš„å¼€å‘å·¥å…·ï¼Œå¸®åŠ©å¼€å‘äººå‘˜ç†è§£æµè§ˆå™¨è§£é‡Šçš„å†…å®¹ï¼Œå¹¶æ‰¾åˆ°ä»£ç ä¸­å¯èƒ½å­˜åœ¨çš„é”™è¯¯(HTMLã€JavaScript æˆ– CSS)ã€‚å®ƒè¿˜æ˜¾ç¤ºäº†ä¸€äº›æŒ‡æ ‡ï¼Œæ¯”å¦‚é¡µé¢åŠ è½½éœ€è¦å¤šé•¿æ—¶é—´ï¼Œä»¥åŠæµè§ˆå™¨å‘å‡ºçš„(å’Œæ­£åœ¨å‘å‡ºçš„)å…¶ä»–è¯·æ±‚ã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£è¿™ä¸€ç‚¹ï¼Œç‚¹å‡»[è¿™é‡Œ](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools)ã€‚

æœ€åï¼Œç”¨æ•°å­—`1`æ›¿æ¢å­—ç¬¦ä¸²`"asado"`ã€‚ç°åœ¨ä»£ç ä¸­æœ‰ä¸€ä¸ªé”™è¯¯å‘Šè¯‰ä½ â€œæ•°å­—ä¸å…è®¸ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°â€ã€‚è¯·æ³¨æ„ï¼Œè¿™æ˜¾ç¤ºåœ¨ TypeScript é¢æ¿ä¸­ï¼Œè€Œä¸æ˜¯ JavaScript ä¸­(å³ä¾§é¢æ¿)ã€‚

![](img/0d3226936f9c9085e242e3a67b9cfa26.png)

With IntelliSense, you can detect errors before running your code

é€šè¿‡å°†æ•°å­—`1`æ›¿æ¢ä¸ºå­—ç¬¦ä¸²å€¼(å¦‚`"helado"`)æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

å°±æ˜¯è¿™æ ·ï¼

## åŒ…æ‰

é€šè¿‡è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬äº†è§£åˆ°:

*   TypeScript ä»£ç å¯ä»¥è½¬æ¢æˆä»»ä½•æµè§ˆå™¨éƒ½å¯ä»¥æ‰§è¡Œçš„ JavaScript ä»£ç ã€‚*ä½ å¯ä»¥åœ¨è¿™é‡Œ* *æ‰¾åˆ°å®ƒçš„æ‰‹å†Œ* [*ã€‚*](https://www.typescriptlang.org/docs/handbook/basic-types.html)
*   TypeScript å…è®¸æ‚¨åƒåœ¨å¼ºç±»å‹è¯­è¨€ä¸­é‚£æ ·å®šä¹‰ç±»å‹ã€‚*è¿™é‡Œ* *å¯ä»¥æ‰¾åˆ°å®ƒçš„è§„æ ¼* [*ã€‚*](https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md)
*   æ‰€æœ‰ç°ä»£çš„ ide(vs codeï¼ŒWebStormï¼ŒAtom ç­‰ã€‚)æ”¯æŒ TypeScriptï¼Œå¯ä»¥æä¾›æç¤ºå’Œé”™è¯¯æ¶ˆæ¯(IntelliSense)ï¼Œä»¥åŠé™æ€åˆ†æ(é€šè¿‡ [tslint](https://palantir.github.io/tslint/) )ã€‚

ğŸ‰

> *è®°ä½ä½ å¯ä»¥åœ¨* [***è¿™ä¸ª GitHub èµ„æºåº“***](https://github.com/nanovazquez/reactjs-training) *é‡Œæ‰¾åˆ°å®Œæ•´çš„è®­ç»ƒã€‚*