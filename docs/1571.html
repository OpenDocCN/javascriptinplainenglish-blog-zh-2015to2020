<html>
<head>
<title>JavaScript Higher-Order Functions: A Simple Introduction &amp; Implementation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript高阶函数:简单介绍和实现</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-higher-order-functions-249a045b8c1?source=collection_archive---------13-----------------------#2020-04-01">https://javascript.plainenglish.io/javascript-higher-order-functions-249a045b8c1?source=collection_archive---------13-----------------------#2020-04-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9fbca259f68667ef9ce202fb20f7e18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zwS1OaBoS9CgUwwK"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@lucabravo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luca Bravo</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3af5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">高阶函数已经存在很长时间了，JavaScript开发人员也使用了很长时间(有意或无意)。</p><h2 id="6fe9" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">什么是高阶函数？</h2><p id="71b8" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">简单地说(通俗地说)，把一个函数作为输入或者返回一个函数的函数，可以归为高阶函数。</p><h2 id="f1b1" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated"><strong class="ak">不知不觉使用高阶函数(HOF)</strong></h2><p id="64a8" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">有些情况下，我们在不知不觉中使用了HOFs。<br/>同样的一个基本例子是DOM元素事件监听器。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="deba" class="ky kz in mb b gy mf mg l mh mi">&lt;html&gt;</span><span id="05e5" class="ky kz in mb b gy mj mg l mh mi">&lt;head&gt;&lt;/head&gt;</span><span id="c9d5" class="ky kz in mb b gy mj mg l mh mi">&lt;body&gt;</span><span id="2436" class="ky kz in mb b gy mj mg l mh mi">&lt;button type="button"&gt;Click Me&lt;/button&gt;</span><span id="0519" class="ky kz in mb b gy mj mg l mh mi">&lt;/body&gt;</span><span id="769f" class="ky kz in mb b gy mj mg l mh mi">&lt;script&gt;</span><span id="5023" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">const</em> btn = document.querySelector('button')</span><span id="c034" class="ky kz in mb b gy mj mg l mh mi">btn.addEventListener('click', fireClick)</span><span id="a300" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">function</em> fireClick(){</span><span id="1d28" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">console</em>.log('Clicked');</span><span id="41dd" class="ky kz in mb b gy mj mg l mh mi">}</span><span id="0007" class="ky kz in mb b gy mj mg l mh mi">&lt;/script&gt;</span><span id="e1db" class="ky kz in mb b gy mj mg l mh mi">&lt;/html&gt;</span></pre><p id="167c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里创建了一个简单的函数，即fireClick，并作为参数传递给Click事件侦听器，这主要是HOF的用法之一。</p><p id="080e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Hof的其他常用示例有map、reduce、filter、some、every，它们经常用于数组操作。</p><p id="f1c1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们来看看其中一个经常使用的功能，即地图。</p><p id="3913" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Map用于迭代数组的每个元素，并根据需要返回修改后的数组。</p><p id="51ab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们的例子中，我们将每个元素乘以6(只是一个随机的数字，没什么特别的)并得到输出。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="246c" class="ky kz in mb b gy mf mg l mh mi"><em class="mk">const</em> arr = [1,2,3,4];</span><span id="49bd" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">const</em> modifiedArray = (element,index , array) <em class="mk">=&gt;</em> {</span><span id="163a" class="ky kz in mb b gy mj mg l mh mi">return `${index} - ${element * 2}`</span><span id="560f" class="ky kz in mb b gy mj mg l mh mi">}</span><span id="2584" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">let</em> newArr = arr.map(modifiedArray)</span><span id="6a4a" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">console</em>.log(newArr);  // Output --&gt; ["0 - 2", "1 - 4", "2 - 6", "3 - 8"]</span></pre><p id="3ef0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里，modifiedArray是传递给map函数的回调函数，它在每个元素上运行，并接受三个参数→ <strong class="kc io">当前元素、当前索引</strong>和发生迭代的数组。</p><h2 id="0d9d" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">那么，我们可以创建自己的Hof吗？</h2><p id="c29c" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">答案是肯定的，我们将立即创建一个。我们将创建自己版本的地图功能。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="fc1d" class="ky kz in mb b gy mf mg l mh mi"><em class="mk">const</em> arr = [1,2,3,4];</span><span id="2902" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">const</em> duplicateMap = (arr,modifiedArray) <em class="mk">=&gt;</em> {     // Step 1</span><span id="4062" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">let</em> result = [];                                  // Step 2</span><span id="e276" class="ky kz in mb b gy mj mg l mh mi">for(<em class="mk">let</em> i=0 ; i &lt; arr.length ; i++) {             // Step 3</span><span id="1a90" class="ky kz in mb b gy mj mg l mh mi">result.push(modifiedArray(arr[i],i))             //  Step 4</span><span id="a8be" class="ky kz in mb b gy mj mg l mh mi">}</span><span id="d7e1" class="ky kz in mb b gy mj mg l mh mi">return result;                                   // Step 5</span><span id="0ed2" class="ky kz in mb b gy mj mg l mh mi">}</span><span id="1c88" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">const</em> modifiedArray = (element,index) <em class="mk">=&gt;</em> {       // Step 4.1</span><span id="56a6" class="ky kz in mb b gy mj mg l mh mi">return `${index} - ${element * 6}`               // Step 4.2</span><span id="aa3b" class="ky kz in mb b gy mj mg l mh mi">}</span><span id="2305" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">let</em> newArr = duplicateMap(arr,modifiedArray)</span><span id="3c07" class="ky kz in mb b gy mj mg l mh mi"><em class="mk">console</em>.log(newArr); // Output --&gt;  ["0 - 6", "1 - 12", "2 - 18", "3 - 24"]</span></pre><p id="68b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里发生了什么？我们一步一步来。</p><p id="151a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤1 → duplicateMap是我们自定义的Map函数，它有两个参数:<br/> <br/> 1。输入数组</p><p id="53b3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2.最终修改我们的数据的函数(这里命名为modified array)<br/>这个步骤使duplicateMap成为一个高阶函数，因为它接受一个函数作为输入。</p><p id="c51f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤2 →我们创建一个空数组，最终存储我们修改过的数组。</p><p id="f66f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤3 →数组上的简单迭代。</p><p id="d5bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤4 →在这里，我们对每个元素调用回调函数，该函数将当前元素和当前索引作为参数。</p><p id="53c8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤4.1 →我们在这里用当前元素和当前索引作为参数定义回调函数。</p><p id="069d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤4.2 →这里是我们的实际逻辑，其中我们根据我们的要求修改每个元素并返回相同的内容。</p><p id="ab8a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤4(重新访问)→将步骤4.2中返回的更改数据推入步骤2中创建的数组。</p><p id="3a49" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">步骤5 →返回结果数组。</p><p id="76e0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就是我们自定义映射函数的全部实现，它实际上是一个高阶函数。</p><p id="f047" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是高阶函数和自定义实现的基本介绍。希望你对此有所了解。</p></div><div class="ab cl ml mm hr mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ig ih ii ij ik"><p id="4a4e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以在这里阅读我的其他文章<a class="ae jz" href="https://medium.com/@avinash.dev21987" rel="noopener">，另外，你可以订阅我的时事通讯以获得我发表的最新话题。</a></p><p id="e199" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mk">更多内容看</em> <a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mk">说白了。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mk">免费周报</em> </strong> </a> <em class="mk">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mk">Twitter</em></strong></a><em class="mk">和</em><a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mk">LinkedIn</em></strong></a><em class="mk">。加入我们的</em> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mk">社区</em> </strong> </a> <em class="mk">。</em></strong></a></p></div></div>    
</body>
</html>