<html>
<head>
<title>JavaScript promises: Resolve isn’t the same as Fulfil</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript承诺:解决不同于实现</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-promises-resolve-isnt-the-same-that-fulfill-3c6932a7a367?source=collection_archive---------6-----------------------#2020-02-05">https://javascript.plainenglish.io/javascript-promises-resolve-isnt-the-same-that-fulfill-3c6932a7a367?source=collection_archive---------6-----------------------#2020-02-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f3f9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简短有用的JavaScript课程。让它变得简单</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/42f04e412a8122b204d59601b6b6a024.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PwnOfht0_3tQNZWDEdRShw.jpeg"/></div></div></figure><p id="b710" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关于术语“解决”、“履行”和“拒绝”,有些小混乱。在这篇小文章中，我将尝试用一些例子来解释它们。</p><p id="37df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们看一些例子。</p><p id="a02d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们首先创建一个承诺。提供了两个回调:resolveCallback、rejectCallback。</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="156b" class="ls lt iq lo b gy lu lv l lw lx">var myPromise = new Promise( function(resolveCallback, rejectCallback){<br/>        // resolveCallback() //¡fulfillment or rejection!<br/>        // rejectCallback()  // Only for rejection<br/> } );</span></pre><p id="ccbc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">第一次回调<strong class="kt ir">通常是</strong>用于将承诺标记为履行(解决或拒绝)，第二次回调<strong class="kt ir">总是</strong>将承诺标记为拒绝。</p><p id="1601" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些参数的命名在技术上并不重要。名称不会被引擎解释为任何意思，但是您使用的单词不仅会影响您对代码的看法，还会影响团队中其他开发人员对代码的看法。</p><p id="0675" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们已经使用“解决承诺”来表示履行或拒绝承诺，但是如果这个参数似乎是专门用来履行承诺的，为什么我们称之为履行(..)而不是resolve(..)更确切的说？为了回答这个问题，我们来看一些例子。</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="3fd9" class="ls lt iq lo b gy lu lv l lw lx">var fulfilledPromise = Promise.resolve( “OK” ); <br/>var rejectedPromise  = Promise.reject( “Error” );</span></pre><p id="7a0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Promise.resolve("OK ")创建一个解析为值" OK "的承诺。实现的承诺fulfilled promise是为值“OK”创建的。</p><p id="a4eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Promise.reject("Error ")创建拒绝的承诺rejected promise，原因是" Error "。</p><p id="0da3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们来说明为什么当在可能导致实现或拒绝的上下文中明确使用时，单词“resolve”比使用例如“fulfill”更明确和更精确:</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="6281" class="ls lt iq lo b gy lu lv l lw lx">var rejectedThenable = {<br/>   then: function(resolved, rejected) {<br/>        rejected( "Error" );<br/>    }<br/>};<br/>var rejectedPromise = Promise.resolve( rejectedThenable );</span></pre><p id="6d3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Promise . resolve(rejected enable)将直接返回收到的承诺或打开收到的表格。如果那个可打开的解包释放出一个拒绝状态，那么从Promise . resolve(rejected enable)返回的承诺实际上处于相同的拒绝状态。</p><p id="fa3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以Promise.resolve(..)对API方法来说，这是一个精确而好的名字，因为它实际上可以导致实现或拒绝。</p><p id="f1e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下一个例子中，我们用一个被拒绝的承诺来解决这个承诺。当我们调用rejectedPromise时，我们得到消息错误:“rejected:这是一个有趣的错误”</p><pre class="kg kh ki kj gt ln lo lp lq aw lr bi"><span id="ae45" class="ls lt iq lo b gy lu lv l lw lx">var rejectedPromise = new Promise( function (resolve, reject){<br/>    // resolve this promise with a rejected promise<br/>    resolve( Promise.reject( "this is a funny  error" ) );<br/>} );</span><span id="e0b9" class="ls lt iq lo b gy ly lv l lw lx">rejectedPromise.then(<br/>    function fulfilled(){<br/>        // never gets here<br/>    },<br/>    function rejected(err){<br/>        console.log("rejected:"+ err ); <br/>       //"rejected: this is a funny  error"<br/>    }<br/>);</span></pre><h2 id="57bb" class="ls lt iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">如果这对你有帮助，请点击下面的拍手按钮。非常感谢！</h2></div></div>    
</body>
</html>