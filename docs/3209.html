<html>
<head>
<title>Best of Modern JavaScript — Loops and Parameters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代JavaScript的精华——循环和参数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/best-of-modern-javascript-loops-and-parameters-37c7d24bcc87?source=collection_archive---------4-----------------------#2020-09-09">https://javascript.plainenglish.io/best-of-modern-javascript-loops-and-parameters-37c7d24bcc87?source=collection_archive---------4-----------------------#2020-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d18e4953be3a3c3dd39e94ed769c86ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-NpJdumMni-AGnR7"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@eddietsy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eddie Tsy</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="429b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">自2015年以来，JavaScript有了巨大的进步。</p><p id="c894" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在用起来比以前舒服多了。</p><p id="193a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究JavaScript变量。</p><h1 id="e185" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">循环头中的<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code></h1><p id="cde5" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以在for、for-in和for-of循环的循环头中使用<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>。</p><p id="9662" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用for循环，我们可以编写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="1dca" class="mq lc iq mc b gy mr ms l mt mu">const arr = [];<br/>for (let i = 0; i &lt; 3; i++) {<br/>  arr.push(i);<br/>}</span></pre><p id="e1e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以写使用<code class="fe lz ma mb mc b">let</code>使<code class="fe lz ma mb mc b">i</code>只在块中可用。</p><p id="1dcd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这比<code class="fe lz ma mb mc b">var</code>要好，后者使循环在整个函数内部可用:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="e59c" class="mq lc iq mc b gy mr ms l mt mu">const arr = [];<br/>for (var i = 0; i &lt; 3; i++) {<br/>  arr.push(i);<br/>}</span></pre><p id="5b36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">const</code>的工作原理和<code class="fe lz ma mb mc b">var</code>一样，但是我们不能改变<code class="fe lz ma mb mc b">i</code>的值。</p><p id="c6c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们不能写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="e8e6" class="mq lc iq mc b gy mr ms l mt mu">for (const i = 0; i &lt; 3; i++) {<br/>  console.log(i);<br/>}</span></pre><p id="b2a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们改变了<code class="fe lz ma mb mc b">i</code>的值。</p><p id="e2e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以使用for-of循环从循环中获取项目。</p><p id="5ff8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="89ac" class="mq lc iq mc b gy mr ms l mt mu">const arr = [];<br/>for (let i of [0, 1, 2]) {<br/>  arr.push(i);<br/>}</span></pre><p id="4820" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来获取值。</p><p id="4bda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以使用<code class="fe lz ma mb mc b">const</code>,因为我们没有改变数组入口变量:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="bdf0" class="mq lc iq mc b gy mr ms l mt mu">const arr = [];<br/>for (const i of [0, 1, 2]) {<br/>  arr.push(i);<br/>}</span></pre><p id="fa99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">var</code>变量将使变量在循环外可用:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="7c3b" class="mq lc iq mc b gy mr ms l mt mu">const arr = [];<br/>for (var i of [0, 1, 2]) {<br/>  arr.push(() =&gt; i);<br/>}</span></pre><p id="2f4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">for-in循环的工作方式类似于for-of循环。</p><h1 id="7505" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">作为变量的参数</h1><p id="f814" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以在块中写参数we <code class="fe lz ma mb mc b">let</code>变量，如果它们不与参数重叠的话。</p><p id="a4fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们不能写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="bc77" class="mq lc iq mc b gy mr ms l mt mu">function func(arg) {<br/>  let arg;<br/>}</span></pre><p id="fa7f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为两个<code class="fe lz ma mb mc b">args</code>具有相同的范围。</p><p id="1813" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将得到“未捕获的语法错误:标识符“arg”已经被声明为“错误”。</p><p id="6582" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="f470" class="mq lc iq mc b gy mr ms l mt mu">function func(arg) {<br/>  {<br/>    let arg;<br/>  }<br/>}</span></pre><p id="33c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为<code class="fe lz ma mb mc b">arg</code>在挡位。</p><p id="199a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，对于<code class="fe lz ma mb mc b">var</code>，两者都有效:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="5f59" class="mq lc iq mc b gy mr ms l mt mu">function func(arg) {<br/>  var arg;<br/>}</span><span id="9f2c" class="mq lc iq mc b gy mv ms l mt mu">function func(arg) {<br/>  { <br/>    var arg;<br/>  }<br/>}</span></pre><p id="5358" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都不做任何事情，并且它们在参数和块中共享相同的作用域。</p><p id="15a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们有默认参数，那么它们被当作参数。</p><p id="450d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="ab2a" class="mq lc iq mc b gy mr ms l mt mu">function foo(x = 1, y = x) {<br/>  return [x, y];<br/>}</span></pre><p id="0ce5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe lz ma mb mc b">x</code>在<code class="fe lz ma mb mc b">y</code>之前定义。</p><p id="2b46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是我们不能写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="f23b" class="mq lc iq mc b gy mr ms l mt mu">function bar(x = y, y = 2) {<br/>  return [x, y];<br/>}</span></pre><p id="b1e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为当我们将<code class="fe lz ma mb mc b">y</code>分配给<code class="fe lz ma mb mc b">x</code>时，它还没有被定义。</p><p id="715d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们将默认参数视为<code class="fe lz ma mb mc b">let</code>变量。</p><p id="fe74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们看不到身体的范围。</p><p id="8e51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="2b7e" class="mq lc iq mc b gy mr ms l mt mu">const foo = 'bar';</span><span id="9b96" class="mq lc iq mc b gy mv ms l mt mu">function bar(func = x =&gt; foo) {<br/>  const foo = 'baz';<br/>  console.log(func()); <br/>}</span><span id="a8e6" class="mq lc iq mc b gy mv ms l mt mu">bar()</span></pre><p id="8ab0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe lz ma mb mc b">bar</code>。</p><p id="d733" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">函数参数中的函数从外部取<code class="fe lz ma mb mc b">foo</code>并返回。</p><p id="dce2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">bar</code>里面的<code class="fe lz ma mb mc b">foo</code>有自己的作用域。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/151db1c92916138468349e6d77f6da9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PhitCeHmN7ez6pKI"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jannerboy62?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nick Fewings</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="b193" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5b0b" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以在循环头和函数中使用<code class="fe lz ma mb mc b">let</code>和<code class="fe lz ma mb mc b">const</code>。</p><p id="c141" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认参数也被视为<code class="fe lz ma mb mc b">let</code>变量。</p><h2 id="bde6" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">简单英语的JavaScript</h2><p id="3428" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅获取更多类似内容解码，我们的YouTube频道</strong> </a> <strong class="kf ir">！</strong></p></div></div>    
</body>
</html>