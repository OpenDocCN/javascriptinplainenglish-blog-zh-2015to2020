<html>
<head>
<title>Write React functional components and hooks in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨TypeScriptä¸­ç¼–å†™Reactå‡½æ•°ç»„ä»¶å’Œé’©å­</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/write-react-functional-components-and-hooks-with-typescript-cd1539e2bc2a?source=collection_archive---------5-----------------------#2020-08-27">https://javascript.plainenglish.io/write-react-functional-components-and-hooks-with-typescript-cd1539e2bc2a?source=collection_archive---------5-----------------------#2020-08-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="fb28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">TypeScriptæ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ï¼Œå®ƒç¬¦åˆJavaScriptã€‚é™æ€ç±»å‹çš„ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼Œä¹Ÿæ›´éš¾ç ´è§£ã€‚</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/219d518f0bf84f1a50608c172a16231e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZfCTE6kZArxc0Nr_MybXPQ.png"/></div></div></figure><p id="b1fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ¬æ–‡å‡è®¾æ‚¨å·²ç»å¯¹Reactå’ŒTypeScriptæœ‰æ‰€äº†è§£ã€‚å¦‚æœä½ ä¸æ˜¯ï¼Œé‚£ä¹ˆä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä¼šä¿æŠ¤ä½ ã€‚åœ¨é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œè¯·æµè§ˆä¸‹é¢çš„å‚è€ƒèµ„æ–™å¹¶å°è¯•ä¸€äº›ä¾‹å­:</p><ul class=""><li id="1feb" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated"><a class="ae lg" href="https://reactjs.org/tutorial/tutorial.html" rel="noopener ugc nofollow" target="_blank"> Reactæ•™ç¨‹</a></li><li id="ab67" class="kx ky iq jp b jq lh ju li jy lj kc lk kg ll kk lc ld le lf bi translated"><a class="ae lg" href="https://medium.com/front-end-weekly/learn-typescript-in-15-minutes-bf921cf355f5" rel="noopener">15åˆ†é’Ÿå­¦ä¼šæ‰“å­—ç¨¿</a></li></ul><p id="6234" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä¸ä¼šæµªè´¹ä½ çš„æ—¶é—´ï¼Œç°åœ¨å°±ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚</p><h1 id="768a" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">è®¾ç½®é¡¹ç›®ğŸ‘¨â€ğŸ’»ï¸</h1><p id="cc74" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä¸è®¨è®ºå¦‚ä½•ä»é›¶å¼€å§‹ç”¨TypeScriptå»ºç«‹ä¸€ä¸ªReacté¡¹ç›®ã€‚å¼€å§‹æ—¶ä¿æŒäº‹æƒ…ç®€å•æ€»æ˜¯å¥½çš„ã€‚æˆ‘å·²ç»ä¸ºæ‚¨å‡†å¤‡äº†GitHubæ¨¡æ¿ï¼Œæ— éœ€ä»»ä½•è®¾ç½®å³å¯å¼€å§‹ä½¿ç”¨ã€‚ä½ å¯ä»¥å†³å®šåˆ†å‰å›è´­æˆ–åªæ˜¯ä½¿ç”¨æ¨¡æ¿å¼€å§‹ä¸€ä¸ªæ–°çš„é¡¹ç›®ã€‚<a class="ae lg" href="https://github.com/theBstar/react-typescript-starter" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªå›è´­å·²ç»é…å¤‡äº†æ›´æ¼‚äº®ï¼Œeslintï¼ŒTypeScriptå’ŒReactè®¾ç½®ã€‚å’ŒCRAä¸€èµ·æˆé•¿ã€‚åœ¨è¿™é‡Œæ‰¾åˆ°å®ƒã€‚</a>å¦‚æœä½ æƒ³<a class="ae lg" href="https://reactjs.org/docs/static-type-checking.html#typescript" rel="noopener ugc nofollow" target="_blank">åšè‡ªå·±çš„React +æ‰“å­—ç¨¿è®¾ç½®</a>ï¼Œè¯·æŸ¥çœ‹å®˜æ–¹Reactæ–‡æ¡£ã€‚</p><h1 id="683f" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">TypeScriptæ³›å‹åˆ·æ–°ç¨‹åº</h1><p id="7c69" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">æ³›å‹æ˜¯æ„å»ºå¯é‡ç”¨è½¯ä»¶çš„å·¥å…·ã€‚è¿™ç»™äº†æˆ‘ä»¬ä¸å°†ç‰‡æ®µä¸ç±»å‹ç´§å¯†è€¦åˆçš„çµæ´»æ€§ã€‚å…è®¸æˆ‘ä»¬åœ¨ç»´æŠ¤ç±»å‹å®‰å…¨çš„åŒæ—¶é‡ç”¨ä¸åŒç±»å‹çš„ä»£ç ã€‚</p><p id="66d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨TypeScriptä¸­ï¼Œæ³›å‹å°±åƒæ˜¯å¯ä»¥åŠ¨æ€æ’å…¥çš„ç±»å‹çš„å ä½ç¬¦ã€‚ä¸¾ä¸ªä¾‹å­å°±èƒ½æŠŠäº‹æƒ…è¯´æ¸…æ¥šã€‚</p><p id="5a70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ­£åœ¨å®ç°ä¸€ä¸ªåä¸ºSimpleStackçš„å°å‡½æ•°ï¼Œç”¨äºä¿å­˜ä¸€äº›é¡¹ç›®çš„åˆ—è¡¨ã€‚å¦‚æœæˆ‘ä»¬åœ¨æ²¡æœ‰æ³›å‹çš„æƒ…å†µä¸‹å®ç°å®ƒï¼Œæˆ‘ä»¬çš„SimpleArrayå£°æ˜å°†åªèƒ½ä¿å­˜ä¸€ç§ç±»å‹çš„å€¼ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="f5fd" class="mu ln iq mq b gy mv mw l mx my">type SimpleStackType = {<br/>  data: Array&lt;string&gt;;<br/>  push: (item: string) =&gt; number;<br/>  pop: () =&gt; string;<br/>};</span></pre><p id="0f28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸Šé¢çš„å£°æ˜åªå…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å †æ ˆã€‚å¦‚æœæˆ‘ä»¬æƒ³ç”¨ä¸Šé¢çš„æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ•°å­—å †æ ˆï¼Œæˆ‘ä»¬éœ€è¦å£°æ˜ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œç”¨æ•°å­—ç±»å‹æ›¿æ¢å­—ç¬¦ä¸²ç±»å‹ã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹é€šç”¨ç¤ºä¾‹ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="3178" class="mu ln iq mq b gy mv mw l mx my">type SimpleStackType&lt;T&gt; = {<br/>  data: Array&lt;T&gt;;<br/>  push: (item: T) =&gt; number;<br/>  pop: () =&gt; T;<br/>};</span></pre><p id="e35e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸Šé¢ä»£ç ä¸­çš„tæ˜¯ä¸€ä¸ªç±»å‹çš„å ä½ç¬¦ã€‚æˆ‘ä»¬å¯ä»¥å°†ä»»ä½•ä¸œè¥¿ä¼ é€’ç»™Tï¼ŒSimpleStackTypeå°†ä½œä¸ºTçš„ç±»å‹å·¥ä½œã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="5b8f" class="mu ln iq mq b gy mv mw l mx my">let stringStack: SimpleStackType&lt;string&gt;; // this like the first example with strict type of string<br/>// but we are not limitted.</span><span id="720d" class="mu ln iq mq b gy mz mw l mx my">let numberStack: SimpleStackType&lt;number&gt;;</span><span id="4f6f" class="mu ln iq mq b gy mz mw l mx my">type Person = {<br/>  name: string;<br/>  age: number;<br/>};</span><span id="d599" class="mu ln iq mq b gy mz mw l mx my">let personStack: SimpleStackType&lt;Person&gt;;</span></pre><p id="3cbf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½çš„ï¼Œå¦‚æœä½ ä¸ç†Ÿæ‚‰æ³›å‹ï¼Œä½ å¯èƒ½å·²ç»é—®è¿‡äº†ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ç±»å‹<strong class="jp ir">å’Œ</strong>å—ï¼Ÿä¸<strong class="jp ir">ä»»ä½•</strong>æœ‰ä½•ä¸åŒï¼Œæœ‰ä½•ä¼˜åŠ¿ï¼Ÿ</p><p id="9621" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å†ä¸¾ä¸ªä¾‹å­æ¥å›ç­”ä¸€ä¸‹ã€‚æ‰€ä»¥ä»»ä½•ç±»å‹çš„å †æ ˆ</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="86a2" class="mu ln iq mq b gy mv mw l mx my">type AnyStack = {<br/>  data: Array&lt;any&gt;;<br/>  push: (item: any) =&gt; number;<br/>  pop: () =&gt; any:<br/>};</span></pre><p id="1a82" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®ç°AnyStackå…è®¸æˆ‘ä»¬åœ¨å †æ ˆä¸­å­˜å‚¨ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯å®ƒä¸æä¾›ç±»å‹å®‰å…¨ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸ç¡®å®šæ•°æ®é¡¹ä¸Šæœ‰å“ªäº›å¯ç”¨çš„æ–¹æ³•æˆ–å±æ€§ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="5528" class="mu ln iq mq b gy mv mw l mx my">let anyStack: AnyStack;<br/>// initialized anyStack here</span><span id="50cb" class="mu ln iq mq b gy mz mw l mx my">anyStack.data.map(item =&gt; { <br/>  console.log('Item is of type any'); <br/>  console.log('We are not certain about the type, that means we can access any properties or methods on the item. But if we don' want to break it, we should check the everything before calling it on item.');</span><span id="442d" class="mu ln iq mq b gy mz mw l mx my">// We are accessing toLowerCase method on item. We can do it, typescript won't complain because item is of type any.<br/>  // But item can be of anything, what if item is of type nunowmber?</span><span id="d625" class="mu ln iq mq b gy mz mw l mx my">});</span></pre><p id="49c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æ‚¨å¯èƒ½ç¡®ä¿¡anyå¹¶ä¸æ˜¯æ‚¨çœŸæ­£å–œæ¬¢çš„ç±»å‹ï¼Œå› ä¸ºå®ƒä¸æä¾›ç±»å‹å®‰å…¨ï¼è¿™å°±æ˜¯æ³›å‹å‡ºç°çš„åŸå› ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="4021" class="mu ln iq mq b gy mv mw l mx my">let stringStack: SimpleStackType&lt;string&gt;;<br/>// initialized here</span><span id="ebf7" class="mu ln iq mq b gy mz mw l mx my">stringStack.map(item =&gt; {<br/>  console.log('Item is of type string here);<br/>  console.log('You can even access .toLowerCase here! Should not be a surprise. You already knew it, right?');<br/>});</span></pre><p id="8257" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ ä¸€å®šå·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„<strong class="jp ir">æ•°ç»„&lt;someType&gt;T1ã€‘è¯­æ³•ä¹Ÿæ˜¯æ³›å‹çš„ä¸€ç§å®ç°ï¼Œä½ å¯ä»¥çœ‹åˆ°æ³›å‹çš„å¼ºå¤§ã€å®‰å…¨å’Œçµæ´»æ€§ã€‚æ˜¯æ—¶å€™åšå‡ºååº”äº†ã€‚</strong></p><h1 id="61c8" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">Reactåº”ç”¨ç¨‹åºçš„æ„å»ºæ¨¡å—ï¼Œç»„ä»¶</h1><p id="5da9" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">ç»„ä»¶æ˜¯ä»»ä½•Reactåº”ç”¨ç¨‹åºçš„æ„å»ºå—ã€‚ç”±äºæœ¬æ–‡æ˜¯å…³äºåœ¨TypeScriptä¸­ååº”å‡½æ•°ç»„ä»¶çš„ï¼Œæˆ‘ä»¬å°†åªè®¨è®ºå‡½æ•°ç»„ä»¶å’Œä¸€äº›å…¶ä»–ç±»å‹å£°æ˜ã€‚</p><h2 id="bcd1" class="mu ln iq bd lo na nb dn ls nc nd dp lw jy ne nf ma kc ng nh me kg ni nj mi nk bi translated">åŠŸèƒ½ç»„ä»¶</h2><p id="ac12" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">ä¸€ä¸ªååº”å‡½æ•°ç»„ä»¶å°±åƒä¸€ä¸ªè¿”å›æœ‰æ•ˆJSXçš„æ™®é€šå‡½æ•°ã€‚ä¸‹é¢çš„ç±»å‹æ¨ç†å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ•ˆçš„Reactç»„ä»¶ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="ff1f" class="mu ln iq mq b gy mv mw l mx my">function SomeComponent() {<br/>  return (<br/>    &lt;div&gt; Hello from a react component!&lt;/div&gt;<br/>  );<br/>}</span></pre><p id="8aec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ æƒ³æ›´æ˜ç¡®ï¼Œé‚£ä¹ˆReactæä¾›äº†FC(æˆ–è€…ä½¿ç”¨FunctionComponentï¼ŒäºŒè€…ç›¸åŒ)ç±»å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæ³›å‹ã€‚ä½ å¯ä»¥ä¼ é€’ä¸€ä¸ªç±»å‹ï¼Œè¿™ä¸ªç±»å‹æ˜¯å‡½æ•°å°†è¦æ¥å—çš„é“å…·çš„ç±»å‹ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="5f00" class="mu ln iq mq b gy mv mw l mx my">type Props = {<br/>  name: string;<br/>};</span><span id="c100" class="mu ln iq mq b gy mz mw l mx my">const AnotherComponent: FC&lt;Props&gt; = ({name}) =&gt; &lt;div&gt;Hi {name}&lt;/div&gt;;</span></pre><p id="7497" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‚¨å¯ä»¥é€šè¿‡åœ¨é“å…·ä¸Šå®šä¹‰å…¶ä»–å­—æ®µæ¥åœ¨é“å…·ä¸Šå®šä¹‰å®ƒä»¬ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨å®ƒä»¬å‰é¢ä½¿ç”¨é—®å·æ¥ä½¿å®ƒä»¬å¯é€‰ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="1dd1" class="mu ln iq mq b gy mv mw l mx my">type Props = {<br/>  name: string;<br/>  optionalProp?: number;<br/>};</span><span id="0051" class="mu ln iq mq b gy mz mw l mx my">const OneMoreComponent: FC&lt;Props&gt; = ({name}) =&gt; &lt;div&gt;Hi {name}&lt;/div&gt;;</span></pre><h2 id="1f17" class="mu ln iq bd lo na nb dn ls nc nd dp lw jy ne nf ma kc ng nh me kg ni nj mi nk bi translated">å…¶ä»–ç±»å‹å£°æ˜</h2><p id="1430" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†åŸºæœ¬çš„åŠŸèƒ½ç»„ä»¶ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸ç±»ç»„ä»¶äº¤äº’ï¼ŒReactä¸­è¿˜æœ‰ä¸€äº›å…¶ä»–é‡è¦çš„ç±»å‹å€¼å¾—äº†è§£ã€‚</p><p id="ed9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nl">åšå‡ºååº”ã€‚ReactNode </em> </strong>å¯ä»¥ç”¨ä½œè¿”å›JSXçš„å‡½æ•°çš„è¿”å›ç±»å‹ã€‚ç”¨äºååº”è¿Ÿé’çš„å„¿ç«¥ã€‚æ‚¨å¯ä»¥å®šä¹‰ä¸€ä¸ªè¿”å›ReactNodeçš„å‡½æ•°æ¥è¾“å…¥æ‚¨çš„æ¸²æŸ“å±æ€§ã€‚æœ‰ä¸€ä¸ªä¾‹å­å¯ä»¥è¯´æ˜è¿™ä¸€ç‚¹:</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="a78a" class="mu ln iq mq b gy mv mw l mx my">type Props = {<br/>  nameRenderer: (name: string) =&gt; React.ReactNode;<br/>};</span></pre><p id="dafa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nl">åšå‡ºååº”ã€‚Component &lt; PropTypeï¼ŒStateType &gt; </em> </strong>è¯­æ³•ç”¨äºå£°æ˜ç±»ç»„ä»¶ã€‚</p><p id="695e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nl">åšå‡ºååº”ã€‚å¦‚æœä½ åªå…³å¿ƒç»„ä»¶å’Œå®ƒæ¥å—çš„å±æ€§ï¼Œè€Œä¸å…³å¿ƒå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶è¿˜æ˜¯ä¸€ä¸ªç±»ç»„ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ComponentType </em> </strong> <em class="nl">ã€‚ä¸‹é¢æ˜¯å®ƒçš„å£°æ˜:</em></p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="6fcb" class="mu ln iq mq b gy mv mw l mx my">// This is a type from react, use FC for functional component and Component for class components.</span><span id="2533" class="mu ln iq mq b gy mz mw l mx my">type React.ComponentType&lt;P = {}&gt; = React.ComponentClass&lt;P, any&gt; | React.FunctionComponent&lt;P&gt;</span></pre><h1 id="5fa6" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">ReactæŒ‚é’©:æ‰“å­—ç‰ˆæœ¬</h1><p id="2ab2" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">æ—¢ç„¶è¯´çš„æ˜¯å‡½æ•°ç»„ä»¶ï¼Œä¸è¯´è¯´é’©å­è‚¯å®šæ˜¯ä¸å®Œæ•´çš„ã€‚ä½†è¿™ç»å¯¹ä¸æ˜¯React hooksçš„ä»‹ç»ã€‚</p><h2 id="4b62" class="mu ln iq bd lo na nb dn ls nc nd dp lw jy ne nf ma kc ng nh me kg ni nj mi nk bi translated">ä½¿ç”¨çŠ¶æ€</h2><p id="dc1f" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">å¯ä»¥å°†ç±»å‹ä¼ é€’ç»™ä½¿ç”¨çŠ¶æ€ï¼Œå°±åƒå°†ç±»å‹ä¼ é€’ç»™æ³›å‹ä¸€æ ·ã€‚å¦‚æœæ‚¨çš„çŠ¶æ€ç±»å‹åœ¨åº”ç”¨ç¨‹åºçš„æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰æ”¹å˜ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ç®€å•åœ°å°†åˆå§‹çŠ¶æ€ä¼ é€’ç»™useStateï¼ŒTypeScriptå°†æ¨æ–­å‡ºç±»å‹ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="3699" class="mu ln iq mq b gy mv mw l mx my">const [counter, setCounter] = useState(0);</span></pre><p id="f8ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™é‡Œï¼Œè®¡æ•°å™¨çš„ç±»å‹æ€»æ˜¯æ•°å­—ã€‚å¦‚æœä½ éœ€è¦æ›´å¤æ‚çš„ç±»å‹ï¼Œæ¯”å¦‚ç”¨æˆ·:</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="a201" class="mu ln iq mq b gy mv mw l mx my">const [user, setUser] = useState({name: 'Binod', age: 1, ageUnit: 'month' });</span></pre><p id="c90a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒTypeScriptä¹Ÿä¼šæ¨æ–­ç±»å‹ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„ç”¨æˆ·æ•°æ®æ˜¯åŠ¨æ€è®¾ç½®çš„ï¼Œæ¯”å¦‚åœ¨ç™»å½•äº‹ä»¶ä¹‹åï¼Œç”¨æˆ·æœ€åˆä¸ºç©ºï¼Œæ‚¨å°†å¦‚ä½•å¤„ç†å®ƒï¼Ÿ</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="5da0" class="mu ln iq mq b gy mv mw l mx my">const [user, setUser] = useState(null);</span></pre><p id="b5d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸å®Œå…¨æ˜¯è¿™æ ·ï¼Œå› ä¸ºTypeScriptä¼šå°†ç”¨æˆ·çš„ç±»å‹æ¨æ–­ä¸ºnullï¼Œå¹¶ä¸”å½“æ‚¨è¯•å›¾å°†å…¶è®¾ç½®ä¸ºå¦ä¸€ç§ç±»å‹çš„å€¼æ—¶ä¼šæŠ¥é”™ã€‚æ˜¾ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»å‹ï¼Œä½†ä½ æƒ³è¦ç±»å‹å®‰å…¨ï¼Œä¸æ˜¯å—ï¼Ÿ</p><p id="b256" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ æƒ³å¾—æœ‰ç‚¹éš¾ï¼Œæˆ–è€…ä½ å·²ç»æƒ³é€šäº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ä¸€ä¸ªè”åˆç±»å‹ã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬ç°åœ¨å°†ä½¿ç”¨é€šç”¨è¯­æ³•ã€‚</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="e3a9" class="mu ln iq mq b gy mv mw l mx my">type User = {<br/>  name: string,<br/>  age: number,<br/>  ageUnit: string, // or better 'month' | 'year' | 'day' | 'week' <br/>};</span><span id="fbfd" class="mu ln iq mq b gy mz mw l mx my">const [user, setUser] = useState&lt;User | null&gt;(null);</span></pre><p id="7a9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<strong class="jp ir"> <em class="nl">éç©ºæ–­è¨€</em> </strong> <strong class="jp ir"> <em class="nl">æ“ä½œç¬¦</em> </strong>å®ç°ç±»ä¼¼çš„ä¸œè¥¿ï¼Œä½†ä¸èƒ½å®Œå…¨æ»¡è¶³ç”¨ä¾‹ã€‚</p><p id="fd96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“useStateè¿”å›çš„setUserçš„ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬æ­£åœ¨ä¼ é€’å®ƒçš„è¯ã€‚ä¼ é€’setValueæœ‰ç‚¹é…·ï¼Œå› ä¸ºReactä¿è¯äº†å¼•ç”¨ã€‚ä»–ä»¬çš„ç±»å‹æ˜¯:</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="4d0f" class="mu ln iq mq b gy mv mw l mx my">React.Dispatch&lt;React.SetStateAction&lt;StateType&gt;</span></pre><p id="0be3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="nl"> useMemoã€useCallbackã€useDispatchå’ŒuseContextã€useRefã€</em> </strong>åœ¨å¤„ç†ç±»å‹æ–¹é¢éƒ½å·®ä¸å¤šã€‚å®ƒä»¬éƒ½æ¥å—ä¸å®ƒä»¬æ¥å—çš„å‚æ•°æ•°é‡ç›¸å¯¹åº”çš„ç±»å‹ã€‚æ‰€ä»¥è¯´å®è¯ï¼Œæˆ‘ä»¬ä¸ä¼šè®¨è®ºå®ƒä»¬ã€‚useCallbackåªæ˜¯è¿”å›æ‚¨ä¼ é€’ç»™å®ƒçš„å‡½æ•°ï¼Œç±»å‹ä¿æŒä¸å˜ã€‚å¦‚æœç¼–è¯‘å™¨ä¸çŸ¥æ€ä¹ˆææ··äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨æ³›å‹è¯­æ³•ã€‚æˆ‘è§è¿‡ä¸€äº›ä½¿ç”¨useMemoçš„æ¡ˆä¾‹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ä½¿ç”¨useCallbackã€‚</p><h1 id="e6b3" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">è‡ªå®šä¹‰æŒ‚é’©</h1><p id="fcac" class="pw-post-body-paragraph jn jo iq jp b jq mk js jt ju ml jw jx jy mm ka kb kc mn ke kf kg mo ki kj kk ij bi translated">è®©æˆ‘ä»¬å°†è®¡æ•°å™¨é€»è¾‘å†™æˆä¸€ä¸ªè‡ªå®šä¹‰æŒ‚é’©:</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="c7fe" class="mu ln iq mq b gy mv mw l mx my">function useCounter(initialValue: number) {<br/>  const [counter, setCounter] = useState(initialValue);<br/>  const increment = useCallback(() =&gt; setCounter(c =&gt; c + 1), []);<br/>  const decrement = useCallback(() =&gt; setCounter(c =&gt; c - 1), []);<br/>  return [counter, increment, decrement];<br/>}</span></pre><p id="59b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½†æ˜¯TypeScriptå¹¶ä¸èƒ½å¾ˆå¥½çš„æ’­æ”¾ä¸Šé¢çš„ä»£ç ã€‚æŒ‚é’©çš„æ¨æ–­è¿”å›ç±»å‹å°†æ˜¯æ•°ç»„å…ƒç´ ç±»å‹çš„å¹¶é›†ã€‚æ‰€ä»¥ï¼Œå½“ä½ è¯•å›¾è°ƒç”¨å¢é‡æˆ–å‡é‡å‡½æ•°æ—¶ï¼ŒTypeScriptä¼šæŠ¥é”™ã€‚å› ä¸ºTypeScriptå°†å…¶è§†ä¸º:</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="d1bb" class="mu ln iq mq b gy mv mw l mx my">type Increment: number | () =&gt; void | () =&gt; void;</span></pre><p id="57b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¹¶ä¸”è”åˆä¸­çš„ä¸€ä¸ªç±»å‹æ˜¯ä¸å¯è°ƒç”¨çš„ã€‚ä½ éœ€è¦æ˜ç¡®å®šä¹‰é’©å­çš„è¿”å›ç±»å‹ã€‚è®©æˆ‘ä»¬ä¸ºä¸€ä¸ªç®€å•çš„å…ƒç»„ç±»å‹åšè¿™ä»¶äº‹:</p><pre class="km kn ko kp gt mp mq mr ms aw mt bi"><span id="5169" class="mu ln iq mq b gy mv mw l mx my">Type Counter = [number, () =&gt; void, () =&gt; void];</span></pre><p id="c617" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½¿ç”¨è®¡æ•°å™¨ç±»å‹ä½œä¸ºè‡ªå®šä¹‰é’©å­çš„è¿”å›ç±»å‹ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ã€‚å¦‚æœä½ çš„é’©å­è¿”å›å¤šä¸ªå€¼ï¼Œæ¯”å¦‚è¶…è¿‡3ä¸ªï¼Œé‚£ä¹ˆä½ åº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒå¸®åŠ©ä½ åœ¨æ›´é•¿çš„æ—¶é—´å†…ç»´æŠ¤ä»£ç ã€‚</p><p id="5f25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™åº”è¯¥è¶³å¤Ÿè®©ä½ å¼€å§‹äº†ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æŸ¥æ‰¾æ›´å¤šä¿¡æ¯ã€‚</p><p id="a294" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¹¶ä¸”å¯¹å‰ç«¯å¼€å‘ã€TypeScriptã€JavaScriptå’ŒReactæ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥è€ƒè™‘å…³æ³¨æˆ‘ã€‚æˆ‘é€šå¸¸ä¸€å‘¨å‘è¡¨ä¸€ç¯‡æ–‡ç« ã€‚</p><p id="3e11" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ æœ‰ä»»ä½•é—®é¢˜æˆ–åé¦ˆå—ï¼Ÿæ±‚ä½ äº†ã€‚æˆ‘ä¼šæ¬£å–œè‹¥ç‹‚åœ°å›åº”ã€‚ğŸ˜Š</p><p id="0769" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç•™ç»™ä½ æ‰“å­—ç¨¿ååº”æ“åœºğŸ‘‹â€”<a class="ae lg" href="https://www.typescriptlang.org/play?jsx=2&amp;esModuleInterop=true&amp;q=423#example/typescript-with-react" rel="noopener ugc nofollow" target="_blank">https://www.typescriptlang.org/play?jsx=2&amp;esModuleInterop = true&amp;q = 423 # example/typescript-with-react</a></p></div></div>    
</body>
</html>