<html>
<head>
<title>JavaScript — Build your object a builder!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript——用构建器构建您的对象！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-build-your-object-a-builder-f698d2745975?source=collection_archive---------7-----------------------#2020-10-13">https://javascript.plainenglish.io/javascript-build-your-object-a-builder-f698d2745975?source=collection_archive---------7-----------------------#2020-10-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c746" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript中的构建模式</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0cdc31689e9cb7026175aaa51a85f9c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DXzNcKoEZZ-ikIP7DGr6wQ.jpeg"/></div></div></figure><h1 id="3726" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">设计模式</h1><p id="a092" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在我们讨论构建者设计模式之前，我们先简单介绍一下设计模式。</p><h2 id="933a" class="mc kp in bd kq md me dn ku mf mg dp ky lp mh mi la lt mj mk lc lx ml mm le mn bi translated"><strong class="ak">什么是设计模式？</strong></h2><p id="893c" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">设计模式是设计软件时可能遇到的常见问题的通用且可重用的解决方案。每种设计模式都解决了不同的问题，并且可以很容易地根据您的用例进行定制。</p><h2 id="7712" class="mc kp in bd kq md me dn ku mf mg dp ky lp mh mi la lt mj mk lc lx ml mm le mn bi translated"><strong class="ak">我们为什么需要他们？</strong></h2><p id="1399" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我们需要设计模式的主要原因之一是让我们的软件非常<strong class="li io">多变</strong>，所以它将是<strong class="li io">可维护的</strong>并且将支持<strong class="li io">未来的变化。</strong></p><blockquote class="mo"><p id="23bc" class="mp mq in bd mr ms mt mu mv mw mx mb dk translated">所有软件程序都必须改变和修改，否则它们将不复存在。我们花在维护一个软件程序上的时间比我们开发这个程序所花的时间要长。</p></blockquote></div><div class="ab cl my mz hr na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ig ih ii ij ik"><h1 id="9a24" class="ko kp in bd kq kr nf kt ku kv ng kx ky jt nh ju la jw ni jx lc jz nj ka le lf bi translated"><strong class="ak">构建器模式</strong></h1><p id="6054" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">开发应用程序时，有时您可能会在构建复杂对象时遇到困难。随着你的应用程序越来越大，这个问题也会越来越大。</p><p id="c155" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated"><strong class="li io">但是不要担心，构建者模式是用来解决你的问题的！</strong></p><p id="0d78" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">让我们看看我们在应用程序中创建的一些对象。我们的应用程序将管理纽约市狗舍中所有狗的注册。</p><p id="0caf" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">让我们看看我们可能构建的一些狗的登记处。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="396b" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated"><strong class="li io">用这种方法构造一个对象有几个问题。</strong></p><ol class=""><li id="2604" class="nr ns in li b lj nk lm nl lp nt lt nu lx nv mb nw nx ny nz bi translated">我们正在手动初始化<strong class="li io">所有的</strong>对象属性，并重复很多行，例如，所有对象中的“favoriteToy”属性都用默认值初始化。</li><li id="fd82" class="nr ns in li b lj oa lm ob lp oc lt od lx oe mb nw nx ny nz bi translated">我们不知道哪些属性对物体来说是<strong class="li io">必需的</strong>，哪些属性是<strong class="li io">可选的</strong>。在我们的应用程序中，“name”属性和“id”属性是必不可少的。没有这些属性，应用程序可能会以意想不到的方式运行。</li><li id="359e" class="nr ns in li b lj oa lm ob lp oc lt od lx oe mb nw nx ny nz bi translated">我们无法控制对象的结构，例如，如果我们想防止创建电话号码无效或名字中有数字字符的狗。</li><li id="5865" class="nr ns in li b lj oa lm ob lp oc lt od lx oe mb nw nx ny nz bi translated">当我们想要添加一个<strong class="li io">新属性</strong>或者<strong class="li io">改变一个现有属性的默认值时，我们将需要改变构建一个Dog对象的每个地方并手动改变它。</strong></li></ol><p id="505d" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated"><strong class="li io">让我们用狗狗生成器</strong>来解决这些问题</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="85e9" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">现在让我们看看建筑工人是如何改善我们的生活的。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="f039" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated"><strong class="li io">我们现在已经实现了以下目标:</strong></p><ol class=""><li id="db5d" class="nr ns in li b lj nk lm nl lp nt lt nu lx nv mb nw nx ny nz bi translated">我们不必初始化<strong class="li io">所有的</strong>属性。</li><li id="8318" class="nr ns in li b lj oa lm ob lp oc lt od lx oe mb nw nx ny nz bi translated">我们强制在构造函数中提供“name”属性(因为它是一个基本属性)。</li><li id="bdd3" class="nr ns in li b lj oa lm ob lp oc lt od lx oe mb nw nx ny nz bi translated">我们可以在一个地方管理所有对象构造的<strong class="li io">业务逻辑</strong>，例如，当有人用无效的电话号码或名称中的数字字符构造一个狗对象时，在build函数中发出警报。此外，现在创建狗的id发生在一个地方，可以很容易地<strong class="li io">改变</strong>。</li><li id="cc9d" class="nr ns in li b lj oa lm ob lp oc lt od lx oe mb nw nx ny nz bi translated">当我们添加一个新的属性或者<strong class="li io">改变</strong>一个现有属性的默认值时，我们需要在一个地方改变它。</li></ol></div><div class="ab cl my mz hr na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ig ih ii ij ik"><h1 id="e44e" class="ko kp in bd kq kr nf kt ku kv ng kx ky jt nh ju la jw ni jx lc jz nj ka le lf bi translated"><strong class="ak">进行下一步</strong></h1><p id="30a7" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">如果我们想更进一步，根据它们的相似性来管理我们的一些公共结构，我们可以使用一个Director类。</p><p id="cfd6" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">假设我们的应用程序管理纽约市狗舍中所有狗的注册表，现在需要管理东狗舍和西狗舍中所有狗的注册表。</p><p id="41f7" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">注册狗时，我们需要提供狗舍名称和狗舍电话。我们将使用“所有者”属性来指定狗被关在哪个狗舍(“东狗舍”或“西狗舍”)，我们将使用“电话”属性来指定该狗舍的电话号码(“+1 222–777–888”或“+1 333–888–999”)。</p><p id="69b0" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">所以现在我们有很多地方可以建造一只被关在“东狗舍”和“西狗舍”的狗。我们会有许多重复的代码，如果我们决定更改这些狗舍的名称或电话号码，我们将不得不逐个手动更改。</p><p id="249e" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">为了解决这个问题，我们将使用以下Director类:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="6aa8" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">当我们想要构造西方或东方的狗窝对象时，它看起来会像这样:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="np nq l"/></div></figure></div><div class="ab cl my mz hr na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ig ih ii ij ik"><p id="bd2f" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">通过使用builder模式，我们封装了我们的对象构造，通过使用Director，我们封装了我们的对象构造。</p><p id="166b" class="pw-post-body-paragraph lg lh in li b lj nk jo ll lm nl jr lo lp nm lr ls lt nn lv lw lx no lz ma mb ig bi translated">喜欢这篇文章吗？如果有，通过<a class="ae of" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="li io">订阅解码，我们的YouTube频道</strong> </a> <strong class="li io">获取更多类似内容！</strong></p></div></div>    
</body>
</html>