<html>
<head>
<title>Let’s build a full stack MongoDB, React, Node and Express (MERN) app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们构建一个完整的MongoDB、React、Node和Express (MERN)应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/full-stack-mongodb-react-node-js-express-js-in-one-simple-app-6cc8ed6de274?source=collection_archive---------0-----------------------#2018-09-12">https://javascript.plainenglish.io/full-stack-mongodb-react-node-js-express-js-in-one-simple-app-6cc8ed6de274?source=collection_archive---------0-----------------------#2018-09-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b6b851961eccecbedde022d4b87da584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*pMUHe42kIC3wNbdfu8oeFw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“Pillars uphold the temple”</figcaption></figure><blockquote class="kc kd ke"><p id="4280" class="kf kg kh ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld ij bi translated">我用React+Relay modern+graph QL+MongoDB+express写了一篇更新的文章。看看这里的<a class="ae le" href="https://medium.com/@jelorivera08/lets-build-a-mongodb-express-react-graphql-relay-modern-full-stack-web-app-from-scratch-a4ae3aaf212" rel="noopener"/>！</p></blockquote><p id="a043" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">当我想从前端开发人员升级到全栈开发人员时，我很难找到一篇文章，其中包含了成为一名开发人员所需学习的所有不同技能的概念。</p><p id="3827" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">数据库知识、对后端语言的熟悉以及如何将后端与我的前端应用程序集成是我当时不知道的技能。这就是促使我写这篇文章的原因:为了帮助我自己和我的软件工程师同事，解决这个问题。</p><p id="d55f" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我已经在文章末尾包含了完整代码的git资源库链接，但是我建议您在查看repo之前一步一步地阅读本文。它会帮助你更好地理解教程。:)</p><figure class="lj lk ll lm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi li"><img src="../Images/245d4ce2f290d12cabe9fa731149d480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RCQpRTWwYahTAFxiMq3rgA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“What will we build”</figcaption></figure><p id="0e1a" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">这是我们完成构建后应用程序的外观。</p><p id="4e17" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">前端允许我们查看我们的数据库内的当前信息。它还允许我们向其中添加新数据、删除现有数据和更新现有数据。</p><p id="98fc" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我们将从零开始建造它。我们将建立自己的数据库，从头开始创建后端，并以最少的资源引导我们的前端。</p><p id="9f5f" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">所以，系好安全带，准备好你的编码手指！</p><h1 id="b013" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated"><strong class="ak">首先最重要的事情</strong></h1><p id="69ea" class="pw-post-body-paragraph kf kg iq ki b kj ml kl km kn mm kp kq lf mn kt ku lg mo kx ky lh mp lb lc ld ij bi translated">让我们创建项目的主目录。这将持有我们的应用程序的前端和后端的代码。</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="4529" class="mv lo iq mr b gy mw mx l my mz"><em class="kh">mkdir fullstack_app &amp;&amp; cd fullstack_app</em></span></pre><p id="ca0d" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">然后，让我们从我们的前端开始。我们将使用create-react-app来引导我们的前端，这意味着我们将不必担心设置Webpack或Babel(因为create-react-app在默认情况下会将这一切分类)。我们现在可以用create-react-app创建react应用程序了。为此，只需在命令行中键入以下任意内容。</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="c495" class="mv lo iq mr b gy mw mx l my mz"><em class="kh">yarn create react-app client<br/></em>npm init react-app my-app</span></pre><p id="a6cf" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我们还需要Axios来用ajax发出get/post请求。现在让我们安装它:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="e1d1" class="mv lo iq mr b gy mw mx l my mz"><em class="kh">npm i -S axios</em></span></pre><p id="1eb0" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">等待它完成，然后让我们继续在组织前端，以便它会很容易纳入我们的后端。</p><p id="571c" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">对于PC用户:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="a84e" class="mv lo iq mr b gy mw mx l my mz"><em class="kh">del src\App.css src\App.test.js src\index.css src\logo.svg\</em></span></pre><p id="6b77" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">对于MAC用户:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="f796" class="mv lo iq mr b gy mw mx l my mz"><em class="kh">rm src/App.css src/App.test.js src/index.css src/logo.svg</em></span></pre><p id="fa29" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">然后，让我们编辑客户端文件夹中的App.js文件，让它呈现一些简单的内容。当我们准备好后端时，我们将进一步编辑这个文件。</p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“React app ready”</figcaption></figure><p id="72ce" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我们还必须编辑我们的index.js并从中删除一行代码。我们只需删除<em class="kh">导入。/index . CSS '；部分代码，我们现在可以启动我们的react应用程序。</em></p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“index.js”</figcaption></figure><p id="cce9" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">为了启动我们的前端，只需在命令行中键入。</p><p id="2c18" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated"><code class="fe nc nd ne mr b"><em class="kh">npm start</em></code></p><p id="16f8" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">然后在你的浏览器中输入<a class="ae le" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"><em class="kh">http://localhost:3000/</em></a><em class="kh">。</em>您现在可以看到我们的前端已经启动并运行。</p><h1 id="cb39" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">往后退一点点</h1><p id="2b3e" class="pw-post-body-paragraph kf kg iq ki b kj ml kl km kn mm kp kq lf mn kt ku lg mo kx ky lh mp lb lc ld ij bi translated">是时候设置我们的后端了。回到我们的主目录，让我们从那里创建我们的后端目录。我们还将初始化这个目录，以便准备好我们的package.json进行构建。您的终端将提示您输入package.json的一些细节，只需一直按enter键，直到完成。</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="2e3c" class="mv lo iq mr b gy mw mx l my mz"><em class="kh">mkdir backend &amp;&amp; cd backend<br/>npm init</em></span></pre><p id="eccc" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">创建一个新文件，作为我们后端的主要代码，并将其命名为server.js。这个后端代码非常简单，我创建它只是为了让初学者不必考虑代码的复杂性，而是考虑代码的意图。然后，他们可以很容易地操纵它，一旦他们把他们的头缠在它上面。为了便于理解，我在每个方法旁边都加了注释。</p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“Spine of every web app”</figcaption></figure><p id="a427" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">您可能已经注意到，在我们的后端代码中已经使用了数据库链接。别担心，这是我们文章的下一步。设置它也将像过去的几个步骤一样简单。首先，前往M <a class="ae le" href="https://www.mongodb.com/cloud/atlas" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> ongoDB atlas </em> </a>并在那里创建一个帐户。MongoDB Atlas将让我们使用免费的500 MB MongoDB数据库，并远程使用它。它也托管在云中。这是我们行业的当前趋势，获得使我们能够使用云数据库的技能是当今真正的资产。</p><p id="d9ac" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">设置您的帐户后，登录您的帐户。按照网站提示的步骤创建自己的集群和集群/数据库用户。下面是创建自己的mongoDB数据库的清单或步骤。</p><ol class=""><li id="59bf" class="nf ng iq ki b kj kk kn ko lf nh lg ni lh nj ld nk nl nm nn bi translated">构建您的第一个集群。</li><li id="98fd" class="nf ng iq ki b kj no kn np lf nq lg nr lh ns ld nk nl nm nn bi translated">创建您的第一个数据库用户。</li><li id="2676" class="nf ng iq ki b kj no kn np lf nq lg nr lh ns ld nk nl nm nn bi translated">将您的IP地址列入白名单(在我们的例子中，本地主机:3001)</li><li id="7575" class="nf ng iq ki b kj no kn np lf nq lg nr lh ns ld nk nl nm nn bi translated">连接您的集群。</li></ol><p id="82fe" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我们需要获取数据库的连接字符串，因此对于第4步，我们只需单击我们创建的集群的connect按钮，如下所示。</p><figure class="lj lk ll lm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/cc07143b2a94107966fdab55cbc71e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lckpdu6imhdrOrMnCBB-lA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">cluster connection</figcaption></figure><p id="6044" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">然后单击模态底部的“选择连接方法”，选择“连接您的应用程序”。然后，复制模态显示的字符串。</p><figure class="lj lk ll lm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/b0800d7d0484526c177c1e8f687b00dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HpRWVAn_XcfZUPK_xMWSUg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">connection string</figcaption></figure><p id="d0cf" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">将这个字符串uri粘贴到server.js文件中。找到<em class="kh"> dbRoute </em>变量，将带有您的凭证的链接作为一个字符串放在那里。</p><p id="f3cb" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">现在，回到我们的后端源代码。我们现在将配置我们的数据库，为此，创建一个名为<em class="kh"> data.js. </em>的文件，其中应该包含以下代码。</p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“MongoDB, Baby”</figcaption></figure><p id="fa53" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我们快完成了！让我们只安装我们的后端的包和模块，我们准备好了。只需在命令行中传递这一行。</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="c2fe" class="mv lo iq mr b gy mw mx l my mz">npm i -S mongoose express body-parser morgan cors</span></pre><p id="b38b" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">现在，如果我们使用</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="03a5" class="mv lo iq mr b gy mw mx l my mz">node server.js</span></pre><p id="03aa" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">我们可以在控制台中看到，它已经准备好，正在侦听端口3001。让我们回到前端，开始创建向MongoDB +节点发送动作所需的ui。JS +快递。JS系统。</p><p id="a9c1" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">啊，是啊！！！！</p><p id="85ba" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">返回/client/src/App.js并应用以下更改。</p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“React Rocks”</figcaption></figure><p id="a959" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">最后，我们编辑前端的package.json，并在那里添加一个代理，指向部署后端的端口。</p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ba00" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">记住，这是我们前端的package.json，所以它包含在客户端目录中。编辑那里。</p><p id="789f" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">现在，剩下要做的就是让我们可以同时启动后端和前端。</p><p id="09bc" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">为此，请返回到我们项目的主目录，键入以下内容:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="4410" class="mv lo iq mr b gy mw mx l my mz">npm init -y<br/>npm i -S concurrently</span></pre><p id="675d" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">编辑我们主项目目录的package.json。更改如下。</p><figure class="lj lk ll lm gt jr"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="3c24" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">在这里，你可以看到在<em class="kh">“脚本”</em>键下，<em class="kh">“开始”</em>键使用了我们刚刚安装的包，并发包。该软件包使我们能够使用以下工具运行后端代码:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="5ed3" class="mv lo iq mr b gy mw mx l my mz">node server.js</span></pre><p id="1122" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">前端代码使用:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="6229" class="mv lo iq mr b gy mw mx l my mz">npm start</span></pre><p id="5aa9" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">有很多发生在引擎盖下能够做到这一点，但现在，我们将只是离开它，并为它的工作感到高兴！现在，要启动我们的应用程序，只需转到我们项目的主目录，然后键入:</p><pre class="lj lk ll lm gt mq mr ms mt aw mu bi"><span id="9fd7" class="mv lo iq mr b gy mw mx l my mz">npm start</span></pre><p id="4921" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">一个包含我们的应用程序和<em class="kh">的浏览器将会打开，瞧！我们已经从零开始制作了我们自己的MERN(全栈)应用程序！你可以随意摆弄它。把它当作一个沙盒，来把握这里两端的不同概念。</em></p><p id="d4aa" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">哦，还有一件事。确保在你的浏览器上启用CORS，因为我们通过自己的机器调用自己的API。这里的是一个很好的插件。😬</p><p id="33ef" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">正如承诺的那样，这是git回购协议。</p><h1 id="21de" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">各位，干杯！</h1><p id="5f69" class="pw-post-body-paragraph kf kg iq ki b kj ml kl km kn mm kp kq lf mn kt ku lg mo kx ky lh mp lb lc ld ij bi translated">我希望我已经提供了明确的指示，并且我能够尽可能多地将知识传递给你，读者。</p><p id="2f9a" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated">如果你觉得这很有用，一定要留下一些掌声！哦，也在你的社交平台上分享吧！:)</p></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><p id="2351" class="pw-post-body-paragraph kf kg iq ki b kj kk kl km kn ko kp kq lf ks kt ku lg kw kx ky lh la lb lc ld ij bi translated"><em class="kh">更多内容敬请关注</em><a class="ae le" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ki ir"><em class="kh">plain English . io</em></strong></a><strong class="ki ir"><em class="kh"/></strong><em class="kh">和上</em><strong class="ki ir"><em class="kh"/></strong><a class="ae le" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ki ir">我们的YouTube频道</strong> </a> <strong class="ki ir">！</strong></p><div class="oc od gp gr oe of"><a href="https://newsletter.plainenglish.io/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">上周简明英语评论</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">《上周简明英语》——科技世界的每周综述，散布着我们认为你会…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">时事通讯. plainenglish.io</p></div></div><div class="oo l"><div class="op l oq or os oo ot jw of"/></div></div></a></div></div></div>    
</body>
</html>