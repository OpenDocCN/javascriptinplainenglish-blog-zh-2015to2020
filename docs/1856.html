<html>
<head>
<title>Understanding Regular Expressions Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解正则表达式第2部分</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/regular-expressions-part-ii-1c5b5d516af5?source=collection_archive---------14-----------------------#2020-04-28">https://javascript.plainenglish.io/regular-expressions-part-ii-1c5b5d516af5?source=collection_archive---------14-----------------------#2020-04-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2415" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">表单验证</strong></h2></div><p id="652b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于正则表达式系列的第二部分，让我们通过解决web开发表单验证中的一个常见问题来进行更深入的研究。让我们以填写电话号码字段和基本配置文件表单为例。在这种情况下，我们希望验证用户输入了ddd-ddd-dddd形式的输入。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/1c8fbf2a514cfd3cbe3b7f677fb0429e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2NIuU4n0lp8RNC5UGv61w.png"/></div></div></figure><p id="a99e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要解释我们的正则表达式' testphone '\d是JavaScript正则表达式中的特殊字符，表示任何数字。换句话说，[\d]相当于[0–9]。因此，测试被指示查找字符串中任何字符0–9的匹配项。当然，这给了我们一个肯定的电话号码，但这是因为它给了一个肯定的任何数字匹配。</p><p id="ac9a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要解决这个问题，我们需要更具体一点。让我们进一步处理连字符。让我们在正则表达式中添加一个要求来查找连字符。为此，让我们使用[\d\-]。我们使用转义字符' \ '作为连字符，因为它有特殊的含义。</p><p id="7f09" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这种情况下，我们将获得任何包含数字或连字符的字符串的匹配。我们需要的是包含两者的字符串的匹配。除了OR，我们还需要AND的逻辑。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ln"><img src="../Images/c02f3cbc904467729e0befbf7f9c821c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m9b0_MDCpca6LSlRx7-2-g.png"/></div></div></figure><p id="a500" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们离实现目标又进了一步。我们的正则表达式成功地找到了一个包含连字符和数字的字符串的正匹配。然而，我们要寻找的是一种特定的模式。我们需要模式数字—数字—数字。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lo"><img src="../Images/5c0eca55a89efbad90dd2a0037621ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S8PQKWAfH1_T-wktnG9BGg.png"/></div></div></figure><p id="134b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的正则表达式只匹配一个数字的模式。如果能找到数字-数字-数字模式，测试返回true。所以我们必须在正确的地方指定要匹配的位数。为了解决这个问题，我们将正则表达式改为:/\ d \ d \ d \ d-\ d \ d-\ d \ d \ d/。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lp"><img src="../Images/35533d5164a33176085bce31c1b9ead9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n1EdF5OOuOU7KZ8U3W5cmA.png"/></div></div></figure><p id="5980" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看看结果，我们似乎离解决问题更近了一步。事实上，正则表达式测试确实可以识别模式。但是，它不看后面是什么，也不遵循模式。要最终解决这个问题，我们需要找到一种方法来告诉测试方法:寻找这种周围没有字符的模式。</p><p id="3916" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们需要介绍两个特殊字符:^和$。^的角色说在我之后的应该是字符串的开始。$字符表示在我之前的应该是字符串的结尾。组合^和$字符可以有效地隔离模式。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lq"><img src="../Images/7437fe4ddf44f168373529a999d223b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cp-ghovexFGs6QivJyJyCQ.png"/></div></div></figure><p id="53ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看起来很有效。然而，我们可以稍微重构一下代码。我们有一个用括号来指定一个数字出现的次数的简写方法。所以让我们把正则表达式简化为:/^\d{3}-\d{3}-\d{4}$/.</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lr"><img src="../Images/511d73ce8e9b3649508e59791c3e2507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qlQbuU4H9GwjroYSx2mTHA.png"/></div></div></figure><p id="1877" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们来解决一个类似但相关的问题，这个问题经常出现在电子邮件中。我们希望验证输入的电子邮件是否符合有效电子邮件的一般模式。对于几乎所有的电子邮件来说，这种格式都是:name@emailhost.domain。【人物】。出于我们的目的，我们不会担心字符的数量。</p><p id="75e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了帮助实现我们的目标，我们需要引入一个新工具，' \w '。\w代表单词字符。它们被定义为任何字母、数字或下划线。让我们把正则表达式设为'/^[\w]@[\w]\.[\w]$/。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ls"><img src="../Images/7c55c3018dc4e7cf94a9f30f2b751a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o6Al7cLHyoXOzFJk6Zt9bw.png"/></div></div></figure><p id="c7ec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个有趣的结果。我做错了什么？事实证明，测试方法寻找的模式是一个单词字符后跟@再跟一个单词字符再跟。后面跟着一个字符。^和$保证没有额外的匹配字符。下面的命令确认这是返回true的正确模式。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lt"><img src="../Images/5596a17029876652e92ad70972351365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NJQdR86zA4L1LebQyTYHzA.png"/></div></div></figure><p id="9ed1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们如何解决这个问题呢？在这种情况下，我们希望字符在一个范围内出现多次。我们已经有了一种方法，用我们在电话号码问题上使用的括号符号来指定它。{1，}将告诉函数我们想要一个或多个字符外观。这是可行的，但是我们确实有一个更短的表达式可以用于这种情况。“+”字符查找一个或多个匹配字符。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lq"><img src="../Images/3ec05bf7b1ec4024ddd510c220774a6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bgmnaqx72-JbAcjWgbjLbw.png"/></div></div></figure><h2 id="5685" class="lu lv iq bd lw lx ly dn lz ma mb dp mc ko md me mf ks mg mh mi kw mj mk ml mm bi translated">关键要点</h2><ol class=""><li id="8ac5" class="mn mo iq kh b ki mp kl mq ko mr ks ms kw mt la mu mv mw mx bi translated">[\d]是[0–9]的快捷方式，表示匹配0到9之间的任何数字或任何字符。</li><li id="b587" class="mn mo iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">\ '可以用作“转义”字符，表示通常具有特殊含义的字符应该像任何其他字符一样按字面意思理解。例如，通常情况下，^意味着下一个字符应该在字符串的开头。但是如果您想要匹配'^'字符本身，您将需要使用转义字符——'\^'.</li><li id="666b" class="mn mo iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">如果您需要隔离一个模式，并确保在模式开始之前不包含任何字符，请使用^字符。这意味着跟随我的必须开始一个字符串。</li><li id="5f56" class="mn mo iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">如果您需要隔离一个模式，并确保模式结束后不包含任何字符，请使用$字符。这意味着后面的内容必须在字符串的末尾。</li><li id="43af" class="mn mo iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">括号符号可以用来指定一个字符应该出现的精确次数。例如，后跟{3}的字符表示查找其中三个字符的匹配项。一个字符后接{2，}再接2个或更多字符。{，3}表示1到3个字符。{2，4}表示2到4个字符。</li><li id="f637" class="mn mo iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">“+”字符本质上与{1，}相同，意味着该字符应该出现1次或多次。</li></ol><p id="3bcc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本系列的下一部分中，我们将向正则表达式工具集添加更多技巧来解决更多问题。</p></div></div>    
</body>
</html>