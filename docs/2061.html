<html>
<head>
<title>JavaScript Code Styling Best Practices — Spacing and Lines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript代码样式最佳实践—间距和线条</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-code-styling-best-practices-spacing-and-lines-7aab6d17a72e?source=collection_archive---------12-----------------------#2020-05-16">https://javascript.plainenglish.io/javascript-code-styling-best-practices-spacing-and-lines-7aab6d17a72e?source=collection_archive---------12-----------------------#2020-05-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2f09db9757b84680431c30a3bbee99aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c9ahoqi1XEsMOIXY"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@nasa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">NASA</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3d41" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript是一种非常宽容的语言。编写可以运行但有错误的代码很容易。</p><p id="0fa8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究关键字之间的间距和换行符的一致性。</p><h1 id="edd6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">关键字前后间距一致</h1><p id="35dc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">像<code class="fe me mf mg mh b">try</code>、<code class="fe me mf mg mh b">if</code>、<code class="fe me mf mg mh b">else</code>、<code class="fe me mf mg mh b">class</code>等关键词。在JavaScript语言中有特殊的含义。</p><p id="ce2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们的间距也不同于其他代码段。通常，在关键字之后，有一个空格，然后是代码的其余部分。</p><p id="ba44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写<code class="fe me mf mg mh b">if</code>语句如下:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="38b0" class="mq lc iq mh b gy mr ms l mt mu">if (foo) {</span><span id="416d" class="mq lc iq mh b gy mv ms l mt mu">} else {</span><span id="4068" class="mq lc iq mh b gy mv ms l mt mu">}</span></pre><p id="0793" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们在<code class="fe me mf mg mh b">if</code>后有一个空格，在<code class="fe me mf mg mh b">else</code>前后各有一个空格。</p><p id="0b3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，对于<code class="fe me mf mg mh b">try...catch</code>块，我们有以下代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="eaba" class="mq lc iq mh b gy mr ms l mt mu">try {</span><span id="7525" class="mq lc iq mh b gy mv ms l mt mu">} catch (ex) {</span><span id="05d0" class="mq lc iq mh b gy mv ms l mt mu">} finally {</span><span id="b9f4" class="mq lc iq mh b gy mv ms l mt mu">}</span></pre><p id="74bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">try</code>和<code class="fe me mf mg mh b">finally</code>看起来和<code class="fe me mf mg mh b">if</code>和<code class="fe me mf mg mh b">else</code>一样，但<code class="fe me mf mg mh b">catch</code>略有不同。</p><p id="d986" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">catch</code>关键字之后，在<code class="fe me mf mg mh b">catch</code>关键字和<code class="fe me mf mg mh b">ex</code>的左括号之间有一个空格。</p><p id="ff60" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这使它区别于函数调用。</p><p id="f66b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个类声明如下:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c05e" class="mq lc iq mh b gy mr ms l mt mu">class Foo {}</span></pre><p id="7c84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在类名后面有一个空格字符。箭头函数声明如下:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ba0d" class="mq lc iq mh b gy mr ms l mt mu">const foo = () =&gt; {}</span></pre><p id="fc2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们所见，粗箭头前后都有空格。</p><p id="5b33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于像<code class="fe me mf mg mh b">instanceof</code>和<code class="fe me mf mg mh b">in</code>这样的特殊运算符，我们在运算符前后都有空格。</p><p id="8850" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们编写以下代码来使用它们:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ae3f" class="mq lc iq mh b gy mr ms l mt mu">arr instanceof Array<br/>a in foo</span></pre><p id="e369" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">instanceof</code>和<code class="fe me mf mg mh b">in</code>的前后我们有一个空格字符。</p><p id="cc5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于函数，左括号紧接在匿名函数的关键字<code class="fe me mf mg mh b">function</code>之后。例如，我们编写以下代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e85d" class="mq lc iq mh b gy mr ms l mt mu">const foo = function() {}</span></pre><p id="3e44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于命名函数，在<code class="fe me mf mg mh b">function</code>关键字和函数名之间有一个空格。</p><p id="66cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们这样写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="732b" class="mq lc iq mh b gy mr ms l mt mu">function foo() {}</span></pre><p id="08f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在类中，<code class="fe me mf mg mh b">constructor</code>和<code class="fe me mf mg mh b">super</code>关键字就像常规函数。左括号紧跟在没有空格字符的关键字之后。</p><p id="5bf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1553" class="mq lc iq mh b gy mr ms l mt mu">class Foo {<br/>  constructor() {<br/>    super();<br/>  }<br/>}</span></pre><p id="cb5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于变量声明，在<code class="fe me mf mg mh b">var</code>、<code class="fe me mf mg mh b">let</code>或<code class="fe me mf mg mh b">const</code>和标识符名称之间总是有一个空格。</p><p id="8354" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c3fb" class="mq lc iq mh b gy mr ms l mt mu">var a;<br/>let b;<br/>const c = 1;</span></pre><p id="a007" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于循环，我们通常在关键字<code class="fe me mf mg mh b">for</code>和<code class="fe me mf mg mh b">while</code>后面有一个空格。例如，我们编写以下代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6ad0" class="mq lc iq mh b gy mr ms l mt mu">while (foo) {</span><span id="66d6" class="mq lc iq mh b gy mv ms l mt mu">}</span><span id="e92f" class="mq lc iq mh b gy mv ms l mt mu">for (const a of arr) {</span><span id="0764" class="mq lc iq mh b gy mv ms l mt mu">}</span></pre><h1 id="e91a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">行注释的位置</h1><p id="0a3f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">行注释的位置应该一致。要么他们总是在自己的线上，要么他们在线外。</p><p id="9921" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以要么我们写下这样的话:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="44d4" class="mq lc iq mh b gy mr ms l mt mu">// comment<br/>let foo = 1;</span></pre><p id="7bc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">贯穿我们的准则或:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="23de" class="mq lc iq mh b gy mr ms l mt mu">let foo = 1; // comment</span></pre><p id="e8b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">把长的注释放在它们自己的行中是有意义的，所以可能把它们放在它们自己的行中更有意义，除非我们所有的注释都是短的。</p><h1 id="8b3b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">一致的分行样式</h1><p id="66df" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">换行符样式应该在我们的代码中保持一致。尽管我们不能直接看出区别，但Windows和类UNIX系统之间的换行符风格是有区别的。</p><p id="b617" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">UNIX换行符样式对于LF是<code class="fe me mf mg mh b">\n</code>，而Windows对于CRLF是<code class="fe me mf mg mh b">\r\n</code>。</p><p id="13eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们应该调整它们，使它们一致。如果我们更多地在Windows上开发，那么就使用Windows风格的行尾。否则，我们使用UNIX风格的行尾。</p><h1 id="9d18" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">注释周围的空行</h1><p id="14b6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">注释周围的空行对于可读性来说可能是个好主意。</p><p id="e7f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，这并不是一个必要条件，也不会产生太大的差别。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/237fcf6e44cc76cb51fbcb29e67e6018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5bwcRLeHtI3i46gK"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@iam_anih?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Anika Huizinga</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="eeae" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">类成员之间的空行</h1><p id="73af" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有些类成员之间应该有一个类成员，有些不应该。</p><p id="81d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们的类成员是实例变量，那么它们之间不需要空行。</p><p id="2809" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，我们不把实例变量放在方法之外，除非我们使用TypeScript。</p><p id="d536" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于类方法，我们应该在每个类之间加一个换行符。例如，为了可读性，我们应该这样写。</p><p id="2613" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们编写以下代码，用空行分隔方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="022e" class="mq lc iq mh b gy mr ms l mt mu">class Foo {<br/>  bar() {}</span><span id="311d" class="mq lc iq mh b gy mv ms l mt mu">  baz() {}<br/>}</span></pre><p id="a7ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe me mf mg mh b">bar</code>和<code class="fe me mf mg mh b">baz</code>之间有一条线。</p><h1 id="4915" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="daeb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">换行符应该在类方法之间。</p><p id="552f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，文件之间的换行符应该一致。对于UNIX，它是<code class="fe me mf mg mh b">\n</code>，而Windows是<code class="fe me mf mg mh b">\r\n</code>。我们只坚持一种风格。</p><p id="1d8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">评论可以自成一行。此外，注释和代码之间可以有一条线。</p><p id="95e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，关键字前后的间距也要一致。</p><h2 id="26b8" class="mq lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated"><strong class="ak">简明英语团队的笔记</strong></h2><p id="6090" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">你知道我们有四种出版物吗？给他们一个follow来表达爱意:<a class="ae kc" href="https://medium.com/javascript-in-plain-english" rel="noopener"><strong class="kf ir">JavaScript in Plain English</strong></a><a class="ae kc" href="https://medium.com/ai-in-plain-english" rel="noopener"><strong class="kf ir">AI in Plain English</strong></a><a class="ae kc" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="kf ir">UX in Plain English</strong></a><a class="ae kc" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="kf ir">Python in Plain English</strong></a><strong class="kf ir"/>—谢谢，继续学习！</p><p id="3bc4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还推出了一个YouTube，希望你能通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的简明英语频道</strong> </a>来支持我们</p><p id="ede1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一如既往,“简明英语”希望帮助推广好的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kc" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">submissions @ plain English . io</strong></a><strong class="kf ir"/>，并附上您的媒体用户名和您感兴趣的内容，我们将会回复您！</p></div></div>    
</body>
</html>