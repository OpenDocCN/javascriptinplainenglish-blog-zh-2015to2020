<html>
<head>
<title>Shorten Conditional Statements in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">缩短JavaScript中的条件语句</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/shorten-conditional-statements-in-javascript-aaa377716641?source=collection_archive---------11-----------------------#2020-04-20">https://javascript.plainenglish.io/shorten-conditional-statements-in-javascript-aaa377716641?source=collection_archive---------11-----------------------#2020-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cab5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们可以缩短JavaScript中的条件语句</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c44c6e2e52d326692e267f52eb465d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1MN8QE8xBza0cKxq"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@grakozy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Greg Rakozy</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6e38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在使用JavaScript时，我每天仍然会写很多条件语句，我敢打赌你也是这样。这里有一些东西可以让你写出更好的条件句。</p><h1 id="8470" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">理解真理和谬误</h1><p id="7c2e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">JavaScript中的每个值都有一个固有的布尔值，通常称为truthy或falsy。</p><h2 id="c227" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">福尔西</h2><p id="9bab" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">这里有一个虚假礼貌价值观的快速列表。</p><ul class=""><li id="cacb" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">false</code></li><li id="e334" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">null</code></li><li id="4919" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">0</code></li><li id="1cf7" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">NaN</code>(不是数字)</li><li id="371d" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">''</code>或<code class="fe nk nl nm nn b">""</code>(空弦)</li><li id="d471" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">undefined</code></li></ul><h2 id="77b3" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">真理</h2><p id="7c56" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">其他一切都是真实的。这包括:</p><ul class=""><li id="bbcb" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">'0'</code>(包含单个零的字符串)</li><li id="e964" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">'false'</code>(包含文本“false”的字符串)</li><li id="c226" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">[]</code>(一个空数组)</li><li id="4ff0" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">{}</code>(一个空对象)</li><li id="e61e" class="nb nc iq ky b kz no lc np lf nq lj nr ln ns lr ng nh ni nj bi translated"><code class="fe nk nl nm nn b">function(){}</code>(“清空”功能)</li></ul><p id="c5f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，数组和对象，甚至空数组和对象，总是真的。</p><h1 id="44dc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">等价性和同一性</h1><h2 id="3995" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">等价</h2><p id="8ad1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">一个等价的值，如果它是相同的，但是类型不同，并且用<code class="fe nk nl nm nn b">==</code>关键字检查。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="ee5b" class="mp lt iq nn b gy nx ny l nz oa">10 == '10' // true</span></pre><p id="0862" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个<code class="fe nk nl nm nn b">empty string</code>等于<code class="fe nk nl nm nn b">false</code>(但不相同)。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="7ffb" class="mp lt iq nn b gy nx ny l nz oa">'' == false // true</span></pre><p id="9594" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是<code class="fe nk nl nm nn b">falsy</code>。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="23c9" class="mp lt iq nn b gy nx ny l nz oa">if (!‘’) {<br/>    return 'I am false.'<br/>}</span></pre><h2 id="865c" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">身份</h2><p id="0094" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">相同的值意味着它们必须是相同的类型。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="e02d" class="mp lt iq nn b gy nx ny l nz oa">10 === '10' // false<br/>10 === 10 // true</span></pre><h1 id="8201" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">数组和对象</h1><p id="df3e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">因为数组和对象总是真的，所以我们必须找到另一种方法来检查空性。长度或Object.keys({})。长度，它会给你一个0或者一个很好的真值。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="3338" class="mp lt iq nn b gy nx ny l nz oa">if (array &amp;&amp; array.length) {<br/>    // not empty<br/>} </span></pre><h1 id="8ec1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">缩短JavaScript中的条件语句</h1><p id="ef5c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们需要了解虚假价值和真实价值。它们很重要，因为你可以缩短很多冗长的表达。</p><p id="b021" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比如:我们不需要知道是日期还是证书名。我们所需要知道的是，价值是存在的，并且那里有一些东西。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="2ab1" class="mp lt iq nn b gy nx ny l nz oa">const​ student = {​ <br/>    name: ​'Bob’​,​ <br/>    equipmentTraining: ​''​,​ <br/>}</span><span id="7905" class="mp lt iq nn b gy ob ny l nz oa">if​(!student.equipmentTraining) {​<br/>    return​ ​'Not authorized to operate machinery'​<br/>}</span></pre><h2 id="d7f4" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">无意中创建虚假值是很容易的。</h2><p id="cf15" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">最常见的问题发生在通过检查值的索引来测试数组的存在性时。比如:这里，0也就是falsy。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="6a2d" class="mp lt iq nn b gy nx ny l nz oa">[“a”, “b”, “c”].indexOf(“a”)<br/>&lt;&lt; 0 // which is falsy</span></pre><p id="9d65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果使用如下表达式会怎样(这里存在“a”键)。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="657f" class="mp lt iq nn b gy nx ny l nz oa">if (![“a”, “b”, “c”].indexOf(“a”)) {<br/>    console.log(“a doesn’t exist”)<br/>}<br/>&gt;&gt; a doesn't exist</span></pre><p id="3fc8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您获得未定义或空值时，可能会出现错误值。</p><h2 id="ec2e" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">用三元运算符让你的代码更整洁</h2><p id="cb8e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我总是试图通过使用三元运算符将表达式减少到尽可能少的字符。</p><p id="93cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，如果<code class="fe nk nl nm nn b">age</code>大于<code class="fe nk nl nm nn b">16</code>，那么允许该人驾驶可以编码如下。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="58a8" class="mp lt iq nn b gy nx ny l nz oa">var age = 19<br/>var canDrive </span><span id="d315" class="mp lt iq nn b gy ob ny l nz oa">if (age &gt; 16) { <br/>    canDrive = 'yes'<br/>} <br/>if (age &lt;= 16) { <br/>    canDrive = 'no’ <br/>}</span></pre><p id="ad99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是我们可以用三元运算符作为捷径。代码看起来干净多了。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="0bdb" class="mp lt iq nn b gy nx ny l nz oa">var canDrive = age &gt; 16 ? 'yes' : 'no'</span></pre><h2 id="1c6e" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">新变量的一些问题</h2><p id="f95b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果你试图检查一个变量，而你正在使用一个块范围的变量，你将不能访问检查之外的变量。</p><p id="6f1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比如说。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="09ca" class="mp lt iq nn b gy nx ny l nz oa">if​ (type === ​’bird’​) {​ ​<br/>    const​ move = [​’walk’​, ​’fly’​]<br/>} ​else​ {​ ​<br/>const​ move = [​’walk’​]<br/>}​ <br/>move // move is not defined​<br/>&lt;&lt; undefined​</span></pre><p id="a149" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，我们需要做的作业是。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="cc55" class="mp lt iq nn b gy nx ny l nz oa">let​ move<br/>​if​ (type === ​’bird’​) {​ <br/>    move = [​’walk’​, ​’fly’​]<br/>} ​else​ {​ <br/>    move = [​’walk’​]<br/>}</span></pre><p id="7843" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以重写前面的代码来使用const和一个三元组，如下所示。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="6a79" class="mp lt iq nn b gy nx ny l nz oa">const​ move = type === ​’bird’​ ? [​’walk’​, ​’fly’​] : [​’walk’​]</span></pre><h2 id="119e" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">什么是短路？</h2><p id="554a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当JavaScript对OR表达式求值时，如果第一个操作数为真，JavaScript会短路，甚至不看第二个操作数。为了清楚地理解什么是短路，让我们考虑下面的三元组，它非常适合。</p><pre class="kg kh ki kj gt nt nn nu nv aw nw bi"><span id="fede" class="mp lt iq nn b gy nx ny l nz oa">var person = {<br/>  name: 'Jack',<br/>  age: 34<br/>}<br/>console.log(person.job || 'unemployed')<br/>// 'unemployed'</span></pre><p id="dcc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的目标相当明确。如果一个人有一份工作(在这种情况下，这意味着它是已定义的并且不是空字符串)，那么您希望打印该工作。如果是<code class="fe nk nl nm nn b">falsy</code>、<code class="fe nk nl nm nn b">undefined</code>或<code class="fe nk nl nm nn b">‘’</code>，那么你要用<code class="fe nk nl nm nn b">default</code>。</p><p id="0c29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很简单，对吧？</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="a11c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读😘，再见👋，别忘了👏最多50次并跟随！</p><h2 id="c4ab" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated"><strong class="ak">用简单英语写的JavaScript笔记</strong></h2><p id="8b49" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们已经推出了三种新的出版物！请关注我们的新出版物:<a class="ae kv" href="https://medium.com/ai-in-plain-english" rel="noopener"> <strong class="ky ir"> AI in Plain English </strong> </a>，<a class="ae kv" href="https://medium.com/ux-in-plain-english" rel="noopener"><strong class="ky ir">UX in Plain English</strong></a>，<a class="ae kv" href="https://medium.com/python-in-plain-english" rel="noopener"><strong class="ky ir">Python in Plain English</strong></a><strong class="ky ir"/>——谢谢，继续学习！</p><p id="75d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们也一直有兴趣帮助推广高质量的内容。如果您有一篇文章想要提交给我们的任何出版物，请发送电子邮件至<a class="ae kv" href="mailto:submissions@plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">submissions @ plain English . io</strong></a><strong class="ky ir"/>，使用您的Medium用户名，我们会将您添加为作者。另外，请让我们知道您想加入哪个/哪些出版物。</p></div></div>    
</body>
</html>