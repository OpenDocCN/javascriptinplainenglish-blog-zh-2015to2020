<html>
<head>
<title>JavaScript “Strict Mode”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript“严格模式”</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-strict-mode-75f7d83bcad4?source=collection_archive---------5-----------------------#2020-02-09">https://javascript.plainenglish.io/javascript-strict-mode-75f7d83bcad4?source=collection_archive---------5-----------------------#2020-02-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5acf" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简短、有用的JavaScript课程——让它变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a92258aa41470d9bebf40f21338058a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6U7XOPa_p7nuS4AmxNtNlw.jpeg"/></div></div></figure><p id="0158" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ES5在ECMAScript 5中添加了一个新特性，称为语言的“严格模式”，它约束了某些行为的规则。这种严格的上下文避免采取某些动作，并抛出更多的异常和错误。这些限制使代码更安全，并符合更合适的指导原则。</p><p id="fab2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">严格模式<strong class="kt ir">在不同方面很有用</strong>:</p><ul class=""><li id="fc61" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">它禁用令人困惑或棘手的功能。</li><li id="75e1" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">它捕捉一些典型的编码错误，抛出异常。</li><li id="917f" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">当使用相对“不安全”的动作时，它会抛出错误。例如不允许隐式自动全局变量声明省略var。</li></ul><p id="f94c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">它通过检测更多可能导致执行时间错误的东西，帮助你减少错误</strong>。</p><p id="81d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以对单个函数或整个文件使用严格模式<strong class="kt ir">，这取决于你把严格模式语句放在哪里。</strong></p><h2 id="c6d5" class="mb mc iq bd md me mf dn mg mh mi dp mj la mk ml mm le mn mo mp li mq mr ms mt bi translated">在文件级别</h2><p id="d124" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">file.js</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="e165" class="mb mc iq na b gy ne nf l ng nh">"use strict";<br/> ... <br/> // this code is strict mode</span><span id="f7d5" class="mb mc iq na b gy ni nf l ng nh">function f1() {<br/>         ... <br/>        // this code is strict mode<br/>        function f2() { <br/>           // this code is strict mode<br/>        } <br/>}</span></pre><h2 id="99eb" class="mb mc iq bd md me mf dn mg mh mi dp mj la mk ml mm le mn mo mp li mq mr ms mt bi translated">在个人职能层面</h2><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="c0b1" class="mb mc iq na b gy ne nf l ng nh">function f1() {<br/>         "use strict";<br/>        // this code is strict mode<br/>        function f2() { <br/>           // this code is strict mode<br/>        } <br/>}</span><span id="73d0" class="mb mc iq na b gy ni nf l ng nh">// this code is not strict mode<br/>...<br/>...</span></pre><h2 id="b100" class="mb mc iq bd md me mf dn mg mh mi dp mj la mk ml mm le mn mo mp li mq mr ms mt bi translated">一些典型用途:</h2><p id="5778" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">在这里，如果您执行下面的代码，您会得到一个引用错误，因为变量“myVar”没有定义。在没有严格模式的情况下，这可以工作，但是变量“myVar”的范围将隐含地是全局范围，这是一个不好的做法。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="dcdd" class="mb mc iq na b gy ne nf l ng nh"><strong class="na ir">"use strict";</strong></span><span id="48d4" class="mb mc iq na b gy ni nf l ng nh">function myFunction(){<br/>          "use strict";<br/>           // turn on strict mode<br/>           myVar<strong class="na ir"> = 1</strong>;<br/>}</span><span id="014f" class="mb mc iq na b gy ni nf l ng nh">myFunction(); // ReferenceError: myVar is not defined at myFunction</span><span id="2d3f" class="mb mc iq na b gy ni nf l ng nh">someVar = "This is some var"; //Unresolved variable or type someVar <br/></span></pre><p id="d3bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">严格模式允许提升，但不会改变这一点:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="d666" class="mb mc iq na b gy ne nf l ng nh"><strong class="na ir">"use strict";</strong><br/>myVar = 1;<br/>console.log(myVar) //1, is OK.<br/>var myVar;</span></pre><p id="021d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，如果我们不使用严格模式，我们可能会得到<strong class="kt ir">不正确的结果</strong>，即使一切看起来都很好:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="7b44" class="mb mc iq na b gy ne nf l ng nh">//Without strict mode<br/>function sum(a, a, c) {<br/>   return a + a + c;   //Wrong if this code ran<br/>}<br/>sum(1,2,3)// <strong class="na ir">7 ??!!  </strong></span><span id="0eb2" class="mb mc iq na b gy ni nf l ng nh">//With strict mode<br/><strong class="na ir">"use strict";</strong><br/>function sum(a, a, c) {<br/>     'use strict';<br/>      return a + a + c; <br/> } // Duplicate parameter name not allowed in this context</span></pre><p id="5460" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这段代码中，当在没有new 的情况下调用Person构造函数<strong class="kt ir">并抛出错误<strong class="kt ir"> : </strong>时，这是未定义的</strong></p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="9145" class="mb mc iq na b gy ne nf l ng nh">"use strict";<br/>function Person(name) {<br/>    this.name = name;<br/>}<br/><br/>var me = Person("Nicholas");</span><span id="e242" class="mb mc iq na b gy ni nf l ng nh">//Uncaught TypeError: Cannot set property 'name' of undefined<br/>  at Person.<br/></span></pre><h2 id="d4ca" class="mb mc iq bd md me mf dn mg mh mi dp mj la mk ml mm le mn mo mp li mq mr ms mt bi translated">结论</h2><p id="c83c" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">如果严格模式在你的程序中引起问题，这可能是你在你的程序中使用了坏习惯的标志，你应该改正它。</p><p id="7306" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">严格模式对代码来说是一个很大的改进，你应该在你所有的程序中使用它</strong>。无论你是独自工作还是和更多人一起工作。</p><h2 id="b112" class="mb mc iq bd md me mf dn mg mh mi dp mj la mk ml mm le mn mo mp li mq mr ms mt bi translated">如果这对你有帮助，请点击下面的拍手按钮。非常感谢！</h2></div></div>    
</body>
</html>