<html>
<head>
<title>Why you should be using Fragments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么应该使用片段</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-you-should-be-using-react-fragments-a5d8314a59ff?source=collection_archive---------9-----------------------#2020-11-07">https://javascript.plainenglish.io/why-you-should-be-using-react-fragments-a5d8314a59ff?source=collection_archive---------9-----------------------#2020-11-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/044b6afacef01da8174663398caccd22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XZPsyr8DHIiaYV0i"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><a class="ae jd" href="https://unsplash.com/@casparrubin" rel="noopener ugc nofollow" target="_blank">@casparrubin</a> unsplash.com</figcaption></figure><div class=""/><div class=""><h2 id="d2e8" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何使用React提升React应用程序？碎片</h2></div><p id="3aaa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在之前的一篇博客文章中(见这里的<a class="ae jd" href="https://medium.com/javascript-in-plain-english/why-do-we-have-to-wrap-react-components-b168232dbd3a" rel="noopener"/>)，我们讨论了为什么需要在一个div中包装我们的React元素，如果你还没有看过那篇文章，请看看这里！</p><p id="25fa" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在那篇文章的最后，我们讨论了为什么让不必要的div元素进入DOM可能会导致问题。嗯，我想一定有一个解决这个问题的方法，对吗？</p><p id="6578" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在React 16.2版中，引入了一个称为React片段的新特性。可以把这个看作是一个不翻译成HTML的组件。</p><p id="ec78" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">而不是使用<code class="fe lr ls lt lu b">&lt;div&gt;</code>来包装我们使用的元素或速记语法<code class="fe lr ls lt lu b">&lt;&gt;</code>。</p><p id="e603" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面我们给出了当您没有将React元素包装在<code class="fe lr ls lt lu b">div</code>中时会出现的错误的典型解决方案。</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="0bdc" class="md me jg lu b gy mf mg l mh mi">import React from 'react'</span><span id="4533" class="md me jg lu b gy mj mg l mh mi">const App = () =&gt; {<br/>  return (<br/>           &lt;div&gt; <br/>              &lt;p&gt;Hello&lt;/p&gt;<br/>              &lt;p&gt;World&lt;/p&gt;<br/>           &lt;/div&gt;<br/>      )<br/>    }</span></pre><p id="86dd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是我们如何使用<code class="fe lr ls lt lu b">React.fragment</code>重写它</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="68bb" class="md me jg lu b gy mf mg l mh mi">import React from 'react'<br/>const App = () =&gt; {<br/>  return ( <br/>           &lt;React.fragment&gt;<br/>             &lt;p&gt;Hello&lt;/p&gt;<br/>             &lt;p&gt;World&lt;/p&gt;<br/>           &lt;/React.fragment&gt;<br/>      )<br/>    }</span></pre><p id="c233" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在写<code class="fe lr ls lt lu b">React.fragment</code>可能会很痛苦！所以React也引入了<code class="fe lr ls lt lu b">&lt;&gt;</code>语法</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="4126" class="md me jg lu b gy mf mg l mh mi">import React from 'react'<br/>const App = () =&gt; {<br/>  return ( <br/>           &lt;&gt;<br/>             &lt;p&gt;Hello&lt;/p&gt;<br/>             &lt;p&gt;World&lt;/p&gt;<br/>           &lt;/&gt;<br/>      )<br/>    }</span></pre><p id="3704" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">被transpiler转换成常规的JavaScript，转换后看起来像这样。一些我们在以前的帖子中看到的东西！</p><p id="9e00" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe lr ls lt lu b">React.createElement(React.fragment, null, ...children)</code></p><p id="2675" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不同的是，它没有被插入到DOM中！</p><h1 id="db18" class="mk me jg bd ml mm mn mo mp mq mr ms mt km mu kn mv kp mw kq mx ks my kt mz na bi translated">碎片有什么好处</h1><p id="d3bc" class="pw-post-body-paragraph kv kw jg kx b ky nb kh la lb nc kk ld le nd lg lh li ne lk ll lm nf lo lp lq ij bi translated">如前一篇文章所述。以下是你使用片段的主要原因。</p><ol class=""><li id="91d7" class="ng nh jg kx b ky kz lb lc le ni li nj lm nk lq nl nm nn no bi translated">您的react应用程序越来越大，DOM中无用div的数量也在增加。</li><li id="9a78" class="ng nh jg kx b ky np lb nq le nr li ns lm nt lq nl nm nn no bi translated">性能稍微好一点，所以如果你想节省一些时间，这可能是一种方法。</li><li id="ce42" class="ng nh jg kx b ky np lb nq le nr li ns lm nt lq nl nm nn no bi translated">当您关注布局和最终HTML的呈现时，并不考虑布局应该如何显示</li></ol><h1 id="4f19" class="mk me jg bd ml mm mn mo mp mq mr ms mt km mu kn mv kp mw kq mx ks my kt mz na bi translated">我如何使用它们</h1><h1 id="5b80" class="mk me jg bd ml mm mn mo mp mq mr ms mt km mu kn mv kp mw kq mx ks my kt mz na bi translated">1.返回元素组</h1><p id="774e" class="pw-post-body-paragraph kv kw jg kx b ky nb kh la lb nc kk ld le nd lg lh li ne lk ll lm nf lo lp lq ij bi translated">这个直接取自React文档。假设我们想使用React呈现一个表格。在<code class="fe lr ls lt lu b">div</code>中包装<code class="fe lr ls lt lu b">td</code>标签将不会正确地呈现表格！但是使用React片段可以！</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="3e6f" class="md me jg lu b gy mf mg l mh mi">import React, Fragment from 'react'<br/>const App = () =&gt; {<br/>  return ( <br/>           &lt;React.fragment&gt;<br/>               &lt;td&gt;Hello&lt;/td&gt;<br/>               &lt;td&gt;World&lt;/td&gt;<br/>           &lt;/React.Fragment&gt;<br/>      )<br/>    }</span></pre><p id="a6e2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这使得</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="c7dd" class="md me jg lu b gy mf mg l mh mi">&lt;table&gt;<br/>  &lt;tr&gt;<br/>    &lt;td&gt;Hello&lt;/td&gt;<br/>    &lt;td&gt;World&lt;/td&gt;<br/>  &lt;/tr&gt;<br/>&lt;/table&gt;</span></pre><h1 id="a62d" class="mk me jg bd ml mm mn mo mp mq mr ms mt km mu kn mv kp mw kq mx ks my kt mz na bi translated">2.有条件渲染</h1><p id="f09f" class="pw-post-body-paragraph kv kw jg kx b ky nb kh la lb nc kk ld le nd lg lh li ne lk ll lm nf lo lp lq ij bi translated">这里我们呈现一个表单，告诉我们用户是否已经登录。如果没有，我们使用片段来显示多个React元素，这些元素显示登录表单。如果为真，我们将显示一条登录信息。注意，我们使用三元运算符来进行这种类型的条件渲染！</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="333f" class="md me jg lu b gy mf mg l mh mi">const App = () =&gt; {<br/>  return ( <br/>           &lt;form&gt;<br/>             {LoggedIn ? (<br/>            &lt;React.Fragment&gt;<br/>              &lt;h3&gt;Welcome&lt;/h3&gt;<br/>              &lt;p&gt;You are logged in!&lt;/p&gt;<br/>            &lt;/React.Fragment&gt;<br/>        ) : (<br/>            &lt;React.Fragment&gt;<br/>              &lt;h3&gt;Login&lt;/h3&gt;<br/>              &lt;label for="username"&gt;Username&lt;/label&gt;&lt;br/&gt;<br/>              &lt;input type="text" id="username" /&gt;&lt;br/&gt;<br/>              &lt;label for="password"&gt;Password&lt;/label&gt;&lt;br/&gt;<br/>              &lt;input type="password" id="password" /&gt;&lt;br/&gt;<br/>              &lt;input type="submit" value="Login" /&gt;<br/>            &lt;/React.Fragment&gt;<br/>        )}<br/>      &lt;/form&gt;<br/>      )<br/> }</span></pre><h1 id="1681" class="mk me jg bd ml mm mn mo mp mq mr ms mt km mu kn mv kp mw kq mx ks my kt mz na bi translated">3.显示带有片段的数组</h1><p id="0526" class="pw-post-body-paragraph kv kw jg kx b ky nb kh la lb nc kk ld le nd lg lh li ne lk ll lm nf lo lp lq ij bi translated">现在，有时你会想要显示一个数组，但是为了做到这一点，React建议你包含一个键属性。这是因为它使react更容易基于此更改DOM。现在请注意，您应该使用<code class="fe lr ls lt lu b">React.fragment</code>而不是<code class="fe lr ls lt lu b">&lt;&gt;</code>，因为现在<code class="fe lr ls lt lu b">&lt;&gt;</code>还不支持使用键属性。</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="9090" class="md me jg lu b gy mf mg l mh mi">const App = () =&gt; { <br/>  users = [<br/>      {<br/>        id: 1,<br/>        name: "User1"<br/>        phone: "123456789"<br/>      },<br/>      {<br/>        id: 2,<br/>        name: "User2",<br/>        phone: "234567890"<br/>      },<br/>      {<br/>        id: 3,<br/>       name: "user2",<br/>       phone: "345678901"<br/>    }<br/>  ]<br/>  return (<br/>     &lt;React.Fragment&gt;<br/>        {this.users.map(user =&gt; (<br/>          &lt;React.Fragment key={user.id}&gt;<br/>            &lt;h2&gt;{user.name}&lt;/h2&gt;<br/>            &lt;p&gt;{user.email}&lt;/p&gt;<br/>            &lt;p&gt;{user.phone}&lt;/p&gt;<br/>          &lt;/React.Fragment&gt;<br/>        ))}<br/>    &lt;/React.Fragment&gt;<br/>  )<br/>}</span></pre><h1 id="f176" class="mk me jg bd ml mm mn mo mp mq mr ms mt km mu kn mv kp mw kq mx ks my kt mz na bi translated">其他文章</h1><div class="ip iq gp gr ir nu"><a href="https://medium.com/javascript-in-plain-english/embed-a-qr-code-scanner-and-browser-into-your-next-mobile-app-42245cbdebf" rel="noopener follow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd jh gy z fp nz fr fs oa fu fw jf bi translated">将二维码扫描仪和浏览器嵌入你的下一款手机应用</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">如何使用React Native嵌入二维码扫描仪和网络浏览器</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">medium.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ix nu"/></div></div></a></div><div class="ip iq gp gr ir nu"><a href="https://medium.com/javascript-in-plain-english/why-do-we-have-to-wrap-react-components-b168232dbd3a" rel="noopener follow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd jh gy z fp nz fr fs oa fu fw jf bi translated">为什么我们必须包装React组件？</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">理解React应用程序中的div包装！</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">medium.com</p></div></div><div class="od l"><div class="oj l of og oh od oi ix nu"/></div></div></a></div><h2 id="7d81" class="md me jg bd ml ok ol dn mp om on dp mt le oo op mv li oq or mx lm os ot mz ou bi translated">关于作者</h2><p id="01e3" class="pw-post-body-paragraph kv kw jg kx b ky nb kh la lb nc kk ld le nd lg lh li ne lk ll lm nf lo lp lq ij bi translated">我是一名执业医师和教育家，也是一名网站开发者。请在这里查看<a class="ae jd" href="https://dev.to/aaronsm46722627/www.coding-medic.com" rel="noopener ugc nofollow" target="_blank">关于我在博客和其他帖子上的项目进展的更多细节。如果你想和我联系，请点击这里<br/></a><a class="ae jd" href="mailto:aaron.smith.07@aberdeen.ac.uk" rel="noopener ugc nofollow" target="_blank">aaron . Smith . 07 @ aberdeen . AC . uk</a></p></div></div>    
</body>
</html>