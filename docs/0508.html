<html>
<head>
<title>How to use V-Masks when building forms with Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vue.js构建表单时如何使用V-Masks</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-v-masks-when-building-forms-with-vue-js-d623d08216c3?source=collection_archive---------1-----------------------#2019-10-31">https://javascript.plainenglish.io/how-to-use-v-masks-when-building-forms-with-vue-js-d623d08216c3?source=collection_archive---------1-----------------------#2019-10-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f47f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任何成功形式的一个关键方面是清晰。如果用户发现表单易于使用和理解，他们更有可能填写并提交表单。在本章中，我们将探讨输入屏蔽。您将学习如何快速轻松地将掩码应用到表单输入中，并使用真实的例子(如电话号码)根据您的需要配置它们。</p><p id="bd04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">这是摘自玛丽娜莫斯蒂(</strong><a class="ae kl" href="https://twitter.com/marinamosti" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">@玛丽娜莫斯蒂</strong> </a> <strong class="jp ir">)写的Vue.js </strong>  <strong class="jp ir">的</strong> <a class="ae kl" href="https://www.packtpub.com/business-other/building-forms-with-vue-js?utm_source=Insertwebsite&amp;utm_medium=referral&amp;utm_campaign=Outreach_ExplorerBPR" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">建筑形式。)要访问贯穿全书的项目基础代码，请单击此处的</strong></a><a class="ae kl" href="https://gitlab.com/marinamosti/vuetiful- forms-step-3" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a><strong class="jp ir">。</strong></p><p id="40b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">玛丽娜将于11月在多伦多的VueConf发表演讲。在这里了解更多<a class="ae kl" href="https://vuetoronto.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a>。</p><p id="2b6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">输入掩码到底是什么？它们是显示输入数据的预定义结构。例如，如果您要屏蔽一个电话输入，您可能希望它显示为(123)234–5555，而不是简单的1232345555。你可以清楚地看到，第一个例子不仅更容易阅读，而且它还传达了该领域试图实现的目标。</p><p id="2cbd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">输入掩码是一个很好的特性，可以将您的UX提升到另一个水平，并且非常容易实现，这要归功于开源库，如v-mask。GitHub存储库页面可以在这里找到。</p><p id="8f39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如何安装v-mask库</strong></p><p id="a251" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们开始安装v-mask库。为了让我们的项目使用它所提供的东西，我们首先需要将它添加到我们的项目依赖项中。为此，请遵循以下步骤:</p><p id="5ca3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1.打开您的终端，输入以下命令将库添加到我们的依赖项中:</p><p id="94cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km"> &gt; npm安装垂直面罩</em></p><p id="3fd2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.我们需要把它作为一个插件添加到Vue中，所以转到main.js，让我们都导入它，让Vue知道我们想把它注册为我们所有应用的插件。在导入应用程序行后添加以下代码:</p><p id="f3f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">从‘v-mask’vue . use导入vue mask(vue mask)；</em></p><p id="50b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们已经注册了我们的插件，我们可以访问一个新的指令:v-mask。我们可以将这个新的指令直接添加到我们的<input/>元素上，库将通过读取用户的输入和调整字段的显示来处理幕后的掩蔽。</p><p id="4966" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们先在常规输入上尝试一下，然后我们将向项目的组件添加一些道具。</p><p id="2255" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.进入App.vue，在输入电子邮件后创建一个新的<input/>元素:</p><p id="22bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km"> &lt;输入type="text" / &gt; </em></p><p id="b92c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们在这个字段中直接输入电话号码，就会得到默认的输入行为。任何事情都会发生。所以，让我们对它应用一个电话号码掩码。我们新的v-mask库有一个要求，即我们将其应用到的每个领域都需要进行v-建模，所以让我们首先完成这项工作。</p><p id="698e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.向表单对象内部的data()添加一个新的电话道具:</p><p id="79a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">形式:{ <br/> … <br/>电话:<br/> }，</em></p><p id="8a24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.现在，回到我们的新<input/>元素，并应用v型。我们现在还将添加v-mask指令，如下所示:</p><p id="d7c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km"> &lt;输入type = " text "<br/>v-model = " form . phone " v-mask =“(# #)# # #-# # #”<br/>&gt;</em></p><p id="02e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">返回浏览器，再次尝试输入。当你键入的时候，你会发现你实际上得到的是一个很好的格式化的电话号码。</p><p id="838a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在五个简单的步骤中，我们将输入屏蔽添加到我们的表单字段之一。现在让我们更深入地看看v-mask指令的作用。</p><p id="97cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是指令？</strong></p><p id="814c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们将v-mask库添加到项目中，并在main.js中添加插件时，该库为我们创建了一个新的指令，v-mask。但指令到底是什么？我们知道它看起来像一个HTML属性，但还有什么？</p><p id="2ca1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">指令是具有v前缀的特殊属性。指令属性值应为单个JavaScript表达式(除了v-for […])。指令的工作是当其表达式的值发生变化时，将副作用被动地应用于DOM。<br/>Vue官方文件。</p><p id="5fca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好的，看起来我们有一个特殊的属性可以修改元素。这听起来完全像我们在应用于输入元素时看到的情况。但是，我们放入这个指令的实际表达式或值是如何工作的呢？</p><p id="28b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从这个例子中，我们知道我们正在传递一个字符串，您可以看到，在组成v-mask =“attribute”的双引号内部，我们正在设置一对新的单引号(')。这意味着这个属性内部的表达式是JavaScript，并且我们向它传递一个字符串值。</p><p id="f342" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过查看v-mask库文档，我们知道我们有一些特殊的占位符字符，可以在我们的掩码内部使用。这些项目的表格如下:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi kn"><img src="../Images/8e2c7733c7894ad6b57bc26de57e685c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*E8ZvlPG_WIMw1UQ0RMYWxA.png"/></div></figure><p id="9534" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以将显示一天中的时间的掩码为例。可以定义如下:</p><p id="874e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">v-mask =“# #:# #”</em></p><p id="2227" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这意味着该输入将接受从0到9 (##)的两个数字，后跟一个:<br/>字符，再跟另外两个数字(##)。</p><p id="8a81" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任何与此模式不匹配的内容都将被输入忽略。</p><p id="df33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">v-mask是一个非常强大的库，它允许我们通过组合这些简单的规则来定制我们想要的输入显示方式。在这篇文章的最后一节，我们将看看如何修改自定义输入。这将允许我们充分利用输入掩码的功能。</p><p id="2331" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如何增强自定义输入</strong> <br/>我们已经投入了大量的工作来创建我们令人敬畏的自定义BaseInput，所以我们肯定希望继续使用它！</p><p id="25ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">按照以下步骤修改基本输入，并允许输入屏蔽:</p><p id="306f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1.回到App.vue，切换<baseinput>组件的<input/>元素:</baseinput></p><p id="9633" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">&lt;base input label = " Telephone "<br/>type = " text "<br/>v-model = " form . Telephone "<br/>/&gt;</em></p><p id="d413" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在进入BaseInput.vue，新建一个道具；我们称之为mask，默认为空字符串。重要的是，我们将它默认为一个空字符串，否则指令将试图匹配，如果它们没有声明的掩码，我们将无法在字段中键入内容！</p><p id="9387" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.添加到你的道具对象:<br/> <br/> <em class="km"> …，<br/> mask: { <br/> type: String，必选:false <br/> } </em></p><p id="9c43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.现在，返回App.vue，并更新我们的电话基本输入以使用mask属性:</p><p id="d782" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">&lt;base input label = " Telephone " type = " text "<br/>v-model = " form . Telephone "<br/>:mask = " '(# # #)# # #-# # # # ' "<br/>/&gt;</em></p><p id="5186" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">全部完成！返回到您的浏览器，并添加一些数字到字段，您应该有一个好看的电话口罩与您的自定义组件！</p></div></div>    
</body>
</html>