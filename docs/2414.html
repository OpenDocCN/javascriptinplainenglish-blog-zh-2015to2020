<html>
<head>
<title>useRef() hook can be uncommon but very useful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">useRef()挂钩可能不常见，但非常有用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/useref-hook-can-be-uncommon-but-very-useful-5fbbcf5e23e2?source=collection_archive---------12-----------------------#2020-06-21">https://javascript.plainenglish.io/useref-hook-can-be-uncommon-but-very-useful-5fbbcf5e23e2?source=collection_archive---------12-----------------------#2020-06-21</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/50f90d85e98171754d32934e21d67fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQhrbhV-Ai8cZy9PmxUvxw.jpeg"/></div></div></figure><p id="a992" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">React 16.8于2019年2月发布。随之而来的是钩子的引入。钩子现在使我们有可能在一个功能组件中控制状态和其他特性。仅仅因为我们想要一点独立的状态，就必须将我们的功能组件转换成类组件的日子已经一去不复返了。</p><p id="31a1" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">你可能会对自己说:是的，是的，我知道所有关于钩子的事，你去哪里了？这篇博文迟到了。请不要走开，因为这次我们将要谈论一个对你来说可能有点不常见的钩子。我们将要谈论的是钩子。我们将讨论它是如何工作的，以及一些常见的用例。在整篇文章前留下来，我保证我会把一切都包起来。所以让我们开始吧。</p><p id="51a4" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">当你听到React钩子的时候，你可能马上会想到<code class="fe ky kz la lb b">useState</code>和<code class="fe ky kz la lb b">useEffect</code>这两个非常常见的钩子，显然是用来控制状态的。但是当我说<code class="fe ky kz la lb b">useRef</code>时，你会想到什么？您可能会想到React类创建引用的能力。让我们看一个例子。</p><p id="9342" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我给你一点时间看看</p><figure class="lc ld le lf gu js"><div class="bz fq l di"><div class="lg lh l"/></div></figure><figure class="lc ld le lf gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj li"><img src="../Images/6d35030917b2a543d8e6c3592b00c3ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*if3G9QtvL3gM3YzSp0PQTg.png"/></div></div></figure><figure class="lc ld le lf gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj li"><img src="../Images/5c142add3719a9cef4a56ccf82939611.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOOnIOl1JLFQkEVcn6Updg.png"/></div></div></figure><p id="3b9c" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我把这个班放在这里作为参考。在钩子出现之前，类的方式是创建引用的方式。我不是说你不应该再使用类或任何东西。</p><p id="97d6" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">不管怎样，现在我们来看第二段代码。这个例子很简单。最初，我们所做的是创建一个<code class="fe ky kz la lb b">parentSizing</code>变量，它被赋予一个空数组的<code class="fe ky kz la lb b">useRef</code>值。然后在我们的渲染中，我们的ref调用了<code class="fe ky kz la lb b">findParentSizing</code>函数，该函数将<code class="fe ky kz la lb b">parentSizing</code>变量重新分配给特定项目的测量值。这只是使用<code class="fe ky kz la lb b">useRef</code>挂钩的一个例子。</p><p id="3a43" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">请记住，refs提供了一种方法来访问在我们的render方法中创建的DOM节点。这里有一个快速说明，当使用这个钩子时。记住<code class="fe ky kz la lb b">useRef</code>在分配变量值时使用了一个<code class="fe ky kz la lb b">current</code>属性。</p><p id="6ace" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">当使用我们的<code class="fe ky kz la lb b">parentSizing</code>变量时，为了实际访问该值，我们必须包含<code class="fe ky kz la lb b">current</code>属性。因此，要访问我们的值，应该是<code class="fe ky kz la lb b">parentSizing.current</code>。这是一件非常简单但容易忘记的事情。如果你和我一样，你会忘记几次，你会一直想知道为什么你总是得到一个空的变量值。别担心你不会是第一个。</p><p id="b830" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">React给了我们<code class="fe ky kz la lb b">useRef</code>三个好的用法:</p><ul class=""><li id="5e40" class="lj lk ir kb b kc kd kg kh kk ll ko lm ks ln kw lo lp lq lr bi translated">管理焦点、文本选择或媒体播放。</li><li id="6048" class="lj lk ir kb b kc ls kg lt kk lu ko lv ks lw kw lo lp lq lr bi translated">触发命令式动画。</li><li id="1f0e" class="lj lk ir kb b kc ls kg lt kk lu ko lv ks lw kw lo lp lq lr bi translated">与第三方DOM库集成。</li></ul><p id="0c3a" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">避免对任何可以声明完成的事情使用refs。知道了这个建议，我们在使用<code class="fe ky kz la lb b">useRef</code>时需要小心。作为开发人员，我们有能力随时使用任何代码。仅仅因为一些工作，但并不意味着我们应该如何使用这个工具。</p><p id="5b08" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">所以现在是总结这篇文章的时候了。请在下面给我留言，告诉我你的想法。或者你对另一篇文章有什么想法。好吧，我想我要离开这里了，像往常一样，我给你留了一张gif。</p><figure class="lc ld le lf gu js"><div class="bz fq l di"><div class="lx lh l"/></div></figure></div></div>    
</body>
</html>