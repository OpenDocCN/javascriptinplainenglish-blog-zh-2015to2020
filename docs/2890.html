<html>
<head>
<title>How to use React Context API With Functional Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React上下文API与功能组件一起使用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-react-context-api-with-functional-component-472f1d5e0851?source=collection_archive---------0-----------------------#2020-08-02">https://javascript.plainenglish.io/how-to-use-react-context-api-with-functional-component-472f1d5e0851?source=collection_archive---------0-----------------------#2020-08-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/a8f85ca60d9a08403c44034bd048dd2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2j4p0KVSmgQ_xmfw.png"/></div></div></figure><div class=""/><p id="18f3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将使用Hackernews API在React中创建一个小应用程序</p><p id="a482" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">本文假设您对React和bootstrap有基本的了解。</em></p><h2 id="3a7a" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">上下文API简介</h2><p id="f257" class="pw-post-body-paragraph jv jw iy jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">上下文API是React提供的一个API，用于帮助进行状态管理。它为我们提供了与redux相似的功能。</p><p id="ac8a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们要将状态值从父组件传递到其他子组件，我们必须通过props传递数据。但是，随着元件数量的增加，这一过程会变得困难。为了使组件间共享数据的任务变得容易，我们必须使用一些第三方状态管理库。但是，React现在为我们提供了上下文API，帮助我们进行状态管理。</p></div><div class="ab cl ls lt hr lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ig ih ii ij ik"><p id="a1bb" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们使用API来创建一个小应用程序。我们的应用程序将非常简单。我们将使用上下文API来创建应用程序。我们的项目将如下所示:</p><figure class="ma mb mc md gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lz"><img src="../Images/0bba548c1f4de08002a02591f83da97d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CYySjLU3lk3fsmnBI9JJHg.png"/></div></div></figure><p id="2b64" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将显示最新的黑客新闻故事，并让用户点击其中一条新闻。当用户点击新闻时，我们会在右边显示更多的信息。在这里，我们不会过多关注应用程序的样式，好吗？</p><p id="a112" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们开始吧。</p><p id="084b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建一个react应用程序。为此，我们需要在主工作目录内的终端中输入以下命令:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="5f0c" class="ku kv iy mf b gy mj mk l ml mm">npx create-react-app .</span></pre><p id="e296" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经创建了react应用程序，让我们安装我们需要的包。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="3dff" class="ku kv iy mf b gy mj mk l ml mm">npm i bootstrap axios</span></pre><p id="2fa7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将使用bootstrap进行样式设计，使用axios请求数据。</p><p id="8869" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经安装了这个包，让我们继续实现这个项目。</p><p id="0854" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们打开<em class="kt"> src </em>目录中的<strong class="jx iz"> App.js </strong>文件。然后，编写下面几行代码:</p><figure class="ma mb mc md gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="f10d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在上面的代码中看到我们做了一些导入。我们已经导入了两个组件:<code class="fe mp mq mr mf b">NewsList</code>和<code class="fe mp mq mr mf b">Description</code>。我们将很快研究这些组件。你可以在第6行看到，我们已经导入了<code class="fe mp mq mr mf b">NewsState</code>。然后我们在第12行用它作为包装器。这个<code class="fe mp mq mr mf b">NewsState</code>是全局状态，它可以被任何子组件使用。这意味着<code class="fe mp mq mr mf b">NewsList</code>和<code class="fe mp mq mr mf b">Description</code>，也就是14号线&amp; 15处的部件可以接入<code class="fe mp mq mr mf b">NewsState</code>。我们很快会在<code class="fe mp mq mr mf b">NewsState</code>上工作。</p><p id="f877" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们现在将致力于国家。为此，让我们在<em class="kt"> src </em>目录中创建一个名为<em class="kt"> context </em>的目录。在<em class="kt">上下文</em>目录下创建一个名为<strong class="jx iz"> types.js </strong>的文件。然后，在<em class="kt">上下文</em>目录下创建一个名为<em class="kt">新闻</em>的文件夹。然后，在<em class="kt"> src/context/News </em>目录下创建三个名为<strong class="jx iz"> NewsContext.js </strong>、<strong class="jx iz"> NewsState.js </strong>、<strong class="jx iz"> NewsReducer.js </strong>的文件。这应该使<em class="kt">上下文</em>目录的文件夹结构类似于这样:</p><figure class="ma mb mc md gt ip gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/fc84584574efdbe9c6ab4dbb6e3b9171.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*tAh2u42Ev7H5Z5I7Blngjg.png"/></div></figure><p id="e7c7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经创建了这些文件，让我们打开文件<strong class="jx iz"> NewsContext.js </strong>并编写以下代码行:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="2a9e" class="ku kv iy mf b gy mj mk l ml mm">import { createContext } from "react";<br/></span><span id="92e8" class="ku kv iy mf b gy mt mk l ml mm"><strong class="mf iz">const</strong> NewsContext = createContext();<br/></span><span id="5452" class="ku kv iy mf b gy mt mk l ml mm">export default NewsContext;</span></pre><p id="29cd" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里，我们导入了<code class="fe mp mq mr mf b">createContext</code>。<code class="fe mp mq mr mf b">createContext</code>的作用顾名思义就是创造语境。</p><p id="fb58" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<code class="fe mp mq mr mf b">createContext</code>的帮助下，我们创建了上下文并将其存储在常量<code class="fe mp mq mr mf b">NewsContext</code>中。然后我们出口了<code class="fe mp mq mr mf b">NewsContext</code>。</p><p id="23fc" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们打开<strong class="jx iz">newstate . js</strong>并编写以下代码行:</p><figure class="ma mb mc md gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="f56c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的代码中，我们可以看到前几行只是导入。在第1行，我们已经导入了<code class="fe mp mq mr mf b">React</code>和<code class="fe mp mq mr mf b">useReducer</code>。然后在第4行和第5行，我们分别导入了<code class="fe mp mq mr mf b">NewsContext</code>和<code class="fe mp mq mr mf b">NewsReducer</code>。我们将很快着手<code class="fe mp mq mr mf b">NewsReducer</code>的工作。类似地，我们在第6行从<strong class="jx iz"> types.js </strong>中导入了<code class="fe mp mq mr mf b">GET_NEWS</code>和<code class="fe mp mq mr mf b">GET_DESCRIPTION</code>。我们稍后将讨论这些类型。</p><p id="f09e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第8行，我们创建了<code class="fe mp mq mr mf b">NewsState</code>。我们在第9行创建了一个<code class="fe mp mq mr mf b">initialState</code>。之后，在第14行，我们使用了<code class="fe mp mq mr mf b">useReducer</code>。<code class="fe mp mq mr mf b">useReducer</code>接受两个参数。第一个参数应该是reducer，在我们的例子中是<code class="fe mp mq mr mf b">NewsReducer</code>。第二个参数是<code class="fe mp mq mr mf b">initialState</code>。这个<code class="fe mp mq mr mf b">useReducer</code>给我们提供了<code class="fe mp mq mr mf b">state</code>和<code class="fe mp mq mr mf b">dispatch</code>。<code class="fe mp mq mr mf b">state</code>如其名，为我们提供了国家的价值观。<code class="fe mp mq mr mf b">dispatch</code>函数帮助我们将收到的数据发送给reducer函数。</p><p id="1eda" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在那之后的第16行，我们有一个函数叫做<code class="fe mp mq mr mf b">getNews</code>。这个函数帮助我们从第18行的Rest API端点获取新闻。如果在获取数据时出现任何错误，我们会将其记录在控制台的第23行。在第21行，我们使用了<code class="fe mp mq mr mf b">dispatch</code>函数。<code class="fe mp mq mr mf b">dispatch</code>功能有助于将我们的数据发送到reducer。减速器最终会改变我们的状态。我们将很快研究减速器。</p><p id="fb67" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们仔细看看<code class="fe mp mq mr mf b">dispatch</code>功能。第21行的<code class="fe mp mq mr mf b">dispatch</code>函数接受一个包含<code class="fe mp mq mr mf b">payload</code>和<code class="fe mp mq mr mf b">type</code>的对象作为选项。<code class="fe mp mq mr mf b">payload</code>应该是我们需要存储在状态中的数据。<code class="fe mp mq mr mf b">type</code>接受类型的名称，在本例中是<code class="fe mp mq mr mf b">GET_NEWS</code>。</p><p id="8771" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第27行，我们可以看到名为<code class="fe mp mq mr mf b">getDescription</code>的函数。这个功能帮助我们获取特定新闻的描述。我们已经编写了代码，使用<code class="fe mp mq mr mf b">id</code>在第29行发出请求。然后在第32行，我们分派了我们的<code class="fe mp mq mr mf b">payload</code>和<code class="fe mp mq mr mf b">type</code>，它们的值分别为<code class="fe mp mq mr mf b">data</code>和<code class="fe mp mq mr mf b">GET_DESCRIPTION</code>。如果出现任何错误，我们会将其记录在控制台的第34行。</p><p id="d1c5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，看一下第39到48行。这里，我们使用了<code class="fe mp mq mr mf b">NewsContext.Provider</code>。这个<code class="fe mp mq mr mf b">NewsContext.Provider</code>充当我们创建的上下文的包装器。记得我们已经在<strong class="jx iz"> NewsContext.js </strong>文件中创建了<code class="fe mp mq mr mf b">NewsContext</code>。您可能还记得，我们在<strong class="jx iz"> App.js </strong>文件中使用这个包装器作为<code class="fe mp mq mr mf b">NewsState</code>。</p><p id="3729" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们来谈谈<code class="fe mp mq mr mf b">NewsContext.Provider</code>。<code class="fe mp mq mr mf b">NewsContext.Provider</code>收进道具<code class="fe mp mq mr mf b">value</code>。<code class="fe mp mq mr mf b">value</code>应该是一个包含我们的状态和函数的键值对的对象。这个提供者的每个后代都可以访问<code class="fe mp mq mr mf b">value</code>。然后在第47行，您可以看到我们已经在<code class="fe mp mq mr mf b">{props.children}</code>的帮助下编写了呈现子组件的代码。</p><p id="a01d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">既然我们已经理解了在<strong class="jx iz"> NewsState.js </strong>中编写的代码，现在让我们打开文件<strong class="jx iz"> NewsReducer.js </strong>并编写以下代码行:</p><figure class="ma mb mc md gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="0932" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在第1行看到，我们已经导入了<code class="fe mp mq mr mf b">GET_NEWS</code>和<code class="fe mp mq mr mf b">GET_DESCRIPTION</code>类型。然后我们导出了我们的reducer函数。我们可以看到reducer函数位于第3行到第20行。减速器函数以<code class="fe mp mq mr mf b">state</code>和<code class="fe mp mq mr mf b">payload</code>为参数。然后在第4行，我们创建了两个常量<code class="fe mp mq mr mf b">payload</code>和<code class="fe mp mq mr mf b">type</code>，并存储了<code class="fe mp mq mr mf b">action.payload</code>和<code class="fe mp mq mr mf b">action.type</code>的值。记住<code class="fe mp mq mr mf b">action</code>是我们从<strong class="jx iz">newstate . js</strong>中的<code class="fe mp mq mr mf b">dispatch</code>函数接收的对象。</p><p id="a4c8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从第6行到第19行，我们使用了<code class="fe mp mq mr mf b">switch</code> <code class="fe mp mq mr mf b">case</code>。我们正在检查动作的<code class="fe mp mq mr mf b">type</code>。如果类型是<code class="fe mp mq mr mf b">GET_NEWS</code>，我们分解初始状态，然后将状态中<code class="fe mp mq mr mf b">news</code>的值改为<code class="fe mp mq mr mf b">payload</code>。如果类型是<code class="fe mp mq mr mf b">GET_DESCRIPTION</code>，我们分解我们的状态，然后将状态中<code class="fe mp mq mr mf b">activeNews</code>的值改为<code class="fe mp mq mr mf b">payload</code>。</p><p id="a5f0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们打开文件<strong class="jx iz"> types.js </strong>，并编写以下代码行:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="3109" class="ku kv iy mf b gy mj mk l ml mm">export <strong class="mf iz">const</strong> GET_NEWS = "GET_NEWS";</span><span id="8827" class="ku kv iy mf b gy mt mk l ml mm">export <strong class="mf iz">const</strong> GET_DESCRIPTION = "GET_DESCRIPTION";</span></pre><p id="2bda" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们创建<strong class="jx iz"> types.js </strong>的主要原因是因为我们需要不同动作的类型名称，正如你所看到的。这些类型名称在我们的reducer和state中使用。我们可以在两个文件中对类型进行硬编码，但是我们可能会遇到一些问题。如果类型名中出现任何拼写错误，我们可能会遇到一些难以调试的错误。</p><p id="bfed" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们在主项目目录中创建一个<em class="kt">组件</em>目录。然后，我们在<em class="kt">组件</em>目录下创建两个文件<strong class="jx iz"> Description.js </strong>和<strong class="jx iz"> NewsList.js </strong>。这应该使我们的<em class="kt">组件</em>目录看起来像这样:</p><figure class="ma mb mc md gt ip gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/5b9aa6bde9a3fa56c04439fc5fa41018.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/format:webp/1*q0CVjLM2_FcV63rS5cjv-g.png"/></div></figure><p id="066c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们打开文件<strong class="jx iz"> NewsList.js </strong>并编写以下代码行:</p><figure class="ma mb mc md gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="9d49" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以看到，前几行是导入。我们在第1行导入了<code class="fe mp mq mr mf b">useContext</code>和<code class="fe mp mq mr mf b">useEffect</code>。我们已经在第3行导入了我们的<code class="fe mp mq mr mf b">newsContext</code>。</p><p id="5b8f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第6行，我们使用了<code class="fe mp mq mr mf b">useContext</code>。<code class="fe mp mq mr mf b">useContext</code>接受我们创建的上下文。在这种情况下，我们的背景是<code class="fe mp mq mr mf b">newsContext</code>。然后，我们将上下文存储为<code class="fe mp mq mr mf b">NewsContext</code>。</p><p id="fe91" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们看看第8行到第10行。在那里，我们使用了<code class="fe mp mq mr mf b">useEffect</code>。我们使用<code class="fe mp mq mr mf b">useEffect</code>的方式在基于类的组件中充当<code class="fe mp mq mr mf b">ComponentDidMount</code>。当组件安装好后，我们执行代码<code class="fe mp mq mr mf b">NewsContext.getNews()</code>。记得我们已经在<strong class="jx iz">newstate . js</strong>文件的<code class="fe mp mq mr mf b">NewsContext.Provider</code>中添加了<code class="fe mp mq mr mf b">getNews</code>函数作为我们的<code class="fe mp mq mr mf b">value</code>。这个<code class="fe mp mq mr mf b">getNews</code>做的是，它从API获取新闻，然后将它添加到我们的状态中。</p><p id="cd40" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们看看第15行。我们已经为条件渲染编写了代码。如果<code class="fe mp mq mr mf b">NewsContext.news</code>存在，我们映射<code class="fe mp mq mr mf b">news</code>数组并将其呈现给DOM。记住<code class="fe mp mq mr mf b">news</code>是我们在<strong class="jx iz">newstate . js</strong>文件中的<code class="fe mp mq mr mf b">NewsContext.Provider</code>中定义的状态值。</p><p id="fd08" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在第20行，我们使用了<code class="fe mp mq mr mf b">onClick</code>事件监听器。当它被点击时，我们要求<code class="fe mp mq mr mf b">NewsContext</code>使用<code class="fe mp mq mr mf b">NewsContext.getDescription(news.id)</code>获取特定新闻Id的描述。记住<code class="fe mp mq mr mf b">getDescription</code>是我们在<strong class="jx iz">newstate . js</strong>文件中<code class="fe mp mq mr mf b">NewsContext.Provider</code>的<code class="fe mp mq mr mf b">value</code>中添加的功能。</p><p id="c4ad" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经处理了<strong class="jx iz"> NewsList.js </strong>文件，让我们打开文件<strong class="jx iz"> Description.js </strong>并编写以下代码行:</p><figure class="ma mb mc md gt ip"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="5e93" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们来看看这里发生了什么。我们这里进口了一些东西。在第1行，我们已经导入了<code class="fe mp mq mr mf b">useContext</code>和<code class="fe mp mq mr mf b">React</code>。在第3行，我们已经导入了<code class="fe mp mq mr mf b">newsContext</code>。</p><p id="b9ea" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">可以在第14行看到，我们使用了条件呈现。如果<code class="fe mp mq mr mf b">activeNews</code>存在，我们已经编写了代码来呈现<code class="fe mp mq mr mf b">activeNews</code>中存在的值。在第16行，我们使用<code class="fe mp mq mr mf b">activeNews.title</code>编写了显示新闻标题的代码。然后，在第19行，我们编写了代码，通过使用<code class="fe mp mq mr mf b">activeNews.user</code>显示作者的姓名。然后，在第20行，我们编写了代码来显示这篇文章使用<code class="fe mp mq mr mf b">activeNews.time_ago</code>发布的时间。然后在第21行，我们编写了代码，使用<code class="fe mp mq mr mf b">activeNews.comment.length</code>显示注释的数量。类似地，在第27行，我们使用<code class="fe mp mq mr mf b">activeNews.url</code>编写了代码来显示文章/新闻的URL。我们还使用了<code class="fe mp mq mr mf b">a</code>标签来指引我们的用户到那个URL。此外，在第32行，我们使用<code class="fe mp mq mr mf b">activeNews.points</code>编写了显示点的代码。</p><p id="96e1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有了这些，我们已经完成了我们的小型项目，并且学会了如何在功能组件中使用Context API。</p><p id="79de" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我建议您查看React的文档，以了解有关上下文API的更多信息。</p><h2 id="6544" class="ku kv iy bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated">进一步阅读</h2><div class="im in gp gr io mv"><a href="https://bit.cloud/blog/-extracting-and-reusing-pre-existing-components-using-bit-add-l28qlxpz" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iz gy z fp na fr fs nb fu fw ix bi translated">使用位添加提取和重用预先存在的组件</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">最后，您完成了在应用程序中为input创建一个出色的输入字段的任务。你对…很满意</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">bit.cloud</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj iu mv"/></div></div></a></div><p id="b4e3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">更多内容请看</em><a class="ae nk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="kt">plain English . io</em></strong></a><em class="kt">。报名参加我们的</em> <a class="ae nk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx iz"> <em class="kt">免费周报</em> </strong> </a> <em class="kt">。关注我们关于</em><a class="ae nk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="kt">Twitter</em></strong></a><a class="ae nk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="kt">LinkedIn</em></strong></a><strong class="jx iz"><em class="kt"/></strong><a class="ae nk" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="kt">YouTube</em></strong></a><strong class="jx iz"><em class="kt">，以及</em></strong><em class="kt"/><a class="ae nk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="kt">不和</em> </strong> </a>  <em class="kt">对成长黑客感兴趣？检查</em> <a class="ae nk" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx iz"> <em class="kt">电路</em> </strong> </a> <strong class="jx iz"> <em class="kt">。</em> </strong></p></div></div>    
</body>
</html>