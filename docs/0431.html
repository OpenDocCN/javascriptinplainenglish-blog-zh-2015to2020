<html>
<head>
<title>I was wrong about keys and collections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于钥匙和收藏我错了</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/i-was-wrong-about-react-keys-and-collections-7599f581b59f?source=collection_archive---------6-----------------------#2019-10-12">https://javascript.plainenglish.io/i-was-wrong-about-react-keys-and-collections-7599f581b59f?source=collection_archive---------6-----------------------#2019-10-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2755d7e104a0cae09526f745445b81b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qoqfVWF1WdWPyaN8-VMwMw.png"/></div></div></figure><p id="9a28" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">几乎每个React开发者都浏览过React网站上的主要概念文档。</p><p id="104f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你这样做了，你一定读过第八章，这是关于<strong class="jx io">列表和键(</strong>【https://reactjs.org/docs/lists-and-keys.html】<a class="ae kt" href="https://reactjs.org/docs/lists-and-keys.html" rel="noopener ugc nofollow" target="_blank">)<strong class="jx io">。</strong></a></p><p id="479b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你最终会明白，为了正确使用React中的列表，你需要在你的组件上使用一个<strong class="jx io">键</strong>。但是为什么呢？这里有一个简单的解释:</p><blockquote class="ku kv kw"><p id="92d6" class="jv jw kx jx b jy jz ka kb kc kd ke kf ky kh ki kj kz kl km kn la kp kq kr ks ig bi translated">关键字有助于识别哪些项目已经更改、添加或删除。应该给数组内部的元素赋予键，以给元素一个稳定的标识。</p></blockquote><p id="30b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那不是很容易吗？</p><figure class="lb lc ld le gt jo"><div class="bz fp l di"><div class="lf lg l"/></div></figure><p id="0bb6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在那一刻，如果你像我一样，你可能会简单地假设React会考虑<strong class="jx io">键</strong>来负责任地渲染。我的意思是，我的第一个想法是:</p><p id="8636" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">“好的，我需要它，因为它有意义，<strong class="jx io">如果我有一个很长的集合，并且我只需要修改其中的一个项目，React将简单地考虑使用<em class="kx">键</em>来只重新呈现那个项目</strong>”。这是你的想法吗？如果没有，那么很好，你是一个不简单假设事情的开发人员。</p><p id="dca4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我不知道如何解释我为什么做出这样的假设，但是通过和我的其他开发者朋友交谈，(我不是说这很好)我意识到他们也有同样的想法。为什么？因为原因。所以，如果你的假设和我的一样，请继续阅读。</p><h2 id="271d" class="lh li in bd lj lk ll dn lm ln lo dp lp kg lq lr ls kk lt lu lv ko lw lx ly lz bi translated">从我编造并相信的谎言中</h2><p id="6c9f" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">一旦您开始使用React，您可能会开始担心集合的性能。信不信由你，你会惊讶于这样一个事实:<strong class="jx io"> React将重新渲染整个集合，即使你只是改变了</strong>中的一个项目。不敢相信？参见下面的示例，添加几个todo项，然后打开控制台，摆弄这些todo项，您会发现，实际上，每当您对集合进行更改时，每个项都会重新呈现:</p><figure class="lb lc ld le gt jo"><div class="bz fp l di"><div class="mf lg l"/></div></figure><p id="eba2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我知道这对于一个有经验的react开发人员来说可能是显而易见的，但是你将会惊讶于相信我曾经相信的谎言的人的数量。</p><p id="1a4d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就是这样。我将在react学习之旅中撰写其他文章，敬请关注。感谢阅读。</p></div></div>    
</body>
</html>