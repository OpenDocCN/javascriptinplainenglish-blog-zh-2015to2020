# 让你的 JS 代码更具交流性的 5 个技巧

> 原文：<https://javascript.plainenglish.io/5-tips-to-make-your-javascript-code-more-communicative-ca5b846bdb7a?source=collection_archive---------7----------------------->

## JavaScript 中的软技能…

## 适用于初学者和专业编码人员

![](img/c7caa0d682e2156b85188099fac1bcb5.png)

Photo by [Safar Safarov](https://unsplash.com/@codestorm?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/javascript-code?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

# 学会处理胁迫的极端情况

> JavaScript 是互联网的胶带。
> 
> —查理·坎贝尔

## 1.对语言死角案例的深刻理解

人们讨厌 JavaScript 是因为边角案例吗？观察人们如何因为一些缺点而净化整个语言总是很有趣的。**所有编程语言都有类型转换**，所以**所有编程语言都有拐点**。**不可能设计出一个没有极限情况的系统。**

避免使用强制手段是一种糟糕的做法。抱歉说谎，无法逃避！不要用严格的等号(===)来假装忽略强制。归根结底，这是一种胁迫。开始研究规范，而不是看 YouTube 上关于如何跳过学习强制的教程。坐着学吧。我们应该学习那些角落案例，然后学习有效地管理和解决它们。

不要绞尽脑汁去想其他语言有没有角码，有多少。坐着数数简直天衣无缝。我们不能跨语言比较极限情况并得出结论。我会举一些最危险的例子:

如你所见，我们有**一堆编号为**的角箱。这里我们得到了一个空字符串的编号，这是最坏的情况。 *Null* 和 *undefined* 有一些奇怪的极端情况，但远没有空字符串那么糟糕。很多虚假的值变成了数字，这并不理想。但是，如果可以用空字符串修复这种情况，那么空字符串不会强制转换为数字，**我们将修复大多数这种情况**。

最后但同样重要的是。我们有一个吸引人的布尔角案例。我在一个开发者博客中发现了这个例子，它引起了我的兴趣。在实践中你不会遇到这些情况，但是你可以试一试。如果你构造一个布尔对象的实例，并给它一个原始值 *false* ，它将表现得像真的一样。为什么会这样呢？原因很简单。我们没有对它使用 *ToPrimitive* 操作，但是我们检查这个例子是否在文档的 falsy 表中定义。

结论:**注意你是如何使用基本面对象的。**

## 2.JavaScript 强制最邪恶的部分

JavaScript 不是一种理想的语言，但是如果我们能解决一件事，大多数的困境都会消失。

猜测，是空字符串的问题。但是，不仅空字符串变为零，而且包含空格的字符串也变为零。为什么会这样呢？当我们进行两个数的运算时，引擎首先删除字符串前后的所有空格，然后进行强制转换。所以包含空格的字符串变成了空字符串，剩下的你就知道了。

我来看一下例子，这样你就可以形成一个正确的思维模式:

一个重要的注意事项:**我们必须意识到还有一些不明显的极限情况，因为它们不是普通操作的一部分。**

让我们检查下一个案例:

在对布尔进行数值化的情况下，我们有了一个新的疏忽。从这个操作中返回 *0* 和 *1* 是个坏主意。你认为我疯了，但我会告诉你为什么这是一个错误的举动。让我们看看例子:

让我们做一些数学。在第一行，我们有一个表达式来检查 *1* 是否小于 *2* 。我们都知道这是*真实的*，而 JS 现在也是这样。第二行代码也返回 *true* 。

第三行令人激动。如果我们决定测试 *1* 是否小于 *2* 小于 *3* ，我们得到*真*，这是正确的结果。在这种情况下，**事情偶然发生**。我将给出另一个例子，并尽可能地清晰明了:

某事是如何偶然发生的？我将强制分为三个独立的过程。在第一个过程中，我们检查 *1* 是否小于 *2* ，返回*真*。没关系。下一步，我们有*真*小于 *3* 。因为我们使用非数字( *true* )和一个运算符( *<* )，所以它将强制转换为数字。

至少，也是最重要的一步，我们有了比 *3* 少的 *1* (之前从布尔值强制转换为数字)。看，正确的结果是偶然的。**好的建议是不要碰运气。在前面的例子中，我们很幸运，但这个例子呢:**

前两行有预期的结果。第三行有问题。表达式返回了 *false* (这是错误的)。与上一个示例相同，我将把它分成三个独立的过程:

第一步，我们比较 *3* 是否大于 *2* ，返回*真值*。第二步，我们比较*真*和 *1* 。布尔值( *true* )将强制转换为一个数字( *1* )，因此在第三步中，我们对两个相同的值进行比较。 *1* 不大于 *1* ，所以将返回*假*。

如你所见，这是一种错误的系统设计方法。将布尔函数的数字强制转换为 *NaN* 可能是一个更好的解决方案。

结论:**布尔人隐式地强迫自己使用数字是错误的。这是 20 世纪 70 年代的一种编程风格，他们将一个布尔值强制转换成一个数字，然后用它进行数字运算。**

## 3.采纳这种编码风格及其优缺点

如你所见，这里有很多死角。我们来到一个十字路口，我们只能选择两条路:

1.  **避免整个机构绕过拐角情况**或
2.  **采用正确的编码风格，使我们的类型和价值更加明显**。

在我看来，**第二种方式更好**，我认为这是了解系统的唯一正确方式。JavaScript 社区如此深入，以至于他们开发了全新的类型系统，如 **TypeScript** 或 **Flow** 。没有人强迫你使用类型系统。采用正确的编码风格就够了**，让你的类型和价值观更加明显。**

以适当的方式使用 JavaScript 强制将使您的生活更加轻松，并且您的代码将变得更加整洁。您必须确保操作中涉及的类型是明确易懂的。

有时设计函数来做 10 件不同的事情是一个糟糕的做法，因为你有很多需要注意的死角。将你的功能设计得更明显、更易于管理，这是一个更可靠的解决方案。

例如，不要对数字和字符串使用同一个函数。写几个独立的函数，你就知道可能会出现哪些极端情况，以及如何处理它们。我们正在选择我们的代码如何管理我们的类型，以及如何处理多态、重载等等。

没有解决所有问题的唯一方法。你必须有创造力，并且理解这个系统。当谈到 JavaScript 时，我不是一个模式迷。

结论:**先学习系统，然后用你的创意让你的代码更明显。**

**动态打字不是语言的软肋。这是现实中最有效的品质。JavaScript 需求的主要原因之一是因为这种语言适用于如此多的不同用例。**

**JavaScript 是世界上第一种多范式语言。**多范式的力量在哪里？在于类型系统。

## 4.发展技能的文化

我经常很高兴有人说他们所学的一切都是无用的，尤其是当他们开始和低年级学生一起工作的时候。为什么会这样呢？因为大三学生永远不会理解那些概念。

这不是你对技术的经验(1 年、2 年、5 年或 10 年)的问题，这完全取决于你的心态和采用正确思维模式的方式。你可能或多或少了解一些技术(这里指的是 JS)，但这并不会让你变得愚蠢。理解系统并开始编写更好的代码和使用所有可用的工具取决于您和您的愿望。

你必须以适当的方式使用技术，编写更清晰、更易于理解的代码。通过遵循这个示例规则，其他同事(尤其是初级员工)误解代码库的机会就少了。

**代码评审是集思广益的好工具。**当有人不理解时，有一个完美的方法可以帮助他/她解决问题- **使用结对编程**。这些是帮助每个人学习技术如何工作的小技巧。

结论:**目标是一样的，因为我们走的是同一个方向。**

你的代码必须是一种交流的形式，并且有一种有效的方式来交流和很好地理解引擎的用例。如果你要求代码的读者理解一些关于工具的东西，并且他们能理解那行代码，那是他们的一部分投资。

你必须准备好投入时间学习新东西。像每个行业一样，它不是从宣布新技术、不同的编程技术等中释放出来的。

结论:**如果你不培养对某些部分的同情，那么避免这些部分是个糟糕的主意。JavaScript 中的部分就像每个人都试图回避的类型，聪明点，学着点，因为你会很快成为一个相关的因素。**

## 5.使用辅助补充剂

你有一些补充，如文档和其他符号标准，它们在改进代码交流过程中起着重要作用。代码库是机器的一部分食物，但人类呢？

使用补充作为交流思想的方式是代码库的一大进步。最常见的例子是使用代码注释。有人会告诉你，你不需要使用注释(代码已经足够简单了)。那么没有注释怎么能理解代码库呢？太难理解了，除了系统的创造者。

代码注释是解释代码的好方法。人们会说评论不好，因为它们暴露了弱点。主要问题是代码注释的**使用方式。人们**用评论来告诉‘代码是什么’**。那是错误的用法。**注释解释了为什么操作(代码块)在那里，以及(有时)如何执行。****

结论:**代码注释是有用的，但它不是我们必须使用的唯一工具。在编写代码时，不要忘记更加明确和精确。**