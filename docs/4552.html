<html>
<head>
<title>Getting Started with Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-next-js-3bcd4fb47007?source=collection_archive---------13-----------------------#2020-12-20">https://javascript.plainenglish.io/getting-started-with-next-js-3bcd4fb47007?source=collection_archive---------13-----------------------#2020-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6e6a452b7461e80c78ab7c9020c00267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IOUZz-Xk4imdw0yz"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@alexb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alex Blăjan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="59e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以轻松地创建服务器端呈现的React应用程序和静态站点。</p><p id="b37f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何开始使用Next.js。</p><h1 id="5671" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">入门指南</h1><p id="4cd3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用提供的命令行程序创建Next.js项目。</p><p id="cb10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要创建项目，我们只需运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6ff5" class="mn lc iq mj b gy mo mp l mq mr">npx create-next-app</span></pre><p id="1e83" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="18c6" class="mn lc iq mj b gy mo mp l mq mr">yarn create next-app</span></pre><p id="2a92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">来创建我们的项目。</p><p id="15d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，为了启动开发服务器，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="3411" class="mn lc iq mj b gy mo mp l mq mr">npm run dev</span></pre><p id="8a33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们去<a class="ae kc" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>和我们的app。</p><p id="6d05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以在<code class="fe ms mt mu mj b">pages</code>文件夹中创建一个组件来添加我们的页面。</p><p id="ff6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们进入<code class="fe ms mt mu mj b">pages</code>文件夹，创建一个<code class="fe ms mt mu mj b">hello.js</code>文件并添加:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e8f2" class="mn lc iq mj b gy mo mp l mq mr">function Hello() {<br/>  return &lt;div&gt;hello world&lt;/div&gt;<br/>}</span><span id="0228" class="mn lc iq mj b gy mv mp l mq mr">export default Hello</span></pre><p id="ff48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">敬它。</p><p id="a083" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须记住导出组件，这样它就会被渲染。</p><p id="fec2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以去<a class="ae kc" href="http://localhost:3000/hello" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/hello</a>看看我们的页面。</p><p id="1080" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Next.js通过文件名自动路由，所以我们不必担心这个问题。</p><h1 id="03f6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">带有动态路线的页面</h1><p id="1e5b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们想创建带有动态路由的页面，我们只需将它们放在文件夹结构中，URL将遵循相同的结构。</p><p id="fef5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以创建一个<code class="fe ms mt mu mj b">posts</code>文件夹并创建我们的文件。</p><p id="1bbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe ms mt mu mj b">pages/posts</code>中创建<code class="fe ms mt mu mj b">1.js</code>并写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5723" class="mn lc iq mj b gy mo mp l mq mr">function Hello() {<br/>  return &lt;div&gt;hello 1&lt;/div&gt;<br/>}</span><span id="6f2b" class="mn lc iq mj b gy mv mp l mq mr">export default Hello</span></pre><p id="5f00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们在同一个文件夹中创建<code class="fe ms mt mu mj b">2.js</code>,并编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2015" class="mn lc iq mj b gy mo mp l mq mr">function Hello() {<br/>  return &lt;div&gt;hello 2&lt;/div&gt;<br/>}</span><span id="7e4b" class="mn lc iq mj b gy mv mp l mq mr">export default Hello</span></pre><p id="88ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么当我们转到http://localhost:3000/posts/1和<a class="ae kc" href="http://localhost:3000/posts/2," rel="noopener ugc nofollow" target="_blank">http://localhost:3000/posts/2、</a>的时候就会分别看到<code class="fe ms mt mu mj b">hello 1</code>和<code class="fe ms mt mu mj b">hello 2</code>。</p><h1 id="96fc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">预渲染</h1><p id="16e6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">默认情况下，Next.js会预先呈现每个页面。</p><p id="9df3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个页面的HTML都是预先创建的。</p><p id="9c25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这比在客户端渲染更有利于性能和SEO。</p><p id="ca25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些页面只附带它需要加载的JavaScript，以便它加载得更快。</p><p id="33f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有两种预渲染形式。</p><p id="e20c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个是静态生成，一个是服务器端渲染。</p><p id="3e8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">静态生成意味着HTML在构建时生成，并在每个请求中重用。</p><p id="1cde" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为它重用页面，这将是呈现页面的最快方式，所以这是推荐的选项。</p><p id="3c3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一个选项是服务器端呈现，它在每个请求中呈现HTML。</p><p id="6d71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以在两种类型的渲染中进行选择。</p><h1 id="d696" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数据静态生成</h1><p id="a3c7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用数据静态生成页面。</p><p id="f222" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以写:</p><p id="d589" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">pages/yesno.js</code></p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9404" class="mn lc iq mj b gy mo mp l mq mr">function YesNo({ data }) {<br/>  return &lt;p&gt;{data.answer}&lt;/p&gt;<br/>}</span><span id="94eb" class="mn lc iq mj b gy mv mp l mq mr">export async function getStaticProps() {<br/>  const res = await fetch('https://yesno.wtf/api')<br/>  const data = await res.json()<br/>  return {<br/>    props: {<br/>      data,<br/>    },<br/>  }<br/>}</span><span id="595d" class="mn lc iq mj b gy mv mp l mq mr">export default YesNo</span></pre><p id="eae5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe ms mt mu mj b">YesNo</code>组件创建了一个新的组件文件。</p><p id="5b66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">getStaticProps</code>函数从API异步获取数据。</p><p id="5b56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们通过返回一个在<code class="fe ms mt mu mj b">props</code>属性中有<code class="fe ms mt mu mj b">data</code>的对象来返回解析值。</p><p id="f25e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以从<code class="fe ms mt mu mj b">YesNo</code>组件中的道具获得数据。</p><p id="8596" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在JSX，我们展示了数据。</p><h1 id="7966" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b4f9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用Next.js创建页面，它可以很容易地显示静态内容或来自API的内容。</p><p id="17f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果是这样，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>