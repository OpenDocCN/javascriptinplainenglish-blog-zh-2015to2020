# ğŸ‘‰ä½ éœ€è¦ä¸ºä½ çš„ä¸‹ä¸€ä¸ªç½‘ç»œåº”ç”¨å°è¯• NextJS

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/next-javascript-app-just-try-it-8e74bf35e4a7?source=collection_archive---------1----------------------->

![](img/59ccbc6cd3a705fdcc79e0ecdf07abda.png)

NextJS æ˜¯ç”± [Zeit](https://zeit.co/) ä¸ºåˆ›å»º Web åº”ç”¨ç¨‹åºè€Œæ„å»ºçš„ä¸€ä¸ªä»¤äººæ•¬ç•çš„æ¡†æ¶ã€‚å®ƒæœ‰è®¸å¤šå¾ˆæ£’çš„ç‰¹æ€§å’Œä¼˜ç‚¹ï¼Œå¯ä»¥è®© NextJS æˆä¸ºæ‚¨æ„å»ºä¸‹ä¸€ä¸ª web åº”ç”¨ç¨‹åºçš„é¦–é€‰ã€‚

# NextJS çš„ä¸»è¦ç‰¹ç‚¹ã€‚çœ‹é‚£ä¸ªğŸ‘‡

*   **æœåŠ¡å™¨ç«¯æ¸²æŸ“**

åœ¨å°† HTML å‘é€åˆ°å®¢æˆ·ç«¯ä¹‹å‰ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯å‘ˆç° React ç»„ä»¶ã€‚

*   **è‡ªåŠ¨è·¯ç”±(åˆ›å»ºåŠ¨æ€é¡µé¢)**

ä»»ä½• URL éƒ½æ˜ å°„åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜ å°„åˆ°æ”¾åœ¨`pages`æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ‚¨ä¸éœ€è¦ä»»ä½•é…ç½®(å½“ç„¶ï¼Œæ‚¨æœ‰å®šåˆ¶é€‰é¡¹)ã€‚

*   **å•æ–‡ä»¶ç»„ä»¶**

ä½¿ç”¨ç”±åŒä¸€ä¸ªå›¢é˜Ÿæ„å»ºçš„å®Œå…¨é›†æˆçš„`styled-jsx`ï¼Œæ·»åŠ ç»„ä»¶èŒƒå›´å†…çš„æ ·å¼å¾ˆç®€å•ã€‚

*   **ç”Ÿæ€ç³»ç»Ÿå…¼å®¹æ€§**

Next.js ä¸ JavaScriptã€Node å’Œ React ç”Ÿæ€ç³»ç»Ÿçš„å…¶ä½™éƒ¨åˆ†é…åˆå¾—å¾ˆå¥½ã€‚

*   **è‡ªåŠ¨ä»£ç æ‹†åˆ†**

é¡µé¢åªå‘ˆç°ä»–ä»¬éœ€è¦çš„åº“å’Œ JavaScriptï¼Œä»…æ­¤è€Œå·²ã€‚Next.js åœ¨å‡ ä¸ªä¸åŒçš„èµ„æºä¸­è‡ªåŠ¨åˆ†è§£åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯ç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€æœ‰åº”ç”¨ç¨‹åºä»£ç çš„ JavaScript æ–‡ä»¶ã€‚

Next.js é€šè¿‡åˆ†æå¯¼å…¥çš„èµ„æºæ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚

*   **é¢„å–**

ç”¨äºé“¾æ¥ä¸åŒé¡µé¢çš„`Link`ç»„ä»¶æ”¯æŒä¸€ä¸ª`prefetch`é“å…·ï¼Œç”±**åœ¨åå°è‡ªåŠ¨é¢„å–é¡µé¢èµ„æº**(åŒ…æ‹¬ä»£ç æ‹†åˆ†å¯¼è‡´çš„ä»£ç ç¼ºå¤±)**ã€‚**

*   **é™æ€å‡ºå£**

é™æ€å¯¼å‡º:ä½¿ç”¨`next export`ï¼Œä½ å¯ä»¥ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­å¯¼å‡ºä¸€ä¸ªå®Œå…¨é™æ€çš„ç«™ç‚¹ã€‚

*   **æ”¯æŒæ‰“å­—ç¨¿**

Next.js æ˜¯ç”¨ TypeScript ç¼–å†™çš„ï¼Œå› æ­¤å…·æœ‰å‡ºè‰²çš„ **TypeScript** æ”¯æŒ:)

*   **AMP é¡µé¢**

æ˜¯å•Šï¼Next.js æ”¯æŒæ··åˆé¡µé¢å’Œä»…æ”¯æŒ[å’Œ](https://amp.dev/)é¡µé¢(ç¡®ä¿æ‚¨ä½¿ç”¨çš„æ˜¯ Next.js 8.1 æˆ–æ›´æ–°ç‰ˆæœ¬)

# NextJS vs React

NextJS æ˜¯ React æ¡†æ¶ã€‚React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„åº“ã€‚NextJS ä½¿ç”¨ Reactï¼Œè¿™æ˜¯ä¸€ä¸ªæœåŠ¡å™¨æ¸²æŸ“ React åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚

NextJS æ‰€åšçš„æ˜¯åœ¨æœåŠ¡å™¨ä¸Šæ¸²æŸ“ React åº”ç”¨(SSR)ã€‚

**ä¸¤ä¸ªçœŸçš„æ²¡æ³•æ¯”ï¼Œå› ä¸º NextJS çš„ wraps æœ‰ååº”ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸€èµ·å·¥ä½œçš„ã€‚**

å®ƒæä¾›äº†ä¸€ä¸ªé€šç”¨çš„ç»“æ„ï¼Œå…è®¸æ‚¨è½»æ¾åœ°æ„å»ºä¸€ä¸ªå‰ç«¯ React åº”ç”¨ç¨‹åºï¼Œå¹¶é€æ˜åœ°ä¸ºæ‚¨å¤„ç†æœåŠ¡å™¨ç«¯å‘ˆç°ã€‚

# å¦‚ä½•å®‰è£… Next.jsï¼Ÿ

æˆ‘ä»¬ç°åœ¨å¯ä»¥é€‰æ‹©ä¸¤æ¡è·¯çº¿:ä½¿ç”¨`create-next-app`æˆ–ç»å…¸æ–¹æ³•ï¼ŒåŒ…æ‹¬[æ‰‹åŠ¨å®‰è£…å’Œè®¾ç½® NextJS åº”ç”¨](https://nextjs.org/docs#quick-start)ã€‚

å¦‚æœä½ ç†Ÿæ‚‰`[create-react-app](https://flaviocopes.com/react-create-react-app/)` , `create-next-app`ä¹Ÿæ˜¯ä¸€æ ·çš„â€”â€”åªä¸è¿‡å®ƒåˆ›å»ºçš„æ˜¯ Next åº”ç”¨ï¼Œè€Œä¸æ˜¯ React åº”ç”¨ã€‚

```
**npx create-next-app**
```

![](img/7b694d5fefd36bf84a7dc92285c516c3.png)

NextJS CLI

å‘½ä»¤è¯¢é—® app åç§°ï¼Œç„¶å**ä¸ºä½ æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹**ï¼Œç„¶åä¸‹è½½**å®ƒéœ€è¦çš„æ‰€æœ‰åŒ…** (reactï¼Œreact-domï¼Œnext)ï¼Œç…§å¸¸å®‰è£… package.jsonã€‚

![](img/6e0f901f10381b00b075800d6a6d629d.png)

æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ`npm run dev`ç«‹å³è¿è¡Œç¤ºä¾‹åº”ç”¨ç¨‹åº

![](img/1137f9489ee6479e7c1d6ddb4678af97.png)

**è¿™æ˜¯å¯åŠ¨ Next.js åº”ç”¨ç¨‹åºçš„æ¨èæ–¹å¼ï¼Œå› ä¸ºå®ƒä¸ºæ‚¨æä¾›äº†å¯ä»¥ä½¿ç”¨çš„ç»“æ„å’Œç¤ºä¾‹ä»£ç ã€‚**

ä¸ä»…ä»…æ˜¯é»˜è®¤ç¤ºä¾‹åº”ç”¨ç¨‹åºã€‚

æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`--example`é€‰é¡¹ä½¿ç”¨å­˜å‚¨åœ¨[https://github.com/zeit/next.js/tree/canary/examples](https://github.com/zeit/next.js/tree/canary/examples)çš„ä»»ä½•ç¤ºä¾‹

# **SSR çœŸçš„èµ·ä½œç”¨äº†**

å¦‚æœæˆ‘ä»¬ä½¿ç”¨ Next.js åˆ›å»ºä¸€ä¸ªç«™ç‚¹ï¼Œç«™ç‚¹é¡µé¢å°±ä¼šå‘ˆç°åœ¨æœåŠ¡å™¨ä¸Šï¼ŒæœåŠ¡å™¨å°† HTML ä¼ é€’ç»™æµè§ˆå™¨ã€‚

è®©æˆ‘ä»¬ç¡®è®¤ä¸€ä¸‹ã€‚

åªéœ€æŸ¥çœ‹åº”ç”¨ç¨‹åºçš„æºä»£ç ã€‚ä½¿ç”¨ **Chrome** ä½ å¯ä»¥**å³å‡»é¡µé¢ä¸Šçš„ä»»æ„ä½ç½®**ï¼ŒæŒ‰**æŸ¥çœ‹é¡µé¢æºä»£ç **ã€‚

![](img/780bc4f33520935c5eb1a90188cc6bd3.png)

æˆ‘ä»¬ä¸éœ€è¦è®¾ç½®ä»»ä½•ä¸œè¥¿ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“å·²ç»ä¸ºæˆ‘ä»¬å·¥ä½œäº†ã€‚é™¤ééœ€è¦ï¼Œå¦åˆ™ä¸é…ç½®ã€‚è‡ªåŠ¨çƒ­ä»£ç é‡è½½ï¼Œé”™è¯¯æŠ¥å‘Šï¼Œæºä»£ç æ˜ å°„ï¼Œä¸ºæ—§æµè§ˆå™¨ç¿»è¯‘ã€‚

# åªæœ‰ JavaScriptã€‚ä¸€åˆ‡éƒ½æ˜¯å‡½æ•°

Next.js ä¸­çš„æ¯ä¸ªè·¯ç”±éƒ½æ˜¯ä¸€ä¸ª ES6 æ¨¡å—ï¼Œå®ƒå¯¼å‡ºä¸€ä¸ªä»`React.Component`æ‰©å±•è€Œæ¥çš„å‡½æ•°æˆ–ç±»ã€‚

ä¸ç±»ä¼¼çš„æ¨¡å‹ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºæ‚¨çš„æ•´ä¸ªç³»ç»Ÿä¿æŒäº†é«˜åº¦çš„å¯ç»„åˆæ€§å’Œå¯æµ‹è¯•æ€§ã€‚

> ä¾‹å¦‚ï¼Œç»„ä»¶å¯ä»¥ç›´æ¥å‘ˆç°ï¼Œæˆ–è€…ç”±å¦ä¸€ä¸ªé¡¶çº§ç»„ä»¶å¯¼å…¥å’Œå‘ˆç°ã€‚

æˆ‘ä»¬è¿˜å†³å®šé‡‡ç”¨ CSS-in-JSã€‚

![](img/f66b2ccb9e4cc684ecf9abbde2ef938b.png)

# è‡ªåŠ¨æœåŠ¡å™¨æ¸²æŸ“å’Œä»£ç åˆ†å‰²

ä¸¤é¡¹ä»»åŠ¡æ˜¯æœ€ç†æƒ³çš„:

*   æœåŠ¡å™¨ç«¯æ¸²æŸ“
*   å°†ä½ çš„åº”ç”¨åˆ†æˆæ›´å°çš„åŒ…

ä½¿ç”¨ Next.jsï¼Œ`pages/`ä¸­çš„æ¯ä¸ªç»„ä»¶éƒ½ä¼šè‡ªåŠ¨è·å¾—æœåŠ¡å™¨æ¸²æŸ“ï¼Œå¹¶ä¸”å®ƒä»¬çš„è„šæœ¬ä¼šè¢«å†…è”ã€‚

å½“ä¸€ä¸ªç»„ä»¶é€šè¿‡`<Link prefetch />`æˆ–[è·¯ç”±å™¨](https://github.com/zeit/next.js/blob/master/readme.md#routing)åŠ¨æ€åŠ è½½æ—¶ï¼Œæˆ‘ä»¬è·å–ä¸€ä¸ªåŸºäº JSON çš„é¡µé¢è¡¨ç¤ºï¼Œå…¶ä¸­åŒæ ·åŒ…å«å®ƒçš„è„šæœ¬ã€‚

è¿™æ„å‘³ç€æŸä¸ªé¡µé¢å¯èƒ½æœ‰ä¸€ä¸ªå¹¿æ³›çš„å¯¼å…¥åˆ—è¡¨ã€‚

![](img/79b0e4bfccb6606fcf3ec0592eb17f7e.png)

# æ•°æ®è·å–å–å†³äºå¼€å‘äººå‘˜

é™æ€ JSX çš„æœåŠ¡å™¨æ¸²æŸ“æ˜¯ä¸€é¡¹é‡è¦çš„æˆå°±ï¼Œä½†æ˜¯ç°å®ä¸–ç•Œçš„åº”ç”¨ç¨‹åºéœ€è¦å¤„ç†æ¥è‡ªä¸åŒ API è°ƒç”¨å’Œç½‘ç»œè¯·æ±‚çš„åŠ¨æ€æ•°æ®ã€‚

Next.js å¯¹ React çš„ç»„ä»¶å¥‘çº¦åšäº†ä¸€ä¸ªéå¸¸é‡è¦çš„æ‰©å±•:`getInitialProps`ã€‚

è·å–ä¸€äº›æ•°æ®çš„é¡µé¢å¦‚ä¸‹æ‰€ç¤º

![](img/622ae2c7f72233042b99198f8124a888.png)

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œè¿™ä¸ªå¥‘çº¦éå¸¸ç®€å•ï¼Œè€Œä¸”æ²¡æœ‰ç»ˆç»“:`getInitialProps`å¿…é¡»è¿”å›ä¸€ä¸ª`Promise`ï¼Œå®ƒè§£æä¸ºä¸€ä¸ªâ€œJavaScriptâ€å¯¹è±¡ï¼Œç„¶åè¿™ä¸ªå¯¹è±¡å¡«å……ç»„ä»¶çš„`props`ã€‚

> è¿™ä½¿å¾— Next.js å¯ä»¥å¾ˆå¥½åœ°ä¸ REST APIsã€GraphQL ç”šè‡³å…¨å±€çŠ¶æ€ç®¡ç†åº“ Redux é…åˆä½¿ç”¨ã€‚

# ç®€å•éƒ¨ç½²

éƒ¨ç½²ä¸€ä¸ª Next.js åº”ç”¨ç¨‹åºæ‰€è¦åšçš„å°±æ˜¯è¿è¡Œ`next build`ï¼Œç„¶åè¿è¡Œ`next start`ã€‚

![](img/c9645c38c1bce9df282ec9dc0f84ed50.png)

> åœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒåœ¨çµæ´»æ€§å’Œæ™ºèƒ½é»˜è®¤ä¹‹é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡ï¼Œä½†å®ƒè‚¯å®šä¸æ˜¯æ‰€æœ‰é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

# æ¨è

[](https://zeit.co/blog/next) [## Next.js

### æˆ‘ä»¬éå¸¸è‡ªè±ªèƒ½å¤Ÿå¼€æº Next.jsï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºæœåŠ¡å™¨æ¸²æŸ“çš„é€šç”¨ JavaScript webapps çš„å°å‹æ¡†æ¶ï¼Œæ„å»ºäºâ€¦

zeit.co](https://zeit.co/blog/next) [](https://flaviocopes.com/react-create-react-app/) [## åˆ›å»º-ååº”-åº”ç”¨ç®€ä»‹

### create-react-app æ˜¯å¯åŠ¨ react åº”ç”¨ç¨‹åºæœ€ç®€å•çš„æ–¹æ³•

flaviocopes.com](https://flaviocopes.com/react-create-react-app/) [](https://www.freecodecamp.org/news/the-next-js-handbook/) [## Next.js æ‰‹å†Œ

### æˆ‘å†™è¿™ç¯‡æ•™ç¨‹æ˜¯ä¸ºäº†å¸®åŠ©ä½ å¿«é€Ÿå­¦ä¹  Next.jsï¼Œç†Ÿæ‚‰å®ƒçš„å·¥ä½œåŸç†ã€‚å®ƒéå¸¸é€‚åˆä½ ï¼Œå¦‚æœä½ â€¦

www.freecodecamp.org](https://www.freecodecamp.org/news/the-next-js-handbook/) [](https://blog.logrocket.com/next-js-vs-create-react-app/) [## Next.js vs. Create React App:è°çš„ App æ€§èƒ½æ›´å¥½ï¼Ÿ- LogRocket åšå®¢

### æˆ‘ä»¬å°† Next.js ä¸ Create React åº”ç”¨ç¨‹åºæ”¾åœ¨ä¸€èµ·ï¼Œä»¥è§£å†³ SSR æ˜¯å¦æ¯” CSR æ›´é«˜æ•ˆçš„é—®é¢˜â€¦

blog.logrocket.com](https://blog.logrocket.com/next-js-vs-create-react-app/)