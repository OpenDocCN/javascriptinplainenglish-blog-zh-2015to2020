<html>
<head>
<title>The setTimeout and setInterval methods in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的setTimeout和setInterval方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-settimeout-and-setinterval-methods-in-javascript-2ce3cc21aec?source=collection_archive---------5-----------------------#2020-12-03">https://javascript.plainenglish.io/the-settimeout-and-setinterval-methods-in-javascript-2ce3cc21aec?source=collection_archive---------5-----------------------#2020-12-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/08551c291ce9ec475ad4800c75da669a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I1dG3rX351QjqBpV"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@veri_ivanova?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Veri Ivanova</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8934" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">setTimeout()方法</h1><p id="e352" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated"><code class="fe lw lx ly lz b">setTimeout()</code>方法在以毫秒为单位的指定时间后调用函数。该方法将函数作为第一个参数，以毫秒为单位的时间作为第二个参数。您可以在函数体中编写您的逻辑，该函数体将在您指定的时间后执行。</p><p id="9118" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">例如:5秒后显示警告框。</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="181c" class="mn kb in lz b gy mo mp l mq mr">setTimeout(()=&gt; {<br/>    alert('Message after 5 seconds');<br/>}, 5000);</span></pre><p id="6c2c" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">要取消计时器，您可以首先将计时器存储在一个变量中，并通过将计时器作为参数传递来调用<code class="fe lw lx ly lz b">clearTimeout()</code>函数。</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="f79e" class="mn kb in lz b gy mo mp l mq mr">var<!-- --> <!-- -->timer = setTimeout(()=&gt; {<br/>    alert('Message after 5 seconds');<br/>}, 5000);</span><span id="befa" class="mn kb in lz b gy ms mp l mq mr">clearTimeout(timer);</span></pre><h1 id="4d8f" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">setInterval()方法</h1><p id="e676" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated"><code class="fe lw lx ly lz b">setInterval()</code>方法以毫秒为单位的指定时间间隔调用一个函数。它以函数和时间(毫秒)作为参数。</p><p id="f445" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">比如:每秒打印一个随机数。</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="02e0" class="mn kb in lz b gy mo mp l mq mr">setInterval(() =&gt; {<br/>    console.log(Math.random());<br/>}, 1000);</span></pre><p id="d68e" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">要取消间隔，可以先将间隔存储在一个变量中，并通过将间隔作为参数传递来调用<code class="fe lw lx ly lz b">clearInterval()</code>函数。</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="6630" class="mn kb in lz b gy mo mp l mq mr">var<!-- --> <!-- -->interval = setInterval(() =&gt; {<br/>    console.log(Math.random());<br/>}, 1000);</span><span id="ecf4" class="mn kb in lz b gy ms mp l mq mr">clearInterval(interval);</span></pre><h1 id="c817" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">创建一个运行时钟计时器</h1><p id="f06a" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">要创建一个运行的时钟，我们需要借助<code class="fe lw lx ly lz b">setInterval()</code>方法和<code class="fe lw lx ly lz b">Date</code>对象。我们可以通过创建一个新的<code class="fe lw lx ly lz b">Date</code>对象来获得当前时间。</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="6f30" class="mn kb in lz b gy mo mp l mq mr">new<!-- --> <!-- -->Date().toLocaleTimeString(); // <!-- -->6:30:49 PM</span></pre><p id="241c" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">一旦我们创建了一个<code class="fe lw lx ly lz b">Date</code>对象，它会给我们当前时间的日期信息，它不会随着时间的推移而改变它的值。所以我们每次都需要创建一个新的对象来获取最新的日期和时间。</p><p id="592d" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">对于这个例子，我们将每秒创建一个新的<code class="fe lw lx ly lz b">Date</code>对象并打印出来。</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="f4f0" class="mn kb in lz b gy mo mp l mq mr">var<!-- --> <!-- -->date = setInterval(() =&gt; {<!-- --> <br/>   <!-- -->console.log(new<!-- --> <!-- -->Date().toLocaleTimeString());<br/>}, 1000);</span></pre><p id="8074" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">要在网页上显示正在运行的时钟计时器，可以在HTML中创建一个<code class="fe lw lx ly lz b">div</code>元素，并用每秒的最新时间设置它的<code class="fe lw lx ly lz b">innerHTML</code>。</p><p id="e4af" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated"><strong class="la io"> HTML </strong></p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="309d" class="mn kb in lz b gy mo mp l mq mr">&lt;div<!-- --> <!-- -->id="time"&gt; &lt;/div&gt;</span></pre><p id="d2ea" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated"><strong class="la io"> JavaScript </strong></p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="4e83" class="mn kb in lz b gy mo mp l mq mr">var<!-- --> <!-- -->date = setInterval(() =&gt; {<br/>  const element = document.getElementById('time');<br/>  element.innerHTML = new Date().toLocaleTimeString();<br/>}, 1000);</span></pre></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><h1 id="72c4" class="ka kb in bd kc kd na kf kg kh nb kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx bi translated">你可能也喜欢</h1><ul class=""><li id="26a9" class="nf ng in la b lb lc lf lg lj nh ln ni lr nj lv nk nl nm nn bi translated"><a class="ae jz" href="https://jscurious.com/javascript-array-foreach-method-to-loop-through-an-array/" rel="noopener ugc nofollow" target="_blank"> JavaScript Array forEach()方法循环遍历数组</a></li><li id="b91f" class="nf ng in la b lb no lf np lj nq ln nr lr ns lv nk nl nm nn bi translated"><a class="ae jz" href="https://jscurious.com/20-javascript-shorthand-techniques-that-will-save-your-time/" rel="noopener ugc nofollow" target="_blank"> 20种节省您时间的JavaScript速记编码技术</a></li><li id="e350" class="nf ng in la b lb no lf np lj nq ln nr lr ns lv nk nl nm nn bi translated"><a class="ae jz" href="https://jscurious.com/callback-functions-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript中的回调函数</a></li></ul></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><p id="8e04" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated"><em class="nt">感谢您的宝贵时间</em> ☺️ <br/>更多网络开发博客，请访问<a class="ae jz" href="http://jscurious.com/" rel="noopener ugc nofollow" target="_blank">jscurious.com</a></p></div></div>    
</body>
</html>