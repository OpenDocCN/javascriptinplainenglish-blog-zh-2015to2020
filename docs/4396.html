<html>
<head>
<title>How To Create Horizontal + Vertical Scroll Shadows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建水平+垂直滚动阴影</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-horizontal-vertical-scroll-shadows-26aa7a7f00a0?source=collection_archive---------3-----------------------#2020-12-08">https://javascript.plainenglish.io/how-to-create-horizontal-vertical-scroll-shadows-26aa7a7f00a0?source=collection_archive---------3-----------------------#2020-12-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="65ab" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">用纯CSS还是用CSS + JavaScript</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1c42c25faa0e5935b3885b9bf3ab4ed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Pd-FY9wlKB8zRLm"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="91c6" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">我的旅程</h1><p id="f3c9" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">我第一次注意到gmail中的滚动阴影——当你向下滚动收件箱时，顶部工具栏上会出现一个小阴影，表明它下面有东西，因此是可滚动的。我喜欢这个。它巧妙地告诉用户，在当前的视窗中隐藏了一些东西，如果你向那个方向滚动，就会看到。我想为我的应用程序做一些类似的事情。</p><h1 id="50af" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">CSS滚动阴影</h1><p id="60e6" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">这种效果完全可以用CSS来实现。它包括多个相互叠加的背景图像。要实现一个单一的滚动阴影，你需要一个阴影和一个阴影覆盖。阴影是有可滚动内容时看到的阴影效果。当不再有可滚动内容时，阴影覆盖将覆盖前述阴影。与其他背景属性一起，垂直滚动阴影的CSS如下所示:</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="61ee" class="mm ku in mi b gy mn mo l mp mq">background-image: linear-gradient(to top, white, white),<br/>    linear-gradient(to top, white, white),<br/>    linear-gradient(to top, rgba(0, 0, 0, 0.25), rgba(255, 255, 255, 0)),<br/>    linear-gradient(to bottom, rgba(0, 0, 0, 0.25), rgba(255, 255, 255, 0));<br/>  background-position: bottom center, top center, bottom center, top center;<br/>  background-color: white;<br/>  background-repeat: no-repeat;<br/>  background-size: 100% 20px, 100% 20px, 100% 10px, 100% 10px;<br/>  background-attachment: local, local, scroll, scroll;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/9e06352b8d6d99d1c125012815eb87a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*6K3iTWPu5xOcpUsA9h5keg.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Vertical Scroll Shadow</figcaption></figure><p id="03b2" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mu lw lx ly mv ma mb mc mw me mf mg ig bi translated">如果你想要一个水平的滚动阴影，只需交换顶部，底部，高度和宽度变量。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="adc3" class="mm ku in mi b gy mn mo l mp mq">background-image: linear-gradient(to right, white, white),<br/>    linear-gradient(to right, white, white),<br/>    linear-gradient(to right, rgba(0, 0, 0, 0.25), rgba(255, 255, 255, 0)),<br/>    linear-gradient(to left, rgba(0, 0, 0, 0.25), rgba(255, 255, 255, 0));<br/>  background-position: left center, right center, left center, right center;<br/>  background-repeat: no-repeat;<br/>  background-color: white;<br/>  background-size: 20px 100%, 20px 100%, 10px 100%, 10px 100%;<br/>  background-attachment: local, local, scroll, scroll;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/6a44c087bd4e81d68e3074cba5feb7a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*OOEK0PjfiA3Mip6xb4uCgg.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Horizontal Scroll Shadow</figcaption></figure><p id="f986" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mu lw lx ly mv ma mb mc mw me mf mg ig bi translated">注意:如果你真的想要理解它的内部原理，使用不同颜色的线性渐变，这样你就可以直观地看到每个背景是如何影响整体效果的。</p><h1 id="4203" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Javascript滚动阴影</h1><p id="89f1" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">通过Javascript也可以达到同样的效果。通过监听滚动事件，您可以启用/禁用创建阴影的绝对定位的前的<em class="mx">和</em>后的<em class="mx">。使用React和<a class="ae ks" href="https://medium.com/javascript-in-plain-english/the-modern-way-to-style-with-styled-components-c3c51b750b5f" rel="noopener">样式的组件</a>，代码看起来会像这样，以达到相同的效果:</em></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="e1fb" class="mm ku in mi b gy mn mo l mp mq">const Shadow = styled.div`<br/>  position: relative;<br/>  border: 1px solid black;<br/>  ${props =&gt;<br/>    props.showStart<br/>      ? css`<br/>          ::before {<br/>            content: '';<br/>            position: absolute;<br/>            top: 0;<br/>            left: 0;<br/>            right: 0;<br/>            height: 10px;<br/>            background: linear-gradient(<br/>              to top,<br/>              rgba(255, 255, 255, 0),<br/>              rgba(0, 0, 0, 0.25)<br/>            );<br/>          }<br/>        `<br/>      : ''}<br/>  ${props =&gt;<br/>    props.showEnd<br/>      ? css`<br/>          ::after {<br/>            content: '';<br/>            position: absolute;<br/>            bottom: 0;<br/>            left: 0;<br/>            right: 0;<br/>            height: 10px;<br/>            background: linear-gradient(<br/>              to bottom,<br/>              rgba(255, 255, 255, 0),<br/>              rgba(0, 0, 0, 0.25)<br/>            );<br/>          }<br/>        `<br/>      : ''}<br/>`;</span><span id="058b" class="mm ku in mi b gy my mo l mp mq">const Container = styled.div`<br/>  height: 200px;<br/>  overflow: auto;<br/>`;</span><span id="ae2b" class="mm ku in mi b gy my mo l mp mq">const Content = styled.div`<br/>  padding: 10px 20px;<br/>`;</span><span id="1e07" class="mm ku in mi b gy my mo l mp mq">const VerticalJSScrollShadow = () =&gt; {<br/>  const [showStart, setShowStart] = React.useState(false);<br/>  const [showEnd, setShowEnd] = React.useState(false);<br/>  const ref = React.useRef();</span><span id="b13e" class="mm ku in mi b gy my mo l mp mq">  React.useEffect(() =&gt; {<br/>    const onScroll = () =&gt; {<br/>      const { scrollHeight = 0, scrollTop = 0, offsetHeight = 0 } =<br/>        ref.current || {};<br/>      setShowStart(scrollTop &gt; 0);<br/>      setShowEnd(scrollTop + offsetHeight &lt; scrollHeight);<br/>    };<br/>    onScroll();<br/>    const node = ref.current;<br/>    node.addEventListener('scroll', onScroll);<br/>    return () =&gt; {<br/>      node.removeEventListener('scroll', onScroll);<br/>    };<br/>  }, []);</span><span id="9011" class="mm ku in mi b gy my mo l mp mq">  return (<br/>    &lt;Shadow showEnd={showEnd} showStart={showStart}&gt;<br/>      &lt;Container ref={ref}&gt;<br/>        {Array.from(Array(20)).map((i, idx) =&gt; (<br/>          &lt;Content key={idx}&gt;{idx}&lt;/Content&gt;<br/>        ))}<br/>      &lt;/Container&gt;<br/>    &lt;/Shadow&gt;<br/>  );<br/>};</span></pre><p id="5914" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mu lw lx ly mv ma mb mc mw me mf mg ig bi translated">对于水平滚动阴影，可以通过使用左、右和宽度来实现类似的效果。参见<a class="ae ks" href="https://github.com/mjchang/medium/blob/master/scroll-shadow/src/HorizontalJSScrollShadow.js" rel="noopener ugc nofollow" target="_blank">此处的</a>了解完整实施。</p><h1 id="ce33" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">优点+缺点</h1><p id="87b4" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">鉴于这两种截然不同的选择创造了相同的效果，有一些小的重要差异。</p><p id="e10b" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mu lw lx ly mv ma mb mc mw me mf mg ig bi translated"><strong class="ln io">性能:</strong>CSS方法明显更好，因为它是通过一次渲染实现的，而Javascript方法需要多次渲染来设置<code class="fe mz na nb mi b">showStart</code>和<code class="fe mz na nb mi b">showEnd</code>状态。</p><p id="0c90" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mu lw lx ly mv ma mb mc mw me mf mg ig bi translated"><strong class="ln io">浏览器支持:</strong>CSS方法在Safari中不起作用(从Safari 14开始)。阴影会出现，但不会在滚动时消失。Javascript方法没有这个可支持性问题。</p><p id="cddf" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mu lw lx ly mv ma mb mc mw me mf mg ig bi translated"><strong class="ln io">开发:</strong>CSS方法比Javascript方法简单得多。CSS方法只需要设置背景样式，而Javascript方法需要refs、state和scroll监听器。</p></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="a219" class="kt ku in bd kv kw nj ky kz la nk lc ld jt nl ju lf jw nm jx lh jz nn ka lj lk bi translated">最后的想法</h1><p id="9a71" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在我的应用程序中，我最初选择了CSS方法。当我意识到Safari的问题时，我设计了Javascript方法的原型，但最终决定放弃它——少数Safari用户的需求不值得对所有用户造成性能影响。不管采用哪种方法，滚动阴影都是一种非常棒的视觉工具，可以帮助用户更好地浏览任何应用程序。</p></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="f7d6" class="kt ku in bd kv kw nj ky kz la nk lc ld jt nl ju lf jw nm jx lh jz nn ka lj lk bi translated">资源</h1><ul class=""><li id="e868" class="no np in ln b lo lp lr ls lu nq ly nr mc ns mg nt nu nv nw bi translated"><a class="ae ks" href="https://github.com/mjchang/medium/tree/master/scroll-shadow" rel="noopener ugc nofollow" target="_blank">本文Github回购</a></li><li id="2aa5" class="no np in ln b lo nx lr ny lu nz ly oa mc ob mg nt nu nv nw bi translated"><a class="ae ks" href="https://codesandbox.io/s/github/mjchang/medium/tree/master/scroll-shadow" rel="noopener ugc nofollow" target="_blank">本文的CodeSandbox】</a></li></ul></div></div>    
</body>
</html>