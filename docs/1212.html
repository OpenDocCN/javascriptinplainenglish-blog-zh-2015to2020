<html>
<head>
<title>7 JavaScript Utility Functions to Improve Your Efficiency</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7个JavaScript实用函数来提高您的效率</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-javascript-utility-functions-to-improve-your-efficiency-79d27132f186?source=collection_archive---------2-----------------------#2020-02-13">https://javascript.plainenglish.io/7-javascript-utility-functions-to-improve-your-efficiency-79d27132f186?source=collection_archive---------2-----------------------#2020-02-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9c66" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">检测浏览器，检测函数类型，将连字符大小写转换为字母大小写，删除字符串中的HTML标签，反转字符串，等等。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fd0e46a17eedf02c8aa0800d82914e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rCAQs8_QYBxKy_up"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@purzlbaum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">🇨🇭 Claudio Schwarz | @purzlbaum</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="9acf" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">检测浏览器</h1><p id="f75c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">不同浏览器有不同的<code class="fe mk ml mm mn b">navigator.useragent</code>。我们可以通过检查这个值来检测浏览器类型。</p><p id="586a" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">示例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/6bc4892d12e0736c8c962a5bfa00c5f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TR1EANwDT276XbWes63AGQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Chrome on Mac OS</figcaption></figure><p id="e432" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">结果上有一个<code class="fe mk ml mm mn b">'chrome'</code>字符串。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/53541bd147cde527d1f75872bdc66790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d72QKhvrTx8FpH0HA0Swcw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Firefox on Mac OS</figcaption></figure><p id="b120" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">结果上有一个<code class="fe mk ml mm mn b">'firefox'</code>字符串。</p><p id="fcfa" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">所以我们只需要检查<code class="fe mk ml mm mn b">navigator.useragent</code>中是否有浏览器品牌名称，然后就可以检测出浏览器类型。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h1 id="c32a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">检测函数类型</h1><p id="5c0b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">有两种类型的功能:</p><ul class=""><li id="49a6" class="mx my iq lq b lr mo lu mp lx mz mb na mf nb mj nc nd ne nf bi translated">运行时环境提供的本机函数。比如<code class="fe mk ml mm mn b">Array.isArray</code>、<code class="fe mk ml mm mn b">console.log</code>。</li><li id="d81c" class="mx my iq lq b lr ng lu nh lx ni mb nj mf nk mj nc nd ne nf bi translated">用户编写的函数</li></ul><p id="7f00" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">在一些复杂的情况下，您可能需要区分这两种类型的函数。</p><p id="09f5" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">那么我们如何在代码中区分这两种类型的函数呢？很简单，当转换成字符串时，它们有不同的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/fec4591fff769531c6a37288302dcea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CmveHaHp46qOvHLYApM4GA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Native Functions</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/dc2c6247554d88924e757a349894d1f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KNKfFKYP7hS7v2lm9WWetA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">user-written function</figcaption></figure><p id="d5c6" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">当我们将一个本地函数转换成一个字符串时，结果将总是包含<code class="fe mk ml mm mn b">native code</code>。</p><p id="579e" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">所以我们可以写这个函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h1 id="49c8" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">将母鸡转换成骆驼箱</strong></h1><p id="ffa8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">将<code class="fe mk ml mm mn b">hello-world</code>样式的字符串转换成<code class="fe mk ml mm mn b">helloWorld</code>样式的字符串是一个非常常见的需求。为此，我们可以使用正则表达式。</p><p id="d9a2" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">我们可以用<code class="fe mk ml mm mn b">/-(\w)/g</code>匹配<code class="fe mk ml mm mn b">—</code>之后的所有小写字母，然后用它的大写替换。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/177b2d1d45d605a1931f54160cfcad09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tGzD7YbH7skOCbIT3LgvRw.png"/></div></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h1 id="dc47" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">删除字符串中的HTML标记</h1><p id="17ec" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">出于安全原因，我们经常需要从字符串中移除HTML标签。通过一个简单的正则表达式，我们可以轻松完成这项任务。</p><pre class="kg kh ki kj gt no mn np nq aw nr bi"><span id="678f" class="ns kx iq mn b gy nt nu l nv nw"><strong class="mn ir">const</strong> stripHTMLTags = str =&gt; str.replace(/&lt;[^&gt;]*&gt;/g, '');</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/b807ea8a9580c0f0c8db56161681b059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3YtMVzKB_d4i6puqEgeGDw.png"/></div></div></figure><h1 id="7440" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">反转一根绳子</h1><p id="7213" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">反转字符串是一个常见要求。为此，我们可以将一个字符串拆分成一个数组，然后反转数组并将其连接起来。</p><pre class="kg kh ki kj gt no mn np nq aw nr bi"><span id="86d3" class="ns kx iq mn b gy nt nu l nv nw"><strong class="mn ir">const</strong> stripHTMLTags = str =&gt; str.replace(/&lt;[^&gt;]*&gt;/g, '');</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/d2f5527d5607b33d2744ff3aa040b78d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QacV-02eWUrJrYbC7QgTGQ.png"/></div></div></figure><h1 id="4e47" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">用逗号将数字格式化为字符串</h1><p id="3a3c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了让大数字更容易阅读，我们经常在数字中间加一些分隔符。</p><ul class=""><li id="820d" class="mx my iq lq b lr mo lu mp lx mz mb na mf nb mj nc nd ne nf bi translated"><code class="fe mk ml mm mn b">111111</code> = &gt; <code class="fe mk ml mm mn b">111,111</code></li><li id="2e6f" class="mx my iq lq b lr ng lu nh lx ni mb nj mf nk mj nc nd ne nf bi translated"><code class="fe mk ml mm mn b">123456789</code> = &gt; <code class="fe mk ml mm mn b">123,456,789</code></li></ul><p id="cb2a" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">通常，我们每三个数字加一个逗号。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/119090cb8c98614b73d9bfe38366cc70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LZP4Tc8eNIDYiDJZmkQsgQ.png"/></div></div></figure><h1 id="6c67" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">将字节单位转换为合理的单位</h1><p id="ef92" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在计算机内部，文件的大小通常以字节来衡量。但是如果它是一个很大的数字，它对人类来说是不可读的。</p><p id="3a1d" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mq lz ma mb mr md me mf ms mh mi mj ij bi translated">比如98223445B，当我们第一次看到这个数字的时候，很难有什么直观的感受。但是如果用93.7 MB，我们就很熟悉了。所以我们需要写一个函数，这个函数非常方便我们完成这个目标</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/e6e6fcfa52b0ea2c4eb76d46c3fc598f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oO_4Lgaa9GsJSErTh4TWBw.png"/></div></div></figure></div></div>    
</body>
</html>